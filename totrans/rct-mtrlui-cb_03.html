<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Drawers - A Place for Navigation Controls</h1>
                </header>
            
            <article>
                
<p class="mce-root"> In this chapter, you'll learn about the following recipes:</p>
<ul>
<li>Drawer types</li>
<li>Drawer item state</li>
<li>Drawer item navigation</li>
<li>Drawer sections</li>
<li>AppBar interaction</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Introduction</h1>
                </header>
            
            <article>
                
<p>Material-UI uses drawers to present the user with the main navigation of the app. The <kbd>Drawer</kbd><span> component acts like a physical drawer that can move out of view when it is not being used. </span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Drawer types</h1>
                </header>
            
            <article>
                
<p>There are three types of <kbd>Drawer</kbd> components that you'll use in your app, as follows:</p>
<ul>
<li><strong>Temporary</strong>: A transient drawer that closes when an action is taken.</li>
<li><strong>Persistent</strong>: A drawer that can be opened and stays open until explicitly closed.</li>
<li><strong>Permanent</strong>: A drawer that is always visible.</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<p>Let's say that you want to support different types of drawers in your app. You can control the <kbd>Drawer</kbd> component type using the <kbd>variant</kbd> property. Here's the code:</p>
<pre>import React, { useState } from 'react';<br/><br/>import Drawer from '@material-ui/core/Drawer';<br/>import Grid from '@material-ui/core/Grid';<br/>import Button from '@material-ui/core/Button';<br/>import List from '@material-ui/core/List';<br/>import ListItem from '@material-ui/core/ListItem';<br/>import ListItemIcon from '@material-ui/core/ListItemIcon';<br/>import ListItemText from '@material-ui/core/ListItemText';<br/><br/>export default function DrawerTypes({ classes, variant }) {<br/>  const [open, setOpen] = useState(false);<br/><br/>  return (<br/>    &lt;Grid container justify="space-between"&gt;<br/>      &lt;Grid item&gt;<br/>        &lt;Drawer<br/>          variant={variant}<br/>          open={open}<br/>          onClose={() =&gt; setOpen(false)}<br/>        &gt;<br/>          &lt;List&gt;<br/>            &lt;ListItem<br/>              button<br/>              onClick={() =&gt; setOpen(false)}<br/>            &gt;<br/>              &lt;ListItemText&gt;Home&lt;/ListItemText&gt;<br/>            &lt;/ListItem&gt;<br/>            &lt;ListItem<br/>              button<br/>              onClick={() =&gt; setOpen(false)}<br/>            &gt;<br/>              &lt;ListItemText&gt;Page 2&lt;/ListItemText&gt;<br/>            &lt;/ListItem&gt;<br/>            &lt;ListItem<br/>              button<br/>              onClick={() =&gt; setOpen(false)}<br/>            &gt;<br/>              &lt;ListItemText&gt;Page 3&lt;/ListItemText&gt;<br/>            &lt;/ListItem&gt;<br/>          &lt;/List&gt;<br/>        &lt;/Drawer&gt;<br/>      &lt;/Grid&gt;<br/>      &lt;Grid item&gt;<br/>        &lt;Button onClick={() =&gt; setOpen(!open)}&gt;<br/>          {open ? 'Hide' : 'Show'} Drawer<br/>        &lt;/Button&gt;<br/>      &lt;/Grid&gt;<br/>    &lt;/Grid&gt;<br/>  );<br/>}</pre>
<p>The <kbd>variant</kbd> property defaults to <kbd>temporary</kbd>. When you first load this screen, you'll only see the button to toggle the drawer display:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/9d6c488b-915a-49f0-a0e2-164daaa0f241.png" style="width:8.08em;height:3.58em;"/></p>
<p>When you click on this button, you'll see a temporary drawer:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/31351208-3f04-4717-9dc1-a008497baef6.png" style="width:22.00em;height:9.00em;"/></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>Before you start changing the <kbd>variant</kbd> property, let's walk through the code in this example, starting with the <kbd>Drawer</kbd> markup, as follows:</p>
<pre>&lt;Drawer<br/>  variant={variant}<br/>  open={open}<br/>  onClose={() =&gt; setOpen(false)}<br/>&gt;<br/>  &lt;List&gt;<br/>    &lt;ListItem<br/>      button<br/>      onClick={() =&gt; setOpen(false)}<br/>    &gt;<br/>      &lt;ListItemText&gt;Home&lt;/ListItemText&gt;<br/>    &lt;/ListItem&gt;<br/>    &lt;ListItem<br/>      button<br/>      onClick={() =&gt; setOpen(false)}<br/>    &gt;<br/>      &lt;ListItemText&gt;Page 2&lt;/ListItemText&gt;<br/>    &lt;/ListItem&gt;<br/>    &lt;ListItem<br/>      button<br/>      onClick={() =&gt; setOpen(false)}<br/>    &gt;<br/>      &lt;ListItemText&gt;Page 3&lt;/ListItemText&gt;<br/>    &lt;/ListItem&gt;<br/>  &lt;/List&gt;<br/>&lt;/Drawer&gt;</pre>
<p class="mce-root">The <kbd>Drawer</kbd> component takes an <kbd>open</kbd> property, which displays the drawer when true. The <kbd>variant</kbd> property determines the type of drawer to render. The screenshot shown previously is a temporary drawer, the default variant value. The <kbd>Drawer</kbd> component has <kbd>List</kbd> as its child, where each of the items displayed in the drawer are rendered.</p>
<p>Next, let's take a look at the <kbd>Button</kbd> component that toggles the display of the <kbd>Drawer</kbd> component:</p>
<pre>&lt;Button onClick={() =&gt; setOpen(!open)}&gt;<br/>  {open ? 'Hide' : 'Show'} Drawer<br/>&lt;/Button&gt;</pre>
<p>When this button is clicked, the <kbd>open</kbd> state of your component is toggled. Likewise, the text of the button is toggled depending on the value of the <kbd>open</kbd> state.</p>
<p>Now let's try changing the value of the <kbd>variant</kbd> property to <kbd>permanent</kbd>. Here's what the drawer looks like when rendered:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/5f39ffc3-b127-46f2-8c84-f1e140add015.png" style="width:16.92em;height:6.83em;"/></p>
<p>A permanent drawer, as the name suggests, is always visible and is always in the same place on the screen. If you click on the <span class="packt_screen">SHOW DRAWER</span> button, the <kbd>open</kbd> state of your component is toggled to true. You'll see the text of the button change, but since the <kbd>Drawer</kbd> component is using the <kbd>permanent</kbd> variant, the <kbd>open</kbd> property has no effect:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/2ac0e855-67c2-43e3-988d-5b0773d3367a.png" style="width:43.33em;height:8.42em;"/></p>
<p>Next, let's try the <kbd>persistent</kbd> variant. Persistent drawers are similar to permanent drawers in that they stay visible on the screen while the user interacts with the app, and they're similar to temporary drawers in that they can be hidden by changing the <kbd>open</kbd> property.</p>
<p>Let's change the <kbd>variant</kbd> property to <kbd>persistent</kbd>. When the screen first loads, the drawer isn't visible because the <kbd>open</kbd> state of your component is <kbd>false</kbd>. Try clicking on the <span><span class="packt_screen">SHOW DRAWER</span></span> button. The drawer is displayed, and it looks like the permanent drawer. If you click the <span class="packt_screen">HIDE DRAWER</span> button, the <kbd>open</kbd> state of your component is toggled to <kbd>false</kbd> and the drawer is hidden.</p>
<p>Persistent drawers should be used when you want the user to be able to control the visibility of the drawer. For example, with temporary drawers the user can close the drawer by clicking on the overlay or by hitting the <em>Esc </em>key. Permanent drawers are useful when you want to use the left-hand navigation as an integral part of the page layout—they are always visible and other items are laid out around them.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>When you click on any of the items in the drawer, the event handlers set the <kbd>open</kbd> state of your component to <kbd>false</kbd>. This might not be what you want and could potentially confuse your users. For example, if you're using a persistent drawer, your app probably has a button outside of the drawer that controls the visibility of the drawer. If the user clicks on a drawer item, they're probably not expecting the drawer to close.</p>
<p class="mce-root"/>
<p class="mce-root"/>
<p>To address this issue, your event handlers can take into consideration a variant of the <kbd>Drawer</kbd> component:</p>
<pre>&lt;List&gt;<br/>  &lt;ListItem<br/>    button<br/>    onClick={() =&gt; setOpen(variant !== 'temporary')}<br/>  &gt;<br/>    &lt;ListItemText&gt;Home&lt;/ListItemText&gt;<br/>  &lt;/ListItem&gt;<br/>  &lt;ListItem<br/>    button<br/>    onClick={() =&gt; setOpen(variant !== 'temporary')}<br/>  &gt;<br/>    &lt;ListItemText&gt;Page 2&lt;/ListItemText&gt;<br/>  &lt;/ListItem&gt;<br/>  &lt;ListItem<br/>    button<br/>    onClick={() =&gt; setOpen(variant !== 'temporary')}<br/>  &gt;<br/>    &lt;ListItemText&gt;Page 3&lt;/ListItemText&gt;<br/>  &lt;/ListItem&gt;<br/>&lt;/List&gt;</pre>
<p>Now, when you click on any of these items, the <kbd>open</kbd> state is only changed to <kbd>false</kbd> if the <kbd>variant</kbd> property is <kbd>temporary</kbd>.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">See also</h1>
                </header>
            
            <article>
                
<ul>
<li><kbd>Drawer</kbd> demos: <a href="https://material-ui.com/demos/drawers/">https://material-ui.com/demos/drawers/</a></li>
<li><kbd>Drawer</kbd> API documentation: <a href="https://material-ui.com/api/drawer/">https://material-ui.com/api/drawer/</a></li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Drawer item state</h1>
                </header>
            
            <article>
                
<p>The items that are rendered in <kbd>Drawer</kbd> components are rarely static. Instead, the drawer items are rendered based on the state of your component, allowing for more control over how items are displayed.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<p>Let's say that you have a component that renders drawer navigation using the <kbd>Drawer</kbd> component. Instead of writing the <kbd>items</kbd> state directly in the component markup, you want to have the <kbd>items</kbd> state stored in the state of the component. For example, in response to permission checks on the user, items might be disabled or completely hidden.</p>
<p>Here's an example that uses an array of <kbd>item</kbd> objects from the component state:</p>
<pre>import React, { useState } from 'react';<br/><br/>import Drawer from '@material-ui/core/Drawer';<br/>import Grid from '@material-ui/core/Grid';<br/>import Button from '@material-ui/core/Button';<br/>import List from '@material-ui/core/List';<br/>import ListItem from '@material-ui/core/ListItem';<br/>import ListItemIcon from '@material-ui/core/ListItemIcon';<br/>import ListItemText from '@material-ui/core/ListItemText';<br/>import Typography from '@material-ui/core/Typography';<br/><br/>import HomeIcon from '@material-ui/icons/Home';<br/>import WebIcon from '@material-ui/icons/Web';<br/><br/>export default function DrawerItemState() {<br/>  const [open, setOpen] = useState(false);<br/>  const [content, setContent] = useState('Home');<br/>  const [items] = useState([<br/>    { label: 'Home', Icon: HomeIcon },<br/>    { label: 'Page 2', Icon: WebIcon },<br/>    { label: 'Page 3', Icon: WebIcon, disabled: true },<br/>    { label: 'Page 4', Icon: WebIcon },<br/>    { label: 'Page 5', Icon: WebIcon, hidden: true }<br/>  ]);<br/><br/>  const onClick = content =&gt; () =&gt; {<br/>    setOpen(false);<br/>    setContent(content);<br/>  };<br/><br/>  return (<br/>    &lt;Grid container justify="space-between"&gt;<br/>      &lt;Grid item&gt;<br/>        &lt;Typography&gt;{content}&lt;/Typography&gt;<br/>      &lt;/Grid&gt;<br/>      &lt;Grid item&gt;<br/>        &lt;Drawer open={open} onClose={() =&gt; setOpen(false)}&gt;<br/>          &lt;List&gt;<br/>            {items<br/>              .filter(({ hidden }) =&gt; !hidden)<br/>              .map(({ label, disabled, Icon }, i) =&gt; (<br/>                &lt;ListItem<br/>                  button<br/>                  key={i}<br/>                  disabled={disabled}<br/>                  onClick={onClick(label)}<br/>                &gt;<br/>                  &lt;ListItemIcon&gt;<br/>                    &lt;Icon /&gt;<br/>                  &lt;/ListItemIcon&gt;<br/>                  &lt;ListItemText&gt;{label}&lt;/ListItemText&gt;<br/>                &lt;/ListItem&gt;<br/>              ))}<br/>          &lt;/List&gt;<br/>        &lt;/Drawer&gt;<br/>      &lt;/Grid&gt;<br/><br/>      &lt;Grid item&gt;<br/>        &lt;Button onClick={() =&gt; setOpen(!open)}&gt;<br/>          {open ? 'Hide' : 'Show'} Drawer<br/>        &lt;/Button&gt;<br/>      &lt;/Grid&gt;<br/>    &lt;/Grid&gt;<br/>  );<br/>}</pre>
<p>This is what the drawer looks like when you click on the <span class="packt_screen">SHOW DRAWER</span> button:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/ca571334-0b02-485f-bb77-8c48a771ba1c.png" style="width:34.50em;height:10.67em;"/></p>
<p>If you select one of these items, the drawer will close and the content of the screen will be updated; for example, after clicking on <span class="packt_screen">Page 2</span>, you should see something similar to the following screenshot:</p>
<p class="mce-root CDPAlignCenter CDPAlign"><img src="assets/d23b7e85-7e2e-4b52-bcbf-80d90409243c.png" style="border: 1em solid black;text-align: center;width:22.50em;height:3.08em;"/></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>Let's start by looking at the state of your component:</p>
<pre>const [open, setOpen] = useState(false);<br/>const [content, setContent] = useState('Home');<br/>const [items] = useState([<br/>  { label: 'Home', Icon: HomeIcon },<br/>  { label: 'Page 2', Icon: WebIcon },<br/>  { label: 'Page 3', Icon: WebIcon, disabled: true },<br/>  { label: 'Page 4', Icon: WebIcon },<br/>  { label: 'Page 5', Icon: WebIcon, hidden: true }<br/>]);</pre>
<p>The <kbd>open</kbd> state controls the visibility of the <kbd>Drawer</kbd> component, and the <kbd>content</kbd> state is the text that's displayed on the screen depending on which drawer item is clicked on. The <kbd>items</kbd> state is an array of objects that is used to render the drawer items. Every object has a <kbd>label</kbd> property and an <kbd>Icon</kbd> property that are used to render the item text and icon respectively.</p>
<div class="packt_tip">The <kbd>Icon</kbd> property is capitalized in order to maintain the React convention of capitalizing components. This makes it easier to differentiate React components from other data when reading the code.</div>
<p>The <kbd>disabled</kbd> property is used to render the item as disabled; for example, <span class="packt_screen">Page 3</span> is marked as disabled by setting this property to <kbd>true</kbd>:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/fb518bc4-d0f0-4f9b-85d7-746bf7944c89.png" style="width:15.83em;height:3.33em;"/></p>
<p>This could be due to permission restrictions for the user on this particular page, or some other reason. Because this is controlled through the component state instead of rendered statically, you could update the <kbd>disabled</kbd> state for any menu item at any time using any mechanism that you like, such as an API call. The <kbd>hidden</kbd> property uses the same principle, except when this value is <kbd>true</kbd>, the item isn't rendered at all. In this example, <span class="packt_screen">Page 5</span> isn't rendered because it's marked as hidden.</p>
<p>Next, let's look at how the <kbd>List</kbd> items are rendered based on the <kbd>items</kbd> state, as follows:</p>
<pre>&lt;List&gt;<br/>  {items<br/>    .filter(({ hidden }) =&gt; !hidden)<br/>    .map(({ label, disabled, Icon }, i) =&gt; (<br/>      &lt;ListItem<br/>        button<br/>        key={i}<br/>        disabled={disabled}<br/>        onClick={onClick(label)}<br/>      &gt;<br/>        &lt;ListItemIcon&gt;<br/>          &lt;Icon /&gt;<br/>        &lt;/ListItemIcon&gt;<br/>        &lt;ListItemText&gt;{label}&lt;/ListItemText&gt;<br/>      &lt;/ListItem&gt;<br/>    ))}<br/>&lt;/List&gt;</pre>
<p>First, the <kbd>items</kbd> array is filtered to remove <kbd>hidden</kbd> items. Then, <kbd>map()</kbd> is used to render each <kbd>ListItem</kbd> component. The <kbd>disabled</kbd> property is passed to <kbd>ListItem</kbd> and it will be visibly disabled when rendered. The <kbd>Icon</kbd> component also comes from the list item state. The <kbd>onClick()</kbd> event handler hides the drawer and updates the <kbd>content</kbd> label.</p>
<div class="packt_tip">The <kbd>onClick()</kbd> handler isn't executed when disabled list items are clicked on.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>You might want to separate the rendering of list items into its own component. This way, you can use the list items in other places. For example, you might want to use the same rendering logic to render a list of buttons elsewhere in your app. Here's an example of how you can extract the <kbd>ListItems</kbd> component into its own component:</p>
<pre>const ListItems = ({ items, onClick }) =&gt;<br/>  items<br/>    .filter(({ hidden }) =&gt; !hidden)<br/>    .map(({ label, disabled, Icon }, i) =&gt; (<br/>      &lt;ListItem<br/>        button<br/>        key={i}<br/>        disabled={disabled}<br/>        onClick={onClick(label)}<br/>      &gt;<br/>        &lt;ListItemIcon&gt;<br/>          &lt;Icon /&gt;<br/>        &lt;/ListItemIcon&gt;<br/>        &lt;ListItemText&gt;{label}&lt;/ListItemText&gt;<br/>      &lt;/ListItem&gt;<br/>    ));</pre>
<p>The <kbd>ListItems</kbd> component will return an array of <kbd>ListItem</kbd> components. It takes the <kbd>items</kbd> state to render as an array property. It also takes an <kbd>onClick()</kbd> function property. This is a higher-order function that takes the <kbd>label</kbd> component to display as an argument and returns a new function that will update the content when the item is clicked on.</p>
<p>Here's what the new JSX markup looks like, updated to use the new <kbd>ListItems</kbd> component:</p>
<pre>&lt;Grid container justify="space-between"&gt;<br/>  &lt;Grid item&gt;<br/>    &lt;Typography&gt;{content}&lt;/Typography&gt;<br/>  &lt;/Grid&gt;<br/>  &lt;Grid item&gt;<br/>    &lt;Drawer open={open} onClose={() =&gt; setOpen(false)}&gt;<br/>      &lt;List&gt;<br/>        &lt;ListItems items={items} onClick={onClick} /&gt;<br/>      &lt;/List&gt;<br/>    &lt;/Drawer&gt;<br/>  &lt;/Grid&gt;<br/><br/>  &lt;Grid item&gt;<br/>    &lt;Button onClick={() =&gt; setOpen(!open)}&gt;<br/>      {open ? 'Hide' : 'Show'} Drawer<br/>    &lt;/Button&gt;<br/>  &lt;/Grid&gt;<br/>&lt;/Grid&gt;</pre>
<p>There is no more list item rendering code in this component. Instead, <kbd>ListItems</kbd> is rendered as the child of <kbd>List</kbd>. You pass it the items to render and the <kbd>onClick()</kbd> handler. You now have a generic <kbd>ListItems</kbd> component that can be used anywhere that you show lists in your app. It will consistently handle the <kbd>Icon</kbd>, <kbd>disabled</kbd>, and display logic wherever it is used.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">See also</h1>
                </header>
            
            <article>
                
<ul>
<li><kbd>Drawer</kbd> demos: <a href="https://material-ui.com/demos/drawers/">https://material-ui.com/demos/drawers/</a></li>
<li><kbd>Drawer</kbd> API documentation: <a href="https://material-ui.com/api/drawer/">https://material-ui.com/api/drawer/</a></li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Drawer item navigation</h1>
                </header>
            
            <article>
                
<p>If your Material-UI app uses a router such as <kbd>react-router</kbd> to navigate from page to page, you'll probably want links as your <kbd>Drawer</kbd> items. To do so, you have to integrate components from the <kbd>react-router-dom</kbd> package.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<p>Let's say that your app is composed of three pages. To navigate from page to page, you want to provide your users with links in the <kbd>Drawer</kbd> component. Here's what the code looks like:</p>
<pre>import React, { useState } from 'react';<br/>import { Route, Link } from 'react-router-dom';<br/><br/>import { withStyles } from '@material-ui/core/styles';<br/>import Drawer from '@material-ui/core/Drawer';<br/>import Grid from '@material-ui/core/Grid';<br/>import Button from '@material-ui/core/Button';<br/>import List from '@material-ui/core/List';<br/>import ListItem from '@material-ui/core/ListItem';<br/>import ListItemIcon from '@material-ui/core/ListItemIcon';<br/>import ListItemText from '@material-ui/core/ListItemText';<br/>import Typography from '@material-ui/core/Typography';<br/><br/>import HomeIcon from '@material-ui/icons/Home';<br/>import WebIcon from '@material-ui/icons/Web';<br/><br/>const styles = theme =&gt; ({<br/>  alignContent: {<br/>    alignSelf: 'center'<br/>  }<br/>});<br/><br/>function DrawerItemNavigation({ classes }) {<br/>  const [open, setOpen] = useState(false);<br/><br/>  return (<br/>    &lt;Grid container justify="space-between"&gt;<br/>      &lt;Grid item className={classes.alignContent}&gt;<br/>        &lt;Route<br/>          exact<br/>          path="/"<br/>          render={() =&gt; &lt;Typography&gt;Home&lt;/Typography&gt;}<br/>        /&gt;<br/>        &lt;Route<br/>          exact<br/>          path="/page2"<br/>          render={() =&gt; &lt;Typography&gt;Page 2&lt;/Typography&gt;}<br/>        /&gt;<br/>        &lt;Route<br/>          exact<br/>          path="/page3"<br/>          render={() =&gt; &lt;Typography&gt;Page 3&lt;/Typography&gt;}<br/>        /&gt;<br/>      &lt;/Grid&gt;<br/>      &lt;Grid item&gt;<br/>        &lt;Drawer<br/>          className={classes.drawerWidth}<br/>          open={open}<br/>          onClose={() =&gt; setOpen(false)}<br/>        &gt;<br/>          &lt;List&gt;<br/>            &lt;ListItem<br/>              component={Link}<br/>              to="/"<br/>              onClick={() =&gt; setOpen(false)}<br/>            &gt;<br/>              &lt;ListItemIcon&gt;<br/>                &lt;HomeIcon /&gt;<br/>              &lt;/ListItemIcon&gt;<br/>              &lt;ListItemText&gt;Home&lt;/ListItemText&gt;<br/>            &lt;/ListItem&gt;<br/>            &lt;ListItem<br/>              component={Link}<br/>              to="/page2"<br/>              onClick={() =&gt; setOpen(false)}<br/>            &gt;<br/>              &lt;ListItemIcon&gt;<br/>                &lt;WebIcon /&gt;<br/>              &lt;/ListItemIcon&gt;<br/>              &lt;ListItemText&gt;Page 2&lt;/ListItemText&gt;<br/>            &lt;/ListItem&gt;<br/>            &lt;ListItem<br/>              component={Link}<br/>              to="/page3"<br/>              onClick={() =&gt; setOpen(false)}<br/>            &gt;<br/>              &lt;ListItemIcon&gt;<br/>                &lt;WebIcon /&gt;<br/>              &lt;/ListItemIcon&gt;<br/>              &lt;ListItemText&gt;Page 3&lt;/ListItemText&gt;<br/>            &lt;/ListItem&gt;<br/>          &lt;/List&gt;<br/>        &lt;/Drawer&gt;<br/>      &lt;/Grid&gt;<br/>      &lt;Grid item&gt;<br/>        &lt;Button onClick={() =&gt; setOpen(!open)}&gt;<br/>          {open ? 'Hide' : 'Show'} Drawer<br/>        &lt;/Button&gt;<br/>      &lt;/Grid&gt;<br/>    &lt;/Grid&gt;<br/>  );<br/>}<br/><br/>export default withStyles(styles)(DrawerItemNavigation);</pre>
<p>When you first load the screen, you'll see the <span class="packt_screen">SHOW DRAWER</span> button and the home screen content:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/46804d4b-9540-467d-ae24-d84a125efcf1.png" style="width:39.58em;height:3.42em;"/></p>
<p>Here's what the drawer looks like when it's opened:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/2009526a-078d-4682-a60a-fdee2a67dcc0.png" style="width:15.50em;height:6.33em;"/></p>
<p>If you click on <span class="packt_screen">Page 2</span>, which points to <kbd>/page2</kbd>, the drawer should close and you should be taken to the second page. Here's what it looks like:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/f731a302-e6f9-4372-bd33-fcce103055b0.png" style="width:23.50em;height:3.17em;"/></p>
<p class="mce-root"/>
<p>You should see something similar if you click on <span class="packt_screen">Page 3</span> or on <span class="packt_screen">Home</span>. The content on the left side of the screen is updated.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>Let's start by looking at the <kbd>Route</kbd> components that <kbd>render</kbd> content based on the active the <kbd>Route</kbd> components:</p>
<pre>&lt;Grid item className={classes.alignContent}&gt;<br/>  &lt;Route<br/>    exact<br/>    path="/"<br/>    render={() =&gt; &lt;Typography&gt;Home&lt;/Typography&gt;}<br/>  /&gt;<br/>  &lt;Route<br/>    exact<br/>    path="/page2"<br/>    render={() =&gt; &lt;Typography&gt;Page 2&lt;/Typography&gt;}<br/>  /&gt;<br/>  &lt;Route<br/>    exact<br/>    path="/page3"<br/>    render={() =&gt; &lt;Typography&gt;Page 3&lt;/Typography&gt;}<br/>  /&gt;<br/>&lt;/Grid&gt;</pre>
<p>There's a <kbd>Route</kbd> component used for each <kbd>path</kbd> in your app. The <kbd>render()</kbd> function returns the content that should be rendered within this <kbd>Grid</kbd> item when the <kbd>path</kbd> property matches the current URL.</p>
<p>Next, let's look at one of the <kbd>ListItem</kbd> components within the <kbd>Drawer</kbd> component, as follows:</p>
<pre>&lt;ListItem<br/>  component={Link}<br/>  to="/"<br/>  onClick={() =&gt; setOpen(false)}<br/>&gt;<br/>  &lt;ListItemIcon&gt;<br/>    &lt;HomeIcon /&gt;<br/>  &lt;/ListItemIcon&gt;<br/>  &lt;ListItemText&gt;Home&lt;/ListItemText&gt;<br/>&lt;/ListItem&gt;</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p>By default, the <kbd>ListItem</kbd> component will render a <kbd>div</kbd> element. It accepts a <kbd>button</kbd> property that when true, will render a <kbd>button</kbd> element. You don't want either of these. Instead, you want the list items to be links that <kbd>react-router</kbd> will process. The <kbd>component</kbd> property accepts a custom component to use; in this example, you want to use the <kbd>Link</kbd> component from the <kbd>react-router-dom</kbd> package. This will render the appropriate link while maintaining the proper styles.</p>
<p>The properties that you pass to <kbd>ListItem</kbd> are also passed to your custom component, which, in this case, is <kbd>Link</kbd>. This means that the required <kbd>to</kbd> property is passed to <kbd>Link</kbd>, pointing the link to <kbd>/</kbd>. Likewise, the <kbd>onClick</kbd> handler is also passed to the <kbd>Link</kbd> component, which is important because you want to close the temporary drawer whenever a link is clicked.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>When the items in your drawer are links, you probably want a visual indication for the active link. The challenge is that you want to style the active link using Material-UI theme styles. Here's what the modified example looks like:</p>
<pre>import React, { useState } from 'react';<br/>import clsx from 'clsx';<br/>import { Switch, Route, Link, NavLink } from 'react-router-dom';<br/><br/>import { withStyles } from '@material-ui/core/styles';<br/>import Drawer from '@material-ui/core/Drawer';<br/>import Grid from '@material-ui/core/Grid';<br/>import Button from '@material-ui/core/Button';<br/>import List from '@material-ui/core/List';<br/>import ListItem from '@material-ui/core/ListItem';<br/>import ListItemIcon from '@material-ui/core/ListItemIcon';<br/>import ListItemText from '@material-ui/core/ListItemText';<br/>import Typography from '@material-ui/core/Typography';<br/><br/>import HomeIcon from '@material-ui/icons/Home';<br/>import WebIcon from '@material-ui/icons/Web';<br/><br/>const styles = theme =&gt; ({<br/>  alignContent: {<br/>    alignSelf: 'center'<br/>  },<br/>  activeListItem: {<br/>    color: theme.palette.primary.main<br/>  }<br/>});<br/><br/>const NavListItem = withStyles(styles)(<br/>  ({ classes, Icon, text, active, ...other }) =&gt; (<br/>    &lt;ListItem component={NavLink} {...other}&gt;<br/>      &lt;ListItemIcon<br/>        classes={{<br/>          root: clsx({ [classes.activeListItem]: active })<br/>        }}<br/>      &gt;<br/>        &lt;Icon /&gt;<br/>      &lt;/ListItemIcon&gt;<br/>      &lt;ListItemText<br/>        classes={{<br/>          primary: clsx({<br/>            [classes.activeListItem]: active<br/>          })<br/>        }}<br/>      &gt;<br/>        {text}<br/>      &lt;/ListItemText&gt;<br/>    &lt;/ListItem&gt;<br/>  )<br/>);<br/><br/>const NavItem = props =&gt; (<br/>  &lt;Switch&gt;<br/>    &lt;Route<br/>      exact<br/>      path={props.to}<br/>      render={() =&gt; &lt;NavListItem active={true} {...props} /&gt;}<br/>    /&gt;<br/>    &lt;Route path="/" render={() =&gt; &lt;NavListItem {...props} /&gt;} /&gt;<br/>  &lt;/Switch&gt;<br/>);<br/><br/>function DrawerItemNavigation({ classes }) {<br/>  const [open, setOpen] = useState(false);<br/><br/>  return (<br/>    &lt;Grid container justify="space-between"&gt;<br/>      &lt;Grid item className={classes.alignContent}&gt;<br/>        &lt;Route<br/>          exact<br/>          path="/"<br/>          render={() =&gt; &lt;Typography&gt;Home&lt;/Typography&gt;}<br/>        /&gt;<br/>        &lt;Route<br/>          exact<br/>          path="/page2"<br/>          render={() =&gt; &lt;Typography&gt;Page 2&lt;/Typography&gt;}<br/>        /&gt;<br/>        &lt;Route<br/>          exact<br/>          path="/page3"<br/>          render={() =&gt; &lt;Typography&gt;Page 3&lt;/Typography&gt;}<br/>        /&gt;<br/>      &lt;/Grid&gt;<br/>      &lt;Grid item&gt;<br/>        &lt;Drawer<br/>          className={classes.drawerWidth}<br/>          open={open}<br/>          onClose={() =&gt; setOpen(false)}<br/>        &gt;<br/>          &lt;List&gt;<br/>            &lt;NavItem<br/>              to="/"<br/>              text="Home"<br/>              Icon={HomeIcon}<br/>              onClick={() =&gt; setOpen(false)}<br/>            /&gt;<br/>            &lt;NavItem<br/>              to="/page2"<br/>              text="Page 2"<br/>              Icon={WebIcon}<br/>              onClick={() =&gt; setOpen(false)}<br/>            /&gt;<br/>            &lt;NavItem<br/>              to="/page3"<br/>              text="Page 3"<br/>              Icon={WebIcon}<br/>              onClick={() =&gt; setOpen(false)}<br/>            /&gt;<br/>          &lt;/List&gt;<br/>        &lt;/Drawer&gt;<br/>      &lt;/Grid&gt;<br/>      &lt;Grid item&gt;<br/>        &lt;Button onClick={() =&gt; setOpen(!open)}&gt;<br/>          {open ? 'Hide' : 'Show'} Drawer<br/>        &lt;/Button&gt;<br/>      &lt;/Grid&gt;<br/>    &lt;/Grid&gt;<br/>  );<br/>}<br/><br/>export default withStyles(styles)(DrawerItemNavigation);</pre>
<p class="mce-root"/>
<p>Now, when the screen first loads and you open the drawer, it should look similar to the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/5a885787-b548-4c9b-bb81-0a939229c273.png" style="width:20.33em;height:7.83em;"/></p>
<p>Since the <span class="packt_screen">Home</span> link is active, it's styled using the primary color from the Material-UI theme. If you click on the <span class="packt_screen">Page 2</span> link and then open the drawer again, it should look similar to the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/7e655bd5-9ef9-4e4c-b642-fb132e5a2657.png" style="width:40.08em;height:9.00em;"/></p>
<p>Let's take a look at the two new components that you've added, starting with <kbd>NavItem</kbd>:</p>
<pre>const NavItem = props =&gt; (<br/>  &lt;Switch&gt;<br/>    &lt;Route<br/>      exact<br/>      path={props.to}<br/>      render={() =&gt; &lt;NavListItem active={true} {...props} /&gt;}<br/>    /&gt;<br/>    &lt;Route path="/" render={() =&gt; &lt;NavListItem {...props} /&gt;} /&gt;<br/>  &lt;/Switch&gt;<br/>);</pre>
<p>This component is used to determine whether or not the item is active, based on the current URL. It uses the <kbd>Switch</kbd> component from <kbd>react-router-dom</kbd>. Instead of just rendering <kbd>Route</kbd> components, <kbd>Switch</kbd> will only render the first route whose path matches the current URL. The first <kbd>Route</kbd> component in <kbd>NavItem</kbd> is the specific path (as it uses the <kbd>exact</kbd> property). If this <kbd>Route</kbd> component matches, it renders a <kbd>NavListItem</kbd> component with the <kbd>active</kbd> property set to true. Because it's in a <kbd>Switch</kbd> component, the second <kbd>Route</kbd> component will not be rendered.</p>
<p class="mce-root"/>
<p>If, on the other hand, the first <kbd>Route</kbd> component doesn't match, the second <kbd>Route</kbd> component will always match. This will render a <kbd>NavListItem</kbd> component without the <kbd>active</kbd> property. Now, let's take a look at the <kbd>NavListItem</kbd> component, as follows:</p>
<pre>const NavListItem = withStyles(styles)(<br/>  ({ classes, Icon, text, active, ...other }) =&gt; (<br/>    &lt;ListItem component={NavLink} {...other}&gt;<br/>      &lt;ListItemIcon<br/>        classes={{<br/>          root: clsx({ [classes.activeListItem]: active })<br/>        }}<br/>      &gt;<br/>        &lt;Icon /&gt;<br/>      &lt;/ListItemIcon&gt;<br/>      &lt;ListItemText<br/>        classes={{<br/>          primary: clsx({<br/>            [classes.activeListItem]: active<br/>          })<br/>        }}<br/>      &gt;<br/>        {text}<br/>      &lt;/ListItemText&gt;<br/>    &lt;/ListItem&gt;<br/>  )<br/>);</pre>
<p>The <kbd>NavListItem</kbd> component is now responsible for rendering the <kbd>ListItem</kbd> components in the <kbd>Drawer</kbd> component. It takes a <kbd>text</kbd> property and an <kbd>Icon</kbd> property to render the label and the icon respectively, just like before your enhancements. The <kbd>active</kbd> property is used to determine the class that gets applied to the <kbd>ListItemIcon</kbd> and <kbd>ListItemText</kbd> components. The <kbd>activeListItem</kbd> CSS class is applied to both of these components if <kbd>active</kbd> is true. This is how you're able to style the <kbd>active</kbd> item based on the Material-UI theme.</p>
<div class="packt_tip">The <kbd>clsx()</kbd> function is used extensively by Material-UI–this isn't an extra dependency. It allows you to dynamically change the class of an element without introducing custom logic into your markup. For example, the <kbd>clsx({ [classes.activeListItem]: active })</kbd> syntax will only apply the <kbd>activeListItem</kbd> class if <kbd>active</kbd> is true. The alternative will involve introducing more logic into your component.</div>
<p class="mce-root"/>
<p>Lastly, let's take a look at the <kbd>activeListItem</kbd> class, as follows:</p>
<pre>const styles = theme =&gt; ({<br/>  alignContent: {<br/>    alignSelf: 'center'<br/>  },<br/>  activeListItem: {<br/>    color: theme.palette.primary.main<br/>  }<br/>});</pre>
<p>The <kbd>activeListItem</kbd> class sets the color CSS property by using the <kbd>theme.palette.primary.main</kbd> value. This means that if the theme changes, your active link in the drawer will be styled accordingly.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">See also</h1>
                </header>
            
            <article>
                
<ul>
<li>React Router documentation: <a href="https://reacttraining.com/react-router/">https://reacttraining.com/react-router/</a></li>
<li><kbd>Drawer</kbd> demos:<span> </span><a href="https://material-ui.com/demos/drawers/">https://material-ui.com/demos/drawers/</a></li>
<li><kbd>Drawer</kbd> API documentation: <a href="https://material-ui.com/api/drawer/">https://material-ui.com/api/drawer/</a></li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Drawer sections</h1>
                </header>
            
            <article>
                
<p>When you have lots of items in your <kbd>Drawer</kbd>, you might want to divide your drawer into sections. When you have lots of drawer items and no sections, you end up having to put section names into the items themselves, which leads to messy and awkward drawer item labels.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<p>Let's say that you're working on an app that has screens for managing different aspects of the CPU, memory, storage, and network. Instead of having a flat list of drawer items, you could display drawer items in their relevant sections, making it easier to navigate. Here's the code to do it:</p>
<pre>import React, { useState } from 'react';<br/><br/>import { withStyles } from '@material-ui/core/styles';<br/>import Drawer from '@material-ui/core/Drawer';<br/>import Grid from '@material-ui/core/Grid';<br/>import Button from '@material-ui/core/Button';<br/>import List from '@material-ui/core/List';<br/>import ListItem from '@material-ui/core/ListItem';<br/>import ListItemIcon from '@material-ui/core/ListItemIcon';<br/>import ListItemText from '@material-ui/core/ListItemText';<br/>import ListSubheader from '@material-ui/core/ListSubheader';<br/>import Typography from '@material-ui/core/Typography';<br/><br/>import AddIcon from '@material-ui/icons/Add';<br/>import RemoveIcon from '@material-ui/icons/Remove';<br/>import ShowChartIcon from '@material-ui/icons/ShowChart';<br/><br/>const styles = theme =&gt; ({<br/>  alignContent: {<br/>    alignSelf: 'center'<br/>  }<br/>});<br/><br/>const ListItems = ({ items, onClick }) =&gt;<br/>  items<br/>    .filter(({ hidden }) =&gt; !hidden)<br/>    .map(({ label, disabled, Icon }, i) =&gt; (<br/>      &lt;ListItem<br/>        button<br/>        key={i}<br/>        disabled={disabled}<br/>        onClick={onClick(label)}<br/>      &gt;<br/>        &lt;ListItemIcon&gt;<br/>          &lt;Icon /&gt;<br/>        &lt;/ListItemIcon&gt;<br/>        &lt;ListItemText&gt;{label}&lt;/ListItemText&gt;<br/>      &lt;/ListItem&gt;<br/>    ));<br/><br/>const DrawerSections = withStyles(styles)(({ classes }) =&gt; {<br/>  const [open, setOpen] = useState(false);<br/>  const [content, setContent] = useState('Home');<br/>  const [items] = useState({<br/>    cpu: [<br/>      { label: 'Add CPU', Icon: AddIcon },<br/>      { label: 'Remove CPU', Icon: RemoveIcon },<br/>      { label: 'Usage', Icon: ShowChartIcon }<br/>    ],<br/>    memory: [<br/>      { label: 'Add Memory', Icon: AddIcon },<br/>      { label: 'Usage', Icon: ShowChartIcon }<br/>    ],<br/>    storage: [<br/>      { label: 'Add Storage', Icon: AddIcon },<br/>      { label: 'Usage', Icon: ShowChartIcon }<br/>    ],<br/>    network: [<br/>      { label: 'Add Network', Icon: AddIcon, disabled: true },<br/>      { label: 'Usage', Icon: ShowChartIcon }<br/>    ]<br/>  });<br/><br/>  const onClick = content =&gt; () =&gt; {<br/>    setOpen(false);<br/>    setContent(content);<br/>  };<br/><br/>  return (<br/>    &lt;Grid container justify="space-between"&gt;<br/>      &lt;Grid item className={classes.alignContent}&gt;<br/>        &lt;Typography&gt;{content}&lt;/Typography&gt;<br/>      &lt;/Grid&gt;<br/>      &lt;Grid item&gt;<br/>        &lt;Drawer open={open} onClose={() =&gt; setOpen(false)}&gt;<br/>          &lt;List&gt;<br/>            &lt;ListSubheader&gt;CPU&lt;/ListSubheader&gt;<br/>            &lt;ListItems items={items.cpu} onClick={onClick} /&gt;<br/>            &lt;ListSubheader&gt;Memory&lt;/ListSubheader&gt;<br/>            &lt;ListItems items={items.memory} onClick={onClick} /&gt;<br/>            &lt;ListSubheader&gt;Storage&lt;/ListSubheader&gt;<br/>            &lt;ListItems items={items.storage} onClick={onClick} /&gt;<br/>            &lt;ListSubheader&gt;Network&lt;/ListSubheader&gt;<br/>            &lt;ListItems items={items.network} onClick={onClick} /&gt;<br/>          &lt;/List&gt;<br/>        &lt;/Drawer&gt;<br/>      &lt;/Grid&gt;<br/><br/>      &lt;Grid item&gt;<br/>        &lt;Button onClick={() =&gt; setOpen(!open)}&gt;<br/>          {open ? 'Hide' : 'Show'} Drawer<br/>        &lt;/Button&gt;<br/>      &lt;/Grid&gt;<br/>    &lt;/Grid&gt;<br/>  );<br/>});<br/><br/>export default DrawerSections;</pre>
<p>When you click on the <span class="packt_screen">SHOW DRAWER</span> button, your drawer should look like this:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/a9693127-5df8-4733-b79e-d538d65b573c.png" style="width:37.92em;height:35.33em;"/></p>
<p>There are lots of add and usage items in this drawer. The sections make the items easier for your users to scan.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>Let's start by taking a look at the state of your component, as follows:</p>
<pre>const [open, setOpen] = useState(false);<br/>const [content, setContent] = useState('Home');<br/>const [items] = useState({<br/>  cpu: [<br/>    { label: 'Add CPU', Icon: AddIcon },<br/>    { label: 'Remove CPU', Icon: RemoveIcon },<br/>    { label: 'Usage', Icon: ShowChartIcon }<br/>  ],<br/>  memory: [<br/>    { label: 'Add Memory', Icon: AddIcon },<br/>    { label: 'Usage', Icon: ShowChartIcon }<br/>  ],<br/>  storage: [<br/>    { label: 'Add Storage', Icon: AddIcon },<br/>    { label: 'Usage', Icon: ShowChartIcon }<br/>  ],<br/>  network: [<br/>    { label: 'Add Network', Icon: AddIcon, disabled: true },<br/>    { label: 'Usage', Icon: ShowChartIcon }<br/>  ]<br/>});</pre>
<p>Instead of the <kbd>items</kbd> state being a flat array of items, it's now an object with arrays grouped by category. These are the drawer sections that you want to render. Next, let's look at the <kbd>List</kbd> markup for rendering the <kbd>items</kbd> state and the section headers:</p>
<pre>&lt;List&gt;<br/>  &lt;ListSubheader&gt;CPU&lt;/ListSubheader&gt;<br/>  &lt;ListItems items={items.cpu} onClick={onClick} /&gt;<br/>  &lt;ListSubheader&gt;Memory&lt;/ListSubheader&gt;<br/>  &lt;ListItems items={items.memory} onClick={onClick} /&gt;<br/>  &lt;ListSubheader&gt;Storage&lt;/ListSubheader&gt;<br/>  &lt;ListItems items={items.storage} onClick={onClick} /&gt;<br/>  &lt;ListSubheader&gt;Network&lt;/ListSubheader&gt;<br/>  &lt;ListItems items={items.network} onClick={onClick} /&gt;<br/>&lt;/List&gt;</pre>
<p>The <kbd>ListSubheader</kbd> component is used when you need a label above the list items. For example, <span>underneath</span> the <span class="packt_screen">Storage</span> header, you have the <kbd>ListItems</kbd> component that renders items from the <kbd>items.storage</kbd> state.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>When you have a lot of drawer items and sections, you can still overwhelm your users with the amount of information to parse. One solution is to have collapsible sections. For this, you can add a <kbd>Button</kbd> component to the <kbd>ListSubheader</kbd> component so that it's clickable.</p>
<p class="mce-root"/>
<p class="mce-root"/>
<p>Here's what the code looks like:</p>
<pre>&lt;ListSubheader&gt;<br/>  &lt;Button<br/>    disableRipple<br/>    classes={{ root: classes.listSubheader }}<br/>    onClick={toggleSection('cpu')}<br/>  &gt;<br/>    CPU<br/>  &lt;/Button&gt;<br/>&lt;/ListSubheader&gt;</pre>
<p>The ripple effect that would normally happen when you click on a button is disabled here because you want the header text to still look like header text. This also requires a little bit of CSS customization in the <kbd>listSubheader</kbd> class:</p>
<pre>const styles = theme =&gt; ({<br/>  alignContent: {<br/>    alignSelf: 'center'<br/>  },<br/>  listSubheader: {<br/>    padding: 0,<br/>    minWidth: 0,<br/>    color: 'inherit',<br/>    '&amp;:hover': {<br/>      background: 'inherit'<br/>    }<br/>  }<br/>});</pre>
<p>When the section header button is clicked, it toggles the state of the section, which in turn, toggles the visibility of the section items. Here's the <kbd>toggleSection()</kbd> function:</p>
<pre>const toggleSection = name =&gt; () =&gt; {<br/>  setSections({ ...sections, [name]: !sections[name] });<br/>};</pre>
<p>This is a higher-order function that returns a new function as the <kbd>onClick</kbd> handler for the button. The <kbd>name</kbd> argument is the name of the section state to toggle.</p>
<p class="mce-root"/>
<p class="mce-root"/>
<p>Here's the new state that was added to support toggling sections:</p>
<pre>const [sections, setSections] = useState({<br/>  cpu: true,<br/>  memory: false,<br/>  storage: false,<br/>  network: false<br/>});</pre>
<p>When the screen first loads, the <span class="packt_screen">CPU</span> section will be the only section with visible items since it's the only state that's <kbd>true</kbd>. Next, let's look at how the <kbd>ListItems</kbd> are actually collapsed when their corresponding section state is <kbd>false</kbd>:</p>
<pre>const ListItems = ({ items, visible, onClick }) =&gt; (<br/>  &lt;Collapse in={visible}&gt;<br/>    {items<br/>      .filter(({ hidden }) =&gt; !hidden)<br/>      .map(({ label, disabled, Icon }, i) =&gt; (<br/>        &lt;ListItem<br/>          button<br/>          key={i}<br/>          disabled={disabled}<br/>          onClick={onClick(label)}<br/>        &gt;<br/>          &lt;ListItemIcon&gt;<br/>            &lt;Icon /&gt;<br/>          &lt;/ListItemIcon&gt;<br/>          &lt;ListItemText&gt;{label}&lt;/ListItemText&gt;<br/>        &lt;/ListItem&gt;<br/>      ))}<br/>  &lt;/Collapse&gt;<br/>);</pre>
<p>The <kbd>ListItems</kbd> component now accepts a <kbd>visible</kbd> property. This is used by the <kbd>Collapse</kbd> component, which will hide its children using a collapsing animation when hiding components. Finally, here's how the new <kbd>ListItems</kbd> component is used:</p>
<pre>&lt;ListItems<br/>  visible={sections.cpu}<br/>  items={items.cpu}<br/>  onClick={onClick}<br/>/&gt;</pre>
<p>When the screen first loads, and you click on the <span class="packt_screen">SHOW DRAWER</span> button, you should see something similar to this:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/850d28a3-cfd7-4162-8b22-e46b98fb0e93.png" style="width:34.00em;height:17.33em;"/></p>
<p>There's way less information for the user to parse now. They can click on the section headers to see the list items, and they can click again to collapse the section; for example, they could collapse the <span class="packt_screen">CPU</span> section and expand the <span class="packt_screen">MEMORY</span> section:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/3e66d110-145f-43b1-b1db-33c4d932d747.png" style="width:38.75em;height:17.08em;"/></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">See also</h1>
                </header>
            
            <article>
                
<ul>
<li><kbd>Drawer</kbd> demos: <a href="https://material-ui.com/demos/drawers/">https://material-ui.com/demos/drawers/</a></li>
<li><kbd>Drawer</kbd> API documentation: <a href="https://material-ui.com/api/drawer/">https://material-ui.com/api/drawer/</a></li>
<li><a href="https://material-ui.com/api/list-item/"/></li>
</ul>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">AppBar interaction</h1>
                </header>
            
            <article>
                
<p>A common place to put a button that toggles the visibility of <kbd>Drawer</kbd> components is the <kbd>AppBar</kbd> component at the top of every page in your app. Furthermore, by selecting items in a drawer, the title of the <kbd>AppBar</kbd> component needs to change to reflect this selection. <kbd>Drawer</kbd> and <kbd>AppBar</kbd> components often need to interact with one another.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<p>Let's say that you have a <kbd>Drawer</kbd> component with a few items in it. You also have an <kbd>AppBar</kbd> component with a menu button and a title. The menu button should toggle the visibility of the drawer, and clicking on a drawer item should update the title in the <kbd>AppBar</kbd>. Here's the code to do it:</p>
<pre>import React, { useState, Fragment } from 'react';<br/><br/>import { withStyles } from '@material-ui/core/styles';<br/>import AppBar from '@material-ui/core/AppBar';<br/>import Toolbar from '@material-ui/core/Toolbar';<br/>import Typography from '@material-ui/core/Typography';<br/>import Button from '@material-ui/core/Button';<br/>import Drawer from '@material-ui/core/Drawer';<br/>import List from '@material-ui/core/List';<br/>import ListItem from '@material-ui/core/ListItem';<br/>import ListItemIcon from '@material-ui/core/ListItemIcon';<br/>import ListItemText from '@material-ui/core/ListItemText';<br/>import IconButton from '@material-ui/core/IconButton';<br/>import MenuIcon from '@material-ui/icons/Menu';<br/><br/>const styles = theme =&gt; ({<br/>  root: {<br/>    flexGrow: 1<br/>  },<br/>  flex: {<br/>    flex: 1<br/>  },<br/>  menuButton: {<br/>    marginLeft: -12,<br/>    marginRight: 20<br/>  },<br/>  toolbarMargin: theme.mixins.toolbar<br/>});<br/><br/>const MyToolbar = withStyles(styles)(<br/>  ({ classes, title, onMenuClick }) =&gt; (<br/>    &lt;Fragment&gt;<br/>      &lt;AppBar&gt;<br/>        &lt;Toolbar&gt;<br/>          &lt;IconButton<br/>            className={classes.menuButton}<br/>            color="inherit"<br/>            aria-label="Menu"<br/>            onClick={onMenuClick}<br/>          &gt;<br/>            &lt;MenuIcon /&gt;<br/>          &lt;/IconButton&gt;<br/>          &lt;Typography<br/>            variant="title"<br/>            color="inherit"<br/>            className={classes.flex}<br/>          &gt;<br/>            {title}<br/>          &lt;/Typography&gt;<br/>        &lt;/Toolbar&gt;<br/>      &lt;/AppBar&gt;<br/>      &lt;div className={classes.toolbarMargin} /&gt;<br/>    &lt;/Fragment&gt;<br/>  )<br/>);<br/><br/>const MyDrawer = withStyles(styles)(<br/>  ({ classes, variant, open, onClose, setTitle }) =&gt; (<br/>    &lt;Drawer variant={variant} open={open} onClose={onClose}&gt;<br/>      &lt;List&gt;<br/>        &lt;ListItem<br/>          button<br/>          onClick={() =&gt; {<br/>            setTitle('Home');<br/>            onClose();<br/>          }}<br/>        &gt;<br/>          &lt;ListItemText&gt;Home&lt;/ListItemText&gt;<br/>        &lt;/ListItem&gt;<br/>        &lt;ListItem<br/>          button<br/>          onClick={() =&gt; {<br/>            setTitle('Page 2');<br/>            onClose();<br/>          }}<br/>        &gt;<br/>          &lt;ListItemText&gt;Page 2&lt;/ListItemText&gt;<br/>        &lt;/ListItem&gt;<br/>        &lt;ListItem<br/>          button<br/>          onClick={() =&gt; {<br/>            setTitle('Page 3');<br/>            onClose();<br/>          }}<br/>        &gt;<br/>          &lt;ListItemText&gt;Page 3&lt;/ListItemText&gt;<br/>        &lt;/ListItem&gt;<br/>      &lt;/List&gt;<br/>    &lt;/Drawer&gt;<br/>  )<br/>);<br/><br/>function AppBarInteraction({ classes }) {<br/>  const [drawer, setDrawer] = useState(false);<br/>  const [title, setTitle] = useState('Home');<br/><br/>  const toggleDrawer = () =&gt; {<br/>    setDrawer(!drawer);<br/>  };<br/><br/>  return (<br/>    &lt;div className={classes.root}&gt;<br/>      &lt;MyToolbar title={title} onMenuClick={toggleDrawer} /&gt;<br/>      &lt;MyDrawer<br/>        open={drawer}<br/>        onClose={toggleDrawer}<br/>        setTitle={setTitle}<br/>      /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}<br/><br/>export default withStyles(styles)(AppBarInteraction);</pre>
<p>Here's what the screen looks like when it first loads:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/787e6390-a40a-415c-ac4a-8949de696a90.png" style="width:18.42em;height:3.83em;"/></p>
<p class="mce-root"/>
<p class="mce-root"/>
<p>When you click on the menu icon button to the left of the title, you'll see the drawer:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/2bd42494-2c19-45ad-8187-67695e0bd04f.png" style="width:29.00em;height:6.50em;"/></p>
<p>If you click on the <span class="packt_screen">Page 2</span> item, the drawer will close and the title of the <kbd>AppBar</kbd> will change:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/92a5a840-a69e-4f7e-a3ed-a334cfacc96d.png" style="width:34.00em;height:3.92em;"/></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>This example defines three components, as follows:</p>
<ul>
<li>The <kbd>MyToolbar</kbd> component</li>
<li>The <kbd>MyDrawer</kbd> component</li>
<li>The main app component</li>
</ul>
<p>Let's walk through each of these individually, starting with <kbd>MyToolbar</kbd>:</p>
<pre>const MyToolbar = withStyles(styles)(<br/>  ({ classes, title, onMenuClick }) =&gt; (<br/>    &lt;Fragment&gt;<br/>      &lt;AppBar&gt;<br/>        &lt;Toolbar&gt;<br/>          &lt;IconButton<br/>            className={classes.menuButton}<br/>            color="inherit"<br/>            aria-label="Menu"<br/>            onClick={onMenuClick}<br/>          &gt;<br/>            &lt;MenuIcon /&gt;<br/>          &lt;/IconButton&gt;<br/>          &lt;Typography<br/>            variant="title"<br/>            color="inherit"<br/>            className={classes.flex}<br/>          &gt;<br/>            {title}<br/>          &lt;/Typography&gt;<br/>        &lt;/Toolbar&gt;<br/>      &lt;/AppBar&gt;<br/>      &lt;div className={classes.toolbarMargin} /&gt;<br/>    &lt;/Fragment&gt;<br/>  )<br/>);</pre>
<p>The <kbd>MyToolbar</kbd> component renders an <kbd>AppBar</kbd> component that accepts a <kbd>title</kbd> property and a <kbd>onMenuClick()</kbd> property. Both of these properties are used to interact with the <kbd>MyDrawer</kbd> component. The <kbd>title</kbd> property changes when a drawer item selection is made. The <kbd>onMenuClick()</kbd> function changes state in your main app component, causing the drawer to display. Next, let's take a look at <kbd>MyDrawer</kbd>:</p>
<pre>const MyDrawer = withStyles(styles)(<br/>  ({ classes, variant, open, onClose, setTitle }) =&gt; (<br/>    &lt;Drawer variant={variant} open={open} onClose={onClose}&gt;<br/>      &lt;List&gt;<br/>        &lt;ListItem<br/>          button<br/>          onClick={() =&gt; {<br/>            setTitle('Home');<br/>            onClose();<br/>          }}<br/>        &gt;<br/>          &lt;ListItemText&gt;Home&lt;/ListItemText&gt;<br/>        &lt;/ListItem&gt;<br/>        &lt;ListItem<br/>          button<br/>          onClick={() =&gt; {<br/>            setTitle('Page 2');<br/>            onClose();<br/>          }}<br/>        &gt;<br/>          &lt;ListItemText&gt;Page 2&lt;/ListItemText&gt;<br/>        &lt;/ListItem&gt;<br/>        &lt;ListItem<br/>          button<br/>          onClick={() =&gt; {<br/>            setTitle('Page 3');<br/>            onClose();<br/>          }}<br/>        &gt;<br/>          &lt;ListItemText&gt;Page 3&lt;/ListItemText&gt;<br/>        &lt;/ListItem&gt;<br/>      &lt;/List&gt;<br/>    &lt;/Drawer&gt;<br/>  )<br/>);</pre>
<p>The <kbd>MyDrawer</kbd> component is functional like <kbd>MyToolbar</kbd>. It accepts properties instead of maintaining its own state. For example, the <kbd>open</kbd> property is how the visibility of the drawer is controlled. The <kbd>onClose()</kbd> and <kbd>setTitle()</kbd> properties are functions that are called when drawer items are clicked on.</p>
<p>Finally, let's look at the app component where all of the state lives:</p>
<pre>function AppBarInteraction({ classes }) {<br/>  const [drawer, setDrawer] = useState(false);<br/>  const [title, setTitle] = useState('Home');<br/><br/>  const toggleDrawer = () =&gt; {<br/>    setDrawer(!drawer);<br/>  };<br/><br/>  return (<br/>    &lt;div className={classes.root}&gt;<br/>      &lt;MyToolbar title={title} onMenuClick={toggleDrawer} /&gt;<br/>      &lt;MyDrawer<br/>        open={drawer}<br/>        onClose={toggleDrawer}<br/>        setTitle={setTitle}<br/>      /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</pre>
<p>The <kbd>title</kbd> state is passed to the <kbd>MyDrawer</kbd> component, along with the <kbd>toggleDrawer()</kbd> function. The <kbd>MyDrawer</kbd> component is passed the drawer state to control visibility, the <kbd>toggleDrawer()</kbd> function to change visibility, and the <kbd>setTitle()</kbd> function to update the title in <kbd>MyToolbar</kbd>.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>What if you want the flexibility of having a persistent drawer that can be toggled using the same menu button in the App bar? Let's add a <kbd>variant</kbd> property to the <kbd>AppBarInteraction</kbd> component that is passed to <kbd>MyDrawer</kbd>. This can be changed from <kbd>temporary</kbd> to <kbd>persistent</kbd> and the menu button will still work as expected.</p>
<p>Here's what a persistent drawer looks like when you click on the menu button:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/b71eabc1-a4e7-4d3d-893f-fba1c4ca06c4.png" style="width:34.17em;height:7.67em;"/></p>
<p>The drawer overlaps the App bar. Another problem is that if you click on any of the drawer items, the drawer is closed, which isn't ideal for a persistent drawer. Let's fix both of these issues.</p>
<p>First, let's address the <kbd>z-index</kbd> issue that's causing the drawer to appear on top of the App bar. You can create a CSS class that looks like this:</p>
<pre>aboveDrawer: {<br/>  zIndex: theme.zIndex.drawer + 1<br/>}</pre>
<p>You can apply this class to the <kbd>AppBar</kbd> component in <kbd>MyToolbar</kbd>, as follows:</p>
<pre>&lt;AppBar className={classes.aboveDrawer}&gt;</pre>
<p>Now when you open the drawer, it appears <span>underneath</span> the <kbd>AppBar</kbd>, as expected:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/ee5575fd-6c33-4051-a601-da8c0650534b.png" style="width:12.83em;height:8.50em;"/></p>
<p>Now you just have to fix the margin. When the drawer uses the <kbd>persistent</kbd> variant, you can add the <kbd>toolbarMargin</kbd> class to a <kbd>&lt;div&gt;</kbd> element as the first element in the <kbd>Drawer</kbd> component:</p>
<pre>&lt;div<br/>  className={clsx({<br/>    [classes.toolbarMargin]: variant === 'persistent'<br/>  })}<br/>/&gt;</pre>
<p>With the help of the <kbd>clsx()</kbd> function, the <kbd>toolbarMargin</kbd> class is only added when needed – that is, when the drawer is persistent. Here's what it looks like now:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/25865580-0027-47d7-865e-431ec73cd544.png" style="width:30.50em;height:10.00em;"/></p>
<p>Lastly, let's fix the issue where the drawer closes when a drawer item is clicked on. In the main app component, you can add a new method that looks like the following code block:</p>
<pre>const onItemClick = title =&gt; () =&gt; {<br/>  setTitle(title);<br/>  setDrawer(variant === 'temporary' ? false : drawer);<br/>};</pre>
<p>The <kbd>onItemClick()</kbd> function takes care of setting the text in the App bar, as well as closing the drawer if it's temporary. To use this new function, you can replace the <kbd>setTitle</kbd> property in <kbd>MyDrawer</kbd> with an <kbd>onItemClick</kbd> property. You can then use it in your list items, as follows:</p>
<pre>&lt;List&gt;<br/>  &lt;ListItem button onClick={onItemClick('Home')}&gt;<br/>    &lt;ListItemText&gt;Home&lt;/ListItemText&gt;<br/>  &lt;/ListItem&gt;<br/>  &lt;ListItem button onClick={onItemClick('Page 2')}&gt;<br/>    &lt;ListItemText&gt;Page 2&lt;/ListItemText&gt;<br/>  &lt;/ListItem&gt;<br/>  &lt;ListItem button onClick={onItemClick('Page 3')}&gt;<br/>    &lt;ListItemText&gt;Page 3&lt;/ListItemText&gt;<br/>  &lt;/ListItem&gt;<br/>&lt;/List&gt;</pre>
<p>Now when you click on items in the drawer when it's persistent, the drawer will stay open. The only way to close it is by clicking on the menu button beside the title in the App bar.</p>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">See also</h1>
                </header>
            
            <article>
                
<ul>
<li><kbd>Drawer</kbd> demos: <a href="https://material-ui.com/demos/drawers/">https://material-ui.com/demos/drawers/</a></li>
<li><kbd>AppBar</kbd> demos: <a href="https://material-ui.com/demos/app-bar/">https://material-ui.com/demos/app-bar/</a></li>
<li><kbd>Drawer</kbd> API documentation: <a href="https://material-ui.com/api/drawer/">https://material-ui.com/api/drawer/</a></li>
<li><kbd>AppBar</kbd> API documentation: <a href="https://material-ui.com/api/app-bar/">https://material-ui.com/api/app-bar/</a></li>
</ul>


            </article>

            
        </section>
    </body></html>