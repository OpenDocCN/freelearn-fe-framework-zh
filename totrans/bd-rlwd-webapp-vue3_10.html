<html><head></head><body>
<div id="_idContainer131">
<h1 class="chapter-number" id="_idParaDest-188"><a id="_idTextAnchor321"/><span class="koboSpan" id="kobo.1.1">10</span></h1>
<h1 id="_idParaDest-189"><a id="_idTextAnchor322"/><span class="koboSpan" id="kobo.2.1">Creating a Portfolio with Nuxt.js and Storyblok</span></h1>
<p><span class="koboSpan" id="kobo.3.1">If you’ve been checking off the topics from the to-do list of applications from </span><a href="B19563_01.xhtml#_idTextAnchor015"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.4.1">Chapter 1</span></em></span></a><span class="koboSpan" id="kobo.5.1">, you may have noticed that we’ve reached the final chapter. </span><span class="koboSpan" id="kobo.5.2">To celebrate our achievements, we’ll create a portfolio where we can showcase our completed projects from the past, with the flexibility to add future projects as well. </span><span class="koboSpan" id="kobo.5.3">We’ll also look into deploying the portfolio to an online space via an </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">automated process.</span></span></p>
<p><span class="koboSpan" id="kobo.7.1">We’ll build the portfolio using Nuxt (</span><a href="https://nuxt.com/"><span class="koboSpan" id="kobo.8.1">https://nuxt.com/</span></a><span class="koboSpan" id="kobo.9.1">), which will greatly speed up our development process. </span><span class="koboSpan" id="kobo.9.2">The content will be stored in a Storyblok (</span><a href="https://www.storyblok.com/"><span class="koboSpan" id="kobo.10.1">https://www.storyblok.com/</span></a><span class="koboSpan" id="kobo.11.1">) space. </span><span class="koboSpan" id="kobo.11.2">For publication, we’ll make use of Netlify (</span><a href="https://www.netlify.com/"><span class="koboSpan" id="kobo.12.1">https://www.netlify.com/</span></a><span class="koboSpan" id="kobo.13.1">), which is a very developer-friendly platform for hosting modern </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">web apps.</span></span></p>
<p><span class="koboSpan" id="kobo.15.1">In this chapter, we’ll cover the </span><span class="No-Break"><span class="koboSpan" id="kobo.16.1">following topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.17.1">Refresher on using Nuxt and using Nuxt as a static </span><span class="No-Break"><span class="koboSpan" id="kobo.18.1">site renderer</span></span></li>
<li><span class="koboSpan" id="kobo.19.1">Learning to apply a headless CMS to organize and </span><span class="No-Break"><span class="koboSpan" id="kobo.20.1">manage content</span></span></li>
<li><span class="koboSpan" id="kobo.21.1">Connecting Nuxt and Storyblok using </span><span class="No-Break"><span class="koboSpan" id="kobo.22.1">existing integrations</span></span></li>
<li><span class="koboSpan" id="kobo.23.1">Applying proven patterns to optimize </span><span class="No-Break"><span class="koboSpan" id="kobo.24.1">a website</span></span></li>
<li><span class="koboSpan" id="kobo.25.1">Automating deployment to a </span><span class="No-Break"><span class="koboSpan" id="kobo.26.1">public host</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.27.1">While we’re going to focus on building the essentials of a portfolio website, you should be able to make modifications to further personalize the final product so that it can continue serving as your personal portfolio website to showcase </span><span class="No-Break"><span class="koboSpan" id="kobo.28.1">your talents.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.29.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.30.1">Parts of the project in this chapter are based on a guide published by </span><span class="No-Break"><span class="koboSpan" id="kobo.31.1">Storyblok: </span></span><a href="https://www.storyblok.com/tp/add-a-headless-CMS-to-nuxt-3-in-5-minutes"><span class="No-Break"><span class="koboSpan" id="kobo.32.1">https://www.storyblok.com/tp/add-a-headless-CMS-to-nuxt-3-in-5-minutes</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.33.1">.</span></span></p>
<h1 id="_idParaDest-190"><a id="_idTextAnchor323"/><span class="koboSpan" id="kobo.34.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.35.1">Like in </span><a href="B19563_08.xhtml#_idTextAnchor233"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.36.1">Chapter 8</span></em></span></a><span class="koboSpan" id="kobo.37.1">, we’ll use Nuxt (</span><a href="https://nuxt.com/"><span class="koboSpan" id="kobo.38.1">https://nuxt.com/</span></a><span class="koboSpan" id="kobo.39.1">) as the framework to build our portfolio website. </span><span class="koboSpan" id="kobo.39.2">For our styling and interactions, we’ll use a UI library that is part of the Nuxt ecosystem: Nuxt UI (</span><a href="https://ui.nuxt.com/"><span class="koboSpan" id="kobo.40.1">https://ui.nuxt.com/</span></a><span class="koboSpan" id="kobo.41.1">). </span><span class="koboSpan" id="kobo.41.2">We need to run our local development in SSL mode, for which we will use </span><strong class="source-inline"><span class="koboSpan" id="kobo.42.1">mkcert</span></strong><span class="koboSpan" id="kobo.43.1"> (</span><a href="https://github.com/FiloSottile/mkcert"><span class="koboSpan" id="kobo.44.1">https://github.com/FiloSottile/mkcert</span></a><span class="koboSpan" id="kobo.45.1">) to generate a locally trusted </span><span class="No-Break"><span class="koboSpan" id="kobo.46.1">development certificate.</span></span></p>
<p><span class="koboSpan" id="kobo.47.1">Our content will be managed and stored using Storyblok (</span><a href="https://www.storyblok.com/"><span class="koboSpan" id="kobo.48.1">https://www.storyblok.com/</span></a><span class="koboSpan" id="kobo.49.1">), which offers an excellent headless </span><strong class="bold"><span class="koboSpan" id="kobo.50.1">Content Management System</span></strong><span class="koboSpan" id="kobo.51.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.52.1">CMS</span></strong><span class="koboSpan" id="kobo.53.1">) solution with a free tier we can use. </span><span class="koboSpan" id="kobo.53.2">A headless CMS is a system that focuses primarily on the content and aims to separate the content from the presentation. </span><span class="koboSpan" id="kobo.53.3">In our case, our presentation is handled by Nuxt, but it could be any application that we grant access to the content. </span><span class="koboSpan" id="kobo.53.4">This separation of concerns is a concept that helps in building scalable applications. </span><span class="koboSpan" id="kobo.53.5">Once we have built our portfolio, we will use Netlify (</span><a href="https://www.netlify.com/"><span class="koboSpan" id="kobo.54.1">https://www.netlify.com/</span></a><span class="koboSpan" id="kobo.55.1">) to publish our portfolio on a </span><span class="No-Break"><span class="koboSpan" id="kobo.56.1">public URL.</span></span></p>
<p><span class="koboSpan" id="kobo.57.1">When developing this project, it will help if you have some data prepared beforehand to prevent switching contexts during development. </span><span class="koboSpan" id="kobo.57.2">Let’s go through previous completed projects. </span><span class="koboSpan" id="kobo.57.3">For each project we want to display, we prefer a couple of screenshots (</span><em class="italic"><span class="koboSpan" id="kobo.58.1">Screenshot.rocks</span></em><span class="koboSpan" id="kobo.59.1"> is an excellent browser plugin for creating styled screenshots from your window: </span><a href="https://screenshot.rocks/"><span class="koboSpan" id="kobo.60.1">https://screenshot.rocks/</span></a><span class="koboSpan" id="kobo.61.1">) and have </span><span class="No-Break"><span class="koboSpan" id="kobo.62.1">descriptions prepared.</span></span></p>
<p><span class="koboSpan" id="kobo.63.1">You can find the complete code for this chapter </span><span class="No-Break"><span class="koboSpan" id="kobo.64.1">here: </span></span><a href="https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/tree/main/10.portfolio"><span class="No-Break"><span class="koboSpan" id="kobo.65.1">https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/tree/main/10.portfolio</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.66.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.67.1">With several projects prepared, we can get started with the initial </span><span class="No-Break"><span class="koboSpan" id="kobo.68.1">content setup!</span></span></p>
<h1 id="_idParaDest-191"><a id="_idTextAnchor324"/><span class="koboSpan" id="kobo.69.1">Setting up Storyblok</span></h1>
<p><span class="koboSpan" id="kobo.70.1">Registering on the Storyblok </span><a id="_idIndexMarker552"/><span class="koboSpan" id="kobo.71.1">website is pretty self-explanatory. </span><span class="koboSpan" id="kobo.71.2">After the initial registration, you will end up in a demo space. </span><span class="koboSpan" id="kobo.71.3">We will skip the demo (you can always revisit this as part of </span><strong class="bold"><span class="koboSpan" id="kobo.72.1">Spaces</span></strong><span class="koboSpan" id="kobo.73.1">) and choose to </span><strong class="bold"><span class="koboSpan" id="kobo.74.1">Create a new space</span></strong><span class="koboSpan" id="kobo.75.1">, where we will choose the appropriate name and </span><span class="No-Break"><span class="koboSpan" id="kobo.76.1">server location:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer111">
<span class="koboSpan" id="kobo.77.1"><img alt="Figure 10.1 – Creating a new Storyblok space for our portfolio" src="image/B19563_10_01.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.78.1">Figure 10.1 – Creating a new Storyblok space for our portfolio</span></p>
<p><span class="koboSpan" id="kobo.79.1">After creation, you may encounter a modal referring to a trial period. </span><span class="koboSpan" id="kobo.79.2">You can select the free community plan directly or after the 14-day </span><span class="No-Break"><span class="koboSpan" id="kobo.80.1">trial period.</span></span></p>
<p><span class="koboSpan" id="kobo.81.1">The welcome screen will look </span><span class="No-Break"><span class="koboSpan" id="kobo.82.1">like this:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer112">
<span class="koboSpan" id="kobo.83.1"><img alt="Figure 10.2 – The Storyblok dashboard" src="image/B19563_10_02.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.84.1">Figure 10.2 – The Storyblok dashboard</span></p>
<p><span class="koboSpan" id="kobo.85.1">For the sake of our</span><a id="_idIndexMarker553"/><span class="koboSpan" id="kobo.86.1"> portfolio, we can close and ignore the </span><strong class="bold"><span class="koboSpan" id="kobo.87.1">Get Started</span></strong><span class="koboSpan" id="kobo.88.1"> section. </span><span class="koboSpan" id="kobo.88.2">We’ll mainly focus on the </span><strong class="bold"><span class="koboSpan" id="kobo.89.1">Settings</span></strong><span class="koboSpan" id="kobo.90.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.91.1">Content</span></strong><span class="koboSpan" id="kobo.92.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.93.1">Block Library</span></strong><span class="koboSpan" id="kobo.94.1">, and </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.95.1">Assets</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.96.1"> sections.</span></span></p>
<p><span class="koboSpan" id="kobo.97.1">If we open the </span><strong class="bold"><span class="koboSpan" id="kobo.98.1">Content</span></strong><span class="koboSpan" id="kobo.99.1"> section, we’ll see an entry titled </span><strong class="bold"><span class="koboSpan" id="kobo.100.1">Home</span></strong><span class="koboSpan" id="kobo.101.1">. </span><span class="koboSpan" id="kobo.101.2">Let’s open it and take </span><span class="No-Break"><span class="koboSpan" id="kobo.102.1">a look:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer113">
<span class="koboSpan" id="kobo.103.1"><img alt="Figure 10.3 – The initial wizard on the Home entry" src="image/B19563_10_03.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.104.1">Figure 10.3 – The initial wizard on the Home entry</span></p>
<p><span class="koboSpan" id="kobo.105.1">This screen lets us know that we can preview our content in what Storyblok refers to as an </span><strong class="bold"><span class="koboSpan" id="kobo.106.1">in-context preview</span></strong><span class="koboSpan" id="kobo.107.1">. </span><span class="koboSpan" id="kobo.107.2">This means</span><a id="_idIndexMarker554"/><span class="koboSpan" id="kobo.108.1"> we can load our portfolio in the Storyblok environment to offer a very realistic preview of </span><span class="No-Break"><span class="koboSpan" id="kobo.109.1">our portfolio!</span></span></p>
<p><span class="koboSpan" id="kobo.110.1">Let’s set this up to see what this means in practice. </span><span class="koboSpan" id="kobo.110.2">We will need (you may have guessed it by this point) the </span><strong class="bold"><span class="koboSpan" id="kobo.111.1">Access token</span></strong><span class="koboSpan" id="kobo.112.1"> value to connect the CMS to </span><span class="No-Break"><span class="koboSpan" id="kobo.113.1">our application.</span></span></p>
<h2 id="_idParaDest-192"><a id="_idTextAnchor325"/><span class="koboSpan" id="kobo.114.1">Initializing the Nuxt portfolio</span></h2>
<p><span class="koboSpan" id="kobo.115.1">We’ll use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.116.1">nuxi</span></strong><span class="koboSpan" id="kobo.117.1"> Nuxt CLI tool to </span><a id="_idIndexMarker555"/><span class="koboSpan" id="kobo.118.1">create a new project, similar to what we did in </span><a href="B19563_08.xhtml#_idTextAnchor233"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.119.1">Chapter 8</span></em></span></a><span class="No-Break"><span class="koboSpan" id="kobo.120.1">:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.121.1">
npx nuxi@3.8.0 init portfolio</span></pre> <p><span class="koboSpan" id="kobo.122.1">Again, we’ll choose </span><strong class="source-inline"><span class="koboSpan" id="kobo.123.1">npm</span></strong><span class="koboSpan" id="kobo.124.1"> as our package manager. </span><span class="koboSpan" id="kobo.124.2">If you haven’t installed the </span><strong class="source-inline"><span class="koboSpan" id="kobo.125.1">mkcert</span></strong><span class="koboSpan" id="kobo.126.1"> tool (</span><a href="https://github.com/FiloSottile/mkcert"><span class="koboSpan" id="kobo.127.1">https://github.com/FiloSottile/mkcert</span></a><span class="koboSpan" id="kobo.128.1">) to generate SSL certificates, you need to follow the appropriate</span><a id="_idIndexMarker556"/><span class="koboSpan" id="kobo.129.1"> installation instructions to </span><span class="No-Break"><span class="koboSpan" id="kobo.130.1">proceed: </span></span><a href="https://github.com/FiloSottile/mkcert#installation"><span class="No-Break"><span class="koboSpan" id="kobo.131.1">https://github.com/FiloSottile/mkcert#installation</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.132.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.133.1">Once the installation is done, we can generate a localhost certificate using the following command in the </span><a id="_idIndexMarker557"/><span class="No-Break"><span class="koboSpan" id="kobo.134.1">command-line interface:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.135.1">
mkcert localhost</span></pre> <p><span class="koboSpan" id="kobo.136.1">The command should result in an output similar to </span><span class="No-Break"><span class="koboSpan" id="kobo.137.1">the following:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer114">
<span class="koboSpan" id="kobo.138.1"><img alt="Figure 10.4 – Successfully generated SSL certificate" src="image/B19563_10_04.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.139.1">Figure 10.4 – Successfully generated SSL certificate</span></p>
<p><span class="koboSpan" id="kobo.140.1">The next thing we need to do is update the development script in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.141.1">package.json</span></strong><span class="koboSpan" id="kobo.142.1"> file so that we can run the Nuxt development servers in SSL mode. </span><span class="koboSpan" id="kobo.142.2">Find the </span><span class="No-Break"><span class="koboSpan" id="kobo.143.1">following command:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.144.1">
"dev": "nuxt dev",</span></pre> <p><span class="koboSpan" id="kobo.145.1">Replace it with the following line, which adds the certificate and points the process to a </span><strong class="source-inline"><span class="koboSpan" id="kobo.146.1">.</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.147.1">env</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.148.1"> file:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.149.1">
"dev": "NODE_TLS_REJECT_UNAUTHORIZED=0 nuxt dev --dotenv .env --https --ssl-cert localhost.pem --ssl-key localhost-key.pem",</span></pre> <p><span class="koboSpan" id="kobo.150.1">We’ll also create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.151.1">.env</span></strong><span class="koboSpan" id="kobo.152.1"> file containing the following information (the </span><strong class="bold"><span class="koboSpan" id="kobo.153.1">Access token</span></strong><span class="koboSpan" id="kobo.154.1"> value can be found on the </span><strong class="bold"><span class="koboSpan" id="kobo.155.1">Welcome</span></strong><span class="koboSpan" id="kobo.156.1"> page </span><span class="No-Break"><span class="koboSpan" id="kobo.157.1">in Storyblok):</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.158.1">
NUXT_STORYBLOK_ACCESS_TOKEN=replace_with_your_access_token</span></pre> <p><span class="koboSpan" id="kobo.159.1">If you have skipped the Storyblok </span><strong class="bold"><span class="koboSpan" id="kobo.160.1">Welcome</span></strong><span class="koboSpan" id="kobo.161.1"> page, you can review the token via the Storyblok menu. </span><span class="koboSpan" id="kobo.161.2">Navigate to </span><strong class="bold"><span class="koboSpan" id="kobo.162.1">Settings</span></strong><span class="koboSpan" id="kobo.163.1">, then </span><strong class="bold"><span class="koboSpan" id="kobo.164.1">Access tokens</span></strong><span class="koboSpan" id="kobo.165.1"> – it should be </span><span class="No-Break"><span class="koboSpan" id="kobo.166.1">listed there.</span></span></p>
<p><span class="koboSpan" id="kobo.167.1">Now, we must run the </span><strong class="source-inline"><span class="koboSpan" id="kobo.168.1">npm run dev</span></strong><span class="koboSpan" id="kobo.169.1"> command from the terminal to start the development server. </span><span class="koboSpan" id="kobo.169.2">Note that you can access the server now via the </span><span class="No-Break"><span class="koboSpan" id="kobo.170.1">HTTPS protocol!</span></span></p>
<p><span class="koboSpan" id="kobo.171.1">On the Storyblok </span><strong class="bold"><span class="koboSpan" id="kobo.172.1">Welcome</span></strong><span class="koboSpan" id="kobo.173.1"> page, we can now fill in the </span><strong class="bold"><span class="koboSpan" id="kobo.174.1">Set up preview URL</span></strong><span class="koboSpan" id="kobo.175.1"> field so that it contains the local URL (this </span><a id="_idIndexMarker558"/><span class="koboSpan" id="kobo.176.1">should be similar to the prefilled placeholder). </span><span class="koboSpan" id="kobo.176.2">Don’t forget the </span><span class="No-Break"><span class="koboSpan" id="kobo.177.1">trailing slash!</span></span></p>
<p><span class="koboSpan" id="kobo.178.1">If you get an error in Storyblok, you may</span><a id="_idIndexMarker559"/><span class="koboSpan" id="kobo.179.1"> need to open the URL in your browser first as the browser might flag the local certificate as not private. </span><span class="koboSpan" id="kobo.179.2">If you accept the certificate in your browser, you can reload the Storyblok interface; it should show the Nuxt </span><span class="No-Break"><span class="koboSpan" id="kobo.180.1">welcome page:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer115">
<span class="koboSpan" id="kobo.181.1"><img alt="Figure 10.5 – The Nuxt welcome screen loaded in the Storyblok interface!" src="image/B19563_10_05.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.182.1">Figure 10.5 – The Nuxt welcome screen loaded in the Storyblok interface!</span></p>
<p><span class="koboSpan" id="kobo.183.1">This is pretty neat! </span><span class="koboSpan" id="kobo.183.2">You’re able </span><a id="_idIndexMarker560"/><span class="koboSpan" id="kobo.184.1">to see a locally run preview from an</span><a id="_idIndexMarker561"/><span class="koboSpan" id="kobo.185.1"> online CMS interface! </span><span class="koboSpan" id="kobo.185.2">Nothing is editable yet, but we’ll work on </span><span class="No-Break"><span class="koboSpan" id="kobo.186.1">this n</span><a id="_idTextAnchor326"/><span class="koboSpan" id="kobo.187.1">ext.</span></span></p>
<h2 id="_idParaDest-193"><a id="_idTextAnchor327"/><span class="koboSpan" id="kobo.188.1">Installing Nuxt modules</span></h2>
<p><span class="koboSpan" id="kobo.189.1">For now, we can stop</span><a id="_idIndexMarker562"/><span class="koboSpan" id="kobo.190.1"> the Nuxt server to install some Nuxt </span><a id="_idIndexMarker563"/><span class="koboSpan" id="kobo.191.1">modules we’ll be using. </span><span class="koboSpan" id="kobo.191.2">In the terminal, use the following command to install the Storyblok </span><span class="No-Break"><span class="koboSpan" id="kobo.192.1">module (</span></span><a href="https://github.com/storyblok/storyblok-nuxt"><span class="No-Break"><span class="koboSpan" id="kobo.193.1">https://github.com/storyblok/storyblok-nuxt</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.194.1">):</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.195.1">
npm i @storyblok/nuxt@5.7.4</span></pre> <p><span class="koboSpan" id="kobo.196.1">The </span><em class="italic"><span class="koboSpan" id="kobo.197.1">Storyblok Nuxt</span></em><span class="koboSpan" id="kobo.198.1"> module is an SDK that has opinionated, and therefore low-code, integration with Nuxt. </span><span class="koboSpan" id="kobo.198.2">It supports auto-importing and can map Vue components directly to Storyblok entities with very </span><span class="No-Break"><span class="koboSpan" id="kobo.199.1">little effort.</span></span></p>
<p><span class="koboSpan" id="kobo.200.1">We need to add a little </span><a id="_idIndexMarker564"/><span class="koboSpan" id="kobo.201.1">configuration before the </span><em class="italic"><span class="koboSpan" id="kobo.202.1">Storyblok Nuxt</span></em><span class="koboSpan" id="kobo.203.1"> module can function properly, so let’s open the </span><strong class="source-inline"><span class="koboSpan" id="kobo.204.1">nuxt.config.ts</span></strong><span class="koboSpan" id="kobo.205.1"> file and modify it </span><a id="_idIndexMarker565"/><span class="koboSpan" id="kobo.206.1">so that it has the </span><span class="No-Break"><span class="koboSpan" id="kobo.207.1">following contents:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.208.1">
// https://nuxt.com/docs/api/configuration/nuxt-configexport default defineNuxtConfig({
  devtools: { enabled: true },
  </span><strong class="bold"><span class="koboSpan" id="kobo.209.1">modules</span></strong><span class="koboSpan" id="kobo.210.1">: [
    ['@storyblok/nuxt', {
      accessToken: process.env.NUXT_STORYBLOK_ACCESS_TOKEN,
      apiOptions: {
          region: "</span><strong class="bold"><span class="koboSpan" id="kobo.211.1">eu</span></strong><span class="koboSpan" id="kobo.212.1">"
        }
      }
    ]
  ],
})</span></pre>
<p><span class="koboSpan" id="kobo.213.1">If you’re operating from a different region, be sure to pick the </span><span class="No-Break"><span class="koboSpan" id="kobo.214.1">corresponding region.</span></span></p>
<p><span class="koboSpan" id="kobo.215.1">While we’re setting up the modules, we can add the UI library (</span><a href="https://ui.nuxt.com/"><span class="koboSpan" id="kobo.216.1">https://ui.nuxt.com/</span></a><span class="koboSpan" id="kobo.217.1">) at this point too. </span><span class="koboSpan" id="kobo.217.2">We’ll install the library from the terminal with the </span><span class="No-Break"><span class="koboSpan" id="kobo.218.1">following command:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.219.1">
npm i @nuxt/ui@2.9.0</span></pre> <p><span class="koboSpan" id="kobo.220.1">Once the installation is done, we need to register the module by adding the module’s name to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.221.1">modules</span></strong><span class="koboSpan" id="kobo.222.1"> property </span><span class="No-Break"><span class="koboSpan" id="kobo.223.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.224.1">nuxt.config.ts</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.225.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.226.1">
// https://nuxt.com/docs/api/configuration/nuxt-configexport default defineNuxtConfig({
  devtools: { enabled: true },
  </span><strong class="bold"><span class="koboSpan" id="kobo.227.1">modules</span></strong><span class="koboSpan" id="kobo.228.1">: [
    ['@storyblok/nuxt', {
      accessToken: process.env.NUXT_STORYBLOK_ACCESS_TOKEN,
      apiOptions: {
        region: "eu"
      }
    }
    ]</span><strong class="bold"><span class="koboSpan" id="kobo.229.1">,</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.230.1">    '@nuxt/ui'</span></strong><span class="koboSpan" id="kobo.231.1">],
})</span></pre>
<p><span class="koboSpan" id="kobo.232.1">Before we start adding our own content </span><a id="_idIndexMarker566"/><span class="koboSpan" id="kobo.233.1">to the CMS, let’s test whether we can show the contents from Storyblok</span><a id="_idIndexMarker567"/><span class="koboSpan" id="kobo.234.1"> in </span><span class="No-Break"><span class="koboSpan" id="kobo.235.1">our application.</span></span></p>
<p><span class="koboSpan" id="kobo.236.1">First, we’ll open the </span><strong class="bold"><span class="koboSpan" id="kobo.237.1">Home</span></strong><span class="koboSpan" id="kobo.238.1"> entry in the </span><strong class="bold"><span class="koboSpan" id="kobo.239.1">Content</span></strong><span class="koboSpan" id="kobo.240.1"> section. </span><span class="koboSpan" id="kobo.240.2">Using </span><strong class="bold"><span class="koboSpan" id="kobo.241.1">Entry configuration</span></strong><span class="koboSpan" id="kobo.242.1">, we’ll tell Storyblok that this page is published on the root of the domain, using the </span><strong class="bold"><span class="koboSpan" id="kobo.243.1">Real </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.244.1">path</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.245.1"> property:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer116">
<span class="koboSpan" id="kobo.246.1"><img alt="Figure 10.6 – Updating the Real path value for our home page" src="image/B19563_10_06.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.247.1">Figure 10.6 – Updating the Real path value for our home page</span></p>
<p><span class="koboSpan" id="kobo.248.1">This change makes the</span><a id="_idIndexMarker568"/><span class="koboSpan" id="kobo.249.1"> contents of the </span><strong class="bold"><span class="koboSpan" id="kobo.250.1">Home</span></strong><span class="koboSpan" id="kobo.251.1"> page available on the main URL of our application. </span><span class="koboSpan" id="kobo.251.2">As mentioned previously, Storyblok offers a low-code SDK to</span><a id="_idIndexMarker569"/><span class="koboSpan" id="kobo.252.1"> integrate the CMS with our application. </span><span class="koboSpan" id="kobo.252.2">“Low-code” often means that we need to adopt </span><span class="No-Break"><span class="koboSpan" id="kobo.253.1">certain patterns.</span></span></p>
<p><span class="koboSpan" id="kobo.254.1">One of the things that the SDK does for us, for instance, is map the contents from the Block library to </span><span class="No-Break"><span class="koboSpan" id="kobo.255.1">Vue components.</span></span></p>
<p><span class="koboSpan" id="kobo.256.1">For this to work, we need to place those components in a </span><strong class="source-inline"><span class="koboSpan" id="kobo.257.1">./storyblok</span></strong><span class="koboSpan" id="kobo.258.1"> folder at the root of our project. </span><span class="koboSpan" id="kobo.258.2">For our test, we need to create two files. </span><span class="koboSpan" id="kobo.258.3">First, we’ll start with </span><strong class="source-inline"><span class="koboSpan" id="kobo.259.1">Page.vue</span></strong><span class="koboSpan" id="kobo.260.1"> in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.261.1">./</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.262.1">storyblok</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.263.1"> folder:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.264.1">
&lt;template&gt;    &lt;div </span><strong class="bold"><span class="koboSpan" id="kobo.265.1">v-editable="blok"</span></strong><span class="koboSpan" id="kobo.266.1">&gt;
      &lt;StoryblokComponent v-for="blok in blok.body" :key="blok._uid" :blok="blok" /&gt;
    &lt;/div&gt;
  &lt;/template&gt;
  &lt;script setup lang="ts"&gt;
  defineProps({ blok: Object })
  &lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.267.1">Next, we’ll create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.268.1">Teaser.vue</span></strong><span class="koboSpan" id="kobo.269.1"> file in the </span><span class="No-Break"><span class="koboSpan" id="kobo.270.1">same folder:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.271.1">
&lt;template&gt;  &lt;div </span><strong class="bold"><span class="koboSpan" id="kobo.272.1">v-editable="blok" </span></strong><span class="koboSpan" id="kobo.273.1">v-if="blok"&gt;
    {{ blok.headline }}
  &lt;/div&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
defineProps({ blok: Object });
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.274.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.275.1">v-editable</span></strong><span class="koboSpan" id="kobo.276.1"> directives are important to note in these files since they signal back to Storyblok that the contents of these blocks are indeed editable. </span><span class="koboSpan" id="kobo.276.2">We can now start creating a </span><strong class="source-inline"><span class="koboSpan" id="kobo.277.1">./pages</span></strong><span class="koboSpan" id="kobo.278.1"> folder in </span><a id="_idIndexMarker570"/><span class="koboSpan" id="kobo.279.1">our application and temporarily create</span><a id="_idIndexMarker571"/><span class="koboSpan" id="kobo.280.1"> an </span><strong class="source-inline"><span class="koboSpan" id="kobo.281.1">index.vue</span></strong><span class="koboSpan" id="kobo.282.1"> file with the </span><span class="No-Break"><span class="koboSpan" id="kobo.283.1">following contents:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.284.1">
&lt;script setup&gt;const story = await useAsyncStoryblok('home')
&lt;/script&gt;
&lt;template&gt;
  &lt;StoryblokComponent v-if="story" :blok="story.content" /&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.285.1">Let’s create a simple layout for our website. </span><span class="koboSpan" id="kobo.285.2">First, we’ll place a </span><strong class="source-inline"><span class="koboSpan" id="kobo.286.1">Header.vue</span></strong><span class="koboSpan" id="kobo.287.1"> file in a </span><strong class="source-inline"><span class="koboSpan" id="kobo.288.1">./components</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.289.1">folder: </span></span><a href="https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/10.portfolio/.notes/10.1-Header.vue"><span class="No-Break"><span class="koboSpan" id="kobo.290.1">https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/10.portfolio/.notes/10.1-Header.vue</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.291.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.292.1">We must also create another file called </span><strong class="source-inline"><span class="koboSpan" id="kobo.293.1">Footer.vue</span></strong><span class="koboSpan" id="kobo.294.1"> in the same </span><span class="No-Break"><span class="koboSpan" id="kobo.295.1">folder: </span></span><a href="https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/10.portfolio/.notes/10.2-Footer.vue"><span class="No-Break"><span class="koboSpan" id="kobo.296.1">https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/10.portfolio/.notes/10.2-Footer.vue</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.297.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.298.1">In both of these templates, we’re using some Nuxt UI components, but other than that, nothing special is going on. </span><span class="koboSpan" id="kobo.298.2">We’ll complete the base layout by creating a </span><strong class="source-inline"><span class="koboSpan" id="kobo.299.1">default.vue</span></strong><span class="koboSpan" id="kobo.300.1"> file in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.301.1">./</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.302.1">layouts</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.303.1"> folder:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.304.1">
&lt;template&gt;  &lt;div class="flex flex-col min-h-screen"&gt;
    &lt;Header /&gt;
    &lt;div class="flex-grow"&gt;
      &lt;main class="container mx-auto"&gt;
        &lt;slot /&gt;
      &lt;/main&gt;
    &lt;/div&gt;
    &lt;Footer /&gt;
  &lt;/div&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.305.1">With the page structure (albeit limited) in place, we can remove the </span><strong class="source-inline"><span class="koboSpan" id="kobo.306.1">app.vue</span></strong><span class="koboSpan" id="kobo.307.1"> file from our project’s root. </span><span class="koboSpan" id="kobo.307.2">In the Storyblok interface, you will see a </span><strong class="bold"><span class="koboSpan" id="kobo.308.1">Hello world!</span></strong><span class="koboSpan" id="kobo.309.1"> message, replacing the Nuxt </span><a id="_idIndexMarker572"/><span class="koboSpan" id="kobo.310.1">welcome view. </span><span class="koboSpan" id="kobo.310.2">Opening the development </span><a id="_idIndexMarker573"/><span class="koboSpan" id="kobo.311.1">server in a browser window will yield the same result. </span><span class="koboSpan" id="kobo.311.2">Now, if you change the text in Storyblok and save the change, you will see it reflected in both the Storyblok interface as well as directly in </span><span class="No-Break"><span class="koboSpan" id="kobo.312.1">the browser!</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer117">
<span class="koboSpan" id="kobo.313.1"><img alt="Figure 10.7 – Updating and saving the contents of the home page" src="image/B19563_10_07.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.314.1">Figure 10.7 – Updating and saving the contents of the home page</span></p>
<p><span class="koboSpan" id="kobo.315.1">Here, you can see how very little we needed to manually configure and set up to establish a connection! </span><span class="koboSpan" id="kobo.315.2">If we use the correct naming convention for our Storyblok components, the SDK can automatically populate the components with the content from Storyblok using the slug. </span><span class="koboSpan" id="kobo.315.3">On </span><a id="_idIndexMarker574"/><span class="koboSpan" id="kobo.316.1">top of that, those components are editable in the Storyblok </span><span class="No-Break"><span class="koboSpan" id="kobo.317.1">editor view.</span></span></p>
<p><span class="koboSpan" id="kobo.318.1">Apart from automatically</span><a id="_idIndexMarker575"/><span class="koboSpan" id="kobo.319.1"> mapping contents to components, the SDK also helps in identifying the URL and providing the corresponding contents. </span><span class="koboSpan" id="kobo.319.2">In the next section, we’ll add more content to the CMS so that we can start to explore this connection a </span><span class="No-Break"><span class="koboSpan" id="kobo.320.1">bit better!</span></span></p>
<p><span class="koboSpan" id="kobo.321.1">What we’ve done so far is set up pages. </span><span class="koboSpan" id="kobo.321.2">With Storyblok, you can easily create and modify pages using predetermined </span><a id="_idIndexMarker576"/><span class="koboSpan" id="kobo.322.1">components. </span><span class="koboSpan" id="kobo.322.2">These are the </span><strong class="bold"><span class="koboSpan" id="kobo.323.1">bloks</span></strong><span class="koboSpan" id="kobo.324.1">. </span><span class="koboSpan" id="kobo.324.2">Having a collection of reusable blocks allows editors to create a page and compose the contents by adding bloks and configuring them. </span><span class="koboSpan" id="kobo.324.3">Having the preview option available allows editors to see the changes</span><a id="_idIndexMarker577"/><span class="koboSpan" id="kobo.325.1"> before they’re deployed, which is a valuable fea</span><a id="_idTextAnchor328"/><span class="koboSpan" id="kobo.326.1">ture </span><span class="No-Break"><span class="koboSpan" id="kobo.327.1">of Storyblok.</span></span></p>
<h1 id="_idParaDest-194"><a id="_idTextAnchor329"/><span class="koboSpan" id="kobo.328.1">Working with multiple content types</span></h1>
<p><span class="koboSpan" id="kobo.329.1">To define the types and content to</span><a id="_idIndexMarker578"/><span class="koboSpan" id="kobo.330.1"> use on our pages, we can navigate to </span><strong class="bold"><span class="koboSpan" id="kobo.331.1">Block library</span></strong><span class="koboSpan" id="kobo.332.1"> in Storyblok. </span><span class="koboSpan" id="kobo.332.2">By default, you will see four existing blocks: </span><strong class="bold"><span class="koboSpan" id="kobo.333.1">feature</span></strong><span class="koboSpan" id="kobo.334.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.335.1">grid</span></strong><span class="koboSpan" id="kobo.336.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.337.1">page</span></strong><span class="koboSpan" id="kobo.338.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.339.1">teaser</span></strong><span class="koboSpan" id="kobo.340.1">. </span><span class="koboSpan" id="kobo.340.2">Between the blocks, there are two different types. </span><strong class="bold"><span class="koboSpan" id="kobo.341.1">page</span></strong><span class="koboSpan" id="kobo.342.1"> is of the </span><strong class="bold"><span class="koboSpan" id="kobo.343.1">Content </span></strong><span class="koboSpan" id="kobo.344.1">type, while the rest are of the </span><strong class="bold"><span class="koboSpan" id="kobo.345.1">Nestable</span></strong><span class="koboSpan" id="kobo.346.1"> type. </span><span class="koboSpan" id="kobo.346.2">The key difference is that </span><strong class="bold"><span class="koboSpan" id="kobo.347.1">Content type</span></strong><span class="koboSpan" id="kobo.348.1"> is a top-level type of content. </span><span class="koboSpan" id="kobo.348.2">You can consider it a sort of page with a unique URL. </span><span class="koboSpan" id="kobo.348.3">You use this to hold different compositions of the lower level of content type – that is, </span><strong class="bold"><span class="koboSpan" id="kobo.349.1">Nestable</span></strong><span class="koboSpan" id="kobo.350.1">. </span><span class="koboSpan" id="kobo.350.2">These are the building blocks of the pages: you can add them to a page to build the content </span><span class="No-Break"><span class="koboSpan" id="kobo.351.1">you like.</span></span></p>
<p><span class="koboSpan" id="kobo.352.1">There’s also </span><strong class="bold"><span class="koboSpan" id="kobo.353.1">Universal type</span></strong><span class="koboSpan" id="kobo.354.1">, which can act as either of the aforementioned types. </span><span class="koboSpan" id="kobo.354.2">We won’t use it in our </span><span class="No-Break"><span class="koboSpan" id="kobo.355.1">example, though.</span></span></p>
<p><span class="koboSpan" id="kobo.356.1">Let’s create a new block for our portfolio purposes by clicking on the </span><strong class="bold"><span class="koboSpan" id="kobo.357.1">+ New Block</span></strong><span class="koboSpan" id="kobo.358.1"> button. </span><span class="koboSpan" id="kobo.358.2">For the technical name, we’ll have to fill in how the content will be identified as part of a JSON structure. </span><span class="koboSpan" id="kobo.358.3">We’ll go with </span><strong class="source-inline"><span class="koboSpan" id="kobo.359.1">portfolio</span></strong><span class="koboSpan" id="kobo.360.1"> since lowercase is preferred in this case. </span><span class="koboSpan" id="kobo.360.2">This will be a </span><strong class="bold"><span class="koboSpan" id="kobo.361.1">Content type</span></strong><span class="koboSpan" id="kobo.362.1"> block, and we’ll configure the type by clicking on the </span><strong class="bold"><span class="koboSpan" id="kobo.363.1">Add Block</span></strong><span class="koboSpan" id="kobo.364.1"> button. </span><span class="koboSpan" id="kobo.364.2">Next, we’ll add the minimum fields we’ll need to present a project in our portfolio. </span><span class="koboSpan" id="kobo.364.3">Let’s go with the </span><span class="No-Break"><span class="koboSpan" id="kobo.365.1">following settings:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.366.1">Add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.367.1">title</span></strong><span class="koboSpan" id="kobo.368.1"> field name of the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.369.1">Text</span></strong></span><span class="No-Break"> </span><span class="No-Break"><span class="koboSpan" id="kobo.370.1">type.</span></span></li>
<li><span class="koboSpan" id="kobo.371.1">Add an </span><strong class="source-inline"><span class="koboSpan" id="kobo.372.1">image</span></strong><span class="koboSpan" id="kobo.373.1"> field name of the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.374.1">Asset</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.375.1"> type:</span></span><ol><li class="upper-roman"><span class="koboSpan" id="kobo.376.1">After creation, configure the field to only </span><span class="No-Break"><span class="koboSpan" id="kobo.377.1">allow </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.378.1">Images</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.379.1">.</span></span></li></ol></li>
<li><span class="koboSpan" id="kobo.380.1">Add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.381.1">description</span></strong><span class="koboSpan" id="kobo.382.1"> field name of the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.383.1">Textarea</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.384.1"> type:</span></span><ol><li class="upper-roman"><span class="koboSpan" id="kobo.385.1">After creation, configure the field to allow a maximum length of </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.386.1">150</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.387.1"> characters.</span></span></li></ol></li>
<li><span class="koboSpan" id="kobo.388.1">Add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.389.1">body</span></strong><span class="koboSpan" id="kobo.390.1"> field name of the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.391.1">Richtext</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.392.1"> type.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.393.1">Now, we’ll start to add some entries to the portfolio by navigating to the </span><strong class="bold"><span class="koboSpan" id="kobo.394.1">Content</span></strong><span class="koboSpan" id="kobo.395.1"> section of the </span><span class="No-Break"><span class="koboSpan" id="kobo.396.1">S</span><a id="_idTextAnchor330"/><span class="koboSpan" id="kobo.397.1">toryblok interface.</span></span></p>
<h2 id="_idParaDest-195"><a id="_idTextAnchor331"/><span class="koboSpan" id="kobo.398.1">Configuring the portfolio</span></h2>
<p><span class="koboSpan" id="kobo.399.1">We want our</span><a id="_idIndexMarker579"/><span class="koboSpan" id="kobo.400.1"> portfolio to be published on a </span><strong class="source-inline"><span class="koboSpan" id="kobo.401.1">/portfolio</span></strong><span class="koboSpan" id="kobo.402.1"> path, where the slug is added to the URL. </span><span class="koboSpan" id="kobo.402.2">On the </span><strong class="source-inline"><span class="koboSpan" id="kobo.403.1">/portfolio</span></strong><span class="koboSpan" id="kobo.404.1"> path, eventually, we will want to show an overview of projects. </span><span class="koboSpan" id="kobo.404.2">In the </span><strong class="bold"><span class="koboSpan" id="kobo.405.1">Content</span></strong><span class="koboSpan" id="kobo.406.1"> section, we’ll choose </span><strong class="bold"><span class="koboSpan" id="kobo.407.1">+ Create new</span></strong><span class="koboSpan" id="kobo.408.1"> to create a </span><strong class="bold"><span class="koboSpan" id="kobo.409.1">Folder</span></strong><span class="koboSpan" id="kobo.410.1"> parameter called </span><strong class="source-inline"><span class="koboSpan" id="kobo.411.1">Portfolio</span></strong><span class="koboSpan" id="kobo.412.1">. </span><span class="koboSpan" id="kobo.412.2">The slug will be filled in automatically. </span><span class="koboSpan" id="kobo.412.3">Note the </span><strong class="bold"><span class="koboSpan" id="kobo.413.1">Content type</span></strong><span class="koboSpan" id="kobo.414.1"> field, where we can restrict what types of content can be shown as part of the folder. </span><span class="koboSpan" id="kobo.414.2">We’ll keep the default settings for now, but we’ll circle back to that option in a few steps. </span><span class="koboSpan" id="kobo.414.3">Click </span><strong class="bold"><span class="koboSpan" id="kobo.415.1">Create</span></strong><span class="koboSpan" id="kobo.416.1"> to add the folder to </span><span class="No-Break"><span class="koboSpan" id="kobo.417.1">our content.</span></span></p>
<p><span class="koboSpan" id="kobo.418.1">Because we want to present an overview of projects on the root section of the portfolio, we’ll navigate to the folder and create a new entry, but this time, we’ll choose </span><strong class="bold"><span class="koboSpan" id="kobo.419.1">Story</span></strong><span class="koboSpan" id="kobo.420.1">. </span><span class="koboSpan" id="kobo.420.2">For the name, we’ll choose </span><strong class="source-inline"><span class="koboSpan" id="kobo.421.1">Home</span></strong><span class="koboSpan" id="kobo.422.1">, and we must check the </span><strong class="bold"><span class="koboSpan" id="kobo.423.1">Define as root for the folder</span></strong><span class="koboSpan" id="kobo.424.1"> checkbox when creating it. </span><span class="koboSpan" id="kobo.424.2">For the content type, we’ll use the default, which is </span><strong class="bold"><span class="koboSpan" id="kobo.425.1">Page</span></strong><span class="koboSpan" id="kobo.426.1">. </span><span class="koboSpan" id="kobo.426.2">Storyblok will attempt to open the page, which will result in either the server being unavailable if you haven’t started it or a </span><strong class="bold"><span class="koboSpan" id="kobo.427.1">404 not found</span></strong><span class="koboSpan" id="kobo.428.1"> error since we have not defined a target for this route. </span><span class="koboSpan" id="kobo.428.2">That’s okay – we’ll solve that in the </span><em class="italic"><span class="koboSpan" id="kobo.429.1">Mapping content to code</span></em><span class="koboSpan" id="kobo.430.1"> section. </span><span class="koboSpan" id="kobo.430.2">We need to configure this page using </span><strong class="bold"><span class="koboSpan" id="kobo.431.1">Entry configuration</span></strong><span class="koboSpan" id="kobo.432.1"> and check the </span><strong class="bold"><span class="koboSpan" id="kobo.433.1">Define as root for the folder</span></strong><span class="koboSpan" id="kobo.434.1"> checkbox. </span><span class="koboSpan" id="kobo.434.2">This option removes the slug value, which is precisely what we </span><span class="No-Break"><span class="koboSpan" id="kobo.435.1">will need.</span></span></p>
<p><span class="koboSpan" id="kobo.436.1">Although we added a type page here, we want to restrict the rest of the content so that it exclusively has </span><strong class="source-inline"><span class="koboSpan" id="kobo.437.1">Portfolio</span></strong><span class="koboSpan" id="kobo.438.1"> entries. </span><span class="koboSpan" id="kobo.438.2">For that, we’ll move to the root of the </span><strong class="bold"><span class="koboSpan" id="kobo.439.1">Content</span></strong><span class="koboSpan" id="kobo.440.1"> section in Storyblok and check the </span><strong class="source-inline"><span class="koboSpan" id="kobo.441.1">Portfolio</span></strong><span class="koboSpan" id="kobo.442.1"> folder entry so that we can edit the folder properties </span><span class="No-Break"><span class="koboSpan" id="kobo.443.1">once more:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer118">
<span class="koboSpan" id="kobo.444.1"><img alt="Figure 10.8 – Updating the settings for the Portfolio folder" src="image/B19563_10_08.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.445.1">Figure 10.8 – Updating the settings for the Portfolio folder</span></p>
<p><span class="koboSpan" id="kobo.446.1">This opens the same modal as when we created the folder. </span><span class="koboSpan" id="kobo.446.2">We’ll use this to restrict further additions to the </span><a id="_idIndexMarker580"/><span class="koboSpan" id="kobo.447.1">contents of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.448.1">Portfolio</span></strong><span class="koboSpan" id="kobo.449.1"> folder by checking the </span><strong class="bold"><span class="koboSpan" id="kobo.450.1">Restrict content types</span></strong><span class="koboSpan" id="kobo.451.1"> option and selecting the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.452.1">Portfolio</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.453.1"> type:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer119">
<span class="koboSpan" id="kobo.454.1"><img alt="Figure 10.9 – Restricting the content type for the Portfolio folder" src="image/B19563_10_09.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.455.1">Figure 10.9 – Restricting the content type for the Portfolio folder</span></p>
<p><span class="koboSpan" id="kobo.456.1">This doesn’t affect our previously created home page, but it will affect future entries. </span><span class="koboSpan" id="kobo.456.2">So, let’s create a couple of portfolio entries. </span><span class="koboSpan" id="kobo.456.3">You can choose what you want to showcase – I recommend </span><a id="_idIndexMarker581"/><span class="koboSpan" id="kobo.457.1">adding </span><em class="italic"><span class="koboSpan" id="kobo.458.1">at least two items</span></em><span class="koboSpan" id="kobo.459.1"> for the sake of this section. </span><span class="koboSpan" id="kobo.459.2">We will add more later to showcase the </span><span class="No-Break"><span class="koboSpan" id="kobo.460.1">pre</span><a id="_idTextAnchor332"/><span class="koboSpan" id="kobo.461.1">view’s capabilities!</span></span></p>
<h2 id="_idParaDest-196"><a id="_idTextAnchor333"/><span class="koboSpan" id="kobo.462.1">Mapping content to code</span></h2>
<p><span class="koboSpan" id="kobo.463.1">First, we’ll focus on</span><a id="_idIndexMarker582"/><span class="koboSpan" id="kobo.464.1"> regular pages since we have more than one to deal with now. </span><span class="koboSpan" id="kobo.464.2">We can remove the </span><strong class="source-inline"><span class="koboSpan" id="kobo.465.1">./pages/index.vue</span></strong><span class="koboSpan" id="kobo.466.1"> file completely and replace it with a file </span><span class="No-Break"><span class="koboSpan" id="kobo.467.1">called </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.468.1">./pages/[...slug].vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.469.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.470.1">
&lt;script setup lang="ts"&gt;const { slug } = useRoute().params as { slug: string[] };
const story = await useAsyncStoryblok(
  slug &amp;&amp; slug.length &gt; 0 ? </span><span class="koboSpan" id="kobo.470.2">slug.join("/") : "home", { version: "draft" }
);
&lt;/script&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;StoryblokComponent v-if="story" :blok="story.content" /&gt;
  &lt;/div&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.471.1">With this code in place, we should be able to render a simplistic page. </span><span class="koboSpan" id="kobo.471.2">Let’s take a look at the home page for the </span><strong class="bold"><span class="koboSpan" id="kobo.472.1">portfolio</span></strong><span class="koboSpan" id="kobo.473.1"> section. </span><span class="koboSpan" id="kobo.473.2">If we open it in Storyblok, we’ll see a blank page. </span><span class="koboSpan" id="kobo.473.3">In the </span><strong class="bold"><span class="koboSpan" id="kobo.474.1">Content</span></strong><span class="koboSpan" id="kobo.475.1"> panel on the </span><a id="_idIndexMarker583"/><span class="koboSpan" id="kobo.476.1">right-hand side, we can add a new block – for instance, the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.477.1">Teaser</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.478.1"> block.</span></span></p>
<p><span class="koboSpan" id="kobo.479.1">Let’s drag the </span><strong class="bold"><span class="koboSpan" id="kobo.480.1">Teaser</span></strong><span class="koboSpan" id="kobo.481.1"> block in and give it a fitting title for a portfolio </span><span class="No-Break"><span class="koboSpan" id="kobo.482.1">overview page:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer120">
<span class="koboSpan" id="kobo.483.1"><img alt="Figure 10.10 – Rendering a Teaser block on the page in preview mode" src="image/B19563_10_10.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.484.1">Figure 10.10 – Rendering a Teaser block on the page in preview mode</span></p>
<p><span class="koboSpan" id="kobo.485.1">Again, the preview we’re seeing is immediately visible when we access the development URL in the browser </span><span class="No-Break"><span class="koboSpan" id="kobo.486.1">as well!</span></span></p>
<p><span class="koboSpan" id="kobo.487.1">So, what’s happening here? </span><span class="koboSpan" id="kobo.487.2">We’ve used the Nuxt capability of file-based routing to land our application on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.488.1">[...slug].vue</span></strong><span class="koboSpan" id="kobo.489.1"> page. </span><span class="koboSpan" id="kobo.489.2">On this page, we’re reading the </span><strong class="source-inline"><span class="koboSpan" id="kobo.490.1">slug</span></strong><span class="koboSpan" id="kobo.491.1"> route parameter to query the Storyblok content using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.492.1">useAsyncStoryblok</span></strong><span class="koboSpan" id="kobo.493.1"> composable. </span><span class="koboSpan" id="kobo.493.2">In the template, we’re relying on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.494.1">&lt;StoryBlokComponent /&gt;</span></strong><span class="koboSpan" id="kobo.495.1"> component that the Storyblok SDK exposes to dynamically load the corresponding components from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.496.1">./storyblok</span></strong><span class="koboSpan" id="kobo.497.1"> folder to reflect items in the Block library</span><a id="_idIndexMarker584"/><span class="koboSpan" id="kobo.498.1"> from the CMS. </span><span class="koboSpan" id="kobo.498.2">Because of the auto-imports by the Nuxt framework, we have a very clean setup for </span><span class="No-Break"><span class="koboSpan" id="kobo.499.1">our page!</span></span></p>
<p><span class="koboSpan" id="kobo.500.1">You may have noticed that the </span><strong class="source-inline"><span class="koboSpan" id="kobo.501.1">./storyblok</span></strong><span class="koboSpan" id="kobo.502.1"> folder’s contents do not match the number of blocks in the library. </span><span class="koboSpan" id="kobo.502.2">Let’s quickly fix that: you will need to make sure these are always aligned to support the </span><span class="No-Break"><span class="koboSpan" id="kobo.503.1">different scenarios.</span></span></p>
<p><span class="koboSpan" id="kobo.504.1">We’ll fix this with a minimal setup for the components. </span><span class="koboSpan" id="kobo.504.2">First, we’ll create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.505.1">Feature.vue</span></strong><span class="koboSpan" id="kobo.506.1"> component in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.507.1">./storyblok</span></strong><span class="koboSpan" id="kobo.508.1"> folder with the </span><span class="No-Break"><span class="koboSpan" id="kobo.509.1">following contents:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.510.1">
&lt;script setup lang="ts"&gt;defineProps({ blok: Object });
&lt;/script&gt;
&lt;template&gt;
  &lt;div v-editable="blok" v-if="blok"&gt;
    &lt;h3&gt;
      {{ blok.name }}
    &lt;/h3&gt;
  &lt;/div&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.511.1">Then, in the same folder, we’ll create a </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.512.1">Grid.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.513.1"> file:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.514.1">
&lt;script setup lang="ts"&gt;defineProps({
  blok: {
    type: Object as () =&gt; { columns: any },
    required: true,
  },
});
&lt;/script&gt;
&lt;template&gt;
  &lt;div v-editable="blok" v-if="blok" class="flex mx-auto"&gt;
    </span><strong class="bold"><span class="koboSpan" id="kobo.515.1">&lt;StoryblokComponent</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.516.1">      v-for="blok in blok.columns"</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.517.1">      :key="blok._uid"</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.518.1">      :blok="blok"</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.519.1">    </span></strong><strong class="bold"><span class="koboSpan" id="kobo.520.1">/&gt;</span></strong><span class="koboSpan" id="kobo.521.1">
  &lt;/div&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.522.1">As you can see, this file is slightly</span><a id="_idIndexMarker585"/><span class="koboSpan" id="kobo.523.1"> different from a </span><strong class="source-inline"><span class="koboSpan" id="kobo.524.1">Feature.vue</span></strong><span class="koboSpan" id="kobo.525.1"> file since it can contain nested Storyblok components. </span><span class="koboSpan" id="kobo.525.2">We can simply feed those to </span><strong class="source-inline"><span class="koboSpan" id="kobo.526.1">&lt;StoryblokComponent /&gt;</span></strong><span class="koboSpan" id="kobo.527.1"> to render the correct component for every possible </span><a id="_idTextAnchor334"/><span class="koboSpan" id="kobo.528.1">level </span><span class="No-Break"><span class="koboSpan" id="kobo.529.1">of recursiveness.</span></span></p>
<h2 id="_idParaDest-197"><a id="_idTextAnchor335"/><span class="koboSpan" id="kobo.530.1">Presenting the portfolio section</span></h2>
<p><span class="koboSpan" id="kobo.531.1">Our </span><strong class="bold"><span class="koboSpan" id="kobo.532.1">portfolio</span></strong><span class="koboSpan" id="kobo.533.1"> section consists of roughly two cases: we want to present an overview of all portfolio items on the </span><a id="_idIndexMarker586"/><span class="koboSpan" id="kobo.534.1">home page for the section and we want to present an individual case on its </span><span class="No-Break"><span class="koboSpan" id="kobo.535.1">own page.</span></span></p>
<p><span class="koboSpan" id="kobo.536.1">First, let’s create the overview by creating a new block in </span><strong class="bold"><span class="koboSpan" id="kobo.537.1">Block Library</span></strong><span class="koboSpan" id="kobo.538.1">. </span><span class="koboSpan" id="kobo.538.2">We’ll call it </span><strong class="source-inline"><span class="koboSpan" id="kobo.539.1">portfolio-all</span></strong><span class="koboSpan" id="kobo.540.1"> and make it a nestable block. </span><span class="koboSpan" id="kobo.540.2">In the field editor, add the </span><span class="No-Break"><span class="koboSpan" id="kobo.541.1">following fields:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.542.1">Add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.543.1">title</span></strong><span class="koboSpan" id="kobo.544.1"> field name of the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.545.1">Text</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.546.1"> type.</span></span></li>
<li><span class="koboSpan" id="kobo.547.1">Add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.548.1">description</span></strong><span class="koboSpan" id="kobo.549.1"> field name of the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.550.1">Textarea</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.551.1"> type:</span></span><ol><li class="upper-roman"><span class="koboSpan" id="kobo.552.1">After creation, configure the field to allow a maximum length of </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.553.1">150</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.554.1"> characters.</span></span></li></ol></li>
<li><span class="koboSpan" id="kobo.555.1">Add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.556.1">body</span></strong><span class="koboSpan" id="kobo.557.1"> field name of the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.558.1">Richtext</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.559.1"> type.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.560.1">After saving, we can </span><a id="_idIndexMarker587"/><span class="koboSpan" id="kobo.561.1">update the </span><strong class="bold"><span class="koboSpan" id="kobo.562.1">portfolio</span></strong><span class="koboSpan" id="kobo.563.1"> home page. </span><span class="koboSpan" id="kobo.563.2">We can remove the </span><strong class="bold"><span class="koboSpan" id="kobo.564.1">Headline</span></strong><span class="koboSpan" id="kobo.565.1"> block since we don’t need it anymore. </span><span class="koboSpan" id="kobo.565.2">Drag in the new </span><strong class="bold"><span class="koboSpan" id="kobo.566.1">Portfolio All</span></strong><span class="koboSpan" id="kobo.567.1"> component and add some </span><span class="No-Break"><span class="koboSpan" id="kobo.568.1">sensible text:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer121">
<span class="koboSpan" id="kobo.569.1"><img alt="Figure 10.11 – Configuring the Portfolio All block" src="image/B19563_10_11.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.570.1">Figure 10.11 – Configuring the Portfolio All block</span></p>
<p><span class="koboSpan" id="kobo.571.1">As we’ve learned, we need to make sure we have a counterpart component in our </span><strong class="source-inline"><span class="koboSpan" id="kobo.572.1">./storyblok</span></strong><span class="koboSpan" id="kobo.573.1"> folder. </span><span class="koboSpan" id="kobo.573.2">The naming </span><a id="_idIndexMarker588"/><span class="koboSpan" id="kobo.574.1">convention follows camel case, so we need to create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.575.1">PortfolioAll.vue</span></strong><span class="koboSpan" id="kobo.576.1"> component in the </span><span class="No-Break"><span class="koboSpan" id="kobo.577.1">folder (</span></span><a href="https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/10.portfolio/.notes/10.3-PortfolioAll.vue"><span class="No-Break"><span class="koboSpan" id="kobo.578.1">https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/10.portfolio/.notes/10.3-PortfolioAll.vue</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.579.1">):</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.580.1">
&lt;script setup lang="ts"&gt;import type { Ref } from "vue";
import type { StoryblokProject, StoryBlok } from "@/types/storyblok";
const props = defineProps({
  blok: { type: Object as () =&gt; StoryBlok, required: true, },
});
const projects: Ref&lt;StoryblokProject[] | null&gt; = ref(null);
</span><strong class="bold"><span class="koboSpan" id="kobo.581.1">const storyblokApi = useStoryblokApi();</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.582.1">const { data } = await storyblokApi.get("cdn/stories", {</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.583.1">  version: "draft",</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.584.1">  starts_with: "portfolio",</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.585.1">  is_startpage: false,</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.586.1">});</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.587.1">const richTextBody = computed(() =&gt; renderRichText(props.blok. </span><span class="koboSpan" id="kobo.587.2">body));</span></strong>
<strong class="bold"> </strong>
<strong class="bold"><span class="koboSpan" id="kobo.588.1">projects.value = data.stories; </span></strong><span class="koboSpan" id="kobo.589.1">
&lt;/script&gt;
&lt;template&gt; 
  &lt;div&gt;
    &lt;h1 class="text-2xl mb-4 text-primary"&gt;
      {{ blok.headline }}
    &lt;/h1&gt;
    &lt;div v-html="richTextBody" class="py-4" /&gt;
    &lt;div class="grid grid-cols-2 gap-4"&gt;
      &lt;UCard
</span><strong class="bold"><span class="koboSpan" id="kobo.590.1">        v-for="project in projects"</span></strong></pre>
<p><span class="koboSpan" id="kobo.591.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.592.1">&lt;PortfolioAll /&gt;</span></strong><span class="koboSpan" id="kobo.593.1"> component is a bit more complicated. </span><span class="koboSpan" id="kobo.593.2">While it has a lot in common with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.594.1">Page</span></strong><span class="koboSpan" id="kobo.595.1"> component in the sense that it is getting props, we also manually request additional data using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.596.1">useStoryblokApi</span></strong><span class="koboSpan" id="kobo.597.1"> composable (lines 11-16). </span><span class="koboSpan" id="kobo.597.2">We’re getting all the stories on the portfolio path. </span><strong class="source-inline"><span class="koboSpan" id="kobo.598.1">is_startpage</span></strong><span class="koboSpan" id="kobo.599.1"> signals that we want to exclude the home </span><a id="_idIndexMarker589"/><span class="koboSpan" id="kobo.600.1">page of the portfolio section. </span><span class="koboSpan" id="kobo.600.2">On receiving the data, we store it in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.601.1">projects</span></strong><span class="koboSpan" id="kobo.602.1"> reference (lines 9 and 20) so that we can iterate over it in the template and we use Nuxt UI’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.603.1">&lt;ULink /&gt;</span></strong><span class="koboSpan" id="kobo.604.1"> component to render a link to the </span><span class="No-Break"><span class="koboSpan" id="kobo.605.1">project’s page.</span></span></p>
<p><span class="koboSpan" id="kobo.606.1">There’s another addition: since we’ve defined a rich-text field for the </span><em class="italic"><span class="koboSpan" id="kobo.607.1">body</span></em><span class="koboSpan" id="kobo.608.1"> of the home page, we need to make sure it gets rendered properly. </span><span class="koboSpan" id="kobo.608.2">We can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.609.1">renderRichText</span></strong><span class="koboSpan" id="kobo.610.1"> function from Storyblok (</span><em class="italic"><span class="koboSpan" id="kobo.611.1">line 18</span></em><span class="koboSpan" id="kobo.612.1">) as a </span><span class="No-Break"><span class="koboSpan" id="kobo.613.1">computed value.</span></span></p>
<p><span class="koboSpan" id="kobo.614.1">Let’s build the portfolio detail page as well, to close this section for now. </span><span class="koboSpan" id="kobo.614.2">Again, we need to create the corresponding component in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.615.1">./storyblok</span></strong><span class="koboSpan" id="kobo.616.1"> folder to have it automatically mapped to the URL. </span><span class="koboSpan" id="kobo.616.2">Since we’re displaying the </span><strong class="bold"><span class="koboSpan" id="kobo.617.1">Portfolio</span></strong><span class="koboSpan" id="kobo.618.1"> block type, we’ll create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.619.1">Portfolio.vue</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.620.1">component: </span></span><a href="https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/10.portfolio/.notes/10.4-Portfolio.vue"><span class="No-Break"><span class="koboSpan" id="kobo.621.1">https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/10.portfolio/.notes/10.4-Portfolio.vue</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.622.1">.</span></span></p>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.623.1">Portfolio.vue /</span></strong><span class="koboSpan" id="kobo.624.1"> is a pretty straightforward component. </span><span class="koboSpan" id="kobo.624.2">Because we’ve pre-defined the fields that are part of the </span><strong class="bold"><span class="koboSpan" id="kobo.625.1">Portfolio</span></strong><span class="koboSpan" id="kobo.626.1"> block, we can simply use the contents to render a common Vue template. </span><span class="koboSpan" id="kobo.626.2">In this case, the data is coming from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.627.1">./pages/[…slug.vue]</span></strong><span class="koboSpan" id="kobo.628.1"> component, or more specifically, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.629.1">useAsyncStoryblok</span></strong><span class="koboSpan" id="kobo.630.1"> composable, which feeds </span><strong class="source-inline"><span class="koboSpan" id="kobo.631.1">&lt;</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.632.1">StoryblokComponent /&gt;</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.633.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.634.1">For a more visual representation, the following model helps explain how the components </span><span class="No-Break"><span class="koboSpan" id="kobo.635.1">are rendered:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer122">
<span class="koboSpan" id="kobo.636.1"><img alt="Figure 10.12 – From data in Storyblok to a component in the browser" src="image/B19563_10_12.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.637.1">Figure 10.12 – From data in Storyblok to a component in the browser</span></p>
<p><span class="koboSpan" id="kobo.638.1">When the data is coming from Storyblok, it bears a description of the component type. </span><span class="koboSpan" id="kobo.638.2">Using the slug page, we always land on a Storyblok component, which then attempts to match the type to the corresponding Vue component in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.639.1">./storyblok</span></strong><span class="koboSpan" id="kobo.640.1"> folder. </span><span class="koboSpan" id="kobo.640.2">That component, in turn, could be a nested type, which means it contains another</span><a id="_idIndexMarker590"/><span class="koboSpan" id="kobo.641.1"> instance of the Storyblok component, and so on. </span><span class="koboSpan" id="kobo.641.2">Once you get the hang of this mental model, it’s pretty straightforward. </span><span class="koboSpan" id="kobo.641.3">The amount of automation and assumption that Nuxt and the Storyblok module take care of can obfuscate the mechanics </span><span class="No-Break"><span class="koboSpan" id="kobo.642.1">a bit.</span></span></p>
<p><span class="koboSpan" id="kobo.643.1">With our portfolio in place, let’s have a closer look at the content model and how we can be</span><a id="_idTextAnchor336"/><span class="koboSpan" id="kobo.644.1">tter tune it to </span><span class="No-Break"><span class="koboSpan" id="kobo.645.1">our needs.</span></span></p>
<h1 id="_idParaDest-198"><a id="_idTextAnchor337"/><span class="koboSpan" id="kobo.646.1">Modifying the content model</span></h1>
<p><span class="koboSpan" id="kobo.647.1">Our headless CMS is now </span><a id="_idIndexMarker591"/><span class="koboSpan" id="kobo.648.1">able to present basic layouts and contents to our portfolio. </span><span class="koboSpan" id="kobo.648.2">It’s still very limited this way, so let’s find out how we can work with the content model so tha</span><a id="_idTextAnchor338"/><span class="koboSpan" id="kobo.649.1">t it supports </span><span class="No-Break"><span class="koboSpan" id="kobo.650.1">new features.</span></span></p>
<h2 id="_idParaDest-199"><a id="_idTextAnchor339"/><span class="koboSpan" id="kobo.651.1">Updating existing types</span></h2>
<p><span class="koboSpan" id="kobo.652.1">Let’s assume that our </span><strong class="bold"><span class="koboSpan" id="kobo.653.1">Teaser</span></strong><span class="koboSpan" id="kobo.654.1"> block is a </span><strong class="bold"><span class="koboSpan" id="kobo.655.1">Heading</span></strong><span class="koboSpan" id="kobo.656.1"> block. </span><span class="koboSpan" id="kobo.656.2">I would recommend trying to keep blocks as static as </span><a id="_idIndexMarker592"/><span class="koboSpan" id="kobo.657.1">possible, but let’s see what we need to do to change a name. </span><span class="koboSpan" id="kobo.657.2">If we navigate to the </span><strong class="bold"><span class="koboSpan" id="kobo.658.1">Block library</span></strong><span class="koboSpan" id="kobo.659.1"> in CMS and hover over the </span><strong class="bold"><span class="koboSpan" id="kobo.660.1">Teaser</span></strong><span class="koboSpan" id="kobo.661.1"> block, we can enter edit mode with the context menu. </span><span class="koboSpan" id="kobo.661.2">In the </span><strong class="bold"><span class="koboSpan" id="kobo.662.1">Config</span></strong><span class="koboSpan" id="kobo.663.1"> tab, we have the option to update </span><span class="No-Break"><span class="koboSpan" id="kobo.664.1">the name:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer123">
<span class="koboSpan" id="kobo.665.1"><img alt="Figure 10.13 – Updating an existing block’s name" src="image/B19563_10_13.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.666.1">Figure 10.13 – Updating an existing block’s name</span></p>
<p><span class="koboSpan" id="kobo.667.1">The next step is simply renaming the </span><strong class="source-inline"><span class="koboSpan" id="kobo.668.1">Teaser.vue</span></strong><span class="koboSpan" id="kobo.669.1"> component to </span><strong class="source-inline"><span class="koboSpan" id="kobo.670.1">Heading.vue</span></strong><span class="koboSpan" id="kobo.671.1"> in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.672.1">./storyblok</span></strong><span class="koboSpan" id="kobo.673.1"> folder. </span><span class="koboSpan" id="kobo.673.2">To keep stability in mind, I would strongly recommend planning ahead with content modeling instead of relying on rewrites of existing </span><span class="No-Break"><span class="koboSpan" id="kobo.674.1">content types.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.675.1">A rule of thumb</span></p>
<p class="callout"><span class="koboSpan" id="kobo.676.1">With a growing application, it becomes increasingly risky to introduce model updates that require existing components to be renamed or deleted. </span><span class="koboSpan" id="kobo.676.2">These are considered breaking changes and can cause your application to (momentarily) break. </span><span class="koboSpan" id="kobo.676.3">Storyblok will warn you that changes can take time to propagate throughout the content and that this can affect or prevent the app from generating all the pages. </span><span class="koboSpan" id="kobo.676.4">These sorts of warnings or errors should be</span><a id="_idTextAnchor340"/><span class="koboSpan" id="kobo.677.1"> treated with </span><span class="No-Break"><span class="koboSpan" id="kobo.678.1">some caution.</span></span></p>
<p><span class="koboSpan" id="kobo.679.1">Changing or removing functionalities always introduces some risks in code. </span><span class="koboSpan" id="kobo.679.2">It’s much safer to add new features, as </span><a id="_idIndexMarker593"/><span class="koboSpan" id="kobo.680.1">we will </span><span class="No-Break"><span class="koboSpan" id="kobo.681.1">see next.</span></span></p>
<h2 id="_idParaDest-200"><a id="_idTextAnchor341"/><span class="koboSpan" id="kobo.682.1">Expanding the block properties</span></h2>
<p><span class="koboSpan" id="kobo.683.1">Changes that add functionality</span><a id="_idIndexMarker594"/><span class="koboSpan" id="kobo.684.1"> are easier to implement, so let’s see how we can expand the </span><strong class="bold"><span class="koboSpan" id="kobo.685.1">Feature</span></strong><span class="koboSpan" id="kobo.686.1"> block. </span><span class="koboSpan" id="kobo.686.2">Again, we’ll open the edit view. </span><span class="koboSpan" id="kobo.686.3">We’re going to add a couple </span><span class="No-Break"><span class="koboSpan" id="kobo.687.1">of fields:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.688.1">Add an </span><strong class="source-inline"><span class="koboSpan" id="kobo.689.1">image</span></strong><span class="koboSpan" id="kobo.690.1"> field name of the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.691.1">Asset</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.692.1"> type:</span></span><ol><li class="upper-roman"><span class="koboSpan" id="kobo.693.1">After creation, configure the field to only </span><span class="No-Break"><span class="koboSpan" id="kobo.694.1">allow </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.695.1">Images</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.696.1">.</span></span></li></ol></li>
<li><span class="koboSpan" id="kobo.697.1">Add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.698.1">link</span></strong><span class="koboSpan" id="kobo.699.1"> field name of the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.700.1">Link</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.701.1"> type.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.702.1">Once we save these changes, we’ll update the component so that we can experience the changes in the preview editor. </span><span class="koboSpan" id="kobo.702.2">Let’s open the </span><strong class="source-inline"><span class="koboSpan" id="kobo.703.1">./storyblok/Feature.vue</span></strong><span class="koboSpan" id="kobo.704.1"> file and replace </span><span class="No-Break"><span class="koboSpan" id="kobo.705.1">its contents:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.706.1">
&lt;script setup lang="ts"&gt;defineProps({ blok: {
  type: Object as () =&gt; { name: string, image: any, link: any },
} });
&lt;/script&gt;
&lt;template&gt;
  &lt;div v-editable="blok" v-if="blok" class="text-center"&gt;
    &lt;ULink :to="blok.link.cached_url"&gt;
      &lt;img
        v-if="blok.image"
        :src="blok.image.filename + '/m/200x0'"
        :alt="blok.image.alt"
      /&gt;
    &lt;/ULink&gt;
    &lt;header class="text-xl"&gt;
      {{ blok.name }}
    &lt;/header&gt;
  &lt;/div&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.707.1">We can update the default feature block on the home page of the website to, for instance, link to some portfolio items. </span><span class="koboSpan" id="kobo.707.2">You can also remove existing features if you don’t want to use them. </span><span class="koboSpan" id="kobo.707.3">Having updated the component, Storyblok gives you a good visualization of what the result will </span><span class="No-Break"><span class="koboSpan" id="kobo.708.1">look like.</span></span></p>
<p><span class="koboSpan" id="kobo.709.1">The pages are still a bit empty now, and that’s because we have no means of adding text. </span><span class="koboSpan" id="kobo.709.2">Let’s create the component</span><a id="_idIndexMarker595"/><span class="koboSpan" id="kobo.710.1"> first this time, and then implement it in the CMS. </span><span class="koboSpan" id="kobo.710.2">We’ll create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.711.1">RichText.vue</span></strong><span class="koboSpan" id="kobo.712.1"> component in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.713.1">./storyblok</span></strong><span class="koboSpan" id="kobo.714.1"> folder with the </span><span class="No-Break"><span class="koboSpan" id="kobo.715.1">following contents:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.716.1">
&lt;script setup lang="ts"&gt;const props = defineProps({
  blok: { type: Object as () =&gt; { body: any }, required: true },
});
const richTextBody = computed(() =&gt; renderRichText(props.blok.body));
&lt;/script&gt;
&lt;template&gt;
  &lt;div v-editable="blok" class="prose"&gt;
    &lt;div v-html="richTextBody" /&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;style scoped&gt;
.prose {
  line-height: 1.8em;
}
&lt;/style&gt;</span></pre>
<p><span class="koboSpan" id="kobo.717.1">Then, in Storyblok, we’ll add a new block called </span><strong class="source-inline"><span class="koboSpan" id="kobo.718.1">rich-text</span></strong><span class="koboSpan" id="kobo.719.1"> as a nestable block. </span><span class="koboSpan" id="kobo.719.2">As part of the fields, we’ll only add a single field called </span><strong class="source-inline"><span class="koboSpan" id="kobo.720.1">body</span></strong><span class="koboSpan" id="kobo.721.1"> of the </span><strong class="bold"><span class="koboSpan" id="kobo.722.1">Richtext</span></strong><span class="koboSpan" id="kobo.723.1"> type. </span><span class="koboSpan" id="kobo.723.2">Now, you can immediately add the </span><a id="_idIndexMarker596"/><span class="koboSpan" id="kobo.724.1">content block and start adding additional content to </span><span class="No-Break"><span class="koboSpan" id="kobo.725.1">the website!</span></span></p>
<p><span class="koboSpan" id="kobo.726.1">We’ll do a bit of refactoring with our blocks because the individual elements don’t allow us to create a good-looking visual representation, especially when dealing with text pages. </span><span class="koboSpan" id="kobo.726.2">First, we’ll create a Vue component in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.727.1">./storyblok</span></strong><span class="koboSpan" id="kobo.728.1"> folder </span><span class="No-Break"><span class="koboSpan" id="kobo.729.1">called </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.730.1">Article.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.731.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.732.1">
&lt;script setup lang="ts"&gt;defineProps({
  blok: { type: Object as () =&gt; { title: string, content: any}, required: true },
});
&lt;/script&gt;
&lt;template&gt;
  &lt;div v-editable="blok" class="article"&gt;
    &lt;h2 v-if="blok.title" class="text-2xl mb-4"&gt;{{ blok.title }}&lt;/h2&gt;
    &lt;StoryblokComponent
      v-for="blok in blok.content"
      :key="blok._uid"
      :blok="blok"
    /&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;style scoped&gt;
.article {
  max-width: 720px;
  margin: 2em auto;
}
&lt;/style&gt;</span></pre>
<p><span class="koboSpan" id="kobo.733.1">Next, we’ll flip over to the CMS to </span><a id="_idIndexMarker597"/><span class="koboSpan" id="kobo.734.1">create a new block called </span><strong class="source-inline"><span class="koboSpan" id="kobo.735.1">article</span></strong><span class="koboSpan" id="kobo.736.1"> as a nestable block with the </span><span class="No-Break"><span class="koboSpan" id="kobo.737.1">following fields:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.738.1">Add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.739.1">title</span></strong><span class="koboSpan" id="kobo.740.1"> field name of the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.741.1">Text</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.742.1"> type.</span></span></li>
<li><span class="koboSpan" id="kobo.743.1">Add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.744.1">content</span></strong><span class="koboSpan" id="kobo.745.1"> field name of the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.746.1">Block</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.747.1"> type.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.748.1">The second field allows us to compose the article type with many different blocks that are available. </span><span class="koboSpan" id="kobo.748.2">It would be good practice to try and set up something such as a contact card block for yourself, </span><span class="No-Break"><span class="koboSpan" id="kobo.749.1">for instance!</span></span></p>
<p><span class="koboSpan" id="kobo.750.1">Taking a hint from the</span><a id="_idIndexMarker598"/><span class="koboSpan" id="kobo.751.1"> layout we’ve set up, we’re still missing a page. </span><span class="koboSpan" id="kobo.751.2">With Storyblok, you should be able to create a </span><strong class="bold"><span class="koboSpan" id="kobo.752.1">Me</span></strong><span class="koboSpan" id="kobo.753.1"> story at the root of the project. </span><span class="koboSpan" id="kobo.753.2">You can use this space to introduce</span><a id="_idTextAnchor342"/><span class="koboSpan" id="kobo.754.1"> yourself and share </span><span class="No-Break"><span class="koboSpan" id="kobo.755.1">your journey.</span></span></p>
<h2 id="_idParaDest-201"><a id="_idTextAnchor343"/><span class="koboSpan" id="kobo.756.1">Mapping meta fields</span></h2>
<p><span class="koboSpan" id="kobo.757.1">Do you remember the </span><strong class="bold"><span class="koboSpan" id="kobo.758.1">Description</span></strong><span class="koboSpan" id="kobo.759.1"> fields we added to the </span><strong class="bold"><span class="koboSpan" id="kobo.760.1">Portfolio All</span></strong><span class="koboSpan" id="kobo.761.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.762.1">Portfolio</span></strong><span class="koboSpan" id="kobo.763.1"> blocks in the </span><em class="italic"><span class="koboSpan" id="kobo.764.1">Presenting the portfolio</span></em><span class="koboSpan" id="kobo.765.1"> section? </span><span class="koboSpan" id="kobo.765.2">We haven’t mapped those! </span><span class="koboSpan" id="kobo.765.3">These fields are meant to provide some </span><a id="_idIndexMarker599"/><span class="koboSpan" id="kobo.766.1">metadata to the page for </span><strong class="bold"><span class="koboSpan" id="kobo.767.1">Search Engine Optimisation</span></strong><span class="koboSpan" id="kobo.768.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.769.1">SEO</span></strong><span class="koboSpan" id="kobo.770.1">) purposes. </span><span class="koboSpan" id="kobo.770.2">Using semantic HTML tags, we can describe the page </span><a id="_idIndexMarker600"/><span class="koboSpan" id="kobo.771.1">contents specifically for indexing by search engines. </span><span class="koboSpan" id="kobo.771.2">Nuxt offers an out-of-the-box solution for controlling these tags and provides a composable (</span><a href="https://nuxt.com/docs/getting-started/seo-meta#usehead"><span class="koboSpan" id="kobo.772.1">https://nuxt.com/docs/getting-started/seo-meta#usehead</span></a><span class="koboSpan" id="kobo.773.1">) </span><span class="No-Break"><span class="koboSpan" id="kobo.774.1">for this.</span></span></p>
<p><span class="koboSpan" id="kobo.775.1">In both cases, since the field name is the same, we can add the </span><strong class="source-inline"><span class="koboSpan" id="kobo.776.1">meta</span></strong><span class="koboSpan" id="kobo.777.1"> field by inserting the following code into the </span><span class="No-Break"><span class="koboSpan" id="kobo.778.1">script tags:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.779.1">
useHead({  meta: [
    { name: 'description', content: props.blok.description }
  ]
});</span></pre>
<p><span class="koboSpan" id="kobo.780.1">Now, if you look at the source of the website, you will see the tag and </span><span class="No-Break"><span class="koboSpan" id="kobo.781.1">contents rendered:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer124">
<span class="koboSpan" id="kobo.782.1"><img alt="Figure 10.14 – The meta field has been rendered in the source code of the HTML" src="image/B19563_10_14.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.783.1">Figure 10.14 – The meta field has been rendered in the source code of the HTML</span></p>
<p><span class="koboSpan" id="kobo.784.1">It’s good to remember that we can use the content from the CMS not just for the visible parts of the website – we can process any content as a variable in our application. </span><span class="koboSpan" id="kobo.784.2">We could provide toggles or themes – anything really – where we can change the website without </span><a id="_idIndexMarker601"/><span class="koboSpan" id="kobo.785.1">deploying new code. </span><span class="koboSpan" id="kobo.785.2">That’s what makes a headless CMS a powerful</span><a id="_idTextAnchor344"/><span class="koboSpan" id="kobo.786.1"> tool when </span><span class="No-Break"><span class="koboSpan" id="kobo.787.1">developing applications.</span></span></p>
<h2 id="_idParaDest-202"><a id="_idTextAnchor345"/><span class="koboSpan" id="kobo.788.1">Adding new features</span></h2>
<p><span class="koboSpan" id="kobo.789.1">With these steps completed, you</span><a id="_idIndexMarker602"/><span class="koboSpan" id="kobo.790.1"> could try to add some more features to your portfolio. </span><span class="koboSpan" id="kobo.790.2">How about a nicely formatted contact sheet? </span><span class="koboSpan" id="kobo.790.3">Or a manageable resume section? </span><span class="koboSpan" id="kobo.790.4">With what we’ve built, you should be </span><a id="_idTextAnchor346"/><span class="koboSpan" id="kobo.791.1">able to figure this out </span><span class="No-Break"><span class="koboSpan" id="kobo.792.1">by yourself!</span></span></p>
<h1 id="_idParaDest-203"><a id="_idTextAnchor347"/><span class="koboSpan" id="kobo.793.1">Generating a standalone website</span></h1>
<p><span class="koboSpan" id="kobo.794.1">We now have a</span><a id="_idIndexMarker603"/><span class="koboSpan" id="kobo.795.1"> functional portfolio. </span><span class="koboSpan" id="kobo.795.2">This type of website has very static content: it doesn’t change depending on the visitor and will probably not receive daily updates in terms of code! </span><span class="koboSpan" id="kobo.795.3">This means that we can optimize the output of what we will deploy to </span><span class="No-Break"><span class="koboSpan" id="kobo.796.1">the public.</span></span></p>
<p><span class="koboSpan" id="kobo.797.1">The portfolio we’ve created is a perfect use case for static site generation. </span><span class="koboSpan" id="kobo.797.2">Normally, Nuxt would run as an active process on a server, where it can respond directly to requests and fetch data in real time. </span><span class="koboSpan" id="kobo.797.3">A good example is the </span><em class="italic"><span class="koboSpan" id="kobo.798.1">Quiz server</span></em><span class="koboSpan" id="kobo.799.1"> we built in </span><a href="B19563_08.xhtml#_idTextAnchor233"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.800.1">Chapter 8</span></em></span></a><span class="koboSpan" id="kobo.801.1">. </span><span class="koboSpan" id="kobo.801.2">But since we don’t need real-time data when publishing, we can leverage another capability of Nuxt. </span><span class="koboSpan" id="kobo.801.3">When generating a static site, Nuxt runs as an application initially and indexes all of the internal links. </span><span class="koboSpan" id="kobo.801.4">For every internal link, it will retrieve the data from the server once and then write the output to a static collection </span><span class="No-Break"><span class="koboSpan" id="kobo.802.1">of files.</span></span></p>
<p><span class="koboSpan" id="kobo.803.1">Let’s see this in action! </span><span class="koboSpan" id="kobo.803.2">The command is already part of our </span><strong class="source-inline"><span class="koboSpan" id="kobo.804.1">package.json</span></strong><span class="koboSpan" id="kobo.805.1"> scripts, but we need to slightly modify it so that we can pass the API key we need to access </span><span class="No-Break"><span class="koboSpan" id="kobo.806.1">the data:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.807.1">
…  "scripts": {
    "build": "nuxt build",
    "dev": "NODE_TLS_REJECT_UNAUTHORIZED=0 nuxt dev --dotenv .env --https --ssl-cert localhost.pem --ssl-key localhost-key.pem",
    "generate": "nuxt generate</span><strong class="bold"><span class="koboSpan" id="kobo.808.1">  --dotenv .env</span></strong><span class="koboSpan" id="kobo.809.1">",
    "preview": "nuxt preview",
    "postinstall": "nuxt prepare"
  },
…</span></pre>
<p><span class="koboSpan" id="kobo.810.1">We can just run the following</span><a id="_idIndexMarker604"/><span class="koboSpan" id="kobo.811.1"> command in </span><span class="No-Break"><span class="koboSpan" id="kobo.812.1">the terminal:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.813.1">
npm run generate</span></pre> <p><span class="koboSpan" id="kobo.814.1">You will see that the required files for a static site are being generated. </span><span class="koboSpan" id="kobo.814.2">On completion, the </span><em class="italic"><span class="koboSpan" id="kobo.815.1">Nuxt</span></em><span class="koboSpan" id="kobo.816.1"> generation process will return a command you can use to test the website as a </span><span class="No-Break"><span class="koboSpan" id="kobo.817.1">static site:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.818.1">
npx serve .output/public</span></pre> <p><span class="koboSpan" id="kobo.819.1">Running this command will start a simple HTTP web server. </span><span class="koboSpan" id="kobo.819.2">There is no Nuxt process running! </span><span class="koboSpan" id="kobo.819.3">This is just the browser running HTML, CSS, and JavaScript files. </span><span class="koboSpan" id="kobo.819.4">All of the contents from the CMS are now bundled as part of the website. </span><span class="koboSpan" id="kobo.819.5">Well, except for the images – they are served from the Storyblok CDN, which is optimized for doing </span><span class="No-Break"><span class="koboSpan" id="kobo.820.1">just that.</span></span></p>
<p><span class="koboSpan" id="kobo.821.1">We’ll see how we can make our s</span><a id="_idTextAnchor348"/><span class="koboSpan" id="kobo.822.1">tatic site public in the </span><span class="No-Break"><span class="koboSpan" id="kobo.823.1">next section!</span></span></p>
<h1 id="_idParaDest-204"><a id="_idTextAnchor349"/><span class="koboSpan" id="kobo.824.1">Publishing the static site</span></h1>
<p><span class="koboSpan" id="kobo.825.1">Any web host would be</span><a id="_idIndexMarker605"/><span class="koboSpan" id="kobo.826.1"> capable of serving these static files now. </span><span class="koboSpan" id="kobo.826.2">That’s one of the benefits of a static-generated website: the amount of freedom when it comes to hosting them. </span><span class="koboSpan" id="kobo.826.3">We do have some requirements down the line, however, so we’re choosing </span><a id="_idIndexMarker606"/><span class="koboSpan" id="kobo.827.1">Netlify (</span><a href="https://app.netlify.com/"><span class="koboSpan" id="kobo.828.1">https://app.netlify.com/</span></a><span class="koboSpan" id="kobo.829.1">) for our use case. </span><span class="koboSpan" id="kobo.829.2">If you register, you should be able to enter the free tier without any cost. </span><span class="koboSpan" id="kobo.829.3">While signing up, pick the categories that suit you best and pick a name for </span><span class="No-Break"><span class="koboSpan" id="kobo.830.1">your team.</span></span></p>
<p><span class="koboSpan" id="kobo.831.1">On the next screen, we’ll go with the Netlify Drop way </span><span class="No-Break"><span class="koboSpan" id="kobo.832.1">of deploying:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer125">
<span class="koboSpan" id="kobo.833.1"><img alt="Figure 10.15 – Choosing your first method of deployment" src="image/B19563_10_15.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.834.1">Figure 10.15 – Choosing your first method of deployment</span></p>
<p><span class="koboSpan" id="kobo.835.1">Choosing </span><strong class="bold"><span class="koboSpan" id="kobo.836.1">Try Netlify Drop</span></strong><span class="koboSpan" id="kobo.837.1"> redirects you to a drag-and-drop space where you can simply drag the output files</span><a id="_idIndexMarker607"/><span class="koboSpan" id="kobo.838.1"> from our project’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.839.1">./output/public</span></strong><span class="koboSpan" id="kobo.840.1"> folder. </span><span class="koboSpan" id="kobo.840.2">Make sure you drop the </span><strong class="source-inline"><span class="koboSpan" id="kobo.841.1">public</span></strong><span class="koboSpan" id="kobo.842.1"> folder and not the </span><span class="No-Break"><span class="koboSpan" id="kobo.843.1">separate contents!</span></span></p>
<p><span class="koboSpan" id="kobo.844.1">Once you’ve finished uploading everything, you will enter the dashboard for the first time. </span><span class="koboSpan" id="kobo.844.2">Clicking the </span><strong class="bold"><span class="koboSpan" id="kobo.845.1">Open production deploy</span></strong><span class="koboSpan" id="kobo.846.1"> button will send you to your published portfolio! </span><span class="koboSpan" id="kobo.846.2">The subdomain is generated by Netlify and contains random wording. </span><span class="koboSpan" id="kobo.846.3">You can opt to change it via the </span><strong class="bold"><span class="koboSpan" id="kobo.847.1">Domain </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.848.1">management</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.849.1"> section:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer126">
<span class="koboSpan" id="kobo.850.1"><img alt="Figure 10.16 – The Netlify dashboard after the first deployment" src="image/B19563_10_16.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.851.1">Figure 10.16 – The Netlify dashboard after the first deployment</span></p>
<p><span class="koboSpan" id="kobo.852.1">The free tier of Netlify offers capabilities for processing domain names, pointing your own domain to </span><span class="No-Break"><span class="koboSpan" id="kobo.853.1">this space.</span></span></p>
<p><span class="koboSpan" id="kobo.854.1">The drawback of a statically</span><a id="_idIndexMarker608"/><span class="koboSpan" id="kobo.855.1"> generated site is that the website we deployed is completely detached from the content and our Nuxt server. </span><span class="koboSpan" id="kobo.855.2">This means that if we update the content or change a feature in the code, we need to regenerate the website and manually upload the output to Netlify. </span><span class="koboSpan" id="kobo.855.3">This works but is </span><span class="No-Break"><span class="koboSpan" id="kobo.856.1">not ideal!</span></span></p>
<p><span class="koboSpan" id="kobo.857.1">Luckily, with some extra effort and configuration, we can automate deployments when either </span><a id="_idTextAnchor350"/><span class="koboSpan" id="kobo.858.1">the content changes or the </span><span class="No-Break"><span class="koboSpan" id="kobo.859.1">code changes!</span></span></p>
<h2 id="_idParaDest-205"><a id="_idTextAnchor351"/><span class="koboSpan" id="kobo.860.1">Automating the build and deployment on code change</span></h2>
<p><span class="koboSpan" id="kobo.861.1">Our Netlify environment </span><a id="_idIndexMarker609"/><span class="koboSpan" id="kobo.862.1">does not know about our application. </span><span class="koboSpan" id="kobo.862.2">Netlify is a tool for deploying web apps. </span><span class="koboSpan" id="kobo.862.3">We can’t connect Netlify to our local development environment. </span><span class="koboSpan" id="kobo.862.4">We need to host the source online </span><span class="No-Break"><span class="koboSpan" id="kobo.863.1">as well.</span></span></p>
<p><span class="koboSpan" id="kobo.864.1">GitHub (</span><a href="https://github.com/"><span class="koboSpan" id="kobo.865.1">https://github.com/</span></a><span class="koboSpan" id="kobo.866.1">) has excellent integrations with Netlify and is very suitable for hosting and versioning code. </span><span class="koboSpan" id="kobo.866.2">Without diving into the details, GitHub can detect when code has been updated on the repository and can trigger certain actions when </span><span class="No-Break"><span class="koboSpan" id="kobo.867.1">that happens.</span></span></p>
<p><span class="koboSpan" id="kobo.868.1">First, we’ll set up a repository where we can publish the code. </span><span class="koboSpan" id="kobo.868.2">Let’s create a new </span><span class="No-Break"><span class="koboSpan" id="kobo.869.1">empty repository:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer127">
<span class="koboSpan" id="kobo.870.1"><img alt="Figure 10.17 – Creating a new repository in GitHub" src="image/B19563_10_17.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.871.1">Figure 10.17 – Creating a new repository in GitHub</span></p>
<p><span class="koboSpan" id="kobo.872.1">Once the repository has </span><a id="_idIndexMarker610"/><span class="koboSpan" id="kobo.873.1">been created, you can follow the next steps to attach our code to the repository using </span><span class="No-Break"><span class="koboSpan" id="kobo.874.1">the terminal:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.875.1">
git initgit branch -m master main
git remote add origin https://github.com/{YOUR_USERNAME}/{REPOSITORY_NAME}.git
git add .
</span><span class="koboSpan" id="kobo.875.2">git commit -am "published source to git"
git push -u origin main</span></pre>
<p><span class="koboSpan" id="kobo.876.1">This pushes our code to GitHub, which means we can connect it to Netlify! </span><span class="koboSpan" id="kobo.876.2">On the dashboard, navigate to </span><strong class="bold"><span class="koboSpan" id="kobo.877.1">Site Configuration</span></strong><span class="koboSpan" id="kobo.878.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.879.1">Build &amp; Deploy</span></strong><span class="koboSpan" id="kobo.880.1"> and click the </span><strong class="bold"><span class="koboSpan" id="kobo.881.1">Link repository</span></strong><span class="koboSpan" id="kobo.882.1"> button. </span><span class="koboSpan" id="kobo.882.2">Then, you need to authorize Netlify on your GitHub account. </span><span class="koboSpan" id="kobo.882.3">Once you’ve done this, you’ll see an overview of your repositories. </span><span class="koboSpan" id="kobo.882.4">Select the portfolio repository you just created </span><span class="No-Break"><span class="koboSpan" id="kobo.883.1">to continue.</span></span></p>
<p><span class="koboSpan" id="kobo.884.1">It might automatically detect that it’s a Nuxt repository and Netlify will try and make some suggestions. </span><span class="koboSpan" id="kobo.884.2">We need to</span><a id="_idIndexMarker611"/><span class="koboSpan" id="kobo.885.1"> change </span><span class="No-Break"><span class="koboSpan" id="kobo.886.1">three settings:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.887.1">Change </span><strong class="bold"><span class="koboSpan" id="kobo.888.1">Build command</span></strong><span class="koboSpan" id="kobo.889.1"> to </span><strong class="source-inline"><span class="koboSpan" id="kobo.890.1">npm </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.891.1">run generate</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.892.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.893.1">Change </span><strong class="bold"><span class="koboSpan" id="kobo.894.1">Publish directory</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.895.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.896.1">./output/public</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.897.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.898.1">We need to add environment variables to add the contents of our </span><strong class="source-inline"><span class="koboSpan" id="kobo.899.1">.env</span></strong><span class="koboSpan" id="kobo.900.1"> file, with </span><strong class="bold"><span class="koboSpan" id="kobo.901.1">Key</span></strong><span class="koboSpan" id="kobo.902.1"> being </span><strong class="source-inline"><span class="koboSpan" id="kobo.903.1">NUXT_STORYBLOK_ACCESS_TOKEN</span></strong><span class="koboSpan" id="kobo.904.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.905.1">Value</span></strong><span class="koboSpan" id="kobo.906.1"> being what matches your access token. </span><span class="koboSpan" id="kobo.906.2">Make sure that </span><span class="No-Break"><span class="koboSpan" id="kobo.907.1">it’s saved!</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.908.1">The changes you’ve made should match </span><span class="No-Break"><span class="koboSpan" id="kobo.909.1">these settings:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer128">
<span class="koboSpan" id="kobo.910.1"><img alt="Figure 10.18 – Our new Netlify deployment settings" src="image/B19563_10_18.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.911.1">Figure 10.18 – Our new Netlify deployment settings</span></p>
<p><span class="koboSpan" id="kobo.912.1">Deploying this will allow Netlify to read from the repository and pull in the latest version on a change. </span><span class="koboSpan" id="kobo.912.2">It will do this automatically. </span><span class="koboSpan" id="kobo.912.3">Then, it will run the </span><strong class="source-inline"><span class="koboSpan" id="kobo.913.1">npm run generate</span></strong><span class="koboSpan" id="kobo.914.1"> script to do the static </span><a id="_idIndexMarker612"/><span class="koboSpan" id="kobo.915.1">site rendering on a virtual environment. </span><span class="koboSpan" id="kobo.915.2">The final step will be to deploy the contents of the output folder to the </span><span class="No-Break"><span class="koboSpan" id="kobo.916.1">web domain.</span></span></p>
<p><span class="koboSpan" id="kobo.917.1">It’s that easy! </span><span class="koboSpan" id="kobo.917.2">If you work on your local code and commit and push the code to the repository, the change will automatically be deployed! </span><span class="koboSpan" id="kobo.917.3">It is good to note that we are not verifying whether our code is functional since we have no tests running on our application. </span><span class="koboSpan" id="kobo.917.4">It would be best practice to make sure</span><a id="_idTextAnchor352"/><span class="koboSpan" id="kobo.918.1"> that critical features of your </span><span class="No-Break"><span class="koboSpan" id="kobo.919.1">code work.</span></span></p>
<h2 id="_idParaDest-206"><a id="_idTextAnchor353"/><span class="koboSpan" id="kobo.920.1">Automating the build on content change</span></h2>
<p><span class="koboSpan" id="kobo.921.1">It would be perfect if we could do </span><a id="_idIndexMarker613"/><span class="koboSpan" id="kobo.922.1">something similar on a content change rather than a code change, right? </span><span class="koboSpan" id="kobo.922.2">Luckily, there’s a very convenient way of doing this: we can use webhooks to trigger actions. </span><span class="koboSpan" id="kobo.922.3">Storyblok will keep track of when content is ready to be published and it can trigger an action on the Netlify platform that executes a build just like with a code change. </span><span class="koboSpan" id="kobo.922.4">This time, however, Nuxt will fetch the latest version of the content during the </span><span class="No-Break"><span class="koboSpan" id="kobo.923.1">generation process.</span></span></p>
<p><span class="koboSpan" id="kobo.924.1">Let’s see how we can set this up. </span><span class="koboSpan" id="kobo.924.2">First, we need to create a webhook in Netlify. </span><span class="koboSpan" id="kobo.924.3">This webhook is nothing more than a unique URL that triggers an internal action when it’s </span><span class="No-Break"><span class="koboSpan" id="kobo.925.1">being called.</span></span></p>
<p><span class="koboSpan" id="kobo.926.1">Navigate to </span><strong class="bold"><span class="koboSpan" id="kobo.927.1">Site configuration</span></strong><span class="koboSpan" id="kobo.928.1"> and then locate the </span><strong class="bold"><span class="koboSpan" id="kobo.929.1">Build hooks</span></strong><span class="koboSpan" id="kobo.930.1"> section under </span><strong class="bold"><span class="koboSpan" id="kobo.931.1">Build &amp; Deploy</span></strong><span class="koboSpan" id="kobo.932.1">. </span><span class="koboSpan" id="kobo.932.2">If we click the </span><strong class="bold"><span class="koboSpan" id="kobo.933.1">Add build hook</span></strong><span class="koboSpan" id="kobo.934.1"> button, we can give it a meaningful name, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.935.1">Deploy on Content Change</span></strong><span class="koboSpan" id="kobo.936.1">. </span><span class="koboSpan" id="kobo.936.2">The settings default to building the </span><em class="italic"><span class="koboSpan" id="kobo.937.1">main</span></em><span class="koboSpan" id="kobo.938.1"> branch, which is perfect. </span><span class="koboSpan" id="kobo.938.2">After a moment of saving, you will receive a unique URL with a pattern such </span><span class="No-Break"><span class="koboSpan" id="kobo.939.1">as </span></span><a href="https://api.netlify.com/build_hooks/UNIQUE_IDENTIFIER"><span class="No-Break"><span class="koboSpan" id="kobo.940.1">https://api.netlify.com/build_hooks/UNIQUE_IDENTIFIER</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.941.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.942.1">Now, we can move to Storyblok to configure calling this webhook. </span><span class="koboSpan" id="kobo.942.2">If we navigate to the </span><strong class="bold"><span class="koboSpan" id="kobo.943.1">Settings</span></strong><span class="koboSpan" id="kobo.944.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.945.1">Webhook</span></strong><span class="koboSpan" id="kobo.946.1"> sections, we can manage webhooks! </span><span class="koboSpan" id="kobo.946.2">We’ll create a new one, again with a meaningful name. </span><span class="koboSpan" id="kobo.946.3">In the </span><strong class="bold"><span class="koboSpan" id="kobo.947.1">Endpoint URL</span></strong><span class="koboSpan" id="kobo.948.1"> area, we can paste the endpoint </span><span class="No-Break"><span class="koboSpan" id="kobo.949.1">from Netlify.</span></span></p>
<p><span class="koboSpan" id="kobo.950.1">The </span><em class="italic"><span class="koboSpan" id="kobo.951.1">triggers</span></em><span class="koboSpan" id="kobo.952.1"> determine which events we want to call the webhook on. </span><span class="koboSpan" id="kobo.952.2">You can experiment a bit with the settings, but I </span><a id="_idIndexMarker614"/><span class="koboSpan" id="kobo.953.1">recommend starting with </span><span class="No-Break"><span class="koboSpan" id="kobo.954.1">this set:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer129">
<span class="koboSpan" id="kobo.955.1"><img alt="Figure 10.19 – Selecting event triggers to call the webhook" src="image/B19563_10_19.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.956.1">Figure 10.19 – Selecting event triggers to call the webhook</span></p>
<p><span class="koboSpan" id="kobo.957.1">Ideally, you want to select as few triggers as possible, simply because every build process takes time. </span><span class="koboSpan" id="kobo.957.2">Calling the webhook consecutive times just puts requests in a queue, which can lead to longer waiting times for your change to </span><span class="No-Break"><span class="koboSpan" id="kobo.958.1">be visible.</span></span></p>
<p><span class="koboSpan" id="kobo.959.1">Let’s save these settings and </span><a id="_idIndexMarker615"/><span class="koboSpan" id="kobo.960.1">change some content in </span><span class="No-Break"><span class="koboSpan" id="kobo.961.1">our portfolio.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.962.1">Tip</span></p>
<p class="callout"><span class="koboSpan" id="kobo.963.1">If you’re not running the Nuxt development server, you can still edit the content using the panel on the right-hand side. </span><span class="koboSpan" id="kobo.963.2">You can even expand it to fill the screen using the </span><strong class="bold"><span class="koboSpan" id="kobo.964.1">Show form </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.965.1">view</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.966.1"> button:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer130">
<span class="koboSpan" id="kobo.967.1"><img alt="Figure 10.20 – Expanding the editing capabilities using the form view" src="image/B19563_10_20.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.968.1">Figure 10.20 – Expanding the editing capabilities using the form view</span></p>
<p><span class="koboSpan" id="kobo.969.1">Not having the development server just means that you don’t have a live preview. </span><span class="koboSpan" id="kobo.969.2">It’s not mandatory to access </span><span class="No-Break"><span class="koboSpan" id="kobo.970.1">the content.</span></span></p>
<p><span class="koboSpan" id="kobo.971.1">After saving, you can go over to the </span><strong class="bold"><span class="koboSpan" id="kobo.972.1">Deploys</span></strong><span class="koboSpan" id="kobo.973.1"> section on the Netlify dash</span><a id="_idTextAnchor354"/><span class="koboSpan" id="kobo.974.1">board to see that it triggered a </span><span class="No-Break"><span class="koboSpan" id="kobo.975.1">new build.</span></span></p>
<h1 id="_idParaDest-207"><a id="_idTextAnchor355"/><span class="koboSpan" id="kobo.976.1">You made it!</span></h1>
<p><span class="koboSpan" id="kobo.977.1">In this chapter, we’ve been working with different platforms and systems to connect them into a single application that renders a static website. </span><span class="koboSpan" id="kobo.977.2">One of the key takeaways is that we can combine the strengths of many specialized solutions to build a robust product we can deploy. </span><span class="koboSpan" id="kobo.977.3">I highly recommend checking out more resources on both Storyblok and Netlify since they work well with this type of </span><span class="No-Break"><span class="koboSpan" id="kobo.978.1">web stack.</span></span></p>
<p><span class="koboSpan" id="kobo.979.1">The combination of the live preview of Storyblok and the developer experience of using Nuxt as a framework makes these sorts of projects very easy to get started with and build something we can use! </span><span class="koboSpan" id="kobo.979.2">We’ve seen that Nuxt doesn’t always have to run as a server – it can be used to generate the data from the server once and store the output. </span><span class="koboSpan" id="kobo.979.3">This approach is more sustainable and offers better performance than real-time </span><span class="No-Break"><span class="koboSpan" id="kobo.980.1">data fetching.</span></span></p>
<p><span class="koboSpan" id="kobo.981.1">With the way we’ve set up Storyblok and integrated it with Nuxt, it’s a very accessible way for anybody to build a website. </span><span class="koboSpan" id="kobo.981.2">We’ve built a relatively simple example, but with an increasing number of blocks, the possibilities you can create scale up massively while still being very easy to understand for </span><span class="No-Break"><span class="koboSpan" id="kobo.982.1">non-technical users.</span></span></p>
<p><span class="koboSpan" id="kobo.983.1">Every configuration we’ve set up in this chapter was aimed at managing the website as easily as possible. </span><span class="koboSpan" id="kobo.983.2">Even the publication mechanisms add to that goal by both automating code deployments as well as automatically generating a new version when content </span><span class="No-Break"><span class="koboSpan" id="kobo.984.1">is changed.</span></span></p>
<p><span class="koboSpan" id="kobo.985.1">On top of all of this, we’ve created a platform where you can log your journey while working through the chapters of this book. </span><span class="koboSpan" id="kobo.985.2">I recommend completing the portfolio with projects or achievements you’re </span><span class="No-Break"><span class="koboSpan" id="kobo.986.1">proud of.</span></span></p>
<p><span class="koboSpan" id="kobo.987.1">One of the goals of this book was to present real-world code. </span><span class="koboSpan" id="kobo.987.2">Real-world code is often pragmatic and may not always be optimized to perfection. </span><span class="koboSpan" id="kobo.987.3">Similarly, the examples in this book are not flawless. </span><span class="koboSpan" id="kobo.987.4">However, they effectively achieve the intended goals. </span><span class="koboSpan" id="kobo.987.5">Embracing pragmatism enables you to validate features with users and shorten feedback loops, which is a very valuable aspect. </span><span class="koboSpan" id="kobo.987.6">I’ve illustrated that refactoring and optimization are integral parts of a continuous process. </span><span class="koboSpan" id="kobo.987.7">I want to stress that, as you gain deeper insights into projects, you’ll naturally prioritize which aspects </span><span class="No-Break"><span class="koboSpan" id="kobo.988.1">require optimization.</span></span></p>
<p><span class="koboSpan" id="kobo.989.1">Looking back, I hope you are proud of the work you’ve put in with all the different types of topics, technologies, and apps we’ve built throughout this book. </span><span class="koboSpan" id="kobo.989.2">I have tried to paint a broad picture of possible real-world scenarios while continuously increasing your level of Vue.js knowledge and experience. </span><span class="koboSpan" id="kobo.989.3">I would like to thank you for your interest in these topics and for following along during our journey. </span><span class="koboSpan" id="kobo.989.4">The investigating, building, and documenting process has also been very valuable for me, and I am grateful for the opportunity I’ve had to teach and share my knowledge and approach when </span><span class="No-Break"><span class="koboSpan" id="kobo.990.1">writing code.</span></span></p>
</div>
</body></html>