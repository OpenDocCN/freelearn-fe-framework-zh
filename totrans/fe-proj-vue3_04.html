<html><head></head><body>
<div id="_idContainer139">
<h1 class="chapter-number" id="_idParaDest-83"><a id="_idTextAnchor128"/><span class="koboSpan" id="kobo.1.1">4</span></h1>
<h1 id="_idParaDest-84"><a id="_idTextAnchor129"/><span class="koboSpan" id="kobo.2.1">Nesting Components (Modularity)</span></h1>
<p><span class="koboSpan" id="kobo.3.1">In the previous chapter, we learned how to initialize, build, and debug a simple Vue application. </span><span class="koboSpan" id="kobo.3.2">In this chapter, you will discover how to modularize a Vue application using component hierarchies and nesting. </span><span class="koboSpan" id="kobo.3.3">This chapter introduces concepts such as props, events, prop validation, and slots. </span><span class="koboSpan" id="kobo.3.4">It also covers how to use refs to access DOM elements </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">during runtime.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">By the end of this chapter, you will be able to define communication interfaces between components using props, events, and validators, and be ready to build components for your Vue component library or a </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">Vue application.</span></span></p>
<p><span class="koboSpan" id="kobo.7.1">This chapter covers the </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">following topics:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.9.1">Passing props</span></span></li>
<li><span class="koboSpan" id="kobo.10.1">Understanding prop types </span><span class="No-Break"><span class="koboSpan" id="kobo.11.1">and validation</span></span></li>
<li><span class="koboSpan" id="kobo.12.1">Understanding slots, named slots, and </span><span class="No-Break"><span class="koboSpan" id="kobo.13.1">scoped slots</span></span></li>
<li><span class="koboSpan" id="kobo.14.1">Understanding </span><span class="No-Break"><span class="koboSpan" id="kobo.15.1">Vue refs</span></span></li>
<li><span class="koboSpan" id="kobo.16.1">Using events for </span><span class="No-Break"><span class="koboSpan" id="kobo.17.1">child-parent communication</span></span></li>
</ul>
<h1 id="_idParaDest-85"><a id="_idTextAnchor130"/><span class="koboSpan" id="kobo.18.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.19.1">In this chapter, you need to set up a basic Vue project following the instructions in </span><a href="B18645_01.xhtml#_idTextAnchor015"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.20.1">Chapter 1</span></em></span></a><span class="koboSpan" id="kobo.21.1">, </span><em class="italic"><span class="koboSpan" id="kobo.22.1">Starting Your First Vue Project</span></em><span class="koboSpan" id="kobo.23.1">. </span><span class="koboSpan" id="kobo.23.2">It’s recommended to create a Vue component in a single file to practice the examples and concepts covered here </span><span class="No-Break"><span class="koboSpan" id="kobo.24.1">with ease.</span></span></p>
<p><a id="_idTextAnchor131"/><span class="koboSpan" id="kobo.25.1">The complete code for this chapter is available on GitHub </span><span class="No-Break"><span class="koboSpan" id="kobo.26.1">at: </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter04"><span class="No-Break"><span class="koboSpan" id="kobo.27.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter04</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.28.1">.</span></span></p>
<h1 id="_idParaDest-86"><a id="_idTextAnchor132"/><span class="koboSpan" id="kobo.29.1">Passing props</span></h1>
<p><strong class="bold"><span class="koboSpan" id="kobo.30.1">Props</span></strong><span class="koboSpan" id="kobo.31.1"> in the context of Vue</span><a id="_idIndexMarker343"/><span class="koboSpan" id="kobo.32.1"> are fields defined in a child</span><a id="_idIndexMarker344"/><span class="koboSpan" id="kobo.33.1"> component accessible on that component’s instance (</span><strong class="source-inline"><span class="koboSpan" id="kobo.34.1">this</span></strong><span class="koboSpan" id="kobo.35.1">) and in the </span><span class="No-Break"><span class="koboSpan" id="kobo.36.1">component’s </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.37.1">template</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.38.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.39.1">The value of a prop depends on what the parent passes in its </span><strong class="source-inline"><span class="koboSpan" id="kobo.40.1">template</span></strong><span class="koboSpan" id="kobo.41.1"> to the child component at </span><span class="No-Break"><span class="koboSpan" id="kobo.42.1">render time</span><a id="_idTextAnchor133"/><span class="koboSpan" id="kobo.43.1">.</span></span></p>
<h2 id="_idParaDest-87"><a id="_idTextAnchor134"/><span class="koboSpan" id="kobo.44.1">Defining a simple component that accepts props</span></h2>
<p><span class="koboSpan" id="kobo.45.1">Let’s look at a simple </span><strong class="source-inline"><span class="koboSpan" id="kobo.46.1">HelloWorld</span></strong><span class="koboSpan" id="kobo.47.1"> single-file</span><a id="_idIndexMarker345"/><span class="koboSpan" id="kobo.48.1"> component. </span><span class="koboSpan" id="kobo.48.2">You can find this at </span><strong class="source-inline"><span class="koboSpan" id="kobo.49.1">./src/components/HelloWorld.vue</span></strong><span class="koboSpan" id="kobo.50.1">, generated automatically when you create a Vue project </span><span class="No-Break"><span class="koboSpan" id="kobo.51.1">with Vite.</span></span></p>
<p><span class="koboSpan" id="kobo.52.1">Note how the </span><strong class="source-inline"><span class="koboSpan" id="kobo.53.1">msg</span></strong><span class="koboSpan" id="kobo.54.1"> value is set in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.55.1">props</span></strong><span class="koboSpan" id="kobo.56.1"> array and that it is interpolated as a value using </span><strong class="source-inline"><span class="koboSpan" id="kobo.57.1">{{ </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.58.1">msg }}</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.59.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.60.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.61.1">props</span></strong><span class="koboSpan" id="kobo.62.1"> property of a Vue component can be an array of strings or an object literal, each property field of which is a component’s </span><span class="No-Break"><span class="koboSpan" id="kobo.63.1">prop definition.</span></span></p>
<p><span class="koboSpan" id="kobo.64.1">When a value is defined in </span><strong class="source-inline"><span class="koboSpan" id="kobo.65.1">props</span></strong><span class="koboSpan" id="kobo.66.1">, it is then accessible as an instance variable in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.67.1">template</span></strong><span class="koboSpan" id="kobo.68.1"> section of the </span><span class="No-Break"><span class="koboSpan" id="kobo.69.1">Vue component:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.70.1">
&lt;template&gt;
  &lt;div class="hello"&gt;
    &lt;h1&gt;{{ msg }}&lt;/h1&gt;
    &lt;!-- … --&gt;
  &lt;/div&gt;
&lt;/templat</span><a id="_idTextAnchor135"/><span class="koboSpan" id="kobo.71.1">e&gt;
&lt;script&gt;
export default {
  name: 'HelloWorld',
  props: ['msg']
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.72.1">We will now learn how to render a component </span><span class="No-Break"><span class="koboSpan" id="kobo.73.1">using prop</span><a id="_idTextAnchor136"/><span class="koboSpan" id="kobo.74.1">s.</span></span></p>
<h2 id="_idParaDest-88"><a id="_idTextAnchor137"/><span class="koboSpan" id="kobo.75.1">Passing props to a component</span></h2>
<p><span class="koboSpan" id="kobo.76.1">What follows is a demonstration</span><a id="_idIndexMarker346"/><span class="koboSpan" id="kobo.77.1"> of how to use </span><a id="_idTextAnchor138"/><span class="koboSpan" id="kobo.78.1">the </span><strong class="source-inline"><span class="koboSpan" id="kobo.79.1">HelloWorld</span></strong><span class="koboSpan" id="kobo.80.1"> component in our </span><span class="No-Break"><span class="koboSpan" id="kobo.81.1">Vue application.</span></span></p>
<p><span class="koboSpan" id="kobo.82.1">First, we need to import </span><strong class="source-inline"><span class="koboSpan" id="kobo.83.1">HelloWorld</span></strong><span class="koboSpan" id="kobo.84.1"> in our </span><strong class="source-inline"><span class="koboSpan" id="kobo.85.1">App.vue</span></strong><span class="koboSpan" id="kobo.86.1"> file using </span><strong class="source-inline"><span class="koboSpan" id="kobo.87.1">&lt;</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.88.1">script setup&gt;</span><a id="_idTextAnchor139"/></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.89.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.90.1">
&lt;script setup&gt;
import HelloWorld from "./components/HelloWorld.vue";
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.91.1">Then, in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.92.1">template</span></strong><span class="koboSpan" id="kobo.93.1"> section, we need to render </span><strong class="source-inline"><span class="koboSpan" id="kobo.94.1">&lt;HelloWorld&gt;</span></strong><span class="koboSpan" id="kobo.95.1"> with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.96.1">msg</span></strong><span class="koboSpan" id="kobo.97.1"> attribute set to </span><strong class="source-inline"><span class="koboSpan" id="kobo.98.1">"Vue.js"</span></strong><span class="koboSpan" id="kobo.99.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.100.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.101.1">
&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;HelloWorld msg="Vue.js"/&gt;
  &lt;/div&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.102.1">This will render the following on </span><span class="No-Break"><span class="koboSpan" id="kobo.103.1">the page:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.104.1">
Hello Vue.js</span></pre>
<p><span class="koboSpan" id="kobo.105.1">We have seen how to use a component with props from its parent. </span><span class="koboSpan" id="kobo.105.2">This is useful for code reuse and for abstracting application behavior into </span><span class="No-Break"><span class="koboSpan" id="kobo.106.1">component-sized chun</span><a id="_idTextAnchor140"/><span class="koboSpan" id="kobo.107.1">ks.</span></span></p>
<p><span class="koboSpan" id="kobo.108.1">Next, we will look at a practical example of a </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.109.1">Greeting</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.110.1"> component.</span></span></p>
<h2 id="_idParaDest-89"><a id="_idTextAnchor141"/><span class="koboSpan" id="kobo.111.1">Exercise 4.01 – Implementing a Greeting component</span></h2>
<p><span class="koboSpan" id="kobo.112.1">In this exercise, we will create</span><a id="_idIndexMarker347"/><span class="koboSpan" id="kobo.113.1"> a component that lets</span><a id="_idIndexMarker348"/><span class="koboSpan" id="kobo.114.1"> you customize both the </span><strong class="source-inline"><span class="koboSpan" id="kobo.115.1">greeting</span></strong><span class="koboSpan" id="kobo.116.1"> (for example, </span><strong class="source-inline"><span class="koboSpan" id="kobo.117.1">Hello</span></strong><span class="koboSpan" id="kobo.118.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.119.1">Hey</span></strong><span class="koboSpan" id="kobo.120.1">, or </span><strong class="source-inline"><span class="koboSpan" id="kobo.121.1">Hola</span></strong><span class="koboSpan" id="kobo.122.1">) and </span><strong class="source-inline"><span class="koboSpan" id="kobo.123.1">who</span></strong><span class="koboSpan" id="kobo.124.1"> to greet (for example, </span><strong class="source-inline"><span class="koboSpan" id="kobo.125.1">World</span></strong><span class="koboSpan" id="kobo.126.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.127.1">Vue.js</span></strong><span class="koboSpan" id="kobo.128.1">, or </span><strong class="source-inline"><span class="koboSpan" id="kobo.129.1">JavaScript developers</span></strong><span class="koboSpan" id="kobo.130.1">) using what we’ve just learned about passing props from parent </span><span class="No-Break"><span class="koboSpan" id="kobo.131.1">to c</span><a id="_idTextAnchor142"/><span class="koboSpan" id="kobo.132.1">hild.</span></span></p>
<p><span class="koboSpan" id="kobo.133.1">To access the code file for this exercise, refer </span><span class="No-Break"><span class="koboSpan" id="kobo.134.1">to </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter04/Exercise4.01"><span class="No-Break"><span class="koboSpan" id="kobo.135.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter04/Exercise4.01</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.136.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.137.1">Work through the following</span><a id="_idIndexMarker349"/><span class="koboSpan" id="kobo.138.1"> steps to complete </span><span class="No-Break"><span class="koboSpan" id="kobo.139.1">this</span></span><span class="No-Break"><a id="_idIndexMarker350"/></span><span class="No-Break"><span class="koboSpan" id="kobo.140.1"> ex</span><a id="_idTextAnchor143"/><span class="koboSpan" id="kobo.141.1">ercise:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.142.1">Use the application generated with </span><strong class="source-inline"><span class="koboSpan" id="kobo.143.1">npm init vue@3</span></strong><span class="koboSpan" id="kobo.144.1"> as a starting point, or within the root folder of the code repository, navigate to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.145.1">Chapter04/Exercise4.01</span></strong><span class="koboSpan" id="kobo.146.1"> folder using the following commands </span><span class="No-Break"><span class="koboSpan" id="kobo.147.1">in order:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.148.1">&gt; cd Chapter04/Exercise4.01/</span></strong></pre><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.149.1">&gt; yarn</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.150.1">Open the exercise project in VS Code (by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.151.1">code .</span></strong><span class="koboSpan" id="kobo.152.1"> command within the project directory), or alternatively in your </span><span class="No-Break"><span class="koboSpan" id="kobo.153.1">preferred IDE.</span></span></li>
<li><span class="koboSpan" id="kobo.154.1">Create a new file named </span><strong class="source-inline"><span class="koboSpan" id="kobo.155.1">Greeting.vue</span></strong><span class="koboSpan" id="kobo.156.1"> in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.157.1">./src/components</span></strong><span class="koboSpan" id="kobo.158.1"> directory. </span><span class="koboSpan" id="kobo.158.2">This will be our </span><span class="No-Break"><span class="koboSpan" id="kobo.159.1">single-file component.</span></span></li>
<li><span class="koboSpan" id="kobo.160.1">Start by scaffolding the component with empty </span><strong class="source-inline"><span class="koboSpan" id="kobo.161.1">template</span></strong><span class="koboSpan" id="kobo.162.1"> and </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.163.1">script</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.164.1"> tags:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.165.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.166.1">
  &lt;div&gt;Empty&lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.167.1">
&lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.168.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.169.1">
export default {}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.170.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.171.1">Next, we need to tell Vue that our component expects props. </span><span class="koboSpan" id="kobo.171.2">For this, we will add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.172.1">props</span></strong><span class="koboSpan" id="kobo.173.1"> property to our component options object as an array with two fields, </span><strong class="source-inline"><span class="koboSpan" id="kobo.174.1">greeting</span></strong><span class="koboSpan" id="kobo.175.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.176.1">who</span></strong><span class="koboSpan" id="kobo.177.1">, as shown in the following </span><span class="No-Break"><span class="koboSpan" id="kobo.178.1">code block:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.179.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.180.1">
  props: ['greeting', 'who']</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.181.1">
}</span></pre></li>
<li><span class="koboSpan" id="kobo.182.1">Now, we want to render </span><strong class="source-inline"><span class="koboSpan" id="kobo.183.1">greeting</span></strong><span class="koboSpan" id="kobo.184.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.185.1">who</span></strong><span class="koboSpan" id="kobo.186.1"> in the template </span><span class="No-Break"><span class="koboSpan" id="kobo.187.1">as follows:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.188.1">
&lt;te</span><a id="_idTextAnchor144"/><span class="koboSpan" id="kobo.189.1">mplate&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.190.1">
  &lt;div&gt;{{ greeting }} {{ who }}&lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.191.1">
&lt;/template&gt;</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.192.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.193.1">Greeting</span></strong><span class="koboSpan" id="kobo.194.1"> component</span><a id="_idIndexMarker351"/><span class="koboSpan" id="kobo.195.1"> is now ready to be</span><a id="_idIndexMarker352"/><span class="koboSpan" id="kobo.196.1"> used </span><span class="No-Break"><span class="koboSpan" id="kobo.197.1">from </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.198.1">App.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.199.1">.</span></span></p>
<ol>
<li value="7"><span class="koboSpan" id="kobo.200.1">Open the </span><strong class="source-inline"><span class="koboSpan" id="kobo.201.1">src/App.vue</span></strong><span class="koboSpan" id="kobo.202.1"> file and import the </span><strong class="source-inline"><span class="koboSpan" id="kobo.203.1">Greeting</span></strong><span class="koboSpan" id="kobo.204.1"> component from </span><strong class="source-inline"><span class="koboSpan" id="kobo.205.1">./src/components/Greeting.vue</span></strong><span class="koboSpan" id="kobo.206.1"> into the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.207.1">script</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.208.1"> section:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.209.1">
&lt;script setup&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.210.1">
import Greeting from './components/Greeting.vue'</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.211.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.212.1">Now we can use </span><strong class="source-inline"><span class="koboSpan" id="kobo.213.1">Greeting</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.214.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.215.1">template</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.216.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.217.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.218.1">
  &lt;div id="app"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.219.1">
    &lt;Greeting greeting="Hey" who="JavaScript"/&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.220.1">
  &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.221.1">
&lt;/template&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.222.1">Run the application using the </span><span class="No-Break"><span class="koboSpan" id="kobo.223.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.224.1">yarn dev</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.225.1">You will see the following when visiting your app in </span><span class="No-Break"><span class="koboSpan" id="kobo.226.1">the browser:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.227.1">
Hey JavaScript</span></pre></li>
<li><span class="koboSpan" id="kobo.228.1">Modify the </span><strong class="source-inline"><span class="koboSpan" id="kobo.229.1">greeting</span></strong><span class="koboSpan" id="kobo.230.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.231.1">who</span></strong><span class="koboSpan" id="kobo.232.1"> props using the attribute values </span><span class="No-Break"><span class="koboSpan" id="kobo.233.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.234.1">template</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.235.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.236.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.237.1">
  &lt;div id="app"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.238.1">
    &lt;Greeting greeting="Hi" who="everyone"/&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.239.1">
  &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.240.1">
&lt;/template&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.241.1">Open a Vue tab in the browser DevTools and you will see the values of the two </span><strong class="source-inline"><span class="koboSpan" id="kobo.242.1">greeting</span></strong><span class="koboSpan" id="kobo.243.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.244.1">who</span></strong><span class="koboSpan" id="kobo.245.1"> props have </span><span class="No-Break"><span class="koboSpan" id="kobo.246.1">been updated:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer113">
<span class="koboSpan" id="kobo.247.1"><img alt="Figure 4.1 – Output in a Vue tab for the Greeting component" src="image/B18645_04_01.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.248.1">Figure 4.1 – Output in a Vue tab for the Greeting component</span></p>
<p><span class="koboSpan" id="kobo.249.1">And the browser now displays </span><span class="No-Break"><span class="koboSpan" id="kobo.250.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.251.1">
Hi Everyone</span></pre>
<p><span class="koboSpan" id="kobo.252.1">In this exercise, we have learned how we can use props to enable communication between parent and child</span><a id="_idIndexMarker353"/><span class="koboSpan" id="kobo.253.1"> while keeping the component</span><a id="_idIndexMarker354"/><span class="koboSpan" id="kobo.254.1"> reusable. </span><span class="koboSpan" id="kobo.254.2">Instead of the component rendering static data, its parent passes it the data </span><span class="No-Break"><span class="koboSpan" id="kobo.255.1">to render.</span></span></p>
<p><span class="koboSpan" id="kobo.256.1">In the next section, we will learn how to set prop </span><span class="No-Break"><span class="koboSpan" id="kobo.257.1">values dynamically.</span></span></p>
<h2 id="_idParaDest-90"><a id="_idTextAnchor145"/><span class="koboSpan" id="kobo.258.1">Binding reactive data to props</span></h2>
<p><span class="koboSpan" id="kobo.259.1">In the previous section, we saw</span><a id="_idIndexMarker355"/><span class="koboSpan" id="kobo.260.1"> how to pass</span><a id="_idIndexMarker356"/><span class="koboSpan" id="kobo.261.1"> static data as props to a component. </span><span class="koboSpan" id="kobo.261.2">What if we want to pass reactive data from the parent to </span><span class="No-Break"><span class="koboSpan" id="kobo.262.1">the child?</span></span></p>
<p><span class="koboSpan" id="kobo.263.1">This is where </span><strong class="bold"><span class="koboSpan" id="kobo.264.1">binding</span></strong><span class="koboSpan" id="kobo.265.1"> comes in. </span><span class="koboSpan" id="kobo.265.2">You can use </span><strong class="source-inline"><span class="koboSpan" id="kobo.266.1">v-bind:</span></strong><span class="koboSpan" id="kobo.267.1"> (or </span><strong class="source-inline"><span class="koboSpan" id="kobo.268.1">:</span></strong><span class="koboSpan" id="kobo.269.1"> for short) to enable </span><strong class="bold"><span class="koboSpan" id="kobo.270.1">one-way binding</span></strong><span class="koboSpan" id="kobo.271.1"> of a parent’s reactive data</span><a id="_idIndexMarker357"/><span class="koboSpan" id="kobo.272.1"> to the child </span><span class="No-Break"><span class="koboSpan" id="kobo.273.1">component’s props.</span></span></p>
<p><span class="koboSpan" id="kobo.274.1">In the following code example, we bind the </span><strong class="source-inline"><span class="koboSpan" id="kobo.275.1">appWho</span></strong><span class="koboSpan" id="kobo.276.1"> data to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.277.1">msg</span></strong><span class="koboSpan" id="kobo.278.1"> prop of the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.279.1">HelloWorld</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.280.1"> component:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.281.1">
&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;HelloWorld :msg="appWho"/&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script setup&gt;
import HelloWorld from './components/HelloWorld.vue'
const appWho = 'Vue.js'
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.282.1">The output will be </span><span class="No-Break"><span class="koboSpan" id="kobo.283.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.284.1">
Hello Vue.js</span></pre>
<p><span class="koboSpan" id="kobo.285.1">Let’s add two buttons</span><a id="_idIndexMarker358"/><span class="koboSpan" id="kobo.286.1"> that change the value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.287.1">appWho</span></strong><span class="koboSpan" id="kobo.288.1">, one to </span><strong class="source-inline"><span class="koboSpan" id="kobo.289.1">JavaScript</span></strong><span class="koboSpan" id="kobo.290.1"> and the other</span><a id="_idIndexMarker359"/><span class="koboSpan" id="kobo.291.1"> to </span><strong class="source-inline"><span class="koboSpan" id="kobo.292.1">Everyone</span></strong><span class="koboSpan" id="kobo.293.1">, by triggering a </span><strong class="source-inline"><span class="koboSpan" id="kobo.294.1">setWho</span></strong><span class="koboSpan" id="kobo.295.1"> method with the appropriate value </span><span class="No-Break"><span class="koboSpan" id="kobo.296.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.297.1">
&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;HelloWorld :msg="appWho"/&gt;
    &lt;button @click="setWho('JavaScript')"&gt;JavaScript
      &lt;/button&gt;
    &lt;button @click="setWho('Everyone')"&gt;Everyone&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import HelloWorld from './components/HelloWorld.vue'
export default {
  components: {
    HelloWorld
  },
  data () {
    return {
      appWho: 'Vue.js'
    }
  },
  methods: {
    setWho(newWho) {
      this.appWho = newWho
    }
  }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.298.1">The browser</span><a id="_idIndexMarker360"/><span class="koboSpan" id="kobo.299.1"> now displays</span><a id="_idIndexMarker361"/><span class="koboSpan" id="kobo.300.1"> the </span><span class="No-Break"><span class="koboSpan" id="kobo.301.1">following output:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer114">
<span class="koboSpan" id="kobo.302.1"><img alt="Figure 4.2 – Browser displays the component with two buttons" src="image/B18645_04_02.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.303.1">Figure 4.2 – Browser displays the component with two buttons</span></p>
<p><span class="koboSpan" id="kobo.304.1">When you click the </span><strong class="bold"><span class="koboSpan" id="kobo.305.1">JavaScript</span></strong><span class="koboSpan" id="kobo.306.1"> button, Vue updates the </span><strong class="source-inline"><span class="koboSpan" id="kobo.307.1">appWho</span></strong><span class="koboSpan" id="kobo.308.1"> value and then re-renders the </span><strong class="source-inline"><span class="koboSpan" id="kobo.309.1">HelloWorld</span></strong><span class="koboSpan" id="kobo.310.1"> child component with the new value passed to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.311.1">msg</span></strong><span class="koboSpan" id="kobo.312.1"> prop. </span><span class="koboSpan" id="kobo.312.2">Thus, </span><strong class="source-inline"><span class="koboSpan" id="kobo.313.1">Hello JavaScript</span></strong><span class="koboSpan" id="kobo.314.1"> is displayed, </span><span class="No-Break"><span class="koboSpan" id="kobo.315.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer115">
<span class="koboSpan" id="kobo.316.1"><img alt="Figure 4.3 – Hello JavaScript displayed after clicking the JavaScript button" src="image/B18645_04_03.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.317.1">Figure 4.3 – Hello JavaScript displayed after clicking the JavaScript button</span></p>
<p><span class="koboSpan" id="kobo.318.1">Similarly, when you click</span><a id="_idIndexMarker362"/><span class="koboSpan" id="kobo.319.1"> the </span><strong class="bold"><span class="koboSpan" id="kobo.320.1">Everyone</span></strong><span class="koboSpan" id="kobo.321.1"> button, the browser</span><a id="_idIndexMarker363"/><span class="koboSpan" id="kobo.322.1"> now displays </span><strong class="source-inline"><span class="koboSpan" id="kobo.323.1">Hello Everyone</span></strong><span class="koboSpan" id="kobo.324.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.325.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer116">
<span class="koboSpan" id="kobo.326.1"><img alt="Figure 4.4 – Hello Everyone displayed after clicking the Everyone button" src="image/B18645_04_04.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.327.1">Figure 4.4 – Hello Everyone displayed after clicking the Everyone button</span></p>
<p><span class="koboSpan" id="kobo.328.1">As we have seen, we are able to bind reactive data to props so that any data updated in the parent will be reflected in the child component’s </span><span class="No-Break"><span class="koboSpan" id="kobo.329.1">d</span><a id="_idTextAnchor146"/><span class="koboSpan" id="kobo.330.1">ata accordingly.</span></span></p>
<h2 id="_idParaDest-91"><a id="_idTextAnchor147"/><span class="koboSpan" id="kobo.331.1">Exercise 4.02 – Passing reactive data that changes frequently to props</span></h2>
<p><span class="koboSpan" id="kobo.332.1">In this exercise, we will implement</span><a id="_idIndexMarker364"/><span class="koboSpan" id="kobo.333.1"> a component that allows</span><a id="_idIndexMarker365"/><span class="koboSpan" id="kobo.334.1"> users to change the name of the person to greet and pass it to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.335.1">Greeting</span></strong><span class="koboSpan" id="kobo.336.1"> component we built in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.337.1">Exercise 4.01</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.338.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.339.1">To access the code file for this exercise, refer </span><span class="No-Break"><span class="koboSpan" id="kobo.340.1">to </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter04/Exercise4.02"><span class="No-Break"><span class="koboSpan" id="kobo.341.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter04/Exercise4.02</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.342.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.343.1">Work through the following steps to complete </span><span class="No-Break"><span class="koboSpan" id="kobo.344.1">this exercise:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.345.1">Use the application built in </span><em class="italic"><span class="koboSpan" id="kobo.346.1">Exercise 4.01</span></em><span class="koboSpan" id="kobo.347.1"> or navigate to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.348.1">Chapter04/Exercise4.02</span></strong><span class="koboSpan" id="kobo.349.1"> folder using the following commands </span><span class="No-Break"><span class="koboSpan" id="kobo.350.1">in order:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.351.1">&gt; cd Chapter04/Exercise4.02/</span></strong></pre><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.352.1">&gt; yarn</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.353.1">Open the exercise project</span><a id="_idIndexMarker366"/><span class="koboSpan" id="kobo.354.1"> in VS Code (by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.355.1">code .</span></strong><span class="koboSpan" id="kobo.356.1"> command within the project directory) or in your </span><span class="No-Break"><span class="koboSpan" id="kobo.357.1">preferred</span></span><span class="No-Break"><a id="_idIndexMarker367"/></span><span class="No-Break"><span class="koboSpan" id="kobo.358.1"> IDE.</span></span></li>
<li><span class="koboSpan" id="kobo.359.1">In the </span><strong class="source-inline"><span class="koboSpan" id="kobo.360.1">script</span></strong><span class="koboSpan" id="kobo.361.1"> section of </span><strong class="source-inline"><span class="koboSpan" id="kobo.362.1">App.vue</span></strong><span class="koboSpan" id="kobo.363.1">, let’s remove the </span><strong class="source-inline"><span class="koboSpan" id="kobo.364.1">setup</span></strong><span class="koboSpan" id="kobo.365.1"> attribute from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.366.1">script</span></strong><span class="koboSpan" id="kobo.367.1"> tag, and register </span><strong class="source-inline"><span class="koboSpan" id="kobo.368.1">Greeting</span></strong><span class="koboSpan" id="kobo.369.1"> as a child component in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.370.1">componen</span><a id="_idTextAnchor148"/><span class="koboSpan" id="kobo.371.1">ts</span></strong><span class="koboSpan" id="kobo.372.1"> field </span><span class="No-Break"><span class="koboSpan" id="kobo.373.1">as follows:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.374.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.375.1">
import Greeting from './components/Greeting.vue'</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.376.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.377.1">
  components: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.378.1">
          Greeting</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.379.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.380.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.381.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.382.1">Then create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.383.1">data</span></strong><span class="koboSpan" id="kobo.384.1"> top-level method that returns an initial </span><strong class="source-inline"><span class="koboSpan" id="kobo.385.1">greeting</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.386.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.387.1">who</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.388.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.389.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.390.1">
expo</span><a id="_idTextAnchor149"/><span class="koboSpan" id="kobo.391.1">rt default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.392.1">
  /*…*/</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.393.1">
  data() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.394.1">
    return {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.395.1">
      greeting: 'Hello',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.396.1">
      who: 'Vue.js'</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.397.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.398.1">
  }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.399.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.400.1">
&lt;/script&gt;</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.401.1">The browser should display the same output as in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.402.1">Exercise 4.01</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.403.1">.</span></span></p>
<ol>
<li value="5"><span class="koboSpan" id="kobo.404.1">We will now create an </span><strong class="source-inline"><span class="koboSpan" id="kobo.405.1">input</span></strong><span class="koboSpan" id="kobo.406.1"> field that accepts a string value for </span><strong class="source-inline"><span class="koboSpan" id="kobo.407.1">who</span></strong><span class="koboSpan" id="kobo.408.1"> from users and binds the </span><strong class="source-inline"><span class="koboSpan" id="kobo.409.1">who</span></strong><span class="koboSpan" id="kobo.410.1"> data to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.411.1">who</span></strong><span class="koboSpan" id="kobo.412.1"> prop </span><span class="No-Break"><span class="koboSpan" id="kobo.413.1">of </span><a id="_idTextAnchor150"/></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.414.1">Greeting</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.415.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.416.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.417.1">
&lt;div id="app"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.418.1">
  &lt;input placeholder="What is your name" v-model="who"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.419.1">
    &gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.420.1">
  &lt;Greeting greeting="Hi" :who="who"/&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.421.1">
&lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.422.1">
&lt;/template&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.423.1">Now when you</span><a id="_idIndexMarker368"/><span class="koboSpan" id="kobo.424.1"> type any name in the input</span><a id="_idIndexMarker369"/><span class="koboSpan" id="kobo.425.1"> field, the greeting message will change accordingly, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.426.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer117">
<span class="koboSpan" id="kobo.427.1"><img alt="Figure 4.5 – Output of greeting value updated according to users’ inputs" src="image/B18645_04_05.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.428.1">Figure 4.5 – Output of greeting value updated according to users’ inputs</span></p>
<p><span class="koboSpan" id="kobo.429.1">Next, we will learn how</span><a id="_idIndexMarker370"/><span class="koboSpan" id="kobo.430.1"> to add type hints and validation</span><a id="_idIndexMarker371"/><span class="koboSpan" id="kobo.431.1"> to our component’s props to ensure they are </span><span class="No-Break"><span class="koboSpan" id="kobo.432.1">used correctly.</span></span></p>
<h1 id="_idParaDest-92"><a id="_idTextAnchor151"/><span class="koboSpan" id="kobo.433.1">Understanding prop types and validation</span></h1>
<p><span class="koboSpan" id="kobo.434.1">We use props to define the</span><a id="_idIndexMarker372"/><span class="koboSpan" id="kobo.435.1"> interfaces of Vue</span><a id="_idIndexMarker373"/><span class="koboSpan" id="kobo.436.1"> components and ensure other developers use our components correctly. </span><span class="koboSpan" id="kobo.436.2">We need to define their interfaces with types and validation. </span><span class="koboSpan" id="kobo.436.3">Vue offers that capability out of the box by changing how we pass the props as string elements to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.437.1">props</span></strong><span class="koboSpan" id="kobo.438.1"> property in an </span><span class="No-Break"><span class="koboSpan" id="kobo.439.1">object form.</span></span></p>
<h2 id="_idParaDest-93"><a id="_idTextAnchor152"/><span class="koboSpan" id="kobo.440.1">Primitive prop validation</span></h2>
<p><span class="koboSpan" id="kobo.441.1">Assume we want a </span><strong class="source-inline"><span class="koboSpan" id="kobo.442.1">Repeat.vue</span></strong><span class="koboSpan" id="kobo.443.1"> component</span><a id="_idIndexMarker374"/><span class="koboSpan" id="kobo.444.1"> that takes a </span><strong class="source-inline"><span class="koboSpan" id="kobo.445.1">times</span></strong><span class="koboSpan" id="kobo.446.1"> prop and a </span><strong class="source-inline"><span class="koboSpan" id="kobo.447.1">content</span></strong><span class="koboSpan" id="kobo.448.1"> prop and then calculates the array of </span><strong class="source-inline"><span class="koboSpan" id="kobo.449.1">repetitions</span></strong><span class="koboSpan" id="kobo.450.1"> using </span><strong class="source-inline"><span class="koboSpan" id="kobo.451.1">computed</span></strong><span class="koboSpan" id="kobo.452.1"> based on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.453.1">times</span></strong><span class="koboSpan" id="kobo.454.1"> value. </span><span class="koboSpan" id="kobo.454.2">We</span><a id="_idTextAnchor153"/><span class="koboSpan" id="kobo.455.1"> can define </span><span class="No-Break"><span class="koboSpan" id="kobo.456.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.457.1">
&lt;template&gt;
  &lt;div&gt;
    &lt;span v-for="r in repetitions" :key="r"&gt;
      {{ content }}
    &lt;/span&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  props: ['times', 'content'],
  computed: {
    repetitions() {
      return Array.from({ length: this.times });
    }
  }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.458.1">In </span><strong class="source-inline"><span class="koboSpan" id="kobo.459.1">App.vue</span></strong><span class="koboSpan" id="kobo.460.1">, we can consume </span><a id="_idIndexMarker375"/><span class="koboSpan" id="kobo.461.1">our </span><strong class="source-inline"><span class="koboSpan" id="kobo.462.1">Repeat</span></strong><span class="koboSpan" id="kobo.463.1"> compo</span><a id="_idTextAnchor154"/><span class="koboSpan" id="kobo.464.1">nent </span><span class="No-Break"><span class="koboSpan" id="kobo.465.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.466.1">
&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;Repeat :times="count" content="Repeat" /&gt;
    &lt;button @click="increment()"&gt;Repeat&lt;/b</span><a id="_idTextAnchor155"/><span class="koboSpan" id="kobo.467.1">utton&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import Repeat from './components/Repeat.vue'
export default {
  components: {
    Repeat
  },
  data() {
    return { count: 1 }
  },
  methods: {
    increment() {
      this.count += 1
    }
  }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.468.1">The preceding code will lead to the following output in </span><span class="No-Break"><span class="koboSpan" id="kobo.469.1">the browser:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer118">
<span class="koboSpan" id="kobo.470.1"><img alt="Figure 4.6 – Output of the repeat example in action (no clicks)" src="image/B18645_04_06.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.471.1">Figure 4.6 – Output of the repeat example in action (no clicks)</span></p>
<p><span class="koboSpan" id="kobo.472.1">Whenever clicking the </span><strong class="source-inline"><span class="koboSpan" id="kobo.473.1">Repeat</span></strong><span class="koboSpan" id="kobo.474.1"> button, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.475.1">Repeat</span></strong><span class="koboSpan" id="kobo.476.1"> component will display the content one more time, </span><span class="No-Break"><span class="koboSpan" id="kobo.477.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer119">
<span class="koboSpan" id="kobo.478.1"><img alt="Figure 4.7 – Output of the repeat example after five clicks" src="image/B18645_04_07.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.479.1">Figure 4.7 – Output of the repeat example after five clicks</span></p>
<p><span class="koboSpan" id="kobo.480.1">Now, for this component</span><a id="_idIndexMarker376"/><span class="koboSpan" id="kobo.481.1"> to work properly, we need </span><strong class="source-inline"><span class="koboSpan" id="kobo.482.1">times</span></strong><span class="koboSpan" id="kobo.483.1"> to be a </span><strong class="source-inline"><span class="koboSpan" id="kobo.484.1">Number</span></strong><span class="koboSpan" id="kobo.485.1"> type and, ideally, </span><strong class="source-inline"><span class="koboSpan" id="kobo.486.1">content</span></strong><span class="koboSpan" id="kobo.487.1"> to be a </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.488.1">String</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.489.1"> type.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.490.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.491.1">Props type in Vue can be any type including </span><strong class="source-inline"><span class="koboSpan" id="kobo.492.1">String</span></strong><span class="koboSpan" id="kobo.493.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.494.1">Number</span></strong><span class="koboSpan" id="kobo.495.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.496.1">Boolean</span></strong><span class="koboSpan" id="kobo.497.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.498.1">Array</span></strong><span class="koboSpan" id="kobo.499.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.500.1">Object</span></strong><span class="koboSpan" id="kobo.501.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.502.1">Date</span></strong><span class="koboSpan" id="kobo.503.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.504.1">Function</span></strong><span class="koboSpan" id="kobo.505.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.506.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.507.1">Symbol</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.508.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.509.1">Let’s define the </span><strong class="source-inline"><span class="koboSpan" id="kobo.510.1">times</span></strong><span class="koboSpan" id="kobo.511.1"> prop as a </span><strong class="source-inline"><span class="koboSpan" id="kobo.512.1">Number</span></strong><span class="koboSpan" id="kobo.513.1"> and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.514.1">content</span></strong><span class="koboSpan" id="kobo.515.1"> props as </span><span class="No-Break"><span class="koboSpan" id="kobo.516.1">a </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.517.1">String</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.518.1">:</span></span><a id="_idTextAnchor156"/></p>
<pre class="source-code"><span class="koboSpan" id="kobo.519.1">
&lt;script&gt;
export default {
  props: {
    times: {
      type: Number
    },
    content: {
      type: String
    }
  },
  // rest of component definition
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.520.1">Let’s see what happens</span><a id="_idIndexMarker377"/><span class="koboSpan" id="kobo.521.1"> if we update </span><strong class="source-inline"><span class="koboSpan" id="kobo.522.1">App</span></strong><span class="koboSpan" id="kobo.523.1"> to pass the wrong prop type to </span><strong class="source-inline"><span class="koboSpan" id="kobo.524.1">Repeat</span></strong><span class="koboSpan" id="kobo.525.1"> – for example, let’s say </span><strong class="source-inline"><span class="koboSpan" id="kobo.526.1">times</span></strong><span class="koboSpan" id="kobo.527.1"> is a </span><strong class="source-inline"><span class="koboSpan" id="kobo.528.1">String</span></strong><span class="koboSpan" id="kobo.529.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.530.1">content</span></strong><span class="koboSpan" id="kobo.531.1"> is </span><span class="No-Break"><span class="koboSpan" id="kobo.532.1">a </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.533.1">Number</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.534.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.535.1">
&lt;t</span><a id="_idTextAnchor157"/><span class="koboSpan" id="kobo.536.1">emplate&gt;
  &lt;div id="app"&gt;
    &lt;Repeat :times="count" :content="55" /&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
// no changes to imports
ex</span><a id="_idTextAnchor158"/><span class="koboSpan" id="kobo.537.1">port default {
  data() {
    return { count: 'no-number-here' }
  },
  // other properties
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.538.1">In this case, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.539.1">Repeat</span></strong><span class="koboSpan" id="kobo.540.1"> component will fail to render, and the following errors will be logged to </span><span class="No-Break"><span class="koboSpan" id="kobo.541.1">the console:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer120">
<span class="koboSpan" id="kobo.542.1"><img alt="Figure 4.8 – Mistyping prop errors" src="image/B18645_04_08.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.543.1">Figure 4.8 – Mistyping prop errors</span></p>
<p><span class="koboSpan" id="kobo.544.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.545.1">times</span></strong><span class="koboSpan" id="kobo.546.1"> prop check fails with a message that explains that we passed a </span><strong class="source-inline"><span class="koboSpan" id="kobo.547.1">String</span></strong><span class="koboSpan" id="kobo.548.1"> to a prop that expects to receive </span><span class="No-Break"><span class="koboSpan" id="kobo.549.1">a </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.550.1">Number</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.551.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.552.1">
Invalid prop: type check failed for prop "times". </span><span class="koboSpan" id="kobo.552.2">Expected Number with value NaN, got String with value "no-number-here"</span></pre>
<p><span class="koboSpan" id="kobo.553.1">The same occurs with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.554.1">content</span></strong><span class="koboSpan" id="kobo.555.1"> prop check, with</span><a id="_idIndexMarker378"/><span class="koboSpan" id="kobo.556.1"> a message that explains that we passed a </span><strong class="source-inline"><span class="koboSpan" id="kobo.557.1">Number</span></strong><span class="koboSpan" id="kobo.558.1"> as a prop that was supposed to be </span><span class="No-Break"><span class="koboSpan" id="kobo.559.1">a </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.560.1">String</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.561.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.562.1">
Invalid prop: type check failed for prop "content". </span><span class="koboSpan" id="kobo.562.2">Expected String with value "55", got Number with value 55</span></pre>
<p><span class="koboSpan" id="kobo.563.1">Next, let’s explore custom prop types and </span><span class="No-Break"><span class="koboSpan" id="kobo.564.1">union types.</span></span></p>
<h2 id="_idParaDest-94"><a id="_idTextAnchor159"/><span class="koboSpan" id="kobo.565.1">Understanding union and custom prop types</span></h2>
<p><span class="koboSpan" id="kobo.566.1">Vue supports union types. </span><span class="koboSpan" id="kobo.566.2">A </span><strong class="bold"><span class="koboSpan" id="kobo.567.1">union</span></strong><span class="koboSpan" id="kobo.568.1"> type is a type that is one of many other</span><a id="_idIndexMarker379"/><span class="koboSpan" id="kobo.569.1"> types, and is represented</span><a id="_idIndexMarker380"/><span class="koboSpan" id="kobo.570.1"> by an array of types, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.571.1">[String, Number]</span></strong><span class="koboSpan" id="kobo.572.1">. </span><span class="koboSpan" id="kobo.572.2">We declare</span><a id="_idIndexMarker381"/><span class="koboSpan" id="kobo.573.1"> a prop to accept a union type</span><a id="_idIndexMarker382"/><span class="koboSpan" id="kobo.574.1"> by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.575.1">type</span></strong><span class="koboSpan" id="kobo.576.1"> field of that data prop object. </span><span class="koboSpan" id="kobo.576.2">For example, we set </span><strong class="source-inline"><span class="koboSpan" id="kobo.577.1">content</span></strong><span class="koboSpan" id="kobo.578.1"> to accept a union type that will be either a number or </span><span class="No-Break"><span class="koboSpan" id="kobo.579.1">a string:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.580.1">
&lt;script&gt;
export default {
  props: {
    // other prop definitions
    content: {
      type: [String, Number]
    }
  }
  // rest of component definition
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.581.1">In this case, we can consume the </span><strong class="source-inline"><span class="koboSpan" id="kobo.582.1">Repeat</span></strong><span class="koboSpan" id="kobo.583.1"> component as follows </span><span class="No-Break"><span class="koboSpan" id="kobo.584.1">without errors:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.585.1">
&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;Repeat :times="3" :content="55" /&gt;
  &lt;/div&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.586.1">We can also use any</span><a id="_idIndexMarker383"/><span class="koboSpan" id="kobo.587.1"> valid JavaScript constructor</span><a id="_idIndexMarker384"/><span class="koboSpan" id="kobo.588.1"> as a prop’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.589.1">type</span></strong><span class="koboSpan" id="kobo.590.1">, such as a </span><strong class="source-inline"><span class="koboSpan" id="kobo.591.1">Promise</span></strong><span class="koboSpan" id="kobo.592.1"> or a custom </span><strong class="source-inline"><span class="koboSpan" id="kobo.593.1">User</span></strong><span class="koboSpan" id="kobo.594.1"> class constructor, as in the following example with the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.595.1">TodoList</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.596.1"> component:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.597.1">
&lt;script&gt;
import User from './user.js'
export default {
  props: {
    todoListPromise: {
      type: Promise
    },
    currentUser: {
      type: User
    }
  }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.598.1">Note here we</span><a id="_idIndexMarker385"/><span class="koboSpan" id="kobo.599.1"> import the </span><strong class="source-inline"><span class="koboSpan" id="kobo.600.1">User</span></strong><span class="koboSpan" id="kobo.601.1"> custom type</span><a id="_idIndexMarker386"/><span class="koboSpan" id="kobo.602.1"> from another file. </span><span class="koboSpan" id="kobo.602.2">We can use</span><a id="_idIndexMarker387"/><span class="koboSpan" id="kobo.603.1"> this </span><strong class="source-inline"><span class="koboSpan" id="kobo.604.1">TodoList</span></strong><span class="koboSpan" id="kobo.605.1"> component</span><a id="_idIndexMarker388"/> <span class="No-Break"><span class="koboSpan" id="kobo.606.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.607.1">
&lt;template&gt;
  &lt;div&gt;
    &lt;div v-if="todosPromise &amp;&amp; !error"&gt;
      &lt;TodoList
        :todoListPromise="todosPromise"
        :currentUser="currentUser"
      /&gt;
    &lt;/div&gt;
    {{ error }}
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import TodoList from './components/TodoList.vue'
import User from './components/user.js'
const currentUser = new User()
export default {
  components: {
    TodoList
  },
  mounted() {
    this.todosPromise = fetch('/api/todos').then(res =&gt; {
      if (res.ok) {
        return res.json()
      }
      throw new Error('Could not fetch todos')
    }).catch(error =&gt; {
      this.error = error
    })
  },
  data() {
    return { currentUser, error: null }
  }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.608.1">In the preceding code, we only fetch </span><strong class="source-inline"><span class="koboSpan" id="kobo.609.1">todosPromise</span></strong><span class="koboSpan" id="kobo.610.1"> once Vue mounts the component instance, and create a new instance of </span><strong class="source-inline"><span class="koboSpan" id="kobo.611.1">User</span></strong><span class="koboSpan" id="kobo.612.1"> using </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.613.1">new User()</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.614.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.615.1">We have now seen how to use the union and custom types to validate </span><span class="No-Break"><span class="koboSpan" id="kobo.616.1">Vue props.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.617.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.618.1">Vue uses </span><strong class="source-inline"><span class="koboSpan" id="kobo.619.1">instanceof</span></strong><span class="koboSpan" id="kobo.620.1"> validation internally, so make sure any custom types are instantiated using the </span><span class="No-Break"><span class="koboSpan" id="kobo.621.1">relevant constructor.</span></span></p>
<p class="callout"><span class="koboSpan" id="kobo.622.1">Passing </span><strong class="source-inline"><span class="koboSpan" id="kobo.623.1">null</span></strong><span class="koboSpan" id="kobo.624.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.625.1">undefined</span></strong><span class="koboSpan" id="kobo.626.1"> will fail the check for </span><strong class="source-inline"><span class="koboSpan" id="kobo.627.1">Array</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.628.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.629.1">Object</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.630.1">.</span></span></p>
<p class="callout"><span class="koboSpan" id="kobo.631.1">Passing</span><a id="_idIndexMarker389"/><span class="koboSpan" id="kobo.632.1"> an array</span><a id="_idIndexMarker390"/><span class="koboSpan" id="kobo.633.1"> will pass the check for </span><strong class="source-inline"><span class="koboSpan" id="kobo.634.1">Object</span></strong><span class="koboSpan" id="kobo.635.1"> since an array is also an instance</span><a id="_idIndexMarker391"/><span class="koboSpan" id="kobo.636.1"> of </span><strong class="source-inline"><span class="koboSpan" id="kobo.637.1">Object</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.638.1">in</span></span><span class="No-Break"><a id="_idIndexMarker392"/></span><span class="No-Break"><span class="koboSpan" id="kobo.639.1"> JavaScript.</span></span></p>
<p><span class="koboSpan" id="kobo.640.1">Next, we will explore how to enable validation for props on </span><span class="No-Break"><span class="koboSpan" id="kobo.641.1">certain types.</span></span></p>
<h2 id="_idParaDest-95"><a id="_idTextAnchor160"/><span class="koboSpan" id="kobo.642.1">Custom validation of arrays and objects</span></h2>
<p><span class="koboSpan" id="kobo.643.1">Vue allows custom</span><a id="_idIndexMarker393"/><span class="koboSpan" id="kobo.644.1"> validators to be used</span><a id="_idIndexMarker394"/><span class="koboSpan" id="kobo.645.1"> as props using</span><a id="_idIndexMarker395"/><span class="koboSpan" id="kobo.646.1"> the </span><strong class="source-inline"><span class="koboSpan" id="kobo.647.1">validator</span></strong><span class="koboSpan" id="kobo.648.1"> property. </span><span class="koboSpan" id="kobo.648.2">This allows us to implement </span><a id="_idIndexMarker396"/><span class="koboSpan" id="kobo.649.1">deep checks regarding object and </span><span class="No-Break"><span class="koboSpan" id="kobo.650.1">collection types.</span></span></p>
<p><span class="koboSpan" id="kobo.651.1">Let’s look at a </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.652.1">CustomSelect</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.653.1"> component.</span></span></p>
<p><span class="koboSpan" id="kobo.654.1">On a basic level, the prop interface for </span><strong class="source-inline"><span class="koboSpan" id="kobo.655.1">select</span></strong><span class="koboSpan" id="kobo.656.1"> comprises an array of </span><strong class="source-inline"><span class="koboSpan" id="kobo.657.1">options</span></strong><span class="koboSpan" id="kobo.658.1"> and a </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.659.1">selected</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.660.1"> option.</span></span></p>
<p><span class="koboSpan" id="kobo.661.1">Each option should have a </span><strong class="source-inline"><span class="koboSpan" id="kobo.662.1">label</span></strong><span class="koboSpan" id="kobo.663.1"> that represents what is displayed in </span><strong class="source-inline"><span class="koboSpan" id="kobo.664.1">select</span></strong><span class="koboSpan" id="kobo.665.1">, and a </span><strong class="source-inline"><span class="koboSpan" id="kobo.666.1">value</span></strong><span class="koboSpan" id="kobo.667.1"> representing its actual value. </span><span class="koboSpan" id="kobo.667.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.668.1">selected</span></strong><span class="koboSpan" id="kobo.669.1"> option’s value can be empty or be equal to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.670.1">value</span></strong><span class="koboSpan" id="kobo.671.1"> field for one of </span><span class="No-Break"><span class="koboSpan" id="kobo.672.1">our </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.673.1">options</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.674.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.675.1">We can implement </span><strong class="source-inline"><span class="koboSpan" id="kobo.676.1">CustomSelect</span></strong><span class="koboSpan" id="kobo.677.1"> in a naive </span><a id="_idTextAnchor161"/><span class="koboSpan" id="kobo.678.1">way (no validation of the inputs) </span><span class="No-Break"><span class="koboSpan" id="kobo.679.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.680.1">
&lt;template&gt;
  &lt;select&gt;
    &lt;option
      :selected="selected === o.value"
      v-for="o in options"
      :key="o.value"
    &gt;
      {{ o.label }}
    &lt;/option&gt;
  &lt;/select&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  props: {
    selected: {
      type: String
    },
    options: {
      type: Array
    }
  }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.681.1">Then use </span><strong class="source-inline"><span class="koboSpan" id="kobo.682.1">CustomSelect</span></strong><span class="koboSpan" id="kobo.683.1"> to</span><a id="_idIndexMarker397"/><span class="koboSpan" id="kobo.684.1"> display</span><a id="_idIndexMarker398"/><span class="koboSpan" id="kobo.685.1"> a </span><a id="_idTextAnchor162"/><span class="koboSpan" id="kobo.686.1">list of British</span><a id="_idIndexMarker399"/><span class="koboSpan" id="kobo.687.1"> crisp</span><a id="_idIndexMarker400"/><span class="koboSpan" id="kobo.688.1"> flavors (</span><span class="No-Break"><span class="koboSpan" id="kobo.689.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.690.1">src/App.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.691.1">):</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.692.1">
&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;CustomSelect :selected="selected" :options="options"
      /&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import CustomSelect from './components/CustomSelect.vue'
export default {
  components: {
    CustomSe</span><a id="_idTextAnchor163"/><span class="koboSpan" id="kobo.693.1">lect
  },
  data() {
    return</span><a id="_idTextAnchor164"/><span class="koboSpan" id="kobo.694.1"> {
      selected: 'salt-vinegar',
      options: [
        {
          value: 'ready-salted',
          label: 'Ready Salted'
        },
        {
          value: 'cheese-onion',
          label: 'Cheese &amp; Onion'
        },
        {
          value: 'salt-vinegar',
          label: 'Salt &amp; Vinegar'
        },
      ]
    }
  }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.695.1">The preceding</span><a id="_idIndexMarker401"/><span class="koboSpan" id="kobo.696.1"> example</span><a id="_idIndexMarker402"/><span class="koboSpan" id="kobo.697.1"> outputs a </span><strong class="source-inline"><span class="koboSpan" id="kobo.698.1">select</span></strong><span class="koboSpan" id="kobo.699.1"> element where </span><strong class="source-inline"><span class="koboSpan" id="kobo.700.1">Salt &amp; Vinegar</span></strong><span class="koboSpan" id="kobo.701.1"> is the default selected</span><a id="_idIndexMarker403"/><span class="koboSpan" id="kobo.702.1"> option, as shown in the</span><a id="_idIndexMarker404"/> <span class="No-Break"><span class="koboSpan" id="kobo.703.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer121">
<span class="koboSpan" id="kobo.704.1"><img alt="Figure 4.9 – Collapsed CustomSelect with Salt &amp; Vinegar selected" src="image/B18645_04_09.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.705.1">Figure 4.9 – Collapsed CustomSelect with Salt &amp; Vinegar selected</span></p>
<p><span class="koboSpan" id="kobo.706.1">The following screenshot shows the three flavor options displayed when the dropdown </span><span class="No-Break"><span class="koboSpan" id="kobo.707.1">is opened:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer122">
<span class="koboSpan" id="kobo.708.1"><img alt="Figure 4.10 – Open CustomSelect with flavor options and Salt &amp; Vinegar selected" src="image/B18645_04_10.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.709.1">Figure 4.10 – Open CustomSelect with flavor options and Salt &amp; Vinegar selected</span></p>
<p><span class="koboSpan" id="kobo.710.1">Now we can implement a prop </span><strong class="source-inline"><span class="koboSpan" id="kobo.711.1">validator</span></strong><span class="koboSpan" id="kobo.712.1"> method to enable further validation for our component’s logic, </span><span class="No-Break"><span class="koboSpan" id="kobo.713.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.714.1">
&lt;script&gt;
export default {
  // other component properties
  props: {
    // other pro</span><a id="_idTextAnchor165"/><span class="koboSpan" id="kobo.715.1">p definitions
    options: {
      type: Array,
      validator(options) {
        return options.every(o =&gt; Boolean(o.value
          &amp;&amp; o.label))
      }
    }
  }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.716.1">If we pass an option with a missing </span><strong class="source-inline"><span class="koboSpan" id="kobo.717.1">value</span></strong><span class="koboSpan" id="kobo.718.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.719.1">label</span></strong><span class="koboSpan" id="kobo.720.1">, we will get the following message in </span><span class="No-Break"><span class="koboSpan" id="kobo.721.1">the console:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer123">
<span class="koboSpan" id="kobo.722.1"><img alt="Figure 4.11 – Console warning when a custom validator fails" src="image/B18645_04_11.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.723.1">Figure 4.11 – Console warning when a custom validator fails</span></p>
<p><span class="koboSpan" id="kobo.724.1">With that, we have</span><a id="_idIndexMarker405"/><span class="koboSpan" id="kobo.725.1"> learned how to use</span><a id="_idIndexMarker406"/><span class="koboSpan" id="kobo.726.1"> a custom validator</span><a id="_idIndexMarker407"/><span class="koboSpan" id="kobo.727.1"> to do in-depth validation</span><a id="_idIndexMarker408"/><span class="koboSpan" id="kobo.728.1"> for complex props. </span><span class="koboSpan" id="kobo.728.2">Next, we</span><a id="_idTextAnchor166"/><span class="koboSpan" id="kobo.729.1"> will learn how the </span><strong class="source-inline"><span class="koboSpan" id="kobo.730.1">required</span></strong><span class="koboSpan" id="kobo.731.1"> property of a </span><span class="No-Break"><span class="koboSpan" id="kobo.732.1">prop works.</span></span></p>
<h2 id="_idParaDest-96"><a id="_idTextAnchor167"/><span class="koboSpan" id="kobo.733.1">Understanding required props</span></h2>
<p><span class="koboSpan" id="kobo.734.1">To mark a prop</span><a id="_idIndexMarker409"/><span class="koboSpan" id="kobo.735.1"> as required, we</span><a id="_idIndexMarker410"/><span class="koboSpan" id="kobo.736.1"> can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.737.1">required</span></strong><span class="koboSpan" id="kobo.738.1"> prop </span><span class="No-Break"><span class="koboSpan" id="kobo.739.1">type property.</span></span></p>
<p><span class="koboSpan" id="kobo.740.1">In the </span><strong class="source-inline"><span class="koboSpan" id="kobo.741.1">CustomSelect</span></strong><span class="koboSpan" id="kobo.742.1"> example, we can make </span><strong class="source-inline"><span class="koboSpan" id="kobo.743.1">selected</span></strong><span class="koboSpan" id="kobo.744.1"> a required prop by adding </span><strong class="source-inline"><span class="koboSpan" id="kobo.745.1">required: true</span></strong><span class="koboSpan" id="kobo.746.1"> to its prop definition, </span><span class="No-Break"><span class="koboSpan" id="kobo.747.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.748.1">
&lt;script&gt;
export default {
  // other component prope</span><a id="_idTextAnchor168"/><span class="koboSpan" id="kobo.749.1">rties
  props: {
    selected: {
      type: String,
      required: true
    }
    // other prop definitions
  }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.750.1">Now, if we don’t pass a value to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.751.1">selected</span></strong><span class="koboSpan" id="kobo.752.1"> prop of </span><strong class="source-inline"><span class="koboSpan" id="kobo.753.1">CustomSelect</span></strong><span class="koboSpan" id="kobo.754.1"> on the parent component, we will see the </span><span class="No-Break"><span class="koboSpan" id="kobo.755.1">following error:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer124">
<span class="koboSpan" id="kobo.756.1"><img alt="Figure 4.12 – Console warning when the selected required prop is missing" src="image/B18645_04_12.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.757.1">Figure 4.12 – Console warning when the selected required prop is missing</span></p>
<p><span class="koboSpan" id="kobo.758.1">With that, we have</span><a id="_idIndexMarker411"/><span class="koboSpan" id="kobo.759.1"> learned how to mark props as required and saw what happens when we don’t pass a value to a required prop. </span><span class="koboSpan" id="kobo.759.2">Next, we will learn how to set the default valu</span><a id="_idTextAnchor169"/><span class="koboSpan" id="kobo.760.1">e</span><a id="_idIndexMarker412"/><span class="koboSpan" id="kobo.761.1"> for a prop and see why it is a good practice to </span><span class="No-Break"><span class="koboSpan" id="kobo.762.1">do so.</span></span></p>
<h2 id="_idParaDest-97"><a id="_idTextAnchor170"/><span class="koboSpan" id="kobo.763.1">Setting the default props value</span></h2>
<p><span class="koboSpan" id="kobo.764.1">There are situations where setting </span><a id="_idIndexMarker413"/><span class="koboSpan" id="kobo.765.1">the default value for a prop is good practice</span><a id="_idIndexMarker414"/> <span class="No-Break"><span class="koboSpan" id="kobo.766.1">to follow.</span></span></p>
<p><span class="koboSpan" id="kobo.767.1">Take a </span><strong class="source-inline"><span class="koboSpan" id="kobo.768.1">PaginatedList</span></strong><span class="koboSpan" id="kobo.769.1"> component, for instance. </span><span class="koboSpan" id="kobo.769.2">This component takes a list of </span><strong class="source-inline"><span class="koboSpan" id="kobo.770.1">items</span></strong><span class="koboSpan" id="kobo.771.1">, a </span><strong class="source-inline"><span class="koboSpan" id="kobo.772.1">limit</span></strong><span class="koboSpan" id="kobo.773.1"> number of items to display, and an </span><strong class="source-inline"><span class="koboSpan" id="kobo.774.1">offset</span></strong><span class="koboSpan" id="kobo.775.1"> number. </span><span class="koboSpan" id="kobo.775.2">Then it will display a subset of items – </span><strong class="source-inline"><span class="koboSpan" id="kobo.776.1">currentWindow</span></strong><span class="koboSpan" id="kobo.777.1"> – based on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.778.1">limit</span></strong><span class="koboSpan" id="kobo.779.1"> and </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.780.1">offset</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.781.1"> values:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.782.1">
&lt;template&gt;
  &lt;ul&gt;
    &lt;li
      v-for="el in currentWindow"
      :key="el.id"
    &gt;
      {{ el.content }}
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  props: {
    items: {
      type: Array,
      required: true,
    },
    limit: {
      type: Number
    },
    offset: {
      type: Number
    }
  },
  computed: {
    currentWindow() {
      return this.items.slice(this.offset, this.limit)
    }
  }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.783.1">Instead of passing the values of </span><strong class="source-inline"><span class="koboSpan" id="kobo.784.1">limit</span></strong><span class="koboSpan" id="kobo.785.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.786.1">offset</span></strong><span class="koboSpan" id="kobo.787.1"> every time, it might be better to set </span><strong class="source-inline"><span class="koboSpan" id="kobo.788.1">limit</span></strong><span class="koboSpan" id="kobo.789.1"> to a default value (like </span><strong class="source-inline"><span class="koboSpan" id="kobo.790.1">2</span></strong><span class="koboSpan" id="kobo.791.1">) and </span><strong class="source-inline"><span class="koboSpan" id="kobo.792.1">offset</span></strong><span class="koboSpan" id="kobo.793.1"> to </span><strong class="source-inline"><span class="koboSpan" id="kobo.794.1">0</span></strong><span class="koboSpan" id="kobo.795.1"> (this means that by default, we show the first page, which contains </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.796.1">2</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.797.1"> results).</span></span></p>
<p><span class="koboSpan" id="kobo.798.1">We can implement this change</span><a id="_idIndexMarker415"/><span class="koboSpan" id="kobo.799.1"> using the default property for each prop definition</span><a id="_idIndexMarker416"/><span class="koboSpan" id="kobo.800.1"> object </span><span class="No-Break"><span class="koboSpan" id="kobo.801.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.802.1">
&lt;script&gt;
export default {
  props: {
    // other props
    limit: {
      type: Number,
      default: 2,
    },
    offset: {
      type: Number,
      default: 0,
    }
  },
  // other component properties
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.803.1">Then in </span><strong class="source-inline"><span class="koboSpan" id="kobo.804.1">App.vue</span></strong><span class="koboSpan" id="kobo.805.1">, we can use </span><strong class="source-inline"><span class="koboSpan" id="kobo.806.1">PaginatedList</span></strong><span class="koboSpan" id="kobo.807.1"> without passing </span><strong class="source-inline"><span class="koboSpan" id="kobo.808.1">limit</span></strong><span class="koboSpan" id="kobo.809.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.810.1">offset</span></strong><span class="koboSpan" id="kobo.811.1">. </span><span class="koboSpan" id="kobo.811.2">Vue automatically</span><a id="_idIndexMarker417"/><span class="koboSpan" id="kobo.812.1"> falls back to the default values in case no value</span><a id="_idIndexMarker418"/> <span class="No-Break"><span class="koboSpan" id="kobo.813.1">is passed:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.814.1">
&lt;template&gt;
  &lt;main&gt;
    &lt;PaginatedList :items="snacks" /&gt;
  &lt;/main&gt;
&lt;/template&gt;
&lt;script&gt;
import PaginatedList from './components/PaginatedList.vue'
export default {
  components: {
    PaginatedList
  },
  data() {
    return {
      snacks: [
        {
          id: 'ready-salted',
          content: 'Ready Salted'
        },
        {
          id: 'cheese-onion',
          content: 'Cheese &amp; Onion'
        },
        {
          id: 'salt-vinegar',
          content: 'Salt &amp; Vinegar'
        },
      ]
    }
  }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.815.1">The browser </span><a id="_idIndexMarker419"/><span class="koboSpan" id="kobo.816.1">will display</span><a id="_idIndexMarker420"/><span class="koboSpan" id="kobo.817.1"> only the first two items, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.818.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer125">
<span class="koboSpan" id="kobo.819.1"><img alt="Figure 4.13 – Output of a snack list with first two items only by default" src="image/B18645_04_13.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.820.1">Figure 4.13 – Output of a snack list with first two items only by default</span></p>
<p><span class="koboSpan" id="kobo.821.1">When you pass values for </span><strong class="source-inline"><span class="koboSpan" id="kobo.822.1">offset</span></strong><span class="koboSpan" id="kobo.823.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.824.1">limit</span></strong><span class="koboSpan" id="kobo.825.1">, Vue will use these values instead of the defaults and render the </span><span class="No-Break"><span class="koboSpan" id="kobo.826.1">component accordingly.</span></span></p>
<p><span class="koboSpan" id="kobo.827.1">In cases where a prop</span><a id="_idIndexMarker421"/><span class="koboSpan" id="kobo.828.1"> is an array or an object, we can’t assign its </span><strong class="source-inline"><span class="koboSpan" id="kobo.829.1">default</span></strong><span class="koboSpan" id="kobo.830.1"> value with</span><a id="_idIndexMarker422"/><span class="koboSpan" id="kobo.831.1"> a static array or object. </span><span class="koboSpan" id="kobo.831.2">Instead, we need to assign it a function that returns the desired default value. </span><span class="koboSpan" id="kobo.831.3">We can set the </span><strong class="source-inline"><span class="koboSpan" id="kobo.832.1">default</span></strong><span class="koboSpan" id="kobo.833.1"> value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.834.1">items</span></strong><span class="koboSpan" id="kobo.835.1"> from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.836.1">PaginatedList</span></strong><span class="koboSpan" id="kobo.837.1"> component to an empty array, </span><span class="No-Break"><span class="koboSpan" id="kobo.838.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.839.1">
&lt;script&gt;
export default {
  props: {
    items: {
      type: Array,
      default() {
        return []
      }
    }
    // other props
  },
  // other component properties
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.840.1">At this point, we have learned how to set default values for component props. </span><span class="koboSpan" id="kobo.840.2">Note here that once you set a </span><strong class="source-inline"><span class="koboSpan" id="kobo.841.1">default</span></strong><span class="koboSpan" id="kobo.842.1"> value, you don’t need to set </span><strong class="source-inline"><span class="koboSpan" id="kobo.843.1">required</span></strong><span class="koboSpan" id="kobo.844.1"> field anymore. </span><span class="koboSpan" id="kobo.844.2">We can use a </span><strong class="source-inline"><span class="koboSpan" id="kobo.845.1">default</span></strong><span class="koboSpan" id="kobo.846.1"> value to ensure our props are always with values, regardless of whether</span><a id="_idIndexMarker423"/><span class="koboSpan" id="kobo.847.1"> this is required</span><a id="_idIndexMarker424"/> <span class="No-Break"><span class="koboSpan" id="kobo.848.1">or optional.</span></span></p>
<h2 id="_idParaDest-98"><a id="_idTextAnchor171"/><span class="koboSpan" id="kobo.849.1">Registering props in &lt;script setup&gt; (setup hook)</span></h2>
<p><span class="koboSpan" id="kobo.850.1">If you use </span><strong class="source-inline"><span class="koboSpan" id="kobo.851.1">&lt;script setup&gt;</span></strong><span class="koboSpan" id="kobo.852.1">, since there is no</span><a id="_idIndexMarker425"/><span class="koboSpan" id="kobo.853.1"> options object, we can’t define the</span><a id="_idIndexMarker426"/><span class="koboSpan" id="kobo.854.1"> component’s props using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.855.1">props</span></strong><span class="koboSpan" id="kobo.856.1"> field. </span><span class="koboSpan" id="kobo.856.2">Instead, we use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.857.1">defineProps()</span></strong><span class="koboSpan" id="kobo.858.1"> function from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.859.1">vue</span></strong><span class="koboSpan" id="kobo.860.1"> package and pass all the relevant props’ definitions to it, just as we did with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.861.1">props</span></strong><span class="koboSpan" id="kobo.862.1"> field. </span><span class="koboSpan" id="kobo.862.2">For example, in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.863.1">MessageEditor</span></strong><span class="koboSpan" id="kobo.864.1"> component, we can rewrite the event registering with </span><strong class="source-inline"><span class="koboSpan" id="kobo.865.1">defineEmits()</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.866.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.867.1">
&lt;script setup&gt;
import { defineProps, computed } from  'vue'
const props = defineProps({
    items: {
      type: Array,
      required: true,
    },
    limit: {
      type: Number
    },
    offset: {
      type: Number
    }
});
const currentWindow = computed(() =&gt; {
  return props.items.slice(props.offset, props.limit)
})
&lt;/script&gt;</span></pre>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.868.1">defineProps()</span></strong><span class="koboSpan" id="kobo.869.1"> returns an object containing all the props’ values. </span><span class="koboSpan" id="kobo.869.2">We can then access a prop such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.870.1">items</span></strong><span class="koboSpan" id="kobo.871.1"> using </span><strong class="source-inline"><span class="koboSpan" id="kobo.872.1">props.items</span></strong><span class="koboSpan" id="kobo.873.1"> instead within the </span><strong class="source-inline"><span class="koboSpan" id="kobo.874.1">script</span></strong><span class="koboSpan" id="kobo.875.1"> section, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.876.1">items</span></strong><span class="koboSpan" id="kobo.877.1"> as usual in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.878.1">template</span></strong><span class="koboSpan" id="kobo.879.1"> section. </span><span class="koboSpan" id="kobo.879.2">In the previous example, we also use </span><strong class="source-inline"><span class="koboSpan" id="kobo.880.1">computed()</span></strong><span class="koboSpan" id="kobo.881.1"> to declare</span><a id="_idIndexMarker427"/><span class="koboSpan" id="kobo.882.1"> a reactive data </span><strong class="source-inline"><span class="koboSpan" id="kobo.883.1">currentWindow</span></strong><span class="koboSpan" id="kobo.884.1"> for this component, the usage of which</span><a id="_idIndexMarker428"/><span class="koboSpan" id="kobo.885.1"> we will discuss further in </span><a href="B18645_05.xhtml#_idTextAnchor193"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.886.1">Chapter 5</span></em></span></a><span class="koboSpan" id="kobo.887.1">, </span><em class="italic"><span class="koboSpan" id="kobo.888.1">The </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.889.1">Composition API</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.890.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.891.1">Let’s practice writing com</span><a id="_idTextAnchor172"/><span class="koboSpan" id="kobo.892.1">ponent props with defaults, types, and validators in the </span><span class="No-Break"><span class="koboSpan" id="kobo.893.1">next exercise.</span></span></p>
<h2 id="_idParaDest-99"><a id="_idTextAnchor173"/><span class="koboSpan" id="kobo.894.1">Exercise 4.03 – Validating an Object property</span></h2>
<p><span class="koboSpan" id="kobo.895.1">In this exercise, we</span><a id="_idIndexMarker429"/><span class="koboSpan" id="kobo.896.1"> will write a </span><strong class="source-inline"><span class="koboSpan" id="kobo.897.1">Repeat</span></strong><span class="koboSpan" id="kobo.898.1"> component that accepts a </span><strong class="source-inline"><span class="koboSpan" id="kobo.899.1">config</span></strong><span class="koboSpan" id="kobo.900.1"> data prop</span><a id="_idIndexMarker430"/><span class="koboSpan" id="kobo.901.1"> for passing </span><strong class="source-inline"><span class="koboSpan" id="kobo.902.1">times</span></strong><span class="koboSpan" id="kobo.903.1">, which is a </span><strong class="source-inline"><span class="koboSpan" id="kobo.904.1">Number</span></strong><span class="koboSpan" id="kobo.905.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.906.1">content</span></strong><span class="koboSpan" id="kobo.907.1">, which is </span><span class="No-Break"><span class="koboSpan" id="kobo.908.1">a </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.909.1">String</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.910.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.911.1">We will write a custom validator to make sure </span><strong class="source-inline"><span class="koboSpan" id="kobo.912.1">times</span></strong><span class="koboSpan" id="kobo.913.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.914.1">content</span></strong><span class="koboSpan" id="kobo.915.1"> exist and are of the </span><span class="No-Break"><span class="koboSpan" id="kobo.916.1">correct type.</span></span></p>
<p><span class="koboSpan" id="kobo.917.1">To access the code file for this exercise, refer </span><span class="No-Break"><span class="koboSpan" id="kobo.918.1">to </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter04/Exercise4.03"><span class="No-Break"><span class="koboSpan" id="kobo.919.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter04/Exercise4.03</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.920.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.921.1">Work through the following steps to complete </span><span class="No-Break"><span class="koboSpan" id="kobo.922.1">this exercise:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.923.1">Use the application generated with </span><strong class="source-inline"><span class="koboSpan" id="kobo.924.1">npm init vue@3</span></strong><span class="koboSpan" id="kobo.925.1"> as a starting point. </span><span class="koboSpan" id="kobo.925.2">Otherwise, within the root folder of the code repository, navigate to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.926.1">Chapter04/Exercise4.03</span></strong><span class="koboSpan" id="kobo.927.1"> folder using the following commands </span><span class="No-Break"><span class="koboSpan" id="kobo.928.1">in order:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.929.1">&gt; cd Chapter04/Exercise4.03/</span></strong></pre><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.930.1">&gt; yarn</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.931.1">Open the exercise project in VS Code (using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.932.1">code .</span></strong><span class="koboSpan" id="kobo.933.1"> command within the project directory) or in your </span><span class="No-Break"><span class="koboSpan" id="kobo.934.1">preferred IDE.</span></span></li>
<li><span class="koboSpan" id="kobo.935.1">Create a new file named </span><strong class="source-inline"><span class="koboSpan" id="kobo.936.1">Repeat.vue</span></strong><span class="koboSpan" id="kobo.937.1"> in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.938.1">./</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.939.1">src/components</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.940.1"> directory.</span></span></li>
<li><span class="koboSpan" id="kobo.941.1">Define a prop </span><strong class="source-inline"><span class="koboSpan" id="kobo.942.1">config</span></strong><span class="koboSpan" id="kobo.943.1"> for </span><strong class="source-inline"><span class="koboSpan" id="kobo.944.1">Repeat.vue</span></strong><span class="koboSpan" id="kobo.945.1">. </span><span class="koboSpan" id="kobo.945.2">This prop will be of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.946.1">Object</span></strong><span class="koboSpan" id="kobo.947.1"> type, </span><span class="No-Break"><span class="koboSpan" id="kobo.948.1">as follows:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.949.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.950.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.951.1">
  props: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.952.1">
    config: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.953.1">
      type: Object,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.954.1">
      required: true,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.955.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.956.1">
  }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.957.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.958.1">
&lt;/script&gt;</span></pre></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.959.1">Config</span></strong><span class="koboSpan" id="kobo.960.1"> contains</span><a id="_idIndexMarker431"/><span class="koboSpan" id="kobo.961.1"> two fields – </span><strong class="source-inline"><span class="koboSpan" id="kobo.962.1">times</span></strong><span class="koboSpan" id="kobo.963.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.964.1">content</span></strong><span class="koboSpan" id="kobo.965.1">. </span><span class="koboSpan" id="kobo.965.2">We compute a reactive data array called </span><strong class="source-inline"><span class="koboSpan" id="kobo.966.1">repetitions</span></strong><span class="koboSpan" id="kobo.967.1"> for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.968.1">Repeat</span></strong><span class="koboSpan" id="kobo.969.1"> component with its length</span><a id="_idIndexMarker432"/><span class="koboSpan" id="kobo.970.1"> based </span><span class="No-Break"><span class="koboSpan" id="kobo.971.1">on </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.972.1">config.times</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.973.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.974.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.975.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.976.1">
  // other component properties</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.977.1">
  computed: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.978.1">
    repetitions() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.979.1">
      return Array.from({ length: this.config.times })</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.980.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.981.1">
  }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.982.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.983.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.984.1">Set up </span><strong class="source-inline"><span class="koboSpan" id="kobo.985.1">&lt;template&gt;</span></strong><span class="koboSpan" id="kobo.986.1"> so that</span><a id="_idIndexMarker433"/><span class="koboSpan" id="kobo.987.1"> it renders </span><strong class="source-inline"><span class="koboSpan" id="kobo.988.1">config.content</span></strong><span class="koboSpan" id="kobo.989.1"> for each </span><a id="_idIndexMarker434"/><span class="koboSpan" id="kobo.990.1">of the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.991.1">repetitions</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.992.1"> items:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.993.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.994.1">
  &lt;div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.995.1">
    &lt;span v-for="r in repetitions" :key="r"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.996.1">
      {{ config.content }}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.997.1">
    &lt;/span&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.998.1">
  &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.999.1">
&lt;/template&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.1000.1">We need to ensure that </span><strong class="source-inline"><span class="koboSpan" id="kobo.1001.1">content</span></strong><span class="koboSpan" id="kobo.1002.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1003.1">times</span></strong><span class="koboSpan" id="kobo.1004.1"> will receive the correct value by implementing a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1005.1">validator</span></strong><span class="koboSpan" id="kobo.1006.1"> for </span><strong class="source-inline"><span class="koboSpan" id="kobo.1007.1">config</span></strong><span class="koboSpan" id="kobo.1008.1">. </span><span class="koboSpan" id="kobo.1008.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1009.1">validator</span></strong><span class="koboSpan" id="kobo.1010.1"> will check whether the received value’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.1011.1">times</span></strong><span class="koboSpan" id="kobo.1012.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1013.1">content</span></strong> <strong class="source-inline"><span class="koboSpan" id="kobo.1014.1">typeof</span></strong><span class="koboSpan" id="kobo.1015.1"> are of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1016.1">number</span></strong><span class="koboSpan" id="kobo.1017.1"> and </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1018.1">string</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1019.1">, respectively:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1020.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1021.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1022.1">
  props: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1023.1">
    config: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1024.1">
      type: Object,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1025.1">
      required: true,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1026.1">
      validator(value) {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1027.1">
        return typeof value.times === 'number' &amp;&amp;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1028.1">
          typeof value.content === 'string'</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1029.1">
      }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1030.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1031.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1032.1">
  // other component properties</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1033.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1034.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.1035.1">Next, we</span><a id="_idIndexMarker435"/><span class="koboSpan" id="kobo.1036.1"> import and</span><a id="_idIndexMarker436"/><span class="koboSpan" id="kobo.1037.1"> use </span><strong class="source-inline"><span class="koboSpan" id="kobo.1038.1">Repeat</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1039.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1040.1">src/App.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1041.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1042.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1043.1">
  &lt;main&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1044.1">
    &lt;Repeat :config="{}" /&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1045.1">
  &lt;/main&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1046.1">
&lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1047.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1048.1">
import Repeat from './components/Repeat.vue'</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1049.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1050.1">
  components: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1051.1">
    Repeat</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1052.1">
  }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1053.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1054.1">
&lt;/script&gt;</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.1055.1">Unfortunately, this will</span><a id="_idIndexMarker437"/><span class="koboSpan" id="kobo.1056.1"> not render anything since </span><strong class="source-inline"><span class="koboSpan" id="kobo.1057.1">config</span></strong><span class="koboSpan" id="kobo.1058.1"> is an empty</span><a id="_idIndexMarker438"/><span class="koboSpan" id="kobo.1059.1"> object. </span><span class="koboSpan" id="kobo.1059.2">You will observe a warning in the console, </span><span class="No-Break"><span class="koboSpan" id="kobo.1060.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer126">
<span class="koboSpan" id="kobo.1061.1"><img alt="Figure 4.14 – Console warning due to the config prop’s custom validator check failing" src="image/B18645_04_14.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1062.1">Figure 4.14 – Console warning due to the config prop’s custom validator check failing</span></p>
<ol>
<li value="9"><span class="koboSpan" id="kobo.1063.1">We will see this same error in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1064.1">following cases:</span></span><ul><li><span class="koboSpan" id="kobo.1065.1">We only add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1066.1">times</span></strong><span class="koboSpan" id="kobo.1067.1"> property, that is, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1068.1">&lt;Repeat :config="{ times: 3 }" /&gt;</span></strong></li><li><span class="koboSpan" id="kobo.1069.1">We only add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1070.1">content</span></strong><span class="koboSpan" id="kobo.1071.1"> property, that is, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1072.1">&lt;Repeat :config="{ content: 'Repeat me.' </span><span class="koboSpan" id="kobo.1072.2">}" /&gt;</span></strong></li><li><strong class="source-inline"><span class="koboSpan" id="kobo.1073.1">times</span></strong><span class="koboSpan" id="kobo.1074.1"> is of the wrong type, that is, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1075.1">&lt;Repeat :config="{ times: '3', content: 'Repeat me.' </span><span class="koboSpan" id="kobo.1075.2">}" /&gt;</span></strong></li><li><strong class="source-inline"><span class="koboSpan" id="kobo.1076.1">content</span></strong><span class="koboSpan" id="kobo.1077.1"> is of the wrong type property, that is, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1078.1">&lt;Repeat :config="{ times: 3, content: 42 }" /&gt;</span></strong></li></ul></li>
<li><span class="koboSpan" id="kobo.1079.1">For </span><strong class="source-inline"><span class="koboSpan" id="kobo.1080.1">Repeat</span></strong><span class="koboSpan" id="kobo.1081.1"> to work correctly, we can amend the line consuming it in </span><strong class="source-inline"><span class="koboSpan" id="kobo.1082.1">template</span></strong><span class="koboSpan" id="kobo.1083.1"> to </span><span class="No-Break"><span class="koboSpan" id="kobo.1084.1">the following:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1085.1">
&lt;Repeat :config="{ times: 3, content: 'Repeat me.' </span><span class="koboSpan" id="kobo.1085.2">}" /&gt;</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.1086.1">This shows no errors in the console and renders </span><strong class="source-inline"><span class="koboSpan" id="kobo.1087.1">Repeat me.</span></strong><span class="koboSpan" id="kobo.1088.1"> three times, </span><span class="No-Break"><span class="koboSpan" id="kobo.1089.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1090.1">
Repeat me.Repeat me.Repeat me.</span></pre>
<p><span class="koboSpan" id="kobo.1091.1">We have demonstrated</span><a id="_idIndexMarker439"/><span class="koboSpan" id="kobo.1092.1"> how we use a validator to better define</span><a id="_idIndexMarker440"/><span class="koboSpan" id="kobo.1093.1"> components </span><span class="No-Break"><span class="koboSpan" id="kobo.1094.1">with props.</span></span></p>
<p><span class="koboSpan" id="kobo.1095.1">In the next section, we will have a deep dive into slots, a mechanism we use to compose our components by deferring </span><span class="No-Break"><span class="koboSpan" id="kobo.1096.1">template logic.</span></span></p>
<h1 id="_idParaDest-100"><a id="_idTextAnchor174"/><span class="koboSpan" id="kobo.1097.1">Understanding slots, named slots, and scoped slots</span></h1>
<p><strong class="bold"><span class="koboSpan" id="kobo.1098.1">Slots</span></strong><span class="koboSpan" id="kobo.1099.1"> are sections of a component</span><a id="_idIndexMarker441"/><span class="koboSpan" id="kobo.1100.1"> where the template/rendering is delegated back to the parent of the component. </span><span class="koboSpan" id="kobo.1100.2">We can consider slots as templates or markup that are passed from a parent to a child for rendering in its </span><span class="No-Break"><span class="koboSpan" id="kobo.1101.1">main template.</span></span></p>
<h2 id="_idParaDest-101"><a id="_idTextAnchor175"/><span class="koboSpan" id="kobo.1102.1">Passing markup to a component for rendering</span></h2>
<p><span class="koboSpan" id="kobo.1103.1">The simplest type</span><a id="_idIndexMarker442"/><span class="koboSpan" id="kobo.1104.1"> of slot is the default</span><a id="_idIndexMarker443"/> <span class="No-Break"><span class="koboSpan" id="kobo.1105.1">child slot.</span></span></p>
<p><span class="koboSpan" id="kobo.1106.1">We can define a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1107.1">Box</span></strong><span class="koboSpan" id="kobo.1108.1"> component with a slot </span><span class="No-Break"><span class="koboSpan" id="kobo.1109.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1110.1">
&lt;template&gt;
  &lt;div&gt;
    &lt;slot&gt;Slot's placeholder&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1111.1">The following markup is for the parent </span><span class="No-Break"><span class="koboSpan" id="kobo.1112.1">component (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1113.1">src/App.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1114.1">):</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1115.1">
&lt;template&gt;
  &lt;div&gt;
    &lt;Box&gt;
      &lt;h3&gt;This whole h3 is rendered in the slot&lt;/h3&gt;
    &lt;/Box&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import Box from './components/Box.vue'
export default {
  components: {
    Box
  }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1116.1">The preceding code will render the following text in </span><span class="No-Break"><span class="koboSpan" id="kobo.1117.1">the browser:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1118.1">
This whole h3 is rendered in the slot</span></pre>
<p><span class="koboSpan" id="kobo.1119.1">If there is no template content</span><a id="_idIndexMarker444"/><span class="koboSpan" id="kobo.1120.1"> passed to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1121.1">Box</span></strong><span class="koboSpan" id="kobo.1122.1">, Vue will fall back </span><a id="_idIndexMarker445"/><span class="koboSpan" id="kobo.1123.1">to the default template defined in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1124.1">Box</span></strong><span class="koboSpan" id="kobo.1125.1"> component, which is the </span><span class="No-Break"><span class="koboSpan" id="kobo.1126.1">following text:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1127.1">
Slot's placeholder</span></pre>
<p><span class="koboSpan" id="kobo.1128.1">Behind the scenes, Vue compiles the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1129.1">template</span></strong><span class="koboSpan" id="kobo.1130.1"> section of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1131.1">Box</span></strong><span class="koboSpan" id="kobo.1132.1"> and replaces </span><strong class="source-inline"><span class="koboSpan" id="kobo.1133.1">&lt;slot /&gt;</span></strong><span class="koboSpan" id="kobo.1134.1"> with the content wrapped inside </span><strong class="source-inline"><span class="koboSpan" id="kobo.1135.1">&lt;Box /&gt;</span></strong><span class="koboSpan" id="kobo.1136.1"> from the parent (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1137.1">App</span></strong><span class="koboSpan" id="kobo.1138.1">). </span><span class="koboSpan" id="kobo.1138.2">The scope of the replaced content, however, stays within the </span><span class="No-Break"><span class="koboSpan" id="kobo.1139.1">parent’s scope.</span></span></p>
<p><span class="koboSpan" id="kobo.1140.1">Consider the </span><span class="No-Break"><span class="koboSpan" id="kobo.1141.1">following example:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1142.1">
&lt;template&gt;
  &lt;div&gt;
    &lt;Box&gt;
      &lt;h3&gt;This whole h3 is rendered in the slot with parent
        count {{ count }}&lt;/h3&gt;
    &lt;/Box&gt;
    &lt;button @click="count++"&gt;Increment&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import Box from './components/Box.vue'
export default {
  components: {
    Box
  },
  data() {
    return { count: 0 }
  }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1143.1">The preceding</span><a id="_idIndexMarker446"/><span class="koboSpan" id="kobo.1144.1"> code will render </span><strong class="source-inline"><span class="koboSpan" id="kobo.1145.1">count</span></strong><span class="koboSpan" id="kobo.1146.1"> per its value</span><a id="_idIndexMarker447"/><span class="koboSpan" id="kobo.1147.1"> in the parent component. </span><span class="koboSpan" id="kobo.1147.2">It does not have access to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1148.1">Box</span></strong><span class="koboSpan" id="kobo.1149.1"> instance data or props and will generate the </span><span class="No-Break"><span class="koboSpan" id="kobo.1150.1">following output:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer127">
<span class="koboSpan" id="kobo.1151.1"><img alt="Figure 4.15 – Initial h3 with a count of 0, per the initial data in the parent component" src="image/B18645_04_15.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1152.1">Figure 4.15 – Initial h3 with a count of 0, per the initial data in the parent component</span></p>
<p><span class="koboSpan" id="kobo.1153.1">Incrementing the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1154.1">count</span></strong><span class="koboSpan" id="kobo.1155.1"> from the parent updates the template content, since the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1156.1">count</span></strong><span class="koboSpan" id="kobo.1157.1"> variable in the template passed to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1158.1">Box</span></strong><span class="koboSpan" id="kobo.1159.1"> was bound to data on the parent. </span><span class="koboSpan" id="kobo.1159.2">This will generate the </span><span class="No-Break"><span class="koboSpan" id="kobo.1160.1">following output:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer128">
<span class="koboSpan" id="kobo.1161.1"><img alt="Figure 4.16 – h3 with a count of 5 after five increments of the count in the parent component’s scope" src="image/B18645_04_16.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1162.1">Figure 4.16 – h3 with a count of 5 after five increments of the count in the parent component’s scope</span></p>
<p><span class="koboSpan" id="kobo.1163.1">Slots are a way to let the parent have control over rendering a section of a child’s template. </span><span class="koboSpan" id="kobo.1163.2">Any references</span><a id="_idIndexMarker448"/><span class="koboSpan" id="kobo.1164.1"> to instance properties, data, or methods</span><a id="_idIndexMarker449"/><span class="koboSpan" id="kobo.1165.1"> will use the parent component instance. </span><span class="koboSpan" id="kobo.1165.2">This type of slot does not have access to the child component’s properties, props, </span><span class="No-Break"><span class="koboSpan" id="kobo.1166.1">or data.</span></span></p>
<p><span class="koboSpan" id="kobo.1167.1">In the next section, we will look at how to use named slots to render </span><span class="No-Break"><span class="koboSpan" id="kobo.1168.1">multiple sections.</span></span></p>
<h2 id="_idParaDest-102"><a id="_idTextAnchor176"/><span class="koboSpan" id="kobo.1169.1">Using named slots to delegate rendering of multiple sections</span></h2>
<p><span class="koboSpan" id="kobo.1170.1">We use named slots when</span><a id="_idIndexMarker450"/><span class="koboSpan" id="kobo.1171.1"> a child component wants to allow</span><a id="_idIndexMarker451"/><span class="koboSpan" id="kobo.1172.1"> its parent to customize the multiple sections in </span><span class="No-Break"><span class="koboSpan" id="kobo.1173.1">its template.</span></span></p>
<p><span class="koboSpan" id="kobo.1174.1">For example, an </span><strong class="source-inline"><span class="koboSpan" id="kobo.1175.1">Article</span></strong><span class="koboSpan" id="kobo.1176.1"> component might delegate rendering of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1177.1">title</span></strong><span class="koboSpan" id="kobo.1178.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1179.1">excerpt</span></strong><span class="koboSpan" id="kobo.1180.1"> to </span><span class="No-Break"><span class="koboSpan" id="kobo.1181.1">its parent.</span></span></p>
<p><span class="koboSpan" id="kobo.1182.1">In this case, we will use multiple </span><strong class="source-inline"><span class="koboSpan" id="kobo.1183.1">slot</span></strong><span class="koboSpan" id="kobo.1184.1"> and assign each with an appropriate </span><strong class="source-inline"><span class="koboSpan" id="kobo.1185.1">name</span></strong><span class="koboSpan" id="kobo.1186.1"> attribute value, shown </span><span class="No-Break"><span class="koboSpan" id="kobo.1187.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1188.1">
&lt;template&gt;
  &lt;article&gt;
    &lt;div&gt;Title: &lt;slot name="title" /&gt;&lt;/div&gt;
    &lt;div&gt;Excerpt: &lt;slot name="excerpt" /&gt;&lt;/div&gt;
  &lt;/article&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1189.1">By doing so, we allow the parent of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1190.1">article</span></strong><span class="koboSpan" id="kobo.1191.1"> to override the slots named </span><strong class="source-inline"><span class="koboSpan" id="kobo.1192.1">title</span></strong><span class="koboSpan" id="kobo.1193.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1194.1">excerpt</span></strong><span class="koboSpan" id="kobo.1195.1"> with its desired </span><span class="No-Break"><span class="koboSpan" id="kobo.1196.1">UI templates.</span></span></p>
<p><span class="koboSpan" id="kobo.1197.1">To pass content to the desired slot, we use </span><strong class="source-inline"><span class="koboSpan" id="kobo.1198.1">template</span></strong><span class="koboSpan" id="kobo.1199.1"> with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1200.1">v-slot:name</span></strong><span class="koboSpan" id="kobo.1201.1"> directive (where </span><strong class="source-inline"><span class="koboSpan" id="kobo.1202.1">name</span></strong><span class="koboSpan" id="kobo.1203.1"> should be replaced with the </span><span class="No-Break"><span class="koboSpan" id="kobo.1204.1">slot’s name).</span></span></p>
<p><span class="koboSpan" id="kobo.1205.1">For example, for the slot named </span><strong class="source-inline"><span class="koboSpan" id="kobo.1206.1">title</span></strong><span class="koboSpan" id="kobo.1207.1">, we will use </span><strong class="source-inline"><span class="koboSpan" id="kobo.1208.1">v-slot:title</span></strong><span class="koboSpan" id="kobo.1209.1">, while for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1210.1">excerpt</span></strong><span class="koboSpan" id="kobo.1211.1"> slot, we will </span><span class="No-Break"><span class="koboSpan" id="kobo.1212.1">use </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1213.1">v-slot:excerpt</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1214.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1215.1">
&lt;template&gt;
  &lt;div&gt;
    &lt;Article&gt;
      &lt;template v-slot:title&gt;
        &lt;h3&gt;My Article Title&lt;/h3&gt;
      &lt;/template&gt;
      &lt;template v-slot:excerpt&gt;
        &lt;p&gt;First paragraph of content&lt;/p&gt;
        &lt;p&gt;Second paragraph of content&lt;/p&gt;
      &lt;/template&gt;
    &lt;/Article&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import Article from './components/Article.vue'
export default {
  components: {
    Article
  }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1216.1">When the preceding</span><a id="_idIndexMarker452"/><span class="koboSpan" id="kobo.1217.1"> application is seen</span><a id="_idIndexMarker453"/><span class="koboSpan" id="kobo.1218.1"> in the browser, it will look </span><span class="No-Break"><span class="koboSpan" id="kobo.1219.1">a</span><a id="_idTextAnchor177"/><span class="koboSpan" id="kobo.1220.1">s follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer129">
<span class="koboSpan" id="kobo.1221.1"><img alt="Figure 4.17 – Article using named slots to render templates defined by the parent" src="image/B18645_04_17.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1222.1">Figure 4.17 – Article using named slots to render templates defined by the parent</span></p>
<p><span class="koboSpan" id="kobo.1223.1">As you can see, the named slots do indeed render the </span><span class="No-Break"><span class="koboSpan" id="kobo.1224.1">expected content.</span></span></p>
<p><span class="koboSpan" id="kobo.1225.1">The shorthand</span><a id="_idIndexMarker454"/><span class="koboSpan" id="kobo.1226.1"> syntax for </span><strong class="source-inline"><span class="koboSpan" id="kobo.1227.1">v-slot:slot-name</span></strong><span class="koboSpan" id="kobo.1228.1"> is </span><strong class="source-inline"><span class="koboSpan" id="kobo.1229.1">#slot-name</span></strong><span class="koboSpan" id="kobo.1230.1">. </span><span class="koboSpan" id="kobo.1230.2">We can refactor</span><a id="_idIndexMarker455"/><span class="koboSpan" id="kobo.1231.1"> our template that consumes </span><strong class="source-inline"><span class="koboSpan" id="kobo.1232.1">Article</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1233.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1234.1">
&lt;template&gt;
  &lt;div&gt;
    &lt;Article&gt;
      &lt;template #title&gt;
        &lt;h3&gt;My Article Title&lt;/h3&gt;
      &lt;/template&gt;
      &lt;template #excerpt&gt;
        &lt;p&gt;First paragraph of content&lt;/p&gt;
        &lt;p&gt;Second paragraph of content&lt;/p&gt;
      &lt;/template&gt;
    &lt;/Article&gt;
  &lt;/div&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1235.1">Note here that </span><strong class="source-inline"><span class="koboSpan" id="kobo.1236.1">v-slot</span></strong><span class="koboSpan" id="kobo.1237.1"> cannot be used with native elements. </span><span class="koboSpan" id="kobo.1237.2">You can only use it with </span><strong class="source-inline"><span class="koboSpan" id="kobo.1238.1">template</span></strong><span class="koboSpan" id="kobo.1239.1"> and /or with the component itself. </span><span class="koboSpan" id="kobo.1239.2">For example, the following </span><strong class="source-inline"><span class="koboSpan" id="kobo.1240.1">&lt;template&gt;</span></strong><span class="koboSpan" id="kobo.1241.1"> section attempts to set a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1242.1">v-slot</span></strong><span class="koboSpan" id="kobo.1243.1"> on a </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1244.1">h3</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1245.1"> element:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1246.1">
&lt;template&gt;
  &lt;div&gt;
    &lt;Article&gt;
      &lt;h3 v-slot:title&gt;My Article Title&lt;/h3&gt;
    &lt;/Article&gt;
  &lt;/div&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1247.1">This template</span><a id="_idIndexMarker456"/><span class="koboSpan" id="kobo.1248.1"> will fail with a compilation</span><a id="_idIndexMarker457"/><span class="koboSpan" id="kobo.1249.1"> error of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1250.1">v-slot can only be used on components or &lt;template&gt;</span></strong><span class="koboSpan" id="kobo.1251.1">, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1252.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer130">
<span class="koboSpan" id="kobo.1253.1"><img alt="Figure 4.18 – v-slot on a native element – compilation error" src="image/B18645_04_18.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1254.1">Figure 4.18 – v-slot on a native element – compilation error</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.1255.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.1256.1">Everything that applies to the default slot applies to named slots. </span><span class="koboSpan" id="kobo.1256.2">In fact, the</span><a id="_idIndexMarker458"/><span class="koboSpan" id="kobo.1257.1"> default slot is a named slot called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1258.1">default</span></strong><span class="koboSpan" id="kobo.1259.1">. </span><span class="koboSpan" id="kobo.1259.2">This means that named slots also have access to the parent instance but not the </span><span class="No-Break"><span class="koboSpan" id="kobo.1260.1">child instance.</span></span></p>
<p><span class="koboSpan" id="kobo.1261.1">The default slot</span><a id="_idIndexMarker459"/><span class="koboSpan" id="kobo.1262.1"> is just a slot named </span><strong class="source-inline"><span class="koboSpan" id="kobo.1263.1">default</span></strong><span class="koboSpan" id="kobo.1264.1"> and we can</span><a id="_idIndexMarker460"/><span class="koboSpan" id="kobo.1265.1"> define it with no name. </span><span class="koboSpan" id="kobo.1265.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1266.1">default</span></strong><span class="koboSpan" id="kobo.1267.1"> slot is implicitly inferred </span><span class="No-Break"><span class="koboSpan" id="kobo.1268.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1269.1">
&lt;template&gt;
  &lt;div&gt;
    &lt;template&gt;Default template&lt;/template&gt;
  &lt;/div&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1270.1">We can also denote the default slot with shorthand </span><span class="No-Break"><span class="koboSpan" id="kobo.1271.1">slot notation:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1272.1">
&lt;template&gt;
  &lt;MyComponent&gt;
    &lt;template #default&gt;Default template&lt;/template&gt;
  &lt;/MyComponent&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1273.1">Or we can denote the default slot with longhand slot notation </span><span class="No-Break"><span class="koboSpan" id="kobo.1274.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1275.1">
&lt;template&gt;
  &lt;MyComponent&gt;
    &lt;template v-slot:default&gt;Default template&lt;/template&gt;
  &lt;/MyComponent&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1276.1">We have now seen how named slots allow components to delegate templating of certain sections</span><a id="_idIndexMarker461"/><span class="koboSpan" id="kobo.1277.1"> to a consumer, as well</span><a id="_idIndexMarker462"/><span class="koboSpan" id="kobo.1278.1"> as how these named slots can have a default template to cater for cases where a named slot </span><span class="No-Break"><span class="koboSpan" id="kobo.1279.1">is optional.</span></span></p>
<p><span class="koboSpan" id="kobo.1280.1">In the next section, we will learn how scoped slots are used to wrap </span><span class="No-Break"><span class="koboSpan" id="kobo.1281.1">prop-passing logic.</span></span></p>
<h2 id="_idParaDest-103"><a id="_idTextAnchor178"/><span class="koboSpan" id="kobo.1282.1">Using scoped slots to wrap prop-passing logic</span></h2>
<p><span class="koboSpan" id="kobo.1283.1">The types of slots we have</span><a id="_idIndexMarker463"/><span class="koboSpan" id="kobo.1284.1"> explored so far only have access</span><a id="_idIndexMarker464"/><span class="koboSpan" id="kobo.1285.1"> to the component instance where slot template content is passed – the </span><span class="No-Break"><span class="koboSpan" id="kobo.1286.1">parent component.</span></span></p>
<p><span class="koboSpan" id="kobo.1287.1">In many scenarios, it is handier to let the parent component decide how to render the UI while letting the child component handle the data and pass it to the slot. </span><span class="koboSpan" id="kobo.1287.2">We use scoped slots for </span><span class="No-Break"><span class="koboSpan" id="kobo.1288.1">this purpose.</span></span></p>
<p><span class="koboSpan" id="kobo.1289.1">A </span><strong class="bold"><span class="koboSpan" id="kobo.1290.1">scoped slot</span></strong><span class="koboSpan" id="kobo.1291.1"> starts with the child component’s slots, where the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1292.1">slot</span></strong><span class="koboSpan" id="kobo.1293.1"> element receives props and passes</span><a id="_idIndexMarker465"/><span class="koboSpan" id="kobo.1294.1"> them to the related template content by using </span><strong class="source-inline"><span class="koboSpan" id="kobo.1295.1">v-bind</span></strong><span class="koboSpan" id="kobo.1296.1"> or the </span><span class="No-Break"><span class="koboSpan" id="kobo.1297.1">shorthand, </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1298.1">:</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1299.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1300.1">In the following code example, we bind the slot’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.1301.1">item</span></strong><span class="koboSpan" id="kobo.1302.1"> prop to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1303.1">el</span></strong><span class="koboSpan" id="kobo.1304.1">, which is an element of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1305.1">currentWindow</span></strong><span class="koboSpan" id="kobo.1306.1"> data in the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1307.1">PaginatedList</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1308.1"> component:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1309.1">
&lt;template&gt;
  &lt;ul&gt;
    &lt;li
      v-for="el in currentWindow"
      :key="el.id"
    &gt;
      &lt;slot :item="el" /&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  props: ['items', 'limit', 'offset'],
  computed: {
    currentWindow() {
      return this.items.slice(this.offset, this.limit)
    }
  }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1310.1">On the consumer</span><a id="_idIndexMarker466"/><span class="koboSpan" id="kobo.1311.1"> side (the parent component), Vue renders</span><a id="_idIndexMarker467"/><span class="koboSpan" id="kobo.1312.1"> the template for that slot with a props object containing all the data props passed to the slot from the child component. </span><span class="koboSpan" id="kobo.1312.2">We need to let Vue know what data prop we want to access within a template content by specifying it with the </span><span class="No-Break"><span class="koboSpan" id="kobo.1313.1">following syntax:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1314.1">
&lt;template #slot-name="{ propName }"&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1315.1">Or, we can specify the name of the props object to be used within the template content </span><span class="No-Break"><span class="koboSpan" id="kobo.1316.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1317.1">
&lt;template #slot-name="slotProps"&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1318.1">Then within the template content, we can access a data prop by using </span><strong class="source-inline"><span class="koboSpan" id="kobo.1319.1">propName</span></strong><span class="koboSpan" id="kobo.1320.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.1321.1">slotProps.propName</span></strong><span class="koboSpan" id="kobo.1322.1">, depending on which approach you use. </span><span class="koboSpan" id="kobo.1322.2">Note here that you can change the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1323.1">propName</span></strong><span class="koboSpan" id="kobo.1324.1"> value to any prop’s name, and the same goes for </span><strong class="source-inline"><span class="koboSpan" id="kobo.1325.1">slotProps</span></strong><span class="koboSpan" id="kobo.1326.1">. </span><span class="koboSpan" id="kobo.1326.2">If the slot doesn’t have a name, we will use </span><strong class="source-inline"><span class="koboSpan" id="kobo.1327.1">default</span></strong><span class="koboSpan" id="kobo.1328.1"> to denote </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1329.1">slot-name</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1330.1"> instead.</span></span></p>
<p><span class="koboSpan" id="kobo.1331.1">For example, to access the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1332.1">item</span></strong><span class="koboSpan" id="kobo.1333.1"> data prop passed to the slot in </span><strong class="source-inline"><span class="koboSpan" id="kobo.1334.1">PaginatedList</span></strong><span class="koboSpan" id="kobo.1335.1">, we add the following to </span><span class="No-Break"><span class="koboSpan" id="kobo.1336.1">its parent:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1337.1">
&lt;template #default="{ item }"&gt;
  {{ item.content }}
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1338.1">Our </span><strong class="source-inline"><span class="koboSpan" id="kobo.1339.1">template</span></strong><span class="koboSpan" id="kobo.1340.1"> section in </span><strong class="source-inline"><span class="koboSpan" id="kobo.1341.1">App.vue</span></strong><span class="koboSpan" id="kobo.1342.1"> with the parent of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1343.1">PaginatedList</span></strong><span class="koboSpan" id="kobo.1344.1"> will now look </span><span class="No-Break"><span class="koboSpan" id="kobo.1345.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1346.1">
&lt;template&gt;
  &lt;div&gt;
    &lt;PaginatedList :items="snacks"&gt;
      &lt;template #default="{ item }"&gt;
        {{ item.content }}
      &lt;/template&gt;
    &lt;/PaginatedList&gt;
  &lt;/div&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1347.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1348.1">script</span></strong><span class="koboSpan" id="kobo.1349.1"> section (with</span><a id="_idIndexMarker468"/><span class="koboSpan" id="kobo.1350.1"> snacks to render) will be </span><span class="No-Break"><span class="koboSpan" id="kobo.1351.1">as</span></span><span class="No-Break"><a id="_idIndexMarker469"/></span><span class="No-Break"><span class="koboSpan" id="kobo.1352.1"> follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1353.1">
&lt;script&gt;
import PaginatedList from './components/PaginatedList.vue'
export default {
  components: {
    PaginatedList
  },
  data() {
    return {
      snacks: [
        {
          id: 'ready-salted',
          content: 'Ready Salted'
        },
        {
          id: 'cheese-onion',
          content: 'Cheese &amp; Onion'
        },
        {
          id: 'salt-vinegar',
          content: 'Salt &amp; Vinegar'
        },
      ]
    }
  }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1354.1">We get the following output in </span><span class="No-Break"><span class="koboSpan" id="kobo.1355.1">the browser:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer131">
<span class="koboSpan" id="kobo.1356.1"><img alt="Figure 4.19 – Snacks displayed using a scoped slot" src="image/B18645_04_19.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1357.1">Figure 4.19 – Snacks displayed using a scoped slot</span></p>
<p><span class="koboSpan" id="kobo.1358.1">And we hav</span><a id="_idTextAnchor179"/><span class="koboSpan" id="kobo.1359.1">e learned</span><a id="_idIndexMarker470"/><span class="koboSpan" id="kobo.1360.1"> how scoped slots give components</span><a id="_idIndexMarker471"/><span class="koboSpan" id="kobo.1361.1"> increased flexibility to delegate templating logic </span><span class="No-Break"><span class="koboSpan" id="kobo.1362.1">to consumers.</span></span></p>
<p><span class="koboSpan" id="kobo.1363.1">Now, let’s learn how to implement a card component with the help of these </span><span class="No-Break"><span class="koboSpan" id="kobo.1364.1">named slots.</span></span></p>
<h2 id="_idParaDest-104"><a id="_idTextAnchor180"/><span class="koboSpan" id="kobo.1365.1">Exercise 4.04 – Implementing a card component using named slots</span></h2>
<p><span class="koboSpan" id="kobo.1366.1">In this exercise, we will implement</span><a id="_idIndexMarker472"/><span class="koboSpan" id="kobo.1367.1"> a card component using</span><a id="_idIndexMarker473"/><span class="koboSpan" id="kobo.1368.1"> named slots. </span><span class="koboSpan" id="kobo.1368.2">The card will have a title, image, and description sections. </span><span class="koboSpan" id="kobo.1368.3">We will use slots to allow </span><strong class="source-inline"><span class="koboSpan" id="kobo.1369.1">title</span></strong><span class="koboSpan" id="kobo.1370.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1371.1">image</span></strong><span class="koboSpan" id="kobo.1372.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1373.1">description</span></strong><span class="koboSpan" id="kobo.1374.1"> to be defined by a </span><span class="No-Break"><span class="koboSpan" id="kobo.1375.1">parent component.</span></span></p>
<p><span class="koboSpan" id="kobo.1376.1">To access the code file for this exercise, refer </span><span class="No-Break"><span class="koboSpan" id="kobo.1377.1">to </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter04/Exercise4.04"><span class="No-Break"><span class="koboSpan" id="kobo.1378.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter04/Exercise4.04</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.1379.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1380.1">Follow these steps to complete </span><span class="No-Break"><span class="koboSpan" id="kobo.1381.1">this exercise:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.1382.1">Use the application generated with </span><strong class="source-inline"><span class="koboSpan" id="kobo.1383.1">npm init vue@3</span></strong><span class="koboSpan" id="kobo.1384.1"> as a starting point, or within the root folder of the code repository, navigate to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1385.1">Chapter04/Exercise4.04</span></strong><span class="koboSpan" id="kobo.1386.1"> folder using the following commands </span><span class="No-Break"><span class="koboSpan" id="kobo.1387.1">in order:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.1388.1">&gt; cd Chapter04/Exercise4.04/</span></strong></pre><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.1389.1">&gt; yarn</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.1390.1">Open the exercise project in your VS Code (by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1391.1">code .</span></strong><span class="koboSpan" id="kobo.1392.1"> command within the project directory), or in your </span><span class="No-Break"><span class="koboSpan" id="kobo.1393.1">preferred IDE.</span></span></li>
<li><span class="koboSpan" id="kobo.1394.1">We will start by creating</span><a id="_idIndexMarker474"/><span class="koboSpan" id="kobo.1395.1"> a new </span><strong class="source-inline"><span class="koboSpan" id="kobo.1396.1">src/components/Card.vue</span></strong><span class="koboSpan" id="kobo.1397.1"> component</span><a id="_idIndexMarker475"/><span class="koboSpan" id="kobo.1398.1"> that has a template that supports three named slots – </span><strong class="source-inline"><span class="koboSpan" id="kobo.1399.1">title</span></strong><span class="koboSpan" id="kobo.1400.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1401.1">image</span></strong><span class="koboSpan" id="kobo.1402.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.1403.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1404.1">description</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1405.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1406.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1407.1">
  &lt;div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1408.1">
    &lt;slot name="image" /&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1409.1">
    &lt;slot name="title" /&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1410.1">
    &lt;slot name="description" /&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1411.1">
  &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1412.1">
&lt;/template&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.1413.1">We will then import our </span><strong class="source-inline"><span class="koboSpan" id="kobo.1414.1">Card.vue</span></strong><span class="koboSpan" id="kobo.1415.1"> component into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1416.1">script</span></strong><span class="koboSpan" id="kobo.1417.1"> section of a new </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1418.1">src/App.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1419.1"> file:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1420.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1421.1">
import Card from './components/Card.vue'</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1422.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1423.1">
  components: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1424.1">
    Card</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1425.1">
  }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1426.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1427.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.1428.1">We can</span><a id="_idIndexMarker476"/><span class="koboSpan" id="kobo.1429.1"> now use </span><strong class="source-inline"><span class="koboSpan" id="kobo.1430.1">Card</span></strong><span class="koboSpan" id="kobo.1431.1"> in</span><a id="_idIndexMarker477"/> <span class="No-Break"><span class="koboSpan" id="kobo.1432.1">our </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1433.1">template</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1434.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1435.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1436.1">
  &lt;div id="app"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1437.1">
    &lt;Card&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1438.1">
      &lt;template #image&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1439.1">
        &lt;img src="https://picsum.photos/id/1015/300"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1440.1">
          /&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1441.1">
      &lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1442.1">
      &lt;template #title&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1443.1">
        &lt;h2&gt;My Holiday picture&lt;/h2&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1444.1">
      &lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1445.1">
      &lt;template #description&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1446.1">
        &lt;p&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1447.1">
          Here I can describe the contents of the</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1448.1">
            picture.</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1449.1">
        &lt;/p&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1450.1">
        &lt;p&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1451.1">
          For example what we can see in the photo is</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1452.1">
            a nice landscape.</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1453.1">
        &lt;/p&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1454.1">
      &lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1455.1">
    &lt;/Card&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1456.1">
  &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1457.1">
&lt;/template&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.1458.1">Run the app, and the output will be </span><span class="No-Break"><span class="koboSpan" id="kobo.1459.1">as follows:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer132">
<span class="koboSpan" id="kobo.1460.1"><img alt="Figure 4.20 – Card component with an image, title, and description" src="image/B18645_04_20.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1461.1">Figure 4.20 – Card component with an image, title, and description</span></p>
<p><span class="koboSpan" id="kobo.1462.1">With that, we have learned how different types of slots can help to create more generic components. </span><span class="koboSpan" id="kobo.1462.2">Slots allow child components to defer the rendering of certain parts of themselves to their parent </span><span class="No-Break"><span class="koboSpan" id="kobo.1463.1">component (consumer).</span></span></p>
<p><span class="koboSpan" id="kobo.1464.1">As we learned, Vue provides</span><a id="_idIndexMarker478"/><span class="koboSpan" id="kobo.1465.1"> an abstraction layer over</span><a id="_idIndexMarker479"/><span class="koboSpan" id="kobo.1466.1"> the actual DOM. </span><span class="koboSpan" id="kobo.1466.2">When it’s crucial to access the DOM’s elements directly, such as to integrate a DOM</span><a id="_idTextAnchor181"/><span class="koboSpan" id="kobo.1467.1"> library, Vue provides a first-class way to do so with refs. </span><span class="koboSpan" id="kobo.1467.2">We will learn about Vue references in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1468.1">next section.</span></span></p>
<h1 id="_idParaDest-105"><a id="_idTextAnchor182"/><span class="koboSpan" id="kobo.1469.1">Understanding Vue refs</span></h1>
<p><span class="koboSpan" id="kobo.1470.1">In Vue, </span><strong class="bold"><span class="koboSpan" id="kobo.1471.1">refs</span></strong><span class="koboSpan" id="kobo.1472.1"> are references to DOM elements or other</span><a id="_idIndexMarker480"/><span class="koboSpan" id="kobo.1473.1"> component instances</span><a id="_idIndexMarker481"/><span class="koboSpan" id="kobo.1474.1"> that have been mounted to </span><span class="No-Break"><span class="koboSpan" id="kobo.1475.1">the DOM.</span></span></p>
<p><span class="koboSpan" id="kobo.1476.1">One of the major use cases for refs is direct DOM manipulation and integration with DOM-based libraries (that usually take a DOM node they should mount to), such as an </span><span class="No-Break"><span class="koboSpan" id="kobo.1477.1">animation library.</span></span></p>
<p><span class="koboSpan" id="kobo.1478.1">We define refs by using the syntax </span><strong class="source-inline"><span class="koboSpan" id="kobo.1479.1">ref="name"</span></strong><span class="koboSpan" id="kobo.1480.1"> on a native element or child component in the template. </span><span class="koboSpan" id="kobo.1480.2">In the following example, we will add a reference to the input element</span><a id="_idIndexMarker482"/><span class="koboSpan" id="kobo.1481.1"> under the </span><span class="No-Break"><span class="koboSpan" id="kobo.1482.1">name </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1483.1">theInput</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1484.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1485.1">
&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;input ref="theInput" /&gt;
  &lt;/div&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1486.1">Refs can be accessed from the Vue component instance through </span><strong class="source-inline"><span class="koboSpan" id="kobo.1487.1">this.$refs[refName]</span></strong><span class="koboSpan" id="kobo.1488.1">. </span><span class="koboSpan" id="kobo.1488.2">So, in the preceding example, where we had a ref defined as </span><strong class="source-inline"><span class="koboSpan" id="kobo.1489.1">ref="theInput"</span></strong><span class="koboSpan" id="kobo.1490.1">, it can be accessed </span><span class="No-Break"><span class="koboSpan" id="kobo.1491.1">through </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1492.1">this.$refs.theInput</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1493.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1494.1">Now let’s programmatically focus on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1495.1">input</span></strong><span class="koboSpan" id="kobo.1496.1"> field when clicking the </span><strong class="bold"><span class="koboSpan" id="kobo.1497.1">Focus Input</span></strong><span class="koboSpan" id="kobo.1498.1"> button, </span><span class="No-Break"><span class="koboSpan" id="kobo.1499.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1500.1">
&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;input ref="theInput" /&gt;
    &lt;button @click="focus()"&gt;Focus Input&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  methods: {
    focus() {
      this.$refs.theInput.focus()
    }
  }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1501.1">When clicking the </span><strong class="bold"><span class="koboSpan" id="kobo.1502.1">Focus Input</span></strong><span class="koboSpan" id="kobo.1503.1"> button, the input field will be focused, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1504.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer133">
<span class="koboSpan" id="kobo.1505.1"><img alt="Figure 4.21 – Input focused on a button click" src="image/B18645_04_21.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1506.1">Figure 4.21 – Input focused on a button click</span></p>
<p><span class="koboSpan" id="kobo.1507.1">Note here that we can only access </span><strong class="source-inline"><span class="koboSpan" id="kobo.1508.1">$refs</span></strong><span class="koboSpan" id="kobo.1509.1"> once the component</span><a id="_idIndexMarker483"/><span class="koboSpan" id="kobo.1510.1"> is mounted to the DOM. </span><span class="koboSpan" id="kobo.1510.2">Hence </span><strong class="source-inline"><span class="koboSpan" id="kobo.1511.1">this.$refs.theInput</span></strong><span class="koboSpan" id="kobo.1512.1"> in our example is only available in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1513.1">mounted()</span></strong><span class="koboSpan" id="kobo.1514.1"> life cycle hook. </span><span class="koboSpan" id="kobo.1514.2">Also, if you use </span><strong class="source-inline"><span class="koboSpan" id="kobo.1515.1">&lt;script setup&gt;</span></strong><span class="koboSpan" id="kobo.1516.1">, there is no </span><strong class="source-inline"><span class="koboSpan" id="kobo.1517.1">$refs</span></strong><span class="koboSpan" id="kobo.1518.1"> available since there is no </span><strong class="source-inline"><span class="koboSpan" id="kobo.1519.1">this</span></strong><span class="koboSpan" id="kobo.1520.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1521.1">setup</span></strong><span class="koboSpan" id="kobo.1522.1"> runs before the component instance is created. </span><span class="koboSpan" id="kobo.1522.2">Hence to use DOM references with </span><strong class="source-inline"><span class="koboSpan" id="kobo.1523.1">&lt;script setup&gt;</span></strong><span class="koboSpan" id="kobo.1524.1"> or the setup hook, we use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1525.1">ref()</span></strong><span class="koboSpan" id="kobo.1526.1"> function from the Composition API instead, which we will discuss further in </span><a href="B18645_05.xhtml#_idTextAnchor193"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1527.1">Chapter 5</span></em></span></a><span class="koboSpan" id="kobo.1528.1">, </span><em class="italic"><span class="koboSpan" id="kobo.1529.1">The </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1530.1">Composition API</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1531.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1532.1">We have learned how to use </span><strong class="source-inline"><span class="koboSpan" id="kobo.1533.1">$refs</span></strong><span class="koboSpan" id="kobo.1534.1"> to access the DOM elements from the component. </span><span class="koboSpan" id="kobo.1534.2">When you need select a DOM node directly, we recommend you use a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1535.1">ref</span></strong><span class="koboSpan" id="kobo.1536.1"> instead of using the DOM </span><span class="No-Break"><span class="koboSpan" id="kobo.1537.1">API (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1538.1">querySelector</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1539.1">/</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1540.1">querySelec</span><a id="_idTextAnchor183"/><span class="koboSpan" id="kobo.1541.1">torAll</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1542.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.1543.1">In the following exercise, we will learn how the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1544.1">Countable</span></strong><span class="koboSpan" id="kobo.1545.1"> library helps increase interactivity in </span><span class="No-Break"><span class="koboSpan" id="kobo.1546.1">a project.</span></span></p>
<h2 id="_idParaDest-106"><a id="_idTextAnchor184"/><span class="koboSpan" id="kobo.1547.1">Exercise 4.05 – Wrapping Countable.js in Vue application</span></h2>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.1548.1">Countable</span></strong><span class="koboSpan" id="kobo.1549.1"> is a library</span><a id="_idIndexMarker484"/><span class="koboSpan" id="kobo.1550.1"> that, given an element (usually an HTML </span><strong class="source-inline"><span class="koboSpan" id="kobo.1551.1">textarea</span></strong><span class="koboSpan" id="kobo.1552.1"> or input), will add live</span><a id="_idIndexMarker485"/><span class="koboSpan" id="kobo.1553.1"> counts of paragraphs, words, and characters. </span><span class="koboSpan" id="kobo.1553.2">Live metrics on the text being captured can be quite useful to increase interactivity in a project where editing text is a </span><span class="No-Break"><span class="koboSpan" id="kobo.1554.1">core concern.</span></span></p>
<p><span class="koboSpan" id="kobo.1555.1">One of the large use cases of refs in Vue is to be able to integrate with libraries that act directly on </span><span class="No-Break"><span class="koboSpan" id="kobo.1556.1">the DOM.</span></span></p>
<p><span class="koboSpan" id="kobo.1557.1">In this exercise, we will create a component with paragraph/word/character-counting functionality for content in a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1558.1">textarea</span></strong><span class="koboSpan" id="kobo.1559.1"> by using </span><strong class="source-inline"><span class="koboSpan" id="kobo.1560.1">Countable.js</span></strong><span class="koboSpan" id="kobo.1561.1"> and </span><span class="No-Break"><span class="koboSpan" id="kobo.1562.1">Vue refs.</span></span></p>
<p><span class="koboSpan" id="kobo.1563.1">To access the code file for this exercise, refer </span><span class="No-Break"><span class="koboSpan" id="kobo.1564.1">to </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter04/Exercise4.05"><span class="No-Break"><span class="koboSpan" id="kobo.1565.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter04/Exercise4.05</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.1566.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1567.1">Work through the following steps to complete </span><span class="No-Break"><span class="koboSpan" id="kobo.1568.1">this exercise:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.1569.1">Use the application generated with </span><strong class="source-inline"><span class="koboSpan" id="kobo.1570.1">npm init vue@3</span></strong><span class="koboSpan" id="kobo.1571.1"> as a starting point, or within the root folder of the code repository, navigate to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1572.1">Chapter04/Exercise4.05</span></strong><span class="koboSpan" id="kobo.1573.1"> folder using the following commands </span><span class="No-Break"><span class="koboSpan" id="kobo.1574.1">in order:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.1575.1">&gt; cd Chapter04/Exercise4.05/</span></strong></pre><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.1576.1">&gt; yarn</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.1577.1">Open the exercise project in VS Code (using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1578.1">code .</span></strong><span class="koboSpan" id="kobo.1579.1"> command within the project directory), or in your </span><span class="No-Break"><span class="koboSpan" id="kobo.1580.1">preferred IDE.</span></span></li>
<li><span class="koboSpan" id="kobo.1581.1">Create a new </span><strong class="source-inline"><span class="koboSpan" id="kobo.1582.1">src/components/TextEditorWithCount.vue</span></strong><span class="koboSpan" id="kobo.1583.1"> component with a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1584.1">textarea</span></strong><span class="koboSpan" id="kobo.1585.1"> that we will have a </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1586.1">ref</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1587.1"> to:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1588.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1589.1">
  &lt;div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1590.1">
    &lt;textarea</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1591.1">
      ref="textArea"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1592.1">
      cols="50"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1593.1">
      rows="7"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1594.1">
    &gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1595.1">
    &lt;/textarea&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1596.1">
  &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1597.1">
&lt;/template&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.1598.1">Next, we will import</span><a id="_idIndexMarker486"/><span class="koboSpan" id="kobo.1599.1"> and render the component</span><a id="_idIndexMarker487"/> <span class="No-Break"><span class="koboSpan" id="kobo.1600.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1601.1">src/App.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1602.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1603.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1604.1">
  &lt;div id="app"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1605.1">
    &lt;TextEditorWithCount /&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1606.1">
  &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1607.1">
&lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1608.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1609.1">
import TextEditorWithCount from './components/</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1610.1">
  TextEditorWithCount.vue'</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1611.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1612.1">
  components: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1613.1">
    TextEditorWithCount</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1614.1">
  }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1615.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1616.1">
&lt;/script&gt;</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.1617.1">The application</span><a id="_idIndexMarker488"/><span class="koboSpan" id="kobo.1618.1"> renders</span><a id="_idIndexMarker489"/><span class="koboSpan" id="kobo.1619.1"> a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1620.1">textarea</span></strong><span class="koboSpan" id="kobo.1621.1"> field, </span><span class="No-Break"><span class="koboSpan" id="kobo.1622.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer134">
<span class="koboSpan" id="kobo.1623.1"><img alt="Figure 4.22 – A bare textarea field, as rendered by the application" src="image/B18645_04_22.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1624.1">Figure 4.22 – A bare textarea field, as rendered by the application</span></p>
<ol>
<li value="5"><span class="koboSpan" id="kobo.1625.1">We now need to integrate </span><strong class="source-inline"><span class="koboSpan" id="kobo.1626.1">Countable</span></strong><span class="koboSpan" id="kobo.1627.1">. </span><span class="koboSpan" id="kobo.1627.2">We will import it and initialize it with </span><strong class="source-inline"><span class="koboSpan" id="kobo.1628.1">this.$refs.textArea</span></strong><span class="koboSpan" id="kobo.1629.1">. </span><span class="koboSpan" id="kobo.1629.2">We will also store the counts on the instance </span><span class="No-Break"><span class="koboSpan" id="kobo.1630.1">as </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1631.1">this.count</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1632.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1633.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1634.1">
import * as Countable from 'countable'</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1635.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1636.1">
  mounted() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1637.1">
    Countable.on(this.$refs.textArea, (count) =&gt; {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1638.1">
      this.count = count</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1639.1">
    })</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1640.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1641.1">
  data() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1642.1">
    return {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1643.1">
      count: null</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1644.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1645.1">
  }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1646.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1647.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.1648.1">With a small update</span><a id="_idIndexMarker490"/><span class="koboSpan" id="kobo.1649.1"> to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1650.1">template</span></strong><span class="koboSpan" id="kobo.1651.1">, we can display </span><a id="_idIndexMarker491"/><span class="koboSpan" id="kobo.1652.1">the counts we </span><span class="No-Break"><span class="koboSpan" id="kobo.1653.1">care about:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1654.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1655.1">
  &lt;div id="app"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1656.1">
    &lt;!-- textarea --&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1657.1">
    &lt;ul v-if="count"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1658.1">
      &lt;li&gt;Paragraphs: {{ count.paragraphs }}&lt;/li&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1659.1">
      &lt;li&gt;Sentences: {{ count.sentences }}&lt;/li&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1660.1">
      &lt;li&gt;Words: {{ count.words }}&lt;/li&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1661.1">
    &lt;/ul&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1662.1">
  &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1663.1">
&lt;/template&gt;</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.1664.1">Now, we can see the counts</span><a id="_idIndexMarker492"/><span class="koboSpan" id="kobo.1665.1"> set to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1666.1">0</span></strong><span class="koboSpan" id="kobo.1667.1"> when </span><strong class="source-inline"><span class="koboSpan" id="kobo.1668.1">textarea</span></strong><span class="koboSpan" id="kobo.1669.1"> is empty, </span><span class="No-Break"><span class="koboSpan" id="kobo.1670.1">as</span></span><span class="No-Break"><a id="_idIndexMarker493"/></span><span class="No-Break"><span class="koboSpan" id="kobo.1671.1"> follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer135">
<span class="koboSpan" id="kobo.1672.1"><img alt="Figure 4.23 – textarea with counts set to 0 when empty" src="image/B18645_04_23.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1673.1">Figure 4.23 – textarea with counts set to 0 when empty</span></p>
<p><span class="koboSpan" id="kobo.1674.1">If we drop some </span><em class="italic"><span class="koboSpan" id="kobo.1675.1">Lorem ipsum</span></em><span class="koboSpan" id="kobo.1676.1"> filler text into our </span><strong class="source-inline"><span class="koboSpan" id="kobo.1677.1">textarea</span></strong><span class="koboSpan" id="kobo.1678.1">, the counts will update accordingly, </span><span class="No-Break"><span class="koboSpan" id="kobo.1679.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer136">
<span class="koboSpan" id="kobo.1680.1"><img alt="Figure 4.24 – textarea with counts updated when filled" src="image/B18645_04_24.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1681.1">Figure 4.24 – textarea with counts updated when filled</span></p>
<ol>
<li value="7"><span class="koboSpan" id="kobo.1682.1">One last thing we need</span><a id="_idIndexMarker494"/><span class="koboSpan" id="kobo.1683.1"> to do is remove the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1684.1">Countable</span></strong><span class="koboSpan" id="kobo.1685.1"> event listener</span><a id="_idIndexMarker495"/><span class="koboSpan" id="kobo.1686.1"> when the component </span><span class="No-Break"><span class="koboSpan" id="kobo.1687.1">is unmounted:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1688.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1689.1">
// imports</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1690.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1691.1">
  mounted() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1692.1">
    Countable.on(this.$refs.textArea, (count) =&gt; {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1693.1">
      this.count = count</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1694.1">
    })</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1695.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1696.1">
  beforeUnmount() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1697.1">
    Countable.off(this.$refs.textArea)</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1698.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1699.1">
  // other component properties</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1700.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1701.1">
&lt;/script&gt;</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.1702.1">This integration of a JavaScript/DOM library inside a Vue app is a key application of Vue refs. </span><span class="koboSpan" id="kobo.1702.2">Refs allow us to pick from the existing ecosystem of libraries and wrap or integrate them into </span><span class="No-Break"><span class="koboSpan" id="kobo.1703.1">a component.</span></span></p>
<p><span class="koboSpan" id="kobo.1704.1">Vue refs are useful for integrating DOM libraries or for accessing DOM </span><span class="No-Break"><span class="koboSpan" id="kobo.1705.1">APIs directly.</span></span></p>
<p><span class="koboSpan" id="kobo.1706.1">To round </span><a id="_idIndexMarker496"/><span class="koboSpan" id="kobo.1707.1">off our examination of</span><a id="_idTextAnchor185"/><span class="koboSpan" id="kobo.1708.1"> component</span><a id="_idIndexMarker497"/><span class="koboSpan" id="kobo.1709.1"> composition, we need to know how to pass data from child components back to their parents, which we will </span><span class="No-Break"><span class="koboSpan" id="kobo.1710.1">explore next.</span></span></p>
<h1 id="_idParaDest-107"><a id="_idTextAnchor186"/><span class="koboSpan" id="kobo.1711.1">Using events for child-parent communication</span></h1>
<p><span class="koboSpan" id="kobo.1712.1">We have already</span><a id="_idIndexMarker498"/><span class="koboSpan" id="kobo.1713.1"> seen that props are used to pass data from a parent component</span><a id="_idIndexMarker499"/><span class="koboSpan" id="kobo.1714.1"> to a child component. </span><span class="koboSpan" id="kobo.1714.2">To pass data from a child component back to a parent component, Vue offers </span><span class="No-Break"><span class="koboSpan" id="kobo.1715.1">custom events.</span></span></p>
<p><span class="koboSpan" id="kobo.1716.1">In a component, we can emit an event using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1717.1">$emit</span></strong><span class="koboSpan" id="kobo.1718.1"> method; with </span><strong class="source-inline"><span class="koboSpan" id="kobo.1719.1">this.$emit('eventName', payload)</span></strong><span class="koboSpan" id="kobo.1720.1"> within </span><strong class="source-inline"><span class="koboSpan" id="kobo.1721.1">&lt;script&gt;</span></strong><span class="koboSpan" id="kobo.1722.1">; or just with </span><strong class="source-inline"><span class="koboSpan" id="kobo.1723.1">$emit</span></strong><span class="koboSpan" id="kobo.1724.1"> within the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1725.1">template</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1726.1"> section.</span></span></p>
<p><span class="koboSpan" id="kobo.1727.1">Assuming we have got a reactive instance property, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1728.1">this.message</span></strong><span class="koboSpan" id="kobo.1729.1">, we could emit a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1730.1">send</span></strong><span class="koboSpan" id="kobo.1731.1"> event with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1732.1">message</span></strong><span class="koboSpan" id="kobo.1733.1"> value in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1734.1">script</span></strong><span class="koboSpan" id="kobo.1735.1"> section using </span><strong class="source-inline"><span class="koboSpan" id="kobo.1736.1">this.$emit</span></strong><span class="koboSpan" id="kobo.1737.1">. </span><span class="koboSpan" id="kobo.1737.2">This could be the basis for a </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1738.1">MessageEditor</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1739.1"> component:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1740.1">
&lt;script&gt;
export default {
  data () {
        return {
            message: null
        }
    },
  methods: {
    send() {
      this.$emit('send', this.message);
    }
  }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1741.1">In the same scenario, we could</span><a id="_idIndexMarker500"/><span class="koboSpan" id="kobo.1742.1"> trigger a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1743.1">send</span></strong><span class="koboSpan" id="kobo.1744.1"> event</span><a id="_idIndexMarker501"/><span class="koboSpan" id="kobo.1745.1"> from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1746.1">template</span></strong><span class="koboSpan" id="kobo.1747.1"> section </span><span class="No-Break"><span class="koboSpan" id="kobo.1748.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1749.1">
&lt;template&gt;
  &lt;div&gt;
    &lt;input v-model="message" /&gt;
    &lt;button @click="$emit('send', message)"&gt;Emit inline
      &lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1750.1">From a parent component, we can use </span><strong class="source-inline"><span class="koboSpan" id="kobo.1751.1">v-on:event-name</span></strong><span class="koboSpan" id="kobo.1752.1"> or the shorthand </span><strong class="source-inline"><span class="koboSpan" id="kobo.1753.1">@event-name</span></strong><span class="koboSpan" id="kobo.1754.1">. </span><strong class="source-inline"><span class="koboSpan" id="kobo.1755.1">event-name</span></strong><span class="koboSpan" id="kobo.1756.1"> must match the name passed to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1757.1">$emit</span></strong><span class="koboSpan" id="kobo.1758.1">. </span><span class="koboSpan" id="kobo.1758.2">Note </span><strong class="source-inline"><span class="koboSpan" id="kobo.1759.1">eventName</span></strong><span class="koboSpan" id="kobo.1760.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1761.1">event-name</span></strong><span class="koboSpan" id="kobo.1762.1"> are </span><span class="No-Break"><span class="koboSpan" id="kobo.1763.1">not equivalent.</span></span></p>
<p><span class="koboSpan" id="kobo.1764.1">For instance, in the parent component we want to listen to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1765.1">send</span></strong><span class="koboSpan" id="kobo.1766.1"> event and modify some data accordingly. </span><span class="koboSpan" id="kobo.1766.2">We bind </span><strong class="source-inline"><span class="koboSpan" id="kobo.1767.1">@send</span></strong><span class="koboSpan" id="kobo.1768.1"> with some event handler logic, which can be a JavaScript expression or a method declared </span><span class="No-Break"><span class="koboSpan" id="kobo.1769.1">using </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1770.1">methods</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1771.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1772.1">Vue will trigger this event handler and pass the event’s payload object to it when applicable. </span><span class="koboSpan" id="kobo.1772.2">You can use </span><strong class="source-inline"><span class="koboSpan" id="kobo.1773.1">$event</span></strong><span class="koboSpan" id="kobo.1774.1"> in the JavaScript expression of the template as the payload, as shown in the following example of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1775.1">template</span></strong><span class="koboSpan" id="kobo.1776.1"> section </span><span class="No-Break"><span class="koboSpan" id="kobo.1777.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1778.1">App</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1779.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1780.1">
&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;p&gt;Message: {{ parentMessage }}&lt;/p&gt;
    &lt;MessageEditor @send="parentMessage = $event" /&gt;
    &lt;button @click="parentMessage = null"&gt;Reset&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1781.1">We can also extract the JavaScript</span><a id="_idIndexMarker502"/><span class="koboSpan" id="kobo.1782.1"> expression</span><a id="_idIndexMarker503"/><span class="koboSpan" id="kobo.1783.1"> to a component’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.1784.1">updateParentMessage</span></strong><span class="koboSpan" id="kobo.1785.1"> method and bind it </span><span class="No-Break"><span class="koboSpan" id="kobo.1786.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1787.1">
&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;p&gt;Message: {{ parentMessage }}&lt;/p&gt;
    &lt;MessageEditor @send="updateParentMessage" /&gt;
    &lt;button @click="parentMessage = null"&gt;Reset&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import MessageEditor from './components/MessageEditor.vue'
export default {
  components: {
    MessageEditor
  },
  data() {
        return {
            parentMessage: null
        }
    },
  methods: {
    updateParentMessage(newMessage) {
      this.parentMessage = newMessage
    }
  }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1788.1">Using either approach yields the same result. </span><span class="koboSpan" id="kobo.1788.2">The full app should look as follows in </span><span class="No-Break"><span class="koboSpan" id="kobo.1789.1">the browser:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer137">
<span class="koboSpan" id="kobo.1790.1"><img alt="Figure 4.25 – Hello World! message being emitted from child-parent" src="image/B18645_04_25.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1791.1">Figure 4.25 – Hello World! </span><span class="koboSpan" id="kobo.1791.2">message being emitted from child-parent</span></p>
<p><span class="koboSpan" id="kobo.1792.1">Custom events </span><a id="_idIndexMarker504"/><span class="koboSpan" id="kobo.1793.1">support passing</span><a id="_idIndexMarker505"/><span class="koboSpan" id="kobo.1794.1"> any JavaScript type as the payload. </span><span class="koboSpan" id="kobo.1794.2">The event name, however, must be </span><span class="No-Break"><span class="koboSpan" id="kobo.1795.1">a </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1796.1">String</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1797.1">.</span></span></p>
<h2 id="_idParaDest-108"><a id="_idTextAnchor187"/><span class="koboSpan" id="kobo.1798.1">Registering events with &lt;script setup&gt; (or setup hook)</span></h2>
<p><span class="koboSpan" id="kobo.1799.1">If you use </span><strong class="source-inline"><span class="koboSpan" id="kobo.1800.1">&lt;script setup&gt;</span></strong><span class="koboSpan" id="kobo.1801.1">, since there is no</span><a id="_idIndexMarker506"/><span class="koboSpan" id="kobo.1802.1"> component’s options object, we can’t define</span><a id="_idIndexMarker507"/><span class="koboSpan" id="kobo.1803.1"> custom events using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1804.1">emits</span></strong><span class="koboSpan" id="kobo.1805.1"> field. </span><span class="koboSpan" id="kobo.1805.2">Instead, we use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1806.1">defineEmits()</span></strong><span class="koboSpan" id="kobo.1807.1"> function from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1808.1">vue</span></strong><span class="koboSpan" id="kobo.1809.1"> package and pass all the relevant events’ definitions </span><span class="No-Break"><span class="koboSpan" id="kobo.1810.1">to it.</span></span></p>
<p><span class="koboSpan" id="kobo.1811.1">For example, in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1812.1">MessageEditor</span></strong><span class="koboSpan" id="kobo.1813.1"> component, we can rewrite the event-registering functionality with </span><strong class="source-inline"><span class="koboSpan" id="kobo.1814.1">defineEmits()</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1815.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1816.1">
&lt;script setup&gt;
impo</span><a id="_idTextAnchor188"/><span class="koboSpan" id="kobo.1817.1">rt { defineEmits, ref } from  'vue'
const message = ref(null)
const emits = defineEmits(['send'])
emits('send', message.value);
&lt;/script&gt;</span></pre>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.1818.1">defineEmits()</span></strong><span class="koboSpan" id="kobo.1819.1"> returns a function that we can trigger in the same concept with </span><strong class="source-inline"><span class="koboSpan" id="kobo.1820.1">this.$emits</span></strong><span class="koboSpan" id="kobo.1821.1">. </span><span class="koboSpan" id="kobo.1821.2">We will certainly need to use </span><strong class="source-inline"><span class="koboSpan" id="kobo.1822.1">ref()</span></strong><span class="koboSpan" id="kobo.1823.1"> to declare a reactive data </span><strong class="source-inline"><span class="koboSpan" id="kobo.1824.1">message</span></strong><span class="koboSpan" id="kobo.1825.1"> for this component, the usag</span><a id="_idTextAnchor189"/><span class="koboSpan" id="kobo.1826.1">e</span><a id="_idIndexMarker508"/><span class="koboSpan" id="kobo.1827.1"> of which we will discuss</span><a id="_idIndexMarker509"/><span class="koboSpan" id="kobo.1828.1"> further in </span><a href="B18645_05.xhtml#_idTextAnchor193"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1829.1">Chapter 5</span></em></span></a><span class="koboSpan" id="kobo.1830.1">, </span><em class="italic"><span class="koboSpan" id="kobo.1831.1">The </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1832.1">Composition API</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1833.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1834.1">Now, let’s complete an activity based on everything we’ve learned </span><span class="No-Break"><span class="koboSpan" id="kobo.1835.1">so far.</span></span></p>
<h2 id="_idParaDest-109"><a id="_idTextAnchor190"/><span class="koboSpan" id="kobo.1836.1">Activity 4.01 – A local message view with reusable components</span></h2>
<p><span class="koboSpan" id="kobo.1837.1">To access the code file for this activity, refer </span><span class="No-Break"><span class="koboSpan" id="kobo.1838.1">to </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter04/Activity4.01"><span class="No-Break"><span class="koboSpan" id="kobo.1839.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter04/Activity4.01</span></span></a></p>
<p><span class="koboSpan" id="kobo.1840.1">This activity aims to leverage</span><a id="_idIndexMarker510"/><span class="koboSpan" id="kobo.1841.1"> components, props, events, and refs</span><a id="_idIndexMarker511"/><span class="koboSpan" id="kobo.1842.1"> to render a chat interface where the user can add messages and have </span><span class="No-Break"><span class="koboSpan" id="kobo.1843.1">them displayed.</span></span></p>
<p><span class="koboSpan" id="kobo.1844.1">Follow these steps to complete </span><span class="No-Break"><span class="koboSpan" id="kobo.1845.1">this activity:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.1846.1">Create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1847.1">MessageEditor</span></strong><span class="koboSpan" id="kobo.1848.1"> component (in </span><strong class="source-inline"><span class="koboSpan" id="kobo.1849.1">src/components/MessageEditor.vue</span></strong><span class="koboSpan" id="kobo.1850.1">) that displays a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1851.1">textarea</span></strong><span class="koboSpan" id="kobo.1852.1"> field to </span><span class="No-Break"><span class="koboSpan" id="kobo.1853.1">the user.</span></span></li>
<li><span class="koboSpan" id="kobo.1854.1">Add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1855.1">message</span></strong><span class="koboSpan" id="kobo.1856.1"> reactive instance variable to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1857.1">MessageEditor</span></strong><span class="koboSpan" id="kobo.1858.1">, defaulted </span><span class="No-Break"><span class="koboSpan" id="kobo.1859.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1860.1">''</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1861.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1862.1">Listen to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1863.1">change</span></strong><span class="koboSpan" id="kobo.1864.1"> events for </span><strong class="source-inline"><span class="koboSpan" id="kobo.1865.1">textarea</span></strong><span class="koboSpan" id="kobo.1866.1"> and set the value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1867.1">message</span></strong><span class="koboSpan" id="kobo.1868.1"> to the value of the content of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1869.1">textarea</span></strong><span class="koboSpan" id="kobo.1870.1"> (it is exposed as the value of </span><span class="No-Break"><span class="koboSpan" id="kobo.1871.1">the event).</span></span></li>
<li><span class="koboSpan" id="kobo.1872.1">Add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1873.1">Send</span></strong><span class="koboSpan" id="kobo.1874.1"> button that, on </span><strong class="source-inline"><span class="koboSpan" id="kobo.1875.1">click</span></strong><span class="koboSpan" id="kobo.1876.1">, emits a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1877.1">send</span></strong><span class="koboSpan" id="kobo.1878.1"> event with </span><strong class="source-inline"><span class="koboSpan" id="kobo.1879.1">message</span></strong><span class="koboSpan" id="kobo.1880.1"> as </span><span class="No-Break"><span class="koboSpan" id="kobo.1881.1">the payload.</span></span></li>
<li><span class="koboSpan" id="kobo.1882.1">Add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1883.1">main</span></strong><span class="koboSpan" id="kobo.1884.1"> component to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1885.1">src/App.vue</span></strong><span class="koboSpan" id="kobo.1886.1"> that </span><span class="No-Break"><span class="koboSpan" id="kobo.1887.1">renders </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1888.1">MessageEditor</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1889.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1890.1">In </span><strong class="source-inline"><span class="koboSpan" id="kobo.1891.1">App</span></strong><span class="koboSpan" id="kobo.1892.1">, listen to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1893.1">send</span></strong><span class="koboSpan" id="kobo.1894.1"> events from </span><strong class="source-inline"><span class="koboSpan" id="kobo.1895.1">MessageEditor</span></strong><span class="koboSpan" id="kobo.1896.1"> and store each message in a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1897.1">messages</span></strong><span class="koboSpan" id="kobo.1898.1"> reactive data variable (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1899.1">messages</span></strong><span class="koboSpan" id="kobo.1900.1"> is </span><span class="No-Break"><span class="koboSpan" id="kobo.1901.1">an array).</span></span></li>
<li><span class="koboSpan" id="kobo.1902.1">Create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1903.1">MessageFeed</span></strong><span class="koboSpan" id="kobo.1904.1"> (in </span><strong class="source-inline"><span class="koboSpan" id="kobo.1905.1">src/components/MessageFeed.vue</span></strong><span class="koboSpan" id="kobo.1906.1">) that has a required </span><strong class="source-inline"><span class="koboSpan" id="kobo.1907.1">messages</span></strong><span class="koboSpan" id="kobo.1908.1"> prop, which is </span><span class="No-Break"><span class="koboSpan" id="kobo.1909.1">an array.</span></span></li>
<li><span class="koboSpan" id="kobo.1910.1">In </span><strong class="source-inline"><span class="koboSpan" id="kobo.1911.1">MessageFeed</span></strong><span class="koboSpan" id="kobo.1912.1">, render</span><a id="_idIndexMarker512"/><span class="koboSpan" id="kobo.1913.1"> each passed message from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1914.1">messages</span></strong><span class="koboSpan" id="kobo.1915.1"> prop</span><a id="_idIndexMarker513"/><span class="koboSpan" id="kobo.1916.1"> in a paragraph (the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1917.1">p</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1918.1"> element).</span></span></li>
<li><span class="koboSpan" id="kobo.1919.1">Import and render </span><strong class="source-inline"><span class="koboSpan" id="kobo.1920.1">MessageFeed</span></strong><span class="koboSpan" id="kobo.1921.1"> into </span><strong class="source-inline"><span class="koboSpan" id="kobo.1922.1">App</span></strong><span class="koboSpan" id="kobo.1923.1">, binding the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1924.1">messages</span></strong><span class="koboSpan" id="kobo.1925.1"> app instance variable as the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1926.1">messages</span></strong><span class="koboSpan" id="kobo.1927.1"> prop </span><span class="No-Break"><span class="koboSpan" id="kobo.1928.1">of </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1929.1">MessageFeed</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1930.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1931.1">Improve </span><strong class="source-inline"><span class="koboSpan" id="kobo.1932.1">MessageEditor</span></strong><span class="koboSpan" id="kobo.1933.1"> so that the message is reset and focused after the message is sent. </span><span class="koboSpan" id="kobo.1933.2">To do this, we will need to set </span><strong class="source-inline"><span class="koboSpan" id="kobo.1934.1">textarea.value</span></strong><span class="koboSpan" id="kobo.1935.1"> using a ref, reset the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1936.1">message</span></strong><span class="koboSpan" id="kobo.1937.1"> instance variable accordingly, and use </span><strong class="source-inline"><span class="koboSpan" id="kobo.1938.1">textarea.focus()</span></strong><span class="koboSpan" id="kobo.1939.1"> to focus on </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1940.1">textarea</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1941.1"> programmatically.</span></span></li>
</ol>
<p class="callout-heading"><span class="koboSpan" id="kobo.1942.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.1943.1">The easier way to reset </span><strong class="source-inline"><span class="koboSpan" id="kobo.1944.1">textarea</span></strong><span class="koboSpan" id="kobo.1945.1"> would have been to use </span><strong class="source-inline"><span class="koboSpan" id="kobo.1946.1">v-model="message"</span></strong><span class="koboSpan" id="kobo.1947.1"> in the first place instead of binding </span><strong class="source-inline"><span class="koboSpan" id="kobo.1948.1">@change</span></strong><span class="koboSpan" id="kobo.1949.1"> and manually syn</span><a id="_idTextAnchor191"/><span class="koboSpan" id="kobo.1950.1">cing </span><strong class="source-inline"><span class="koboSpan" id="kobo.1951.1">textarea.value</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1952.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1953.1">message</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1954.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1955.1">The expected output is </span><span class="No-Break"><span class="koboSpan" id="kobo.1956.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer138">
<span class="koboSpan" id="kobo.1957.1"><img alt="Figure 4.26 – Message app with Hello World! and Hello JavaScript! sent" src="image/B18645_04_26.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1958.1">Figure 4.26 – Message app with Hello World! </span><span class="koboSpan" id="kobo.1958.2">and Hello JavaScript! </span><span class="koboSpan" id="kobo.1958.3">sent</span></p>
<h1 id="_idParaDest-110"><a id="_idTextAnchor192"/><span class="koboSpan" id="kobo.1959.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.1960.1">Throughout this chapter, we have explored how to enable data communication between components using props and custom events. </span><span class="koboSpan" id="kobo.1960.2">We explored slots and saw how we enable UI template customization for a component from its parent. </span><span class="koboSpan" id="kobo.1960.3">We also learned how to use refs to unlock integration opportunities with third-party JavaScript or DOM libraries by allowing us to access DOM </span><span class="No-Break"><span class="koboSpan" id="kobo.1961.1">elements directly.</span></span></p>
<p><span class="koboSpan" id="kobo.1962.1">We’re now able to create and compose components that clearly define their interfaces with inputs (props and slots) and outputs (rendered templates and events), while also visiting commonly faced use cases (such as wrapping a </span><span class="No-Break"><span class="koboSpan" id="kobo.1963.1">DOM library).</span></span></p>
<p><span class="koboSpan" id="kobo.1964.1">In the next chapter, we’ll look at advanced component composition patterns and techniques that enable better </span><span class="No-Break"><span class="koboSpan" id="kobo.1965.1">code reuse.</span></span></p>
</div>
<div>
<div class="IMG---Figure" id="_idContainer140">
</div>
</div>
</body></html>