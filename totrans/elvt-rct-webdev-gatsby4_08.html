<html><head></head><body>
		<div id="_idContainer032">
			<h1 id="_idParaDest-91"><a id="_idTextAnchor092"/><em class="italic">Chapter 6</em>: Improving Your Site's Search Engine Optimization</h1>
			<p>In this chapter, you will learn about how <strong class="bold">search engine optimization</strong> (<strong class="bold">SEO</strong>) works, what search engines look for within your site pages, and how to improve your site's presence on the web. We will also dive into other uses of metadata to make visually enticing social share previews for your site. By the end of this chapter, you will have created a reusable SEO component to provide meta information on every page. We will also create a sitemap to make it easier for search engines to understand our site. Finally, we will also learn how to stop our site from appearing in search engines if you would rather not have it publicly visible.</p>
			<p>In this chapter, we will cover the following topics:</p>
			<ul>
				<li>Introducing SEO</li>
				<li>Creating an SEO component</li>
				<li>Exploring meta previews</li>
				<li>Learning about XML sitemaps</li>
				<li>Hiding your site from search engines</li>
			</ul>
			<h1 id="_idParaDest-92"><a id="_idTextAnchor093"/>Technical requirements</h1>
			<p>To complete this chapter, you will need to have completed <a href="B15983_05_ePub_RK.xhtml#_idTextAnchor080"><em class="italic">Chapter 5</em></a>, <em class="italic">Working with Images</em>. </p>
			<p>The code for this chapter can be found at <a href="https://github.com/PacktPublishing/Elevating-React-Web-Development-with-Gatsby-4/tree/main/Chapter06">https://github.com/PacktPublishing/Elevating-React-Web-Development-with-Gatsby-4/tree/main/Chapter06</a>.</p>
			<h1 id="_idParaDest-93"><a id="_idTextAnchor094"/>Introducing SEO</h1>
			<p>SEO is the practice of <a id="_idIndexMarker342"/>improving the chances of search engines such as Google, Bing, and Yahoo, recommending your site's content to users as the best result for a given query or problem.</p>
			<p class="callout-heading">Important Note</p>
			<p class="callout">Within this chapter, you will get an overview of what SEO is, why it's important, and how to implement pages with components that boost their SEO ranking. SEO is a vast subject and not something that can be covered in its entirety within this book. As such, you are encouraged to take what you learn in this chapter and build on it through your research.</p>
			<p>Google will be the search engine that this chapter focuses on. Google has a 92% share of the search engine market worldwide. With all other search engines combined, taking less than a 10% share of the search engine market, there is no doubt that Google is dominating this space. Because of this, it is the logical search engine to gear this chapter toward. </p>
			<p>If you want search engines to recommend your content, there is a trinity of tasks that need to be worked on in tandem:</p>
			<ul>
				<li>Ensuring your content can be discovered by search engine web crawlers.</li>
				<li>Showing search engines that you're a trustworthy source of information.</li>
				<li>Making your content user-friendly and inviting with a great UX, content hierarchy, and multimedia. </li>
			</ul>
			<p>By investing time in implementing and improving these three things, the search engine will give you the most precious form<a id="_idIndexMarker343"/> of traffic – <strong class="bold">organic traffic</strong>. The best part? It's free! When Google shows your site as a part of a results page, you do not pay for its ranking or when it is clicked.</p>
			<p>So, what's in it for the search engine? Ads and sponsors. Whenever search users search on Google, you will also be presented with results from sponsors that have been paid for, and occasionally personalized ads too. This is how search engines make their money and to keep their revenue stream consistent, they need you to keep coming back. To do that, they need to make sure that they bring you the best possible content for your search so that you use them again for your next search.</p>
			<p>Now that we understand what search engines are looking for, let's learn about the important<a id="_idIndexMarker344"/> on-page signals that we can give to search engines to help them rank our site. </p>
			<h2 id="_idParaDest-94"><a id="_idTextAnchor095"/>On-page search engine optimization</h2>
			<p><strong class="bold">On-page signals</strong> are <a id="_idIndexMarker345"/>signals that a search engine<a id="_idIndexMarker346"/> can obtain from a site page. As your site pages are within your control, improving on-page signals is the easiest thing to get right and the easiest way to influence your site ranking. As a result, we will spend most of our time improving these signals in this chapter. </p>
			<p>On-page signals can be split into two groups – technical and content signals.</p>
			<h3>Technical signals</h3>
			<p>Technical signals <a id="_idIndexMarker347"/>are those related<a id="_idIndexMarker348"/> to your site's code:</p>
			<ul>
				<li><strong class="bold">Speed</strong>: Search engines want users to receive their results quickly, so pages that are fast receive a boost in ranking.</li>
				<li><strong class="bold">Mobile Responsiveness</strong>: Most content on the web is consumed via mobile these days, so having a great mobile user experience is very important. Search engines are considering this more and more, with Google's index now being mobile-first. </li>
				<li><strong class="bold">Security</strong>: Ensuring your website is secure improves your site's credibility. For example, <strong class="bold">HTTPS</strong> sites receive a boost over <strong class="bold">HTTP</strong> sites. </li>
			</ul>
			<h3>Content signals</h3>
			<p>Content signals<a id="_idIndexMarker349"/> are those related<a id="_idIndexMarker350"/> to the copy and links present on your site page:</p>
			<ul>
				<li><strong class="bold">Content Hierarchy</strong>: The title, content headings, and page hierarchy are very important. </li>
				<li><strong class="bold">Page Content</strong>: Google is always on the lookout for high-quality and accurate content that ultimately answers a user's query. Keep this in mind when you're creating pages and populating them. Your content needs to serve a real purpose for your site visitors. </li>
				<li><strong class="bold">Rich Content</strong>: Google looks beyond the raw copy nowadays. The web is filled with multimedia content. Google is looking for content that contains images and videos instead of raw text. Multimedia content allows for better user interaction with your content and is therefore favored.</li>
				<li><strong class="bold">Recently Updated</strong>: If the content within your pages has not been changed for a while, Google may treat its content as stale. Google is actively checking that the content of your page was created recently. By ensuring that your content is "fresh," Google can be sure your content is recent.</li>
				<li><strong class="bold">Outbound links</strong>: By referencing content externally, this tells Google that the information is accurate as it is like content contained on multiple sites. </li>
			</ul>
			<p>As you might be starting to realize by looking at these signals, you can sink vast amounts of time into these<a id="_idIndexMarker351"/> factors. It's up to you to decide how valuable search ranking and social media<a id="_idIndexMarker352"/> sharing are for your site, which will, in turn, determine how much time you should focus on implementing what is within this chapter. </p>
			<p>Now that we understand what SEO is, let's turn our attention to how we can improve our on-page SEO ranking with an SEO component.</p>
			<h1 id="_idParaDest-95"><a id="_idTextAnchor096"/>Creating an SEO component</h1>
			<p>Every site on the<a id="_idIndexMarker353"/> web has meta tags. Meta tags are snippets of text and image content that provide a summary of a web page. This data gets rendered in the browser whenever someone shares your site or when it appears within a search engine. Let's create an SEO component so that we can have rich previews that entice users to visit our site:</p>
			<ol>
				<li>Install the necessary dependencies:<p class="source-code">npm i react-helmet-async gatsby-plugin-react-helmet-</p><p class="source-code">async</p><p><strong class="source-inline">react-helmet-async</strong> is a dependency that manages all the changes that are made to your document head.</p></li>
				<li>Include the <strong class="source-inline">gatsby-plugin-react-helmet-async</strong> plugin in your <strong class="source-inline">gatsby-config.js</strong> file:<p class="source-code">module.exports = {</p><p class="source-code">  // rest of config</p><p class="source-code">  plugins: [</p><p class="source-code">    <strong class="bold">`gatsby-plugin-react-helmet-async`</strong>,</p><p class="source-code">// other plugins</p><p class="source-code">  ]</p><p class="source-code">}</p><p>This plugin<a id="_idIndexMarker354"/> updates your <strong class="source-inline">gatsby-browser.js</strong> file so that it wraps the root element in <strong class="source-inline">HelmetProvider</strong>, like this (<em class="italic">you do not need to do this step yourself</em>):</p><p class="source-code">import React from "react";</p><p class="source-code"><strong class="bold">import { HelmetProvider } from "react-helmet-async";</strong></p><p class="source-code">export const wrapRootElement = ({ element }) =&gt; {</p><p class="source-code">  return (</p><p class="source-code">    <strong class="bold">&lt;HelmetProvider&gt;</strong></p><p class="source-code">      {element}</p><p class="source-code">    <strong class="bold">&lt;/HelmetProvider&gt;</strong></p><p class="source-code">  );</p><p class="source-code">};</p><p>We are now ready to edit the document's <strong class="source-inline">head</strong> within our React components and pages when required.</p></li>
				<li>Create a new file inside <strong class="source-inline">src/components</strong> called <strong class="source-inline">SEO.js</strong>. This is the file in which we will create our SEO component.</li>
				<li>Open the <a id="_idIndexMarker355"/>newly created file and add the following code:<p class="source-code">import React from "react";</p><p class="source-code">import { Helmet } from "react-helmet-async";</p><p class="source-code">import { useStaticQuery, graphql } from "gatsby";</p><p class="source-code">export default function SEO({ description, lang =</p><p class="source-code"> "en", title }) {</p><p class="source-code">  return (</p><p class="source-code">    &lt;Helmet</p><p class="source-code">      htmlAttributes={{</p><p class="source-code">        lang,</p><p class="source-code">      }}</p><p class="source-code">      title={title}</p><p class="source-code">      titleTemplate={`%s · My Site`}</p><p class="source-code">      meta={[</p><p class="source-code">        {</p><p class="source-code">          name: `description`,</p><p class="source-code">          content: description,</p><p class="source-code">        },</p><p class="source-code">      ]}</p><p class="source-code">    /&gt;</p><p class="source-code">  );</p><p class="source-code">}</p><p>Here, we are adding the language as an HTML attribute. We also added the <strong class="source-inline">title</strong> tag, a title template, and a <strong class="source-inline">description</strong> as metadata. The title template is useful if you want to have a consistent format. Let's imagine that the title we are passing in is <strong class="source-inline">Home</strong>. In this case, the template's final page title would be <strong class="source-inline">Home · My Site</strong>.</p></li>
			</ol>
			<p>You are now ready to use your SEO component on your pages, so let's try it out! We will use<a id="_idIndexMarker356"/> the <strong class="source-inline">src/pages/index.js</strong> file as an example:</p>
			<p class="source-code">import React from "react";</p>
			<p class="source-code">import { Link, graphql } from "gatsby";</p>
			<p class="source-code">import { StaticImage } from "gatsby-plugin-image";</p>
			<p class="source-code">import Layout from "../components/layout/Layout";</p>
			<p class="source-code">import SEO from "../components/layout/SEO";</p>
			<p class="source-code">export default function Index({ data }) {</p>
			<p class="source-code">  const {</p>
			<p class="source-code">    site: {</p>
			<p class="source-code">      siteMetadata: { name, role },</p>
			<p class="source-code">    },</p>
			<p class="source-code">  } = data;</p>
			<p class="source-code">  return (</p>
			<p class="source-code">    &lt;Layout&gt;</p>
			<p class="source-code">      <strong class="bold">&lt;SEO </strong></p>
			<p class="source-code"><strong class="bold">        title="Home" </strong></p>
			<p class="source-code"><strong class="bold">        description="The landing page of my website" </strong></p>
			<p class="source-code"><strong class="bold">      /&gt;</strong></p>
			<p class="source-code">      {/* REST OF FILE */}    </p>
			<p class="source-code">    &lt;/Layout&gt;</p>
			<p class="source-code">  );</p>
			<p class="source-code">}</p>
			<p>Here, you can see the component embedded within our index page. We have added the <strong class="source-inline">title</strong> and <strong class="source-inline">description</strong> props to ensure these can populate the <strong class="source-inline">&lt;title&gt;</strong> and <strong class="source-inline">&lt;description&gt;</strong> tags <a id="_idIndexMarker357"/>contained within the SEO component. If you run <strong class="source-inline">gatsby develop</strong> at this point, you should see the title of the tab change to match your new title.</p>
			<p>We can also provide <strong class="source-inline">title</strong> and <strong class="source-inline">description</strong> using data from our GraphQL data. In our blog page template file (<strong class="source-inline">src/templates/blog-page.js</strong>), we could use the blog post's <strong class="source-inline">frontmatter</strong> to populate the SEO component:</p>
			<p class="source-code">export default function BlogPage({ data }) {</p>
			<p class="source-code">  const {</p>
			<p class="source-code">    blogpost: {</p>
			<p class="source-code">      frontmatter: { date, tags, title, hero, desc },</p>
			<p class="source-code">      html,</p>
			<p class="source-code">    },</p>
			<p class="source-code">  } = data;</p>
			<p class="source-code">  return (</p>
			<p class="source-code">    &lt;Layout&gt;</p>
			<p class="source-code">      &lt;SEO title={title} description={desc} /&gt;</p>
			<p class="source-code">      {/* Rest of render */}</p>
			<p class="source-code">    &lt;/Layout&gt;</p>
			<p class="source-code">)}</p>
			<p>Here, we are passing <strong class="source-inline">title</strong> and <strong class="source-inline">desc</strong> from <strong class="source-inline">frontmatter</strong> of the Markdown post to the SEO component so that it can use these pieces of information to generate the tags.</p>
			<p>Now that we have the basics set up, how do we enhance our site previews to make them more<a id="_idIndexMarker358"/> appealing within social media? Let's find out.</p>
			<h1 id="_idParaDest-96"><a id="_idTextAnchor097"/>Exploring meta previews</h1>
			<p>If you've ever <a id="_idIndexMarker359"/>shared a website with a friend via Twitter, Slack, or any other instant messaging service, you probably saw a nice preview image, title, and description appear in a card to give the user insight into where you are sending them. This is achieved with meta tags. </p>
			<p>We've already included a couple of these (<strong class="source-inline">title</strong> and <strong class="source-inline">description</strong> meta tags) within our search component, but here, we will implement two other common types – <strong class="bold">OpenGraph</strong> and Twitter metadata. We will then learn how to merge and validate these tags.</p>
			<h2 id="_idParaDest-97"><a id="_idTextAnchor098"/>Open Graph metadata</h2>
			<p><strong class="bold">Open Graph</strong> is an<a id="_idIndexMarker360"/> internet protocol that was originally designed and created by Facebook with a single purpose – to unify and standardize metadata within web pages to get better representations of the content of the page. The protocol does this by adding specific meta tags to your site header. These tags provide details about the content of your site pages. This could include information as basic as the page's title or maybe something more complex, such as how long a video on a page is. By populating the appropriate fields, we can create a bundled summary of what our site page looks like. </p>
			<p>We can add Open Graph meta tags via our existing <strong class="source-inline">SEO</strong> component by adding them to the <strong class="source-inline">meta</strong> prop of the <strong class="source-inline">Helmet</strong> component:</p>
			<p class="source-code">&lt;Helmet</p>
			<p class="source-code">      meta={[</p>
			<p class="source-code">          {</p>
			<p class="source-code">          property: `og:title`,</p>
			<p class="source-code">          content: title,</p>
			<p class="source-code">        },</p>
			<p class="source-code">        {</p>
			<p class="source-code">          property: `og:description`,</p>
			<p class="source-code">          content: description,</p>
			<p class="source-code">        },</p>
			<p class="source-code">        {</p>
			<p class="source-code">          property: `og:type`,</p>
			<p class="source-code">          content: `website`,</p>
			<p class="source-code">        },</p>
			<p class="source-code">        {</p>
			<p class="source-code">          property: `og:image`,</p>
			<p class="source-code">          content: `your-image-url.com`,</p>
			<p class="source-code">        }</p>
			<p class="source-code">]} /&gt;</p>
			<p>Here, we are implementing Open Graph tags for the content's <strong class="source-inline">title</strong>, <strong class="source-inline">description</strong>, <strong class="source-inline">type</strong>, and <strong class="source-inline">image</strong>. As<a id="_idIndexMarker361"/> you can see, all open graph tags have the <strong class="source-inline">og</strong> prefix. These are just a few of the meta tags that are available via the protocol. </p>
			<p>For a full list of all the available types, visit the Open Graph protocol website (<a href="https://ogp.me">https://ogp.me</a>).</p>
			<h2 id="_idParaDest-98"><a id="_idTextAnchor099"/>Twitter metadata</h2>
			<p>Like Facebook, Twitter <a id="_idIndexMarker362"/>also decided to create its own meta tags like Open Graph. All Twitter tags use the <strong class="source-inline">twitter</strong> prefix instead of <strong class="source-inline">og</strong>. One thing that separates Twitter tags from Open Graph's is that Twitter also has a tag for the content's display format on its platform. The first type is <strong class="source-inline">summary</strong>:</p>
			<div>
				<div id="_idContainer030" class="IMG---Figure">
					<img src="image/Figure_6.1_B15983.jpg" alt="Figure 6.1 – Twitter summary card&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 6.1 – Twitter summary card</p>
			<p><strong class="source-inline">summary</strong> shows a <a id="_idIndexMarker363"/>small summary preview of the site page. If you are looking for something larger with an image preview, you can use the <strong class="source-inline">summary_large_image</strong> type instead:</p>
			<div>
				<div id="_idContainer031" class="IMG---Figure">
					<img src="image/Figure_6.2_B15983.jpg" alt="Figure 6.2 – Twitter summary card with a large image&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 6.2 – Twitter summary card with a large image</p>
			<p>As you can see, this<a id="_idIndexMarker364"/> type shows a larger image that is much more enticing to the user.</p>
			<p>We can add Twitter meta tags via our existing <strong class="source-inline">SEO</strong> component by adding them to the <strong class="source-inline">meta</strong> prop of the <strong class="source-inline">Helmet</strong> component:</p>
			<p class="source-code">&lt;Helmet</p>
			<p class="source-code">      meta={[</p>
			<p class="source-code">        {</p>
			<p class="source-code">          name: `twitter:card`,</p>
			<p class="source-code">          content: `summary_large_image`,</p>
			<p class="source-code">        },</p>
			<p class="source-code">        {</p>
			<p class="source-code">          name: `twitter:creator`,</p>
			<p class="source-code">          content: twitter,</p>
			<p class="source-code">        },</p>
			<p class="source-code">        {</p>
			<p class="source-code">          name: `twitter:title`,</p>
			<p class="source-code">          content: title,</p>
			<p class="source-code">        },</p>
			<p class="source-code">        {</p>
			<p class="source-code">          name: `twitter:description`,</p>
			<p class="source-code">          content: description,</p>
			<p class="source-code">        },</p>
			<p class="source-code">        {</p>
			<p class="source-code">          name: `twitter:image`,</p>
			<p class="source-code">          content: `your-image-url.com`,</p>
			<p class="source-code">        }</p>
			<p class="source-code">]} /&gt;</p>
			<p>Though many of these <a id="_idIndexMarker365"/>tags are self-explanatory, it is worth calling out the <strong class="source-inline">twitter:creator</strong> tag. If you place your Twitter username as the content for this property, Twitter will be able to identify you as the creator of the site.</p>
			<p>Now that we have implemented both Open Graph and Twitter meta tags, let's combine and merge the two.</p>
			<h2 id="_idParaDest-99"><a id="_idTextAnchor100"/>Merging tags</h2>
			<p>You may have noticed <a id="_idIndexMarker366"/>that there is a little bit of duplication between the data we are providing via Twitter tags and Open Graph tags. For example, in both cases, we are providing a title (<strong class="source-inline">twitter:title</strong> and <strong class="source-inline">og:title</strong>). There is no harm in including these duplicates. Only a few bytes are added to your page by including this redundancy.</p>
			<p>But if you would like <a id="_idIndexMarker367"/>to keep things clean, it is possible to reduce the number of tags. Twitter scrapes your site page – if it does not find the Twitter tag it is looking for, it will fall back to the Open Graph tags if they are present. This is great for duplicates such as the title and description, but it is still important to include those tags that are Twitter-specific, such as the card type. </p>
			<p>Now, let's merge the Open Graph and Twitter tags we found in the previous two sections to create a subset that serves both formats without redundancy:</p>
			<p class="source-code">&lt;Helmet</p>
			<p class="source-code">      meta={[</p>
			<p class="source-code">        // Twitter MetaData</p>
			<p class="source-code">        {</p>
			<p class="source-code">          name: `twitter:card`,</p>
			<p class="source-code">          content: `summary_large_image`,</p>
			<p class="source-code">        },</p>
			<p class="source-code">        {</p>
			<p class="source-code">          name: `twitter:creator`,</p>
			<p class="source-code">          content: twitter,</p>
			<p class="source-code">        },</p>
			<p class="source-code">        // Open Graph MetaData</p>
			<p class="source-code">        {</p>
			<p class="source-code">          property: `og:title`,</p>
			<p class="source-code">          content: title,</p>
			<p class="source-code">        },</p>
			<p class="source-code">        {</p>
			<p class="source-code">          property: `og:description`,</p>
			<p class="source-code">          content: description,</p>
			<p class="source-code">        },</p>
			<p class="source-code">        {</p>
			<p class="source-code">          property: `og:type`,</p>
			<p class="source-code">          content: `website`,</p>
			<p class="source-code">        },</p>
			<p class="source-code">        {</p>
			<p class="source-code">          property: `og:image`,</p>
			<p class="source-code">          content: `your-image-url.com`,</p>
			<p class="source-code">        },</p>
			<p class="source-code">      ]}</p>
			<p class="source-code">    /&gt;</p>
			<p>Here, we can <a id="_idIndexMarker368"/>see that we have completely omitted the Twitter tags for <strong class="source-inline">title</strong>, <strong class="source-inline">description</strong>, and <strong class="source-inline">image</strong> as they will fall back to the Open Graph tags. We have, however, retained the Twitter tags for <strong class="source-inline">creator</strong> and <strong class="source-inline">card</strong> as they are not available via Open Graph.</p>
			<p>Now that we understand how to make our site look great when we <a id="_idIndexMarker369"/>share it, what about when it is shared for us by a search engine? How do we highlight the information we want it to care about? </p>
			<h2 id="_idParaDest-100"><a id="_idTextAnchor101"/>Validating tags</h2>
			<p>Regardless <a id="_idIndexMarker370"/>of whether<a id="_idIndexMarker371"/> you have implemented Open Graph tags, Twitter tags, or both, you will want to ensure that your tags are working correctly before sharing your site pages online. Both Facebook and Twitter have created applications to preview how links that are shared on their platforms will be displayed:</p>
			<ul>
				<li>Twitter Card <a id="_idIndexMarker372"/>Validator: <a href="https://cards-dev.twitter.com/validator">https://cards-dev.twitter.com/validator</a></li>
				<li>Facebook<a id="_idIndexMarker373"/> Sharing Debugger: <a href="https://developers.facebook.com/tools/debug">https://developers.facebook.com/tools/debug</a></li>
			</ul>
			<p>These<a id="_idIndexMarker374"/> tools perform a very similar function – they scrape the web page that's entered for any relevant meta tags that you have defined. Then, they display what a preview of the site would look like on their platform using these tags. There are also third-party services that will validate for both of these platforms at the same time, such as MetaTags.io (<a href="https://metatags.io">https://metatags.io</a>).</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">The validators mentioned here only work with sites that are hosted on public servers. You will not be able to test your meta tags using these without deploying your site first. You will learn more about how to deploy your site in <a href="B15983_09_ePub_RK.xhtml#_idTextAnchor127"><em class="italic">Chapter 9</em></a>, <em class="italic">Deployment and Hosting</em>.</p>
			<p>At this point, you <a id="_idIndexMarker375"/>should feel comfortable with creating and testing meta tags. Now, let's turn our attention to how we can make our site easier for web crawlers to interpret. </p>
			<h1 id="_idParaDest-101"><a id="_idTextAnchor102"/>Learning about XML sitemaps</h1>
			<p>A sitemap is a special<a id="_idIndexMarker376"/> file that provides information about the web pages and files on your site, as well as their relationships. Creating this file allows web crawlers to gather information about your site without having to crawl your site manually. It helps us highlight to search engines which pages we specifically want them to look at. Let's create a sitemap for our site:</p>
			<ol>
				<li value="1">Install the <strong class="source-inline">gatsby-plugin-sitemap</strong> dependency:<p class="source-code">npm install gatsby-plugin-sitemap</p></li>
				<li>Update your <strong class="source-inline">gatsby-config.js</strong> file:<p class="source-code">module.exports = {</p><p class="source-code">  siteMetadata: {</p><p class="source-code">    siteUrl: `https://your.website.com`,</p><p class="source-code">  },</p><p class="source-code">  plugins: [</p><p class="source-code">    `gatsby-plugin-sitemap`,</p><p class="source-code">  // other plugins</p><p class="source-code">  ]</p><p class="source-code">}</p><p>By including this plugin, Gatsby will automatically create a sitemap when building the site. It's important to remember that this plugin only generates output when running in production. When you're using <strong class="source-inline">gatsby develop</strong>, you will not see your sitemap file being created. Only when the <strong class="source-inline">gatsby build</strong> command is running will the sitemap file be created. </p></li>
			</ol>
			<p>Now that we have <a id="_idIndexMarker377"/>followed those steps, let's verify our implementation. Run <strong class="source-inline">gatsby build &amp;&amp; gatsby serve</strong> and navigate to <strong class="source-inline">/sitemap/sitemap-index.xml</strong> on your site. This page should show you some <strong class="bold">XML</strong> data that looks like this:</p>
			<p class="source-code">&lt;sitemapindex</p>
			<p class="source-code">  xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"&gt;</p>
			<p class="source-code">&lt;sitemap&gt;</p>
			<p class="source-code">&lt;loc&gt;https://your.website.com/sitemap/sitemap-0.xml&lt;/loc&gt;</p>
			<p class="source-code">&lt;/sitemap&gt;</p>
			<p class="source-code">&lt;/sitemapindex&gt;</p>
			<p>This page is the index of your sitemap and tells search engines where to find your site data. In your case, you will probably see a single entry, similar to the one shown in the preceding code block. If you follow the path in the <strong class="source-inline">&lt;loc&gt;</strong> tag <strong class="source-inline">(/sitemap/sitemap-0.xml</strong>), you will find something like this:</p>
			<p class="source-code">&lt;urlset&gt;</p>
			<p class="source-code">&lt;url&gt;</p>
			<p class="source-code">&lt;loc&gt;https://your.website.com/blog&lt;/loc&gt;</p>
			<p class="source-code">&lt;changefreq&gt;daily&lt;/changefreq&gt;</p>
			<p class="source-code">&lt;priority&gt;0.7&lt;/priority&gt;</p>
			<p class="source-code">&lt;/url&gt;</p>
			<p class="source-code">&lt;url&gt;</p>
			<p class="source-code">&lt;loc&gt;  Post/&lt;/loc&gt;</p>
			<p class="source-code">&lt;changefreq&gt;daily&lt;/changefreq&gt;</p>
			<p class="source-code">&lt;priority&gt;0.7&lt;/priority&gt;</p>
			<p class="source-code">&lt;/url&gt;</p>
			<p class="source-code">…</p>
			<p class="source-code">&lt;/urlset&gt;</p>
			<p>In this list, you should <a id="_idIndexMarker378"/>see an entry for each page on the site, with a <strong class="source-inline">changefreq</strong> and a <strong class="source-inline">priority</strong>. If the site pages appear in this list, then Google can find information about your pages without having to manually crawl your site. Congratulations!</p>
			<p class="callout-heading">Important Note</p>
			<p class="callout">Your site's 404 page and its development variants are always excluded from the sitemap, so you don't have to worry about filtering these pages out.</p>
			<p>Google has built a great tool for validating your sitemap, as well as other search analytics – Google Search Console. You can use it to check your site's indexing status and optimize the visibility of your site based on which queries are driving traffic to your website. You can try it out by visiting <a href="https://search.google.com/search-console/about">https://search.google.com/search-console/about</a>.</p>
			<p>We now understand how to make it easy for Google to find and display our site, but what if we want to do the opposite and stop our site from appearing in search engines? We'll look at this in the next section.</p>
			<h1 id="_idParaDest-102"><a id="_idTextAnchor103"/>Hiding your site from search engines</h1>
			<p>To prevent <a id="_idIndexMarker379"/>your<a id="_idIndexMarker380"/> page from appearing within Google and other search engines, you must update the <strong class="source-inline">&lt;head&gt;</strong> property of the page so that it includes the following meta tag:</p>
			<p class="source-code">&lt;meta name="robots" content="noindex"&gt;</p>
			<p>By including a <strong class="source-inline">noindex</strong> meta tag, crawlers that crawl that page and see the tag will drop the page from their search results. This happens regardless of whether the site is being linked to any other site on the internet.</p>
			<p>Much like our <strong class="source-inline">SEO</strong> component, we could make this addition to a component so that we can reuse it across the pages when needed:</p>
			<ol>
				<li value="1">Create a new file in <strong class="source-inline">src/components/layout</strong> called <strong class="source-inline">NoRobots.js</strong>.</li>
				<li>Open the newly created file and add the following code to it:<p class="source-code">import React from "react";</p><p class="source-code">import { Helmet } from "react-helmet-async";</p><p class="source-code">export default function NoRobots() {</p><p class="source-code">  return (</p><p class="source-code">    &lt;Helmet</p><p class="source-code">      meta={[</p><p class="source-code">        {</p><p class="source-code">          name: `robots`,</p><p class="source-code">          content: "noindex",</p><p class="source-code">        },</p><p class="source-code">      ]}</p><p class="source-code">    /&gt;</p><p class="source-code">  );</p><p class="source-code">}</p><p>This component adds the <strong class="source-inline">noindex</strong> metadata to <strong class="source-inline">head</strong> when it's included on any page. Using this component in this way gives us the flexibility to make a few pages hidden while still allowing the rest to be indexed. </p></li>
			</ol>
			<p>To hide static resources such as images within your site from search engines, we need to include a <strong class="source-inline">robots.txt</strong> file. This file is used by search engine crawlers to determine which parts of your site it can access. There is a plugin called <strong class="source-inline">gatsby-plugin-robots-txt</strong> that has<a id="_idIndexMarker381"/> been set up to make creating this file <a id="_idIndexMarker382"/>painless. Let's implement this plugin now:</p>
			<ol>
				<li value="1">Install the <strong class="source-inline">gatsby-plugin-robots-txt</strong> dependency:<p class="source-code">npm install gatsby-plugin-robots-txt</p></li>
				<li>Update your <strong class="source-inline">gatsby-config.js</strong> file with the following code:<p class="source-code">module.exports = {</p><p class="source-code">  siteMetadata: {</p><p class="source-code">    siteUrl: `https://your.website.com`,</p><p class="source-code">  },</p><p class="source-code">  plugins: [</p><p class="source-code">    <strong class="bold">resolve: 'gatsby-plugin-robots-txt',</strong></p><p class="source-code"><strong class="bold">      options: {</strong></p><p class="source-code"><strong class="bold">        host: ' https://your.website.com,</strong></p><p class="source-code"><strong class="bold">        sitemap: https://your.website.com</strong></p><p class="source-code"><strong class="bold">         /sitemap.xml',</strong></p><p class="source-code"><strong class="bold">        policy: [{ userAgent: '*', disallow: '/static'</strong></p><p class="source-code"><strong class="bold">         }]</strong></p><p class="source-code"><strong class="bold">      }</strong></p><p class="source-code">  // other plugins</p><p class="source-code">  ]</p><p class="source-code">}</p><p>Within this plugin's configuration, we have specified that all crawler user agents can access the whole site except for the <strong class="source-inline">/static</strong> folder. The <strong class="source-inline">/static</strong> folder is where site images are stored. Adding this <strong class="source-inline">disallow</strong> policy will stop your images from appearing in a Google image search. They will only be found within your site pages.</p></li>
			</ol>
			<p>We now have<a id="_idIndexMarker383"/> a <a id="_idIndexMarker384"/>clear understanding of how to omit both pages and assets from search engines.</p>
			<h1 id="_idParaDest-103"><a id="_idTextAnchor104"/>Summary</h1>
			<p>In this chapter, we learned what SEO is and what signals search engines use to identify quality content. We created an <strong class="source-inline">SEO</strong> component that we can use to add meta information to our site pages. Then, we enhanced this with Open Graph and Twitter meta tags for better site previews on social media platforms. We also implemented a sitemap to help search engines index our site effectively. Finally, we learned how to hide our site from search engines.</p>
			<p>In the next chapter, we will learn how to test and audit our site. We will also explore how to audit our site page's SEO. By learning how to audit our site pages, we can identify ways to improve the speed of our pages too, which will also boost our SEO ranking.</p>
		</div>
	</body></html>