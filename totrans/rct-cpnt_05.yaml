- en: Chapter 5. Going Material!
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In the last chapter, we looked at the basics of how to style and animate React
    components. We can make components look how we want them to, but how do we want
    them to look?
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter, we will look at something called material design. You'll learn
    how to express our interface not only in terms of components, but in a consistent
    design language.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: You will see a major intersection between component-based design and visual
    design patterns. Material design is very detailed, as we'll see in this chapter.
    It describes, in great detail, how each type of component (or surface) must look,
    feel, and move. It's that core approach of designing in the smallest terms that
    we've come to understand with React. Now, we get to apply those lessons from a
    visual standpoint as well.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: Understanding material design
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: For me, the name material design evokes an image of fashion or engineering,
    where different textures and patterns have distinct visual or technical characteristics.
    Everything I touch is some kind of material. Everything I see is some kind of
    material. All of these materials obey the laws of physics and behave in familiar
    ways.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
- en: These senses, of touch and sight, are fundamental to how we interact with the
    world. They're a broad and unspoken constant. Material design is a language that
    aims to bridge the gap between the physical and digital world, using material
    as a metaphor.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
- en: In this language, the surfaces and edges of material give us some visual interface
    cues that are grounded in reality. In this language, components respond immediately
    to touch in ways that hint at what they can do.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: Material design is heavily inspired by print design. Yet all the typography,
    color, and imagery do more than just look good. They create focus, hierarchy,
    and meaning. It reinforces the user as the primary cause of movement, using meaningful
    motion to focus on important areas of the interface, always giving the appropriate
    amount of feedback.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
- en: Surfaces
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Each object is represented by a material surface. These objects are sized in
    **device-independent pixels** (or **dp**, for short). This is a great unit to
    measure user input because it allows designers to design interfaces independent
    of the screen size.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
- en: It can also be converted to absolute units (such as inches or millimeters) depending
    on the device's screen size.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: Note
  id: totrans-12
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: You can learn more about dp at [http://en.wikipedia.org/wiki/Device_independent_pixel](http://en.wikipedia.org/wiki/Device_independent_pixel).
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: Surfaces are thought of as 3D objects, having width, height, and depth. All
    surfaces have a depth of 1 dp, but they can have any width or height. Surfaces
    also overlap, so they have a vertical offset from each other.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
- en: This vertical offset (or elevation) allows layering, creating a sense of depth
    similar to the real world. The content on a surface, such as typography and images,
    lies flat on the surface. Think of it like ink on paper, where the paper has a
    depth that's easier to notice than the ink printed on it.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: This layering effect is accentuated with shadows cast onto lower surfaces. The
    screen serves as a light source, so the closer the surfaces are to it (the higher
    they are in the interface), the bigger the shadow they cast.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
- en: Note
  id: totrans-17
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: You can learn more about elevation and layering at [https://www.google.com/design/spec/what-is-material/elevation-shadows.html](https://www.google.com/design/spec/what-is-material/elevation-shadows.html).
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
- en: Interactions
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Surfaces provide the depth and hierarchy, but the real value of an application
    comes from the content presented through the interface. Content drives interaction.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
- en: Material surfaces should respond to interactions. Playing videos, zooming photos,
    or completing forms should feel natural. An interaction should feel natural, and
    wherever possible, it should mimic how it would feel in the real world.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
- en: Note
  id: totrans-22
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: You can learn more about interactions at [https://www.google.com/design/spec/animation/responsive-interaction.html](https://www.google.com/design/spec/animation/responsive-interaction.html).
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
- en: Motion
  id: totrans-24
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: One of the ways in which an interface can respond to a user interaction is through
    the efficient use of motion. Animation is not new to mobile interfaces (where
    material design was born), but we're talking about a considered approach to how
    that animation is performed.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
- en: Just like in the real world, some objects move faster or slower when interacted
    with as concepts such as friction and momentum come into play. Some elements compress
    deeper when pressed and others barely move at all.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
- en: Note
  id: totrans-27
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: You can learn more about motion at [https://www.google.com/design/spec/animation/meaningful-transitions.html](https://www.google.com/design/spec/animation/meaningful-transitions.html).
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
- en: Typography and iconography
  id: totrans-29
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: There are guidelines for how to structure and color textual content in material
    interfaces. Most of the examples show Roboto (which is the standard Android font),
    but the rules work just as well with other clear typefaces.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
- en: Similarly, there are guidelines for how to create and use icons through your
    interface. There is a standard set of icons (called system icons), which will
    get you started.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
- en: Note
  id: totrans-32
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: You can download Roboto from [https://www.google.com/fonts/specimen/Roboto](https://www.google.com/fonts/specimen/Roboto)
    and the system icons from [http://www.google.com/design/spec/style/icons.html#icons-system-icons](http://www.google.com/design/spec/style/icons.html#icons-system-icons).
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
- en: Keeping your head above water
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The first time you read through the material design specification (available
    at [http://www.google.com/design/spec/material-design/introduction.html](http://www.google.com/design/spec/material-design/introduction.html)),
    you may be a little overwhelmed. There's a lot of detail in there, and knowing
    where to start is not easy.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
- en: The truth is you don't have to keep all of it in mind. I freaked out the first
    time I read through it, but I've since come to realize that the point is not to
    memorize it all. Sure, that would help when making every minute choice about your
    interface, but it isn't meant to be a toolkit or component library.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
- en: Material design is a language—a living document. Google has and will continue
    to adapt it, and when you learn a language, it helps to know some of the words.
    However, you cannot learn a whole language in a day, nor can you learn it well
    only by memorizing set phrases.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
- en: No, to learn a language, you need to speak it daily. You need to take to heart
    the grammar and struggle through your mistakes, until one day you have learned
    how to be comfortable with it without consciously having to remember each and
    every rule. On that day, material design becomes second nature to you.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
- en: Note
  id: totrans-39
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: I encourage you to read through the material design specification at least once
    before continuing. Remember, you can find it at [http://www.google.com/design/spec/material-design/introduction.html](http://www.google.com/design/spec/material-design/introduction.html).
    It doesn't matter if you forget some or even most of it. The purpose of reading
    it is that some of the decisions will seem more natural to you, as you remember
    parts of the specification. The pieces may fit together easier.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
- en: Material design lite
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Having said all that, there are a few tools to help you get started. The first
    tool we will look at is called material design lite. Over 120 contributors have
    teamed up to create a set of reusable components in the material design language.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
- en: 'The *lite* part of the name comes mainly from two things:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
- en: It is framework agnostic, which means you can use it without including something
    such as jQuery or Angular
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: When it is gzipped, it's less than 30 KB
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Let's try it out by customizing the colors of the default template. Go to [http://www.getmdl.io/customize/index.html](http://www.getmdl.io/customize/index.html)
    and pick a couple of colors. The color palettes in material design consist of
    primary colors and an accent color. You can also use some hues of the primary
    color in your design, but we'll not worry about those just yet.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
- en: As you select colors from the color wheel, you may notice some of the other
    colors disappear. The color wheel hides colors that will not have enough contrast
    to those you have already selected.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
- en: 'You should pick the colors you want to use in your design. I''ve picked the
    two colors marked as **1** and **2** in the following screenshot:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
- en: '![Material design lite](img/5268_05_01.jpg)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
- en: 'Just below the wheel, you''ll see a link element. This points to a hosted CSS
    file. If you place it in the head of your HTML page, those colors will be applied
    to your material design elements. I picked indigo and pink, which is reflected
    in the URL:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: You can choose to save this file and serve it locally. For now, I will include
    it directly in the head of my HTML page.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
- en: 'We also need to include a JavaScript file, and another CSS file that defines
    a few custom fonts:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Let''s add a few class names to our button elements as we begin to apply some
    material design styles to our interface. We''ll begin with `PageAdmin`:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: All the material design lite class names start with `mdl-`. We added a few that
    define some visual styles for **floating action buttons** (or **FAB**, for short).
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
- en: 'These styles make our *add* button look much better:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
- en: '![Material design lite](img/5268_05_02.jpg)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
- en: This isn't a great layout though. We should position the button better and add
    some boundaries to the `Page` components. In fact, we should start thinking of
    this CMS interface in terms of the different sections/pages we plan to have.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
- en: In the beginning, this admin interface won't be open for everyone to see, so
    perhaps we should have a login page. And, how will we navigate between different
    sections of this interface? Perhaps we should add some navigation to the mix.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
- en: When we visit [http://www.getmdl.io/templates/index.html](http://www.getmdl.io/templates/index.html),
    we can see a few different starter layouts that we can use. I really like the
    look of the **Dashboard** layout, so I think we can base the navigation on that.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
- en: Then, there's the **Text-heavy webpage** layout, which has a list of card components.
    These look just right for our `Page` components. Let's get to work!
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
- en: Creating a login page
  id: totrans-64
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'We''ll start by creating a simple login without any server-side validation
    (for now). We''ll break it out into its own `login.html` page and `login.js` file:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'I made a few changes to how SystemJS is configured. Instead of listing every
    individual file, we now set the root directory as the `baseURL`. This means we
    need to change how we import everything except `react` and `react-dom`:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Again, we will use some material design lite **Dashboard** class names, which
    we defined in `example.css`:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: These styles are mostly taken from the **Dashboard** layout files, though I've
    deleted styles that we don't need. Take a note of how the `.react` container element
    is stretched to the bounds of the window.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
- en: Note
  id: totrans-72
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Ideally, we would like to isolate the styles for each component inside each
    component. This can be achieved in a number of ways (which we briefly looked at
    in the previous chapter). Try to pull the styles for each of these components
    into the components themselves. It may be a bit more difficult to do if most of
    the styles come from the packaged MDL source files.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
- en: 'Let''s take a look at the `Nav` component:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: This new `Nav` component is vastly different from the other React components
    we've created so far. For a start, it has no internal state, rendering only static
    content. It's not a class, but rather a plain arrow function. Since React 0.14,
    it has become possible to pass a function to the `ReactDOM.render`, whether directly
    or indirectly.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
- en: Note
  id: totrans-77
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: You may also want to move the class arrays outside of the functions that use
    them, since they're not likely to change often. This isolates them away from the
    moving parts of each component and reduces the amount of work done each time the
    components are rendered.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
- en: For the sake of simplicity, I've left them inside the render function, but you're
    welcome to move them as you extend or customize your components.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
- en: This style is far simpler to follow when it comes to stateless components. It's
    a pattern that we'll repeat as time goes on, so be on the lookout for it!
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
- en: 'Then, we need to create the `Login` component:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: As you can see, input elements work the same as usual, with the addition of
    a few special MDL classes.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
- en: 'This gives us a pleasant login page:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
- en: '![Creating a login page](img/5268_05_03.jpg)'
  id: totrans-85
  prefs: []
  type: TYPE_IMG
- en: Updating page admin
  id: totrans-86
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'We need to apply similar changes to the now-separate `page-admin.html` and
    `page-admin.js` files. Let''s begin with the HTML:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'This is almost exactly the same as `login.html`, except that we load a different
    bootstrap file in this page. There are significant differences in `page-admin.js`
    though:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'We still load in the `mdl-` classes and HTML structure, but we also include
    the same `Backend` bootstrapping as we included earlier. The `PageAdmin` component
    `render` method looks very different now:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Finally, we need to update the `PageView` component:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: These changes don't do anything significant to the functionality we had previously,
    other than the CSS and HTML changes. We still create pages in exactly the same
    way. Also, we still edit and delete them in exactly the same way. We simply apply
    new visuals to an already functional interface.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
- en: 'The page admin section should now look like this:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
- en: '![Updating page admin](img/5268_05_04.jpg)'
  id: totrans-97
  prefs: []
  type: TYPE_IMG
- en: It's much better than before! One thing to note is that we haven't yet styled
    the `PageEdit` component, so consider that an exercise for next time.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
- en: Note
  id: totrans-99
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Pay careful attention to the example code files. A lot has changed since the
    last chapter, including splitting the example files and loading everything differently
    with SystemJS. You cannot continue on from the last chapter's code without making
    these changes and expect the examples in this chapter to work out of the box.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
- en: Alternative resources
  id: totrans-101
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Before we wrap up, I want to share a few resources that you might find helpful.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
- en: Font Squirrel
  id: totrans-103
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In this chapter, we used Roboto. More accurately, The MDL instructions told
    us how to embed a link to Roboto on Google Webfonts. If you would prefer to use
    your own custom fonts, then you may need to convert them.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
- en: 'You can convert font files at Font Squirrel:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
- en: '![Font Squirrel](img/5268_05_05.jpg)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
- en: Head over to [http://www.fontsquirrel.com/tools/webfont-generator](http://www.fontsquirrel.com/tools/webfont-generator)
    and upload your font files. You'll start to download the converted files with
    helpful CSS files to get you started. We don't have time to cover all the intricacies
    of custom fonts, but the example files you download should set you on the right
    path.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 访问[http://www.fontsquirrel.com/tools/webfont-generator](http://www.fontsquirrel.com/tools/webfont-generator)并上传你的字体文件。你将开始下载转换后的文件，附带一些有用的CSS文件以帮助你开始。我们没有时间涵盖所有自定义字体的复杂性，但下载的示例文件应该能让你走上正确的道路。
- en: Material UI
  id: totrans-108
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 材料UI
- en: We created a bit of a mash-up between the MDL CSS/JavaScript and React. This
    might not always work or be as elegant as you would like. In such instances, check
    out [http://www.material-ui.com](http://www.material-ui.com).
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在MDL CSS/JavaScript和React之间创建了一些混合。这不一定总是按你的意愿工作或那么优雅。在这种情况下，请查看[http://www.material-ui.com](http://www.material-ui.com)。
- en: 'Material UI has a huge range of components to choose from, as we can see in
    the following screenshot:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 材料UI提供了大量的组件供选择，如下面的截图所示：
- en: '![Material UI](img/5268_05_06.jpg)'
  id: totrans-111
  prefs: []
  type: TYPE_IMG
  zh: '![Material UI](img/5268_05_06.jpg)'
- en: It's a catalogue of material design components built to work on top of React.
    We may use some of them in our CMS, but I'll make sure that I explain when we
    do. It's worth taking a look through the components it has to offer and deciding
    whether you'd prefer the purer approach of material design over the code we have
    so far.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个构建在React之上的材料设计组件目录。我们可能会在我们的CMS中使用其中的一些，但我将确保在这样做时进行解释。查看它提供的组件并决定你是否更喜欢比我们迄今为止的代码更纯粹的材料设计方法，这是值得的。
- en: Summary
  id: totrans-113
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we blasted through some of the concepts in material design.
    You learned to think of it as an ever-changing language that we must learn over
    time. We implemented a global navigation component using a new form of React component
    (a function). We also implemented a login page, which is in need of a server-side
    validation, and we made our `PageAdmin` component look heaps better!
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们快速浏览了材料设计的一些概念。你学会了将其视为一种随着时间的推移我们必须学习的不断变化的语言。我们使用一种新的React组件形式（一个函数）实现了全局导航组件。我们还实现了一个登录页面，它需要服务器端验证，并且让我们的`PageAdmin`组件看起来更好！
- en: In the next chapter, we'll look at how to change views without page reloads
    and some of the neat things we can do to make that experience beautiful.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将探讨如何在不重新加载页面的情况下更改视图，以及我们可以做一些使体验变得美丽的事情。
