<html><head></head><body>
		<div id="_idContainer013">
			<h1 id="_idParaDest-35"><em class="italic"><a id="_idTextAnchor036"/>Chapter 2</em>: Styling Choices and Creating Reusable Layouts</h1>
			<p>Gatsby sites can be styled in a multitude of ways. In this chapter, we will introduce you to a large selection of styling techniques to help you make an informed choice about how you would like to style your site. Once you've settled on a styling method, we will implement it on the pages we created in <a href="B15983_01_ePub_RK.xhtml#_idTextAnchor013"><em class="italic">Chapter 1</em></a>, <em class="italic">An Overview of Gatsby.js for the Uninitiated</em>, before creating the <strong class="bold">reusable components</strong> that will be used across all our site pages.</p>
			<p>In this chapter, we will cover the following topics:</p>
			<ul>
				<li>Styling in Gatsby</li>
				<li>Styling with CSS</li>
				<li>Styling with Sass</li>
				<li>Styling with Tailwind.css</li>
				<li>Styling with Styled components</li>
				<li>Creating a reusable layout</li>
			</ul>
			<h1 id="_idParaDest-36"><a id="_idTextAnchor037"/>Technical requirements</h1>
			<p>In order to navigate this chapter, you will need to have completed the Gatsby setup and created the pages in <a href="B15983_01_ePub_RK.xhtml#_idTextAnchor013"><em class="italic">Chapter 1</em></a>, <em class="italic">An Overview of Gatsby.js for the Uninitiated</em>. </p>
			<p>In this chapter, we will start adding our first reusable components to our pages. As these components are not standalone pages, we will need a new place to store them. Create a subfolder inside your <strong class="source-inline">src</strong> folder called <strong class="source-inline">components</strong> that we can use. </p>
			<p>The code present in this chapter can be found at <a href="https://github.com/PacktPublishing/Elevating-React-Web-Development-with-Gatsby-4/tree/main/Chapter02">https://github.com/PacktPublishing/Elevating-React-Web-Development-with-Gatsby-4/tree/main/Chapter02</a>.</p>
			<h1 id="_idParaDest-37"><a id="_idTextAnchor038"/>Styling in Gatsby</h1>
			<p>This chapter is all about<a id="_idIndexMarker089"/> styling your Gatsby site, but what does styling refer to? While our <a id="_idIndexMarker090"/>React code is defining the structure of our web documents, we will use styling to define our documents' look and feel through page layouts, colors, and fonts. There is an abundance of tools you can use to style any Gatsby project. In this book, I will introduce you to four different approaches – <strong class="bold">vanilla CSS</strong>, <strong class="bold">Sass</strong>, <strong class="bold">Tailwind.css</strong>, and <strong class="bold">CSS in JS</strong>. Let's explore each of these in a little more detail before deciding which to use.</p>
			<h2 id="_idParaDest-38"><a id="_idTextAnchor039"/>Vanilla CSS</h2>
			<p>When your browser <a id="_idIndexMarker091"/>navigates to a site, it loads the site's HTML. It converts this HTML into a <strong class="bold">Document Object Model</strong> (<strong class="bold">DOM</strong>). After this, the browser will begin to fetch resources <a id="_idIndexMarker092"/>referenced in the HTML. This includes images, videos, and, more importantly right now, CSS. The browser reads through the CSS and sorts selectors by element, class, and identifiers. It then goes through the DOM and uses the selectors to attach styles to elements as required, creating a render tree. The visual page is then shown on the screen by utilizing this render tree. CSS has withstood the test of time, as we have been shipping CSS in this way with HTML for 25 years. But using vanilla CSS has some pros and cons.</p>
			<p>The pros for using vanilla CSS are as follows:</p>
			<ul>
				<li><strong class="bold">Its age</strong>: Because CSS has been<a id="_idIndexMarker093"/> around for 25 years at the time of writing this book, there is an abundance of content available on CSS. Due to its age, the chances that someone has already worked out how to fix any issue you encounter is also very high. Both these reasons make vanilla CSS a great choice for a beginner.</li>
				<li><strong class="bold">Understandable syntax</strong>: The syntax that makes up CSS consists of very few abbreviations. Reading it as a beginner, it is far <a id="_idIndexMarker094"/>easier to learn what any line of CSS is doing compared to the other style implementations in this chapter.</li>
			</ul>
			<p>The cons for using vanilla CSS are as follows:</p>
			<ul>
				<li><strong class="bold">Long style sheets</strong>: In traditional <a id="_idIndexMarker095"/>websites, you often see that they only ship with one CSS file. This makes maintaining and organizing styles very difficult, as the file can end up incredibly long. This can lead to a pattern where lazy developers who can't find the styles they are looking for might just append them to the bottom of the file (also known as an <strong class="bold">append-only style sheets</strong>). If they do this and the file already exists, then they are just increasing the file size for nothing.  </li>
				<li><strong class="bold">Class reuse confusion</strong>: Reusing styles can sometimes lead to more trouble than it's worth. Let's say you have used one specific class in use across various elements in your application. You might update this class to make it fit one instance of it, only to break all the others. If you fall into this cycle multiple times, it can really slow down your development. This can be avoided with a little forward-thinking – instead of reusing classes, make components that are reused. Another option is to create "utility classes" that are unlikely to change; if you'd rather not create these yourself, you should read the section on Tailwind CSS. </li>
				<li><strong class="bold">Inheritance pain points</strong>: By using inheritance, we end up tightly coupling our CSS to the structure of our HTML. If you break that structure, your CSS may no longer work. While inheritance sometimes is unavoidable, we should try and keep it to a<a id="_idIndexMarker096"/> minimum.</li>
			</ul>
			<p>CSS has withstood the test of time and is still a solid choice today. You might be asking why these are cons when I have listed ways to work around/avoid all of them. These cons can all be fixed one way or another using one of the other implementations in this chapter. </p>
			<h2 id="_idParaDest-39"><a id="_idTextAnchor040"/>Sass </h2>
			<p>Sass is a <a id="_idIndexMarker097"/>preprocessor scripting language that compiles into CSS. It gives developers tools that allow them to create more efficient CSS. </p>
			<p>The pros for using Sass are as follows:</p>
			<ul>
				<li><strong class="bold">Large toolset</strong>: Sass <a id="_idIndexMarker098"/>contains a bundle of powerful tools that you can't utilize in vanilla CSS. While we won't be covering these in detail, these include tools like mixins, loops, functions, and imports that can be used to create more powerful and performant CSS for your application. This is a huge pro for Sass.</li>
				<li><strong class="bold">Modules</strong>: You can split your Sass into separate <strong class="source-inline">.scss</strong> files to break down files. You can then import them into one another as needed. This drastically helps improve the organization of your code. </li>
				<li><strong class="bold">Freedom</strong>: Sass enforces a <a id="_idIndexMarker099"/>convention of how to write it – you can choose. This means that you can choose a style that suits your team.</li>
			</ul>
			<p>The cons for using Sass are as follows:</p>
			<ul>
				<li><strong class="bold">Skip foundations</strong>: Freedom can also be a negative for developers new to styling. If you haven't used Sass<a id="_idIndexMarker100"/> before, you may create code that works but in a way that is overly complicated. This can lead to future developers struggling with the code. Concrete CSS guidelines can help avoid this misuse.</li>
				<li><strong class="bold">Naming conventions</strong>: Naming every class you create for every element you style is a tedious process. There are methodologies that can help you create sensible class names; however it still takes a long time.</li>
				<li><strong class="bold">Two sources of truth</strong>: When you write your HTML, you probably will also add class names to your elements to style them. You then jump across to your Sass file to add these class names, only to forget what names you had for them. Jumping back and forth between your HTML and Sass can be an annoying context switch. You might consider abstracting styles away from your markup to be a good thing, but when markup and styles are so interconnected, this can be an<a id="_idIndexMarker101"/> inconvenience. </li>
			</ul>
			<p>Although Sass is a powerhouse, increased power does also mean increased complexity. While the learning curve may be higher for beginners, gaining control of it will give you a great deal of freedom.</p>
			<h2 id="_idParaDest-40"><a id="_idTextAnchor041"/>Tailwind (utility-first CSS framework)</h2>
			<p>Tailwind CSS is a<a id="_idIndexMarker102"/> utility-first CSS framework. The "utility-first" approach was created to combat the cons we talked about previously with CSS and Sass. In this methodology, we use small utility classes to build a component's style instead of defining our own class names. It can feel a little like writing inline styling, as your elements will have a string of utility classes added to them, but the benefit is that you don't have to write a single line of your own CSS if you don't want to.</p>
			<p>The pros<a id="_idIndexMarker103"/> for using Tailwind are as follows:</p>
			<ul>
				<li><strong class="bold">One source of truth</strong>: When using CSS or Sass, you must switch between two files: your markup and your style sheets. Tailwind does away with this concept and instead allows you to embed your styles directly in your markup. </li>
				<li><strong class="bold">Naming conventions</strong>: Tailwind removes the need for you to create your own classes. It has its own classes that are incredibly granular called "utility classes." You use these classes to build up your elements' styles and not worry about creating unique classes for each component.</li>
				<li><strong class="bold">Smaller CSS</strong>: Tailwind provides you with a complete set of utility classes that you rarely need to supplement with your own styles. Your CSS, therefore, stops increasing; in fact, it gets smaller. When you're ready to production-build your application, you can use Tailwind's built-in purge function to remove unused classes.</li>
				<li><strong class="bold">No side effects</strong>: As we are adding styles in our markup and not manipulating the underlying class names, there are never any unintended side effects elsewhere in our application. </li>
			</ul>
			<p>The cons<a id="_idIndexMarker104"/> for using Tailwind are as follows:</p>
			<ul>
				<li><strong class="bold">Markup legibility</strong>: As your markup contains your style built from utilities, the class names of elements can become incredibly long. When you add in the fact that these may need to change on hover or at breakpoints, your line length can end up very long. </li>
				<li><strong class="bold">Learning curve</strong>: Utility-first requires you to learn many class names to know what tools you must build your styles with. This learning can take some time and slow you down at <a id="_idIndexMarker105"/>the beginning, but I believe once you have these under your belt, your development speed will become much faster. </li>
			</ul>
			<p>Tailwind hits a great balance of abstraction and flexibility. It is the newest implementation on this list and my personal favorite.</p>
			<h2 id="_idParaDest-41"><a id="_idTextAnchor042"/>CSS in JS</h2>
			<p>CSS in JS gives you the<a id="_idIndexMarker106"/> ability to write plain CSS within your components while removing the possibility of naming collisions with class names. For the purpose of exploring this option, I will be reviewing the pros and cons of the most popular solution, Styled<a id="_idIndexMarker107"/> Components (<a href="https://styled-components.com">https://styled-components.com</a>). It is, however, worth mentioning that there are many different CSS in JS solutions, including <a id="_idIndexMarker108"/>Emotion (<a href="https://emotion.sh">https://emotion.sh</a>) and<a id="_idIndexMarker109"/> JSS (<a href="https://cssinjs.org">https://cssinjs.org</a>). </p>
			<p>The pros for using Styled Components<a id="_idIndexMarker110"/> are as follows:</p>
			<ul>
				<li><strong class="bold">One source of truth</strong>: Like Tailwind, Styled Components also removes context-switching, as your CSS code is housed within the same file as the component making use of it.  </li>
				<li><strong class="bold">Styles tied to components</strong>: Styles are created for use by one specific component and are located next to the markup that implements them. As such, you know exactly what makes use of these styles but, more importantly, you know that editing these styles will only affect the markup located with them.  </li>
				<li><strong class="bold">JS in CSS</strong>: We can make use of JS inside our CSS to determine styling. This makes handling conditionals within styles much easier, as we do not have to create two different class names and use a ternary operator. </li>
				<li><strong class="bold">Extending</strong>: It can often be the case that you may want to use a component style but subtly modify it for a different use case. Instead of copying the styles again and creating a new component from the ground up, we can instead create a component that <a id="_idIndexMarker111"/>inherits the styling of another. </li>
			</ul>
			<p>The cons for using Styled <a id="_idIndexMarker112"/>Components are as follows:</p>
			<ul>
				<li><strong class="bold">Performance</strong>: When parsing your styles into plain CSS, Styled Components adds these as style tags in the head of your <strong class="source-inline">index.html</strong>. Styles used across all your pages are pulled in on every page without any way to easily split them.  Even caching the styles is difficult, as class names are dynamically generated and can, therefore, change between builds.</li>
			</ul>
			<p>If you like a single source of truth, Styled Components improves the legibility of your markup when you are combining everything into one file. While performance is listed as a con, this is something that the community behind Styled Components is making an effort to improve.</p>
			<h2 id="_idParaDest-42"><a id="_idTextAnchor043"/>Picking a styling tool</h2>
			<p>When it comes to styling your Gatsby site, there is no right or wrong way of styling it. It will totally depend on your existing skill set, how coupled you want your styles and JS to be, and your own personal preferences. I thought I would end this section by looking at a few common scenarios and <a id="_idIndexMarker113"/>what styling implementation I would use for each of them:</p>
			<ul>
				<li><em class="italic">My experience with styling is limited</em>: If you are new to styling applications, I would suggest using vanilla CSS. The fundamentals you will learn using this implementation are built on in every other implementation. By learning the basics, you will be able to pick another implementation more easily in the future.</li>
				<li><em class="italic">I don't want to spend lots of time styling my application</em>: If you are looking for the option with the least setup, then look no further than Tailwind. Using utility classes will save you a lot of time, as you do not need to create your own classes.  </li>
				<li><em class="italic">I don't like context switching</em>: In this case, I would lean toward Styled Components or Tailwind, as in both implementations your styles are located next to your markup – one file and one source of truth.</li>
				<li><em class="italic">I have used CSS and want to build on that</em>: Using Sass would be a great option for you, as you can write the CSS you know and love but also enhance it with the Sass<a id="_idIndexMarker114"/> toolset.</li>
			</ul>
			<p>At this point, you should feel ready to make an informed choice about which styling tool is for you. I strongly suggest that you <em class="italic">only implement one of the styling choices outlined in this chapter</em> instead of trying to mix and match. If you add multiple styling implementations, you can end up in a position where your site styles don't seem to match up. This is because one implementation can override another. By sticking to one method, you have the added benefit of keeping your site's style consistently uniform, which is important, as it reinforces your brand. </p>
			<p>Now that you have made a decision, let's start looking at implementations.</p>
			<h1 id="_idParaDest-43"><a id="_idTextAnchor044"/>Styling with CSS</h1>
			<p>In<a id="_idIndexMarker115"/> this section, we will learn how to implement CSS styling into our Gatsby project.</p>
			<p>There are two different methods to adding global CSS styling to our Gatsby site – creating a wrapper component or using <strong class="source-inline">gatsby-browser.js</strong>.</p>
			<h2 id="_idParaDest-44"><a id="_idTextAnchor045"/>Creating a wrapper component</h2>
			<p>The idea behind a <a id="_idIndexMarker116"/>wrapper component is to wrap our page components in another component that brings common styles to the page:</p>
			<ol>
				<li>Create <strong class="source-inline">StyleWrapper.css</strong> in your <strong class="source-inline">components</strong> folder:<p class="source-code">html {</p><p class="source-code">  background-color: #f9fafb;</p><p class="source-code">  font-family: -apple-system, "Segoe UI", Roboto,</p><p class="source-code">    Helvetica, Arial, sans-serif,</p><p class="source-code">    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI</p><p class="source-code">    Symbol";</p><p class="source-code">}</p><p>In the preceding code, we are defining a background color and a font family that all children of the HTML tag can inherit.</p></li>
				<li>Let's now add some <strong class="source-inline">h1</strong> styles to this file:<p class="source-code">h1 {</p><p class="source-code">  color: #2563eb;</p><p class="source-code">  size: 6rem;</p><p class="source-code">  font-weight: 800;</p><p class="source-code">}</p><p>Here, we are adding the color, size, and weight of the largest <strong class="source-inline">heading</strong> tag.</p></li>
				<li>Similarly, we <a id="_idIndexMarker117"/>can also add some styles for the <strong class="source-inline">p</strong> and <strong class="source-inline">a</strong> tags:<p class="source-code">p {</p><p class="source-code">  color: #333333;</p><p class="source-code">}</p><p class="source-code">a {</p><p class="source-code">  color: #059669;</p><p class="source-code">  text-decoration: underline;</p><p class="source-code">}</p><p>Here, we are adding a color to each tag and, in the case of the <strong class="source-inline">a</strong> tags, an underline to make them more prominent.</p></li>
				<li>Create <strong class="source-inline">StyleWrapper.js</strong> in your <strong class="source-inline">components</strong> folder:<p class="source-code">import React from "react"</p><p class="source-code">import "./StyleWrapper.css"</p><p class="source-code">const StyleWrapper = ({children}) =&gt; (</p><p class="source-code">    &lt;React.Fragment&gt;{children}&lt;/ React.Fragment&gt;</p><p class="source-code">)</p><p class="source-code">export default StyleWrapper</p><p>As the name might suggest, we will use this component to wrap our pages to apply the styles we are importing on the second line. </p></li>
				<li>In order to <a id="_idIndexMarker118"/>use <strong class="source-inline">StyleWrapper.js</strong>, we need to import it into our pages; let's look at <strong class="source-inline">pages/index.js</strong> as an example:<p class="source-code">import React from "react"</p><p class="source-code">import {Link} from "gatsby"</p><p class="source-code"><strong class="bold">import StyleWrapper from "../components/StyleWrapper"</strong></p><p class="source-code">export default function Index(){</p><p class="source-code">    return (</p><p class="source-code">        <strong class="bold">&lt;StyleWrapper&gt;</strong></p><p class="source-code">            &lt;h1&gt;My Landing Page&lt;/h1&gt;</p><p class="source-code">            &lt;p&gt;This is my landing page.&lt;/p&gt;</p><p class="source-code">            &lt;Link to="/about"&gt;About me&lt;/Link&gt;</p><p class="source-code">        <strong class="bold">&lt;/StyleWrapper&gt;</strong></p><p class="source-code">    )</p><p class="source-code">}</p><p>In the <a id="_idIndexMarker119"/>preceding code, we can see we have imported the styled wrapper on the third line. We then replaced the <strong class="source-inline">div</strong> wrapping with our new layout component. The contained <strong class="source-inline">h1</strong>, <strong class="source-inline">p</strong>, and <strong class="source-inline">Link</strong> elements will be passed into the <strong class="source-inline">StyleWrapper</strong> component as children. </p></li>
			</ol>
			<h2 id="_idParaDest-45"><a id="_idTextAnchor046"/>Using gatsby-browser.js</h2>
			<p>If you want the same styles applied to every page, you might feel that importing <strong class="source-inline">StyleWrapper</strong> on all page instances doesn't feel like you're following <strong class="bold">Don't Repeat Yourself</strong> (<strong class="bold">DRY</strong>) principles. In cases where you are absolutely sure the styles are needed on every page, we <a id="_idIndexMarker120"/>can add them to our application using the Gatsby browser instead:</p>
			<ol>
				<li value="1">Create a <strong class="source-inline">styles</strong> folder inside your <strong class="source-inline">src</strong> directory. As these styles are being used globally and are not tied to a specific component, it does not make sense to store them in the <strong class="source-inline">component</strong> directory, as we did when implementing <strong class="source-inline">StyleWrapper.js</strong>.</li>
				<li>Create a <strong class="source-inline">global.css</strong> file in your <strong class="source-inline">styles</strong> folder and add the following:<p class="source-code">html {</p><p class="source-code">  background-color: #f9fafb;</p><p class="source-code">  font-family: -apple-system, "Segoe UI", Roboto,</p><p class="source-code">    Helvetica, Arial, sans-serif,</p><p class="source-code">    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI</p><p class="source-code">    Symbol";</p><p class="source-code">}</p><p class="source-code">h1 {</p><p class="source-code">  color: #2563eb;</p><p class="source-code">  size: 6rem;</p><p class="source-code">  font-weight: 800;</p><p class="source-code">}</p><p class="source-code">p {</p><p class="source-code">  color: #333333;</p><p class="source-code">}</p><p class="source-code">a {</p><p class="source-code">  color: #059669;</p><p class="source-code">  text-decoration: underline;</p><p class="source-code">}</p><p>Here, we are adding the exact same styles that we had in the alternate CSS implementation, so I won't explain them again here. The key difference is in this next step.</p></li>
				<li>Navigate<a id="_idIndexMarker121"/> to <strong class="source-inline">gatsby-browser.js</strong> and add the following:<p class="source-code">import "./src/styles/global.css"</p><p>By importing our CSS in <strong class="source-inline">gatsby-browser.js</strong>, Gatsby will wrap every page with this CSS.</p></li>
			</ol>
			<h2 id="_idParaDest-46"><a id="_idTextAnchor047"/>Verifying our implementation</h2>
			<p>Regardless of which of the two <a id="_idIndexMarker122"/>methods you opted for, if everything has gone according to plan, you should be presented with a styled site that looks like this:</p>
			<div>
				<div id="_idContainer012" class="IMG---Figure">
					<img src="image/B15983_02_01.jpg" alt="Figure 2.1 – Development of the index page with styles&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.1 – Development of the index page with styles</p>
			<p>You should be able to <a id="_idIndexMarker123"/>pick out your CSS additions on this page.</p>
			<p>You have now implemented CSS as a styling tool within your Gatsby site. You can disregard the other styling implementations that follow and proceed to the <em class="italic">Creating a reusable layout</em> section.</p>
			<h1 id="_idParaDest-47"><a id="_idTextAnchor048"/>Styling with Sass</h1>
			<p>In this section, we will learn how to implement Sass styling<a id="_idIndexMarker124"/> in our Gatsby project:</p>
			<ol>
				<li value="1">To start using Sass, we will need to install it along with a few other dependencies. Open a terminal at the <strong class="source-inline">root</strong> folder of your project and run the following:<p class="source-code">npm install sass gatsby-plugin-sass</p><p>Here, we are installing the core Sass dependency as well as the Gatsby plugin that integrates it. </p></li>
				<li>Modify your <strong class="source-inline">gatsby-config.js</strong> file with the following:<p class="source-code">module.exports = {</p><p class="source-code">  plugins: [</p><p class="source-code">    'gatsby-plugin-sass'</p><p class="source-code">  ],</p><p class="source-code">};</p><p>Here, we are updating our Gatsby configuration to let Gatsby know to make use of the <strong class="source-inline">gatsby-plugin-sass</strong> plugin. Now, create a <strong class="source-inline">styles</strong> folder inside your <strong class="source-inline">src</strong> directory. </p></li>
				<li>Create<a id="_idIndexMarker125"/> a <strong class="source-inline">global.scss</strong> file in your <strong class="source-inline">styles</strong> folder and add the following:<p class="source-code">html {</p><p class="source-code">  background-color: #f9fafb;</p><p class="source-code">  font-family: -apple-system, "Segoe UI", Roboto,</p><p class="source-code">    Helvetica, Arial, sans-serif,</p><p class="source-code">    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI</p><p class="source-code">    Symbol";</p><p class="source-code">}</p><p>I rarely add more than HTML styles to the <strong class="source-inline">global.scss</strong> file. Instead, I prefer to import other <strong class="source-inline">.scss</strong> files into this one. This keeps styles in order and the files small and readable. As an example, let's create <strong class="source-inline">typography.scss</strong> to store some typography styles:</p><p class="source-code">h1 {</p><p class="source-code">  color: #2563eb;</p><p class="source-code">  size: 6rem;</p><p class="source-code">  font-weight: 800;</p><p class="source-code">}</p><p class="source-code">p {</p><p class="source-code">  color: #333333;</p><p class="source-code">}</p><p class="source-code">a {</p><p class="source-code">  color: #059669;</p><p class="source-code">  text-decoration: underline;</p><p class="source-code">}</p></li>
				<li>Here, we<a id="_idIndexMarker126"/> are adding a color to each and, in the case of the <strong class="source-inline">a</strong> tags, adding an underline to make them more prominent. We can now import this file into our <strong class="source-inline">global.scss</strong> file:<p class="source-code"><strong class="bold">@import './typography;</strong></p><p class="source-code">html {</p><p class="source-code">  background-color: #f9fafb;</p><p class="source-code">  font-family: -apple-system, "Segoe UI", Roboto,</p><p class="source-code">   Helvetica, Arial, sans-serif,</p><p class="source-code">   "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI</p><p class="source-code">    Symbol";</p></li>
				<li>Navigate to your <strong class="source-inline">gatsby-browser.js</strong> file and add the following:<p class="source-code">import "./src/styles/global.scss";</p><p>This tells our Gatsby application to include this style sheet on the client, allowing us to make use of it in our application.</p></li>
			</ol>
			<p>You have now implemented Sass as a styling tool within your Gatsby site. You can disregard the other styling implementations that follow and proceed to the <em class="italic">Creating a reusable layout</em> section.</p>
			<h1 id="_idParaDest-48"><a id="_idTextAnchor049"/>Styling with Tailwind.css</h1>
			<p>In this section, we will <a id="_idIndexMarker127"/>learn how to implement Tailwind styling in our Gatsby project:</p>
			<ol>
				<li value="1">To start using Tailwind, we will need to install it along with a few other dependencies. Open a terminal at the <strong class="source-inline">root</strong> folder of your project and run the following:<p class="source-code">npm install postcss gatsby-plugin-postcss tailwindcss</p><p>Here, we are installing PostCSS, its associated Gatsby plugin, and <strong class="source-inline">tailwindcss</strong>. PostCSS is a tool for transforming styles with JS plugins. These plugins can lint your CSS, support variables and mixins, transpile future CSS syntax, inline images, and more. In the case of Tailwind, there is a specific tailwind plugin for PostCSS that we will be implementing.</p></li>
				<li>Modify your <strong class="source-inline">gatsby-config.js</strong> with the following:<p class="source-code">module.exports = {</p><p class="source-code">  plugins: [</p><p class="source-code">    <strong class="bold">'gatsby-plugin-postcss'</strong></p><p class="source-code">  ],</p><p class="source-code">};</p><p>Here, we are updating our Gatsby configuration to let it know to make use of the Gatsby PostCSS plugin. </p></li>
				<li>In order to use PostCSS, it requires <strong class="source-inline">postcss.config.js</strong> to be present at the root of your project. Go ahead and create this file now and add the following:<p class="source-code">module.exports = () =&gt; ({</p><p class="source-code">  plugins: [require("tailwindcss")],</p><p class="source-code">});</p><p>In this file, we are telling PostCSS to make use of our newly installed <strong class="source-inline">tailwindcss</strong> package. </p></li>
				<li>Much like PostCSS, Tailwind also requires a configuration file. Tailwind has a built-in script for creating the default configuration. Open a terminal and run the following:<p class="source-code">npx tailwindcss init</p><p>If this<a id="_idIndexMarker128"/> command is successful, you should notice that a new <strong class="source-inline">tailwind.config.js</strong> has been created at the root of your project. The default configuration within this file will work just fine, so for now, we don't need to edit it. </p></li>
				<li>Create a <strong class="source-inline">styles</strong> folder inside your <strong class="source-inline">src</strong> directory.</li>
				<li>Create a <strong class="source-inline">global.css</strong> file inside your <strong class="source-inline">styles</strong> folder and add the following:<p class="source-code">@tailwind base;</p><p class="source-code">@tailwind components;</p><p class="source-code">@tailwind utilities;</p></li>
				<li>Add the following to the <strong class="source-inline">gatsby-browser.js</strong> file:<p class="source-code">import "./src/styles/global.css";</p><p>This tells our Gatsby application to include this style sheet on the client, allowing us to make use of Tailwind classes. </p></li>
			</ol>
			<p>With these steps concluded, we now have everything in place to start using Tailwind within our application. To make use of Tailwind's utility classes, we can use React's <strong class="source-inline">className</strong> prop within our components; for example, in <strong class="source-inline">pages/index.js</strong>, we could add the following:</p>
			<p class="source-code">import React from "react"</p>
			<p class="source-code">import {Link} from "gatsby"</p>
			<p class="source-code">export default function Index(){</p>
			<p class="source-code">    return (</p>
			<p class="source-code">        &lt;div&gt;</p>
			<p class="source-code">            &lt;h1 className="<strong class="bold">text-3xl font-bold text-blue-</strong></p>
			<p class="source-code"><strong class="bold">              600</strong>"&gt;My Landing Page&lt;/h1&gt;</p>
			<p class="source-code">            &lt;p&gt;This is my landing page.&lt;/p&gt;</p>
			<p class="source-code">            &lt;Link to="/about"&gt;About me&lt;/Link&gt;</p>
			<p class="source-code">        &lt;/div&gt;</p>
			<p class="source-code">    )</p>
			<p class="source-code">}</p>
			<p>In the preceding code, we<a id="_idIndexMarker129"/> are modifying the style of the heading with the following utility classes:</p>
			<ul>
				<li><strong class="source-inline">text-3xl</strong>: Set the text to the third extra-large size, equivalent to 1.875 rem.</li>
				<li><strong class="source-inline">font-bold</strong>: Set the text to the bold font-weight.</li>
				<li><strong class="source-inline">text-blue-600</strong>: Set the color of the text to blue.</li>
			</ul>
			<p>You can alternatively append styles to the <strong class="source-inline">global.css</strong> file that we created to have them included: </p>
			<p class="source-code">@tailwind base;</p>
			<p class="source-code">@tailwind components;</p>
			<p class="source-code">@tailwind utilities;</p>
			<p class="source-code"><strong class="bold">h1 {</strong></p>
			<p class="source-code"><strong class="bold">    @apply text-3xl font-bold text-blue-600;</strong></p>
			<p class="source-code"><strong class="bold">}</strong></p>
			<p>Here, you will see the exact same styles, just defined globally. Both will equate to the same styling on the <strong class="source-inline">h1</strong> tag; deciding which variation to use is all about frequency. If you intend to use this <strong class="source-inline">h1</strong> style more than once, you should be incorporating it into your CSS to save you writing the same styles over and over. </p>
			<p>Let's now supplement this with a few more styles:</p>
			<p class="source-code">@tailwind base;</p>
			<p class="source-code">@tailwind components;</p>
			<p class="source-code">@tailwind utilities;</p>
			<p class="source-code">h1 {</p>
			<p class="source-code">    @apply text-3xl font-bold text-blue-600;</p>
			<p class="source-code">}</p>
			<p class="source-code"><strong class="bold">p {</strong></p>
			<p class="source-code"><strong class="bold">    @apply text-gray-800;</strong></p>
			<p class="source-code"><strong class="bold">}</strong></p>
			<p class="source-code"><strong class="bold">a {</strong></p>
			<p class="source-code"><strong class="bold">    @apply text-green-600 underline;</strong></p>
			<p class="source-code"><strong class="bold">}</strong></p>
			<p>Here, we are<a id="_idIndexMarker130"/> adding a color to each element and, in the case of the <strong class="source-inline">a</strong> tags, adding an underline to make them more prominent.</p>
			<p>You have now implemented Tailwind as a styling tool within your Gatsby site. You can disregard the other styling implementations that follow and proceed to the <em class="italic">Creating a reusable layout</em> section.</p>
			<h1 id="_idParaDest-49"><a id="_idTextAnchor050"/>Styling with styled-components</h1>
			<p>In this section, we will learn<a id="_idIndexMarker131"/> how to implement Styled Components as a styling tool in our Gatsby project: </p>
			<ol>
				<li value="1">Open a terminal at the <strong class="source-inline">root</strong> folder of your project and run to install your dependencies:<p class="source-code">npm install gatsby-plugin-styled-components styled-</p><p class="source-code">components babel-plugin-styled-components</p><p>These are the details of the dependencies:</p><ol><li><strong class="source-inline">styled-components</strong>: The Styled Components library</li><li><strong class="source-inline">gatsby-plugin-styled-components</strong>: The official Gatsby plugin for Styled Components</li><li><strong class="source-inline">babel-plugin-styled-components</strong>: Provides consistently hashed class names between builds</li></ol></li>
				<li>Update your <strong class="source-inline">gatsby-config.js</strong> with the following:<p class="source-code">module.exports = {</p><p class="source-code">  plugins: ['gatsby-plugin-styled-components'],</p><p class="source-code">}</p><p>This instructs <a id="_idIndexMarker132"/>Gatsby to use the Styled Components plugin that we just installed. </p><p>We can have all the pieces in place to create styles on a page/component level and a global level.</p></li>
				<li>To demonstrate utilizing them, navigate to your <strong class="source-inline">pages/index.js</strong> file and add the following:<p class="source-code">import React from "react"</p><p class="source-code">import {Link} from "gatsby"</p><p class="source-code"><strong class="bold">import styled from "styled-components";</strong></p><p class="source-code"><strong class="bold">const Box = styled.div'</strong></p><p class="source-code"><strong class="bold">  background-color: #333;</strong></p><p class="source-code"><strong class="bold">  padding: 20px;</strong></p><p class="source-code"><strong class="bold">  h1 {</strong></p><p class="source-code"><strong class="bold">    color: #fff;</strong></p><p class="source-code"><strong class="bold">    margin: 0 0 10px;</strong></p><p class="source-code"><strong class="bold">    padding: 0;</strong></p><p class="source-code"><strong class="bold">  }</strong></p><p class="source-code"><strong class="bold">  </strong></p><p class="source-code"><strong class="bold">  p {</strong></p><p class="source-code"><strong class="bold">      color: #fff</strong></p><p class="source-code"><strong class="bold">  }</strong></p><p class="source-code"><strong class="bold">'</strong></p><p class="source-code">export default function Index(){</p><p class="source-code">    return (</p><p class="source-code">        <strong class="bold">&lt;Box&gt;</strong></p><p class="source-code">            &lt;h1&gt;My Landing Page&lt;/h1&gt;</p><p class="source-code">            &lt;p&gt;This is my landing page.&lt;/p&gt;</p><p class="source-code">            &lt;Link to="/about"&gt;About me&lt;/Link&gt;</p><p class="source-code">        <strong class="bold">&lt;/Box&gt;</strong></p><p class="source-code">    )</p><p class="source-code">}</p><p>Here, we have <a id="_idIndexMarker133"/>defined a component that applies styling to a <strong class="source-inline">div</strong> tag. We can see that it also has styles for any <strong class="source-inline">h1</strong> or <strong class="source-inline">p</strong> tag that are children. </p></li>
				<li>Occasionally, you may want to create styles globally; in order to demonstrate this, navigate to your <strong class="source-inline">gatsby-browser.js</strong> file and add the following:<p class="source-code">import React from "react"</p><p class="source-code">import { createGlobalStyle } from "styled-components"</p><p class="source-code">const GlobalStyle = createGlobalStyle'</p><p class="source-code">  body {</p><p class="source-code">    background-color: ${props =&gt; (props.theme === </p><p class="source-code">    "blue" ? "blue" : "white")};</p><p class="source-code">  }</p><p class="source-code">'</p><p class="source-code">export const wrapPageElement = ({ element }) =&gt; (</p><p class="source-code">    &lt;&gt;</p><p class="source-code">      &lt;GlobalStyle theme="blue"/&gt;</p><p class="source-code">      {element}</p><p class="source-code">    &lt;/&gt;</p><p class="source-code">  )</p><p>We use the <strong class="source-inline">styled-components</strong> <strong class="source-inline">createGlobalStyle</strong> helper function to create our global<a id="_idIndexMarker134"/> styles. This stops Styled Components from being scoped to a local CSS class.</p><p>By using the <strong class="source-inline">wrapPageElement</strong> method, we tell Gatsby to wrap every page in the component. We can make use of this to wrap every page in our global styles. </p></li>
			</ol>
			<p>Regardless of your implementation choice, you should now have the basics in place to start building a fully styled site. Let's now start creating the reusable layout that we will utilize across the site.</p>
			<h1 id="_idParaDest-50"><a id="_idTextAnchor051"/>Creating a reusable layout</h1>
			<p>Most websites feature<a id="_idIndexMarker135"/> headers and footers that are present across all their pages. With our knowledge of how pages work, you might be tempted to import a header component into every page component. But wait – what happens when you suddenly need to pass that component a new prop? Situations like these are why it's a good idea to reduce any duplication across pages. Instead, it's a much better option to create a layout component that contains a header and footer that we can then wrap our pages in.</p>
			<p>In order to keep our <strong class="source-inline">components</strong> folder well structured, it's useful to create subfolders to house different parts of the site. Create a <strong class="source-inline">layout</strong> folder in the <strong class="source-inline">components</strong> folder to house components that are related to the layout. We will use these layout components across all our page files. Now, let's populate this folder with a header, footer, and layout component.</p>
			<p class="callout-heading">Important Note</p>
			<p class="callout">In the code examples in this section, you will notice I am using <strong class="source-inline">Tailwind.css</strong> to style my components. In the accompanying GitHub repository (<a href="https://github.com/PacktPublishing/Elevating-React-Web-Development-with-Gatsby-4/tree/main">https://github.com/PacktPublishing/Elevating-React-Web-Development-with-Gatsby-4/tree/main</a>), you can find implementations of these components using all the styling implementations we have covered in this chapter. In future chapters, I will be sticking to Tailwind.</p>
			<h2 id="_idParaDest-51"><a id="_idTextAnchor052"/>Site header</h2>
			<p>A header component<a id="_idIndexMarker136"/> acts as the anchor of our site. It is common to include your site header across all your pages so that visitors are reminded that they are on your site. </p>
			<p>To get started, let's create a <strong class="source-inline">Header.js</strong> component in our <strong class="source-inline">components</strong> folder:</p>
			<p class="source-code">import React from "react"</p>
			<p class="source-code">const Header = () =&gt; (</p>
			<p class="source-code">    &lt;header&gt;</p>
			<p class="source-code">        &lt;p&gt;Site Header&lt;/p&gt;</p>
			<p class="source-code">    &lt;/header&gt;</p>
			<p class="source-code">)</p>
			<p class="source-code">export default Header</p>
			<p>In the preceding <a id="_idIndexMarker137"/>code, we are creating the most basic of header examples. Note that we are making use of the HTML <strong class="source-inline">header</strong> tag. As we will learn in <a href="B15983_06_ePub_RK.xhtml#_idTextAnchor092"><em class="italic">Chapter 6</em></a>, <em class="italic">Improving Your Site's Search Engine Optimisation</em>, using the correct tags when creating content is very important, as it helps web crawlers and accessibility tools understand your site.</p>
			<h2 id="_idParaDest-52"><a id="_idTextAnchor053"/>Site footer</h2>
			<p>Adding a footer to<a id="_idIndexMarker138"/> your site can be a powerful tool. I like to think of it as a way to keep user engagement after they have finished a page. We can use it to give people quick links to our social media so that they can get in touch, we can suggest other interesting content that they might enjoy, and we can even tell them how many views the current page has had. </p>
			<p>Let's get started with a basic implementation. Create a <strong class="source-inline">Footer.js</strong> component in the <strong class="source-inline">components</strong> folder:</p>
			<p class="source-code">import React from "react"</p>
			<p class="source-code">const Footer = () =&gt; (</p>
			<p class="source-code">    &lt;footer&gt;</p>
			<p class="source-code">        &lt;p&gt;Site Footer&lt;/p&gt;</p>
			<p class="source-code">    &lt;/footer&gt;</p>
			<p class="source-code">)</p>
			<p class="source-code">export default Footer</p>
			<p>Much like our <strong class="source-inline">Header</strong>, it's <a id="_idIndexMarker139"/>important that we use the proper HTML <strong class="source-inline">footer</strong> tag.</p>
			<h2 id="_idParaDest-53"><a id="_idTextAnchor054"/>Layout component</h2>
			<p>We could directly import<a id="_idIndexMarker140"/> our header and footer onto every page we create, but if we did that, it would lead to a lot of duplication. One common way to get around this is to create a <strong class="source-inline">Layout</strong> component. We wrap every page we build in this component. Not only is this an easy way to bring in our header and footer but it also allows us to style the main content of every page with minimal effort: </p>
			<p class="source-code">import React from "react"</p>
			<p class="source-code">import Footer from "./Footer"</p>
			<p class="source-code">import Header from "./Header"</p>
			<p class="source-code">const Layout = ({children}) =&gt; (</p>
			<p class="source-code">    &lt;div&gt;</p>
			<p class="source-code">        &lt;Header/&gt;</p>
			<p class="source-code">        &lt;main&gt;</p>
			<p class="source-code">            {children}</p>
			<p class="source-code">        &lt;/main&gt;</p>
			<p class="source-code">        &lt;Footer/&gt;</p>
			<p class="source-code">    &lt;/div&gt;</p>
			<p class="source-code">)</p>
			<p class="source-code">export default Layout</p>
			<p>Here, you can see I am importing our newly created <strong class="source-inline">Header</strong> and <strong class="source-inline">Footer</strong> components. I am making use of the <strong class="source-inline">children</strong> prop and rendering child content within a <strong class="source-inline">main</strong> block. </p>
			<p>To demonstrate <a id="_idIndexMarker141"/>using the <strong class="source-inline">Layout</strong> component, let's wrap our index page in the component. Modify your <strong class="source-inline">index.js</strong> in pages with the following:</p>
			<p class="source-code">import React from "react"</p>
			<p class="source-code">import {Link} from "gatsby"</p>
			<p class="source-code"><strong class="bold">import Layout from "../components/layout/Layout"</strong></p>
			<p class="source-code">export default function Index(){</p>
			<p class="source-code">    return (</p>
			<p class="source-code">        <strong class="bold">&lt;Layout&gt;</strong></p>
			<p class="source-code">            &lt;h1&gt;My Landing Page&lt;/h1&gt;</p>
			<p class="source-code">            &lt;p&gt;This is my landing page.&lt;/p&gt;</p>
			<p class="source-code">            &lt;Link to="/about"&gt;About me&lt;/Link&gt;</p>
			<p class="source-code">        <strong class="bold">&lt;/Layout&gt;</strong></p>
			<p class="source-code">    )</p>
			<p class="source-code">}</p>
			<p>You can see that I have wrapped the landing page in our new <strong class="source-inline">Layout</strong> component that has been imported on the third line. If you spin up <strong class="source-inline">gatsby develop</strong> at this point, you should see your page content with a header before it and a footer after it. You can continue to wrap your other pages in your <strong class="source-inline">layout</strong> component at this moment. Before proceeding, let's step back for a moment and look at how we can organize the components we're creating for our pages.</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">Some of the styling implementations discussed previously make use of style wrappers. If your implementation has made use of a style wrapper, import it into your <strong class="source-inline">layout</strong> component and wrap content in this component. This way, you only wrap your pages in one component instead of both the <strong class="source-inline">layout</strong> and <strong class="source-inline">style wrapper</strong> components.</p>
			<h2 id="_idParaDest-54"><a id="_idTextAnchor055"/>Organization with atomic design </h2>
			<p>As your site expands, it's important to try and keep your <strong class="source-inline">components</strong> folder structured. One commonly used method is to use <strong class="bold">atomic design</strong> principles. Atomic design is the process of creating<a id="_idIndexMarker142"/> effective interface design systems by breaking down your site elements into atoms, molecules, organisms, templates, and pages:</p>
			<ul>
				<li><strong class="bold">Atoms</strong>: These are the<a id="_idIndexMarker143"/> smallest components that might be incorporated into our site, such as buttons, typography components, or text inputs. Atoms cannot be logically broken down into subcomponents while still keeping them functional.</li>
				<li><strong class="bold">Molecules</strong>: Built from two or more atoms, molecules<a id="_idIndexMarker144"/> are small groups of elements that work together to provide some functionality. A search box consisting of a text input and a button could be considered a molecule.</li>
				<li><strong class="bold">Organisms</strong>: Built from a<a id="_idIndexMarker145"/> group of molecules and atoms, these form larger sections of an interface, such as a site's hero section.</li>
				<li><strong class="bold">Templates</strong>: These wrap <a id="_idIndexMarker146"/>organisms in a layout and provide the content structure and skeletal structure of a page.</li>
				<li><strong class="bold">Pages</strong>: An instance of a <a id="_idIndexMarker147"/>template with real-world content in place.</li>
			</ul>
			<p>Using atomic<a id="_idIndexMarker148"/> design when building components allows you to break your components down into smaller self-contained units. These can be tested and developed in isolation before importing them into your application, allowing for a more rigorous development process but also reducing the reliance on backend logic when conducting frontend development. </p>
			<p>Once we have defined our atomic design pattern, we can be far more flexible when working with styling. Changing an atom's style will also update the styles that any molecules and organisms were making use of.</p>
			<p>Depending on your styling implementation, it can also be a good idea to abstract commonly used tokens, such as brand colors, spacing rules, and font families. It's much easier to maintain a project with a single source of truth, rather than darting all over your application pasting hex values to modify your brand colors.</p>
			<p>Using atomic design to organize your <strong class="source-inline">components</strong> folder can really help as things scale, so keep it in mind in future chapters as your application expands. </p>
			<h1 id="_idParaDest-55"><a id="_idTextAnchor056"/>Summary</h1>
			<p>In this chapter, you have learned how you can style a Gatsby site in a multitude of ways. This should aid you in making an informed choice about what way you will style your application going forward. We have seen how to style your Gatsby site using CSS, Sass, Tailwind.css, and Styled Components. You should have decided on one of these and implemented them. In future chapters, I will use Tailwind.css to style the application, but this is a personal preference. You should use whatever you feel is best for your site and your existing knowledge. </p>
			<p>We also started creating the first reusable components that will make up the backbone of our site. While our <strong class="source-inline">layout</strong> component may seem primitive right now, we will be integrating it with content in the next chapter and adding imagery to bring it to life even further in <a href="B15983_05_ePub_RK.xhtml#_idTextAnchor080"><em class="italic">Chapter 5</em></a>, <em class="italic">Working with Images</em>.</p>
			<p>Before continuing to the next chapter, I encourage you to spend time building on the styles outlined here until you have your existing pages looking how you want them to. While I think it's best to define your own styles, you can find an example of a completely styled version of the site in Tailwind.css in the code repository.</p>
			<p>In the next chapter, we will begin sourcing content from local files, CMSes, and APIs. We will be using this data to start programmatically creating pages on our Gatsby site.</p>
		</div>
	</body></html>