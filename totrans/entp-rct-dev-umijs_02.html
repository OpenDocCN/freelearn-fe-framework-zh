<html><head></head><body>
		<div id="_idContainer020">
			<h1 id="_idParaDest-14"><a id="_idTextAnchor014"/>Chapter 1: Environment Setup and Introduction to UmiJS</h1>
			<p><strong class="bold">UmiJS</strong> is Ant <a id="_idIndexMarker000"/>Financial's underlying frontend framework and an open source project for developing enterprise-class frontend applications. It's a robust framework you can combine with Ant Design to provide everything you need to build a modern user experience.</p>
			<p>In this chapter, you will learn how to install and configure a project using UmiJS and <strong class="bold">Visual Studio Code</strong> (<strong class="bold">VSCode</strong>). You'll also understand the folder structure and main files of UmiJS. Then, you'll learn how to set fast navigation between pages using <strong class="bold">u</strong><strong class="bold">mi history</strong> and finally discover <strong class="bold">Umi UI</strong>, a visual option to interact with UmiJS and add components to your project.</p>
			<p>We'll cover the following main topics:</p>
			<ul>
				<li>Setting up our environment and configuring UmiJS</li>
				<li>Understanding the UmiJS folder structure and its main files</li>
				<li>Exploring the Umi CLI and adding pages</li>
				<li>Understanding routing and navigation in UmiJS</li>
				<li>Using Umi UI</li>
			</ul>
			<p>By the end of this chapter, you'll have learned everything you need to get started with developing your project and you will also know about the fundamental behavior of an UmiJS project and its configurations. </p>
			<h1 id="_idParaDest-15"><a id="_idTextAnchor015"/>Technical requirements</h1>
			<p>To complete this chapter's exercises, you just need a computer with any OS (I recommend Ubuntu 20.04 or higher).</p>
			<p>You can find the complete project in the <strong class="source-inline">Chapter01</strong> folder in the GitHub repository available at the following link: </p>
			<p><a href="https://github.com/PacktPublishing/Enterprise-React-Development-with-UmiJs">https://github.com/PacktPublishing/Enterprise-React-Development-with-UmiJs</a></p>
			<h1 id="_idParaDest-16"><a id="_idTextAnchor016"/>Setting up our environment and configuring UmiJS</h1>
			<p>In this section, we'll <a id="_idIndexMarker001"/>install and configure VSCode, the EditorConfig extension, and the <a id="_idIndexMarker002"/>Prettier extension, and create our first UmiJS project. </p>
			<p>Let's begin by installing a source code editor. You can use any editor that supports JavaScript and TypeScript, but I will use VSCode extensively in this book. It's a free editor with an integrated terminal and internal Git control that natively supports JavaScript, TypeScript, Node.js, and many extensions for other languages. </p>
			<p>VSCode is available as a Snap package, and you can install it on Ubuntu by running the following command: </p>
			<p class="source-code">$ sudo snap install code <strong class="bold">–</strong>–classic</p>
			<p>For Mac users, you can install it using Homebrew on macOS by running the following command: </p>
			<p class="source-code">$ brew install --cask visual-studio-code</p>
			<p>If you are using Chocolatey on Windows, you can run the following command:</p>
			<p class="source-code">&gt; choco install vscode</p>
			<p>Alternatively, you <a id="_idIndexMarker003"/>can download the installer available at <a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a>.</p>
			<p class="callout-heading">Important Note</p>
			<p class="callout">You can find instructions on installing <strong class="bold">Homebrew</strong> on <a id="_idIndexMarker004"/>macOS at <a href="https://brew.sh/">https://brew.sh/</a> and installing <strong class="bold">Chocolatey</strong> on <a id="_idIndexMarker005"/>Windows at <a href="https://chocolatey.org/install">https://chocolatey.org/install</a>. If you are a Windows user, you can install Ubuntu in <strong class="bold">Windows Subsystem for Linux</strong> (<strong class="bold">WSL</strong>) and set up your project using common Linux commands. You can read more about<a id="_idIndexMarker006"/> WSL at <a href="https://docs.microsoft.com/en-us/windows/wsl/install">https://docs.microsoft.com/en-us/windows/wsl/install</a>.</p>
			<p>Next, we<a id="_idIndexMarker007"/> need to install the dependencies required to develop with<a id="_idIndexMarker008"/> UmiJS. First, let's install Node.js by typing and running the following commands in the terminal:</p>
			<p class="source-code">$ sudo apt update</p>
			<p class="source-code">$ sudo apt install nodejs -y</p>
			<p>The first command updates the mirrors, and the second command installs Node.js with the <strong class="source-inline">-y</strong> flag, which skips user confirmation to install.</p>
			<p>You can install Node.js using Homebrew on macOS by running the following command: </p>
			<p class="source-code">$ brew install node</p>
			<p>If you are using Chocolatey on Windows, you can run the following command:</p>
			<p class="source-code">&gt; choco install nodejs</p>
			<p>Alternatively, you can download the <a id="_idIndexMarker009"/>installer available at <a href="https://nodejs.org/en/">https://nodejs.org/en/</a>.<span class="hidden"> </span></p>
			<p>Node.js has a default package manager named npm, but we will extensively use <strong class="bold">Yarn</strong> instead of npm in this book, so I recommend installing it. You can do that by running the following command in the terminal:</p>
			<p class="source-code">$ npm install -g yarn</p>
			<p>This command will install Yarn globally in your system.</p>
			<p>With that, we are ready to get started with UmiJS. But first, let's understand UmiJS a bit more and what kinds of problems it can solve.</p>
			<h2 id="_idParaDest-17"><a id="_idTextAnchor017"/>Introduction to UmiJS and creating your first project</h2>
			<p>UmiJS is a <a id="_idIndexMarker010"/>framework for developing enterprise-class frontend applications. This means Umi provides a set of tools for solving everyday problems faced when building large business applications that need to deliver a modern user experience and must be easy to maintain and modify. </p>
			<p>With Umi, you can quickly develop an application with internationalization, permissions, and beautiful interfaces taking advantage of Umi's deep integration with Ant Design.</p>
			<p>Another significant advantage of Umi is that there are a variety of published plugins you can add to your project as you need. You can also extend it by developing your own plugins to meet specific solutions. </p>
			<p>Now that you <a id="_idIndexMarker011"/>know more about Umi, let's create your first project by following these steps:  </p>
			<ol>
				<li>Create a new folder for the project and open it in the terminal:<p class="source-code"><strong class="bold">$ mkdir umi-app; cd umi-app</strong></p></li>
				<li>Create a new project using the <strong class="source-inline">umi-app</strong> template:<p class="source-code"><strong class="bold">$ yarn create @umijs/umi-app</strong></p></li>
				<li>Install the project dependencies by running the following command:<p class="source-code"><strong class="bold">$ yarn</strong></p></li>
				<li>Start the project by running the following command:<p class="source-code"><strong class="bold">$ yarn start</strong></p></li>
			</ol>
			<p>We now have a project set up! You can open it by typing <strong class="source-inline">http://localhost:8000</strong> in the browser and see the result.</p>
			<p>Let's do the final configurations to simplify our work by adding code formatting.</p>
			<h2 id="_idParaDest-18"><a id="_idTextAnchor018"/>Installing the EditorConfig and Prettier extensions</h2>
			<p>One of the tools UmiJS provides by default<a id="_idIndexMarker012"/> in the <strong class="source-inline">umi-app</strong> template is <strong class="bold">EditorConfig</strong>, a file format that editors read to define the code style across IDEs and text editors. You'll learn more about code style in <a href="B18503_05_Final_JM_ePub.xhtml#_idTextAnchor066"><em class="italic">Chapter 5</em></a>, <em class="italic">Code Style and Formatting Tools</em>. Some editors and IDEs offer native support to EditorConfig, while in other cases, such as VSCode, you need to install a plugin, so let's install it by following these steps: </p>
			<ol>
				<li value="1">Open VSCode <a id="_idIndexMarker013"/>and press <em class="italic">Ctrl</em> + <em class="italic">P</em>. This shortcut will open the following field at the top:</li>
			</ol>
			<div>
				<div id="_idContainer006" class="IMG---Figure">
					<img src="image/Figure_1.01_B18503.jpg" alt="Figure 1.1 – VSCode quick open&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.1 – VSCode quick open</p>
			<ol>
				<li value="2">Type the following command and press <em class="italic">Enter</em> to install the official extension for EditorConfig support:<p class="source-code"><strong class="bold">ext install EditorConfig.EditorConfig </strong></p></li>
			</ol>
			<p>The <strong class="source-inline">umi-app</strong> template comes preinstalled with Prettier, which is preconfigured for formatting the code. You can use it by running the <strong class="source-inline">yarn prettier</strong> command. Still, a better option is to let VSCode format it for you when you save changes or paste code blocks.</p>
			<p>For that, we need to install the<a id="_idIndexMarker014"/> Prettier extension and configure it as the default code formatter. To install and configure the Prettier extension, follow these steps:</p>
			<ol>
				<li value="1">Press <em class="italic">Ctrl</em> + <em class="italic">P</em> and type the following command, then press <em class="italic">Enter</em> to install the official extension for Prettier support:<p class="source-code"><strong class="bold">ext install esbenp.prettier-vscode</strong></p></li>
				<li>Next, press <em class="italic">Ctrl</em> + <em class="italic">,</em> to open the VSCode preferences, and in the search field, type <strong class="source-inline">formatter</strong> and press <em class="italic">Enter</em>.</li>
				<li>Under <strong class="bold">Editor: Default Formatter</strong>, select <strong class="bold">Prettier - Code formatter</strong>.</li>
				<li>Check the <strong class="bold">Editor: Format On Paste</strong> and <strong class="bold">Editor: Format On Save</strong> options, as shown in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer007" class="IMG---Figure">
					<img src="image/Figure_1.02_B18503.jpg" alt="Figure 1.2 – VSCode editor configuration&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.2 – VSCode editor configuration</p>
			<p>In this section, we learned how to configure our environment, learned more about UmiJS, and created our first project. Now, let's take a closer look at the project structure.</p>
			<h1 id="_idParaDest-19"><a id="_idTextAnchor019"/>Understanding the UmiJS folder structure and its main files</h1>
			<p>In this section, you will understand the UmiJS folder structure, and you will add some essential configurations to files and folders. </p>
			<p>The project we create<a id="_idIndexMarker015"/> based on the <strong class="source-inline">umi-app</strong> template generates a set of folders with <a id="_idIndexMarker016"/>responsibilities for different parts of the project. Let's see what each one does:</p>
			<ul>
				<li><strong class="source-inline">mock</strong>: In this folder, we store our simulated endpoints definitions to generate a mock API that we can interact with while developing the frontend.</li>
				<li><strong class="source-inline">src</strong>: This is the source folder where all our components are located.</li>
				<li><strong class="source-inline">src/.umi</strong>: This folder is automatically generated by UmiJS every time the project is compiled and contains its internal configurations.</li>
				<li><strong class="source-inline">src/pages</strong>: The React<a id="_idIndexMarker017"/> components responsible for rendering the pages in<a id="_idIndexMarker018"/> response to configured routes are located in this folder.</li>
			</ul>
			<p>These are the folders included with the <strong class="source-inline">umi-app</strong> template, but there are other essential folders in a UmiJS project, so let's add them. </p>
			<p>The first folder we'll add is <strong class="source-inline">config</strong>. </p>
			<h2 id="_idParaDest-20"><a id="_idTextAnchor020"/>Adding config and locales folders</h2>
			<p>In the root folder of our project, we have a file named <strong class="source-inline">.umirc.ts</strong>. This file contains the configuration for Umi and its plugins. When your project is compact, it's a good choice, but as it grows and becomes complex, the configuration file can become hard to maintain. To avoid that, we can break down our configuration into different parts located in the <strong class="source-inline">config</strong> folder. Let's do this now by<a id="_idIndexMarker019"/> opening your project in VSCode and following these steps:</p>
			<ol>
				<li value="1">In the root directory of your project, create a new folder named <strong class="source-inline">config</strong>.</li>
			</ol>
			<p>You can do that by clicking on the icon in the upper-right corner above the folders list.</p>
			<div>
				<div id="_idContainer008" class="IMG---Figure">
					<img src="image/Figure_1.03_B18503.jpg" alt="Figure 1.3 – VSCode new folder icon&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.3 – VSCode new folder icon</p>
			<ol>
				<li value="2">Move the <strong class="source-inline">.umirc.ts</strong> file to the <strong class="source-inline">config</strong> folder and rename it <strong class="source-inline">config.ts</strong>. </li>
			</ol>
			<p>You can rename a file by selecting it and pressing <em class="italic">F2</em>.</p>
			<ol>
				<li value="3">In the <strong class="source-inline">config</strong> folder, create a new file named <strong class="source-inline">routes.ts</strong>. In this file, we'll configure the application's routes.</li>
			</ol>
			<p>You can do that by clicking on the icon in the top-right corner, above the folders list.</p>
			<div>
				<div id="_idContainer009" class="IMG---Figure">
					<img src="image/Figure_1.04_B18503.jpg" alt="Figure 1.4 – VSCode new file icon&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.4 – VSCode new file icon</p>
			<ol>
				<li value="4">Paste <a id="_idIndexMarker020"/>this code into the <strong class="source-inline">routes.ts</strong> file and save:<p class="source-code">export default [</p><p class="source-code">  {</p><p class="source-code">    path: '/',</p><p class="source-code">    component: '@/pages/index',</p><p class="source-code">  },</p><p class="source-code">];</p></li>
			</ol>
			<p>This code defines the root path (<strong class="source-inline">'/'</strong>) to render the component index located in the <strong class="source-inline">pages</strong> folder.</p>
			<ol>
				<li value="5">Now we can import the <strong class="source-inline">routes.ts</strong> file into <strong class="source-inline">config.ts</strong> and add this line to the <strong class="source-inline">config.ts</strong> file: <p class="source-code"><strong class="bold">import routes from './routes';</strong></p></li>
			</ol>
			<p>We can then rewrite the route section to use it as follows:</p>
			<p class="source-code">import { defineConfig } from 'umi';</p>
			<p class="source-code"><strong class="bold">import routes from './routes';</strong></p>
			<p class="source-code">export default defineConfig({</p>
			<p class="source-code">  nodeModulesTransform: {</p>
			<p class="source-code">    type: 'none',</p>
			<p class="source-code">  },</p>
			<p class="source-code">  <strong class="bold">routes,</strong></p>
			<p class="source-code">  fastRefresh: {},</p>
			<p class="source-code">});</p>
			<p>Umi also <a id="_idIndexMarker021"/>supports <strong class="bold">internationalization</strong> (also known as <strong class="bold">i18n</strong>) through the <strong class="bold">locale</strong> plugin. You'll learn more about this and other helpful Umi plugins in later chapters. To enable internationalization, create a<a id="_idIndexMarker022"/> folder named <strong class="source-inline">locales</strong> in the <strong class="source-inline">src</strong> folder and add the following configuration to the <strong class="source-inline">config.ts</strong> file under the <strong class="source-inline">config</strong> folder:</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">config.ts</p>
			<p class="source-code">import { defineConfig } from 'umi';</p>
			<p class="source-code">import routes from './routes';</p>
			<p class="source-code">export default defineConfig({</p>
			<p class="source-code">  <strong class="bold">locale: {</strong></p>
			<p class="source-code"><strong class="bold">    default: 'en-US',</strong></p>
			<p class="source-code"><strong class="bold">    antd: true,</strong></p>
			<p class="source-code"><strong class="bold">    baseNavigator: true,</strong></p>
			<p class="source-code"><strong class="bold">    baseSeparator: '-',</strong></p>
			<p class="source-code"><strong class="bold">  },</strong></p>
			<p class="source-code">  nodeModulesTransform: {</p>
			<p class="source-code">    type: 'none',</p>
			<p class="source-code">  },</p>
			<p class="source-code">  routes,</p>
			<p class="source-code">  fastRefresh: {},</p>
			<p class="source-code">});</p>
			<p>The <strong class="source-inline">locale</strong> configuration <a id="_idIndexMarker023"/>properties are as follows:</p>
			<ul>
				<li><strong class="source-inline">default</strong>: The default application language.</li>
				<li><strong class="source-inline">antd</strong>: Enable Ant Design components internationalization.</li>
				<li><strong class="source-inline">baseNavigator</strong>: Enable browser language detection.</li>
				<li><strong class="source-inline">baseSeparator</strong>: The separator used in multi-language files localized under the <strong class="source-inline">src/locales</strong> folder.</li>
			</ul>
			<p>Now we can support internationalization by adding multi-language files in the <strong class="source-inline">locales</strong> folder. For example, to support the English language, we need to add a file named <strong class="source-inline">en-US.js</strong>.</p>
			<p>Now, we'll add the <strong class="source-inline">app.tsx</strong> file to set configurations at runtime. </p>
			<h2 id="_idParaDest-21"><a id="_idTextAnchor021"/>Runtime configuration</h2>
			<p>Umi uses a<a id="_idIndexMarker024"/> file named <strong class="source-inline">app.tsx</strong> to expand your application's configurations at runtime. This file is useful to configure the initial state using the <strong class="bold">initial-state</strong> plugin and the layout using the <strong class="bold">layout</strong> plugin. The <strong class="source-inline">app.tsx</strong> file needs to be located in the <strong class="source-inline">src</strong> folder. </p>
			<p>Add a file named <strong class="source-inline">app.tsx</strong> to the <strong class="source-inline">src</strong> folder following the steps demonstrated previously.</p>
			<p>At this point, our project structure should look like this:</p>
			<div>
				<div id="_idContainer010" class="IMG---Figure">
					<img src="image/Figure_1.05_B18503.jpg" alt="Figure 1.5 – Project structure after last modifications&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.5 – Project structure after last modifications</p>
			<p>You'll better <a id="_idIndexMarker025"/>understand all these features following the exercises in the upcoming chapters. </p>
			<p>Now that you understand the Umi project structure and have added the missing folders and files, let's learn about some useful commands in the Umi <strong class="bold">command-line interface</strong> (<strong class="bold">CLI</strong>).</p>
			<h1 id="_idParaDest-22"><a id="_idTextAnchor022"/>Exploring the Umi CLI and adding pages</h1>
			<p>In this section, we'll explore the<a id="_idIndexMarker026"/> Umi CLI for automating tasks and use the <strong class="source-inline">generate</strong> command to add some pages to your project. </p>
			<p>Umi provides a CLI with commands to build, debug, list configurations, and so on. You can use them to automate tasks. Some of these commands are already configured in the <strong class="source-inline">umi-app</strong> template as scripts in the <strong class="source-inline">package.json</strong> file: <strong class="source-inline">yarn start</strong> will execute <strong class="source-inline">umi dev</strong>, <strong class="source-inline">yarn build</strong> will execute <strong class="source-inline">umi build</strong>, and so on.</p>
			<p>These are the main <a id="_idIndexMarker027"/>commands available:</p>
			<ul>
				<li><strong class="source-inline">umi dev</strong>: Compiles the application and starts <a id="_idIndexMarker028"/>a development server for debugging.</li>
				<li><strong class="source-inline">umi build</strong>: Compiles the application bundle in the <strong class="source-inline">dist</strong> folder.</li>
				<li><strong class="source-inline">umi webpack</strong>: This shows the webpack configuration file generated by Umi.</li>
				<li><strong class="source-inline">umi plugin list</strong>: Lists all Umi plugins in use.</li>
				<li><strong class="source-inline">umi generate page</strong>: Creates a new page template.<p class="callout-heading">Important Note</p><p class="callout">For more commands, refer to the <a id="_idIndexMarker029"/>documentation available at <a href="https://umijs.org/docs/cli">https://umijs.org/docs/cli</a>.</p></li>
			</ul>
			<p>Let's add some<a id="_idIndexMarker030"/> pages using<a id="_idIndexMarker031"/> the <strong class="source-inline">generate page</strong> Umi CLI command. Follow these steps:</p>
			<ol>
				<li value="1">First, delete the files under the <strong class="source-inline">src/pages</strong> folder, then add two pages by running these commands:<p class="source-code"><strong class="bold">$ yarn umi g page /Home/index ––typescript ––less</strong></p><p class="source-code"><strong class="bold">$ yarn umi g page /Login/index ––typescript ––less</strong></p></li>
			</ol>
			<p>These commands generate two components under the <strong class="source-inline">pages</strong> folder, <strong class="source-inline">Login</strong> and <strong class="source-inline">Home</strong>, with TypeScript and Less support.</p>
			<ol>
				<li value="2">To access these pages, we need to define routes, so modify your <strong class="source-inline">routes.ts</strong> file to define the created components for new routes:</li>
			</ol>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">         routes.ts</p>
			<p class="source-code">export default [</p>
			<p class="source-code">  {</p>
			<p class="source-code">    path: '/',</p>
			<p class="source-code">    component: <strong class="bold">'@/pages/Login'</strong>,</p>
			<p class="source-code">  },</p>
			<p class="source-code">  {</p>
			<p class="source-code">    path: '/home',</p>
			<p class="source-code">    component: <strong class="bold">'@/pages/Home'</strong>,</p>
			<p class="source-code">  },</p>
			<p class="source-code">];</p>
			<ol>
				<li value="3">To check the<a id="_idIndexMarker032"/> result, start the project<a id="_idIndexMarker033"/> by running <strong class="source-inline">yarn start</strong>, then navigate to <strong class="source-inline">http://localhost:8000/</strong>; you should see the login page. </li>
				<li>Navigate to <strong class="source-inline">http://localhost:8000/home</strong>; you should now see the home page.</li>
			</ol>
			<p>Now that we have pages set up, we can learn more about Umi routing and navigation using umi history.</p>
			<h1 id="_idParaDest-23"><a id="_idTextAnchor023"/>Understanding routing and navigation in UmiJS</h1>
			<p>In this section, you'll<a id="_idIndexMarker034"/> understand the Umi routing system and options for configuring <a id="_idIndexMarker035"/>routes. You will also learn how to access route parameters and <a id="_idIndexMarker036"/>query strings and <a id="_idIndexMarker037"/>about navigating between pages.</p>
			<p>A Umi project<a id="_idIndexMarker038"/> is a <strong class="bold">single-page application</strong>. This means that the entire application remains on the first page <a id="_idIndexMarker039"/>served to the browser (<strong class="source-inline">index.html</strong>), and all other pages we see when accessing different addresses are components rendered on this same page. Umi does the job of parsing the route and rendering the correct component; we just need to define which component to render when the route matches a specific path. As you may have noticed, we already did that. But there are other configuration options. For example, we can set subroutes to define a standard layout for various pages:</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">routes.ts</p>
			<p class="source-code">export default [</p>
			<p class="source-code">  {</p>
			<p class="source-code">    path: '/',</p>
			<p class="source-code">    <strong class="bold">component: '@/layouts/Header',</strong></p>
			<p class="source-code">    <strong class="bold">routes:</strong> [</p>
			<p class="source-code">      { path: '/login', component: '@/pages/Login' },</p>
			<p class="source-code">      { path: '/home', component: '@/pages/Home' },</p>
			<p class="source-code">    ],</p>
			<p class="source-code">  },</p>
			<p class="source-code">];</p>
			<p>The preceding <a id="_idIndexMarker040"/>example <a id="_idIndexMarker041"/>defines that all routes under <strong class="source-inline">'/'</strong> will <a id="_idIndexMarker042"/>have a default header, which<a id="_idIndexMarker043"/> is a component located in the <strong class="source-inline">src/layouts</strong> folder.</p>
			<p>The header component should look like this:</p>
			<p class="source-code">import React from 'react';</p>
			<p class="source-code">import styles from './index.less';</p>
			<p class="source-code">export default function (props: { children: React.ReactChild }) {</p>
			<p class="source-code">  return (</p>
			<p class="source-code">    &lt;div className={styles.layout}&gt;</p>
			<p class="source-code">      &lt;header className={styles.header}&gt;</p>
			<p class="source-code">        &lt;h1&gt;Umi App&lt;/h1&gt;</p>
			<p class="source-code">      &lt;/header&gt;</p>
			<p class="source-code">      <strong class="bold">{props.children}</strong></p>
			<p class="source-code">    &lt;/div&gt;</p>
			<p class="source-code">  );</p>
			<p class="source-code">}</p>
			<p><strong class="source-inline">props.children</strong> will<a id="_idIndexMarker044"/> receive<a id="_idIndexMarker045"/> the components when you<a id="_idIndexMarker046"/> access a defined route.</p>
			<p>Another option we have is to <a id="_idIndexMarker047"/>redirect routes. Consider the following example:</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">routes.ts</p>
			<p class="source-code">export default [</p>
			<p class="source-code">  {</p>
			<p class="source-code">    path: '/',</p>
			<p class="source-code">    <strong class="bold">redirect: '/app/login',</strong></p>
			<p class="source-code">  },</p>
			<p class="source-code">  {</p>
			<p class="source-code">    path: '/app',</p>
			<p class="source-code">    component: '@/layouts/Header',</p>
			<p class="source-code">    routes: [</p>
			<p class="source-code">      { path: <strong class="bold">'/app/login'</strong>, component: '@/pages/Login' },</p>
			<p class="source-code">      { path: '/app/home', component: '@/pages/Home' },</p>
			<p class="source-code">    ],</p>
			<p class="source-code">  },</p>
			<p class="source-code">];</p>
			<p>With this configuration, when you access <strong class="source-inline">http://localhost:8000/</strong>, Umi will immediately redirect the page to <strong class="source-inline">http://localhost:8000/app/login</strong>.</p>
			<p>We can also<a id="_idIndexMarker048"/> define whether a<a id="_idIndexMarker049"/> path should be exact or not:</p>
			<p class="source-code">{</p>
			<p class="source-code">   <strong class="bold">exact: false,</strong></p>
			<p class="source-code">   path: '/app/login',</p>
			<p class="source-code">   component: '@/pages/Login',</p>
			<p class="source-code">}</p>
			<p>This configuration<a id="_idIndexMarker050"/> defines that you can access this page in any path under <strong class="source-inline">/app/login</strong>, such as <strong class="source-inline">http://localhost:8000/app/login/user</strong>. By default, all paths are exact.</p>
			<p>You now understand how<a id="_idIndexMarker051"/> the routing system works and the different configuration options we have for routing. Now, you will learn how to access path and query string parameters and about conventional routing and navigating between pages.</p>
			<h2 id="_idParaDest-24"><a id="_idTextAnchor024"/>Understanding path parameters and query strings</h2>
			<p>Sometimes we need to identify a resource in the route path. Imagine we have a page in our project that only displays product information. When accessing this page, we need to specify what product to get <a id="_idIndexMarker052"/>information from. We can do that by identifying the <a id="_idIndexMarker053"/>product ID in the route path:</p>
			<p class="source-code">{</p>
			<p class="source-code">  path: <strong class="bold">'/product/:id'</strong>,</p>
			<p class="source-code">  component: '@/pages/Product',</p>
			<p class="source-code">},</p>
			<p>If the parameter is not mandatory to access the page, you must add the <strong class="source-inline">?</strong> character, like this: <strong class="source-inline">/product/:id?</strong>.</p>
			<p>To access the product ID, we can use the <strong class="source-inline">useParams</strong> hook provided by Umi:</p>
			<p class="source-code"><strong class="bold">import { useParams } from 'umi';</strong></p>
			<p class="source-code">export default function Page() {</p>
			<p class="source-code">  <strong class="bold">const { id } = useParams&lt;{ id: string }&gt;();</strong></p>
			<p>You can also receive query string parameters after the route. Query string parameters are key-value pairs in the <strong class="source-inline">?</strong> character sequence in a URL, such as this example: <strong class="source-inline">/app/home?code=eyJhbGci</strong>. Here, <strong class="source-inline">code</strong> contains the value <strong class="source-inline">eyJhbGci</strong>.</p>
			<p>We don't have a specific hook to <a id="_idIndexMarker054"/>access query string parameter values, but we<a id="_idIndexMarker055"/> can easily do that using umi history:</p>
			<p class="source-code"><strong class="bold">import { history } from 'umi';</strong></p>
			<p class="source-code">export default function Page() {</p>
			<p class="source-code">  <strong class="bold">const { query } = history.location;</strong></p>
			<p class="source-code">  <strong class="bold">const { code } = query as { code: string };</strong></p>
			<p>Now, let's see how you can define parameters when working with conventional routing. </p>
			<h2 id="_idParaDest-25"><a id="_idTextAnchor025"/>Conventional routing</h2>
			<p>UmiJS offers an automatic route <a id="_idIndexMarker056"/>configuration based on your project structure under the <strong class="source-inline">pages</strong> folder. UmiJS will rely on that if it can't find route definitions in the <strong class="source-inline">config.ts</strong> or <strong class="source-inline">.umirc.ts</strong> files.</p>
			<p>If you want to configure a route parameter, you can name the file enclosed in <strong class="source-inline">[]</strong>, like this: <strong class="source-inline">[id].tsx</strong>. If this parameter is not mandatory to access the page, you must add the <strong class="source-inline">$</strong> character, like this: <strong class="source-inline">[id$].tsx</strong>.</p>
			<div>
				<div id="_idContainer011" class="IMG---Figure">
					<img src="image/Figure_1.06_B18503.jpg" alt="Figure 1.6 – Optional route parameter in conventional routing&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.6 – Optional route parameter in conventional routing</p>
			<p>Next, you will see how to navigate between pages.</p>
			<h2 id="_idParaDest-26"><a id="_idTextAnchor026"/>Navigating between pages</h2>
			<p>When we need to set navigation<a id="_idIndexMarker057"/> between pages, usually, we use the DOM history object and anchor tag. In UmiJS, we have similar options<a id="_idIndexMarker058"/> to navigate: <strong class="bold">umi history</strong> and the <strong class="source-inline">Link</strong> component.</p>
			<p>You can create hyperlinks between pages using the <strong class="source-inline">Link</strong> component, as in the following example:</p>
			<p class="source-code"><strong class="bold">import { Link } from 'umi';</strong></p>
			<p class="source-code">export default function Page() {</p>
			<p class="source-code">  return (</p>
			<p class="source-code">    &lt;div&gt;</p>
			<p class="source-code">      <strong class="bold">&lt;Link to="/app/home"&gt;Go Home&lt;/Link&gt;</strong></p>
			<p class="source-code">    &lt;/div&gt;</p>
			<p class="source-code">  );</p>
			<p class="source-code">}</p>
			<p>You can also set navigation between pages using the <strong class="source-inline">push()</strong> umi history command, as in the following example:</p>
			<p class="source-code"><strong class="bold">import { history } from 'umi';</strong></p>
			<p class="source-code">export default function Page() {</p>
			<p class="source-code">  const goHome = () =&gt; {</p>
			<p class="source-code">    <strong class="bold">history.push('/app/home');</strong></p>
			<p class="source-code">  };</p>
			<p class="source-code">  return (</p>
			<p class="source-code">    &lt;div&gt;</p>
			<p class="source-code">      &lt;button onClick={goHome}&gt;&lt;/button&gt;</p>
			<p class="source-code">    &lt;/div&gt;</p>
			<p class="source-code">  );</p>
			<p class="source-code">}</p>
			<p>In addition<a id="_idIndexMarker059"/> to the <strong class="source-inline">push()</strong> command, umi history has the <strong class="source-inline">goBack()</strong> command to revert one page in the history stack and <strong class="source-inline">goForward()</strong> to advance one page.</p>
			<p>We have covered all the essential aspects of the Umi routing system, the different options to configure routes, access path and query string parameters, and navigation between pages.</p>
			<p>Before finishing this chapter, I will introduce an exciting feature Umi provides if you prefer to interact with the project visually.</p>
			<h1 id="_idParaDest-27"><a id="_idTextAnchor027"/>Using Umi UI</h1>
			<p>Umi UI is <a id="_idIndexMarker060"/>a visual extension of Umi to interact with the project. You can run commands to install dependencies, verify and test code, build the project, and add components through a graphical user interface. </p>
			<p>Before using Umi UI, we need to add the <strong class="source-inline">@umijs/preset-ui</strong> package. You can do that by running the following command:</p>
			<p class="source-code">$ yarn add @umijs/preset-ui -D </p>
			<p>Now, when you start the project, you should see the following console log:</p>
			<div>
				<div id="_idContainer012" class="IMG---Figure">
					<img src="image/Figure_1.07_B18503.jpg" alt="Figure 1.7 – Umi UI starting log&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.7 – Umi UI starting log</p>
			<p>Navigate<a id="_idIndexMarker061"/> to <strong class="source-inline">http://localhost:8000</strong>, and you will notice that the UmiJS logo appears in a bubble in the bottom-right corner. Clicking on this bubble will open Umi UI (you can also access Umi UI at <strong class="source-inline">http://localhost:3000</strong>).</p>
			<div>
				<div id="_idContainer013" class="IMG---Figure">
					<img src="image/Figure_1.08_B18503.jpg" alt="Figure 1.8 – Umi UI bubble in the bottom-right corner&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.8 – Umi UI bubble in the bottom-right corner</p>
			<p>Let's see what we can do <a id="_idIndexMarker062"/>using Umi UI, beginning with <strong class="bold">tasks</strong>:</p>
			<ul>
				<li><strong class="bold">BUILD</strong>: This option will create the application bundle in the <strong class="source-inline">dist</strong> folder. You can also click on <strong class="bold">ENVS</strong> to select compilation options, such as CSS compression.</li>
				<li><strong class="bold">LINT</strong>: This option will execute linters in your project. You need to configure the <strong class="source-inline">lint</strong> script to use this option.</li>
				<li><strong class="bold">TEST</strong>: This option will test the project. You need to write tests first.</li>
				<li><strong class="bold">INSTALL</strong>: This option will install all project dependencies.</li>
			</ul>
			<p>The following <a id="_idIndexMarker063"/>screenshot shows the Umi UI Task tab:</p>
			<div>
				<div id="_idContainer014" class="IMG---Figure">
					<img src="image/Figure_1.09_B18503.jpg" alt="Figure 1.9 – Umi UI Task tab&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.9 – Umi UI Task tab</p>
			<p>Next, let's add Ant Design components to our project. </p>
			<h2 id="_idParaDest-28"><a id="_idTextAnchor028"/>Adding Ant Design components</h2>
			<p><strong class="bold">Ant Design</strong> is a design<a id="_idIndexMarker064"/> system created by Ant Financial's user experience design team to meet the high demands of enterprise application development and fast changes in these applications. They also created a React UI library of components for building interfaces.</p>
			<p>In the <strong class="bold">Assets</strong> tab, we can <a id="_idIndexMarker065"/>add Ant Design components to our pages as blocks:</p>
			<div>
				<div id="_idContainer015" class="IMG---Figure">
					<img src="image/Figure_1.10_B18503.jpg" alt="Figure 1.10 – Umi UI Preview Demo button&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.10 – Umi UI Preview Demo button</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">The Umi UI <strong class="bold">Assets</strong> tab is almost entirely in Chinese at the moment. Still, you can always refer to the Ant Design documentation by clicking on <strong class="bold">Preview Demo</strong> and changing the website language to English.</p>
			<p>Let's add a login form to<a id="_idIndexMarker066"/> experiment with this feature:</p>
			<ol>
				<li value="1">Navigate to <strong class="source-inline">http://localhost:8000</strong> and open the Umi UI <strong class="bold">Assets</strong> tab.</li>
				<li>Click on <strong class="bold">Add</strong> in the <strong class="bold">form-login box</strong> component.</li>
			</ol>
			<div>
				<div id="_idContainer016" class="IMG---Figure">
					<img src="image/Figure_1.11_B18503.jpg" alt="Figure 1.11 – form-login box component Add button&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.11 – form-login box component Add button</p>
			<ol>
				<li value="3">Select the<a id="_idIndexMarker067"/> second area by clicking on <strong class="bold">+ Add to here</strong>.</li>
			</ol>
			<div>
				<div id="_idContainer017" class="IMG---Figure">
					<img src="image/Figure_1.12_B18503.jpg" alt="Figure 1.12 – Selecting where to add the component&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.12 – Selecting where to add the component</p>
			<ol>
				<li value="4">Now, in the <strong class="bold">Variable Name</strong> field, type <strong class="source-inline">LoginForm</strong>, make sure the package manager client selected is <strong class="bold">yarn</strong>, and click on <strong class="bold">OK</strong>.</li>
			</ol>
			<div>
				<div id="_idContainer018" class="IMG---Figure">
					<img src="image/Figure_1.13_B18503.jpg" alt="Figure 1.13 – Add Block options&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.13 – Add Block options</p>
			<p>Wait until the block<a id="_idIndexMarker068"/> is added and we are done. Umi UI will reload the page, and the component is already there!</p>
			<p>If you want, you can add some styles to the login page, as follows:</p>
			<ol>
				<li value="1">Add this code to the <strong class="bold">Login</strong> page's <strong class="source-inline">index.less</strong> file:<p class="source-code">.container {</p><p class="source-code">  display: flex;</p><p class="source-code">  flex-direction: column;</p><p class="source-code">  align-items: center;</p><p class="source-code">}</p></li>
				<li>Add the <strong class="source-inline">container</strong> CSS class to the login component:<p class="source-code">import React from 'react';</p><p class="source-code">import styles from './index.less';</p><p class="source-code">import LoginForm from './LoginForm';</p><p class="source-code">export default function Page() {</p><p class="source-code">  return (</p><p class="source-code">    &lt;div <strong class="bold">className={styles.container}</strong>&gt;</p><p class="source-code">      &lt;h1 className={styles.title}&gt;</p><p class="source-code">        Welcome! Access your account.&lt;/h1&gt;</p><p class="source-code">      &lt;LoginForm /&gt;</p><p class="source-code">    &lt;/div&gt;</p><p class="source-code">  );</p><p class="source-code">}</p></li>
			</ol>
			<p>The result <a id="_idIndexMarker069"/>should look like this:</p>
			<div>
				<div id="_idContainer019" class="IMG---Figure">
					<img src="image/Figure_1.14_B18503.jpg" alt="Figure 1.14 – Login page with login form block&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.14 – Login page with login form block</p>
			<p>And that's it! Now you <a id="_idIndexMarker070"/>know how to use Umi UI to interact with your project. If you like this option, I recommend experimenting with it by adding more components and styling them to get you used to it.</p>
			<h1 id="_idParaDest-29"><a id="_idTextAnchor029"/>Summary</h1>
			<p>In this chapter, you learned how to configure VSCode to work with UmiJS. You learned how to set up a project and organize the UmiJS folder structure. You also learned how to use the Umi CLI to automate tasks and quickly add pages and templates to your project.</p>
			<p>You learned that an UmiJS project is a single-page application and about various configurations to define routes in your project. You learned how to access path parameters and query string parameters. You also learned how UmiJS could automatically configure routes based on the folder convention. You learned about navigation using umi history and the link component. </p>
			<p>Finally, you learned how to install and use Umi UI to interact with your project. You then learned how to execute tasks using Umi UI and add Ant Design components as blocks in your project.</p>
			<p>In the next chapter, you will learn more about Ant Design in a Umi project and how to use it to develop interfaces.</p>
		</div>
	</body></html>