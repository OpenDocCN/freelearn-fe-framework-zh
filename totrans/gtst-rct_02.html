<html><head></head><body>
<div id="page" style="height:0pt"/><div class="book" title="Chapter&#xA0;2.&#xA0;Exploring JSX and the ReactJS Anatomy"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch02" class="calibre1"/>Chapter 2. Exploring JSX and the ReactJS Anatomy</h1></div></div></div><p class="calibre7">In this chapter, you are going to explore the JSX syntax and learn what it is and why it makes it easier for us to understand UI components. You will learn about the ReactJS anatomy and code some common scenarios in order to demonstrate this efficient syntax so that we can step forward in next chapters and build a full application. This chapter will walk you through the following topics:</p><div class="book"><ul class="itemizedlist"><li class="listitem">What is JSX?</li><li class="listitem">The ReactJS anatomy</li><li class="listitem">JSX Gotchas</li></ul></div></div>

<div class="book" title="Chapter&#xA0;2.&#xA0;Exploring JSX and the ReactJS Anatomy">
<div class="book" title="What is JSX?"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_1"><a id="ch02lvl1sec13" class="calibre1"/>What is JSX?</h1></div></div></div><p class="calibre7"><span class="strong"><strong class="calibre8">JSX</strong></span> is a <a id="id50" class="calibre1"/>JavaScript syntax extension that looks similar to XML. It is used to build UI components in ReactJS. It's very similar to HTML with some subtle differences. JSX extends JavaScript in such a way that you can easily build ReactJS components with the same understanding as building HTML pages. It's commonly mixed with your JavaScript code because ReactJS thinks about UI in a different way. This paradigm will be explained later in the chapter.</p><p class="calibre7">It's wrong to say that you are mixing up your HTML with JavaScript. As already said, JSX extends JavaScript. Actually, you're not writing HTML tags, but you're writing JavaScript objects in the JSX syntax. Of course, it has to be transformed into plain JavaScript first.</p><p class="calibre7">When you write this example:</p><div class="informaltable"><pre class="programlisting">var HelloWorld = React.createClass({
  render: function () {
    return &lt;h1&gt;Hello World from Learning ReactJS&lt;/h1&gt;;
  }
});</pre></div><p class="calibre7">It's transformed into this:</p><div class="informaltable"><pre class="programlisting">var HelloWorld = React.createClass({
  render: function () {
    return React.createElement('h1', null, "Hello World from Learning ReactJS");  }
});</pre></div><p class="calibre7">This transformer script file detects JSX notations and transforms them into plain JavaScript notations. These scripts and tools should never be placed in a production environment because it would be painful for the server to transform the script on every request. For the production environment, we should provide the transformed file. We will be covering that process later in this chapter.</p><p class="calibre7">As discussed in <a class="calibre1" title="Chapter 1. Getting Started with ReactJS" href="part0015_split_000.html#page">Chapter 1</a>, <span class="strong"><em class="calibre12">Getting Started with ReactJS</em></span>, note the following:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><code class="literal">ReactElement</code> is the primary API of React. ReactElement has four properties: <code class="literal">type</code>, <code class="literal">props</code>, <code class="literal">key</code>, and <code class="literal">ref</code>.</li><li class="listitem">ReactElement has no methods of itself, and nothing has been defined on the prototype also.</li><li class="listitem">ReactElement objects can be created by calling the <code class="literal">React.createElement</code> method.</li><li class="listitem">In the highlighted code mentioned earlier, we can see that the first argument for the <code class="literal">React.createElement</code> method is creating an <code class="literal">h1</code> element, with properties being passed as null and the actual content of the <code class="literal">h1</code> element being the string <code class="literal">Hello World from Learning ReactJS</code></li><li class="listitem">ReactElements are passed into DOM in order to create a new tree in DOM.</li><li class="listitem">ReactElements are named virtual DOM and are not the same as DOM elements. Details of virtual DOM will be discussed in later chapters.</li><li class="listitem">As per<a id="id51" class="calibre1"/> the official React documentation (<a class="calibre1" href="https://facebook.github.io/react/docs/glossary.html">https://facebook.github.io/react/docs/glossary.html</a>), "ReactElement is a light, stateless, immutable, virtual representation of a DOM Element".</li></ul></div><p class="calibre7">Let's check our previous example again when we didn't use the JSX syntax:</p><div class="informaltable"><pre class="programlisting">React.createElement('h1', null, "Hello World from Learning ReactJS");</pre></div><p class="calibre7">This code is creating an <code class="literal">h1</code> element. Think about it being like creating an element through JavaScript with the <code class="literal">document.createElement()</code> function, which makes the code very readable.</p><p class="calibre7">JSX is not mandatory, but it's highly recommended. It is painful to create large and complex components using JavaScript. For example, if we want to create nested elements using JSX, we would need to do the following:</p><div class="informaltable"><pre class="programlisting">var CommentList = React.createClass({
  render: function() {
    return (
        &lt;ul&gt;
            &lt;li&gt;ReactJS&lt;/li&gt;
            &lt;li&gt;JSX&lt;/li&gt;
            &lt;li&gt;
                &lt;input type="text" /&gt;
                &lt;button&gt;Add&lt;/button&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    );
  }
});</pre></div><p class="calibre7">However, using plain JavaScript ReactJS objects, it would look like this:</p><div class="informaltable"><pre class="programlisting">var CommentList = React.createClass({displayName: "CommentList",
  render: function() {
    return (
        React.createElement("ul", null, 
            React.createElement("li", null, "ReactJS"), 
            React.createElement("li", null, "JSX"), 
            React.createElement("li", null, 
                React.createElement("input", {type: "text"}), 
                React.createElement("button", null, "Add")
            )
        )
    );
  }
});</pre></div><p class="calibre7">We can see a big scary component that might grow in case of more complex logic. Such complex components are difficult to maintain and understand.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Why JSX?"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch02lvl1sec14" class="calibre1"/>Why JSX?</h1></div></div></div><p class="calibre7">In <a id="id52" class="calibre1"/>general, HTML and JavaScript are segregated in frameworks by defining UI or a view to represent their mutable data, which normally is a template language and/or a display logic interpreter. The following is some jQuery code:</p><div class="informaltable"><pre class="programlisting">&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Just an example&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="my-awesome-app"&gt;
      &lt;!-- Here go my rendered template --&gt;
    &lt;/div&gt;
    
    &lt;script id="my-list" type="text/html"&gt;
      &lt;ul&gt;
        {{each items}}
          &lt;li&gt;
            ${name}
          &lt;/li&gt;
        {{/each}}
      &lt;/ul&gt;
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre></div><p class="calibre7">The <code class="literal">script</code> element represents a template component that will be rendered in the <code class="literal">my-awesome-app div</code> element. The code here is a JavaScript file that pushes data to that template and asks jQuery to do the job and render the UI:</p><div class="informaltable"><pre class="programlisting">$("#my-list").tmpl(serverData).appendTo("#my-my-awesome-app");</pre></div><p class="calibre7">Whenever you want to put some display logic on that code, you will need to rely on both JavaScript and HTML files. In other words, a single component is a mix of files—normally, a JavaScript file that controls the view, a template/markup file representing the view, and a model/service that fetches data from the server and sends it to the view. Typically in an MVC application, the logic of M(model), V(view), and C(controller) are separated in order to provide the separation of concern and better readability and maintenance of the code.</p><p class="calibre7">Let's say that we now have to change this view and need to hide the list when the user is not logged in. Considering that the model/service code is already bringing this information, we'll have to change both the code that controls the view and the markup one in order to apply those changes. Harder the change is, more painful it is to apply those changes. Our code ends up in big JavaScript and HTML files, mixed up with display logic, template expressions, and business code.</p><p class="calibre7">Although you are an experienced frontend developer, apply some separation of concerns, and split your UI into smaller views, you end up with hundreds of files just to represent a single piece of UI: view controller, HTML template, style sheet, and your model. It makes a small application look complex with that amount of files, and you'll certainly get messy wondering which file is part of a specific view or component.</p><p class="calibre7">The thing we want to show here is that we've been mixing markup and logic code since the beginning, but other than that, we've also been splitting them into other files, making it more difficult to find and to modify them.</p><p class="calibre7">ReactJS with JSX drives you in the other way. There is a really interesting paragraph in the ReactJS official <a id="id53" class="calibre1"/>page that honestly reasons this powerful library and its paradigm:</p><div class="blockquote"><blockquote class="blockquote1"><p class="calibre23"><span class="strong"><em class="calibre12">"We strongly believe that components are the right way to separate concerns rather than "templates" and "display logic." We think that markup and the code that generates it are intimately tied together. Additionally, display logic is often very complex and using template languages to express it becomes cumbersome. (<a class="calibre1" href="http://facebook.github.io/react/docs/displaying-data.html#jsx-syntax">http://facebook.github.io/react/docs/displaying-data.html#jsx-syntax</a>)</em></span></p></blockquote></div><p class="calibre7">We like to think of ReactJS components as a single source of truth. All other locations that use your component will be just references. Every change you apply to the original one will be propagated to all other places referencing it. Customization is easily done through properties and child componentization. JSX is like a middleware that converts your markup code to objects where ReactJS can handle them.</p><p class="calibre7">JSX speeds up the frontend development in ReactJS. Instead of creating literal objects to represent your UI, you create XML-like elements very similar to HTML, and you can even reference other components that you've created. Also, it's very straightforward to reuse third-party components or even publish your own. In a corporate environment, you could have a commonly used components repository that other projects can import from.</p></div>

<div class="book" title="Why JSX?">
<div class="book" title="Tools for transforming JSX"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch02lvl2sec17" class="calibre1"/>Tools for transforming JSX</h2></div></div></div><p class="calibre7">The JSX<a id="id54" class="calibre1"/> Transformer file and other tools, as already mentioned, are responsible<a id="id55" class="calibre1"/> for transforming your JSX syntax into plain JavaScript. The ReactJS team and the community provide some tools for that. Such tools can deal with any kind of file since they have JavaScript code and JSX syntax. In older versions of React, a comment was required on the first line of <code class="literal">.js</code> files such as <code class="literal">/** @jsx React.DOM */</code>. Thankfully, this was removed after version 0.12.</p><p class="calibre7">JSX<a id="id56" class="calibre1"/> Transformer has been deprecated now. Instead, we can use <a class="calibre1" href="https://babeljs.io/repl/">https://babeljs.io/repl/</a> to compile the JSX syntax into JavaScript. To include JSX in your script tag, either use <code class="literal">&lt;script type="text/jsx"&gt;</code> or while transforming, use <code class="literal">babel</code></p><div class="informaltable"><pre class="programlisting">&lt;script type="text/babel"&gt;.</pre></div><p class="calibre7">Earlier there<a id="id57" class="calibre1"/> was an online tool at <a class="calibre1" href="http://facebook.github.io/react/jsx-compiler.html">http://facebook.github.io/react/jsx-compiler.html</a>. However, the React developer team discontinued it, and JSX Transformer has been deprecated.</p><p class="calibre7">Since such JSX transformation would take a substantial computation at the client side, we should <span class="strong"><em class="calibre12">not</em></span> be doing these transformations in production environments. Instead, we should use:</p><div class="informaltable"><pre class="programlisting">
<span class="strong"><strong class="calibre8">npm install -g bab</strong></span>
<span class="strong"><strong class="calibre8">el-cli</strong></span>
</pre></div><div class="mediaobject"><img src="../images/00004.jpeg" alt="Tools for transforming JSX" class="calibre9"/></div><p class="calibre10"> </p><p class="calibre7">We can also use the node <code class="literal">npm</code> package that the ReactJS team built to transform your JSX files. First, you need to install the <code class="literal">react-tools</code> NPM package with:</p><div class="informaltable"><pre class="programlisting">
<span class="strong"><strong class="calibre8">npm install react-tools –g</strong></span>
</pre></div><p class="calibre7">This will install <code class="literal">react-tools</code> globally. All you need now is to run the following command from your project folder:</p><div class="informaltable"><pre class="programlisting">
<span class="strong"><strong class="calibre8">jsx --watch src/ build/</strong></span>
</pre></div><p class="calibre7">This command <a id="id58" class="calibre1"/>transforms every script in the <code class="literal">src</code> folder and puts it in the <code class="literal">build</code> folder. The <code class="literal">watch</code> parameter makes this tool run the same command<a id="id59" class="calibre1"/> every time a file changes in the <code class="literal">src</code> folder. This is a very useful tool because you're using node to bundle your frontend code.</p><p class="calibre7">If you're familiar with task runner tools such as Grunt or Gulp, they also have JSX transformer packages that can be installed with <code class="literal">npm</code> as well. In this case, they provide more options that can fit better in our deployment/building process, mainly if you already use one of them. It's not the purpose of this book to dive into Grunt or Gulp. In order to configure and install them, you can follow their guidelines in the following links: Details of these are covered <a id="id60" class="calibre1"/>in <a class="calibre1" title="Chapter 9. Preparing Your Code for Deployment" href="part0053_split_000.html#page">Chapter 9</a>, <span class="strong"><em class="calibre12">Preparing Your Code for Deployment</em></span>.</p><div class="book"><ul class="itemizedlist"><li class="listitem">Grunt – <a class="calibre1" href="https://www.gruntjs.com">https://www.gruntjs.com</a></li><li class="listitem">Gulp – <a class="calibre1" href="https://www.gulpjs.com">https://www.gulpjs.com</a></li></ul></div><p class="calibre7">Both <a id="id61" class="calibre1"/>sites have a <a class="calibre1" href="http:///plugins">/plugins</a> page where you can search for available plugins. The following are the links of these download tools:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Grunt React task—<a class="calibre1" href="https://www.npmjs.com/package/grunt-react">https://www.npmjs.com/package/grunt-react</a></li><li class="listitem">Gulp React task—<a class="calibre1" href="https://www.npmjs.com/package/gulp-react/">https://www.npmjs.com/package/gulp-react/</a></li></ul></div><p class="calibre7">They<a id="id62" class="calibre1"/> work much the same as do the React tools. We are <a id="id63" class="calibre1"/>going to use the <code class="literal">transformer</code> script file that is placed in <code class="literal">head</code> the element of our HTML page for the next examples, as this is easier to do. In <a class="calibre1" title="Chapter 9. Preparing Your Code for Deployment" href="part0053_split_000.html#page">Chapter 9</a>, <span class="strong"><em class="calibre12">Preparing Your Code for Deployment</em></span>, we are going to use <code class="literal">webpack</code> and <code class="literal">gulp</code> as the <code class="literal">npm</code> packages to transform our JSX code and prepare it for deployment.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="The ReactJS anatomy"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch02lvl1sec15" class="calibre1"/>The ReactJS anatomy</h1></div></div></div><p class="calibre7">Before<a id="id64" class="calibre1"/> going any further into JSX, we need to understand some basic rules to build ReactJS components. First, we're going to detail the basic methods that you've already used to create and render components. Then, we'll move to some rules to create them, and finally, we'll talk about children components.</p></div>

<div class="book" title="The ReactJS anatomy">
<div class="book" title="Creating a component"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch02lvl2sec18" class="calibre1"/>Creating a component</h2></div></div></div><p class="calibre7">In order to <a id="id65" class="calibre1"/>create a component, we need to use the <code class="literal">React.createClass</code> function. ReactJS components are basically classes. This method returns a ReactJS component definition that has a method named <code class="literal">render</code>, which is mandatory to implement. There are many other methods to configure your component and change its behavior that we are going to cover throughout the book.</p><p class="calibre7">This is an example of how to use the <code class="literal">createClass</code> and <code class="literal">render</code> method:</p><div class="informaltable"><pre class="programlisting">var HelloMessage = React.createClass({
  render: function() {
    return (
      &lt;h1&gt;Have a good day!&lt;/h1&gt;
    );
  }
});</pre></div><div class="informaltable" title="Note"><h3 class="title2"><a id="note03" class="calibre1"/>Note</h3><p class="calibre7">It's a good practice to name all the classes and components in PascalCase. In addition to being a common pattern in JavaScript, it also helps to distinguish them from other variables.</p></div></div></div>

<div class="book" title="The ReactJS anatomy">
<div class="book" title="Rendering a component"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch02lvl2sec19" class="calibre1"/>Rendering a component</h2></div></div></div><p class="calibre7">Once you <a id="id66" class="calibre1"/>have your component definition, as seen in our last example, the <code class="literal">HelloMessage</code> component, we can render it with the render method of <code class="literal">ReactJS</code>. It requires the component definition and the target location, where the component will be rendered. Let's demonstrate this with the following:</p><div class="informaltable"><pre class="programlisting">React.render(&lt;HelloMessage /&gt;, document.body);</pre></div><p class="calibre7">In the code mentioned earlier, you could change <code class="literal">document.body</code> with any other element in your page. For example, you could use the <code class="literal">document</code> object method <code class="literal">document.getElementById('id') </code>to find an element by its ID or any other helper that returns a DOM element. In the specific ID of the DOM (<code class="literal">id</code> in this case), the React component will be rendered.</p></div></div>

<div class="book" title="The ReactJS anatomy">
<div class="book" title="Maximum number of roots"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch02lvl2sec20" class="calibre1"/>Maximum number of roots</h2></div></div></div><p class="calibre7">It's not <a id="id67" class="calibre1"/>possible to return more than one element <a id="id68" class="calibre1"/>in the <code class="literal">render</code> method. Not for now, as they say in official ReactJS docs at <a class="calibre1" href="http://facebook.github.io/react/tips/maximum-number-of-jsx-root-nodes.html">http://facebook.github.io/react/tips/maximum-number-of-jsx-root-nodes.html</a>:</p><div class="informaltable"><pre class="programlisting">var HelloMessage = React.createClass({
  render: function() {
    return (
      &lt;h1&gt;Have a good day!&lt;/h1&gt;
      &lt;h2&gt;This is going to BREAK!&lt;/h2&gt;

    );
  }
});</pre></div><p class="calibre7">The ReactJS library will throw a strange error that doesn't address clearly that you have more than one element being rendered. Therefore, take care to not do this; otherwise, you can get stuck trying to find the problem.</p><p class="calibre7">When you have more than one element being represented by a ReactJS component, you must wrap them in a single parent element. The next example demonstrates this:</p><div class="informaltable"><pre class="programlisting">var HelloMessage = React.createClass({
  render: function() {
    return (
      &lt;div&gt;
        &lt;h1&gt;Have a good day!&lt;/h1&gt;
        &lt;h2&gt;This is NOT going to BREAK!&lt;/h2&gt;
      &lt;/div&gt;
    );
  }
});</pre></div><p class="calibre7">You can use whichever valid HTML element you want that supports children elements. It is also possible to render a custom ReactJS component that has children support (more about this in the next section).</p><p class="calibre7">This is one of the reasons to choose a good text editor and a good linter/lint package that can watch your code and warn you whenever you make a mistake.</p></div></div>

<div class="book" title="The ReactJS anatomy">
<div class="book" title="Children components"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch02lvl2sec21" class="calibre1"/>Children components</h2></div></div></div><p class="calibre7">If there<a id="id69" class="calibre1"/> is a really necessary thing when you talk about creating reusable user interfaces, it has to do with nesting components. This way you can better structure and separate concerns of your application. It's a pretty common thing to do on web world as well, as HTML has this feature built-in. As you could see in the last section and earlier examples of this book, ReactJS supports this feature as well and JSX syntax makes it very straightforward.</p><p class="calibre7">Let's say that you have a <code class="literal">Header</code> component and you want to place other components inside. ReactJS allows this and includes support for placing other ReactJS components:</p><div class="informaltable"><pre class="programlisting">var Header = React.createClass({
  render: function () {
    return (
      &lt;nav&gt;
        &lt;h1&gt;This is my awesome app&lt;/h1&gt;
        {this.props.children}
      &lt;/nav&gt;
    );
  }
});

var Clock = React.createClass({
  render: function () {
    return &lt;span&gt;{new Date().toLocaleTimeString()}&lt;/span&gt;;
  }
});

var ComponentThatHasHeader = React.createClass({
  render: function () {
    return(
      &lt;Header&gt;
        &lt;h2&gt;This is my another component&lt;/h2&gt;
        &lt;Clock /&gt;
      &lt;/Header&gt;
    );
  }
});

React.render(&lt;ComponentThatHasHeader /&gt;, document.body);</pre></div><p class="calibre7">You can use either built-in components, such as <code class="literal">h2</code>, or custom components, such as the <code class="literal">Clock</code> component, described here. In this example, the expression <code class="literal">{this.props.children}</code> will be considered as a JavaScript array. If there was a single component like the one mentioned later, it will be addressed as a JavaScript object instead of an array. This saves array allocation, but we should be careful and not try to iterate it or check for its length:</p><div class="informaltable"><pre class="programlisting">&lt;Header&gt;
  &lt;Clock /&gt;
&lt;/Header&gt;</pre></div></div></div>

<div class="book" title="The ReactJS anatomy">
<div class="book" title="Supported attributes"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_5"><a id="ch02lvl2sec22" class="calibre1"/>Supported attributes</h2></div></div></div><p class="calibre7">Some <a id="id70" class="calibre1"/>HTML attributes conflict with JavaScript reserved words, and as ReactJS elements are basically JavaScript objects, such attributes have a different name in ReactJS to match the DOM API specification:</p><div class="book"><ul class="itemizedlist"><li class="listitem">The class is <code class="literal">className</code></li><li class="listitem"><code class="literal">for</code> is <code class="literal">htmlFor</code></li><li class="listitem">Custom attributes, such as <code class="literal">data-*</code> and <code class="literal">aria-*</code>, are supported by ReactJS. There is an official list of HTML attributes supported, as follows:<div class="informaltable"><table border="1" class="calibre13"><colgroup class="calibre14"><col class="calibre15"/></colgroup><tbody class="calibre20"><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">accept</code> <code class="literal1">acceptCharset</code> <code class="literal1">accessKey</code> <code class="literal1">action</code> <code class="literal1">allowFullScreen</code> <code class="literal1">allowTransparency</code> <code class="literal1">alt</code> <code class="literal1">async</code> <code class="literal1">autoComplete</code> <code class="literal1">autoPlay</code> <code class="literal1">cellPadding</code> <code class="literal1">cellSpacing</code> <code class="literal1">charSet</code> <code class="literal1">checked</code> <code class="literal1">classID</code> <code class="literal1">className</code> <code class="literal1">cols</code> <code class="literal1">colSpan</code> <code class="literal1">content</code> <code class="literal1">contentEditable</code> <code class="literal1">contextMenu</code> <code class="literal1">controls</code> <code class="literal1">coords</code> <code class="literal1">crossOrigin</code> <code class="literal1">data</code> <code class="literal1">dateTime</code> <code class="literal1">defer</code> <code class="literal1">dir</code> <code class="literal1">disabled</code> <code class="literal1">download</code> <code class="literal1">draggable</code> <code class="literal1">encType</code> <code class="literal1">form</code> <code class="literal1">formAction</code> <code class="literal1">formEncType</code> <code class="literal1">formMethod</code> <code class="literal1">formNoValidate</code> <code class="literal1">formTarget</code> <code class="literal1">frameBorder</code> <code class="literal1">height</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">hidden</code> <code class="literal1">href</code> <code class="literal1">hrefLang</code> <code class="literal1">htmlFor</code> <code class="literal1">httpEquiv</code> <code class="literal1">icon</code> <code class="literal1">id</code> <code class="literal1">label</code> <code class="literal1">lang</code> <code class="literal1">list</code> <code class="literal1">loop</code> <code class="literal1">manifest</code> <code class="literal1">marginHeight</code> <code class="literal1">marginWidth</code> <code class="literal1">max</code> <code class="literal1">maxLength</code> <code class="literal1">media</code> <code class="literal1">mediaGroup</code> <code class="literal1">method</code> <code class="literal1">min</code> <code class="literal1">multiple</code> <code class="literal1">muted</code> <code class="literal1">name</code> <code class="literal1">noValidate</code> <code class="literal1">open</code> <code class="literal1">pattern</code> <code class="literal1">placeholder</code> <code class="literal1">poster</code> <code class="literal1">preload</code> <code class="literal1">radioGroup</code> <code class="literal1">readOnly</code> <code class="literal1">rel</code> <code class="literal1">required</code> <code class="literal1">role</code> <code class="literal1">rows</code> <code class="literal1">rowSpan</code> <code class="literal1">sandbox</code> <code class="literal1">scope</code> <code class="literal1">scrolling</code> <code class="literal1">seamless</code> <code class="literal1">selected</code> <code class="literal1">shape</code> <code class="literal1">size</code> <code class="literal1">sizes</code> <code class="literal1">span</code> <code class="literal1">spellCheck</code> <code class="literal1">src</code> <code class="literal1">srcDoc</code> <code class="literal1">srcSet</code> <code class="literal1">start</code> <code class="literal1">step</code> <code class="literal1">style</code> <code class="literal1">tabIndex</code> <code class="literal1">target</code> <code class="literal1">title</code> <code class="literal1">type</code> <code class="literal1">useMap</code> <code class="literal1">value</code> <code class="literal1">width</code> <code class="literal1">wmode</code></p>
</td></tr></tbody></table></div></li></ul></div><p class="calibre7">At the<a id="id71" class="calibre1"/> time of writing this book, this is available at <a class="calibre1" href="http://facebook.github.io/react/docs/tags-and-attributes.html">http://facebook.github.io/react/docs/tags-and-attributes.html</a>.</p></div></div>

<div class="book" title="The ReactJS anatomy">
<div class="book" title="Supported elements"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_6"><a id="ch02lvl2sec23" class="calibre1"/>Supported elements</h2></div></div></div><p class="calibre7">The <a id="id72" class="calibre1"/>official ReactJS website also provides a list of supported<a id="id73" class="calibre1"/> elements. ReactJS supports mostly all HTML elements. A comprehensive list of all the supported elements are given on their website, <a class="calibre1" href="https://facebook.github.io/react/docs/tags-and-attributes.html">https://facebook.github.io/react/docs/tags-and-attributes.html</a>.</p><div class="book" title="HTML elements"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch02lvl3sec01" class="calibre1"/>HTML elements</h3></div></div></div><p class="calibre7">The <a id="id74" class="calibre1"/>following are the elements that are supported. There are many more to the list as well:</p><div class="informaltable"><table border="1" class="calibre13"><colgroup class="calibre14"><col class="calibre15"/><col class="calibre15"/><col class="calibre15"/><col class="calibre15"/></colgroup><tbody class="calibre20"><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">a</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">abbr </code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">address</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">area</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">article</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">aside</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">audio</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">b</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">base</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">bdi</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">bdo</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">big</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">blockquote</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">body</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">br</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">button</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">canvas</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">caption</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">cite</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">code</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">col</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">colgroup</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">data</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">datalist</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">dd</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">del</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">details</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">dfn</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">dialog</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">div</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">dl</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">dt</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">em</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">embed </code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">footer</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">fieldset</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">figcaption</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">figure</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">form</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">h4</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">h1</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">h2</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">h3</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">h5</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">h6</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">head</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">header</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">hr</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">html</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">i</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">iframe</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">img</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">input</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">ins</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">kbd</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">keygen</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">label</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">legend</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">li</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">link</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">main</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">map</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">mark</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">menu</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">menuitem</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">meta</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">meter</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">nav</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">noscript</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">object</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">ol</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">optgroup</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">option</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">output</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">p</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">param</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">picture</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">pre</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">progress</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">q</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">rp</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">rt</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">ruby</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">s</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">samp</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">script</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">section</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">select</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">small</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">source</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">span</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">strong</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">style</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">sub</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">summary</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">sup</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">table</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">tbody</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">td</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">textarea</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">tfoot</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">thead</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">time</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">tr</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">track</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">u</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">ul</code></p>
</td><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">video</code></p>
</td></tr><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">wbr</code></p>
</td><td valign="top" class="calibre21"> </td><td valign="top" class="calibre21"> </td><td valign="top" class="calibre21"> </td></tr></tbody></table></div></div><div class="book" title="SVG elements"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch02lvl3sec02" class="calibre1"/>SVG elements</h3></div></div></div><p class="calibre7">The<a id="id75" class="calibre1"/> following are some of the supported SVG elements:</p><div class="informaltable"><table border="1" class="calibre13"><colgroup class="calibre14"><col class="calibre15"/></colgroup><tbody class="calibre20"><tr class="calibre17"><td valign="top" class="calibre21">
<p class="calibre19"><code class="literal1">circle</code> <code class="literal1">defs</code> <code class="literal1">ellipse</code> <code class="literal1">g</code> <code class="literal1">line</code> <code class="literal1">linearGradient</code> <code class="literal1">mask</code> <code class="literal1">path</code> <code class="literal1">pattern</code> <code class="literal1">polygon</code> <code class="literal1">polyline</code> <code class="literal1">radialGradient</code> <code class="literal1">rect</code> <code class="literal1">stop</code> <code class="literal1">svg</code> <code class="literal1">text</code> <code class="literal1">tspan</code></p>
</td></tr></tbody></table></div></div></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Learning JSX and Gotchas"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch02lvl1sec16" class="calibre1"/>Learning JSX and Gotchas</h1></div></div></div><p class="calibre7">Now it's <a id="id76" class="calibre1"/>time to master JSX and learn some Gotchas. You're going to learn some basic concepts to build ReactJS UI components using JSX. It includes practices when writing expressions, conditions, and creating lists of components. It will also walk you through how JSX differs from HTML (because it's not HTML) in some aspects.</p></div>

<div class="book" title="Learning JSX and Gotchas">
<div class="book" title="Expressions"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch02lvl2sec24" class="calibre1"/>Expressions</h2></div></div></div><p class="calibre7">Consider <a id="id77" class="calibre1"/>the following code:</p><div class="informaltable"><pre class="programlisting">var Clock = React.createClass({
  render: function () {
    var today = new Date();
    return &lt;h1&gt;The time is { today.toLocaleTimeString() }&lt;/h1&gt;;
  }
});

React.render(&lt;Clock /&gt;, document.body);</pre></div><p class="calibre7">JSX understands the curly braces <code class="literal">{} </code>whenever you want to put JavaScript code within your presentation code.</p><p class="calibre7">In the next example, let's improve our <code class="literal">Clock</code> component by supporting greetings depending on what the time is.</p><p class="calibre7">In the highlighted code mentioned later, if the current hour is lesser than <code class="literal">4</code>, it should return <code class="literal">day</code>, and if the hour is greater than <code class="literal">4</code> but less than <code class="literal">18</code>, it should return <code class="literal">night</code>:</p><div class="informaltable"><pre class="programlisting">var GreetingsClock = React.createClass({
  render: function () {
    var today = new Date();
<span class="strong"><strong class="calibre8">    return &lt;h1&gt;Hey! Have a good { today.getHours() &gt; 4 &amp;&amp; today.getHours() &lt; 18 ? 'day' : 'night' }!&lt;/h1&gt;;</strong></span>
  }
});

React.render(&lt;GreetingsClock /&gt;, document.body);</pre></div><p class="calibre7">As you can see, it's possible to make a ternary within the curly braces. You can place any valid JavaScript code within them. It's more common to create a variable and address it to the result of this expression before rendering your component. This makes your code cleaner and more readable.</p><p class="calibre7">In the next example, we will demonstrate how to render a component based on a condition. There are two components, one for login and the other for the user details. It depends on the fact that if the user is logged in, the user details component will be shown; otherwise, the login one will be rendered. The code to detect whether the user is logged in or not will be skipped, as this is just to demonstrate how to put rendering logic inside ReactJS components using JSX syntax:</p><div class="informaltable"><pre class="programlisting">var loginPane;
if (IsUserLoggedIn) {
  loginPane = &lt;UserDetails /&gt;
} else {
  loginPane = &lt;LoginButton /&gt;
}

React.render(loginPane, document.getElementById('login-div'));</pre></div><p class="calibre7">You can put this code inside a component that contains all other components as children, as demonstrated in the next example:</p><div class="informaltable"><pre class="programlisting">var App = React.createClass({
  render: function () {
    var loginPane;
    if (isUserLoggedIn) {
      loginPane = &lt;UserDetails /&gt;
    } else {
      loginPane = &lt;LoginButton /&gt;
    }
    
    return (
      &lt;nav&gt;
        &lt;Home /&gt;
        {loginPane}
      &lt;/nav&gt;
    )
  }
});

React.render(&lt;App /&gt;, document.body);</pre></div></div></div>

<div class="book" title="Learning JSX and Gotchas">
<div class="book" title="Properties/attributes"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch02lvl2sec25" class="calibre1"/>Properties/attributes</h2></div></div></div><p class="calibre7">Properties <a id="id78" class="calibre1"/>allow you to customize your components, and JSX supports them in a very similar way to HTML elements. You can pass properties to ReactJS elements and get them before rendering the component. This is a very key fundamental of ReactJS, and you're going to learn how to work with them using JSX. In the next chapter, we'll dive into how properties work and discuss good practices on how to use them.</p><p class="calibre7">Consider the following example:</p><div class="informaltable"><pre class="programlisting">var HelloMessage = React.createClass({
  render: function() {
    return (
        &lt;h1&gt;Have a good day {this.props.name}&lt;/h1&gt;
    );
  }
});</pre></div><p class="calibre7">In order to render this component, you have to pass properties to it, just like we do in HTML elements:</p><div class="informaltable"><pre class="programlisting">React.render(&lt;HelloMessage name="reader" /&gt;, document.body);</pre></div><p class="calibre7">You can also use expressions inside properties:</p><div class="informaltable"><pre class="programlisting">React.render(&lt;HelloMessage name={1 + 1} /&gt;, document.body);</pre></div><p class="calibre7">If we don't set the properties (name) required by a component, in our last example, it will be rendered as an empty string. Thus, if there are expressions trying to access that property, then it will throw an error.</p><div class="book" title="Transferring properties"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch02lvl3sec03" class="calibre1"/>Transferring properties</h3></div></div></div><p class="calibre7">Passing<a id="id79" class="calibre1"/> properties throughout your component hierarchy is a very common thing to do in ReactJS. You can think of properties as a way of making your component dynamic, and because you are splitting your components into smaller ones, you need an efficient way to pass incoming configuration and data to them.</p><p class="calibre7">Consider the following nested components:</p><div class="informaltable"><pre class="programlisting">var UserInfo = React.createClass({
  render: function () {
    return (
      &lt;section id="user-section"&gt;
        &lt;h2&gt;{this.props.firstName} {this.props.lastName}&lt;/h2&gt;
        &lt;h3&gt;{this.props.cityName} / {this.props.stateName}&lt;/h3&gt;
      &lt;/section&gt;
    );
  }
});

var App = React.createClass({
  render: function () {
    return (
      &lt;div&gt;
        &lt;h1&gt;My Awesome app!&lt;/h1&gt;
        &lt;UserInfo firstName={this.props.firstName}
                  lastName={this.props.lastName}
                  cityName={this.props.cityName}
                  stateName={this.props.stateName} /&gt;
      &lt;/div&gt;
    );
  }
});

React.render(&lt;App firstName="Learning" 
                  lastName="ReactJS" 
                  cityName="Florianopolis" 
                  stateName="Santa Catarina" /&gt;, document.body);</pre></div><p class="calibre7">As we can see, it's possible to pass properties to child components. If you have lots of properties to pass on, it becomes a tedious task to do and your code will get very messy.</p><p class="calibre7">Fortunately, you can transfer them in a fancy way that JSX provides us. All you're going to do is to change your <code class="literal">App</code> component, so it can pass all its properties on that were received by the <code class="literal">React.render</code> function. This is done using the spread operator <code class="literal">{...this.props}</code> notation that JSX understands. The following is an example explaining this:</p><div class="informaltable"><pre class="programlisting">var App = React.createClass({
  render: function () {
    return (
      &lt;div&gt;
        &lt;h1&gt;My Awesome app!&lt;/h1&gt;
        &lt;UserInfo {...this.props} /&gt;
      &lt;/div&gt;
    );
  }
});</pre></div><p class="calibre7">Much clearer! However, there is still a problem with that solution. It can override properties on your subcomponents. Let's take another example, imagine you have a property named <code class="literal">name</code>, and you want to pass it along. Some elements, basically HTML input elements, have this attribute to define their names inside forms. If you change it, it can result in unexpected consequences. Another example is the input checkbox or radio. Both have an attribute named <code class="literal">checked</code>, which defines whether the control will be visually checked. If you pass on a property named <code class="literal">checked,</code> it'd definitely result in a bad behavior. In order to avoid this, it's possible to skip some properties using the same notation. You just need to specify them as:</p><div class="informaltable"><pre class="programlisting">var App = React.createClass({
  render: function () {
    var {name} = this.props;

    return (
      &lt;div&gt;
        &lt;h1&gt;My Awesome app! {name}&lt;/h1&gt;

      &lt;/div&gt;
    );
  }
});</pre></div><p class="calibre7">Everything that comes before the three dots, <code class="literal">...</code>, will be considered as separated variables, and the one that comes after the three dots, <code class="literal">...</code>, will be addressed to an array with all the remaining properties. This is an experimental ES6 (ECMA Script) syntax, and there are some ways you can transform that code into plain JavaScript. Details of ES6 are covered later in <a class="calibre1" title="Chapter 5. Component Life cycle and Newer ECMAScript in React" href="part0033_split_000.html#page">Chapter 5</a>, <span class="strong"><em class="calibre12">Component Lifecycle and Newer ECMA Script in React</em></span>.</p><p class="calibre7">By looking through <a class="calibre1" href="https://www.npmjs.com/package/react-tools">https://www.npmjs.com/package/react-tools</a>, you can find the details <a id="id80" class="calibre1"/>of the different options you can pass with the JSX Transformer.</p><p class="calibre7"><code class="literal">--harmony</code>: turns on JS transformations such as ES6 classes and so on.</p><p class="calibre7">Thus, the ES6 syntax will be transformed into ES5-compatible syntaxes.</p><p class="calibre7">The first way is to put an extra argument named <code class="literal">harmony</code> on your HTML <code class="literal">script</code> element so that the transformer will know that it's going to need to understand the new version of ECMAScript in order to transform. This is how your script tag should look like:</p><div class="informaltable"><pre class="programlisting">&lt;script type="text/jsx;harmony=true" src="properties.js"&gt;&lt;/script&gt;</pre></div><div class="informaltable" title="Note"><h3 class="title2"><a id="note04" class="calibre1"/>Note</h3><p class="calibre7">ES6 (also known as Harmony) is a version (actual is ES5) of ECMAScript that is a standardized <a id="id81" class="calibre1"/>scripting language. The most known implementation of this standard is the JavaScript language, but there are many others.</p></div><p class="calibre7">You can also use the <code class="literal">react-tools</code> node package. This exposes a command named <code class="literal">jsx</code> that can transform your files offline. In order to use it, you're going to need to run this command from any console tool within your application's folder:</p><div class="informaltable"><pre class="programlisting">
<span class="strong"><strong class="calibre8">jsx -x jsx --harmony . .</strong></span>
</pre></div><p class="calibre7">The <code class="literal">-x</code> option allows you to specify the syntax to search for. In our examples, we are creating the <code class="literal">.jsx </code>files, but you could also do that with the <code class="literal">.js </code>files that have the JSX code inside. The <code class="literal">--harmony</code> option is the same from the last example. It tells the transformer to understand ES6/ES7 features of the JavaScript language.</p><p class="calibre7">You can find out how to install <code class="literal">react-tools</code> in the earlier section <span class="strong"><em class="calibre12">Tools for transforming JSX</em></span>, as discussed earlier in this chapter.</p><p class="calibre7">The reason to use the <code class="literal">.jsx</code> files is it facilitates text editors to match an installed syntax highlight without the need for configuring it.</p></div><div class="book" title="Mutating properties"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch02lvl3sec04" class="calibre1"/>Mutating properties</h3></div></div></div><p class="calibre7">Once <a id="id82" class="calibre1"/>your React component is rendered, it's not recommended to mutate its properties. This is considered an antipattern. Properties are immutable, and they roughly represent your presentation once it's rendered. Consider the following code:</p><div class="informaltable"><pre class="programlisting">var HelloMessage = React.createClass({
  render: function () {
    return &lt;h1&gt;Hello {this.props.name}&lt;/h1&gt;;
  }
});

var component = &lt;HelloMessage /&gt;;
component.props.name = 'Testing';

React.render(component, document.body);</pre></div><p class="calibre7">Although this work has a great chance to end up in unexpected results. The component's state is the only way to mutate data in a ReactJS component. The next two chapters cover details of props and states and when and where they should be used. States and properties are both keys in how ReactJS core works.</p></div></div></div>

<div class="book" title="Learning JSX and Gotchas">
<div class="book" title="Comments"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch02lvl2sec26" class="calibre1"/>Comments</h2></div></div></div><p class="calibre7">JSX <a id="id83" class="calibre1"/>allows you to place comments in your code; they differ in syntax depending on whether you're placing them in a nested component or outside of it. Follow the next example:</p><div class="informaltable"><pre class="programlisting">var Header = React.createClass({
  render: function () {
    return (
      //this is the nav
      &lt;nav&gt;
        {/* this is the nav */}
        &lt;h1&gt;This is my awesome app&lt;/h1&gt;
        {this.props.children}
      &lt;/nav&gt;
    );
  }
});</pre></div><p class="calibre7">When within a nested component, you just need to wrap your comment with curly braces (like expressions).</p></div></div>

<div class="book" title="Learning JSX and Gotchas">
<div class="book" title="Component style"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch02lvl2sec27" class="calibre1"/>Component style</h2></div></div></div><p class="calibre7">You can <a id="id84" class="calibre1"/>either style your component with the <code class="literal">className</code> or <code class="literal">style</code> properties. The <code class="literal">className</code> property works in the same way HTML class does<a id="id85" class="calibre1"/> and the <code class="literal">style</code> property applies inline style to your component, also similar to HTML. It's up to you to choose one that you prefer; both of them have an easy way to be handled in ReactJS, mainly when you need it to be dynamic.</p><div class="book" title="Style"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch02lvl3sec05" class="calibre1"/>Style</h3></div></div></div><p class="calibre7">Whenever<a id="id86" class="calibre1"/> you want to apply style to your component, you can use a JavaScript object to do so. This object's properties must match the DOM style specification, such as <code class="literal">height</code>, <code class="literal">width</code>, and so on. See the example here:</p><div class="informaltable"><pre class="programlisting">var StyledComponent = React.createClass({
  render: function () {
    return (
      &lt;div style={{height: 50, width: 50, backgroundColor: 'red'}}&gt;
        I have style!
      &lt;/div&gt;
    );
  }
});

React.render(&lt;StyledComponent /&gt;, document.body);</pre></div><p class="calibre7">This is going to render a red small square <code class="literal">div</code> with text inside. You can move this style object to a variable and dynamically set that depending on your component properties or state. Properties and state will be discussed later in <a class="calibre1" title="Chapter 3. Working with Properties" href="part0025_split_000.html#page">Chapter 3</a>, <span class="strong"><em class="calibre12">Breaking Your UI into Components</em></span> and <a class="calibre1" title="Chapter 4. Stateful Components and Events" href="part0029_split_000.html#page">Chapter 4</a>, <span class="strong"><em class="calibre12">Stateful Components and Events</em></span>, respectively. For demonstration purposes, this is how you move this style object out of the component markup:</p><div class="informaltable"><pre class="programlisting">render: function () {
  var style = { height: 50, width: 50, backgroundColor: 'red' };

  return (
    &lt;div style={style}&gt;
      I have style!
    &lt;/div&gt;
  );
}</pre></div><p class="calibre7">When you have styles where names are separated by dashes <code class="literal">-</code>, you need to write them in CamelCase, as you can see in our example for the <code class="literal">backgroundColor</code> style property earlier. Vendor prefixes other than <code class="literal">ms</code> should begin with a capital letter; for example, <code class="literal">WebkitTransition</code> will be transformed to <code class="literal">webkit-transition</code> and <code class="literal">msTransition</code> will be transformed to <code class="literal">ms-transition</code>. All other vendor names must begin with a capital letter.</p></div><div class="book" title="CSS classes"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch02lvl3sec06" class="calibre1"/>CSS classes</h3></div></div></div><p class="calibre7">In order <a id="id87" class="calibre1"/>to add CSS classes to your component, you need to specify the <code class="literal">className</code> property for them: <code class="literal">&lt;component className="class1 class2" /&gt;</code>. Unfortunately, <code class="literal">className</code> doesn't support an object literal like style does. If we want to change them dynamically, you need to concatenate <a id="id88" class="calibre1"/>strings or use classnames from <a class="calibre1" href="https://github.com/JedWatson/classnames">https://github.com/JedWatson/classnames</a>. Consider the following example:</p><div class="informaltable"><pre class="programlisting">var ClassedComponent = React.createClass({
  render: function ()   {
    var className = 'initial-class';
    if (this.props.isUrgent) {
      className += ' urgent';
    }

    return (
      &lt;div className={className}&gt;
        I have class!
      &lt;/div&gt;
    );
  }
});

React.render(&lt;ClassedComponent isUrgent={true} /&gt;, document.body);</pre></div><p class="calibre7">In this example, we are concatenating strings, but this is a very tedious task to do, and it might lead to mistakes and errors. There is a class manipulation utility provided by ReactJS add-ons. If we are using ReactJS library script file, you should get the one that comes with add-ons embedded, as mentioned in downloading the ReactJS section on <a class="calibre1" title="Chapter 1. Getting Started with ReactJS" href="part0015_split_000.html#page">Chapter 1</a>, <span class="strong"><em class="calibre12">Getting Started with ReactJS</em></span>:</p><div class="informaltable"><pre class="programlisting">&lt;script src="http://fb.me/react-with-addons-0.12.2.js"&gt;&lt;/script&gt;</pre></div><p class="calibre7">If you are using node or other CommonJS/AMD package to require ReactJS dependency, you can reference add-ons through requiring <code class="literal">require('react/addons')</code> instead of just requiring React.</p><p class="calibre7">Now, let's check how our code functions using this utility code:</p><div class="informaltable"><pre class="programlisting">var Button = React.createClass({
  // ...
  render () {
    var btnClass = 'btn';
    if (this.state.isPressed) btnClass += ' btn-pressed';
    else if (this.state.isHovered) btnClass += ' btn-over';
    return &lt;button className={btnClass}&gt;{this.props.label}&lt;/button&gt;;
  }
});</pre></div><p class="calibre7">Try changing the <code class="literal">isUrgent</code> property and see that the class property changes when you reload the page.</p></div></div></div>
<div class="book" title="Summary"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch02lvl1sec17" class="calibre1"/>Summary</h1></div></div></div><p class="calibre7">In this chapter, you learned what JSX is, its syntax, and why it is necessary. We looked into some examples and how to build them using JSX. We covered very basic principles of ReactJS and how JSX helps you build components faster, easy to read, and reasonable.</p><p class="calibre7">In the next chapter, we are going to dive into ReactJS properties and how to break the UI into smaller components. You are going to learn it by creating a small application that will consume the Facebook Open Graph API and list your liked pages.</p></div></body></html>