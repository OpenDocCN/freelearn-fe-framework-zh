- en: '*Chapter 7*: An Introduction to lottie-react-native'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*第七章*：lottie-react-native 简介'
- en: 'In this chapter, we will be introduced to `lottie-react-native`, a library
    that allows us to render Lottie animations in our React Native apps. We will learn
    about its history, current state, and documentation to make sure we get the most
    out of the library. It is an open source library that''s distributed as an `npm`
    package and can be found at the following links:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将介绍 `lottie-react-native`，这是一个允许我们在 React Native 应用中渲染 Lottie 动画的库。我们将了解其历史、当前状态和文档，以确保我们充分利用这个库。这是一个开源库，以
    `npm` 包的形式分发，可以在以下链接中找到：
- en: '**GitHub**: [https://GitHub.com/lottie-react-native/lottie-react-native](https://GitHub.com/lottie-react-native/lottie-react-native)'
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**GitHub**: [https://GitHub.com/lottie-react-native/lottie-react-native](https://GitHub.com/lottie-react-native/lottie-react-native)'
- en: '**NPM**: [https://www.npmjs.com/package/lottie-react-native](https://www.npmjs.com/package/lottie-react-native)'
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**NPM**: [https://www.npmjs.com/package/lottie-react-native](https://www.npmjs.com/package/lottie-react-native)'
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: How did `lottie-react-native` come into being?
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`lottie-react-native` 是如何产生的？'
- en: What is `lottie-react-native`?
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 什么是 `lottie-react-native`？
- en: Why are we not using Animated or Reanimated?
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为什么我们不使用 Animated 或 Reanimated？
- en: The basics of `lottie-react-native`
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`lottie-react-native` 的基础知识'
- en: How did lottie-react-native come into being?
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '`lottie-react-native` 是如何产生的？'
- en: React Native was released in 2015 due to Facebook's need to speed up their mobile
    development teams, with the vision of releasing dozens of new apps and improving
    their current apps in shorter and more effective development cycles. Some may
    say React Native's number one strength is its multiplatform development capabilities
    (*learn once, write anywhere*), but there are also other benefits, such as reusing
    proven libraries and tools that have been living in the web development world
    for a long time – longer than iOS and Android have been around.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: React Native 之所以在 2015 年发布，是因为 Facebook 需要加快他们的移动开发团队的速度，目标是发布数十个新应用，并在更短、更有效的发展周期内改进现有应用。有些人可能会说
    React Native 的最大优势是其多平台开发能力（*一次学习，到处编写*），但还有其他好处，例如重用长期存在于网络开发世界中的经过验证的库和工具——比
    iOS 和 Android 存在的时间还要长。
- en: Attracted by this promise, Airbnb spun up a team to investigate whether they
    could copy Facebook based on their multiplatform reuse strategy using React Native.
    Their conclusion was not only that the Airbnb mobile team could benefit from this
    strategy, but that they could reuse their vast knowledge of the web and create
    multi-disciplinary teams to build new features on the web, Android, and iOS immediately
    by reusing a large portion of code.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 吸引了这样的承诺，Airbnb 成立了一个团队来调查他们是否可以根据 Facebook 的多平台重用策略使用 React Native 来复制 Facebook。他们的结论不仅认为
    Airbnb 的移动团队可以从这种策略中受益，而且他们可以重用他们在网络方面的广泛知识，并创建跨学科团队，通过重用大量代码，立即在 Web、Android
    和 iOS 上构建新功能。
- en: 'The result of their investigation included large architectural decisions, such
    as how React Native should be integrated into existing apps, how to keep the performance
    standards they had, and how to integrate their tooling into the new framework
    they would be deploying into their native apps. One such tool was their beloved
    animation library: Lottie.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 他们调查的结果包括一些大的架构决策，例如如何将 React Native 集成到现有应用中，如何保持他们已有的性能标准，以及如何将他们的工具集成到他们将要部署到原生应用中的新框架中。其中一个这样的工具就是他们钟爱的动画库：Lottie。
- en: 'Airbnb already had web, Android, and iOS open source libraries for Lottie (lottie):'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: Airbnb 已经拥有了 Lottie（lottie）的 Web、Android 和 iOS 开源库：
- en: '**Web**: [https://GitHub.com/airbnb/lottie-web](https://GitHub.com/airbnb/lottie-web)'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Web**: [https://GitHub.com/airbnb/lottie-web](https://GitHub.com/airbnb/lottie-web)'
- en: '**Android**: [https://GitHub.com/airbnb/lottie-android](https://GitHub.com/airbnb/lottie-android)'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Android**: [https://GitHub.com/airbnb/lottie-android](https://GitHub.com/airbnb/lottie-android)'
- en: '**iOS**: [https://GitHub.com/airbnb/lottie-ios](https://GitHub.com/airbnb/lottie-ios)'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**iOS**: [https://GitHub.com/airbnb/lottie-ios](https://GitHub.com/airbnb/lottie-ios)'
- en: All of them were well maintained and served Airbnb's needs, but adding React
    Native into the mix meant they would need a specific library that could be used
    not only by them but also by the thousands of developers who were already building
    the Lottie community.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些库都得到了良好的维护，满足了 Airbnb 的需求，但将 React Native 加入其中意味着他们需要一个特定的库，这个库不仅可以供他们使用，还可以供成千上万的正在构建
    Lottie 社区的开发者使用。
- en: 'The requirements were clear: they needed a tool that could render Lottie animations
    in React Native code in the same manner they were being rendered in iOS or Android
    apps. This endeavor included performance and feature requirements. The outcome
    was a fully-featured open source library that could easily be integrated into
    all sorts of apps built on React Native.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 需求很明确：他们需要一个工具，能够在 React Native 代码中以与 iOS 或 Android 应用程序中相同的方式渲染 Lottie 动画。这一努力包括性能和功能要求。结果是，一个功能齐全的开源库，可以轻松集成到所有基于
    React Native 构建的各类应用程序中。
- en: 'For this task, a small team of iOS, Android, and web developers were put together
    to successfully release `lottie-react-native` on their public GitHub repository
    in early 2017: [https://GitHub.com/lottie-react-native/lottie-react-native](https://GitHub.com/lottie-react-native/lottie-react-native).'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 为了这项任务，一个由 iOS、Android 和网络开发者组成的小团队在 2017 年初成功地将 `lottie-react-native` 发布到他们的公共
    GitHub 仓库：[https://GitHub.com/lottie-react-native/lottie-react-native](https://GitHub.com/lottie-react-native/lottie-react-native)。
- en: In 2018, Airbnb reevaluated its investment in React Native and decided they
    would be stopping their involvement with Facebook's project and withdrawing all
    their React Native code from their apps. This decision was explained in a series
    of blog posts revolving around issues related to the complexity of maintaining
    three large code bases (iOS, Android, and React Native) that needed hard coordination
    for a team that was not proficient in React Native.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 在 2018 年，Airbnb 重新评估了其在 React Native 上的投资，并决定他们将停止参与 Facebook 的项目，并将所有 React
    Native 代码从其应用程序中撤出。这一决定在一系列围绕与维护三个大型代码库（iOS、Android 和 React Native）的复杂性相关的问题的博客文章中得到了解释，这些代码库需要团队进行严格的协调，而该团队并不擅长
    React Native。
- en: React Native has come a long way since that day but this meant that Airbnb,
    a large promotor, stopped contributing to this technology, including their involvement
    with `lottie-react-native`. The library was not left on its own, though. Some
    of the owners of `lottie-react-native` looked for maintainers within the community
    and finally transferred the project to the top active contributors at that time
    (`emilioicai` and `lelandrichardson` at GitHub).
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 自从那天起，React Native 已经取得了长足的进步，但这意味着 Airbnb，一个重要的推动者，停止了对这项技术的贡献，包括他们对 `lottie-react-native`
    的参与。尽管如此，这个库并没有被遗弃。`lottie-react-native` 的一些所有者开始在社区中寻找维护者，并最终将项目转移给了当时 GitHub
    上最活跃的贡献者（`emilioicai` 和 `lelandrichardson`）。
- en: What is lottie-react-native?
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 什么是 `lottie-react-native`？
- en: '`lottie-react-native` is a project that''s composed of two main parts:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '`lottie-react-native` 是一个由两个主要部分组成的项目：'
- en: The open source project, which is hosted on GitHub. All development, improvement
    requests, issue reporting, and code hosting happens here. It's the center of the
    development community and helps update and improve the library as a whole.
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这个开源项目托管在 GitHub 上。所有开发、改进请求、问题报告和代码托管都发生在这里。它是开发社区的中心，有助于更新和改进整个库。
- en: The `npm` package, where all the new downloadable versions of the library are
    hosted. Usually, developers would use this npm repository to include `lottie-react-native`
    in their React Native projects.
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`npm` 包，其中托管了库的所有新可下载版本。通常，开发者会使用这个 npm 仓库将 `lottie-react-native` 包含到他们的 React
    Native 项目中。'
- en: '`lottie-react-native` has a hard dependency on `lottie-ios` and `lottie-android`
    and serves as a wrapper for those two libraries, in which heavy load happens.
    In fact, in most of React Native''s native packages, `lottie-react-native` works
    by receiving data from the JavaScript side and then transforming and sending that
    data to the native libraries (`lottie-ios` and `lottie-android`).'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '`lottie-react-native` 对 `lottie-ios` 和 `lottie-android` 有硬依赖，并作为这两个库的包装器，其中大部分负载发生。实际上，在大多数
    React Native 的原生包中，`lottie-react-native` 通过从 JavaScript 端接收数据，然后转换并发送这些数据到原生库（`lottie-ios`
    和 `lottie-android`）来工作。'
- en: In 2021, `lottie-react-native` became one of the most popular libraries in the
    React Native ecosystem. It has more than 14,500 stars on GitHub and, even without
    Airbnb's involvement, keeps receiving several releases per year.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 到 2021 年，`lottie-react-native` 成为 React Native 生态系统中最受欢迎的库之一。它在 GitHub 上有超过
    14,500 个星标，即使没有 Airbnb 的参与，每年仍然会发布几个版本。
- en: '`lottie-react-native` has become the go-to library when it comes to rendering
    complex animations in React Native by keeping up with new releases of `lottie-ios`
    and `lottie-android`, all while following changes in React Native closely so that
    it can easily be integrated with new versions of `lottie-ios` and `lottie-android`.'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '`lottie-react-native`已经成为在React Native中渲染复杂动画的首选库，它通过紧跟`lottie-ios`和`lottie-android`的新版本发布，同时密切关注React
    Native的变化，以便它可以轻松地与`lottie-ios`和`lottie-android`的新版本集成。'
- en: Now that we know what `lottie-react-native` is and what its dependencies are,
    let's learn why we should use it for our React Native apps.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经了解了`lottie-react-native`是什么以及它的依赖项，让我们学习为什么我们应该在我们的React Native应用中使用它。
- en: Why are we not using Animated or Reanimated?
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为什么我们不使用Animated或Reanimated？
- en: 'A common question for React Native beginners is which library they should use
    for displaying animations on their apps. After a quick search, three different
    ways of doing so arise: the Animated API, Reanimated, or `lottie-react-native`.'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 对于React Native初学者来说，一个常见的问题是他们应该在应用中用哪个库来显示动画。经过快速搜索，出现了三种不同的方法：Animated API、Reanimated或`lottie-react-native`。
- en: Animated and Reanimated are not technologies that compete `lottie-react-native`
    as they serve different purposes. Both Animated and Reanimated excel in animating
    React and native components on iOS and Android, but they are based on transforming
    mobile UI components (for example, Text, Containers, Views, or Lists). This means
    they are not designed to create complex animations or visual icons, which designers
    can do with Adobe After Effects.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: Animated和Reanimated不是与`lottie-react-native`竞争的技术，因为它们服务于不同的目的。Animated和Reanimated在iOS和Android上动画化React和原生组件方面都非常出色，但它们基于转换移动UI组件（例如，文本、容器、视图或列表）。这意味着它们不是用来创建复杂动画或视觉图标，设计师可以用Adobe
    After Effects来完成这些工作。
- en: 'Let''s look at an example of what Animated/Reanimated can do versus what Lottie
    is capable of:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看Animated/Reanimated能做什么，以及Lottie能做什么：
- en: '**What Lottie does easily**:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '**Lottie容易做到的事情**：'
- en: '![Figure 7.1 – Typical lottie-react-native animation'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '![图7.1 – 典型的lottie-react-native动画'
- en: '](img/B17930_07_01.jpg)'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '![图7.1 – 典型的lottie-react-native动画](img/B17930_07_01.jpg)'
- en: Figure 7.1 – Typical lottie-react-native animation
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 图7.1 – 典型的lottie-react-native动画
- en: '**What Animated and Reanimated do well**:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '**动画和Reanimated做得好的地方**：'
- en: '![Figure 7.2 – Typical Animated/Reanimated animation'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '![图7.2 – 典型的Animated/Reanimated动画'
- en: '](img/B17930_07_02.jpg)'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '![图7.2 – 典型的Animated/Reanimated动画'
- en: Figure 7.2 – Typical Animated/Reanimated animation
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 图7.2 – 典型的Animated/Reanimated动画
- en: It may be complex to understand the difference, but as a general idea, developers
    should note that Lottie is useful for displaying complex animations in which different
    shapes are in play. These kinds of animations are usually created by designers
    and frames, timing, and UI layers are important parts of them.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 理解它们之间的区别可能很复杂，但作为一个大致的概念，开发者应该注意，Lottie对于显示涉及不同形状的复杂动画非常有用。这类动画通常由设计师和帧、时序和UI层组成，这些是它们的重要组成部分。
- en: Animated and Reanimated should be used for animating views, containers, or platform-specific
    components, as shown in the preceding diagram.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 应该像前面图表所示的那样，使用Animated和Reanimated来动画化视图、容器或平台特定的组件。
- en: So far, we've learned when and why to use `lottie-react-native` in our apps.
    Now, let's learn the ins and outs of the `lottie-react-native` project itself.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经学习了在应用中使用`lottie-react-native`的时间和原因。现在，让我们深入了解`lottie-react-native`项目本身。
- en: The basics of lottie-react-native
  id: totrans-45
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: lottie-react-native的基本知识
- en: In this section, we'll learn how `lottie-react-native` is structured as a project.
    This will give us the full picture and allow us to get the most out of the resources
    that are available for developers so that we can integrate Lottie animations into
    our React Native projects.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将学习`lottie-react-native`作为项目是如何构建的。这将让我们全面了解，并能够充分利用为开发者提供的资源，以便我们将Lottie动画集成到我们的React
    Native项目中。
- en: The open source project
  id: totrans-47
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 开源项目
- en: The easiest way to become acquainted with `lottie-react-native` is by going
    to its GitHub repository ([https://github.com/lottie-react-native/lottie-react-native](https://github.com/lottie-react-native/lottie-react-native)).
    There, developers can read about its API, request fixes for specific issues, send
    pieces of code to be incorporated into the code base via **Pull Requests** (**PRs**),
    or just browse the code to understand how the library works.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 了解`lottie-react-native`最简单的方法是访问其GitHub仓库([https://github.com/lottie-react-native/lottie-react-native](https://github.com/lottie-react-native/lottie-react-native))。在那里，开发者可以阅读其API文档，为特定问题请求修复，通过**Pull
    Requests**（**PRs**）发送代码片段以合并到代码库中，或者只是浏览代码来了解库的工作原理。
- en: Since 2018, this project is maintained by a sole maintainer, but new releases
    come out regularly to incorporate bug fixes, changes in React Native, and changes
    in `lottie-ios` or `lottie-android`.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 自2018年以来，该项目由一个维护者独立维护，但定期发布新版本以包含错误修复、React Native的变化以及`lottie-ios`或`lottie-android`的变化。
- en: In the `README.md` file, developers can find a basic explanation of how to integrate
    and use the library. Besides this explanation, a couple of code samples ([https://github.com/lottie-react-native/lottie-react-native/tree/master/example](https://github.com/lottie-react-native/lottie-react-native/tree/master/example))
    are provided to help developers understand how `lottie-react-native` can or should
    be used with ease.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 在`README.md`文件中，开发者可以找到如何集成和使用库的基本说明。除了这个说明之外，还提供了一些代码示例([https://github.com/lottie-react-native/lottie-react-native/tree/master/example](https://github.com/lottie-react-native/lottie-react-native/tree/master/example))，以帮助开发者轻松理解如何使用`lottie-react-native`。
- en: Alongside those samples, there is a small API reference that shows the most
    common properties and methods that are used for displaying Lottie animations on
    React Native apps. Finally, the `README.md` file also shows a couple of examples
    of Lottie animations, which can be downloaded from LottieFiles, and a couple of
    lines about how to get more information.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这些示例之外，还有一个小的API参考，展示了在React Native应用上显示Lottie动画最常用的属性和方法。最后，`README.md`文件还展示了几个Lottie动画的示例，这些示例可以从LottieFiles下载，以及一些关于如何获取更多信息的内容。
- en: An important point to keep in mind when using `lottie-react-native` is versioning,
    since different versions of React Native only work with specific versions of `lottie-react-native`
    (the different versions will be shown shortly). The main reason for this is how
    the build system works.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`lottie-react-native`时需要记住的一个重要点是版本控制，因为不同的React Native版本只能与特定的`lottie-react-native`版本一起使用（不同的版本将很快展示）。主要原因在于构建系统的工作方式。
- en: 'Besides the `README.md` file, other pieces of documentation can be found in
    the repository:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 除了`README.md`文件之外，仓库中还可以找到其他文档：
- en: The API documentation
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: API文档
- en: The TypeScript disclaimer
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: TypeScript免责声明
- en: A list of supported After Effects features on every supported platform
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个支持的平台支持的After Effects功能列表
- en: The `examples` folder
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`examples`文件夹'
- en: Besides this documentation, the `lottie-ios`, or `lottie-android` come out.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这份文档之外，还有`lottie-ios`或`lottie-android`。
- en: The `lottie-react-native` community is very active in terms of submitting PRs,
    and new functionality or bug fixes can usually be found there before they are
    officially released on the npm repository through a new version of `lottie-react-native`.
    Here, you can also find interesting conversations revolving around specific features
    or problems that would not fit as well in the `lottie-react-native` project's
    documentation.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '`lottie-react-native`社区在提交PR方面非常活跃，新功能或错误修复通常可以在它们通过`lottie-react-native`的新版本正式发布到npm仓库之前在那里找到。在这里，还可以找到围绕特定功能或问题的有趣对话，这些对话在`lottie-react-native`项目的文档中可能不太合适。'
- en: 'New users can create new PRs from their own forks. The following requirements
    are what all users can expect if they wish their PRs to be merged into the master
    branch:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 新用户可以从自己的分支创建新的PR。以下要求是所有用户在希望他们的PR被合并到主分支时可以期待的：
- en: Documentation must be provided
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 必须提供文档
- en: An example must be added to the `examples` folder
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 必须在`examples`文件夹中添加一个示例
- en: The PR template must be fulfilled properly
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: PR模板必须正确填写
- en: All issues and comments must be addressed in the PR thread
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有问题和评论都必须在PR线程中解决
- en: Once a PR has been merged into the master branch, the maintainers will prepare
    a release, depending on the urgency and the timings of the repository. Users can
    expect their changes to be released as a patch – either a minor or major version.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦 PR 合并到主分支，维护者将准备一个发布版本，具体取决于仓库的紧迫性和时间安排。用户可以期待他们的更改作为补丁发布——要么是次要版本，要么是主要版本。
- en: The repository changelog ([https://github.com/lottie-react-native/lottie-react-native/blob/master/CHANGELOG.md](https://github.com/lottie-react-native/lottie-react-native/blob/master/CHANGELOG.md))
    is the best place to learn about what features are released in every version.
    There's also a releases page ([https://github.com/lottie-react-native/lottie-react-native/releases](https://github.com/lottie-react-native/lottie-react-native/releases))
    that users can check out to understand how the library is evolving.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 仓库变更日志（[https://github.com/lottie-react-native/lottie-react-native/blob/master/CHANGELOG.md](https://github.com/lottie-react-native/lottie-react-native/blob/master/CHANGELOG.md)）是了解每个版本发布哪些功能的最佳位置。还有一个发布页面（[https://github.com/lottie-react-native/lottie-react-native/releases](https://github.com/lottie-react-native/lottie-react-native/releases)），用户可以查看以了解库是如何演变的。
- en: On average, new releases of `lottie-react-native` are being made available every
    2 and a half months.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 平均而言，`lottie-react-native` 的新版本每两个半月发布一次。
- en: Platforms
  id: totrans-68
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 平台
- en: 'React Native was designed to be multiplatform and not limited to iOS and Android
    only, which projects such as `react-native-web` and `react-native-windows` prove.
    `lottie-react-native` follows the same principles and is designed to be run on
    any platform React Native runs on. However, as of 2021, only two platforms are
    fully supported: iOS and Android. Windows support is slowly being added thanks
    to the efforts of a team from Microsoft and Flirc TV that is pushing commits to
    the project to make sure the library catches up.'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: React Native 被设计成多平台，不仅限于 iOS 和 Android，如 `react-native-web` 和 `react-native-windows`
    这样的项目所证明。`lottie-react-native` 遵循相同的原理，并设计为可以在 React Native 运行的任何平台上运行。然而，截至 2021
    年，只有两个平台得到完全支持：iOS 和 Android。Windows 支持正在缓慢添加，这得益于微软和 Flirc TV 团队的努力，他们正在向项目提交补丁以确保库能够跟上。
- en: In the case of iOS and macOS, `lottie-react-native` needs `lottie-ios` to run.
    This dependency is explicit and `lottie-ios` needs to be installed separately
    due to a legacy issue from when an Airbnb team (mostly composed of native iOS
    developers) decided to use this kind of dependency instead of doing it implicitly.
    In any case, this doesn't affect `lottie-react-native` in any way other than developers
    having to install `lottie-ios` separately and making sure the right version of
    this library is installed.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 在 iOS 和 macOS 的情况下，`lottie-react-native` 需要 `lottie-ios` 来运行。这个依赖关系是明确的，由于 Airbnb
    团队（主要由原生 iOS 开发者组成）决定使用这种依赖关系而不是隐式执行，因此 `lottie-ios` 需要单独安装。无论如何，这不会以任何方式影响 `lottie-react-native`，除了开发者需要单独安装
    `lottie-ios` 并确保安装了正确的库版本。
- en: Since this is a library that runs native code, `lottie-ios` is installed as
    a pod and requires developers to run `pod install` the first time `lottie-react-native`
    and `lottie-ios` are installed.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 由于这是一个运行原生代码的库，`lottie-ios` 作为 pod 安装，并要求开发者在首次安装 `lottie-react-native` 和 `lottie-ios`
    时运行 `pod install`。
- en: On the other hand, `lottie-android` is automatically managed by Gradle, who
    detects it is a dependency of `lottie-react-native`. Then, the right version is
    always installed automatically.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，`lottie-android` 由 Gradle 自动管理，Gradle 会检测到它是 `lottie-react-native` 的依赖项。然后，总是自动安装正确的版本。
- en: 'Both platforms use the same API but there are minor differences between the
    platforms:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 两个平台使用相同的 API，但平台之间存在一些细微差异：
- en: '`lottie-ios` is written in Swift and a bridging header might be needed for
    it to work properly on iOS ([https://github.com/lottie-react-native/lottie-react-native/issues/739#issuecomment-883591123](https://github.com/lottie-react-native/lottie-react-native/issues/739#issuecomment-883591123)).'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`lottie-ios` 使用 Swift 编写，可能需要一个桥接头才能在 iOS 上正常工作（[https://github.com/lottie-react-native/lottie-react-native/issues/739#issuecomment-883591123](https://github.com/lottie-react-native/lottie-react-native/issues/739#issuecomment-883591123)）。'
- en: If you need external assets for your animations, Android requires them to be
    put in a folder. Your Lottie component should include the `imageAssetsFolder`
    prop, which allows you to specify the URL where that folder can be found.
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你的动画需要外部资源，Android 要求将它们放入一个文件夹中。你的 Lottie 组件应包含 `imageAssetsFolder` 属性，这允许你指定可以找到该文件夹的
    URL。
- en: Developers can specify whether they want hardware acceleration on Android by
    using the `renderMode` prop.
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 开发者可以通过使用`renderMode`属性来指定他们是否希望在Android上使用硬件加速。
- en: Caching can be activated on Android through the `cacheComposition` prop.
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以通过`cacheComposition`属性在Android上激活缓存。
- en: Windows support was added with version 4.0.0 of `lottie-react-native` but it
    is still under experimentation and should be used with caution.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '`lottie-react-native`的Windows支持是在4.0.0版本中添加的，但它仍在实验中，应谨慎使用。'
- en: Versions
  id: totrans-79
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 版本
- en: '`lottie-react-native` has largely evolved to accommodate new versions of React
    Native, `lottie-ios`, and `lottie-android`. All these versions are available through
    the npm repository.'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '`lottie-react-native`在很大程度上已经发展，以适应React Native、`lottie-ios`和`lottie-android`的新版本。所有这些版本都可以通过npm仓库获取。'
- en: 'Developers should consider that newer versions include performance improvements
    and bug fixes, so it is always recommended to use the latest version that''s available
    in the npm repository. However, working on specific versions of React Native may
    require developers to install a specific version of `lottie-react-native`. The
    following table shows the compatibility list:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 开发者应该考虑，新版本包括性能改进和错误修复，因此始终建议使用npm仓库中可用的最新版本。然而，针对特定版本的React Native进行工作可能要求开发者安装特定版本的`lottie-react-native`。以下表格显示了兼容性列表：
- en: '![](img/B17930_07_01_Table.jpg)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B17930_07_01_Table.jpg)'
- en: The npm package
  id: totrans-83
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: npm包
- en: This library can be found in the npm repository as `lottie-react-native` ([https://www.npmjs.com/package/lottie-react-native](https://www.npmjs.com/package/lottie-react-native)),
    and all its versions and documentation can be downloaded from [https://www.npmjs.com/](https://www.npmjs.com/).
    Here, users can also find the package's dependencies (the `lottie-react-native`
    as a dependency (the **Dependants** tab).
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 这个库可以在npm仓库中以`lottie-react-native`的名称找到（[https://www.npmjs.com/package/lottie-react-native](https://www.npmjs.com/package/lottie-react-native)），并且所有版本和文档都可以从[https://www.npmjs.com/](https://www.npmjs.com/)下载。在这里，用户还可以找到该包的依赖项（`lottie-react-native`作为依赖项（**依赖项**选项卡）。
- en: Both Yarn and npm can be used to install the package, as we will learn in the
    next chapter.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: Yarn和npm都可以用来安装这个包，正如我们将在下一章中学习的那样。
- en: Summary
  id: totrans-86
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we learned that `lottie-react-native` is a great alternative
    for displaying complex animations in our React Native apps. Serving as a wrapper
    for `lottie-ios` and `lottie-android`, `lottie-react-native` can easily be found
    as an npm package, as well as an open source repository on GitHub. Its documentation
    can be edited and accessed through regular GitHub PR mechanisms.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们了解到`lottie-react-native`是我们在React Native应用中显示复杂动画的一个很好的替代方案。作为`lottie-ios`和`lottie-android`的包装器，`lottie-react-native`可以很容易地作为一个npm包找到，同样也可以在GitHub上的开源仓库中找到。它的文档可以通过常规的GitHub
    PR机制进行编辑和访问。
- en: Now that we have a better understanding of the theory surrounding the library,
    it's time to move toward a more practical approach. In the next chapter, we will
    install and use the `lottie-react-native` library to start rendering our Lottie
    animations in our Android or iOS applications, which have been built on React
    Native.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们对围绕这个库的理论有了更好的理解，是时候转向更实际的方法了。在下一章中，我们将安装并使用`lottie-react-native`库，在我们的基于React
    Native的Android或iOS应用程序中开始渲染Lottie动画。
