- en: '11'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '11'
- en: Industry-Standard End-to-End Testing
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 行业标准的端到端测试
- en: In the previous chapter, we learned about everything related to **integration
    testing**. We learned in depth how to perform an integration test on a Vue.js
    3 component and pages. Additionally, we learned about integration testing tools
    such as Vue Test Library and how to use them to test an enterprise project effectively.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们学习了与**集成测试**相关的所有内容。我们深入了解了如何在Vue.js 3组件和页面上执行集成测试。此外，我们还学习了集成测试工具，如Vue
    Test Library，以及如何有效地使用它们来测试企业级项目。
- en: In this chapter, we will explore everything related to **end-to-end testing**
    (**E2E**). We will learn how to perform E2E testing on a Vue.js 3 component and
    pages. In addition, we will learn about E2E testing tools, such as Cypress and
    Puppeteer, and how to use them to perform an E2E test in an enterprise project
    effectively.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章我们将探讨与**端到端测试**（**E2E**）相关的所有内容。我们将学习如何在Vue.js 3组件和页面上执行E2E测试。此外，我们还将学习E2E测试工具，如Cypress和Puppeteer，以及如何有效地使用它们在企业项目中执行E2E测试。
- en: 'In this chapter, we will cover the following key topics:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 本章我们将涵盖以下关键主题：
- en: Introduction to E2E testing
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: E2E测试简介
- en: What is E2E testing?
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 什么是E2E测试？
- en: Importance of E2E testing
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: E2E测试的重要性
- en: Benefits of E2E testing
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: E2E测试的好处
- en: Best practices in creating E2E test
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建E2E测试的最佳实践
- en: JavaScript E2E testing
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: JavaScript E2E测试
- en: E2E-testing a Vue app
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对Vue应用进行E2E测试
- en: Technical requirements
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: To get started with this chapter, I recommend you to read through [*Chapter
    10*](B17237_10.xhtml#_idTextAnchor363), *Integration Testing in Vue.js 3*, where
    we explored everything related to integration testing. Also, we learned in depth
    how to perform an integration test on a Vue.js 3 component and pages. We will
    rely heavily on the knowledge from that chapter in this chapter to learn about
    Vue.js 3 enterprise E2E testing.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始本章的学习，我建议您阅读[*第10章*](B17237_10.xhtml#_idTextAnchor363)，*Vue.js 3中的集成测试*，其中我们探讨了与集成测试相关的所有内容。我们还深入了解了如何在Vue.js
    3组件和页面上执行集成测试。在本章中，我们将大量依赖该章节的知识来学习Vue.js 3企业级E2E测试。
- en: All the code files for this chapter can be found at [https://github.com/PacktPublishing/Architecting-Vue.js-3-Enterprise-Ready-Web-Applications/tree/chapter-11](https://github.com/PacktPublishing/Architecting-Vue.js-3-Enterprise-Ready-Web-Applications/tree/chapter-11).
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 本章所有代码文件均可在[https://github.com/PacktPublishing/Architecting-Vue.js-3-Enterprise-Ready-Web-Applications/tree/chapter-11](https://github.com/PacktPublishing/Architecting-Vue.js-3-Enterprise-Ready-Web-Applications/tree/chapter-11)找到。
- en: Introduction to E2E testing
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: E2E测试简介
- en: E2E is a complex testing process that assesses the working order of a complex
    application from start to finish. Additionally, you can use E2E testing to work
    through a complete application exactly how you intend your end users to use the
    product and discover any bugs before pushing the code to production for real users.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: E2E是一个从开始到结束评估复杂应用程序工作顺序的复杂测试过程。此外，您可以使用E2E测试来按照您希望最终用户使用产品的确切方式工作，并在将代码推送到真实用户之前发现任何错误。
- en: In most organizations, E2E testing is a standard used to access the complete
    features of an application after developing them in isolation with different developers
    in your team.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在大多数组织中，E2E测试是在与团队中不同开发者独立开发后，用于访问应用程序完整功能的标准。
- en: E2E testing in large teams is possible by having a central repository system
    that is used to build and combine the code base. Next, E2E testing runs through
    the completed features and ensures they work as intended before approving and
    pushing them to the production stage.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 通过拥有一个用于构建和组合代码库的中心存储库系统，在大团队中进行E2E测试是可能的。接下来，E2E测试将运行通过完成的功能，确保它们按预期工作，然后在批准并推送到生产阶段之前。
- en: In this section, we will examine the definition of E2E testing and explore how
    developers can create and manage E2E test cases within their enterprise-ready
    Vue.js 3 application.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将探讨E2E测试的定义，并探讨开发者在企业级Vue.js 3应用程序中如何创建和管理E2E测试用例。
- en: What is E2E testing?
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 什么是E2E测试？
- en: E2E testing is a methodology that assesses the working order of a complex product
    in a start-to-finish process. It ensures that the application behaves as expected
    and that the data is maintained and flows in the same direction as expected for
    each task and process.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: E2E测试是一种评估复杂产品从开始到结束的工作顺序的方法。它确保应用程序按预期行为，并且数据在每个任务和过程中都保持并按照预期方向流动。
- en: This testing aims to replicate real user scenarios to validate the system for
    integration and data integrity. The test goes through every operation the application
    can perform, including communicating with external devices, to make sure the actions
    of the end users are replicated and tested.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 这种测试旨在复制真实用户场景，以验证系统的集成和数据完整性。测试将遍历应用程序可以执行的所有操作，包括与外部设备的通信，以确保最终用户的行为得到复制和测试。
- en: In the next section, we will examine the importance and benefits of E2E testing
    for agile and enterprise-level teams.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将探讨E2E测试对敏捷和企业管理团队的重要性和好处。
- en: Importance of E2E testing
  id: totrans-24
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: E2E测试的重要性
- en: E2E testing makes it simpler to catch problems before releasing the software
    to end users. Additionally, it helps managers prioritize tasks in the development
    backlog by identifying the importance of a workflow to end users.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: E2E测试使得在软件发布给最终用户之前捕捉问题变得更加简单。此外，它通过确定工作流程对最终用户的重要性，帮助管理者优先处理开发待办事项。
- en: Moreover, for enterprise-level applications, E2E testing improves the user experience
    for multiple application interfaces such as web, desktop, and mobile apps because
    user expectations are the basis for the test cases.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，对于企业级应用程序，E2E测试通过提高多个应用程序接口（如Web、桌面和移动应用）的用户体验，因为用户期望是测试用例的基础。
- en: E2E testing has been widely adopted because it helps reduce the overall cost
    of building and maintaining software by decreasing the time it takes to test software.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: E2E测试已被广泛采用，因为它通过减少测试软件所需的时间来帮助降低构建和维护软件的整体成本。
- en: It helps a team expand its test coverage by adding more detailed test cases
    than other testing methods such as unit and functional testing.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 它通过添加比单元测试和功能测试等其他测试方法更详细的测试用例，帮助团队扩展其测试覆盖率。
- en: It also ensures that the application performs correctly by running the test
    cases based on an end user’s behavior.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 它通过基于最终用户行为的测试用例运行，确保应用程序能够正确执行。
- en: Benefits of E2E testing
  id: totrans-30
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: E2E测试的好处
- en: E2E testing is a very complex form of testing as it tests the behaviors of the
    end user. Therefore, it is crucial to follow the practices outlined in the following
    subsections to ensure smooth testing.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: E2E测试是一种非常复杂的测试形式，因为它测试了最终用户的行为。因此，遵循以下小节中概述的实践至关重要，以确保测试顺利。
- en: Reducing risks
  id: totrans-32
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 降低风险
- en: The E2E testing process ensures rigorous testing of the software under test
    at the end of each iteration, thereby reducing the risk of future failures in
    production.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: E2E测试过程确保在每个迭代结束时对测试软件进行严格的测试，从而降低了生产中未来失败的风险。
- en: Consistent user experience
  id: totrans-34
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 一致的用户体验
- en: E2E testing involves testing the frontend. It ensures that the software under
    test provides a user experience that works across multiple devices, platforms,
    and environments.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: E2E测试涉及前端测试。它确保测试软件在多个设备、平台和环境上提供一致的用户体验。
- en: Reducing cost and time
  id: totrans-36
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 降低成本和时间
- en: The cost and the number of times you need to test enterprise applications can
    be reduced by automating your E2E tests This reduces the amount of time and money
    it takes to maintain and improve the application.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 通过自动化E2E测试，可以减少测试企业应用程序的成本和时间，从而减少维护和改进应用程序所需的时间和金钱。
- en: Increasing confidence
  id: totrans-38
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 增加信心
- en: E2E testing not only ensures that the application functions correctly but also
    increases confidence in its performance because it has been tested across multiple
    devices and platforms.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: E2E测试不仅确保应用程序正确运行，而且因为它在多个设备和平台上进行了测试，所以增加了对其性能的信心。
- en: Less repetitive efforts
  id: totrans-40
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 减少重复工作
- en: It reduces the chances of frequent breakdowns and, ultimately, reduces repetitive
    testing efforts due to more thorough and rigorous E2E testing.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 它减少了频繁故障的可能性，并最终由于更彻底和严格的E2E测试，减少了重复测试的努力。
- en: Ensuring the correctness of the application
  id: totrans-42
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 确保应用程序的正确性
- en: E2E is an essential software testing methodology because it validates an application
    at all layers – data, business rules, integration, and presentation. Therefore,
    it helps to ensure the correctness and health of the application.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: E2E是一种基本的软件测试方法，因为它在所有层——数据、业务规则、集成和展示——上验证应用程序。因此，它有助于确保应用程序的正确性和健康。
- en: In this section, we discussed the importance and benefits of E2E testing, illustrating
    why companies need to integrate it into their development pipelines. In the next
    section, we will explore the best practices involved in creating E2E testing.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们讨论了E2E测试的重要性和好处，说明了为什么公司需要将其集成到他们的开发流程中。在下一节中，我们将探索创建E2E测试的最佳实践。
- en: Best practices in E2E test creation
  id: totrans-45
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: E2E测试的最佳实践
- en: E2E testing mimics the actions, activities, and experiences of a real user using
    the application. When creating E2E test cases, you should follow these best practices
    to produce consistent E2E test cases to test every possible case properly. Consider
    the following points to create good test cases.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: E2E测试模仿了真实用户使用应用程序的动作、活动和体验。在创建E2E测试用例时，你应该遵循以下最佳实践，以产生一致的E2E测试用例，正确测试每个可能的案例。考虑以下要点来创建良好的测试用例。
- en: Prioritizing the end use
  id: totrans-47
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 优先考虑最终用户
- en: When creating test cases, test like the user, and get into the mindset of someone
    using the app for the first time. Furthermore, ask and answer some of the user’s
    questions such as *is it easy to find all the options? Are the features marked?
    Can users get what they want in* *fewer steps?*
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 在创建测试用例时，要像用户一样测试，并进入一个首次使用该应用的心态。此外，询问并回答一些用户的问题，例如*是否容易找到所有选项？功能是否已标记？用户能否在*
    *更少的步骤中获取他们想要的东西？*
- en: Prioritizing the right aspects
  id: totrans-49
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 优先考虑正确的方面
- en: It’s important to prioritize what you’re testing because this can easily become
    cumbersome and complex. Therefore, it’s important to prioritize business-impacted
    features before going over other less important edge cases.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 优先考虑你要测试的内容非常重要，因为这很容易变得繁琐和复杂。因此，在处理其他不那么重要的边缘情况之前，优先考虑受业务影响的特性是很重要的。
- en: Making testing realistic
  id: totrans-51
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使测试更真实
- en: Sometimes, you want to make E2E testing a little realistic. In most cases, real
    users stop by to look at images, or pause and watch a few videos before moving
    on with their actions. E2E testing should mirror real-life interactions as much
    as possible.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，你希望使E2E测试更加真实。在大多数情况下，真实用户会停下来查看图片，或者暂停并观看一些视频，然后再继续他们的动作。E2E测试应尽可能多地反映现实生活中的交互。
- en: Testing repeated user scenarios
  id: totrans-53
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 测试重复的用户场景
- en: E2E testing is very complex and requires time to test out all the possible edge
    cases completely. Avoid testing every possible edge case and focus only on the
    most common and important scenarios.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: E2E测试非常复杂，需要时间来完全测试所有可能的边缘情况。避免测试所有可能的边缘情况，只关注最常见和重要的场景。
- en: Error monitoring
  id: totrans-55
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 错误监控
- en: E2E testing is a very complex process because it encompasses the walk-through
    of the whole application or, sometimes, only features that have been newly added.
    However, the complexity can be reduced by making sure many errors are resolved
    during coding before E2E testing.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: E2E测试是一个非常复杂的过程，因为它涵盖了整个应用程序的遍历，有时只是新添加的功能。然而，通过确保在E2E测试之前解决许多错误，可以减少复杂性。
- en: Optimizing the testing environment
  id: totrans-57
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 优化测试环境
- en: You can facilitate the testing process by creating an optimum test environment.
    Creating an optimum test environment allows for minimal setup when it’s time to
    test and clear out data for your next test.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过创建一个最佳测试环境来简化测试过程。创建最佳测试环境可以在测试时减少设置，并在进行下一次测试之前清理数据。
- en: We have explored the best practices when it comes to implementing E2E testing
    and discussed a few points that you must consider when building E2E testing solutions.
    In the next section, we will learn more about different JavaScript E2E testing
    libraries.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经探讨了实施E2E测试的最佳实践，并讨论了在构建E2E测试解决方案时必须考虑的一些要点。在下一节中，我们将了解有关不同的JavaScript E2E测试库的更多信息。
- en: JavaScript E2E testing
  id: totrans-60
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: JavaScript E2E测试
- en: 'Various frameworks are helpful for unit testing in JavaScript. They are as
    follows:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一些有助于JavaScript单元测试的框架：
- en: Selenium WebDriver
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Selenium WebDriver
- en: Cypress
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Cypress
- en: Playwright
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Playwright
- en: Puppeteer
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Puppeteer
- en: Karma
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Karma
- en: Next, we will explore each of the libraries, discuss their popularities, similarities,
    and differences, and look at why you should choose any of these libraries for
    your E2E testing solution.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将探索每个库，讨论它们的流行度、相似之处和不同之处，并探讨为什么你应该选择这些库中的任何一个来作为你的E2E测试解决方案。
- en: Selenium WebDriver
  id: totrans-68
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Selenium WebDriver
- en: 'Selenium WebDriver is the most popular E2E testing software. It’s a web framework
    that allows you to execute cross-browser tests by automating web-based application
    testing to verify that it performs as expected:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: Selenium WebDriver 是最受欢迎的端到端测试软件。它是一个允许你通过自动化基于 Web 的应用程序测试来执行跨浏览器测试的 Web 框架，以验证其是否按预期执行：
- en: '![](img/Figure_11.01_B17237.jpg)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![](img/Figure_11.01_B17237.jpg)'
- en: Figure 11.1 – A diagram showing Selenium statistics
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.1 – 展示 Selenium 统计的图表
- en: Some of the growth statistics of the Selenium library at the time of writing,
    according to GitHub ([https://github.com/seleniumhq/selenium](https://github.com/seleniumhq/selenium)),
    include more than **25.4k GitHub Stars** and about **172k GitHub Usage**, making
    Selenium among the most popular testing frameworks.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 根据GitHub（[https://github.com/seleniumhq/selenium](https://github.com/seleniumhq/selenium)）在编写时的数据，Selenium
    库的一些增长统计数据包括超过 **25.4k GitHub Stars** 和大约 **172k GitHub 使用量**，使 Selenium 成为最受欢迎的测试框架之一。
- en: Cypress
  id: totrans-73
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Cypress
- en: Cypress is an E2E JavaScript-based testing framework that changes how developers
    approach software testing. It is a testing framework that does not use Selenium
    or WebDriver, making it faster and easy to set up for enterprise-level testing.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: Cypress 是一个基于 JavaScript 的端到端测试框架，它改变了开发者对待软件测试的方式。它是一个不使用 Selenium 或 WebDriver
    的测试框架，这使得它在企业级测试中更快且易于设置。
- en: 'This feature makes Cypress the ideal tool for testing a JavaScript/TypeScript
    library that is meant to be used in the browser, and setting up automated testing
    with it in your enterprise project is a breeze:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 这个特性使 Cypress 成为测试旨在在浏览器中使用的 JavaScript/TypeScript 库的理想工具，并在你的企业项目中使用它设置自动化测试变得轻而易举：
- en: '![](img/Figure_11.02_B17237.jpg)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![](img/Figure_11.02_B17237.jpg)'
- en: Figure 11.2 – A diagram showing Cypress statistics
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.2 – 展示 Cypress 统计的图表
- en: Some of the growth statistics of the Cypress library at the time of writing,
    according to GitHub ([https://github.com/cypress-io/cypress](https://github.com/cypress-io/cypress)),
    include more than **42.1k GitHub Stars** and about **648k GitHub Usage**, making
    Cypress among the most popular testing frameworks.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 根据GitHub（[https://github.com/cypress-io/cypress](https://github.com/cypress-io/cypress)）在编写时的数据，Cypress
    库的一些增长统计数据包括超过 **42.1k GitHub Stars** 和大约 **648k GitHub 使用量**，使 Cypress 成为最受欢迎的测试框架之一。
- en: Playwright
  id: totrans-79
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Playwright
- en: 'Playwright enables reliable E2E testing for modern web apps. It supports all
    modern rendering engines including Chromium, Webkit, and Firefox. Additionally,
    it supports cross-platform testing for Windows, Linux, and macOS including local,
    CI, headless, or headed testing. Most importantly, you can test with mobile web
    and with different programming languages:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: Playwright 允许现代 Web 应用进行可靠的端到端测试。它支持所有现代渲染引擎，包括 Chromium、Webkit 和 Firefox。此外，它支持
    Windows、Linux 和 macOS 的跨平台测试，包括本地、CI、无头或带头的测试。最重要的是，你可以使用移动网页和不同的编程语言进行测试：
- en: '![](img/Figure_11.03_B17237.jpg)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![](img/Figure_11.03_B17237.jpg)'
- en: Figure 11.3 – A diagram showing Playwright statistics
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.3 – 展示 Playwright 统计的图表
- en: Some of the growth statistics of the Playwright library at the time of writing,
    according to GitHub ([https://github.com/microsoft/playwright](https://github.com/microsoft/playwright)),
    include more than **46k GitHub Stars**, making Playwright among the most popular
    testing frameworks.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 根据GitHub（[https://github.com/microsoft/playwright](https://github.com/microsoft/playwright)）在编写时的数据，Playwright
    库的一些增长统计数据包括超过 **46k GitHub Stars**，使 Playwright 成为最受欢迎的测试框架之一。
- en: Puppeteer
  id: totrans-84
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Puppeteer
- en: 'Puppeteer is a Node.js library developed by Google that lets you control headless
    Chrome programmatically. You can automate the testing of your web applications,
    run testing in the browser, and see the results in real time on your Terminal
    session:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: Puppeteer 是由 Google 开发的 Node.js 库，允许你通过编程方式控制无头 Chrome。你可以自动化你的 Web 应用程序的测试，在浏览器中运行测试，并在你的终端会话中实时查看结果：
- en: '![](img/Figure_11.04_B17237.jpg)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![](img/Figure_11.04_B17237.jpg)'
- en: Figure 11.4 – A diagram showing Puppeteer statistics
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.4 – 展示 Puppeteer 统计的图表
- en: Some of the growth statistics of the Puppeteer library at the time of writing,
    according to GitHub ([https://github.com/puppeteer/puppeteer](https://github.com/puppeteer/puppeteer)),
    include more than **81.3k GitHub Stars** and about **271k GitHub Usage**, making
    Puppeteer among the most popular testing frameworks.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 根据GitHub（[https://github.com/puppeteer/puppeteer](https://github.com/puppeteer/puppeteer)）在编写时的数据，Puppeteer
    库的一些增长统计数据包括超过 **81.3k GitHub Stars** 和大约 **271k GitHub 使用量**，使 Puppeteer 成为最受欢迎的测试框架之一。
- en: Karma
  id: totrans-89
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Karma
- en: Karma is an E2E testing framework that spawns a web server that executes source
    code against test code for each of the browsers connected. The results are displayed
    to the developers to see whether the test case failed or passed.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: Karma是一个端到端测试框架，它为每个连接的浏览器启动一个Web服务器，执行针对测试代码的源代码。结果将显示给开发者，以便查看测试用例是否失败或通过。
- en: 'The Angular team created the Karma test library to fit their ever-changing
    testing requirements to make life easier:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: Angular团队创建了Karma测试库，以满足他们不断变化的测试需求，使生活更加轻松：
- en: '![](img/Figure_11.05_B17237.jpg)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![图11.05_B17237](img/Figure_11.05_B17237.jpg)'
- en: Figure 11.5 – A diagram showing Karma statistics
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.5 – 显示Karma统计的图表
- en: Some of the growth statistics of the Karma library at the time of writing, according
    to GitHub ([https://github.com/karma-runner/karma](https://github.com/karma-runner/karma)),
    include more than **11.8k GitHub Stars** and about **2.8m GitHub Usage**, making
    Karma among the most popular testing frameworks.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 根据GitHub（[https://github.com/karma-runner/karma](https://github.com/karma-runner/karma)）在撰写本文时的增长统计数据，Karma库包括超过**11.8k
    GitHub Stars**和大约**2.8m GitHub Usage**，使Karma成为最受欢迎的测试框架之一。
- en: In the next section, we will explore how to write your E2E test with JavaScript
    and how to run your test manually. Additionally, we will explore how to automate
    your testing suite during a deployment pipeline.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将探讨如何使用JavaScript编写端到端测试以及如何手动运行测试。此外，我们还将探讨如何在部署管道中自动化测试套件。
- en: E2E testing a Vue.js 3 app
  id: totrans-96
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 端到端测试Vue.js 3应用
- en: In the previous chapter, we created a Pinterest application using Strapi for
    the backend and Vue.js 3 for the frontend.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们使用Strapi作为后端和Vue.js 3作为前端创建了一个Pinterest应用。
- en: In the previous chapters, we added internationalization, structured the project,
    implemented unit and integration testing, and built out a complete Pinterest clone.
    In this section, we will continue by using the official project we created for
    this book to set up E2E testing to make up a full-blown enterprise-ready Pinterest
    clone application.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的章节中，我们添加了国际化，对项目进行了结构化，实现了单元和集成测试，并构建了一个完整的Pinterest克隆应用。在本节中，我们将继续使用为本书创建的官方项目来设置端到端测试，以构建一个完整的、企业级就绪的Pinterest克隆应用。
- en: You can clone the project from [https://github.com/PacktPublishing/Architecting-Vue.js-3-Enterprise-Ready-Web-Applications](https://github.com/PacktPublishing/Architecting-Vue.js-3-Enterprise-Ready-Web-Applications)
    and jump right in.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从[https://github.com/PacktPublishing/Architecting-Vue.js-3-Enterprise-Ready-Web-Applications](https://github.com/PacktPublishing/Architecting-Vue.js-3-Enterprise-Ready-Web-Applications)克隆项目并立即开始。
- en: In the previous chapter, we set up basic unit testing using Vitest and demonstrated
    how to implement basic unit testing with a helper file.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们使用Vitest设置了基本的单元测试，并演示了如何使用辅助文件实现基本的单元测试。
- en: In this section, we will explore more advanced ways of implementing E2E testing
    on the Pinterest clone application we use throughout this book. We will be using
    Cypress for our E2E testing.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将探讨在本书中使用的Pinterest克隆应用上实现端到端测试的更高级方法。我们将使用Cypress进行端到端测试。
- en: Setting up Cypress
  id: totrans-102
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设置Cypress
- en: Writing an E2E test is simpler than you think using some of the popular testing
    frameworks listed previously. In this section of the JavaScript E2E testing tutorial,
    we will use the Cypress framework to write E2E test cases.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 使用之前列出的某些流行测试框架，编写端到端测试比您想象的要简单。在本节JavaScript端到端测试教程中，我们将使用Cypress框架编写端到端测试用例。
- en: We will write some E2E test cases to log a user in to our Pinterest clone application
    and check whether the user details are correct or not, but before that, let’s
    install and configure Cypress.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将编写一些端到端测试用例，以记录用户登录到我们的Pinterest克隆应用，并检查用户详情是否正确，但在那之前，让我们安装和配置Cypress。
- en: Installing and configuring Cypress
  id: totrans-105
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 安装和配置Cypress
- en: 'You can set up a new project and install and configure Cypress by following
    this chapter. However, you can also clone the `chapter 11` folder from the official
    repository to follow along. At the time of writing, the following libraries will
    need to be installed:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过遵循本章内容来设置一个新项目并安装和配置Cypress。然而，您也可以从官方仓库克隆`第11章`文件夹来跟随操作。在撰写本文时，以下库需要安装：
- en: '[PRE0]bash'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE0]bash'
- en: yarn add cypress @cypress/vue @cypress/webpack-dev-server
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: yarn add cypress @cypress/vue @cypress/webpack-dev-server
- en: '[PRE1]'
  id: totrans-109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Next, add the following script to your `package.json` file:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，将以下脚本添加到您的`package.json`文件中：
- en: '[PRE2]bash'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE2]bash'
- en: '"test:e2e": "cypress open --e2e",'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '"test:e2e": "cypress open --e2e",'
- en: '"test:e2e:ci": "cypress run --e2e"'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '"test:e2e:ci": "cypress run --e2e"'
- en: '[PRE3]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: The new script will allow you to run only the E2E test and see the outputs without
    running other test cases.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 新的脚本将允许你仅运行端到端测试并查看输出，而无需运行其他测试用例。
- en: 'Lastly, create a `cypress.config.js` file in the root directory of your project
    and add the following configuration:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，在你的项目根目录中创建一个`cypress.config.js`文件，并添加以下配置：
- en: '[PRE4]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The variables inside `env` are optional and only contain variables specific
    to my environment variables; you should update this to reflect your environment
    variables.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '`env`内部的变量是可选的，并且只包含特定于我的环境变量的变量；你应该更新它以反映你的环境变量。'
- en: Next, we will configure our E2E instance to read files from a specific pattern
    and set `supportFolder` and `supportFile` to `false` because we don’t want to
    include any support files or folders for this demo.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将配置我们的E2E实例以读取特定模式的文件，并将`supportFolder`和`supportFile`设置为`false`，因为我们不希望在这个演示中包含任何支持文件或文件夹。
- en: In the next section, we will create our first `e2e` test file and test out our
    login functionalities using E2E testing.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将创建第一个`e2e`测试文件，并使用端到端测试测试我们的登录功能。
- en: Creating the test file
  id: totrans-121
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建测试文件
- en: 'To create the test file, open or create a `Login.spec.js` file inside the `e2e`
    test folder and add the following code:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建测试文件，请在`e2e`测试文件夹内打开或创建一个`Login.spec.js`文件，并添加以下代码：
- en: '[PRE5]'
  id: totrans-123
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '**Code walk-through**:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: '**代码分析**：'
- en: 'Let’s walk through the code together and understand the nitty-gritty of it:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们一起来逐步分析代码，理解其细节：
- en: '*Step 1*: Loading the login page inside `beforeEach`:'
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*步骤 1*：在`beforeEach`中加载登录页面：'
- en: 'First, we create the function to visit our login page using the Cypress `visit()`
    method that will be executed inside the `beforeEach` hook:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们创建一个函数，使用Cypress的`visit()`方法在`beforeEach`钩子内部访问我们的登录页面：
- en: '[PRE6]'
  id: totrans-128
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '*Step 2*: Creating the `beforeEach` block:'
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*步骤 2*：创建`beforeEach`块：'
- en: 'Inside the `beforeEach` block, we execute `loginFunction` to open the login
    page for every test case:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 在`beforeEach`块内部，我们执行`loginFunction`以为每个测试用例打开登录页面：
- en: '[PRE7]'
  id: totrans-131
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '*Step 3*: Writing each test case:'
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*步骤 3*：编写每个测试用例：'
- en: 'Lastly, we start writing each test case and defining what we expect to test.
    The following is an example of using E2E testing to submit a button in our login
    form to mimic how a user will interact with the login form:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们开始编写每个测试用例，并定义我们期望测试的内容。以下是一个使用端到端测试提交登录表单中的按钮的示例，以模拟用户如何与登录表单交互：
- en: '[PRE8]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: After writing all your test cases, you can execute your test. Before you run
    your test, make sure that your development server is up and running.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 在编写完所有测试用例后，你可以执行测试。在你运行测试之前，请确保你的开发服务器正在运行。
- en: Running the test
  id: totrans-136
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 运行测试
- en: 'To run your test, type the following command into your root Terminal session:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 要运行测试，请在你的根终端会话中输入以下命令：
- en: '[PRE9]bash'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE9]bash'
- en: yarn test:e2e
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: yarn test:e2e
- en: yarn test:e2e:ci
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: yarn test:e2e:ci
- en: '[PRE10]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: The first command will visually show you how your users will interact with your
    application using a headless browser, while the last command will only show you
    the result of your test such as unit tests.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个命令将使用无头浏览器展示用户如何与你的应用程序交互，而最后一个命令将只显示测试结果，如单元测试。
- en: 'After successfully running the test, you should be greeted with green passes
    for your test, as shown in the following screenshot:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 在测试成功运行后，你应该会看到绿色的通过标志，如下面的截图所示：
- en: '![](img/Figure_11.06_B17237.jpg)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.06 - 端到端测试结果截图](img/Figure_11.06_B17237.jpg)'
- en: Figure 11.6 – A screenshot of the E2E test result
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.6 – 端到端测试结果的截图
- en: Summary
  id: totrans-146
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 概述
- en: This chapter explored everything related to E2E testing. We learned about E2E
    testing tools such as Cypress, Karma, and Selenium and used Cypress to effectively
    test an enterprise project.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 本章探讨了与端到端测试（E2E testing）相关的所有内容。我们学习了端到端测试工具，如Cypress、Karma和Selenium，并使用Cypress有效地测试了一个企业级项目。
- en: Additionally, we explored the benefits, importance, and best practices in writing
    and executing effective E2E testing strategies. We also learned how to write E2E
    test cases.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，我们还探讨了编写和执行有效的端到端测试策略的好处、重要性和最佳实践。我们还学习了如何编写端到端测试用例。
- en: In the next chapter, we will learn how to deploy Vue.js 3 projects to the AWS
    cloud. We will learn about the best practices for deploying to AWS. In addition,
    we will learn how enterprise companies deploy their enterprise Vue applications.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将学习如何将Vue.js 3项目部署到AWS云。我们将学习部署到AWS的最佳实践。此外，我们还将了解企业公司如何部署他们的企业级Vue应用程序。
- en: Additionally, we will learn about and explore different deployment options and
    master best practices in deploying your Vue.js 3 project to various cloud providers.
    We will learn how to deploy to AWS and Azure.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，我们还将了解并探索不同的部署选项，并掌握将您的Vue.js 3项目部署到各种云提供商的最佳实践。我们将学习如何部署到AWS和Azure。
- en: 'Part 5: Deploying Enterprise-ready Vue.js 3'
  id: totrans-151
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第5部分：部署企业级Vue.js 3
- en: In this part, you will learn and explore different deployment options and master
    best practices to deploy your Vue.js 3 project to various cloud providers. You
    will learn how to deploy to AWS and Azure.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 在本部分，您将学习和探索不同的部署选项，并掌握将您的Vue.js 3项目部署到各种云提供商的最佳实践。您将学习如何部署到AWS和Azure。
- en: We will explore Nuxt.JS to build and deliver enterprise-ready, server-side rendering
    Vue.js 3 web applications. We will also explore Gridsome to build and deploy high-,
    client-side rendering Vue.js 3 applications.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将探索Nuxt.JS来构建和交付企业级、服务器端渲染的Vue.js 3网络应用程序。我们还将探索Gridsome来构建和部署高性能、客户端渲染的Vue.js
    3应用程序。
- en: 'In this part, we will cover the following chapters:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 在本部分，我们将涵盖以下章节：
- en: '[*Chapter 12*](B17237_12.xhtml#_idTextAnchor471), [*Deploying Vue.js 3 to the
    Cloud*](https://epic.packtpub.services/index.php?module=oss_Chapters&action=DetailView&record=88eb0800-c67f-3335-0e01-61d6c97f9301)'
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第12章*](B17237_12.xhtml#_idTextAnchor471), [*将Vue.js 3部署到云端*](https://epic.packtpub.services/index.php?module=oss_Chapters&action=DetailView&record=88eb0800-c67f-3335-0e01-61d6c97f9301)'
- en: '[*Chapter 13*](B17237_13.xhtml#_idTextAnchor518), [*Advanced Vue.js Frameworks*](https://epic.packtpub.services/index.php?module=oss_Chapters&action=DetailView&record=451c03c4-2abc-f5b6-26ae-61d6c928e87d)'
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第13章*](B17237_13.xhtml#_idTextAnchor518), [*高级Vue.js框架*](https://epic.packtpub.services/index.php?module=oss_Chapters&action=DetailView&record=451c03c4-2abc-f5b6-26ae-61d6c928e87d)'
