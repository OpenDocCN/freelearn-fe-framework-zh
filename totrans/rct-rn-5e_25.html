<html><head></head><body>
  <div id="_idContainer205" class="Basic-Text-Frame">
    <h1 class="chapterNumber">23</h1>
    <h1 id="_idParaDest-276" class="chapterTitle">Responding to User Gestures</h1>
    <p class="normal">All of the examples that you’ve implemented so far in this book have relied on user gestures. In traditional web applications, you mostly deal with mouse events. However, touchscreens rely on the user manipulating elements with their fingers, which is fundamentally different from the mouse.</p>
    <p class="normal">In this chapter, first, you’ll learn about scrolling. This is probably the most common gesture, besides touch. Then, you’ll learn about giving the user the appropriate level of feedback when they interact with your components. Finally, you’ll implement components that can be swiped.</p>
    <p class="normal">The goal of <a id="_idIndexMarker819"/>this chapter is to show you how the <strong class="keyWord">gesture response system</strong> inside React Native works and some of the ways in which this system is exposed via components.</p>
    <p class="normal">In this chapter, we’ll cover the following topics: </p>
    <ul>
      <li class="bulletList">Scrolling with your fingers</li>
      <li class="bulletList">Giving touch feedback</li>
      <li class="bulletList">Using Swipeable and cancellable components</li>
    </ul>
    <h1 id="_idParaDest-277" class="heading-1">Technical requirements</h1>
    <p class="normal">You can find the code files for this chapter on GitHub at <a href="https://github.com/PacktPublishing/React-and-React-Native-5E/tree/main/Chapter25"><span class="url">https://github.com/PacktPublishing/React-and-React-Native-5E/tree/main/Chapter2</span></a><span class="url">3</span>.</p>
    <h1 id="_idParaDest-278" class="heading-1">Scrolling with your fingers</h1>
    <p class="normal">Scrolling in web applications is done by using the mouse pointer to drag the scrollbar back and forth <a id="_idIndexMarker820"/>or up and down, or by spinning the mouse wheel. This doesn’t work on mobile devices because there’s no mouse. Everything is controlled by gestures on the screen. </p>
    <p class="normal">For example, if you want to scroll down, you use your thumb or index finger to pull the content up by physically moving your finger over the screen.</p>
    <p class="normal">Scrolling like this is difficult to implement, but it gets more complicated. When you scroll on a mobile screen, the velocity of the dragging motion is taken into consideration. You drag the screen fast, then let go, and the screen continues to scroll based on how fast you moved your finger. You can also touch the screen while this is happening to stop it from scrolling.</p>
    <p class="normal">Thankfully, you don’t have to handle most of this stuff. The <code class="inlineCode">ScrollView</code> component handles much of the scrolling complexity for you. In fact, you’ve already used the <code class="inlineCode">ScrollView</code> component back in <em class="chapterRef">Chapter 20</em>, <em class="italic">Rendering Item Lists</em>. The <code class="inlineCode">ListView</code> component has <code class="inlineCode">ScrollView</code> baked into it.</p>
    <div class="note">
      <p class="normal">You can adjust the low-level parts of user interactions by implementing gesture life cycle methods. You’ll probably never need to do this, but if you’re interested, you can read about it at <a href="https://reactnative.dev/docs/gesture-responder-system"><span class="url">https://reactnative.dev/docs/gesture-responder-system</span></a>.</p>
    </div>
    <p class="normal">You can use <code class="inlineCode">ScrollView</code> outside of <code class="inlineCode">ListView</code>. For example, if you’re just rendering arbitrary content such as text and other widgets: not a list, in other words: you can just wrap it in <code class="inlineCode">&lt;ScrollView&gt;</code>. Here’s an example:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title">App</span>() {
  <span class="hljs-keyword">return</span> (
    <span class="hljs-tag">&lt;</span><span class="hljs-name">View</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.container}</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">ScrollView</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.scroll}</span><span class="hljs-tag">&gt;</span>
        {new Array(20).fill(null).map((v, i) =&gt; (
          <span class="hljs-tag">&lt;</span><span class="hljs-name">View</span><span class="hljs-tag"> </span><span class="hljs-attr">key</span><span class="hljs-tag">=</span><span class="hljs-string">{i}</span><span class="hljs-tag">&gt;</span>
            <span class="hljs-tag">&lt;</span><span class="hljs-name">Text</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{[styles.scrollItem,</span><span class="hljs-tag"> </span><span class="hljs-attr">styles.text</span><span class="hljs-tag">]}&gt;</span>Some text<span class="hljs-tag">&lt;/</span><span class="hljs-name">Text</span><span class="hljs-tag">&gt;</span>
            <span class="hljs-tag">&lt;</span><span class="hljs-name">ActivityIndicator</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.scrollItem}</span><span class="hljs-tag"> </span><span class="hljs-attr">size</span><span class="hljs-tag">=</span><span class="hljs-string">"large"</span><span class="hljs-tag"> /&gt;</span>
            <span class="hljs-tag">&lt;</span><span class="hljs-name">Switch</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.scrollItem}</span><span class="hljs-tag"> /&gt;</span>
          <span class="hljs-tag">&lt;/</span><span class="hljs-name">View</span><span class="hljs-tag">&gt;</span>
        ))}
      <span class="hljs-tag">&lt;/</span><span class="hljs-name">ScrollView</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">View</span><span class="hljs-tag">&gt;</span>
  );
}
</code></pre>
    <p class="normal">The <code class="inlineCode">ScrollView</code> component isn’t of much use on its own: it’s there to wrap other components. It needs height in order to function correctly. Here’s what the scroll style looks like:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-attr">scroll</span>: {
    <span class="hljs-attr">height</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">alignSelf</span>: <span class="hljs-string">"stretch"</span>,
  },
</code></pre>
    <p class="normal">The <code class="inlineCode">height</code> property <a id="_idIndexMarker821"/>is set to <code class="inlineCode">1</code>, but the stretch value of <code class="inlineCode">alignSelf</code> allows the items to display properly. Here’s what the end result looks like:</p>
    <figure class="mediaobject"><img src="../Images/B19636_23_01.png" alt="" role="presentation"/></figure>
    <p class="packt_figref">Figure 23.1: ScrollView</p>
    <p class="normal">There’s a vertical scrollbar on the right-hand side of the screen as you drag the content down. If you run this example, you can play around with making various gestures, such as making content scroll on its own and then making it stop.</p>
    <p class="normal">When the <a id="_idIndexMarker822"/>user scrolls through content on the screen, they receive visual feedback. Users should also receive visual feedback when they touch certain elements on the screen.</p>
    <h1 id="_idParaDest-279" class="heading-1">Giving touch feedback</h1>
    <p class="normal">The React Native examples you’ve worked with so far in this book have used plain text to act as <a id="_idIndexMarker823"/>buttons or links. In web applications, to make text look like something that can be clicked, you just wrap it with the appropriate link. There’s no link component in React Native, so you can style your text to look like a button.</p>
    <div class="note">
      <p class="normal">The problem with trying to style text as links on mobile devices is that they’re too hard to press. Buttons provide a bigger target for fingers, and they’re easier to apply touch feedback on.</p>
    </div>
    <p class="normal">Let’s style some text as a button. This is a great first step as it makes the text look touchable. But you also want to give visual feedback to the user when they start interacting with the button. React Native provides several components to help with this: </p>
    <ul>
      <li class="bulletList"><code class="inlineCode">TouchableOpacity</code> </li>
      <li class="bulletList"><code class="inlineCode">TouchableHighlight</code></li>
      <li class="bulletList">Pressable API</li>
    </ul>
    <p class="normal">But before diving into the code, let’s take a look at what these components look like visually when users interact with them, starting with <code class="inlineCode">TouchableOpacity</code>:</p>
    <figure class="mediaobject"><img src="../Images/B19636_23_02.png" alt="Picture 2"/></figure>
    <p class="packt_figref">Figure 23.2: TouchableOpacity</p>
    <p class="normal">There are <a id="_idIndexMarker824"/>three buttons being rendered here. The top one, labeled <strong class="screenText">Opacity</strong>, is currently being pressed by the user. The opacity of the button is dimmed when pressed, which provides important visual feedback for the user. </p>
    <p class="normal">Let’s see what the <strong class="screenText">Highlight</strong> button looks like when pressed:</p>
    <figure class="mediaobject"><img src="../Images/B19636_23_03.png" alt="Picture 3"/></figure>
    <p class="packt_figref">Figure 23.3: TouchableHighlight</p>
    <p class="normal">Instead of <a id="_idIndexMarker825"/>changing the opacity when pressed, the <code class="inlineCode">TouchableHighlight</code> component adds a highlight layer over the button. In this case, it’s highlighted using a more transparent version of the slate gray that’s being used in the font and border colors.</p>
    <p class="normal">The last example of a button is provided by the <code class="inlineCode">Pressable</code> component. The Pressable API has been introduced as a core component wrapper and allows different stages of press interaction on any of its defined children. With such components, we can handle <code class="inlineCode">onPressIn</code>, <code class="inlineCode">onPressOut</code> (which we explore in the next chapter), and <code class="inlineCode">onLongPress</code> callbacks <a id="_idIndexMarker826"/>and implement any touchable feedback that we want. Let’s take a look at how <code class="inlineCode">PressableButton</code> looks when we click on it:</p>
    <figure class="mediaobject"><img src="../Images/B19636_23_04.png" alt="Picture 4"/></figure>
    <p class="packt_figref">Figure 23.4: Pressable button</p>
    <p class="normal">If we continue to keep our finger on this button, we get an <code class="inlineCode">onLongPress</code> event and the button will update:</p>
    <figure class="mediaobject"><img src="../Images/B19636_23_05.png" alt="Picture 5"/></figure>
    <p class="packt_figref">Figure 23.5: Long Pressed button</p>
    <p class="normal">It doesn’t <a id="_idIndexMarker827"/>really matter which approach you use. The important thing is that you provide the appropriate touch feedback for your users as they interact with your buttons. In fact, you might want to use all the approaches in the same app, but for different things.</p>
    <p class="normal">Let’s create an <code class="inlineCode">OpacityButton</code> and <code class="inlineCode">HighlightButton</code> component, which makes it easy to use the first two approaches:</p>
    <pre class="programlisting code"><code class="hljs-code">type <span class="hljs-title">ButtonProps</span> = {
  <span class="hljs-attr">label</span>: string;
  <span class="hljs-attr">onPress</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">void</span>;
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title">OpacityButton</span> = (<span class="hljs-params">{ label, onPress }: ButtonProps</span>) =&gt; {
  <span class="hljs-keyword">return</span> (
    <span class="hljs-tag">&lt;</span><span class="hljs-name">TouchableOpacity</span>
<span class="hljs-tag">      </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.button}</span>
<span class="hljs-tag">      </span><span class="hljs-attr">onPress</span><span class="hljs-tag">=</span><span class="hljs-string">{onPress}</span>
<span class="hljs-tag">      </span><span class="hljs-attr">activeOpacity</span><span class="hljs-tag">=</span><span class="hljs-string">{0.5}</span>
<span class="hljs-tag">    &gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">Text</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.buttonText}</span><span class="hljs-tag">&gt;</span>{label}<span class="hljs-tag">&lt;/</span><span class="hljs-name">Text</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">TouchableOpacity</span><span class="hljs-tag">&gt;</span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title">HighlightButton</span> = (<span class="hljs-params">{ label, onPress }: ButtonProps</span>) =&gt; {
  <span class="hljs-keyword">return</span> (
    <span class="hljs-tag">&lt;</span><span class="hljs-name">TouchableHighlight</span>
<span class="hljs-tag">      </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.button}</span>
<span class="hljs-tag">      </span><span class="hljs-attr">underlayColor</span><span class="hljs-tag">=</span><span class="hljs-string">"rgba(112,128,144,0.3)"</span>
<span class="hljs-tag">      </span><span class="hljs-attr">onPress</span><span class="hljs-tag">=</span><span class="hljs-string">{onPress}</span>
<span class="hljs-tag">    &gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">Text</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.buttonText}</span><span class="hljs-tag">&gt;</span>{label}<span class="hljs-tag">&lt;/</span><span class="hljs-name">Text</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">TouchableHighlight</span><span class="hljs-tag">&gt;</span>
  );
};
</code></pre>
    <p class="normal">Here are <a id="_idIndexMarker828"/>the styles that were used to create this button:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-attr">button</span>: {
    <span class="hljs-attr">padding</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">margin</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">"</span><span class="hljs-string">azure"</span>,
    <span class="hljs-attr">borderWidth</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">4</span>,
    <span class="hljs-attr">borderColor</span>: <span class="hljs-string">"slategrey"</span>,
  },
  <span class="hljs-attr">buttonText</span>: {
    <span class="hljs-attr">color</span>: <span class="hljs-string">"slategrey"</span>,
  },
</code></pre>
    <p class="normal">Now let’s take a look at the button based on the Pressable API:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> <span class="hljs-title">PressableButton</span> = () =&gt; {
  <span class="hljs-keyword">const</span> [text, setText] = <span class="hljs-title">useState</span>(<span class="hljs-string">"Not Pressed"</span>);
  <span class="hljs-keyword">return</span> (
    <span class="hljs-tag">&lt;</span><span class="hljs-name">Pressable</span>
<span class="hljs-tag">      </span><span class="hljs-attr">onPressIn</span><span class="hljs-tag">=</span><span class="hljs-string">{()</span><span class="hljs-tag"> =&gt;</span> setText("Pressed")}
      onPressOut={() =&gt; setText("Press")}
      onLongPress={() =&gt; {
        setText("Long Pressed");
      }}
      delayLongPress={500}
      style={({ pressed }) =&gt; [
        {
          opacity: pressed ? 0.5 : 1,
        },
        styles.button,
      ]}
    &gt;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">Text</span><span class="hljs-tag">&gt;</span>{text}<span class="hljs-tag">&lt;/</span><span class="hljs-name">Text</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">Pressable</span><span class="hljs-tag">&gt;</span>
  );
};
</code></pre>
    <p class="normal">Here’s <a id="_idIndexMarker829"/>how you can put those buttons into the main app module:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title">App</span>() {
  <span class="hljs-keyword">return</span> (
    <span class="hljs-tag">&lt;</span><span class="hljs-name">View</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.container}</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">OpacityButton</span><span class="hljs-tag"> </span><span class="hljs-attr">onPress</span><span class="hljs-tag">=</span><span class="hljs-string">{()</span><span class="hljs-tag"> =&gt;</span> {}} label="Opacity" /&gt;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">HighlightButton</span><span class="hljs-tag"> </span><span class="hljs-attr">onPress</span><span class="hljs-tag">=</span><span class="hljs-string">{()</span><span class="hljs-tag"> =&gt;</span> {}} label="Highlight" /&gt;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">PressableButton</span><span class="hljs-tag"> /&gt;</span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">View</span><span class="hljs-tag">&gt;</span>
  );
}
</code></pre>
    <p class="normal">Note that the <code class="inlineCode">onPress</code> callbacks don’t actually do anything: we’re passing them because they’re a required property.</p>
    <p class="normal">In the following section, you’ll learn about providing feedback when the user swipes elements across the screen.</p>
    <h1 id="_idParaDest-280" class="heading-1">Using Swipeable and Cancellable components</h1>
    <p class="normal">Part of what makes native mobile applications easier to use than mobile web applications <a id="_idIndexMarker830"/>is that they feel more intuitive. Using gestures, you can <a id="_idIndexMarker831"/>quickly get a handle on how things work. For example, swiping an element across the screen with your finger is a common gesture, but the gesture has to be discoverable.</p>
    <p class="normal">Let’s say that you’re using an app, and you’re not exactly sure what something on the screen does. So, you press down with your finger and try dragging the element. It starts to move. Unsure of what will happen, you lift your finger up, and the element moves back into place. You’ve just discovered how part of this application works.</p>
    <p class="normal">You’ll use the <code class="inlineCode">Scrollable</code> component to implement <strong class="keyWord">swipeable</strong> and <strong class="keyWord">cancellable</strong> behaviors like this. You can create a somewhat generic component that allows the user to swipe text off the screen and, when that happens, call a callback function. Let’s look at the code that will render the swipeables before we look at the generic component itself:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title">SwipableAndCancellable</span>() {
  <span class="hljs-keyword">const</span> [items, setItems] = <span class="hljs-title">useState</span>(
    <span class="hljs-keyword">new</span> <span class="hljs-title">Array</span>(<span class="hljs-number">10</span>).<span class="hljs-title">fill</span>(<span class="hljs-literal">null</span>).<span class="hljs-title">map</span>(<span class="hljs-function">(</span><span class="hljs-params">v, id</span><span class="hljs-function">) =&gt;</span> ({ id, <span class="hljs-attr">name</span>: <span class="hljs-string">"Swipe Me"</span> }))
  );
  <span class="hljs-keyword">function</span> <span class="hljs-title">onSwipe</span>(<span class="hljs-params">id: number</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title">setItems</span>(items.<span class="hljs-title">filter</span>(<span class="hljs-function">(</span><span class="hljs-params">item</span><span class="hljs-function">) =&gt;</span> item.<span class="hljs-property">id</span> !== id));
    };
  }
  <span class="hljs-keyword">return</span> (
    <span class="hljs-tag">&lt;</span><span class="hljs-name">View</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.container}</span><span class="hljs-tag">&gt;</span>
      {items.map((item) =&gt; (
        <span class="hljs-tag">&lt;</span><span class="hljs-name">Swipeable</span>
<span class="hljs-tag">          </span><span class="hljs-attr">key</span><span class="hljs-tag">=</span><span class="hljs-string">{item.id}</span>
<span class="hljs-tag">          </span><span class="hljs-attr">onSwipe</span><span class="hljs-tag">=</span><span class="hljs-string">{onSwipe(item.id)}</span>
<span class="hljs-tag">          </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">{item.name}</span>
<span class="hljs-tag">          </span><span class="hljs-attr">width</span><span class="hljs-tag">=</span><span class="hljs-string">{200}</span>
<span class="hljs-tag">        /&gt;</span>
      ))}
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">View</span><span class="hljs-tag">&gt;</span>
  );
}
</code></pre>
    <p class="normal">This <a id="_idIndexMarker832"/>will render 10 <code class="inlineCode">&lt;Swipeable&gt;</code> components on the <a id="_idIndexMarker833"/>screen. Let’s see what this looks like:</p>
    <figure class="mediaobject"><img src="../Images/B19636_23_06.png" alt="Picture 6"/></figure>
    <p class="packt_figref">Figure 23.6: Screen with Swipeable components</p>
    <p class="normal">Now, if you start to swipe one of these items to the left, it will move. Here’s what this looks like:</p>
    <figure class="mediaobject"> <img src="../Images/B19636_23_07.png" alt="Picture 7"/></figure>
    <p class="packt_figref">Figure 23.7: Swiped component</p>
    <p class="normal">If you <a id="_idIndexMarker834"/>don’t swipe far enough, the gesture will be canceled <a id="_idIndexMarker835"/>and the item will move back into place, as expected. If you swipe it all the way, the item will be removed from the list completely and the items on the screen will fill the empty space.</p>
    <p class="normal">Now, let’s take a look at the <code class="inlineCode">Swipeable</code> component itself:</p>
    <pre class="programlisting code"><code class="hljs-code">type <span class="hljs-title">SwipeableProps</span> = {
  <span class="hljs-attr">name</span>: string;
  <span class="hljs-attr">width</span>: number;
  <span class="hljs-attr">onSwipe</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">void</span>;
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title">Swipeable</span>(<span class="hljs-params">{ name, width, onSwipe }: SwipeableProps</span>) {
  <span class="hljs-keyword">function</span> <span class="hljs-title">onScroll</span>(<span class="hljs-params">e: NativeSyntheticEvent&lt;NativeScrollEvent&gt;</span>) {
    <span class="hljs-variable">console</span>.<span class="hljs-title">log</span>(e.<span class="hljs-property">nativeEvent</span>.<span class="hljs-property">contentOffset</span>.<span class="hljs-property">x</span>);
    e.<span class="hljs-property">nativeEvent</span>.<span class="hljs-property">contentOffset</span>.<span class="hljs-property">x</span> &gt;= width &amp;&amp; <span class="hljs-title">onSwipe</span>();
  }
  <span class="hljs-keyword">return</span> (
    <span class="hljs-tag">&lt;</span><span class="hljs-name">View</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.swipeContainer}</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">ScrollView</span>
<span class="hljs-tag">        </span><span class="hljs-attr">horizontal</span>
<span class="hljs-tag">        </span><span class="hljs-attr">snapToInterval</span><span class="hljs-tag">=</span><span class="hljs-string">{width}</span>
<span class="hljs-tag">        </span><span class="hljs-attr">showsHorizontalScrollIndicator</span><span class="hljs-tag">=</span><span class="hljs-string">{false}</span>
<span class="hljs-tag">        </span><span class="hljs-attr">scrollEventThrottle</span><span class="hljs-tag">=</span><span class="hljs-string">{10}</span>
<span class="hljs-tag">        </span><span class="hljs-attr">onScroll</span><span class="hljs-tag">=</span><span class="hljs-string">{onScroll}</span>
<span class="hljs-tag">      &gt;</span>
        <span class="hljs-tag">&lt;</span><span class="hljs-name">View</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{[styles.swipeItem,</span><span class="hljs-tag"> { </span><span class="hljs-attr">width</span><span class="hljs-tag"> }]}&gt;</span>
          <span class="hljs-tag">&lt;</span><span class="hljs-name">Text</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.swipeItemText}</span><span class="hljs-tag">&gt;</span>{name}<span class="hljs-tag">&lt;/</span><span class="hljs-name">Text</span><span class="hljs-tag">&gt;</span>
        <span class="hljs-tag">&lt;/</span><span class="hljs-name">View</span><span class="hljs-tag">&gt;</span>
        <span class="hljs-tag">&lt;</span><span class="hljs-name">View</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{[styles.swipeBlank,</span><span class="hljs-tag"> { </span><span class="hljs-attr">width</span><span class="hljs-tag"> }]} /&gt;</span>
      <span class="hljs-tag">&lt;/</span><span class="hljs-name">ScrollView</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">View</span><span class="hljs-tag">&gt;</span>
  );
}
</code></pre>
    <p class="normal">The <a id="_idIndexMarker836"/>component accepts the <code class="inlineCode">width</code> property to specify <a id="_idIndexMarker837"/>the width itself, <code class="inlineCode">snapToInterval</code> to create paging-like behavior with swipe canceling, and handling the distance where we can call the <code class="inlineCode">onSwipe</code> callback to remove items from the list.</p>
    <p class="normal">To enable swipe to the left, we need to add a blank component beside the component with text in it. Here are the styles that are used for this component:</p>
    <pre class="programlisting code"><code class="hljs-code">  <span class="hljs-attr">swipeContainer</span>: {
    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">"row"</span>,
    <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-number">30</span>,
    <span class="hljs-attr">marginTop</span>: <span class="hljs-number">50</span>,
  },
  <span class="hljs-attr">swipeItem</span>: {
    <span class="hljs-attr">height</span>: <span class="hljs-number">30</span>,
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">"azure"</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">"center"</span>,
    <span class="hljs-attr">borderWidth</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">4</span>,
    <span class="hljs-attr">borderColor</span>: <span class="hljs-string">"slategrey"</span>,
  },
  <span class="hljs-attr">swipeItemText</span>: {
    <span class="hljs-attr">textAlign</span>: <span class="hljs-string">"center"</span>,
    <span class="hljs-attr">color</span>: <span class="hljs-string">"slategrey"</span>,
  },
  <span class="hljs-attr">swipeItemBlank</span>: {
    <span class="hljs-attr">height</span>: <span class="hljs-number">30</span>,
  },
</code></pre>
    <p class="normal">The <code class="inlineCode">swipeItemBlank</code> style <a id="_idIndexMarker838"/>has the same height as <code class="inlineCode">swipeItem</code>, but <a id="_idIndexMarker839"/>nothing else. It’s invisible.</p>
    <p class="normal">We have now covered all the topics in this chapter.</p>
    <h1 id="_idParaDest-281" class="heading-1">Summary</h1>
    <p class="normal">In this chapter, we were introduced to the idea that gestures on native platforms make a significant difference compared to mobile web platforms. We started off by looking at the <code class="inlineCode">ScrollView</code> component, and how it makes life much simpler by providing native scrolling behavior for wrapped components.</p>
    <p class="normal">Next, we spent some time implementing buttons with touch feedback. This is another area that’s tricky to get right on the mobile web. We learned how to use the <code class="inlineCode">TouchableOpacity</code>, <code class="inlineCode">TouchableHighlight</code>, and Pressable API components to do this.</p>
    <p class="normal">Finally, we implemented a generic <code class="inlineCode">Swipeable</code> component. Swiping is a common mobile pattern, and it allows the user to discover how things work without feeling intimidated.</p>
    <p class="normal">In the next chapter, we’ll learn how to control animation using React Native.</p>
  </div>
</body></html>