<html><head></head><body>
		<div id="_idContainer126">
			<h1 id="_idParaDest-155" class="chapter-number"><a id="_idTextAnchor163"/><span class="koboSpan" id="kobo.1.1">12</span></h1>
			<h1 id="_idParaDest-156"><a id="_idTextAnchor164"/><span class="koboSpan" id="kobo.2.1">Achieving Client-Side Validation with VeeValidate</span></h1>
			<p><span class="koboSpan" id="kobo.3.1">A website is not complete until it has a form of some sort. </span><span class="koboSpan" id="kobo.3.2">Contact Us, feedback, and comment forms are just a few examples that we may be required to develop and validate in our </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">Vue.js application.</span></span></p>
			<p><span class="koboSpan" id="kobo.5.1">In this chapter, we will explain what makes a semantically correct form, introduce the available fields, and talk through its accessibility needs. </span><span class="koboSpan" id="kobo.5.2">We will then update our </span><strong class="source-inline"><span class="koboSpan" id="kobo.6.1">CreatePost</span></strong><span class="koboSpan" id="kobo.7.1"> component and learn how to handle form fields and manage two-way binding using </span><strong class="source-inline"><span class="koboSpan" id="kobo.8.1">v-model</span></strong><span class="koboSpan" id="kobo.9.1">. </span><span class="koboSpan" id="kobo.9.2">Next, we will move on to creating a new form called </span><strong class="source-inline"><span class="koboSpan" id="kobo.10.1">contactUs</span></strong><span class="koboSpan" id="kobo.11.1">. </span><span class="koboSpan" id="kobo.11.2">This will be </span><a id="_idIndexMarker626"/><span class="koboSpan" id="kobo.12.1">used to introduce a new package called </span><strong class="old"><span class="koboSpan" id="kobo.13.1">VeeValidate</span></strong><span class="koboSpan" id="kobo.14.1">. </span><span class="koboSpan" id="kobo.14.2">Finally, we will learn how to develop custom validation rules and how to simplify our validation by using VeeValidate </span><span class="No-Break"><span class="koboSpan" id="kobo.15.1">preset rules.</span></span></p>
			<p><span class="koboSpan" id="kobo.16.1">In this chapter, we will cover </span><span class="No-Break"><span class="koboSpan" id="kobo.17.1">the following:</span></span></p>
			<ul>
				<li><span class="No-Break"><span class="koboSpan" id="kobo.18.1">Understanding forms</span></span></li>
				<li><span class="koboSpan" id="kobo.19.1">Two-way binding </span><span class="No-Break"><span class="koboSpan" id="kobo.20.1">with </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.21.1">v-model</span></strong></span></li>
				<li><span class="koboSpan" id="kobo.22.1">Controlling your form </span><span class="No-Break"><span class="koboSpan" id="kobo.23.1">using VeeValidate</span></span></li>
				<li><span class="koboSpan" id="kobo.24.1">Defining your form validation </span><span class="No-Break"><span class="koboSpan" id="kobo.25.1">with VeeValidate</span></span></li>
			</ul>
			<p><span class="koboSpan" id="kobo.26.1">By the end of the chapter, you should have gained a good understanding of forms and how to handle them in Vue.js. </span><span class="koboSpan" id="kobo.26.2">You will be able to define well-structured and accessible forms, handle user input with </span><strong class="source-inline"><span class="koboSpan" id="kobo.27.1">v-model</span></strong><span class="koboSpan" id="kobo.28.1">, and define complex forms with validation </span><span class="No-Break"><span class="koboSpan" id="kobo.29.1">using VeeValidate.</span></span></p>
			<h1 id="_idParaDest-157"><a id="_idTextAnchor165"/><span class="koboSpan" id="kobo.30.1">Technical requirements</span></h1>
			<p><span class="koboSpan" id="kobo.31.1">In this chapter, the branch is called </span><strong class="source-inline"><span class="koboSpan" id="kobo.32.1">CH12</span></strong><span class="koboSpan" id="kobo.33.1">. </span><span class="koboSpan" id="kobo.33.2">To pull this branch, run the following command or use your GUI of choice to support you in </span><span class="No-Break"><span class="koboSpan" id="kobo.34.1">this operation:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.35.1">
git switch CH12</span></pre>
			<p><span class="koboSpan" id="kobo.36.1">The code files for the chapter can be found </span><span class="No-Break"><span class="koboSpan" id="kobo.37.1">at </span></span><a href="https://github.com/PacktPublishing/Vue.js-3-for-Beginners"><span class="No-Break"><span class="koboSpan" id="kobo.38.1">https://github.com/PacktPublishing/Vue.js-3-for-Beginners</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.39.1">.</span></span></p>
			<h1 id="_idParaDest-158"><a id="_idTextAnchor166"/><span class="koboSpan" id="kobo.40.1">Understanding forms</span></h1>
			<p><span class="koboSpan" id="kobo.41.1">Whether you are new to development or you already have some experience, it is important to spend a bit of time looking at what makes a good form and how to best </span><span class="No-Break"><span class="koboSpan" id="kobo.42.1">define forms.</span></span></p>
			<p><span class="koboSpan" id="kobo.43.1">I started to learn </span><a id="_idIndexMarker627"/><span class="koboSpan" id="kobo.44.1">forms over 10 years ago but still, for me, there was something new to learn while I completed my research for this chapter. </span><span class="koboSpan" id="kobo.44.2">HTML5 enhancement and accessibility requirements have modified the way we define forms. </span><span class="koboSpan" id="kobo.44.3">In this section, we are going to understand what makes a good form, and then, in later sections, we will use this knowledge to define some forms in our </span><span class="No-Break"><span class="koboSpan" id="kobo.45.1">Companion App.</span></span></p>
			<p><span class="koboSpan" id="kobo.46.1">In most static sites, such as brochure sites or blogs, forms are the only time in which a user interacts with your site, and as such, they need to offer a great user experience (UX)  and be as accessible </span><span class="No-Break"><span class="koboSpan" id="kobo.47.1">as possible.</span></span></p>
			<p><span class="koboSpan" id="kobo.48.1">A good form includes three </span><span class="No-Break"><span class="koboSpan" id="kobo.49.1">different aspects:</span></span></p>
			<ul>
				<li><span class="koboSpan" id="kobo.50.1">It is </span><span class="No-Break"><span class="koboSpan" id="kobo.51.1">semantically correct</span></span></li>
				<li><span class="koboSpan" id="kobo.52.1">It </span><span class="No-Break"><span class="koboSpan" id="kobo.53.1">is accessible</span></span></li>
				<li><span class="koboSpan" id="kobo.54.1">It </span><span class="No-Break"><span class="koboSpan" id="kobo.55.1">is validated</span></span></li>
			</ul>
			<p><span class="koboSpan" id="kobo.56.1">By the end of this chapter, we will have covered all three aspects, and you will be able to create </span><span class="No-Break"><span class="koboSpan" id="kobo.57.1">great forms.</span></span></p>
			<p><span class="koboSpan" id="kobo.58.1">Let’s start with the first point and see what makes a good HTML structure. </span><span class="koboSpan" id="kobo.58.2">Using the correct HTML is not only going to improve our UX but it is also going to set the foundation for the accessibility work that will be covered later in </span><span class="No-Break"><span class="koboSpan" id="kobo.59.1">the section.</span></span></p>
			<p><span class="koboSpan" id="kobo.60.1">Please note that this book is not about basic HTML and JavaScript but it focuses on Vue.js. </span><span class="koboSpan" id="kobo.60.2">For this reason, this section is just going to be a very quick introduction to forms; we will not spend too much time going into the details but will cover the main topics so that you can follow the rest of the chapter at ease and ensure that your form is </span><span class="No-Break"><span class="koboSpan" id="kobo.61.1">well structured.</span></span></p>
			<h2 id="_idParaDest-159"><a id="_idTextAnchor167"/><span class="koboSpan" id="kobo.62.1">Wrapping your form within the &lt;form&gt; element</span></h2>
			<p><span class="koboSpan" id="kobo.63.1">Let’s start with the basics that are often overlooked. </span><span class="koboSpan" id="kobo.63.2">All forms need to be wrapped within a </span><strong class="source-inline"><span class="koboSpan" id="kobo.64.1">&lt;form&gt;</span></strong><span class="koboSpan" id="kobo.65.1"> element. </span><span class="koboSpan" id="kobo.65.2">This is not just something nice to do but it also has some very </span><a id="_idIndexMarker628"/><span class="koboSpan" id="kobo.66.1">important meaning </span><span class="No-Break"><span class="koboSpan" id="kobo.67.1">behind it.</span></span></p>
			<p><span class="koboSpan" id="kobo.68.1">Using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.69.1">&lt;form&gt;</span></strong><span class="koboSpan" id="kobo.70.1"> element has three benefits. </span><span class="koboSpan" id="kobo.70.2">First, it informs the browser about the presence </span><a id="_idIndexMarker629"/><span class="koboSpan" id="kobo.71.1">of a form (important for browser extension). </span><span class="koboSpan" id="kobo.71.2">Second, it improves the UX for visually impaired users who use a screen reader (software that reads the page for users) by supporting </span><strong class="old"><span class="koboSpan" id="kobo.72.1">Form</span></strong><span class="koboSpan" id="kobo.73.1"> mode (a specific mode used by screen readers to complete forms on websites). </span><span class="koboSpan" id="kobo.73.2">Next, it helps to </span><span class="No-Break"><span class="koboSpan" id="kobo.74.1">handle validation.</span></span></p>
			<p><span class="koboSpan" id="kobo.75.1">You may be </span><a id="_idIndexMarker630"/><span class="koboSpan" id="kobo.76.1">asking yourself how the use of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.77.1">&lt;form&gt;</span></strong><span class="koboSpan" id="kobo.78.1"> element improves UX. </span><span class="koboSpan" id="kobo.78.2">Well, have you ever wondered why, sometimes, a form can be submitted by pressing the </span><em class="italic"><span class="koboSpan" id="kobo.79.1">Enter</span></em><span class="koboSpan" id="kobo.80.1"> key and sometimes it can’t? </span><span class="koboSpan" id="kobo.80.2">Well, this is driven by the </span><strong class="source-inline"><span class="koboSpan" id="kobo.81.1">&lt;form&gt;</span></strong><span class="koboSpan" id="kobo.82.1"> element. </span><span class="koboSpan" id="kobo.82.2">When a form is wrapped in a </span><strong class="source-inline"><span class="koboSpan" id="kobo.83.1">&lt;form&gt;</span></strong><span class="koboSpan" id="kobo.84.1"> element, if the user clicks the </span><em class="italic"><span class="koboSpan" id="kobo.85.1">Enter</span></em><span class="koboSpan" id="kobo.86.1"> key while completing it, the form will trigger its </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.87.1">submit</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.88.1"> method.</span></span></p>
			<h2 id="_idParaDest-160"><a id="_idTextAnchor168"/><span class="koboSpan" id="kobo.89.1">Do not forget labels</span></h2>
			<p><span class="koboSpan" id="kobo.90.1">The topic of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.91.1">&lt;label&gt;</span></strong><span class="koboSpan" id="kobo.92.1"> element holds a special place in my heart. </span><span class="koboSpan" id="kobo.92.2">Many developers and designers </span><a id="_idIndexMarker631"/><span class="koboSpan" id="kobo.93.1">miss the importance of this element and either remove it </span><a id="_idIndexMarker632"/><span class="koboSpan" id="kobo.94.1">from the UI or misuse it. </span><span class="koboSpan" id="kobo.94.2">There was a trend a few years ago to develop compact form designs in which the placeholder replaced the label. </span><span class="koboSpan" id="kobo.94.3">These forms seemed very clear and started to be used everywhere, but they were a big failure from a UX perspective. </span><span class="koboSpan" id="kobo.94.4">Even if they look great, they can be hard to use because the placeholder disappears as soon as the user (or the browser) types something in the field and cannot be seen again until the user removes </span><span class="No-Break"><span class="koboSpan" id="kobo.95.1">the entry.</span></span></p>
			<p><span class="koboSpan" id="kobo.96.1">Another problem with labels is the fact that they are essential from an accessibility perspective. </span><span class="koboSpan" id="kobo.96.2">In fact, without them, a visually impaired user would not be able to know what the field is about and, therefore, would be unable to fill in the </span><span class="No-Break"><span class="koboSpan" id="kobo.97.1">form completely.</span></span></p>
			<p><span class="koboSpan" id="kobo.98.1">A label can be used in two different ways. </span><span class="koboSpan" id="kobo.98.2">It can either be used as a standalone element, using the ID to link it to an input field, or it can wrap the input field to which </span><span class="No-Break"><span class="koboSpan" id="kobo.99.1">it belongs:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.100.1">
// Label standalone
&lt;label for="name"&gt;Name:&lt;/label&gt;
&lt;input type="text" name="name" id="name"&gt;
// label wrapping input
&lt;label&gt;Email:
  &lt;input type="email" name="email" id="email"&gt;
&lt;/label&gt;</span></pre>
			<p><span class="koboSpan" id="kobo.101.1">Both methods </span><a id="_idIndexMarker633"/><span class="koboSpan" id="kobo.102.1">are semantically correct, and their use is usually </span><a id="_idIndexMarker634"/><span class="koboSpan" id="kobo.103.1">driven by the design that you may need </span><span class="No-Break"><span class="koboSpan" id="kobo.104.1">to achieve.</span></span></p>
			<h2 id="_idParaDest-161"><a id="_idTextAnchor169"/><span class="koboSpan" id="kobo.105.1">There is more than just type=”text”</span></h2>
			<p><span class="koboSpan" id="kobo.106.1">As I mentioned before, I started using forms a long time ago, and one thing that has progressed </span><a id="_idIndexMarker635"/><span class="koboSpan" id="kobo.107.1">over time is the different types of input available nowadays </span><a id="_idIndexMarker636"/><span class="koboSpan" id="kobo.108.1">and supported in all </span><span class="No-Break"><span class="koboSpan" id="kobo.109.1">major browsers.</span></span></p>
			<p><span class="koboSpan" id="kobo.110.1">This is the list of all available </span><span class="No-Break"><span class="koboSpan" id="kobo.111.1">input types:</span></span></p>
			<ul>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.112.1">button</span></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.113.1">checkbox</span></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.114.1">color</span></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.115.1">date</span></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.116.1">datetime-local</span></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.117.1">email</span></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.118.1">file</span></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.119.1">hidden</span></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.120.1">image</span></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.121.1">month</span></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.122.1">number</span></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.123.1">password</span></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.124.1">radio</span></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.125.1">range</span></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.126.1">reset</span></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.127.1">search</span></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.128.1">submit</span></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.129.1">tel</span></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.130.1">text</span></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.131.1">time</span></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.132.1">url</span></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.133.1">week</span></strong></span></li>
			</ul>
			<p><span class="koboSpan" id="kobo.134.1">Browsers offer </span><a id="_idIndexMarker637"/><span class="koboSpan" id="kobo.135.1">fields for telephone numbers, dates, and even for email. </span><span class="koboSpan" id="kobo.135.2">But what </span><a id="_idIndexMarker638"/><span class="koboSpan" id="kobo.136.1">would be the benefit of using them? </span><span class="koboSpan" id="kobo.136.2">Why not just use a simple </span><strong class="source-inline"><span class="koboSpan" id="kobo.137.1">text</span></strong><span class="koboSpan" id="kobo.138.1"> field? </span><span class="koboSpan" id="kobo.138.2">Well, the difference may not be in the way the field looks but, rather, in the way the </span><span class="No-Break"><span class="koboSpan" id="kobo.139.1">field works.</span></span></p>
			<p><span class="koboSpan" id="kobo.140.1">Different fields may trigger different UIs. </span><span class="koboSpan" id="kobo.140.2">For example, a </span><strong class="source-inline"><span class="koboSpan" id="kobo.141.1">date</span></strong><span class="koboSpan" id="kobo.142.1"> field will open a calendar when clicked, a </span><strong class="source-inline"><span class="koboSpan" id="kobo.143.1">number</span></strong><span class="koboSpan" id="kobo.144.1"> field might show little toggles, and so on. </span><span class="koboSpan" id="kobo.144.2">This improvement in UX is even more noticeable on mobile phones where handsets can provide well-defined native components to support users in completing </span><span class="No-Break"><span class="koboSpan" id="kobo.145.1">their forms.</span></span></p>
			<h2 id="_idParaDest-162"><a id="_idTextAnchor170"/><span class="koboSpan" id="kobo.146.1">Setting your form to be autocompleted</span></h2>
			<p><span class="koboSpan" id="kobo.147.1">Who doesn’t love a form that is completely autocompleted by the browser? </span><span class="koboSpan" id="kobo.147.2">Luckily for us, browsers </span><a id="_idIndexMarker639"/><span class="koboSpan" id="kobo.148.1">are working very hard to complete as much of the form as possible out of the box. </span><span class="koboSpan" id="kobo.148.2">There are a couple of things that we can do to </span><span class="No-Break"><span class="koboSpan" id="kobo.149.1">help browsers.</span></span></p>
			<p><span class="koboSpan" id="kobo.150.1">First and foremost, we need to inform the browser that we would like the form to be autocompleted. </span><span class="koboSpan" id="kobo.150.2">This is not done automatically but requires the </span><strong class="source-inline"><span class="koboSpan" id="kobo.151.1">&lt;form&gt;</span></strong><span class="koboSpan" id="kobo.152.1"> element to receive an </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.153.1">autocomplete</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.154.1"> attribute:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.155.1">
&lt;form autocomplete &gt;...&lt;/form&gt;</span></pre>
			<p><span class="koboSpan" id="kobo.156.1">Next is ensuring that we describe the field with the correct name, as browsers can read the name and assign the correct field. </span><span class="koboSpan" id="kobo.156.2">So, if a field is an address, you should give it the proper name of </span><strong class="source-inline"><span class="koboSpan" id="kobo.157.1">address</span></strong><span class="koboSpan" id="kobo.158.1"> and not use shorthand such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.159.1">addr</span></strong><span class="koboSpan" id="kobo.160.1"> or something else that the browser </span><span class="No-Break"><span class="koboSpan" id="kobo.161.1">cannot understand.</span></span></p>
			<p><span class="koboSpan" id="kobo.162.1">Last but not least is defining the correct value to assign to the autocomplete attribute. </span><span class="koboSpan" id="kobo.162.2">Setting </span><strong class="source-inline"><span class="koboSpan" id="kobo.163.1">autocomplete</span></strong><span class="koboSpan" id="kobo.164.1"> on the main form may not be all that is needed. </span><span class="koboSpan" id="kobo.164.2">Sometimes, as in the case </span><a id="_idIndexMarker640"/><span class="koboSpan" id="kobo.165.1">of browser extension used to autocomplete your passwords, the browser requires further information, and this can be passed using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.166.1">autocomplete</span></strong><span class="koboSpan" id="kobo.167.1"> attribute directly on the field. </span><strong class="source-inline"><span class="koboSpan" id="kobo.168.1">autocomplete</span></strong><span class="koboSpan" id="kobo.169.1"> can accept different values depending on the role of the input. </span><span class="koboSpan" id="kobo.169.2">Here are </span><span class="No-Break"><span class="koboSpan" id="kobo.170.1">some examples:</span></span></p>
			<ul>
				<li><span class="koboSpan" id="kobo.171.1">For </span><span class="No-Break"><span class="koboSpan" id="kobo.172.1">a username:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.173.1">
&lt;input type="email" autocomplete="username" id="email" /&gt;</span></pre></li>
				<li><span class="koboSpan" id="kobo.174.1">For a </span><span class="No-Break"><span class="koboSpan" id="kobo.175.1">sign-up form:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.176.1">
&lt;input type="password" autocomplete="new-password" id="new-password" /&gt;</span></pre></li>
				<li><span class="koboSpan" id="kobo.177.1">For </span><span class="No-Break"><span class="koboSpan" id="kobo.178.1">signing in:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.179.1">
&lt;input type="password" autocomplete="current-password" id="current-password" /&gt;</span></pre></li>
			</ul>
			<p><span class="koboSpan" id="kobo.180.1">As shown by the username example, the type and name of the input do not have to match their </span><strong class="source-inline"><span class="koboSpan" id="kobo.181.1">autocomplete</span></strong><span class="koboSpan" id="kobo.182.1"> value. </span><span class="koboSpan" id="kobo.182.2">In fact, in the case of the username, even if the browser sees and uses the field as an email, a password tool would fill the field with </span><span class="No-Break"><span class="koboSpan" id="kobo.183.1">the username.</span></span></p>
			<p><span class="koboSpan" id="kobo.184.1">In this section, we have learned how to define a good form. </span><span class="koboSpan" id="kobo.184.2">Wrapping the form in </span><strong class="source-inline"><span class="koboSpan" id="kobo.185.1">&lt;form&gt;</span></strong><span class="koboSpan" id="kobo.186.1">, setting </span><strong class="source-inline"><span class="koboSpan" id="kobo.187.1">autocomplete</span></strong><span class="koboSpan" id="kobo.188.1">, defining the correct labels for each field, and using the correct input type are just a few steps that we can take to ensure that our users have a great experience in filling out </span><span class="No-Break"><span class="koboSpan" id="kobo.189.1">our form.</span></span></p>
			<p><span class="koboSpan" id="kobo.190.1">In the next section, we will learn how to define and use forms in Vue.js and how the framework can help us improve the </span><span class="No-Break"><span class="koboSpan" id="kobo.191.1">UX further.</span></span></p>
			<h1 id="_idParaDest-163"><a id="_idTextAnchor171"/><span class="koboSpan" id="kobo.192.1">Two-way binding with v-model</span></h1>
			<p><span class="koboSpan" id="kobo.193.1">In the previous section, we learned how our form should be defined, and it is now time to put this </span><a id="_idIndexMarker641"/><span class="koboSpan" id="kobo.194.1">learning into practice by enhancing our Companion App with a couple of forms. </span><span class="koboSpan" id="kobo.194.2">In this section, we will learn how to use </span><strong class="source-inline"><span class="koboSpan" id="kobo.195.1">v-model</span></strong><span class="koboSpan" id="kobo.196.1"> to enable </span><a id="_idIndexMarker642"/><span class="koboSpan" id="kobo.197.1">our input field to accomplish two-way binding, which is a term used to describe when a field can emit change events and update values simultaneously (</span><span class="No-Break"><span class="koboSpan" id="kobo.198.1">hence two-way).</span></span></p>
			<p><span class="koboSpan" id="kobo.199.1">In the previous chapter, we mentioned that the solution used to manage the value in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.200.1">CreatePost</span></strong><span class="koboSpan" id="kobo.201.1"> component was suboptimal, and it is now time to align it to use the best </span><span class="No-Break"><span class="koboSpan" id="kobo.202.1">industry standards.</span></span></p>
			<p><span class="koboSpan" id="kobo.203.1">Let’s start by rephrasing what two-way binding really achieves. </span><span class="koboSpan" id="kobo.203.2">Let’s consider an input field, for example. </span><span class="koboSpan" id="kobo.203.3">Until now, we have learned how to set the value of this field using </span><strong class="source-inline"><span class="koboSpan" id="kobo.204.1">ref</span></strong><span class="koboSpan" id="kobo.205.1">. </span><span class="koboSpan" id="kobo.205.2">The use of </span><strong class="source-inline"><span class="koboSpan" id="kobo.206.1">ref</span></strong><span class="koboSpan" id="kobo.207.1"> allows us to set the value of a specific input field at load, but this is not very useful when it comes to forms, as we want the value to be set by the visitor’s input. </span><span class="koboSpan" id="kobo.207.2">In the previous chapter, we learned how to use events to emit change, so in the case of an input field, we could emit a change event that changes the R</span><strong class="source-inline"><span class="koboSpan" id="kobo.208.1">ef</span></strong><span class="koboSpan" id="kobo.209.1">  variable and, in turn, updates the value of </span><span class="No-Break"><span class="koboSpan" id="kobo.210.1">the field.</span></span></p>
			<p><span class="koboSpan" id="kobo.211.1">This would look something </span><span class="No-Break"><span class="koboSpan" id="kobo.212.1">like this:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.213.1">
&lt;input value="firstName" @input="firstName= $event.target.value" /&gt;</span></pre>
			<p><span class="koboSpan" id="kobo.214.1">Even if the preceding code does achieve two-way binding, it does not really look clean, and adding this all over our forms would make the HTML very hard </span><span class="No-Break"><span class="koboSpan" id="kobo.215.1">to read.</span></span></p>
			<p><span class="koboSpan" id="kobo.216.1">Luckily for us, the Vue.js framework has a nice shortcut that will make our HTML clean, </span><span class="No-Break"><span class="koboSpan" id="kobo.217.1">called </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.218.1">v-model</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.219.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.220.1">Changing the preceding to use </span><strong class="source-inline"><span class="koboSpan" id="kobo.221.1">v-model</span></strong><span class="koboSpan" id="kobo.222.1"> would result in the </span><span class="No-Break"><span class="koboSpan" id="kobo.223.1">following syntax:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.224.1">
&lt;input v-model="firstName" /&gt;</span></pre>
			<p><span class="koboSpan" id="kobo.225.1">Behind the scenes, </span><strong class="source-inline"><span class="koboSpan" id="kobo.226.1">v-model</span></strong><span class="koboSpan" id="kobo.227.1"> and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.228.1">event</span></strong><span class="koboSpan" id="kobo.229.1">/</span><strong class="source-inline"><span class="koboSpan" id="kobo.230.1">value</span></strong><span class="koboSpan" id="kobo.231.1"> syntax produce the same code, but due to the clean and concise code of </span><strong class="source-inline"><span class="koboSpan" id="kobo.232.1">v-model</span></strong><span class="koboSpan" id="kobo.233.1">, it is the suggested option to achieve two-way binding when possible (there may be cases in which we would need to handle events manually to handle specific side effects; in these scenarios, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.234.1">event</span></strong><span class="koboSpan" id="kobo.235.1">/</span><strong class="source-inline"><span class="koboSpan" id="kobo.236.1">value</span></strong><span class="koboSpan" id="kobo.237.1"> syntax may </span><span class="No-Break"><span class="koboSpan" id="kobo.238.1">be preferred).</span></span></p>
			<p><span class="koboSpan" id="kobo.239.1">Now that </span><a id="_idIndexMarker643"/><span class="koboSpan" id="kobo.240.1">we have learned about the syntax and how to </span><a id="_idIndexMarker644"/><span class="koboSpan" id="kobo.241.1">define the form, let’s go back and apply our learning to the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.242.1">CreatePost</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.243.1"> component:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.244.1">
&lt;template&gt;
  &lt;form
    v-show="postsStore.inProgress"
</span><strong class="old"><span class="koboSpan" id="kobo.245.1">    ref="createPostForm"</span></strong><span class="koboSpan" id="kobo.246.1">
    @submit.prevent="createPostHandler"
&gt;
    &lt;h2&gt;Create a Post&lt;/h2&gt;
    </span><strong class="old"><span class="koboSpan" id="kobo.247.1">&lt;label for="post"&gt;Enter your post body:&lt;/label&gt;</span></strong><span class="koboSpan" id="kobo.248.1">
    &lt;textarea
      rows="4"
      cols="20"
      ref="textareaRef"
      required="true"
      minlength="10"
      </span><strong class="old"><span class="koboSpan" id="kobo.249.1">v-model="postText"</span></strong><span class="koboSpan" id="kobo.250.1">
      </span><strong class="old"><span class="koboSpan" id="kobo.251.1">name="post"</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.252.1">      id="post"</span></strong><span class="koboSpan" id="kobo.253.1">
    &gt;&lt;/textarea&gt;
    &lt;TheButton&gt;Create Post&lt;/TheButton&gt;
  &lt;/form&gt;
&lt;/template&gt;
&lt;script setup&gt;
import TheButton from '../atoms/TheButton.vue';
import { usePostsStore } from '../../stores/posts';
import { onMounted, ref } from 'vue';
const postsStore = usePostsStore();
const { addPost } = postsStore;
const textareaRef = ref(null);
</span><strong class="old"><span class="koboSpan" id="kobo.254.1">const createPostForm = ref(null);</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.255.1">const postText = ref("");</span></strong><span class="koboSpan" id="kobo.256.1">
const createPostHandler = (event) =&gt; {
</span><strong class="old"><span class="koboSpan" id="kobo.257.1">  event.preventDefault();</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.258.1">  if(createPostForm.value.reportValidity()){</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.259.1">      addPost(textareaRef.value.value);</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.260.1">  };</span></strong><span class="koboSpan" id="kobo.261.1">
  addPost(</span><strong class="old"><span class="koboSpan" id="kobo.262.1">postText.value)</span></strong><span class="koboSpan" id="kobo.263.1">;
}
onMounted( () =&gt; {
  textareaRef.value.focus();
});
&lt;/script&gt;</span></pre>
			<p><span class="koboSpan" id="kobo.264.1">Let’s break </span><a id="_idIndexMarker645"/><span class="koboSpan" id="kobo.265.1">down all the changes we applied to our form. </span><span class="koboSpan" id="kobo.265.2">First, we removed the R</span><strong class="source-inline"><span class="koboSpan" id="kobo.266.1">ef</span></strong><span class="koboSpan" id="kobo.267.1"> initialization of </span><strong class="source-inline"><span class="koboSpan" id="kobo.268.1">createPostForm</span></strong><span class="koboSpan" id="kobo.269.1">. </span><span class="koboSpan" id="kobo.269.2">This reference </span><a id="_idIndexMarker646"/><span class="koboSpan" id="kobo.270.1">was made to hold the value of the HTML form, but this is no longer needed after the refactor. </span><span class="koboSpan" id="kobo.270.2">Next, we created a reference called </span><strong class="source-inline"><span class="koboSpan" id="kobo.271.1">postText</span></strong><span class="koboSpan" id="kobo.272.1"> that will hold the value of our input field. </span><span class="koboSpan" id="kobo.272.2">We then added </span><strong class="source-inline"><span class="koboSpan" id="kobo.273.1">v-model</span></strong><span class="koboSpan" id="kobo.274.1"> within our input field, assigning it to the newly </span><span class="No-Break"><span class="koboSpan" id="kobo.275.1">created </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.276.1">postText</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.277.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.278.1">At the first load, the input field is going to be an empty string (</span><strong class="source-inline"><span class="koboSpan" id="kobo.279.1">const postText = ref("");)</span></strong><span class="koboSpan" id="kobo.280.1">, but this value is going to be automatically updated by </span><strong class="source-inline"><span class="koboSpan" id="kobo.281.1">v-model</span></strong><span class="koboSpan" id="kobo.282.1"> as the user types into the input field. </span><span class="koboSpan" id="kobo.282.2">Behind the scenes, </span><strong class="source-inline"><span class="koboSpan" id="kobo.283.1">v-model</span></strong><span class="koboSpan" id="kobo.284.1"> assigns the value on the first load and then automatically updates it every time the input field emits a </span><span class="No-Break"><span class="koboSpan" id="kobo.285.1">change event.</span></span></p>
			<p><span class="koboSpan" id="kobo.286.1">While refactoring the form, we also introduced a small enhancement by adding a </span><strong class="source-inline"><span class="koboSpan" id="kobo.287.1">.prevent</span></strong><span class="koboSpan" id="kobo.288.1"> modifier to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.289.1">@submit</span></strong><span class="koboSpan" id="kobo.290.1"> event. </span><span class="koboSpan" id="kobo.290.2">Doing so automatically calls </span><strong class="source-inline"><span class="koboSpan" id="kobo.291.1">event.preventDefault()</span></strong><span class="koboSpan" id="kobo.292.1"> when submitting </span><span class="No-Break"><span class="koboSpan" id="kobo.293.1">our form.</span></span></p>
			<p><span class="koboSpan" id="kobo.294.1">The last change is in the payload of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.295.1">addPost</span></strong><span class="koboSpan" id="kobo.296.1"> method. </span><span class="koboSpan" id="kobo.296.2">This method is now using </span><strong class="source-inline"><span class="koboSpan" id="kobo.297.1">postText.value</span></strong><span class="koboSpan" id="kobo.298.1"> instead of using the input reference to get </span><span class="No-Break"><span class="koboSpan" id="kobo.299.1">the value.</span></span></p>
			<p class="callout-heading"><span class="koboSpan" id="kobo.300.1">Quick reminder</span></p>
			<p class="callout"><span class="koboSpan" id="kobo.301.1">Just a quick reminder that using Template Ref to get an input value was just used for teaching purposes and should not be used in real life. </span><span class="koboSpan" id="kobo.301.2">Using Template R</span><strong class="source-inline"><span class="koboSpan" id="kobo.302.1">ef</span></strong><span class="koboSpan" id="kobo.303.1"> to access the HTML object should just be used for methods and actions that cannot be achieved with basic Vue.js features such as directives, computed properties, </span><span class="No-Break"><span class="koboSpan" id="kobo.304.1">and events.</span></span></p>
			<p><span class="koboSpan" id="kobo.305.1">At this </span><a id="_idIndexMarker647"/><span class="koboSpan" id="kobo.306.1">stage, the form is fully working using Vue.js </span><a id="_idIndexMarker648"/><span class="koboSpan" id="kobo.307.1">two-way binding supported by </span><strong class="source-inline"><span class="koboSpan" id="kobo.308.1">v-model</span></strong><span class="koboSpan" id="kobo.309.1">. </span><span class="koboSpan" id="kobo.309.2">If we try to use the form, this will work as expected and either create a post or show the browser native validation on incorrect input, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.310.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.311.1">.1</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.312.1">.</span></span></p>
			<div>
				<div id="_idContainer122" class="IMG---Figure">
					<span class="koboSpan" id="kobo.313.1"><img src="image/B21130_12_01.jpg" alt="Figure 12.1: Native validation message shown in the Create a Post form"/></span>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.314.1">Figure 12.1: Native validation message shown in the Create a Post form</span></p>
			<p><span class="koboSpan" id="kobo.315.1">With the knowledge you have gained in this section, you will be able to create forms and handle user input within your application. </span><span class="koboSpan" id="kobo.315.2">In many scenarios, the validation offered by the native browser is either not “pretty” enough or does not fulfill the validation requirement of </span><span class="No-Break"><span class="koboSpan" id="kobo.316.1">the form.</span></span></p>
			<p><span class="koboSpan" id="kobo.317.1">For this reason, in the next section, we are going to learn how to use an external package called VeeValidate to control the validation of </span><span class="No-Break"><span class="koboSpan" id="kobo.318.1">our forms.</span></span></p>
			<h1 id="_idParaDest-164"><a id="_idTextAnchor172"/><span class="koboSpan" id="kobo.319.1">Controlling your form using VeeValidate</span></h1>
			<p><span class="koboSpan" id="kobo.320.1">In the previous section, we learned how to handle user input such as form fields using </span><strong class="source-inline"><span class="koboSpan" id="kobo.321.1">v-model</span></strong><span class="koboSpan" id="kobo.322.1">, but in real life, handling forms is a little more complicated than just setting </span><span class="No-Break"><span class="koboSpan" id="kobo.323.1">two-way binding.</span></span></p>
			<p><span class="koboSpan" id="kobo.324.1">In fact, a complete </span><a id="_idIndexMarker649"/><span class="koboSpan" id="kobo.325.1">form will include complex </span><a id="_idIndexMarker650"/><span class="koboSpan" id="kobo.326.1">validation and error handling, just to name a couple. </span><span class="koboSpan" id="kobo.326.2">Even if we could achieve this feature manually using Vue.js, we would probably end up investing a lot of time and effort in something that is well handled by an external package. </span><span class="koboSpan" id="kobo.326.3">For this reason, in this section, we are going to introduce </span><strong class="old"><span class="koboSpan" id="kobo.327.1">VeeValidate</span></strong><span class="koboSpan" id="kobo.328.1">, which is </span><a id="_idIndexMarker651"/><span class="koboSpan" id="kobo.329.1">a package aimed at making form </span><span class="No-Break"><span class="koboSpan" id="kobo.330.1">development easy.</span></span></p>
			<p><span class="koboSpan" id="kobo.331.1">On the </span><a id="_idIndexMarker652"/><span class="koboSpan" id="kobo.332.1">official website (</span><a href="https://vee-validate.logaretm.com/"><span class="koboSpan" id="kobo.333.1">https://vee-validate.logaretm.com/</span></a><span class="koboSpan" id="kobo.334.1">), VeeValidate is described </span><span class="No-Break"><span class="koboSpan" id="kobo.335.1">as follows:</span></span></p>
			<p class="author-quote"><span class="koboSpan" id="kobo.336.1">“VeeValidate is the most popular Vue.js form library. </span><span class="koboSpan" id="kobo.336.2">It takes care of value tracking, validation, errors, submissions and more.”</span></p>
			<p><span class="koboSpan" id="kobo.337.1">Using an external package is not required for every single form you will ever write, but it is useful if you want to create a well-written form, as the package provides you with a consistent way to define and </span><span class="No-Break"><span class="koboSpan" id="kobo.338.1">handle logic.</span></span></p>
			<p><span class="koboSpan" id="kobo.339.1">The first step when dealing with a Node package is its installation. </span><span class="koboSpan" id="kobo.339.2">To install VeeValidate, we will have to open the terminal at the root of our project and run the </span><span class="No-Break"><span class="koboSpan" id="kobo.340.1">following command:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.341.1">
npm install vee-validate</span></pre>
			<p><span class="koboSpan" id="kobo.342.1">This command will add the package to our repository for us to import </span><span class="No-Break"><span class="koboSpan" id="kobo.343.1">and use.</span></span></p>
			<p><span class="koboSpan" id="kobo.344.1">In the next step, we will create a form and learn how to use this package to make form development easy and consistent. </span><span class="koboSpan" id="kobo.344.2">We could have reused the </span><strong class="old"><span class="koboSpan" id="kobo.345.1">Create a Post</span></strong><span class="koboSpan" id="kobo.346.1"> form, but we will create a new one so that you have both examples to look at in the future within your </span><span class="No-Break"><span class="koboSpan" id="kobo.347.1">code base.</span></span></p>
			<p><span class="koboSpan" id="kobo.348.1">Some of the scaffolding for this new form is already in place. </span><span class="koboSpan" id="kobo.348.2">We have a new button on the sidebar with the label </span><strong class="old"><span class="koboSpan" id="kobo.349.1">Contact Us</span></strong><span class="koboSpan" id="kobo.350.1">, a new page added to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.351.1">router</span></strong><span class="koboSpan" id="kobo.352.1"> object, and a Vue.js component called </span><strong class="source-inline"><span class="koboSpan" id="kobo.353.1">ContactView.vue</span></strong><span class="koboSpan" id="kobo.354.1"> that uses the static template we defined in a previous chapter. </span><span class="koboSpan" id="kobo.354.2">Last but not least, we also have a basic page scaffolding with a component called </span><strong class="source-inline"><span class="koboSpan" id="kobo.355.1">ContactUs</span></strong><span class="koboSpan" id="kobo.356.1"> that is going to be our playground for the creation of this </span><span class="No-Break"><span class="koboSpan" id="kobo.357.1">new form.</span></span></p>
			<p><span class="koboSpan" id="kobo.358.1">To better </span><a id="_idIndexMarker653"/><span class="koboSpan" id="kobo.359.1">understand VeeValidate, we are going to </span><a id="_idIndexMarker654"/><span class="koboSpan" id="kobo.360.1">build our form in steps, starting from the basic </span><span class="No-Break"><span class="koboSpan" id="kobo.361.1">form creation:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.362.1">
&lt;template&gt;
</span><strong class="old"><span class="koboSpan" id="kobo.363.1">  &lt;form @submit="handleSubmit"&gt;</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.364.1">    &lt;label for="email"&gt;Email&lt;/label&gt;</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.365.1">    &lt;label for="message"&gt;Message&lt;/label&gt;</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.366.1">    &lt;TheButton&gt;Send&lt;/TheButton&gt;</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.367.1">  &lt;/form&gt;</span></strong><span class="koboSpan" id="kobo.368.1">
&lt;/template&gt;
&lt;script setup&gt;
</span><strong class="old"><span class="koboSpan" id="kobo.369.1">import TheButton from '../atoms/TheButton.vue';</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.370.1">const handleSubmit = ({email, message}) =&gt; {</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.371.1">  console.log("email:",email)</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.372.1">  console.log("message:",message);</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.373.1">};</span></strong><span class="koboSpan" id="kobo.374.1">
&lt;/script&gt;</span></pre>
			<p><span class="koboSpan" id="kobo.375.1">We created a </span><strong class="source-inline"><span class="koboSpan" id="kobo.376.1">&lt;form&gt;</span></strong><span class="koboSpan" id="kobo.377.1">  element with a </span><strong class="source-inline"><span class="koboSpan" id="kobo.378.1">submit</span></strong><span class="koboSpan" id="kobo.379.1"> event attached to a method called </span><strong class="source-inline"><span class="koboSpan" id="kobo.380.1">handleSubmit</span></strong><span class="koboSpan" id="kobo.381.1">. </span><span class="koboSpan" id="kobo.381.2">We then defined two labels, one for </span><strong class="source-inline"><span class="koboSpan" id="kobo.382.1">email</span></strong><span class="koboSpan" id="kobo.383.1"> and the other for </span><strong class="source-inline"><span class="koboSpan" id="kobo.384.1">message</span></strong><span class="koboSpan" id="kobo.385.1">, and finally, a button that will be used to submit </span><span class="No-Break"><span class="koboSpan" id="kobo.386.1">the form.</span></span></p>
			<p><span class="koboSpan" id="kobo.387.1">You may have noticed that we do not have any input fields yet. </span><span class="koboSpan" id="kobo.387.2">These were omitted on purpose because they are going to use built-in components offered </span><span class="No-Break"><span class="koboSpan" id="kobo.388.1">by VeeValidate.</span></span></p>
			<p><span class="koboSpan" id="kobo.389.1">Using VeeValidate will take full control of the form, including its state, meaning that we will not have to define or manage the individual values as we did in the previous example </span><span class="No-Break"><span class="koboSpan" id="kobo.390.1">with </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.391.1">v-model</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.392.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.393.1">The way in which VeeValidate can make this happen is with the use of built-in components that are purposely built to handle and manage the form </span><span class="No-Break"><span class="koboSpan" id="kobo.394.1">for us.</span></span></p>
			<p><span class="koboSpan" id="kobo.395.1">In this section, we are going to look at three components: </span><strong class="source-inline"><span class="koboSpan" id="kobo.396.1">Form</span></strong><span class="koboSpan" id="kobo.397.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.398.1">Field</span></strong><span class="koboSpan" id="kobo.399.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.400.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.401.1">ErrorMessage</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.402.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.403.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.404.1">Form</span></strong><span class="koboSpan" id="kobo.405.1"> component is going to replace the native &lt;form&gt; element available in HTML. </span><strong class="source-inline"><span class="koboSpan" id="kobo.406.1">Field</span></strong><span class="koboSpan" id="kobo.407.1"> is going to take the place of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.408.1">&lt;input&gt;</span></strong><span class="koboSpan" id="kobo.409.1"> field, and finally, </span><strong class="source-inline"><span class="koboSpan" id="kobo.410.1">ErrorMessage</span></strong><span class="koboSpan" id="kobo.411.1"> is going to be used to display a custom message if the field enters an </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.412.1">error</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.413.1"> state.</span></span></p>
			<p><span class="koboSpan" id="kobo.414.1">Let’s go </span><a id="_idIndexMarker655"/><span class="koboSpan" id="kobo.415.1">back to our form and update it to use the new </span><a id="_idIndexMarker656"/><span class="koboSpan" id="kobo.416.1">built-in components and then talk through how they </span><span class="No-Break"><span class="koboSpan" id="kobo.417.1">got used:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.418.1">
&lt;</span><strong class="old"><span class="koboSpan" id="kobo.419.1">f</span></strong><strong class="old"><span class="koboSpan" id="kobo.420.1">F</span></strong><span class="koboSpan" id="kobo.421.1">orm @submit="handleSubmit"&gt;
  &lt;label for="email"&gt;Email&lt;/label&gt;
</span><strong class="old"><span class="koboSpan" id="kobo.422.1">  &lt;Field</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.423.1">    id="email"</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.424.1">    type="email"</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.425.1">    name="email"</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.426.1">  &gt;&lt;/Field&gt;</span></strong><span class="koboSpan" id="kobo.427.1">
  &lt;label for="message"&gt;Message&lt;/label&gt;
 </span><strong class="old"><span class="koboSpan" id="kobo.428.1"> &lt;Field</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.429.1">    id="message"</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.430.1">    as="textarea"</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.431.1">    name="message"</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.432.1">  &gt;&lt;/Field&gt;</span></strong><span class="koboSpan" id="kobo.433.1">
  &lt;TheButton&gt;Send&lt;/TheButton&gt;
&lt;/</span><strong class="old"><span class="koboSpan" id="kobo.434.1">f</span></strong><strong class="old"><span class="koboSpan" id="kobo.435.1">F</span></strong><span class="koboSpan" id="kobo.436.1">orm&gt;
&lt;/template&gt;
&lt;script setup&gt;
</span><strong class="old"><span class="koboSpan" id="kobo.437.1">...</span></strong></pre>
			<p><span class="koboSpan" id="kobo.438.1">Our form is now updated to use VeeValidate. </span><span class="koboSpan" id="kobo.438.2">The first change may not be very noticeable, but it includes the change of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.439.1">&lt;form&gt;</span></strong><span class="koboSpan" id="kobo.440.1"> element to the VeeValidate custom element, </span><strong class="source-inline"><span class="koboSpan" id="kobo.441.1">&lt;Form&gt;</span></strong><span class="koboSpan" id="kobo.442.1">. </span><span class="koboSpan" id="kobo.442.2">The custom </span><strong class="source-inline"><span class="koboSpan" id="kobo.443.1">&lt;Form&gt;</span></strong><span class="koboSpan" id="kobo.444.1"> element is used by VeeValidate to handle the form </span><span class="No-Break"><span class="koboSpan" id="kobo.445.1">values’ state.</span></span></p>
			<p><span class="koboSpan" id="kobo.446.1">Next, we accompanied each label with a </span><strong class="source-inline"><span class="koboSpan" id="kobo.447.1">Field</span></strong><span class="koboSpan" id="kobo.448.1"> component. </span><span class="koboSpan" id="kobo.448.2">This component is imported from the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.449.1">vee-validate</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.450.1"> package.</span></span></p>
			<p><span class="koboSpan" id="kobo.451.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.452.1">Field</span></strong><span class="koboSpan" id="kobo.453.1"> component is very similar to native form elements such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.454.1">&lt;input&gt;</span></strong><span class="koboSpan" id="kobo.455.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.456.1">&lt;radio&gt;</span></strong><span class="koboSpan" id="kobo.457.1"> and accepts most of the attributes that you would use in a native input, such as placeholder and </span><span class="No-Break"><span class="koboSpan" id="kobo.458.1">name type.</span></span></p>
			<p><span class="koboSpan" id="kobo.459.1">We created </span><a id="_idIndexMarker657"/><span class="koboSpan" id="kobo.460.1">two fields. </span><span class="koboSpan" id="kobo.460.2">The first field is used for the </span><a id="_idIndexMarker658"/><span class="koboSpan" id="kobo.461.1">email and has three attributes: </span><strong class="source-inline"><span class="koboSpan" id="kobo.462.1">id</span></strong><span class="koboSpan" id="kobo.463.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.464.1">type</span></strong><span class="koboSpan" id="kobo.465.1"> (which is </span><strong class="source-inline"><span class="koboSpan" id="kobo.466.1">email</span></strong><span class="koboSpan" id="kobo.467.1">), and </span><strong class="source-inline"><span class="koboSpan" id="kobo.468.1">name</span></strong><span class="koboSpan" id="kobo.469.1">, which is going to be used to connect the field with its </span><span class="No-Break"><span class="koboSpan" id="kobo.470.1">error messages.</span></span></p>
			<p><span class="koboSpan" id="kobo.471.1">The second field is associated with </span><strong class="source-inline"><span class="koboSpan" id="kobo.472.1">message</span></strong><span class="koboSpan" id="kobo.473.1">; it is similar to the previous field used for the email, with the only difference being an extra attribute called </span><strong class="source-inline"><span class="koboSpan" id="kobo.474.1">as</span></strong><span class="koboSpan" id="kobo.475.1">. </span><span class="koboSpan" id="kobo.475.2">This property is used to specify which form element the field should be rendered as. </span><span class="koboSpan" id="kobo.475.3">When using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.476.1">Field</span></strong><span class="koboSpan" id="kobo.477.1"> component without using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.478.1">as</span></strong><span class="koboSpan" id="kobo.479.1"> property, it defaults to an </span><strong class="source-inline"><span class="koboSpan" id="kobo.480.1">&lt;input&gt;</span></strong><span class="koboSpan" id="kobo.481.1"> element. </span><span class="koboSpan" id="kobo.481.2">In fact, for our message, we want the field to be a text area, and we achieved this by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.482.1">as</span></strong><span class="koboSpan" id="kobo.483.1"> property and assigning it a value </span><span class="No-Break"><span class="koboSpan" id="kobo.484.1">of </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.485.1">textarea</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.486.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.487.1">At this stage, the form has the HTML and the logic required to function. </span><span class="koboSpan" id="kobo.487.2">If we open our application at </span><strong class="source-inline"><span class="koboSpan" id="kobo.488.1">http://localhost:5173/contact</span></strong><span class="koboSpan" id="kobo.489.1"> and fill in the form, we will be able to see the form being submitted in </span><span class="No-Break"><span class="koboSpan" id="kobo.490.1">the console:</span></span></p>
			<div>
				<div id="_idContainer123" class="IMG---Figure">
					<span class="koboSpan" id="kobo.491.1"><img src="image/B21130_12_02.jpg" alt="Figure 12.2: Console message triggered by the Contact Us form"/></span>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.492.1">Figure 12.2: Console message triggered by the Contact Us form</span></p>
			<p><span class="koboSpan" id="kobo.493.1">Even if we have not finished yet with VeeValidate, you should be able to see the benefits </span><a id="_idIndexMarker659"/><span class="koboSpan" id="kobo.494.1">that it brings. </span><span class="koboSpan" id="kobo.494.2">You may have realized that we </span><a id="_idIndexMarker660"/><span class="koboSpan" id="kobo.495.1">never had to declare any references for the email and message or define any two-way binding with </span><strong class="source-inline"><span class="koboSpan" id="kobo.496.1">v-model</span></strong><span class="koboSpan" id="kobo.497.1">. </span><span class="koboSpan" id="kobo.497.2">All of this is handled behind the scenes by the package with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.498.1">Form</span></strong><span class="koboSpan" id="kobo.499.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.500.1">Field</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.501.1">custom fields.</span></span></p>
			<p><span class="koboSpan" id="kobo.502.1">In this section, we have added VeeValidate to our form and learned what benefits this will bring to our application. </span><span class="koboSpan" id="kobo.502.2">We then refactored our </span><strong class="old"><span class="koboSpan" id="kobo.503.1">Contact Us</span></strong><span class="koboSpan" id="kobo.504.1"> form to use the newly installed package by introducing the </span><strong class="source-inline"><span class="koboSpan" id="kobo.505.1">Field</span></strong><span class="koboSpan" id="kobo.506.1"> and </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.507.1">Form</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.508.1"> components.</span></span></p>
			<p><span class="koboSpan" id="kobo.509.1">We have just one more modification to apply to our form before we can complete this chapter: validation. </span><span class="koboSpan" id="kobo.509.2">The preceding example shows that I was able to submit a form with incorrect values such as a fake email and a very short message. </span><span class="koboSpan" id="kobo.509.3">In the next section, we are going to learn how to use form validation </span><span class="No-Break"><span class="koboSpan" id="kobo.510.1">with VeeValidate.</span></span></p>
			<h1 id="_idParaDest-165"><a id="_idTextAnchor173"/><span class="koboSpan" id="kobo.511.1">Defining your form validation with VeeValidate</span></h1>
			<p><span class="koboSpan" id="kobo.512.1">A form is never complete until there is some sort of validation. </span><span class="koboSpan" id="kobo.512.2">The values of the form are sent to </span><a id="_idIndexMarker661"/><span class="koboSpan" id="kobo.513.1">our servers, and we want to make </span><a id="_idIndexMarker662"/><span class="koboSpan" id="kobo.514.1">sure that our forms can help the user with immediate feedback if any of the field values </span><span class="No-Break"><span class="koboSpan" id="kobo.515.1">are incorrect.</span></span></p>
			<p><span class="koboSpan" id="kobo.516.1">In our case, the form we used in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.517.1">Figure 12</span></em></span><em class="italic"><span class="koboSpan" id="kobo.518.1">.2</span></em><span class="koboSpan" id="kobo.519.1"> would have failed backend validation as the email was not in the correct format. </span><span class="koboSpan" id="kobo.519.2">In this section, we are going to learn how to create custom validation and introduce another supporting package offered by VeeValidate that includes a preset group of validation rules to speed up </span><span class="No-Break"><span class="koboSpan" id="kobo.520.1">our development.</span></span></p>
			<p class="callout-heading"><span class="koboSpan" id="kobo.521.1">Frontend validation is not enough</span></p>
			<p class="callout"><span class="koboSpan" id="kobo.522.1">Remember </span><a id="_idIndexMarker663"/><span class="koboSpan" id="kobo.523.1">that frontend validation like the one performed by VeeValidate is just going to improve the UX but it is not secure enough as it can easily be bypassed. </span><span class="koboSpan" id="kobo.523.2">When working with forms, you should also define validation on the backend. </span><span class="koboSpan" id="kobo.523.3">Using validation schemas that work on both the frontend and backend, such as Zod, </span><span class="No-Break"><span class="koboSpan" id="kobo.524.1">can help.</span></span></p>
			<p><span class="koboSpan" id="kobo.525.1">VeeValidate offers the possibility to define its rules using either a declarative approach or by using composition functions (a set of composable functions offered by VeeValidate that can used to create your own form components). </span><span class="koboSpan" id="kobo.525.2">For the scope of this book, we are going to use the </span><span class="No-Break"><span class="koboSpan" id="kobo.526.1">declarative method.</span></span></p>
			<p><span class="koboSpan" id="kobo.527.1">To validate our input fields, we need to define some validation rules. </span><span class="koboSpan" id="kobo.527.2">These rules are going to be methods that run a specific condition on one or more input fields. </span><span class="koboSpan" id="kobo.527.3">An example could be a </span><strong class="source-inline"><span class="koboSpan" id="kobo.528.1">required</span></strong><span class="koboSpan" id="kobo.529.1"> validation that would check whether the value of an input is defined, or a </span><em class="italic"><span class="koboSpan" id="kobo.530.1">minimum characters</span></em><span class="koboSpan" id="kobo.531.1"> rule that would check whether the number of characters is equal to or greater than the </span><span class="No-Break"><span class="koboSpan" id="kobo.532.1">limit set.</span></span></p>
			<p><span class="koboSpan" id="kobo.533.1">The first rule we are going to define is a simple </span><strong class="source-inline"><span class="koboSpan" id="kobo.534.1">required</span></strong><span class="koboSpan" id="kobo.535.1"> rule. </span><span class="koboSpan" id="kobo.535.2">To define a rule, we use a VeeValidate method called </span><strong class="source-inline"><span class="koboSpan" id="kobo.536.1">defineRule</span></strong><span class="koboSpan" id="kobo.537.1">. </span><span class="koboSpan" id="kobo.537.2">This method accepts two arguments. </span><span class="koboSpan" id="kobo.537.3">The first is the name of the rule and the second is the function that will run to assess the validation. </span><span class="koboSpan" id="kobo.537.4">We can add the following code within the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.538.1">ContactUs.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.539.1"> file:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.540.1">
&lt;script setup&gt;
import { Field, Form, ErrorMessage, </span><strong class="old"><span class="koboSpan" id="kobo.541.1">defineRule </span></strong><span class="koboSpan" id="kobo.542.1">} from 'vee-validate';
import TheButton from '../atoms/TheButton.vue';
</span><strong class="old"><span class="koboSpan" id="kobo.543.1">defineRule('required', value =&gt; {</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.544.1">  if (!value || !value.length) {</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.545.1">    return 'This field is required';</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.546.1">  }</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.547.1">  return true;</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.548.1">});</span></strong></pre>
			<p><span class="koboSpan" id="kobo.549.1">Declaring a rule validation is not any different from a method that you would have defined </span><a id="_idIndexMarker664"/><span class="koboSpan" id="kobo.550.1">natively in Vue. </span><span class="koboSpan" id="kobo.550.2">In the case of our required rule, we are checking whether the value is set and whether it has at least one character </span><a id="_idIndexMarker665"/><span class="koboSpan" id="kobo.551.1">by using </span><strong class="source-inline"><span class="koboSpan" id="kobo.552.1">!value</span></strong><span class="koboSpan" id="kobo.553.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.554.1">value.length</span></strong><span class="koboSpan" id="kobo.555.1">, respectively. </span><span class="koboSpan" id="kobo.555.2">Then, we are either returning </span><strong class="source-inline"><span class="koboSpan" id="kobo.556.1">true</span></strong><span class="koboSpan" id="kobo.557.1"> (if the validation passes successfully) or we are returning a string as an </span><span class="No-Break"><span class="koboSpan" id="kobo.558.1">error message.</span></span></p>
			<p><span class="koboSpan" id="kobo.559.1">After declaring the rule, all that is left is to use it within a form field. </span><span class="koboSpan" id="kobo.559.2">Validation rules can be assigned to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.560.1">&lt;Field&gt;</span></strong><span class="koboSpan" id="kobo.561.1"> element that we used before. </span><span class="koboSpan" id="kobo.561.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.562.1">Field</span></strong><span class="koboSpan" id="kobo.563.1"> component expects a property called </span><strong class="source-inline"><span class="koboSpan" id="kobo.564.1">rules</span></strong><span class="koboSpan" id="kobo.565.1">. </span><span class="koboSpan" id="kobo.565.2">This property can either accept a string or an object. </span><span class="koboSpan" id="kobo.565.3">I prefer the string notation as it is like the native validation in HTML but also because it has a shorter syntax that helps keep the </span><strong class="source-inline"><span class="koboSpan" id="kobo.566.1">&lt;template&gt;</span></strong><span class="koboSpan" id="kobo.567.1"> section clear </span><span class="No-Break"><span class="koboSpan" id="kobo.568.1">and readable.</span></span></p>
			<p><span class="koboSpan" id="kobo.569.1">Applying the </span><strong class="source-inline"><span class="koboSpan" id="kobo.570.1">required</span></strong><span class="koboSpan" id="kobo.571.1"> rule to our </span><strong class="source-inline"><span class="koboSpan" id="kobo.572.1">email</span></strong><span class="koboSpan" id="kobo.573.1"> field would produce the </span><span class="No-Break"><span class="koboSpan" id="kobo.574.1">following code:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.575.1">
&lt;Field
  type="email"
  name="email"
  placeholder="Enter your email"
  </span><strong class="old"><span class="koboSpan" id="kobo.576.1">rules="required"</span></strong><span class="koboSpan" id="kobo.577.1">
&gt;&lt;/Field&gt;</span></pre>
			<p><span class="koboSpan" id="kobo.578.1">At this stage, our form will not be submitted anymore unless the validation passes successfully. </span><span class="koboSpan" id="kobo.578.2">In fact, VeeValidate will just trigger our </span><strong class="source-inline"><span class="koboSpan" id="kobo.579.1">submit</span></strong><span class="koboSpan" id="kobo.580.1"> method if all fields in the form are valid. </span><span class="koboSpan" id="kobo.580.2">The next step required is to display an error message to the user when the form is invalid. </span><span class="koboSpan" id="kobo.580.3">This can be achieved with another component offered by VeeValidate, called </span><strong class="source-inline"><span class="koboSpan" id="kobo.581.1">ErrorMessage</span></strong><span class="koboSpan" id="kobo.582.1">. </span><span class="koboSpan" id="kobo.582.2">The error message itself has already been defined in our validation rule, and VeeValidate is going to take care of the logic required to display and hide </span><span class="No-Break"><span class="koboSpan" id="kobo.583.1">the message.</span></span></p>
			<p><span class="koboSpan" id="kobo.584.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.585.1">ErrorMessage</span></strong><span class="koboSpan" id="kobo.586.1"> component accepts </span><a id="_idIndexMarker666"/><span class="koboSpan" id="kobo.587.1">a property of </span><strong class="source-inline"><span class="koboSpan" id="kobo.588.1">name</span></strong><span class="koboSpan" id="kobo.589.1"> that is </span><a id="_idIndexMarker667"/><span class="koboSpan" id="kobo.590.1">used to connect it with a </span><a id="_idIndexMarker668"/><span class="koboSpan" id="kobo.591.1">specific input field. </span><span class="koboSpan" id="kobo.591.2">So, in our case, it is going to </span><span class="No-Break"><span class="koboSpan" id="kobo.592.1">be </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.593.1">name="email"</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.594.1">:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.595.1">
&lt;Label for="email"&gt;Email&lt;/Label&gt;
&lt;Field
  type="email"
  name="email"
  placeholder="Enter your email"
  rules="required"
&gt;&lt;/Field&gt;
</span><strong class="old"><span class="koboSpan" id="kobo.596.1">&lt;ErrorMessage name="email" /&gt;</span></strong></pre>
			<p><span class="koboSpan" id="kobo.597.1">When trying to submit the form, we will now be presented with an error message, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.598.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.599.1">.3</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.600.1">.</span></span></p>
			<div>
				<div id="_idContainer124" class="IMG---Figure">
					<span class="koboSpan" id="kobo.601.1"><img src="image/B21130_12_03.jpg" alt="Figure 12.3: Form displaying a validation error"/></span>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.602.1">Figure 12.3: Form displaying a validation error</span></p>
			<p><span class="koboSpan" id="kobo.603.1">Even if our error is displayed successfully, it does not really stand out as it uses the same color as the rest of the text on the page. </span><span class="koboSpan" id="kobo.603.2">This is happening because the </span><strong class="source-inline"><span class="koboSpan" id="kobo.604.1">ErrorMessage</span></strong><span class="koboSpan" id="kobo.605.1"> component provided by VeeValidate is just a utility component, meaning that it does not actually provide any HTML markup but it is used to provide some additional functionality such as handling the error placement </span><span class="No-Break"><span class="koboSpan" id="kobo.606.1">and visibility.</span></span></p>
			<p><span class="koboSpan" id="kobo.607.1">To improve our UI, we can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.608.1">as</span></strong><span class="koboSpan" id="kobo.609.1"> property to define an HTML element that will be used to </span><a id="_idIndexMarker669"/><span class="koboSpan" id="kobo.610.1">wrap the error message, just like we </span><a id="_idIndexMarker670"/><span class="koboSpan" id="kobo.611.1">did with </span><strong class="source-inline"><span class="koboSpan" id="kobo.612.1">textarea</span></strong><span class="koboSpan" id="kobo.613.1">, we can use the attribute "as" to define what HTML field the component should be rendered as and add some classes. </span><span class="koboSpan" id="kobo.613.2">The code base already has some styles for a class named </span><strong class="source-inline"><span class="koboSpan" id="kobo.614.1">error</span></strong><span class="koboSpan" id="kobo.615.1">. </span><span class="koboSpan" id="kobo.615.2">So, let’s go and modify our </span><strong class="source-inline"><span class="koboSpan" id="kobo.616.1">ErrorMessage</span></strong><span class="koboSpan" id="kobo.617.1"> component to use </span><span class="No-Break"><span class="koboSpan" id="kobo.618.1">this class:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.619.1">
&lt;ErrorMessage </span><strong class="old"><span class="koboSpan" id="kobo.620.1">as="span"</span></strong><span class="koboSpan" id="kobo.621.1"> name="email" </span><strong class="old"><span class="koboSpan" id="kobo.622.1">class="error"</span></strong><span class="koboSpan" id="kobo.623.1"> /&gt;</span></pre>
			<p><span class="koboSpan" id="kobo.624.1">After adding the </span><strong class="source-inline"><span class="koboSpan" id="kobo.625.1">as</span></strong><span class="koboSpan" id="kobo.626.1"> property and </span><strong class="source-inline"><span class="koboSpan" id="kobo.627.1">class</span></strong><span class="koboSpan" id="kobo.628.1"> attribute, our component is now going to be more prominent on </span><span class="No-Break"><span class="koboSpan" id="kobo.629.1">the screen.</span></span></p>
			<div>
				<div id="_idContainer125" class="IMG---Figure">
					<span class="koboSpan" id="kobo.630.1"><img src="image/B21130_12_04.jpg" alt="Figure 12.4: Form showing a red error message"/></span>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.631.1">Figure 12.4: Form showing a red error message</span></p>
			<p><span class="koboSpan" id="kobo.632.1">The form is starting to take shape. </span><span class="koboSpan" id="kobo.632.2">The form fields and labels are set, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.633.1">submit</span></strong><span class="koboSpan" id="kobo.634.1"> handler is in place (even if just a dummy one), and the validation rules are defined </span><span class="No-Break"><span class="koboSpan" id="kobo.635.1">and working.</span></span></p>
			<p><span class="koboSpan" id="kobo.636.1">In the next and last section of this chapter, we are going to learn about preset validation rules offered by VeeValidate. </span><span class="koboSpan" id="kobo.636.2">Declaring a simple rule such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.637.1">required</span></strong><span class="koboSpan" id="kobo.638.1"> is simple, but this is not always </span><span class="No-Break"><span class="koboSpan" id="kobo.639.1">the case.</span></span></p>
			<p><span class="koboSpan" id="kobo.640.1">I personally love to use preset rules as they help me keep components small and readable while still being able to provide complex </span><span class="No-Break"><span class="koboSpan" id="kobo.641.1">validation rules.</span></span></p>
			<h2 id="_idParaDest-166"><a id="_idTextAnchor174"/><span class="koboSpan" id="kobo.642.1">Using VeeValidate rules</span></h2>
			<p><span class="koboSpan" id="kobo.643.1">So far, we have just applied a simple validation to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.644.1">email</span></strong><span class="koboSpan" id="kobo.645.1"> field that checks whether it is set, but this </span><a id="_idIndexMarker671"/><span class="koboSpan" id="kobo.646.1">would still break as the field is currently going to pass validation with just a </span><span class="No-Break"><span class="koboSpan" id="kobo.647.1">single character.</span></span></p>
			<p><span class="koboSpan" id="kobo.648.1">In this section, we are going to validate the email (to ensure it is written in a valid format) and the message text area (to ensure that we receive a message that is at least </span><span class="No-Break"><span class="koboSpan" id="kobo.649.1">100 characters).</span></span></p>
			<p><span class="koboSpan" id="kobo.650.1">Instead of declaring the validation manually by defining its rules, we are going to use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.651.1">@vee-validate/rules</span></strong><span class="koboSpan" id="kobo.652.1"> package and use two of its preset rules to achieve our </span><span class="No-Break"><span class="koboSpan" id="kobo.653.1">validation requirements.</span></span></p>
			<p><span class="koboSpan" id="kobo.654.1">VeeValidate offers over 25 rules (</span><a href="https://vee-validate.logaretm.com/v4/guide/global-validators#vee-validaterules"><span class="koboSpan" id="kobo.655.1">https://vee-validate.logaretm.com/v4/guide/global-validators#vee-validaterules</span></a><span class="koboSpan" id="kobo.656.1">), including simple rules such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.657.1">required</span></strong><span class="koboSpan" id="kobo.658.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.659.1">numeric</span></strong><span class="koboSpan" id="kobo.660.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.661.1">emails</span></strong><span class="koboSpan" id="kobo.662.1">, as well as complex ones such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.663.1">one_of</span></strong><span class="koboSpan" id="kobo.664.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.665.1">not_one_of</span></strong><span class="koboSpan" id="kobo.666.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.667.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.668.1">regex</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.669.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.670.1">Before learning the syntax required to use these rules, we need to install the package in our application. </span><span class="koboSpan" id="kobo.670.2">We can do this by running </span><span class="No-Break"><span class="koboSpan" id="kobo.671.1">the following:</span></span></p>
			<pre class="console"><span class="koboSpan" id="kobo.672.1">
npm install @vee-validate/rules --save</span></pre>
			<p><span class="koboSpan" id="kobo.673.1">The power of VeeValidate and its validation is that it allows us to use more than one validation for a single field, allowing us to define complex rules, such as the one defined by </span><strong class="source-inline"><span class="koboSpan" id="kobo.674.1">password</span></strong><span class="koboSpan" id="kobo.675.1"> fields, without the need to write a single line </span><span class="No-Break"><span class="koboSpan" id="kobo.676.1">of code.</span></span></p>
			<p><span class="koboSpan" id="kobo.677.1">To achieve our validation needs, we are going to use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.678.1">email</span></strong><span class="koboSpan" id="kobo.679.1"> and </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.680.1">min</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.681.1"> rules:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.682.1">
&lt;template&gt;
&lt;Form @submit="handleSubmit"&gt;
  &lt;Label for="email"&gt;Email&lt;/Label&gt;
  &lt;Field
    type="email"
    name="email"
    placeholder="Enter your email"
    rules="required</span><strong class="old"><span class="koboSpan" id="kobo.683.1">|email</span></strong><span class="koboSpan" id="kobo.684.1">"
  &gt;&lt;/Field&gt;
  &lt;ErrorMessage as="span" name="email" class="error" /&gt;
  &lt;label for="message"&gt;Message&lt;/label&gt;
  &lt;Field
    as="textarea"
    name="message"
    </span><strong class="old"><span class="koboSpan" id="kobo.685.1">rules="required|min:100"</span></strong><span class="koboSpan" id="kobo.686.1">
  &gt;&lt;/Field&gt;
  </span><strong class="old"><span class="koboSpan" id="kobo.687.1">&lt;ErrorMessage as="span" name="message" class="error" /&gt;</span></strong><span class="koboSpan" id="kobo.688.1">
  &lt;TheButton&gt;Send&lt;/TheButton&gt;
&lt;/Form&gt;
&lt;/template&gt;
&lt;script setup&gt;
import { Field, Form, ErrorMessage, defineRule } from 'vee-validate';
import TheButton from '../atoms/TheButton.vue';
</span><strong class="old"><span class="koboSpan" id="kobo.689.1">import { required, email, min } from '@vee-validate/rules';</span></strong><span class="koboSpan" id="kobo.690.1">
defineRule('required', </span><strong class="old"><span class="koboSpan" id="kobo.691.1">required</span></strong><span class="koboSpan" id="kobo.692.1">);
</span><strong class="old"><span class="koboSpan" id="kobo.693.1">defineRule('email', email);</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.694.1">defineRule('min', min);</span></strong><span class="koboSpan" id="kobo.695.1">
...</span></pre>
			<p><span class="koboSpan" id="kobo.696.1">Let’s analyze </span><a id="_idIndexMarker672"/><span class="koboSpan" id="kobo.697.1">our latest code snippets and see how to use validation rules </span><span class="No-Break"><span class="koboSpan" id="kobo.698.1">from VeeValidate.</span></span></p>
			<p><span class="koboSpan" id="kobo.699.1">First, we manually imported the validation from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.700.1">@vee-validate/rules</span></strong><strong class="old"> </strong><span class="koboSpan" id="kobo.701.1">package. </span><span class="koboSpan" id="kobo.701.2">We could have imported all rules globally, but I prefer to do it within each component. </span><span class="koboSpan" id="kobo.701.3">This not only helps me understand the validation used within the component’s scope but also helps keep the built size small by ensuring we import the rules that we use within the </span><span class="No-Break"><span class="koboSpan" id="kobo.702.1">code base.</span></span></p>
			<p><span class="koboSpan" id="kobo.703.1">Then, we removed the </span><strong class="source-inline"><span class="koboSpan" id="kobo.704.1">required</span></strong><span class="koboSpan" id="kobo.705.1"> rule that we defined previously and replaced it with the ones offered by VeeValidate. </span><span class="koboSpan" id="kobo.705.2">We then declared two new rules called </span><strong class="source-inline"><span class="koboSpan" id="kobo.706.1">email</span></strong><span class="koboSpan" id="kobo.707.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.708.1">min</span></strong><span class="koboSpan" id="kobo.709.1">. </span><span class="koboSpan" id="kobo.709.2">We did so using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.710.1">defineRule</span></strong><span class="koboSpan" id="kobo.711.1"> method with the imported rules </span><span class="No-Break"><span class="koboSpan" id="kobo.712.1">from </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.713.1">@vee-validate/rules</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.714.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.715.1">Next, we have </span><a id="_idIndexMarker673"/><span class="koboSpan" id="kobo.716.1">added our validation within the </span><strong class="source-inline"><span class="koboSpan" id="kobo.717.1">&lt;template&gt;</span></strong><span class="koboSpan" id="kobo.718.1"> section of our component. </span><span class="koboSpan" id="kobo.718.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.719.1">rules</span></strong><span class="koboSpan" id="kobo.720.1"> property can accept multiple entries separated by the character </span><strong class="source-inline"><span class="koboSpan" id="kobo.721.1">|</span></strong><span class="koboSpan" id="kobo.722.1">. </span><span class="koboSpan" id="kobo.722.2">In the case of </span><strong class="source-inline"><span class="koboSpan" id="kobo.723.1">email</span></strong><span class="koboSpan" id="kobo.724.1">, the rules are </span><strong class="source-inline"><span class="koboSpan" id="kobo.725.1">"required|email"</span></strong><span class="koboSpan" id="kobo.726.1">, but for </span><strong class="source-inline"><span class="koboSpan" id="kobo.727.1">textarea</span></strong><span class="koboSpan" id="kobo.728.1">, they </span><span class="No-Break"><span class="koboSpan" id="kobo.729.1">are </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.730.1">"required|min:100"</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.731.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.732.1">Lastly, we added </span><strong class="source-inline"><span class="koboSpan" id="kobo.733.1">ErrorMessage</span></strong><span class="koboSpan" id="kobo.734.1"> to our message </span><span class="No-Break"><span class="koboSpan" id="kobo.735.1">text area.</span></span></p>
			<p><span class="koboSpan" id="kobo.736.1">You may have noticed that the rules used in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.737.1">message</span></strong><span class="koboSpan" id="kobo.738.1"> field are a little different from the ones used in </span><strong class="source-inline"><span class="koboSpan" id="kobo.739.1">email</span></strong><span class="koboSpan" id="kobo.740.1">. </span><span class="koboSpan" id="kobo.740.2">This is because the </span><strong class="source-inline"><span class="koboSpan" id="kobo.741.1">min</span></strong><span class="koboSpan" id="kobo.742.1"> rule requires an argument that is equal to the number of characters required before the field can be marked as valid. </span><span class="koboSpan" id="kobo.742.2">To set a specified parameter for a rule, we add a colon (</span><strong class="source-inline"><span class="koboSpan" id="kobo.743.1">:</span></strong><span class="koboSpan" id="kobo.744.1">) followed by one or more values separated by a comma. </span><span class="koboSpan" id="kobo.744.2">For example, to define a </span><strong class="source-inline"><span class="koboSpan" id="kobo.745.1">max</span></strong><span class="koboSpan" id="kobo.746.1"> rule of </span><strong class="source-inline"><span class="koboSpan" id="kobo.747.1">164</span></strong><span class="koboSpan" id="kobo.748.1"> characters, we would write </span><strong class="source-inline"><span class="koboSpan" id="kobo.749.1">rules="max:164"</span></strong><span class="koboSpan" id="kobo.750.1">, while to define a rule that allows a number between </span><strong class="source-inline"><span class="koboSpan" id="kobo.751.1">10</span></strong><span class="koboSpan" id="kobo.752.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.753.1">20</span></strong><span class="koboSpan" id="kobo.754.1">, we would </span><span class="No-Break"><span class="koboSpan" id="kobo.755.1">write </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.756.1">rules="between:10,20"</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.757.1">.</span></span></p>
			<p class="callout-heading"><span class="koboSpan" id="kobo.758.1">Rules can be defined as an object</span></p>
			<p class="callout"><span class="koboSpan" id="kobo.759.1">As I mentioned before, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.760.1">rules</span></strong><span class="koboSpan" id="kobo.761.1"> property can be defined as an object. </span><span class="koboSpan" id="kobo.761.2">What you choose is personal preference and there is no right or wrong. </span><span class="koboSpan" id="kobo.761.3">If we wanted to replace the </span><strong class="source-inline"><span class="koboSpan" id="kobo.762.1">message</span></strong><span class="koboSpan" id="kobo.763.1"> field rule to be an object, we would write </span><strong class="source-inline"><span class="koboSpan" id="kobo.764.1">rules="{ required: true, </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.765.1">min: 100}"</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.766.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.767.1">In this section, we have learned how to validate our form. </span><span class="koboSpan" id="kobo.767.2">We first learned how to define and use validation rules by creating a simple </span><strong class="source-inline"><span class="koboSpan" id="kobo.768.1">required</span></strong><span class="koboSpan" id="kobo.769.1"> validation, and then we introduced the preset validation rules and used them to fully validate </span><span class="No-Break"><span class="koboSpan" id="kobo.770.1">our form.</span></span></p>
			<p class="callout-heading"><span class="koboSpan" id="kobo.771.1">Your turn</span></p>
			<p class="callout"><span class="koboSpan" id="kobo.772.1">Continue to work on the </span><strong class="old"><span class="koboSpan" id="kobo.773.1">Contact Us</span></strong><span class="koboSpan" id="kobo.774.1"> form by adding more fields with complex rules. </span><span class="koboSpan" id="kobo.774.2">This will </span><a id="_idIndexMarker674"/><span class="koboSpan" id="kobo.775.1">help you navigate through the documentation and ensure that you have understood the process required to create and handle forms. </span><span class="koboSpan" id="kobo.775.2">Lastly, you should enhance the </span><strong class="source-inline"><span class="koboSpan" id="kobo.776.1">handleSubmit</span></strong><span class="koboSpan" id="kobo.777.1"> method to send a </span><strong class="source-inline"><span class="koboSpan" id="kobo.778.1">fetch</span></strong><span class="koboSpan" id="kobo.779.1"> request (to a fake endpoint) with the </span><span class="No-Break"><span class="koboSpan" id="kobo.780.1">form input.</span></span></p>
			<h1 id="_idParaDest-167"><a id="_idTextAnchor175"/><span class="koboSpan" id="kobo.781.1">Summary</span></h1>
			<p><span class="koboSpan" id="kobo.782.1">In this chapter, we learned how to handle user interaction by introducing two-way binding using </span><strong class="source-inline"><span class="koboSpan" id="kobo.783.1">v-model</span></strong><span class="koboSpan" id="kobo.784.1"> and form validation and handling using VeeValidate. </span><span class="koboSpan" id="kobo.784.2">During the chapter, we redefined what makes a semantically correct form, learned how to use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.785.1">v-model</span></strong><span class="koboSpan" id="kobo.786.1"> syntax to define two-way binding, and then moved into the form territory by introducing VeeValidate and saw how it can be used to define, handle, and validate </span><span class="No-Break"><span class="koboSpan" id="kobo.787.1">our forms.</span></span></p>
			<p><span class="koboSpan" id="kobo.788.1">In the next chapter, we will take a step back from coding and learn how to investigate and solve issues by introducing debugging techniques and using the exquisite Vue debugger </span><span class="No-Break"><span class="koboSpan" id="kobo.789.1">browser extension.</span></span></p>
		</div>
	

		<div id="_idContainer127" class="Content">
			<h1 id="_idParaDest-168" lang="en-US" xml:lang="en-US"><a id="_idTextAnchor176"/><span class="koboSpan" id="kobo.1.1">Part 4: Conclusion and Further Resources</span></h1>
			<p><span class="koboSpan" id="kobo.2.1">In this final part of the book, we are going to explore reading materials, resources, and topics that will take your knowledge of the Vue.js framework further. </span><span class="koboSpan" id="kobo.2.2">In this part, we are also going to learn how to debug </span><span class="No-Break"><span class="koboSpan" id="kobo.3.1">our application.</span></span></p>
			<p><span class="koboSpan" id="kobo.4.1">This part contains the </span><span class="No-Break"><span class="koboSpan" id="kobo.5.1">following chapters:</span></span></p>
			<ul>
				<li><a href="B21130_13.xhtml#_idTextAnchor177"><em class="italic"><span class="koboSpan" id="kobo.6.1">Chapter 13</span></em></a><em class="italic"><span class="koboSpan" id="kobo.7.1">, Unveiling Application Issues with the Vue Devtools</span></em></li>
				<li><a href="B21130_14.xhtml#_idTextAnchor187"><em class="italic"><span class="koboSpan" id="kobo.8.1">Chapter 14</span></em></a><em class="italic"><span class="koboSpan" id="kobo.9.1">, Advanced Resources for Future Reading</span></em></li>
			</ul>
		</div>
		<div>
			<div id="_idContainer128">
			</div>
		</div>
		<div>
			<div id="_idContainer129">
			</div>
		</div>
		<div>
			<div id="_idContainer130">
			</div>
		</div>
		<div>
			<div id="_idContainer131">
			</div>
		</div>
		<div>
			<div id="_idContainer132">
			</div>
		</div>
		<div>
			<div id="_idContainer133" class="Basic-Graphics-Frame">
			</div>
		</div>
		<div>
			<div id="_idContainer134" class="Basic-Graphics-Frame">
			</div>
		</div>
		<div>
			<div id="_idContainer135">
			</div>
		</div>
		<div>
			<div id="_idContainer136">
			</div>
		</div>
		<div>
			<div id="_idContainer137" class="Basic-Graphics-Frame">
			</div>
		</div>
	</body></html>