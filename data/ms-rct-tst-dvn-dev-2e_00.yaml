- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: 'This is a book about dogma. *My* dogma. It is a set of principles, practices,
    and rituals that I have found to be extremely beneficial when building React applications.
    I try to apply these ideas in my daily work, and I believe in them so much that
    I take every opportunity to teach others about them. That’s why I’ve written this
    book: to show you the ideas that have helped me be successful in my own career.'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一本关于教条的书籍。**我的**教条。它是一套原则、实践和仪式，我发现它们在构建React应用程序时极为有益。我试图在我的日常工作中应用这些想法，并且我非常相信它们，以至于我抓住每一个机会向他人传授它们。这就是我写这本书的原因：向你展示那些帮助我在自己的职业生涯中取得成功的想法。
- en: As with any dogma, you are free to make your own mind up about it. There are
    people who will dislike everything about this book. There are those who will love
    everything about this book. Yet more people will absorb some things and forget
    others. All of these are fine. The only thing I ask is that you maintain an open
    mind while you follow along and prepare to have your own dogmas challenged.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 正如任何教条一样，你有权自己做出判断。有些人会不喜欢这本书的每一部分。有些人会喜欢这本书的每一部分。还有更多的人会吸收一些内容而忘记其他内容。这些都很好。我唯一要求的是，你在跟随的同时保持开放的心态，并准备好挑战你自己的教条。
- en: '**Test-driven development** (**TDD**) did not originate in the JavaScript community.
    However, it is perfectly possible to test-drive JavaScript code. And although
    TDD is not common in the React community, there’s no reason why it shouldn’t be.
    In fact, React as a user interface platform is a good fit for TDD because of its
    elegant model of functional components and state.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '**测试驱动开发**（**TDD**）并非起源于JavaScript社区。然而，完全有可能用TDD来测试JavaScript代码。尽管TDD在React社区中并不常见，但没有任何理由它不应该被采用。事实上，React作为一个用户界面平台，由于其优雅的函数组件和状态模型，非常适合TDD。'
- en: So, what is TDD, and why should you use it? TDD is a process for writing software
    that involves writing tests, or specifications, before writing any code. Its practitioners
    follow it because they believe that it helps them build and design higher-quality
    software with longer lifespans, at a lower cost. They believe it offers a mechanism
    for communicating about design and specification that *also* doubles up as a rock-solid
    regression suite. There isn’t much empirical data available that *proves* any
    of that to be true, so the best you can do is try it out yourself and make your
    own mind up.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，TDD是什么，为什么你应该使用它呢？TDD是一种编写软件的过程，它涉及在编写任何代码之前编写测试或规范。其从业者遵循它，因为他们相信它有助于他们以更低的成本构建和设计更高品质、寿命更长的软件。他们认为它提供了一种关于设计和规范沟通的机制，同时也是一个坚如磐石的回归测试套件。目前没有多少经验数据可以**证明**这些说法的真实性，所以你能做的最好的事情就是亲自尝试，并自己做出判断。
- en: Perhaps most importantly for me, I find that TDD removes the *fear* of making
    changes to my software and makes my working days much less stressful than they
    used to be. I don’t worry about introducing bugs or regressions into my work because
    the tests protect me from that.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 对我来说，也许最重要的是，我发现TDD消除了对修改我的软件的**恐惧**，使我的工作日比以前轻松得多。我不担心在我的工作中引入错误或回归，因为测试保护了我。
- en: 'TDD is often taught with toy examples: to-do lists, temperature converters,
    tic-tac-toe, and so on. This book teaches two real-world applications. Often,
    the tests get hairy. We will hit many challenging scenarios and come up with solutions
    for all of them. There are over 500 tests contained in this book, and each one
    will teach you something.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: TDD通常用玩具示例来教授：待办事项列表、温度转换器、井字棋等等。这本书教授两个真实世界的应用。通常，测试会变得复杂。我们将遇到许多具有挑战性的场景，并为所有这些场景找到解决方案。这本书中包含超过500个测试，每个测试都会教你一些东西。
- en: Before we begin, a few words of advice.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们开始之前，有一些建议要提。
- en: This is a book about **first principles**. I believe that learning TDD is about
    understanding the process in exceptional detail. For that reason, we will *not*
    use React Testing Library. Instead, we will build our own test helpers. I am not
    suggesting that you should avoid these tools in your daily work – I use them myself
    – but I am suggesting that going without them while you learn is a worthwhile
    adventure. The benefit of doing so is a deeper understanding and awareness of
    what those testing libraries are doing for you.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一本关于**第一性原理**的书。我相信学习TDD（测试驱动开发）就是深入了解这个过程。因此，我们将**不会**使用React Testing Library。相反，我们将构建自己的测试助手。我并不是建议你在日常工作中避免使用这些工具——我自己也在使用它们——但我建议，在学习过程中不使用它们是一次值得的冒险。这样做的好处是，能更深入地理解和意识到这些测试库为你做了什么。
- en: The JavaScript and React landscape changes at such a pace that I can’t claim
    that this book will remain current for very long. That is another reason why I
    use a first-principles approach. My hope is that when things *do* change, you’ll
    still be able to use this book and apply what you’ve learned to those new scenarios.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: JavaScript和React的景观变化如此之快，以至于我无法保证这本书会保持很长时间的时效性。这也是我使用第一性原理方法的原因之一。我的希望是，当事情真的发生变化时，你仍然可以使用这本书，并将你学到的知识应用到那些新场景中。
- en: Another theme in this book is **systematic refactoring**, which can come across
    as rather laborious but is a cornerstone of TDD and other good design practices.
    I have provided many examples of that within these pages, but for brevity, I sometimes
    jump straight to a final, refactored solution. For example, I sometimes choose
    to extract methods *before* they are written, whereas, in the real world, I would
    usually write methods inline and only extract when the containing method (or test)
    becomes too long.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书的另一个主题是**系统重构**，这可能看起来相当费时，但它是TDD和其他良好设计实践的基础。我在这些页面中提供了许多这样的例子，但为了简洁起见，我有时会直接跳到最终的、重构后的解决方案。例如，我有时会选择在编写之前提取方法，而在现实世界中，我通常会内联编写方法，只有在包含的方法（或测试）变得过长时才提取。
- en: Yet another theme is that of **cheating**, which you won’t find mentioned in
    many TDD books. It’s an acknowledgment that the TDD workflow is a scaffold around
    which you can build your own rules. Once you’ve learned and practiced the strict
    version of TDD for a while, you can learn what cheats you can use to cut corners.
    What tests won’t provide much value in the long run? How can you speed up repetitive
    tests? So, a **cheat** is almost like saying you cut a corner in a way that wouldn’t
    be obvious to an observer if they came to look at your code tomorrow. Maybe, for
    example, you implement three tests at once, rather than one at a time.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个主题是**作弊**，这在许多TDD书籍中是找不到的。这是对TDD工作流程的一种认可，即你可以围绕它建立自己的规则。一旦你学习并实践了一段时间的严格TDD版本，你就可以了解哪些作弊技巧可以用来节省时间。哪些测试在长期来看不会提供太多价值？你如何加快重复性测试？所以，一个**作弊**几乎就像是在别人明天来看你的代码时，你以一种不会很明显的方式走捷径。例如，你可能一次实现三个测试，而不是一个接一个地实现。
- en: In this second edition of the book, I have doubled down on teaching TDD over
    React features. Beyond updating the code samples to work with React 18, there
    are few usages of new React features. Instead, the tests have been vastly improved;
    they are simpler, smaller, and utilize custom Jest matchers (which are themselves
    test-driven). Readers of the first edition will notice that I’ve changed my approach
    to component mocks; this edition relies on module mocks via the `jest.mock` function.
    The book no longer teaches shallow rendering. There are other smaller changes
    too, such as the avoidance of the `ReactTestUtils.Simulate` module. Chapter organization
    has been improved too, with some of the earlier chapters split up and streamlined.
    I hope you’ll agree that this edition is leaps and bounds better than the first.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书的第二版中，我加大了对TDD而不是React特性的教学力度。除了更新代码示例以与React 18兼容外，几乎没有使用新的React特性。相反，测试已经得到了大幅改进；它们更简单、更小，并利用自定义的Jest匹配器（这些匹配器本身也是通过测试驱动的）。第一版的读者会注意到，我改变了组件模拟的方法；这一版依赖于`jest.mock`函数的模块模拟。这本书不再教授浅渲染。还有一些其他的小改动，比如避免使用`ReactTestUtils.Simulate`模块。章节组织也得到了改善，一些早期的章节被拆分并简化了。我希望你会同意，这一版比第一版好得多。
- en: Who this book is for
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 这本书面向的对象
- en: If you’re a React programmer, this book is for you. I aim to show you how TDD
    can improve your work.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你是一名React程序员，这本书就是为你准备的。我的目标是向你展示TDD如何提高你的工作效率。
- en: If you’re already knowledgeable about TDD, I hope there’s still a lot you can
    learn from comparing your own process with mine.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你已经对TDD有所了解，我希望你还能从比较你自己的流程和我的流程中学到很多东西。
- en: If you don’t already know React, you will benefit from spending some time running
    through the *Getting Started* guide on the React website. That being said, TDD
    is a wonderful platform for explaining new technologies, and it’s entirely plausible
    that you’ll be able to pick up React simply by following this book.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你还不了解React，你将受益于花些时间在React网站上运行*入门指南*。话虽如此，TDD是一个解释新技术的绝佳平台，而且完全有可能你只需通过这本书就能掌握React。
- en: What this book covers
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 这本书涵盖的内容
- en: '[*Chapter 1*](B18423_01.xhtml#_idTextAnchor017), *First Steps with Test-Driven
    Development*, introduces Jest and the TDD cycle.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第1章*](B18423_01.xhtml#_idTextAnchor017), *测试驱动开发的第一步*，介绍了Jest和TDD周期。'
- en: '[*Chapter 2*](B18423_02.xhtml#_idTextAnchor038), *Rendering Lists and Detail
    Views*, uses the TDD cycle to build a simple page displaying customer information.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第2章*](B18423_02.xhtml#_idTextAnchor038), *渲染列表和详情视图*，使用TDD周期构建一个简单的页面，显示客户信息。'
- en: '[*Chapter 3*](B18423_03.xhtml#_idTextAnchor053), *Refactoring the Test Suite*,
    introduces some of the basic ways in which you can simplify tests.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第3章*](B18423_03.xhtml#_idTextAnchor053), *重构测试套件*，介绍了你可以简化测试的一些基本方法。'
- en: '[*Chapter 4*](B18423_04.xhtml#_idTextAnchor062), *Test-Driving Data Input with
    React*, covers using React component state to manage the display and saving of
    text input fields.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第4章*](B18423_04.xhtml#_idTextAnchor062), *使用React测试驱动数据输入*，涵盖了使用React组件状态来管理文本输入字段的显示和保存。'
- en: '[*Chapter 5*](B18423_05.xhtml#_idTextAnchor079), *Adding Complex Form Interactions*,
    looks at a more complex form setup with dropdowns and radio buttons.'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第5章*](B18423_05.xhtml#_idTextAnchor079), *添加复杂表单交互*，探讨了带有下拉菜单和单选按钮的更复杂表单设置。'
- en: '[*Chapter 6*](B18423_06.xhtml#_idTextAnchor099), *Exploring Test Doubles*,
    introduces various types of test doubles that are necessary for testing collaborating
    objects, and how to use them to test-drive form submission.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第6章*](B18423_06.xhtml#_idTextAnchor099), *探索测试替身*，介绍了测试协作对象所需的各种测试替身类型，以及如何使用它们来测试驱动表单提交。'
- en: '[*Chapter 7*](B18423_07.xhtml#_idTextAnchor125), *Testing useEffect and Mocking
    Components*, looks at using test doubles to fetch data when components are mounted,
    and how to use module mocks to block that behavior when testing parent components.'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第7章*](B18423_07.xhtml#_idTextAnchor125), *测试useEffect和模拟组件*，探讨了在组件挂载时使用测试替身获取数据，以及如何在测试父组件时使用模块模拟来阻止该行为。'
- en: '[*Chapter 8*](B18423_08.xhtml#_idTextAnchor147), *Building an Application Component*,
    ties everything together with a “root” component that threads together a user
    journey.'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第8章*](B18423_08.xhtml#_idTextAnchor147), *构建应用程序组件*，通过一个“根”组件将用户旅程串联起来，将所有内容结合起来。'
- en: '[*Chapter 9*](B18423_09.xhtml#_idTextAnchor159), *Form Validation*, continues
    with form building by adding client- and server-side validation and adding an
    indicator to show that data is being submitted.'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第9章*](B18423_09.xhtml#_idTextAnchor159), *表单验证*，继续通过添加客户端和服务器端验证以及添加一个指示器来显示数据正在提交，来构建表单。'
- en: '[*Chapter 10*](B18423_10.xhtml#_idTextAnchor183), *Filtering and Searching
    Data*, shows how to build a search component with some complex interaction requirements,
    in addition to complex fetch request requirements.'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第10章*](B18423_10.xhtml#_idTextAnchor183), *过滤和搜索数据*，展示了如何构建一个具有一些复杂交互要求的搜索组件，以及复杂的fetch请求要求。'
- en: '[*Chapter 11*](B18423_11.xhtml#_idTextAnchor207), *Test-Driving React Router*,
    introduces the React Router library to simplify navigation within our user journeys.'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第11章*](B18423_11.xhtml#_idTextAnchor207), *测试驱动React Router*，介绍了React Router库，用于简化用户旅程内的导航。'
- en: '[*Chapter 12*](B18423_12.xhtml#_idTextAnchor231), *Test-Driving Redux*, introduces
    Redux into our application.'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第12章*](B18423_12.xhtml#_idTextAnchor231), *测试驱动Redux*，介绍了Redux到我们的应用程序。'
- en: '[*Chapter 13*](B18423_13.xhtml#_idTextAnchor258), *Test-Driving GraphQL*, introduces
    the Relay library to communicate with a GraphQL endpoint that’s provided by our
    application backend.'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第13章*](B18423_13.xhtml#_idTextAnchor258), *测试驱动GraphQL*，介绍了Relay库，用于与我们的应用程序后端提供的GraphQL端点进行通信。'
- en: '[*Chapter 14*](B18423_14.xhtml#_idTextAnchor277), *Building a Logo Interpreter*,
    introduces a fun application that we will begin to explore by building out features
    across both React components and Redux middleware: undo/redo, persisting state
    across browser sessions with the `LocalStorage` API, and programmatically managing
    field focus.'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第14章*](B18423_14.xhtml#_idTextAnchor277), *构建Logo解释器*，介绍了一个有趣的应用程序，我们将通过构建React组件和Redux中间件的功能来开始探索：撤销/重做、使用`LocalStorage`
    API跨浏览器会话持久化状态，以及程序化管理字段焦点。'
- en: '[*Chapter 15*](B18423_15.xhtml#_idTextAnchor306), *Adding Animation*, covers
    adding animations to our application using the browser `requestAnimationFrame`
    API, all with a test-driven approach.'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第15章*](B18423_15.xhtml#_idTextAnchor306), *添加动画*，涵盖了使用浏览器的`requestAnimationFrame`
    API添加动画到我们的应用程序，所有这些都是在测试驱动的方法下完成的。'
- en: '[*Chapter 16*](B18423_16.xhtml#_idTextAnchor322), *Working with WebSockets*,
    adds support for WebSocket communication with our application backend.'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第16章*](B18423_16.xhtml#_idTextAnchor322), *使用WebSocket*，为我们的应用程序后端添加了对WebSocket通信的支持。'
- en: '[*Chapter 17*](B18423_17.xhtml#_idTextAnchor344), *Writing Your First Cucumber
    Test*, introduces Cucumber and Puppeteer, which we will use to build BDD tests
    for existing functionality.'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第17章*](B18423_17.xhtml#_idTextAnchor344)，*编写你的第一个 Cucumber 测试*，介绍了 Cucumber
    和 Puppeteer，我们将使用它们来为现有功能构建 BDD 测试。'
- en: '[*Chapter 18*](B18423_18.xhtml#_idTextAnchor355), *Adding Features Guided by
    Cucumber Tests*, integrates acceptance testing into our development process by
    first building BDD tests with Cucumber, before dropping down to unit tests.'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第18章*](B18423_18.xhtml#_idTextAnchor355)，*由 Cucumber 测试引导的功能添加*，通过首先使用 Cucumber
    构建BDD测试，然后下降到单元测试，将验收测试集成到我们的开发过程中。'
- en: '[*Chapter 19*](B18423_19.xhtml#_idTextAnchor375), *Understanding TDD in the
    Wider Testing Landscape*, finishes the book by looking at how what you’ve learned
    fits in with other test and quality practices.'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第19章*](B18423_19.xhtml#_idTextAnchor375)，*在更广泛的测试领域中理解 TDD*，通过查看你所学的知识如何与其他测试和质量实践相结合来结束本书。'
- en: To get the most out of this book
  id: totrans-37
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为了充分利用这本书
- en: There are two ways to read this book.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 阅读这本书有两种方法。
- en: The first is to use it as a reference when you are faced with specific testing
    challenges. Use the index to find what you’re after and move to that page.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 第一种是当你面临特定的测试挑战时将其作为参考。使用索引找到你想要的内容，然后转到那一页。
- en: 'The second, and the one I’d recommend starting with, is to follow the walk-throughs
    step by step, building your own code base as you go along. The companion GitHub
    repository has a directory for each chapter (such as `Chapter01`) and then, within
    that, three directories:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 第二种，也是我建议你开始的方法，是逐步跟随教程，在过程中构建你自己的代码库。配套的 GitHub 仓库为每个章节（如 `Chapter01`）都有一个目录，然后在该目录下，有三个目录：
- en: '`Start`, which is the starting point for the chapter, and you should start
    here if you’re following along.'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Start`，这是章节的起点，如果你在跟随学习，你应该从这里开始。'
- en: '`Exercises`, which is the point at the end of the chapter where the exercises
    begin. You should start here if you’re attempting the exercises in each chapter.
    (Note that not every chapter has exercises.)'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Exercises`，这是章节末尾开始练习的点。如果你正在尝试每个章节的练习，你应该从这里开始。（注意，并非每个章节都有练习。）'
- en: '`Complete`, which contains completed solutions to all the exercises.'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Complete`，其中包含所有练习的完整解决方案。'
- en: You will need to be at least a little proficient with `branch`, `checkout`,
    `clone`, `commit`, `diff`, and `merge` commands should be sufficient.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 你至少需要稍微熟悉 `branch`、`checkout`、`clone`、`commit`、`diff` 和 `merge` 命令，这些命令应该是足够的。
- en: Take a look at the `README.md` file in the GitHub repository for more information
    and instructions on working with the code base.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 查看 GitHub 仓库中的 `README.md` 文件以获取更多信息和工作与代码库的说明。
- en: '**If you are using the digital version of this book, we advise you to type
    the code yourself or access the code from the book’s GitHub repository (a link
    is available in the next section). Doing so will help you avoid any potential
    errors related to the copying and pasting of code.**'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果你使用这本书的数字版，我们建议你亲自输入代码或从书的 GitHub 仓库（下一节中有一个链接）获取代码。这样做将帮助你避免与代码复制粘贴相关的任何潜在错误。**'
- en: Download the example code files
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载示例代码文件
- en: You can download the example code files for this book from GitHub at [http://github.com/packtPublishing/Mastering-React-Test-Driven-Development-Second-Edition/](http://github.com/packtPublishing/Mastering-React-Test-Driven-Development-Second-Edition/).
    If there’s an update to the code, it will be updated in the GitHub repository.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以从 GitHub 下载这本书的示例代码文件：[http://github.com/packtPublishing/Mastering-React-Test-Driven-Development-Second-Edition/](http://github.com/packtPublishing/Mastering-React-Test-Driven-Development-Second-Edition/)。如果代码有更新，它将在
    GitHub 仓库中更新。
- en: We also have other code bundles from our rich catalog of books and videos available
    at [https://github.com/PacktPublishing/](https://github.com/PacktPublishing/).
    Check them out!
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还有其他来自我们丰富的图书和视频目录的代码包，可在 [https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)
    获取。查看它们吧！
- en: Download the color images
  id: totrans-50
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载彩色图像
- en: 'We also provide a PDF file that has color images of the screenshots and diagrams
    used in this book. You can download it here: [https://packt.link/5dqQx](https://packt.link/5dqQx).'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还提供了一个包含本书中使用的截图和图表的彩色图像的 PDF 文件。你可以从这里下载：[https://packt.link/5dqQx](https://packt.link/5dqQx)。
- en: Conventions used
  id: totrans-52
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用的约定
- en: There are a number of text conventions used throughout this book.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书中使用了多种文本约定。
- en: '`Code in text`: Indicates code words in text, database table names, folder
    names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter
    handles. Here is an example: “In the first test, change the word `appendChild`
    to `replaceChildren`.”'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '`文本中的代码`: 表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟URL、用户输入和Twitter昵称。以下是一个示例：“在第一个测试中，将单词`appendChild`更改为`replaceChildren`。”'
- en: '**Bold**: Indicates a new term, an important word, or words that you see onscreen.
    For instance, words in menus or dialog boxes appear in **bold**. Here is an example:
    “The presenter clicks the **Start sharing** button.”'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '**粗体**: 表示新术语、重要单词或屏幕上看到的单词。例如，菜单或对话框中的单词会以粗体显示。以下是一个示例：“演示者点击了**开始共享**按钮。”'
- en: Tips or important notes
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士或重要提示
- en: Appear like this.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 它们看起来像这样。
- en: Code snippet conventions
  id: totrans-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 代码片段约定
- en: 'A block of code is set as follows:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置如下：
- en: '[PRE0]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: There are two important things to know about the code snippets that appear in
    this book.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 关于本书中出现的代码片段，有两件重要的事情需要了解。
- en: 'The first is that some code samples show modifications to existing sections
    of code. When this happens, the changed lines appear in **bold**, and the other
    lines are simply there to provide context:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 第一点是，一些代码示例展示了现有代码段落的修改。当这种情况发生时，更改的行会以粗体显示，而其他行只是简单地提供上下文：
- en: '[PRE1]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'The second is that, often, some code samples will skip lines in order to keep
    the context clear. When this occurs, you’ll see this marked by a line with three
    dots:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 第二点是，通常，一些代码示例会省略行以保持上下文清晰。当这种情况发生时，您会看到一条带有三个点的线进行标记：
- en: '[PRE2]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Sometimes, this happens for function parameters too:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，这种情况也适用于函数参数：
- en: '[PRE3]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出都应如下编写：
- en: '[PRE4]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: JavaScript conventions
  id: totrans-70
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: JavaScript约定
- en: 'The book almost exclusively uses arrow functions for defining functions. The
    only exceptions are when we write generator functions, which must use the standard
    function’s syntax. If you’re not familiar with arrow functions, they look like
    this, which defines a single-argument function named `inc`:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 本书几乎完全使用箭头函数来定义函数。唯一的例外是我们编写生成器函数时，必须使用标准函数的语法。如果您不熟悉箭头函数，它们看起来像这样，定义了一个名为`inc`的单参数函数：
- en: '[PRE5]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'They can appear on one line or be broken into two:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 它们可以出现在一行上，也可以分成两行：
- en: '[PRE6]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Functions that have more than one argument have the arguments wrapped in brackets:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 有多个参数的函数，其参数将被括号包围：
- en: '[PRE7]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'If a function has multiple statements, then the body is wrapped in curly braces:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一个函数有多个语句，那么函数体将被括号包围：
- en: '[PRE8]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'If the function returns an object, then that object must be wrapped in brackets
    so that the runtime doesn’t think it’s executing a block:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 如果函数返回一个对象，那么该对象必须被括号包围，这样运行时就不会认为它正在执行一个代码块：
- en: '[PRE9]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'This book makes liberal use of destructuring techniques to keep the code base
    as concise as possible. As an example, object destructuring generally happens
    for function parameters:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 本书大量使用解构技术，以使代码库尽可能简洁。例如，对象解构通常发生在函数参数中：
- en: '[PRE10]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'This is equivalent to saying this:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 这相当于说：
- en: '[PRE11]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Return values can also be destructured in the same way:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 返回值也可以以相同的方式进行解构：
- en: '[PRE12]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'This is equivalent to the following:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 这相当于以下内容：
- en: '[PRE13]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Get in touch
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 联系我们
- en: Feedback from our readers is always welcome.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 我们欢迎读者的反馈。
- en: '**General feedback**: If you have questions about any aspect of this book,
    email us at [customercare@packtpub.com](mailto:customercare@packtpub.com) and
    mention the book title in the subject of your message.'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: '**一般反馈**: 如果您对本书的任何方面有疑问，请通过[mailto:customercare@packtpub.com](mailto:customercare@packtpub.com)给我们发邮件，并在邮件的主题中提及书名。'
- en: '**Errata**: Although we have taken every care to ensure the accuracy of our
    content, mistakes do happen. If you have found a mistake in this book, we would
    be grateful if you would report this to us. Please visit [www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)
    and fill in the form.'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '**勘误**: 尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果您在这本书中发现了错误，如果您能向我们报告，我们将不胜感激。请访问 [www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)
    并填写表格。'
- en: '**Piracy**: If you come across any illegal copies of our works in any form
    on the internet, we would be grateful if you would provide us with the location
    address or website name. Please contact us at [copyright@packt.com](mailto:copyright@packt.com)
    with a link to the material.'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: '**盗版**: 如果您在互联网上以任何形式遇到我们作品的非法副本，如果您能提供位置地址或网站名称，我们将不胜感激。请通过[mailto:copyright@packt.com](mailto:copyright@packt.com)与我们联系，并在邮件中附上材料的链接。'
- en: '**If you are interested in becoming an author**: If there is a topic that you
    have expertise in and you are interested in either writing or contributing to
    a book, please visit [authors.packtpub.com](http://authors.packtpub.com).'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果你有兴趣成为作者**：如果你在某个领域有专业知识，并且你对撰写或参与一本书感兴趣，请访问[authors.packtpub.com](http://authors.packtpub.com)。'
- en: Share Your Thoughts
  id: totrans-95
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分享你的想法
- en: Once you’ve read *Mastering React Test-Driven Development*, we’d love to hear
    your thoughts! Please [click here to go straight to the Amazon review page](https://packt.link/r/1803247126)
    for this book and share your feedback.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你阅读了《精通React测试驱动开发》，我们很乐意听听你的想法！请[点击此处直接访问此书的亚马逊评论页面](https://packt.link/r/1803247126)并分享你的反馈。
- en: Your review is important to us and the tech community and will help us make
    sure we’re delivering excellent quality content.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 你的评论对我们和科技社区都很重要，并将帮助我们确保我们提供高质量的内容。
- en: Part 1 – Exploring the TDD Workflow
  id: totrans-98
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第一部分 – 探索TDD工作流程
- en: '*Part 1* introduces all of the basic techniques you’ll need to test-drive React
    applications. As you build more of the application, you will create a set of library
    functions that help to simplify and accelerate your testing. The goal is to give
    you both theoretical and practical advice that will help you apply the test-driven
    development workflow to your daily work.'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '*第一部分*介绍了你需要测试驱动React应用程序的所有基本技巧。随着你构建更多应用程序，你将创建一组库函数，这些函数有助于简化并加速你的测试。目标是给你提供理论和实践建议，帮助你将测试驱动开发工作流程应用到日常工作中。'
- en: 'This part includes the following chapters:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 本部分包括以下章节：
- en: '[*Chapter 1*](B18423_01.xhtml#_idTextAnchor017), *First Steps with Test-Driven
    Development*'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第1章*](B18423_01.xhtml#_idTextAnchor017)，*测试驱动开发的初步步骤*'
- en: '[*Chapter 2*](B18423_02.xhtml#_idTextAnchor038), *Rendering Lists and Detail
    Views*'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第2章*](B18423_02.xhtml#_idTextAnchor038)，*渲染列表和详情视图*'
- en: '[*Chapter 3*](B18423_03.xhtml#_idTextAnchor053), *Refactoring the Test Suite*'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第3章*](B18423_03.xhtml#_idTextAnchor053)，*重构测试套件*'
- en: '[*Chapter 4*](B18423_04.xhtml#_idTextAnchor062), *Test-Driving Data Input*'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第4章*](B18423_04.xhtml#_idTextAnchor062)，*测试驱动数据输入*'
- en: '[*Chapter 5*](B18423_05.xhtml#_idTextAnchor079), *Adding Complex Form Interactions*'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第5章*](B18423_05.xhtml#_idTextAnchor079)，*添加复杂表单交互*'
- en: '[*Chapter 6*](B18423_06.xhtml#_idTextAnchor099), *Exploring Test Doubles*'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第6章*](B18423_06.xhtml#_idTextAnchor099)，*探索测试替身*'
- en: '[*Chapter 7*](B18423_07.xhtml#_idTextAnchor125), *Testing useEffect and Mocking
    Components*'
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第7章*](B18423_07.xhtml#_idTextAnchor125)，*测试useEffect和模拟组件*'
- en: '[*Chapter 8*](B18423_08.xhtml#_idTextAnchor147), *Building an Application Component*'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第8章*](B18423_08.xhtml#_idTextAnchor147)，*构建应用程序组件*'
