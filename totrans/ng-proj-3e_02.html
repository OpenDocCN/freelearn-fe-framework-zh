<html><head></head><body>
  <div id="_idContainer051" class="Basic-Text-Frame">
    <h1 class="chapterNumber">2</h1>
    <h1 id="_idParaDest-33" class="chapterTitle">Building an SPA Application with Scully and Angular Router</h1>
    <p class="normal">Angular applications follow <a id="_idIndexMarker069"/>the <strong class="keyWord">Single-Page Application (SPA)</strong> architecture, where different views of the web page can be activated using the URL in the browser. Any changes to that URL can be intercepted by the Angular router and translated to routes that can activate a particular Angular component.</p>
    <p class="normal"><strong class="keyWord">Scully</strong> is a <a id="_idIndexMarker070"/>popular static website generator that is based on the <strong class="keyWord">Jamstack</strong> architecture. It <a id="_idIndexMarker071"/>can cooperate nicely with the Angular router to prerender the content of an Angular application according to each route.</p>
    <p class="normal">In this chapter, we are going to combine Angular and Scully to create a personal blog. The following topics are going to be covered:</p>
    <ul>
      <li class="bulletList">Setting up routing in an Angular application</li>
      <li class="bulletList">Creating the basic layout of our blog</li>
      <li class="bulletList">Configuring routing for our application</li>
      <li class="bulletList">Adding blog capabilities with Scully</li>
      <li class="bulletList">Displaying blog posts on the home page</li>
    </ul>
    <h1 id="_idParaDest-34" class="heading-1">Essential background theory and context</h1>
    <p class="normal">In the old days of web development, client-side applications were highly coupled with the underlying server infrastructure. Much machinery was involved when we wanted to visit the page of a website using a URL. </p>
    <p class="normal">The browser would send the requested URL to the server, and the server should respond with a matching HTML file for that URL. This was a complicated process that would result in delays and varying round-trip times.</p>
    <p class="normal">Modern web applications eliminate these problems using the SPA architecture. A client needs to request a single HTML file only once from the server. Any subsequent changes to the URL of the browser are handled internally by the client infrastructure. In Angular, the router is responsible for intercepting in-app URL requests and handling them according to a defined route configuration.</p>
    <p class="normal">Jamstack is a hot<a id="_idIndexMarker072"/> emerging technology that allows us to create fast and secure web applications. It can be used for any application type, ranging from an e-commerce website <a id="_idIndexMarker073"/>to a <strong class="keyWord">Software as a Service (SaaS)</strong> web application or even a personal blog. The architecture of Jamstack is based on the following pillars:</p>
    <ul>
      <li class="bulletList"><strong class="keyWord">Performance</strong>: Pages <a id="_idIndexMarker074"/>are generated and prerendered during production, eliminating the need to wait for content to load.</li>
      <li class="bulletList"><strong class="keyWord">Scaling</strong>: Content<a id="_idIndexMarker075"/> is static files that can be served from anywhere, even from a <strong class="keyWord">Content Delivery Network (CDN)</strong> provider that improves the performance <a id="_idIndexMarker076"/>of the application.</li>
      <li class="bulletList"><strong class="keyWord">Security</strong>: The<a id="_idIndexMarker077"/> serverless nature of server-side processes and the fact that content is already static eliminates potential attacks that target server infrastructures.</li>
    </ul>
    <p class="normal">Scully is the <a id="_idIndexMarker078"/>first static website generator for Angular that embraces the Jamstack approach. It essentially generates pages of the Angular application during build time to be immediately available when requested.</p>
    <h1 id="_idParaDest-35" class="heading-1">Project overview</h1>
    <p class="normal">In this project, we <a id="_idIndexMarker079"/>will build a personal blog using the Angular framework and enhance it with Jamstack characteristics using the Scully site generator. Initially, we will scaffold a new Angular application and enable it for routing. We will then create the basic layout of our application by adding some barebones components. As soon as we have a working Angular application, we will add blog support to it using Scully. We will then create some blog posts using Markdown files and display them on the home page of our application. The following diagram depicts an architectural overview of the project:</p>
    <figure class="mediaobject"><img src="../Images/B18465_02_01.png" alt="Εικόνα που περιέχει κείμενο, διάγραμμα, σκίτσο/σχέδιο, γραμμή  Περιγραφή που δημιουργήθηκε αυτόματα"/></figure>
    <p class="packt_figref">Figure 2.1 – Project architecture</p>
    <p class="normal">Build time: 1 hour.</p>
    <h1 id="_idParaDest-36" class="heading-1">Getting started</h1>
    <p class="normal">The following software <a id="_idIndexMarker080"/>tools are required to complete this project:</p>
    <ul>
      <li class="bulletList">Angular CLI: A command-line interface for Angular that you can find at <a href="https://angular.io/cli"><span class="url">https://angular.io/cli</span></a>.</li>
      <li class="bulletList">GitHub material: The related code for this chapter, which you can find in the <code class="inlineCode">Chapter02</code> folder at <a href="https://github.com/PacktPublishing/Angular-Projects-Third-Edition"><span class="url">https://github.com/PacktPublishing/Angular-Projects-Third-Edition</span></a>.</li>
    </ul>
    <h1 id="_idParaDest-37" class="heading-1">Setting up routing in an Angular application</h1>
    <p class="normal">We will kick<a id="_idIndexMarker081"/> off our project by creating a<a id="_idIndexMarker082"/> new Angular application from scratch. Execute the following Angular CLI command in a terminal window to create a new Angular application:</p>
    <pre class="programlisting con"><code class="hljs-con">ng new my-blog --routing --style=scss
</code></pre>
    <p class="normal">We use the <code class="inlineCode">ng new</code> command to create a new Angular application, passing the following options:</p>
    <ul>
      <li class="bulletList"><code class="inlineCode">my-blog</code>: The name of the Angular application that we want to create. The Angular CLI will create a <code class="inlineCode">my-blog</code> folder in the path where we execute the command.
    <div class="note">
      <p class="normal">Every command that we run in the terminal window should be run inside this folder.</p>
    </div></li>
    </ul>
    <ul>
      <li class="bulletList"><code class="inlineCode">--routing</code>: Enables routing in the Angular application.</li>
      <li class="bulletList"><code class="inlineCode">--style=scss</code>: Configures the Angular application to use the SCSS stylesheet format when working with CSS styles.</li>
    </ul>
    <p class="normal">When we enable routing in an Angular application, the Angular CLI imports several artifacts from the <strong class="keyWord">@angular/router</strong> npm package in our application:</p>
    <ul>
      <li class="bulletList">It creates the <code class="inlineCode">app-routing.module.ts</code> file, which is the main routing module of our application:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">NgModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">RouterModule</span>, <span class="hljs-title">Routes</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/router'</span>;
<span class="hljs-keyword">const</span> <span class="hljs-attr">routes</span>: <span class="hljs-title">Routes</span> = [];
<span class="hljs-meta">@NgModule</span>({
  <span class="hljs-attr">imports</span>: [<span class="hljs-title">RouterModule</span>.<span class="hljs-title">forRoot</span>(routes)],
  <span class="hljs-attr">exports</span>: [<span class="hljs-title">RouterModule</span>]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AppRoutingModule</span> { }
</code></pre>
      </li>
      <li class="bulletList">It imports <code class="inlineCode">AppRoutingModule</code> into the main module of our application, <code class="inlineCode">app.module.ts</code>:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">NgModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">BrowserModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/platform-browser'</span>;
<span class="code-highlight"><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc"> { </strong><strong class="hljs-title-slc">AppRoutingModule</strong><strong class="hljs-slc"> } </strong><strong class="hljs-keyword-slc">from</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">'./app-routing.module'</strong><strong class="hljs-slc">;</strong></span>
<span class="hljs-keyword">import</span> { <span class="hljs-title">AppComponent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./app.component'</span>;
<span class="hljs-meta">@NgModule</span>({
  <span class="hljs-attr">declarations</span>: [
    <span class="hljs-title">AppComponent</span>
  ],
  <span class="hljs-attr">imports</span>: [
    <span class="hljs-title">BrowserModule</span>,
    <span class="code-highlight"><strong class="hljs-title-slc">AppRoutingModule</strong></span>
  ],
  <span class="hljs-attr">providers</span>: [],
  <span class="hljs-attr">bootstrap</span>: [<span class="hljs-title">AppComponent</span>]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AppModule</span> { }
</code></pre>
      </li>
    </ul>
    <p class="normal">We configured our application to use the SCSS stylesheet format. Instead of creating the <a id="_idIndexMarker083"/>styles of <a id="_idIndexMarker084"/>our application manually, we<a id="_idIndexMarker085"/> will use the <strong class="keyWord">Bootstrap CSS</strong> library:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Execute the following command in a terminal window to install Bootstrap:
        <pre class="programlisting con"><code class="hljs-con">npm install bootstrap
</code></pre>
    <p class="normal">In the preceding command, we use the <code class="inlineCode">npm</code> executable to install the <code class="inlineCode">bootstrap</code> package from the npm registry.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="2">Add the following <code class="inlineCode">import</code> statement at the top of the <code class="inlineCode">styles.scss</code> file that exists in the <code class="inlineCode">src</code> folder of our Angular application:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">@import</span> <span class="hljs-string">"bootstrap/scss/bootstrap"</span>;
</code></pre>
      </li>
    </ol>
    <p class="normal">The <code class="inlineCode">styles.scss</code> file contains CSS styles that are applied globally in our application. In the previous snippet, we import all the styles from the Bootstrap library into our application. The <code class="inlineCode">@import</code> CSS rule accepts the absolute path of the <code class="inlineCode">bootstrap.scss</code> file as an option without adding the extension.</p>
    <p class="normal">In the following section, we will learn how to create the basic layout of our blog by creating<a id="_idIndexMarker086"/> components, such <a id="_idIndexMarker087"/>as the header and the footer.</p>
    <h1 id="_idParaDest-38" class="heading-1">Creating the basic layout of our blog</h1>
    <p class="normal">A blog typically has <a id="_idIndexMarker088"/>a header containing all the primary website links and a footer containing copyright information and other useful links. In the world of Angular, both can be represented as separate components.</p>
    <p class="normal">The header component is used only once since it is added when our application starts up, and it is always rendered as the main menu of the website. In Angular, we typically create a module, named <code class="inlineCode">core</code> by convention, to keep such components or services central to our application. To create the module, we use the <code class="inlineCode">generate</code> command of the Angular CLI:</p>
    <pre class="programlisting con"><code class="hljs-con">ng generate module core
</code></pre>
    <p class="normal">The preceding command will create the module in the <code class="inlineCode">src\app\core</code> folder of our application. To create the header component, we will use the same command, passing a different set of options:</p>
    <pre class="programlisting con"><code class="hljs-con">ng generate component header --path=src/app/core --module=core --export
</code></pre>
    <p class="normal">The previous command will create all necessary component files inside the <code class="inlineCode">src\app\core\header</code> folder. It will also declare <code class="inlineCode">HeaderComponent</code> in the <code class="inlineCode">core.module.ts</code> file and add it to the <code class="inlineCode">exports</code> property so that other modules can use it:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">NgModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">CommonModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/common'</span>;
<span class="code-highlight"><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc"> { </strong><strong class="hljs-title-slc">HeaderComponent</strong><strong class="hljs-slc"> } </strong><strong class="hljs-keyword-slc">from</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">'./header/header.component'</strong><strong class="hljs-slc">;</strong></span>
<span class="hljs-meta">@NgModule</span>({
  <span class="hljs-attr">declarations</span>: [
    <span class="code-highlight"><strong class="hljs-title-slc">HeaderComponent</strong></span>
  ],
  <span class="hljs-attr">imports</span>: [
    <span class="hljs-title">CommonModule</span>
  ],
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-attr-slc">exports</strong><strong class="hljs-slc">: [</strong></span>
<span class="code-highlight"><strong class="hljs-slc">    </strong><strong class="hljs-title-slc">HeaderComponent</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  ]</strong></span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title">CoreModule</span> { }
</code></pre>
    <p class="normal">The header component should display the main links of our blog. Open the <code class="inlineCode">header.component.html</code> template file of the header component and replace its content with the following snippet:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">nav</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"navbar navbar-expand navbar-light bg-light"</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"container-fluid"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">a</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"navbar-brand"</span><span class="hljs-tag">&gt;</span>Angular Projects<span class="hljs-tag">&lt;/</span><span class="hljs-name">a</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">ul</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"navbar-nav me-auto"</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">li</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"nav-item"</span><span class="hljs-tag">&gt;</span>
        <span class="hljs-tag">&lt;</span><span class="hljs-name">a</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"nav-link"</span><span class="hljs-tag">&gt;</span>Articles<span class="hljs-tag">&lt;/</span><span class="hljs-name">a</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">li</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"nav-item"</span><span class="hljs-tag">&gt;</span>
        <span class="hljs-tag">&lt;</span><span class="hljs-name">a</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"nav-link"</span><span class="hljs-tag">&gt;</span>Contact<span class="hljs-tag">&lt;/</span><span class="hljs-name">a</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">ul</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">nav</span><span class="hljs-tag">&gt;</span>
</code></pre>
    <p class="normal">The footer component <a id="_idIndexMarker089"/>can be used more than once in an Angular application. Currently, we want to display it on the main page of our application. In the future, we may want to have it also on a login page that will be available for blog visitors. In such a case, the footer component should be reusable. When we want to group components that will be reused throughout our application, we typically create a module named <strong class="keyWord">shared</strong> by convention. Use the Angular CLI <code class="inlineCode">generate</code> command to create the module:</p>
    <pre class="programlisting con"><code class="hljs-con">ng generate module shared
</code></pre>
    <p class="normal">The previous command will create the <code class="inlineCode">shared</code> module in the <code class="inlineCode">src\app\shared</code> folder. The footer component can now be created using the following command:</p>
    <pre class="programlisting con"><code class="hljs-con">ng generate component footer --path=src/app/shared --module=shared --export
</code></pre>
    <p class="normal">The previous command will create all necessary files of the footer component inside the <code class="inlineCode">src\app\shared\footer</code> folder. It will also add <code class="inlineCode">FooterComponent</code> in the <code class="inlineCode">declarations</code> and <code class="inlineCode">exports</code> properties in the <code class="inlineCode">shared.module.ts</code> file:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">NgModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">CommonModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/common'</span>;
<span class="code-highlight"><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc"> { </strong><strong class="hljs-title-slc">FooterComponent</strong><strong class="hljs-slc"> } </strong><strong class="hljs-keyword-slc">from</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">'./footer/footer.component'</strong><strong class="hljs-slc">;</strong></span>
<span class="hljs-meta">@NgModule</span>({
  <span class="hljs-attr">declarations</span>: [
    <span class="code-highlight"><strong class="hljs-title-slc">FooterComponent</strong></span>
  ],
  <span class="hljs-attr">imports</span>: [
    <span class="hljs-title">CommonModule</span>
  ],
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-attr-slc">exports</strong><strong class="hljs-slc">: [</strong></span>
<span class="code-highlight"><strong class="hljs-slc">    </strong><strong class="hljs-title-slc">FooterComponent</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  ]</strong></span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title">SharedModule</span> { }
</code></pre>
    <p class="normal">The content of the footer component should contain copyright information about our blog. </p>
    <p class="normal">Let’s see how to add this information to our component:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Open the <code class="inlineCode">footer.component.ts</code> file, add a <code class="inlineCode">currentDate</code> property in the <code class="inlineCode">FooterComponent</code> class, and <a id="_idIndexMarker090"/>initialize it to a new <code class="inlineCode">Date</code> object:
        <pre class="programlisting code"><code class="hljs-code">currentDate = <span class="hljs-keyword">new</span> <span class="hljs-title">Date</span>();
</code></pre>
      </li>
      <li class="numberedList">Open the <code class="inlineCode">footer.component.html</code> template file of the footer component and replace its content with the following:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">nav</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"navbar fixed-bottom navbar-light bg-light"</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"container-fluid"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">p</span><span class="hljs-tag">&gt;</span>Copyright @{{currentDate | date: 'y'}}. All
      Rights Reserved<span class="hljs-tag">&lt;/</span><span class="hljs-name">p</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">nav</span><span class="hljs-tag">&gt;</span>
</code></pre>
      </li>
    </ol>
    <p class="normal">The preceding code uses interpolation to display the value of the <code class="inlineCode">currentDate</code> property on the screen. It also uses the built-in <code class="inlineCode">date</code> pipe to display only the year of the current date.</p>
    <div class="note">
      <p class="normal">Pipes are a built-in feature of the Angular framework that apply transformations on the view representation of a component property. The underlying value of the property remains intact.</p>
    </div>
    <p class="normal">We have already created the essential components of our blog. Now it is time to display them on the screen:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Open the main module of the application, the <code class="inlineCode">app.module.ts</code> file, and add <code class="inlineCode">CoreModule</code> and <code class="inlineCode">SharedModule</code> into the <code class="inlineCode">imports</code> property of the <code class="inlineCode">@NgModule</code> decorator:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">@NgModule</span>({
  <span class="hljs-attr">declarations</span>: [
    <span class="hljs-title">AppComponent</span>
  ],
  <span class="hljs-attr">imports</span>: [
    <span class="hljs-title">BrowserModule</span>,
    <span class="hljs-title">AppRoutingModule</span>,
    <span class="code-highlight"><strong class="hljs-title-slc">CoreModule</strong><strong class="hljs-slc">,</strong></span>
<span class="code-highlight"><strong class="hljs-slc">    </strong><strong class="hljs-title-slc">SharedModule</strong></span>
  ],
  <span class="hljs-attr">providers</span>: [],
  <span class="hljs-attr">bootstrap</span>: [<span class="hljs-title">AppComponent</span>]
})
</code></pre>
      </li>
      <li class="numberedList">Add the <a id="_idIndexMarker091"/>appropriate <code class="inlineCode">import</code> statements at the top of the file for each module:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">CoreModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./core/core.module'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">SharedModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./shared/shared.module'</span>;
</code></pre>
      </li>
      <li class="numberedList">Open the <code class="inlineCode">app.component.html</code> template file of the main component and replace its content with the following HTML snippet:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">app-header</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">app-header</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;</span><span class="hljs-name">app-footer</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">app-footer</span><span class="hljs-tag">&gt;</span>
</code></pre>
      </li>
    </ol>
    <p class="normal">We added the header and the footer component in the preceding snippet by using their CSS selectors.</p>
    <p class="normal">If we run the <code class="inlineCode">serve</code> command of the Angular CLI to preview the application, we should get the following:</p>
    <figure class="mediaobject"><img src="../Images/B18465_02_02.png" alt="Figure 2.2 – Basic layout"/></figure>
    <p class="packt_figref">Figure 2.2 – Basic layout</p>
    <p class="normal">We have already completed the basic layout of our blog application, and it looks great! But the <a id="_idIndexMarker092"/>header contains two additional links that we have not covered yet. We will learn how to use routing to activate those links in the following section.</p>
    <h1 id="_idParaDest-39" class="heading-1">Configuring routing for our application</h1>
    <p class="normal">The<a id="_idIndexMarker093"/> header component that we <a id="_idIndexMarker094"/>created in the previous section contains two links:</p>
    <ul>
      <li class="bulletList"><strong class="keyWord">Articles</strong>: Displays a list of blog articles</li>
      <li class="bulletList"><strong class="keyWord">Contact</strong>: Displays personal information about the blog owner</li>
    </ul>
    <p class="normal">The previous links will also become the main features of our application. So, we need to create an Angular module for each one.</p>
    <div class="packt_tip">
      <p class="normal">When you design your website and need to decide upon the Angular modules that you will use, check out the main menu of the website. Each link of the menu should be a different feature and, thus, a different Angular module.</p>
    </div>
    <p class="normal">By convention, Angular modules that contain functionality for a specific feature<a id="_idIndexMarker095"/> are called <strong class="keyWord">feature modules</strong>.</p>
    <h2 id="_idParaDest-40" class="heading-2">Creating the contact page</h2>
    <p class="normal">Let’s begin by creating our contact feature:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Create a <a id="_idIndexMarker096"/>module that will be the home for our contact feature:
        <pre class="programlisting con"><code class="hljs-con">ng generate module contact
</code></pre>
      </li>
      <li class="numberedList">Create a component that will be the main component of the <code class="inlineCode">contact</code> module:
        <pre class="programlisting con"><code class="hljs-con">ng generate component contact --path=src/app/contact --module=contact --export --flat
</code></pre>
    <p class="normal">We pass the <code class="inlineCode">--flat</code> option to the <code class="inlineCode">generate</code> command so that the Angular CLI will not create a separate folder for our component, as in previous cases. The <code class="inlineCode">contact</code> component will be the only component in our module, so there is no point in having it separately.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="3">Open the <code class="inlineCode">contact.component.html</code> file and add the following HTML content:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card mx-auto text-center border-light"</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">"width: 18rem;"</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">img</span><span class="hljs-tag"> </span><span class="hljs-attr">src</span><span class="hljs-tag">=</span><span class="hljs-string">"assets/angular.png"</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card-img-top"</span>
<span class="hljs-tag">    </span><span class="hljs-attr">alt</span><span class="hljs-tag">=</span><span class="hljs-string">"Angular logo"</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card-body"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">h5</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card-title"</span><span class="hljs-tag">&gt;</span>Angular Projects<span class="hljs-tag">&lt;/</span><span class="hljs-name">h5</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">p</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card-text"</span><span class="hljs-tag">&gt;</span>
      A personal blog created with the Angular
      framework and the Scully static site generator
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">p</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">a</span><span class="hljs-tag"> </span><span class="hljs-attr">href</span><span class="hljs-tag">=</span><span class="hljs-string">"https://angular.io/"</span><span class="hljs-tag"> </span><span class="hljs-attr">target</span><span class="hljs-tag">=</span><span class="hljs-string">"_blank"</span>
<span class="hljs-tag">      </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card-link"</span><span class="hljs-tag">&gt;</span>Angular<span class="hljs-tag">&lt;/</span><span class="hljs-name">a</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">a</span><span class="hljs-tag"> </span><span class="hljs-attr">href</span><span class="hljs-tag">=</span><span class="hljs-string">"https://scully.io/"</span><span class="hljs-tag"> </span><span class="hljs-attr">target</span><span class="hljs-tag">=</span><span class="hljs-string">"_blank"</span>
<span class="hljs-tag">      </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card-link"</span><span class="hljs-tag">&gt;</span>Scully<span class="hljs-tag">&lt;/</span><span class="hljs-name">a</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
</code></pre>
      </li>
    </ol>
    <p class="normal">In the preceding code, we used the <code class="inlineCode">angular.png</code> image, which you can find in the <code class="inlineCode">src\assets</code> folder of the project from the accompanying GitHub repository.</p>
    <div class="packt_tip">
      <p class="normal">The <code class="inlineCode">assets</code> folder in an Angular CLI project is used for static content such as images, fonts, or JSON files.</p>
    </div>
    <p class="normal">We have already<a id="_idIndexMarker097"/> created our contact feature. The next step is to add it to the main page of our Angular application:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Open the <code class="inlineCode">app-routing.module.ts</code> file and add a new route configuration object in the <code class="inlineCode">routes</code> property:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">NgModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">RouterModule</span>, <span class="hljs-title">Routes</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/router'</span>;
<span class="code-highlight"><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc"> { </strong><strong class="hljs-title-slc">ContactComponent</strong><strong class="hljs-slc"> } </strong><strong class="hljs-keyword-slc">from</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">'</strong><strong class="hljs-string-slc">./contact/contact.component'</strong><strong class="hljs-slc">;</strong></span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">routes</span>: <span class="hljs-title">Routes</span> = [
  <span class="code-highlight"><strong class="hljs-slc">{ </strong><strong class="hljs-attr-slc">path</strong><strong class="hljs-slc">: </strong><strong class="hljs-string-slc">'contact'</strong><strong class="hljs-slc">, </strong><strong class="hljs-attr-slc">component</strong><strong class="hljs-slc">: </strong><strong class="hljs-title-slc">ContactComponent</strong><strong class="hljs-slc"> }</strong></span>
];
<span class="hljs-meta">@NgModule</span>({
  <span class="hljs-attr">imports</span>: [<span class="hljs-title">RouterModule</span>.<span class="hljs-title">forRoot</span>(routes)],
  <span class="hljs-attr">exports</span>: [<span class="hljs-title">RouterModule</span>]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AppRoutingModule</span> { }
</code></pre>
    <p class="normal">The preceding code indicates that when the URL of the browser points to the <code class="inlineCode">contact</code> path, our application will activate and display <code class="inlineCode">ContactComponent</code> on the screen. The <code class="inlineCode">routes</code> property of a routing module contains the routing configuration of the respective feature module. It is an array of route configuration objects where each one defines the component class and the URL path that activates it.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="2">Add <code class="inlineCode">ContactModule</code> in the <code class="inlineCode">imports</code> array of the <code class="inlineCode">@NgModule</code> decorator of <code class="inlineCode">AppModule</code> to be<a id="_idIndexMarker098"/> able to use it:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">@NgModule</span>({
  <span class="hljs-attr">declarations</span>: [
    <span class="hljs-title">AppComponent</span>
  ],
  <span class="hljs-attr">imports</span>: [
    <span class="hljs-title">BrowserModule</span>,
    <span class="hljs-title">AppRoutingModule</span>,
    <span class="hljs-title">CoreModule</span>,
    <span class="hljs-title">SharedModule</span>,
    <span class="code-highlight"><strong class="hljs-title-slc">ContactModule</strong></span>
  ],
  <span class="hljs-attr">providers</span>: [],
  <span class="hljs-attr">bootstrap</span>: [<span class="hljs-title">AppComponent</span>]
})
</code></pre>
    <p class="normal">Do not forget to add the respective <code class="inlineCode">import</code> statement for <code class="inlineCode">ContactModule</code> at the top of the file.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="3">Routed components, just like <code class="inlineCode">ContactComponent</code>, need a place where they can be loaded. Open the <code class="inlineCode">app.component.html</code> file and add the <code class="inlineCode">&lt;router-outlet&gt;</code> directive:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">app-header</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">app-header</span><span class="hljs-tag">&gt;</span>
<span class="code-highlight"><strong class="hljs-tag-slc">&lt;</strong><strong class="hljs-name-slc">div</strong><strong class="hljs-tag-slc"> </strong><strong class="hljs-attr-slc">class</strong><strong class="hljs-tag-slc">=</strong><strong class="hljs-string-slc">"</strong><strong class="hljs-string-slc">container"</strong><strong class="hljs-tag-slc">&gt;</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-tag-slc">&lt;</strong><strong class="hljs-name-slc">router-outlet</strong><strong class="hljs-tag-slc">&gt;&lt;/</strong><strong class="hljs-name-slc">router-outlet</strong><strong class="hljs-tag-slc">&gt;</strong></span>
<span class="code-highlight"><strong class="hljs-tag-slc">&lt;/</strong><strong class="hljs-name-slc">div</strong><strong class="hljs-tag-slc">&gt;</strong></span>
<span class="hljs-tag">&lt;</span><span class="hljs-name">app-footer</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">app-footer</span><span class="hljs-tag">&gt;</span>
</code></pre>
      </li>
    </ol>
    <p class="normal">Now, we need to wire up the route configuration that we created with the actual link on the header component:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Open the <code class="inlineCode">header.component.html</code> file and add the <code class="inlineCode">routerLink</code> directive to the respective anchor HTML element:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">li</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"nav-item"</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">a</span><span class="hljs-tag"> </span><span class="code-highlight"><strong class="hljs-attr-slc">routerLink</strong><strong class="hljs-tag-slc">=</strong><strong class="hljs-string-slc">"/contact"</strong><strong class="hljs-tag-slc"> </strong><strong class="hljs-attr-slc">routerLinkActive</strong><strong class="hljs-tag-slc">=</strong><strong class="hljs-string-slc">"active"</strong></span>
<span class="hljs-tag">    </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"nav-link"</span><span class="hljs-tag">&gt;</span>Contact<span class="hljs-tag">&lt;/</span><span class="hljs-name">a</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>
</code></pre>
      </li>
    </ol>
    <p class="normal">In the preceding snippet, the <code class="inlineCode">routerLink</code> directive points to the <code class="inlineCode">path</code> property of the route configuration object. We have also added the <code class="inlineCode">routerLinkActive</code> directive, which sets the <code class="inlineCode">active</code> class on the anchor element when the specific route is activated.</p>
    <div class="note">
      <p class="normal">Notice that the value of the <code class="inlineCode">routerLink</code> directive contains a leading <code class="inlineCode">/</code>, whereas the <code class="inlineCode">path</code> property of the route configuration object that we defined does not. According to the case, omitting the <code class="inlineCode">/</code> would give a different meaning to the route.</p>
    </div>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="2">The <code class="inlineCode">routerLink</code> and <code class="inlineCode">routerLinkActive</code> directives are part of the Angular Router <a id="_idIndexMarker099"/>package. We need to import <code class="inlineCode">RouterModule</code> in the <code class="inlineCode">core.module.ts</code> file to use them:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">NgModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">CommonModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/common'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">HeaderComponent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./header/header.component'</span>;
<span class="code-highlight"><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc"> { </strong><strong class="hljs-title-slc">RouterModule</strong><strong class="hljs-slc"> } </strong><strong class="hljs-keyword-slc">from</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">'@angular/router'</strong><strong class="hljs-slc">;</strong></span>
<span class="hljs-meta">@NgModule</span>({
  <span class="hljs-attr">declarations</span>: [
    <span class="hljs-title">HeaderComponent</span>
  ],
  <span class="hljs-attr">imports</span>: [
    <span class="hljs-title">CommonModule</span>,
    <span class="code-highlight"><strong class="hljs-title-slc">RouterModule</strong></span>
  ],
  <span class="hljs-attr">exports</span>: [
    <span class="hljs-title">HeaderComponent</span>
  ]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title">CoreModule</span> { }
</code></pre>
      </li>
    </ol>
    <p class="normal">We are now ready to preview our new contact page! If we run the application using <code class="inlineCode">ng serve</code> and click on the <strong class="screenText">Contact</strong> link, we should see the following <a id="_idIndexMarker100"/>output:</p>
    <figure class="mediaobject"><img src="../Images/B18465_02_03.png" alt="Εικόνα που περιέχει κείμενο, λογότυπο, γραμματοσειρά, στιγμιότυπο οθόνης  Περιγραφή που δημιουργήθηκε αυτόματα"/></figure>
    <p class="packt_figref">Figure 2.3 – Contact page</p>
    <p class="normal">In the following section, we will build the functionality for the <strong class="screenText">Articles</strong> link of the header in our blog.</p>
    <h2 id="_idParaDest-41" class="heading-2">Adding the articles page</h2>
    <p class="normal">The feature that is responsible for displaying articles in our blog will be the <code class="inlineCode">articles</code> module. It <a id="_idIndexMarker101"/>will also be the module that connects the dots between <a id="_idIndexMarker102"/>Angular and Scully. We will use the <code class="inlineCode">generate</code> command of the Angular CLI to create that module:</p>
    <pre class="programlisting con"><code class="hljs-con">ng generate module articles --route=articles --module=app-routing
</code></pre>
    <p class="normal">In the previous command, we pass some additional routing options:</p>
    <ul>
      <li class="bulletList"><code class="inlineCode">--route</code>: Defines the URL path of our feature</li>
      <li class="bulletList"><code class="inlineCode">--module</code>: Indicates the routing module that will define the route configuration object that activates our feature</li>
    </ul>
    <p class="normal">The Angular CLI performs additional actions, instead of just creating the module, upon executing the command:</p>
    <ul>
      <li class="bulletList">It creates a routed component in the <code class="inlineCode">src\app\articles</code> folder that will be activated by default from a route navigation object. It is the landing page of our feature, and it will display a list of blog posts, as we will see in the <em class="italic">Displaying blog data on the home page</em> section.</li>
      <li class="bulletList">It creates a routing module named <code class="inlineCode">articles-routing.module.ts</code> that contains the routing configuration of our module.</li>
      <li class="bulletList">It adds a new route configuration object in the route configuration of the main application module that activates our module.</li>
    </ul>
    <p class="normal">The <code class="inlineCode">articles-routing.module.ts</code> file contains the routing configuration for the <code class="inlineCode">articles</code> module:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">NgModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">RouterModule</span>, <span class="hljs-title">Routes</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/router'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">ArticlesComponent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./articles.component'</span>;
<span class="hljs-keyword">const</span> <span class="hljs-attr">routes</span>: <span class="hljs-title">Routes</span> = [{ <span class="hljs-attr">path</span>: <span class="hljs-string">''</span>, <span class="hljs-attr">component</span>: <span class="hljs-title">ArticlesComponent</span> }];
<span class="hljs-meta">@NgModule</span>({
  <span class="hljs-attr">imports</span>: [<span class="hljs-title">RouterModule</span>.<span class="hljs-title">forChild</span>(routes)],
  <span class="hljs-attr">exports</span>: [<span class="hljs-title">RouterModule</span>]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ArticlesRoutingModule</span> { }
</code></pre>
    <p class="normal">It imports <code class="inlineCode">RouterModule</code> using the <code class="inlineCode">forChild</code> method to pass the routing configuration to the Angular router. If we take a look at the main routing module of the application, we will see that it follows a slightly different approach:</p>
    <p class="sc---heading"><code class="inlineCode">app-routing.module.ts</code></p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">NgModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">RouterModule</span>, <span class="hljs-title">Routes</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/router'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">ContactComponent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./contact/contact.component'</span>;
<span class="hljs-keyword">const</span> <span class="hljs-attr">routes</span>: <span class="hljs-title">Routes</span> = [
  { <span class="hljs-attr">path</span>: <span class="hljs-string">'</span><span class="hljs-string">contact'</span>, <span class="hljs-attr">component</span>: <span class="hljs-title">ContactComponent</span> },
  <span class="code-highlight"><strong class="hljs-slc">{ </strong><strong class="hljs-attr-slc">path</strong><strong class="hljs-slc">: </strong><strong class="hljs-string-slc">'articles'</strong><strong class="hljs-slc">, </strong><strong class="hljs-attr-slc">loadChildren</strong><strong class="hljs-slc">: </strong><strong class="hljs-function-slc">() =&gt;</strong><strong class="hljs-slc"> </strong><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc">(</strong><strong class="hljs-string-slc">'./articles/articles.module'</strong><strong class="hljs-slc">).</strong><strong class="hljs-title-slc">then</strong><strong class="hljs-slc">(</strong><strong class="hljs-params-slc">m</strong><strong class="hljs-function-slc"> =&gt;</strong><strong class="hljs-slc"> m.</strong><strong class="hljs-property-slc">ArticlesModule</strong><strong class="hljs-slc">) }</strong></span>
];
<span class="hljs-meta">@NgModule</span>({
  <span class="hljs-attr">imports</span>: [<span class="code-highlight"><strong class="hljs-title-slc">RouterModule</strong><strong class="hljs-slc">.</strong><strong class="hljs-title-slc">forRoot</strong><strong class="hljs-slc">(routes)</strong></span>],
  <span class="hljs-attr">exports</span>: [<span class="hljs-title">RouterModule</span>]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AppRoutingModule</span> { }
</code></pre>
    <p class="normal">The <code class="inlineCode">forChild</code> method is used in feature modules, whereas <a id="_idIndexMarker103"/>the <code class="inlineCode">forRoot</code> method should be used <em class="italic">only</em> in the main application module.</p>
    <p class="normal">The route configuration of the <code class="inlineCode">articles</code> module contains only one route that activates <code class="inlineCode">ArticlesComponent</code>. The path of the route is set to an empty string to indicate that it is the default route of the routing module. It essentially means that <code class="inlineCode">ArticlesComponent</code> will be activated whenever that module is loaded. But how is the <code class="inlineCode">articles</code> module loaded in our application?</p>
    <p class="normal">The second route of the main routing module contains a route configuration object that does not activate a component but rather a module. It uses the <code class="inlineCode">loadChildren</code> method to load <code class="inlineCode">ArticlesModule</code> dynamically when navigation triggers the <code class="inlineCode">articles</code> path.</p>
    <div class="note">
      <p class="normal">The <code class="inlineCode">import</code> function in the <code class="inlineCode">loadChildren</code> property accepts the relative path of the TypeScript module file without the extension.</p>
    </div>
    <p class="normal">The previous approach<a id="_idIndexMarker104"/> is called <strong class="keyWord">lazy loading</strong> and improves the startup and the overall performance of an Angular application. It creates a separate bundle for each lazy-loaded module, which is loaded upon request, reducing the final bundle size and the memory consumption of your application. Let’s wire up the new route to our header component:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Open the <code class="inlineCode">header.component.html</code> file and add the following <code class="inlineCode">routerLink</code> and <code class="inlineCode">routerLinkActive</code> directives to<a id="_idIndexMarker105"/> the <code class="inlineCode">Articles</code> anchor HTML element:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">li</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"nav-item"</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">a</span><span class="hljs-tag"> </span><span class="code-highlight"><strong class="hljs-attr-slc">routerLink</strong><strong class="hljs-tag-slc">=</strong><strong class="hljs-string-slc">"/articles"</strong><strong class="hljs-tag-slc"> </strong><strong class="hljs-attr-slc">routerLinkActive</strong><strong class="hljs-tag-slc">=</strong><strong class="hljs-string-slc">"active"</strong></span>
<span class="hljs-tag">    </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"nav-link"</span><span class="hljs-tag">&gt;</span>Articles<span class="hljs-tag">&lt;/</span><span class="hljs-name">a</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>
</code></pre>
      </li>
      <li class="numberedList">Run <code class="inlineCode">ng serve</code> and use your favorite browser to preview your application.</li>
      <li class="numberedList">Open the developer tools of your browser, click on the <strong class="screenText">Articles</strong> link, and inspect the <strong class="screenText">Network</strong> tab:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18465_02_04.png" alt="Εικόνα που περιέχει κείμενο, στιγμιότυπο οθόνης, αριθμός, λογισμικό  Περιγραφή που δημιουργήθηκε αυτόματα"/></figure>
    <p class="packt_figref">Figure 2.4 – Lazy loading Angular module</p>
    <p class="normal">Among other requests, you should see<a id="_idIndexMarker106"/> one named <code class="inlineCode">src_app_articles_articles_module_ts.js</code>. It is the bundle of the lazy-loaded articles module that was loaded when you clicked on the <strong class="screenText">Articles</strong> link.</p>
    <p class="normal">We are now ready to convert our amazing Angular application into a professional blog website. </p>
    <p class="normal">Before we move on, let’s add some additional routes to the <code class="inlineCode">app-routing.module.ts</code> file:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> <span class="hljs-attr">routes</span>: <span class="hljs-title">Routes</span> = [
  { <span class="hljs-attr">path</span>: <span class="hljs-string">'contact'</span>, <span class="hljs-attr">component</span>: <span class="hljs-title">ContactComponent</span> },
  { <span class="hljs-attr">path</span>: <span class="hljs-string">'articles'</span>, <span class="hljs-attr">loadChildren</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./articles/articles.module'</span>).<span class="hljs-title">then</span>(<span class="hljs-params">m</span><span class="hljs-function"> =&gt;</span> m.<span class="hljs-property">ArticlesModule</span>) },
<span class="code-highlight"><strong class="hljs-slc">  { </strong><strong class="hljs-attr-slc">path</strong><strong class="hljs-slc">: </strong><strong class="hljs-string-slc">''</strong><strong class="hljs-slc">, </strong><strong class="hljs-attr-slc">pathMatch</strong><strong class="hljs-slc">: </strong><strong class="hljs-string-slc">'full'</strong><strong class="hljs-slc">, </strong><strong class="hljs-attr-slc">redirectTo</strong><strong class="hljs-slc">: </strong><strong class="hljs-string-slc">'articles'</strong><strong class="hljs-slc"> },</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  { </strong><strong class="hljs-attr-slc">path</strong><strong class="hljs-slc">: </strong><strong class="hljs-string-slc">'**'</strong><strong class="hljs-slc">, </strong><strong class="hljs-attr-slc">redirectTo</strong><strong class="hljs-slc">: </strong><strong class="hljs-string-slc">'articles'</strong><strong class="hljs-slc"> }</strong></span>
];
</code></pre>
    <p class="normal">We added a default <a id="_idIndexMarker107"/>route to automatically redirect our blog users to the <code class="inlineCode">articles</code> path upon visiting the blog. Additionally, we created a new route configuration object with its path set to <code class="inlineCode">**</code> that also navigates to the <code class="inlineCode">articles</code> path. The <code class="inlineCode">**</code> syntax is called<a id="_idIndexMarker108"/> the <strong class="keyWord">wildcard</strong> route, and it is triggered when the router cannot match a requested URL with a defined route.</p>
    <div class="packt_tip">
      <p class="normal">Define the most specific routes first and then add any generic ones, such as the default and the wildcard routes. The Angular router parses the route configuration in the order that we define and follows a first-match-wins strategy to select one.</p>
    </div>
    <p class="normal">We have already enabled and configured routing in our Angular application. In the following section, we will establish the infrastructure needed to add blogging capabilities to our application.</p>
    <h1 id="_idParaDest-42" class="heading-1">Adding blog capabilities with Scully</h1>
    <p class="normal">Our application currently does not have<a id="_idIndexMarker109"/> any specific logic regarding blog posts. It is <a id="_idIndexMarker110"/>a typical Angular application that uses routing. However, by adding a routing configuration, we have established the foundation for adding blog support using Scully.</p>
    <div class="note">
      <p class="normal">Scully needs at least one route defined in an Angular application to work correctly.</p>
    </div>
    <p class="normal">First, we need to install Scully in our application.</p>
    <h2 id="_idParaDest-43" class="heading-2">Installing the Scully library</h2>
    <p class="normal">We will use the <code class="inlineCode">install</code> command of the npm <a id="_idIndexMarker111"/>CLI to install Scully in our Angular application:</p>
    <pre class="programlisting con"><code class="hljs-con">npm install @scullyio/init @scullyio/ng-lib @scullyio/scully @scullyio/scully-plugin-puppeteer --force
</code></pre>
    <p class="normal">The preceding command downloads and installs all the necessary npm packages for Scully to work correctly in our Angular application.</p>
    <div class="note">
      <p class="normal">The Scully library is not fully compatible with Angular 16, as of this writing. In the preceding command we use the <code class="inlineCode">--force</code> option to ignore any warnings that come from the Angular version incompatibility.</p>
    </div>
    <p class="normal">Open the <code class="inlineCode">app.module.ts</code> file and import <code class="inlineCode">ScullyLibModule</code>:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">NgModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">BrowserModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/platform-browser'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">AppRoutingModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./app-routing.module'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">AppComponent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./app.component'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">ContactModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./contact/contact.module'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">CoreModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./core/core.module'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">SharedModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./shared/shared.module'</span>;
<span class="code-highlight"><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc"> { </strong><strong class="hljs-title-slc">ScullyLibModule</strong><strong class="hljs-slc"> } </strong><strong class="hljs-keyword-slc">from</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">'@scullyio/ng-lib'</strong><strong class="hljs-slc">;</strong></span>
<span class="hljs-meta">@NgModule</span>({
  <span class="hljs-attr">declarations</span>: [
    <span class="hljs-title">AppComponent</span>
  ],
  <span class="hljs-attr">imports</span>: [
    <span class="hljs-title">BrowserModule</span>,
    <span class="hljs-title">AppRoutingModule</span>,
    <span class="hljs-title">CoreModule</span>,
    <span class="hljs-title">SharedModule</span>,
    <span class="hljs-title">ContactModule</span>,
    <span class="code-highlight"><strong class="hljs-title-slc">ScullyLibModule</strong></span>
  ],
  <span class="hljs-attr">providers</span>: [],
  <span class="hljs-attr">bootstrap</span>: [<span class="hljs-title">AppComponent</span>]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AppModule</span> { }
</code></pre>
    <p class="normal"><code class="inlineCode">ScullyLibModule</code> is the main module of the Scully library; it contains various Angular services and directives that Scully will need.</p>
    <p class="normal">Create a configuration file for the Scully library in the root folder of the Angular CLI workspace with the following contents:</p>
    <p class="sc---heading"><code class="inlineCode">scully.my-blog.config.ts</code></p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">ScullyConfig</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@scullyio/scully'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">config</span>: <span class="hljs-title">ScullyConfig</span> = {
  <span class="hljs-attr">projectRoot</span>: <span class="hljs-string">"./src"</span>,
  <span class="hljs-attr">projectName</span>: <span class="hljs-string">"my-blog"</span>,
  <span class="hljs-attr">outDir</span>: <span class="hljs-string">'./dist/static'</span>,
  <span class="hljs-attr">routes</span>: {
  }
};
</code></pre>
    <p class="normal">The configuration file contains information about our Angular application that Scully will need along the way:</p>
    <ul>
      <li class="bulletList"><code class="inlineCode">projectRoot</code>: The path containing the source code of the Angular application</li>
      <li class="bulletList"><code class="inlineCode">projectName</code>: The name of the Angular application</li>
      <li class="bulletList"><code class="inlineCode">outDir</code>: The output path of the Scully-generated files
    <div class="note">
      <p class="normal">The Scully output path must be different from the path that the Angular CLI outputs for the bundle of your Angular application. The latter can be configured in the <code class="inlineCode">angular.json</code> file.</p>
    </div></li>
    </ul>
    <ul>
      <li class="bulletList"><code class="inlineCode">routes</code>: It contains the route configuration that will be used for accessing our blog posts. Scully will populate it automatically, as we will see in the following section.</li>
    </ul>
    <p class="normal">Since we <a id="_idIndexMarker112"/>have installed Scully successfully in our Angular application, we can now configure it to initialize our blog.</p>
    <h2 id="_idParaDest-44" class="heading-2">Initializing our blog page</h2>
    <p class="normal">Scully provides<a id="_idIndexMarker113"/> a specific Angular CLI schematic for initializing an Angular application, such as a blog, by using Markdown (.md) files:</p>
    <pre class="programlisting con"><code class="hljs-con">ng generate @scullyio/init:markdown --project my-blog
</code></pre>
    <p class="normal">The previous command will start the configuration process of our blog by going through a list of questions (default values are shown inside parentheses):</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Type <code class="inlineCode">posts</code> as the name of the blog module:
        <pre class="programlisting con"><code class="hljs-con">What name do you want to use for the module? (blog)
</code></pre>
    <p class="normal">This will create a new Angular module named <code class="inlineCode">posts</code>.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="2">Leave the slug choice empty, and press <em class="keystroke">Enter</em> to accept the default value:
        <pre class="programlisting con"><code class="hljs-con">What slug do you want for the markdown file? (id)
</code></pre>
    <p class="normal">The slug is a unique identifier for each post, and it is defined in the route configuration object of the module.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="3">Enter <code class="inlineCode">mdfiles</code> as the path that Scully will use to store our actual blog post files:
        <pre class="programlisting con"><code class="hljs-con">Where do you want to store your markdown files?
</code></pre>
    <p class="normal">This will create an <code class="inlineCode">mdfiles</code> folder inside the root path of our Angular CLI project. By default, it will also create a blog post for our convenience. We will learn how to create our own in the <em class="italic">Displaying blog data on the home page</em> section.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="4">Type <code class="inlineCode">posts</code> as the name of the route for accessing our blog posts:
        <pre class="programlisting con"><code class="hljs-con">Under which route do you want your files to be requested?
</code></pre>
      </li>
    </ol>
    <p class="normal">The name of the route is the <code class="inlineCode">path</code> property of the route configuration object that will be created.</p>
    <p class="normal">Scully performs various actions upon executing the preceding commands, including the creation of the routing configuration of the <code class="inlineCode">posts</code> module:</p>
    <p class="sc---heading"><code class="inlineCode">posts-routing.module.ts</code></p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> {<span class="hljs-title">NgModule</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title">Routes</span>, <span class="hljs-title">RouterModule</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/router'</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title">PostsComponent</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'./posts.component'</span>;
<span class="hljs-keyword">const</span> <span class="hljs-attr">routes</span>: <span class="hljs-title">Routes</span> = [
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">':id'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-title">PostsComponent</span>,
  },
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'**'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-title">PostsComponent</span>,
  }
];
<span class="hljs-meta">@NgModule</span>({
  <span class="hljs-attr">imports</span>: [<span class="hljs-title">RouterModule</span>.<span class="hljs-title">forChild</span>(routes)],
  <span class="hljs-attr">exports</span>: [<span class="hljs-title">RouterModule</span>],
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PostsRoutingModule</span> {}
</code></pre>
    <p class="normal">The <code class="inlineCode">path</code> property for the first route is set to <code class="inlineCode">:id</code> and activates <code class="inlineCode">PostsComponent</code>. The colon character indicates that <code class="inlineCode">id</code> is a route parameter. The <code class="inlineCode">id</code> parameter is related to the <code class="inlineCode">slug</code> <a id="_idIndexMarker114"/>property defined earlier in the Scully configuration. Scully works by creating one route for each blog post that we create. It uses the route configuration of the <code class="inlineCode">posts</code> module and the main application module to build the <code class="inlineCode">routes</code> property in the Scully configuration file:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-attr">routes</span>: {
  <span class="hljs-string">'/posts/:id'</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'contentFolder'</span>,
    <span class="hljs-attr">id</span>: {
      <span class="hljs-attr">folder</span>: <span class="hljs-string">"./mdfiles"</span>
    }
  },
}
</code></pre>
    <p class="normal"><code class="inlineCode">PostsComponent</code> is the Angular component that is used to render the details of each blog post. The template file of the component can be further customized according to your needs:</p>
    <p class="sc---heading"><code class="inlineCode">posts.component.html</code></p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">h3</span><span class="hljs-tag">&gt;</span>ScullyIo content<span class="hljs-tag">&lt;/</span><span class="hljs-name">h3</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;</span><span class="hljs-name">hr</span><span class="hljs-tag">&gt;</span>
<span class="hljs-comment">&lt;!-- This is where Scully will inject the static HTML --&gt;</span>
<span class="hljs-tag">&lt;</span><span class="hljs-name">scully-content</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">scully-content</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;</span><span class="hljs-name">hr</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;</span><span class="hljs-name">h4</span><span class="hljs-tag">&gt;</span>End of content<span class="hljs-tag">&lt;/</span><span class="hljs-name">h4</span><span class="hljs-tag">&gt;</span>
</code></pre>
    <p class="normal">You can customize all content in the previous template file except the <code class="inlineCode">&lt;scully-content&gt;&lt;/scully-content&gt;</code> line, which is used internally by Scully.</p>
    <p class="normal">At this point, we have completed the installation and configuration of Scully in our Angular <a id="_idIndexMarker115"/>application. It is now time for the final part of the project! In the next section, we will get Angular and Scully to cooperate and display blog posts in our Angular application.</p>
    <h1 id="_idParaDest-45" class="heading-1">Displaying blog posts on the home page</h1>
    <p class="normal">We would like our<a id="_idIndexMarker116"/> users to see the list of available blog<a id="_idIndexMarker117"/> posts as soon as they land on our blog <a id="_idIndexMarker118"/>website. According to the default route path that we have defined, <code class="inlineCode">ArticlesComponent</code> is the landing page of our blog. Scully provides <code class="inlineCode">ScullyRoutesService</code>, an Angular service that we can use in our components to get information about the routes that it will create according to the blog posts. Let’s put this service into action on our landing page:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Open the <code class="inlineCode">articles.component.ts</code> file and modify the <code class="inlineCode">import</code> statements as follows:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">Component</span>, <span class="code-highlight"><strong class="hljs-title-slc">OnInit</strong></span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="code-highlight"><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc"> { </strong><strong class="hljs-title-slc">ScullyRoute</strong><strong class="hljs-slc">, </strong><strong class="hljs-title-slc">ScullyRoutesService</strong><strong class="hljs-slc"> } </strong><strong class="hljs-keyword-slc">from</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">'@scullyio/ng-lib'</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc"> { </strong><strong class="hljs-title-slc">Observable</strong><strong class="hljs-slc">, map } </strong><strong class="hljs-keyword-slc">from</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">'rxjs'</strong><strong class="hljs-slc">;</strong></span>
</code></pre>
      </li>
      <li class="numberedList">Add the <code class="inlineCode">OnInit</code> interface to the list of implemented interfaces of the <code class="inlineCode">ArticlesComponent</code> class:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ArticlesComponent</span> <span class="code-highlight"><strong class="hljs-keyword-slc">implements</strong><strong class="hljs-slc"> </strong><strong class="hljs-title-slc">OnInit</strong></span> {
}
</code></pre>
      </li>
      <li class="numberedList">Inject <code class="inlineCode">ScullyRoutesService</code> in the <code class="inlineCode">constructor</code> of the <code class="inlineCode">ArticlesComponent</code> class:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-title">constructor</span>(<span class="hljs-keyword">private</span><span class="hljs-params"> scullyService: ScullyRoutesService</span>) { }
</code></pre>
      </li>
      <li class="numberedList">Create the following component property:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-attr">posts$</span>: <span class="hljs-title">Observable</span>&lt;<span class="hljs-title">ScullyRoute</span>[]&gt; | <span class="hljs-literal">undefined</span>;
</code></pre>
      </li>
      <li class="numberedList">Implement the <code class="inlineCode">ngOnInit</code> method:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-title">ngOnInit</span>(): <span class="hljs-built_in">void</span> {
  <span class="hljs-variable">this</span>.<span class="hljs-property">posts$</span> = <span class="hljs-variable">this</span>.<span class="hljs-property">scullyService</span>.<span class="hljs-property">available$</span>.<span class="hljs-title">pipe</span>(
    <span class="hljs-title">map</span>(<span class="hljs-params">posts</span><span class="hljs-function"> =&gt;</span> posts.<span class="hljs-title">filter</span>(<span class="hljs-params">post</span><span class="hljs-function"> =&gt;</span> post.<span class="hljs-property">title</span>))
  );
}
</code></pre>
      </li>
      <li class="numberedList">Open the <code class="inlineCode">articles.component.html</code> file and add the following HTML code:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"list-group mt-3"</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">a</span><span class="hljs-tag"> *</span><span class="hljs-attr">ngFor</span><span class="hljs-tag">=</span><span class="hljs-string">"let post of posts$ | async"</span>
<span class="hljs-tag">    [</span><span class="hljs-attr">routerLink</span><span class="hljs-tag">]=</span><span class="hljs-string">"post.route"</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"list-group-item</span>
<span class="hljs-string">      list-group-item-action"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"d-flex w-100 justify-content-between"</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">h5</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"mb-1"</span><span class="hljs-tag">&gt;</span>{{post.title}}<span class="hljs-tag">&lt;/</span><span class="hljs-name">h5</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">p</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"mb-1"</span><span class="hljs-tag">&gt;</span>{{post['description']}}<span class="hljs-tag">&lt;/</span><span class="hljs-name">p</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">a</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
</code></pre>
      </li>
    </ol>
    <p class="normal">There are many<a id="_idIndexMarker119"/> Angular<a id="_idIndexMarker120"/> techniques involved in the previous steps, so let’s break them down <a id="_idIndexMarker121"/>piece by piece.</p>
    <p class="normal">When we want to use an Angular service in a component, we just need to ask for it from the Angular framework. How? By adding it as a property in the <code class="inlineCode">constructor</code> of the component. The component does not need to know anything about how the service is implemented.</p>
    <p class="normal">The <code class="inlineCode">ngOnInit</code> method is part of the <code class="inlineCode">OnInit</code> interface, which is implemented by our component. It is called by the Angular framework when a component is initialized and provides us with a hook to add custom logic to be executed.</p>
    <div class="packt_tip">
      <p class="normal">Angular services that provide initialization logic to a component should be called inside the <code class="inlineCode">ngOnInit</code> method and not in the <code class="inlineCode">constructor</code> because it is easier to provide mocks about those services when unit testing the component.</p>
    </div>
    <p class="normal">The <code class="inlineCode">available$</code> property of <code class="inlineCode">ScullyRoutesService</code> is called<a id="_idIndexMarker122"/> an <strong class="keyWord">observable</strong> and returns all the available routes that were generated from Scully when we subscribe to it. To avoid displaying routes other than those related to blog posts, such as the <code class="inlineCode">contact</code> route, we filter out the results from the <code class="inlineCode">available$</code> property.</p>
    <p class="normal">In the component template, we use the <code class="inlineCode">*ngFor</code> Angular built-in directive and the <code class="inlineCode">async</code> pipe to subscribe to the <code class="inlineCode">posts$</code> observable inside HTML. We can then access each item using the <code class="inlineCode">post</code> template reference variable and use interpolation to display <code class="inlineCode">title</code> and <code class="inlineCode">description</code>.</p>
    <p class="normal">Finally, we add a <code class="inlineCode">routerLink</code> directive to each anchor element to navigate to the respective blog <a id="_idIndexMarker123"/>post <a id="_idIndexMarker124"/>when clicked. Notice that <code class="inlineCode">routerLink</code> is surrounded by <code class="inlineCode">[]</code>. The <code class="inlineCode">[]</code> syntax is <a id="_idIndexMarker125"/>called <strong class="keyWord">property binding</strong>, and we use it <a id="_idIndexMarker126"/>when we want to bind the property of an HTML element to a variable. In our case, we bind the <code class="inlineCode">routerLink</code> directive to the <code class="inlineCode">route</code> property of the <code class="inlineCode">post</code> variable.</p>
    <p class="normal">Now that we have finally completed all the pieces of the puzzle, we can see our blog website in action:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Run the <code class="inlineCode">build</code> command of the Angular CLI to build our Angular application:
        <pre class="programlisting con"><code class="hljs-con">ng build
</code></pre>
      </li>
      <li class="numberedList">Execute the following command to build Scully and generate our blog routes:
        <pre class="programlisting con"><code class="hljs-con">npx scully --project my-blog
</code></pre>
    <p class="normal">The preceding command will create a <code class="inlineCode">scully-routes.json</code> file inside the <code class="inlineCode">src\assets</code> folder. It contains the routes of our Angular application and is needed by the Scully runtime.</p>
    <div class="packt_tip">
      <p class="normal">Running the Scully executable for the first time will prompt you to collect anonymous errors to improve its services.</p>
    </div>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="3">Run the following command to serve our blog:
        <pre class="programlisting con"><code class="hljs-con">npx scully serve --project my-blog
</code></pre>
      </li>
    </ol>
    <p class="normal">The preceding command will start two web servers: one that contains the static prerendered version of our website built using Scully and another that is the Angular live version of our application:</p>
    <figure class="mediaobject"><img src="../Images/B18465_02_05.png" alt=""/></figure>
    <p class="packt_figref">Figure 2.5 – Serving our application</p>
    <p class="normal">If we open our browser and navigate to <code class="inlineCode">http://localhost:1668</code>, we will not see any blog posts. A blog<a id="_idIndexMarker127"/> post<a id="_idIndexMarker128"/> created <a id="_idIndexMarker129"/>with Scully is not returned in the <code class="inlineCode">available$</code> property of <code class="inlineCode">ScullyRoutesService</code> <em class="italic">unless</em> we publish it. To publish a blog post, we do the following:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Navigate to the <code class="inlineCode">mdfiles</code> folder that Scully created and open the only <code class="inlineCode">.md</code> file that you will find. The name and contents may vary for your file because it is based on the date Scully created it:
        <pre class="programlisting code"><code class="hljs-code">---
<span class="hljs-attr">title</span>: <span class="hljs-number">2023</span>-<span class="hljs-number">06</span>-<span class="hljs-number">22</span>-posts
<span class="hljs-attr">description</span>: <span class="hljs-string">'blog description'</span>
<span class="hljs-attr">published</span>: <span class="hljs-literal">false</span>
<span class="hljs-attr">slugs</span>:
    - ___UNPUBLISHED___lj738su6_7mqWyfNdmNCwovaCCi2tZItsDKMPJGcG
---
# <span class="hljs-number">2023</span>-<span class="hljs-number">06</span>-<span class="hljs-number">22</span>-posts
</code></pre>
    <p class="normal">Scully has defined a set of properties between the closing and ending <code class="inlineCode">---</code> lines at the top of the file representing metadata about the blog post. You can also add your own as key-value pairs.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="2">Delete the <code class="inlineCode">slugs</code> property and set the <code class="inlineCode">published</code> property to <code class="inlineCode">true</code>:
        <pre class="programlisting code"><code class="hljs-code">---
<span class="hljs-attr">title</span>: <span class="hljs-number">2023</span>-<span class="hljs-number">06</span>-<span class="hljs-number">22</span>-posts
<span class="hljs-attr">description</span>: <span class="hljs-string">'blog description'</span>
<span class="hljs-attr">published</span>: <span class="hljs-literal">true</span>
---
# <span class="hljs-number">2023</span>-<span class="hljs-number">06</span>-<span class="hljs-number">22</span>-posts
</code></pre>
      </li>
      <li class="numberedList">Run the following command to force Scully to regenerate the routes of our application:
        <pre class="programlisting con"><code class="hljs-con">npx scully --project my-blog
</code></pre>
    <p class="normal">We need to execute the previous command <em class="italic">every time</em> we make a change in our blog-related files.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="4">Execute the <code class="inlineCode">npx scully serve --project my-blog</code> command and navigate to preview <a id="_idIndexMarker130"/>the<a id="_idIndexMarker131"/> generated <a id="_idIndexMarker132"/>website.</li>
    </ol>
    <p class="normal">We can now see one blog post, the default one that was created when we installed Scully. Let’s create another one:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Run the following <code class="inlineCode">generate</code> command of the Angular CLI:
        <pre class="programlisting con"><code class="hljs-con">ng generate @scullyio/init:post --name="Angular and Scully"
</code></pre>
    <p class="normal">In the preceding command, we use the <code class="inlineCode">@scullyio/init:post</code> schematic, passing the name of the post that we want to create as an option.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="2">Set the target folder for the new blog post to <code class="inlineCode">mdfiles</code>:
        <pre class="programlisting con"><code class="hljs-con">What's the target folder for this post? (blog)
</code></pre>
      </li>
      <li class="numberedList">Scully will create a Markdown file named <code class="inlineCode">angular-and-scully.md</code> inside the specified folder. Open that file and update its content to be the same as the following:
        <pre class="programlisting code"><code class="hljs-code">---
<span class="hljs-attr">title</span>: <span class="hljs-string">'Angular and Scully'</span>
<span class="hljs-attr">description</span>: <span class="hljs-string">'How to build a blog with Angular and Scully'</span>
<span class="hljs-attr">published</span>: <span class="hljs-literal">true</span>
---
# <span class="hljs-title">Angular</span> and <span class="hljs-title">Scully</span>
<span class="hljs-title">Angular</span> is a robust <span class="hljs-title">JavaScript</span> framework that we can use to build excellent and performant web applications.
<span class="hljs-title">Scully</span> is a popular <span class="hljs-keyword">static</span> website generator that empowers the <span class="hljs-title">Angular</span> framework <span class="hljs-keyword">with</span> <span class="hljs-title">Jamstack</span> characteristics.
<span class="hljs-title">You</span> can find more about them <span class="hljs-keyword">in</span> the following <span class="hljs-attr">links</span>:
- <span class="hljs-attr">https</span>:<span class="hljs-comment">//angular.io</span>
- <span class="hljs-attr">https</span>:<span class="hljs-comment">//scully.io</span>
- <span class="hljs-attr">https</span>:<span class="hljs-comment">//www.jamstack.org</span>
</code></pre>
      </li>
      <li class="numberedList">Run <code class="inlineCode">npx scully --project my-blog</code> to create a route for the newly created blog post. Scully will also update the <code class="inlineCode">scully-routes.json</code> file with the new route.</li>
    </ol>
    <p class="normal">If we preview<a id="_idIndexMarker133"/> our<a id="_idIndexMarker134"/> application now, it should<a id="_idIndexMarker135"/> look like the following:</p>
    <figure class="mediaobject"><img src="../Images/B18465_02_06.png" alt="Εικόνα που περιέχει κείμενο, στιγμιότυπο οθόνης, γραμματοσειρά, γραμμή  Περιγραφή που δημιουργήθηκε αυτόματα"/></figure>
    <p class="packt_figref">Figure 2.6 – List of blog posts</p>
    <p class="normal">If we click on one of the blog items, we will navigate to the selected blog post. The content that is currently shown on the screen is a prerendered version of the blog post route:</p>
    <figure class="mediaobject"><img src="../Images/B18465_02_07.png" alt="Εικόνα που περιέχει κείμενο, στιγμιότυπο οθόνης, γραμματοσειρά  Περιγραφή που δημιουργήθηκε αυτόματα"/></figure>
    <p class="packt_figref">Figure 2.7 – Blog post details</p>
    <p class="normal">To verify that, navigate<a id="_idIndexMarker136"/> to<a id="_idIndexMarker137"/> the <code class="inlineCode">dist</code> folder of<a id="_idIndexMarker138"/> your Angular project, where you will find two folders:</p>
    <ul>
      <li class="bulletList"><code class="inlineCode">my-blog</code>: This contains the Angular live version of our application. When we execute the <code class="inlineCode">ng build</code> Angular CLI command, it builds our application and outputs bundle files in this folder.</li>
      <li class="bulletList"><code class="inlineCode">static</code>: This contains a prerendered version of our Angular application generated from Scully when we run the <code class="inlineCode">npx scully --project my-blog</code> command.</li>
    </ul>
    <p class="normal">If we navigate to the <code class="inlineCode">static</code> folder, we will see that Scully has created one folder for each route of our Angular application. Each folder contains an <code class="inlineCode">index.html</code> file, which represents the component that is activated from that route. </p>
    <p class="normal">The contents of the <code class="inlineCode">index.html</code> file are auto-generated by Scully, and behave as if we run our application live and navigate to that component.</p>
    <p class="normal">Now you can take your Angular application, upload it to the CDN or web server of your choice, and <a id="_idIndexMarker139"/>you <a id="_idIndexMarker140"/>will have your blog ready in no time! All you will have to do then will be to exercise your writing skills to create excellent blog content.</p>
    <h1 id="_idParaDest-46" class="heading-1">Summary</h1>
    <p class="normal">In this chapter, we learned how to combine the Angular framework with the Scully library to create a personal blog.</p>
    <p class="normal">We saw how Angular uses the built-in router package to enhance web applications with in-app navigation. We also learned how to organize an Angular application into modules and how to navigate through these.</p>
    <p class="normal">We introduced Jamstack to our Angular application using the Scully library and saw how easy it is to convert our application into a prerendered blog. We used the Scully interface to create some blog posts and display them on the screen.</p>
    <p class="normal">In the following chapter, we will investigate another exciting feature of the Angular framework, forms. We are going to learn how to use them and build an issue-tracking system.</p>
    <h1 id="_idParaDest-47" class="heading-1">Practice questions</h1>
    <p class="normal">Let’s take a look at a few practice questions:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Which library do we use for routing in an Angular application?</li>
      <li class="numberedList">How do we add routing capabilities in an HTML anchor element?</li>
      <li class="numberedList">Which Angular pipe do we use for date formatting?</li>
      <li class="numberedList">What is the purpose of the <code class="inlineCode">assets</code> folder in an Angular CLI application?</li>
      <li class="numberedList">Which route property do we use for lazily loading a module?</li>
      <li class="numberedList">Which npm CLI command do we use for installing Scully?</li>
      <li class="numberedList">Which service do we use for fetching Scully routes?</li>
      <li class="numberedList">What is property binding?</li>
      <li class="numberedList">Which Angular directive do we use for iterating over an array in HTML?</li>
      <li class="numberedList">What is the difference between a standard Angular application and a Scully one?</li>
    </ol>
    <h1 id="_idParaDest-48" class="heading-1">Further reading</h1>
    <p class="normal">Here are some links to build upon what we learned in this chapter:</p>
    <ul>
      <li class="bulletList">Angular routing: <a href="https://angular.io/guide/router"><span class="url">https://angular.io/guide/router</span></a></li>
      <li class="bulletList">Angular feature modules: <a href="https://angular.io/guide/module-types"><span class="url">https://angular.io/guide/module-types</span></a></li>
      <li class="bulletList">Lazy loading modules: <a href="https://angular.io/guide/lazy-loading-ngmodules"><span class="url">https://angular.io/guide/lazy-loading-ngmodules</span></a></li>
      <li class="bulletList">Angular built-in pipes: <a href="https://angular.io/api?type=pipe"><span class="url">https://angular.io/api?type=pipe</span></a></li>
      <li class="bulletList">Bootstrap CSS: <a href="https://getbootstrap.com"><span class="url">https://getbootstrap.com</span></a></li>
      <li class="bulletList">Jamstack: <a href="https://jamstack.org"><span class="url">https://jamstack.org</span></a></li>
      <li class="bulletList">Scully: <a href="https://scully.io"><span class="url">https://scully.io</span></a></li>
      <li class="bulletList">Mastering Markdown: <a href="https://guides.github.com/features/mastering-markdown"><span class="url">https://guides.github.com/features/mastering-markdown</span></a></li>
    </ul>
  </div>
</body></html>