<html><head></head><body>
<div id="book-content">
<div id="sbo-rt-content"><div id="_idContainer036">
			<h1 id="_idParaDest-57" class="chapter-number"><a id="_idTextAnchor055"/>3</h1>
			<h1 id="_idParaDest-58"><a id="_idTextAnchor056"/>Building a Real Estate Listing Project to Grasp Routing, Views, Layouts, and Plugins</h1>
			<p>Welcome back, developers! As you step into <a href="B19760_03.xhtml#_idTextAnchor055"><span class="No-Break"><em class="italic">Chapter 3</em></span></a>, you’re not stepping into unknown territory; you’re entering a more advanced phase of your Nuxt 3 journey. If you’ve been with us from the start, you’re already familiar with setting up Nuxt 3 projects and integrating Tailwind CSS, among other things. This chapter will take your existing knowledge to the next level as we dive into a real estate <span class="No-Break">listing project.</span></p>
			<p>We’ll kick things off the way we usually do—by creating a new Nuxt 3 project, with Tailwind CSS for styling and Google Fonts for typography. While this is familiar ground, the topics we cover will bring new layers of complexity, setting the stage for the new concepts that <span class="No-Break">await you.</span></p>
			<p>This chapter promises to be an enlightening experience as it focuses on critical aspects of Nuxt 3 that you’ve yet to explore. You’ll get to delve into advanced topics such as layouts, routing, and plugins. Along the way, you’ll learn how to define default layouts, dig deeper into the Nuxt 3 routing mechanism, and explore plugins by adding <strong class="source-inline">Dayjs</strong> for <span class="No-Break">date formatting.</span></p>
			<p>In this chapter, we’re going to cover the following <span class="No-Break">main topics:</span></p>
			<ul>
				<li>Defining a default layout for the website and overriding it with a <span class="No-Break">404 page</span></li>
				<li>Creating the home page and exploring <span class="No-Break">TypeScript support</span></li>
				<li>Creating a dynamic <span class="No-Break">listing page</span></li>
				<li>Creating and validating a property <span class="No-Break">details page</span></li>
				<li>Creating a plugin to use <strong class="source-inline">Dayjs</strong> for <span class="No-Break">formatting dates</span></li>
			</ul>
			<h1 id="_idParaDest-59"><a id="_idTextAnchor057"/>Technical requirements</h1>
			<p>The code files for this chapter can be found <span class="No-Break">at </span><a href="https://github.com/PacktPublishing/Nuxt-3-Projects/tree/main/chapter03"><span class="No-Break">https://github.com/PacktPublishing/Nuxt-3-Projects/tree/main/chapter03</span></a><span class="No-Break">.</span></p>
			<p>The CiA video for this chapter can be found <span class="No-Break">on </span><a href="https://packt.link/2oM0A"><span class="No-Break">https://packt.link/2oM0A</span></a></p>
			<h1 id="_idParaDest-60"><a id="_idTextAnchor058"/>Essential background- understanding Nuxt 3 routing, layouts, and plugins</h1>
			<p>Before diving into the code, it’s crucial to grasp some key concepts that will be integral to this chapter’s real estate <span class="No-Break">listing project:</span></p>
			<ul>
				<li><strong class="bold">Nuxt 3 routing</strong>: Nuxt 3 eases the routing setup through an automatic route configuration <a id="_idIndexMarker102"/>stemming from your file arrangement in the <strong class="source-inline">pages</strong> directory. This eradicates the manual chore of defining routes, while still accommodating complex routing scenarios through the <span class="No-Break"><strong class="source-inline">nuxt.config.js</strong></span><span class="No-Break"> file.</span></li>
				<li><strong class="bold">Layouts</strong>: Layouts in <a id="_idIndexMarker103"/>Nuxt 3 serve as containers around pages, assisting in maintaining a uniform UI throughout various pages. They are Vue files employing <strong class="source-inline">&lt;slot /&gt;</strong> components to showcase page content. A <strong class="source-inline">layouts/default.vue</strong> file is employed by default, but crafting custom layouts and assigning them in your page metadata <span class="No-Break">is straightforward.</span></li>
				<li><strong class="bold">Plugins</strong>: Plugins in <a id="_idIndexMarker104"/>Nuxt 3 act as a bridge to connect global libraries or to encapsulate reusable code across your application. They are executed before the Nuxt application springs to life. All plugins within the <strong class="source-inline">/plugins</strong> directory are auto-loaded during Nuxt app creation. Plugins can be tailored to function only on the client or server side by appending a <strong class="source-inline">.client</strong> or <strong class="source-inline">.server</strong> suffix to <span class="No-Break">the filename.</span></li>
			</ul>
			<p>These core concepts provide the necessary backdrop to navigate through this chapter’s project adeptly. As you traverse through the examples, you’ll notice how these elements collaboratively contribute to a well-structured, functional, and <span class="No-Break">adaptable application.</span></p>
			<h1 id="_idParaDest-61"><a id="_idTextAnchor059"/>Setting up your real estate listing project in Nuxt 3</h1>
			<p>In the <a id="_idIndexMarker105"/>previous chapter, we explored the integration of <strong class="source-inline">TailwindCSS</strong> and <strong class="source-inline">@nuxtjs/google-fonts</strong> into a Nuxt 3 project. As <a id="_idIndexMarker106"/>we embark on creating our new project (let’s name it “Homescape”), we’ll employ <span class="No-Break">similar techniques.</span></p>
			<p>First, let’s create a <span class="No-Break">new project:</span></p>
			<pre class="console">
pnpm dlx nuxi@latest init homescape</pre>			<p>Upon successful initialization, navigate to the project directory and open it with <span class="No-Break">VS Code:</span></p>
			<pre class="console">
cd homescape
code .</pre>			<p>Next, we’ll bring in <strong class="source-inline">TailwindCSS</strong> for styling, and <strong class="source-inline">@nuxtjs/google-font</strong> to automatically import any <span class="No-Break">Google font.</span></p>
			<p>To install them, run <span class="No-Break">the following:</span></p>
			<pre class="console">
pnpm i -D @nuxtjs/tailwindcss @nuxtjs/google-fonts</pre>			<p>Post-installation, update the <strong class="source-inline">nuxt.config.ts</strong> file to add the module and set up Google <span class="No-Break">Fonts configuration:</span></p>
			<pre class="source-code">
// nuxt.config.ts
export default defineNuxtConfig({
    devtools: { enabled: true },
    modules: ['@nuxtjs/tailwindcss',
        '@nuxtjs/google-fonts'],
    googleFonts: {
        families: {
            Inter: [100, 300, 400, 700, 900]
        }
    }
})</pre>			<p>Then, let’s <a id="_idIndexMarker107"/>generate <strong class="source-inline">tailwind.config.js</strong> at the <a id="_idIndexMarker108"/>root of our project with some <span class="No-Break">default variables:</span></p>
			<pre class="source-code">
import colors from 'tailwindcss/colors'
/** @type {import('tailwindcss').Config} */
export default {
  content: [],
  theme: {
    extend: {
      colors: {
        primary: colors.amber[600],
        secondary: colors.slate[100],
        red: colors.red[600],
        yellow: colors.yellow[500]
      },
      // use Roboto Font
      fontFamily: {
        sans: ['Inter', 'sans-serif']
      },
      container: {
        center: true,
        padding: {
          DEFAULT: '1.5rem',
          lg: '4rem',
          xl: '4rem',
          '2xl': '4rem'
        },
        screens: {
          sm: '576px',
          md: '768px',
          lg: '992px',
          xl: '1200px',
          '2xl': '1400px'
        }
      }
    }
  },
  plugins: []
}</pre>			<p>The <strong class="source-inline">tailwind.config.js</strong> file will act as our vessel for custom styling, component definition, and <a id="_idIndexMarker109"/>theme adjustments, ensuring <a id="_idIndexMarker110"/>our utility classes are optimized and maintaining a consistent design language throughout <span class="No-Break">our project.</span></p>
			<p>Navigating from our generalized setup into specificity, here’s my preferred startup configuration in <span class="No-Break">Tailwind CSS:</span></p>
			<pre class="source-code">
export default {
  content: [],
  theme: {
    extend: {
      colors: {
        primary: '#42B883',
        secondary: '#35495E',
        neutral: '#F7F9FA'
      },
      container: {
        center: true,
        padding: {
          DEFAULT: '1.5rem',
          lg: '4rem',
          xl: '4rem',
          '2xl': '4rem'
        },
        screens: {
          sm: '576px',
          md: '768px',
          lg: '992px',
          xl: '1200px',
          '2xl': '1400px'
        }
      }
    }
  },
  plugins: []
}</pre>			<p>Here, we’ve opted for a palette that includes shades of amber, slate, red, and yellow. These colors <a id="_idIndexMarker111"/>will lend a distinctive character <a id="_idIndexMarker112"/>to our real estate listing website. For those interested in the other configuration details, such as fonts and container settings, refer to <a href="B19760_02.xhtml#_idTextAnchor036"><span class="No-Break"><em class="italic">Chapter 2</em></span></a>, where we covered these <span class="No-Break">topics comprehensively.</span></p>
			<p>Wrapping up the configuration setup, let’s put our adjustments to the test by crafting a simple layout. Navigate to your <strong class="source-inline">app.vue</strong> file and add this to <span class="No-Break">the template:</span></p>
			<pre class="source-code">
&lt;template&gt;
  &lt;div class="text-8xl text-primary text-center"&gt;Homescape
    &lt;/div&gt;
&lt;/template&gt;</pre>			<p>This is the <span class="No-Break">expected output:</span></p>
			<div>
				<div id="_idContainer026" class="IMG---Figure">
					<img src="image/B19760_03_01.jpg" alt="Figure 3.1: Homescape – initial page" width="1044" height="397"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.1: Homescape – initial page</p>
			<p>With the <a id="_idIndexMarker113"/>initial project created, we are well-prepared <a id="_idIndexMarker114"/>to dive into the new aspects of our project. Let’s begin by defining the home page with a default layout, and tailoring it for the <span class="No-Break">404 page.</span></p>
			<h1 id="_idParaDest-62"><a id="_idTextAnchor060"/>Defining a default layout for the website and overriding it with a 404 page</h1>
			<p>A well-structured layout is akin to the sturdy frame of a house, offering a solid foundation <a id="_idIndexMarker115"/>upon which distinct pages can seamlessly <a id="_idIndexMarker116"/>reside. It’s where you define common elements such as headers and footers just once, and they render consistently across your website, bringing a cohesive look and facilitating easier navigation <span class="No-Break">for users.</span></p>
			<p>As we transition to the latter part of this section, our focus shifts to handling unforeseen situations where a user lands on a non-existent page. We’ll explore how to craft a user-friendly 404 page in Nuxt that informs the user of the mishap and guides them back to the right path. So, let’s <span class="No-Break">get started!</span></p>
			<h2 id="_idParaDest-63"><a id="_idTextAnchor061"/>Defining a default layout</h2>
			<p>Let’s begin by creating a new folder called <strong class="source-inline">layouts</strong> in the root directory of your project, then <a id="_idIndexMarker117"/>create a new file within it named <strong class="source-inline">default.vue</strong>. This file will hold the structure shared across <span class="No-Break">all pages:</span></p>
			<pre class="source-code">
&lt;!-- File: ~/layouts/default.vue --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;header&gt;the header&lt;/header&gt;
    &lt;slot /&gt;
  &lt;/div&gt;
&lt;/template&gt;</pre>			<p>In the layout file, the <strong class="source-inline">&lt;slot /&gt;</strong> element is where the content of individual pages will <span class="No-Break">be injected.</span></p>
			<p>Within the <strong class="source-inline">app.vue</strong> file, we should wrap our template with the <strong class="source-inline">&lt;NuxtLayout&gt;</strong> component to define our layout. All the page content will be displayed within <span class="No-Break">this component:</span></p>
			<pre class="source-code">
&lt;!-- File: ~/app.vue --&gt;
&lt;template&gt;
  &lt;NuxtLayout&gt;
    &lt;div class="text-8xl text-primary text-center"&gt;
      Homescape
    &lt;/div&gt;
  &lt;/NuxtLayout&gt;
&lt;/template&gt;</pre>			<p>Now you should be able to see the demo header on <span class="No-Break">the website.</span></p>
			<div>
				<div id="_idContainer027" class="IMG---Figure">
					<img src="image/B19760_03_02.jpg" alt="Figure 3.2: Homescape – with default layout" width="1303" height="400"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.2: Homescape – with default layout</p>
			<p>We’ll implement the <strong class="source-inline">default.vue</strong> layout file to include three primary sections: a header, the main <a id="_idIndexMarker118"/>content area, and a footer, along with a newsletters section. This layout encapsulates the common structure that all pages in the application <span class="No-Break">will inherit.</span></p>
			<p>Let’s create our header component, which will serve as the primary navigation bar for <span class="No-Break">our website.</span></p>
			<h2 id="_idParaDest-64"><a id="_idTextAnchor062"/>Creating the BaseHeader component</h2>
			<p>Initially, we’ll <a id="_idIndexMarker119"/>organize our project by creating a new <a id="_idIndexMarker120"/>directory called <strong class="source-inline">base</strong> within the <strong class="source-inline">components</strong> directory. This <strong class="source-inline">base</strong> directory will house global components that aren’t tied to any specific <span class="No-Break">business section.</span></p>
			<p>Inside the <strong class="source-inline">base</strong> directory, we create a new file named <strong class="source-inline">Header.vue</strong>. This file will hold all the code relevant to our <span class="No-Break">header component:</span></p>
			<pre class="source-code">
components/
|-- base/
    |-- Header.vue // Accessible as &lt;base-header /&gt;</pre>			<p>Nuxt facilitates an automatic component discovery mechanism, which is quite powerful. In our setup, we’ve placed the <strong class="source-inline">Header.vue</strong> component inside a base folder within the <strong class="source-inline">components</strong> directory. Due to Nuxt’s naming convention, this component is now accessible as <strong class="source-inline">&lt;base-header /&gt;</strong> in our layouts <span class="No-Break">and pages.</span></p>
			<p>The naming convention is quite intuitive – the directory name is prefixed to the component name, separated by a hyphen. This not only makes component names unique but <a id="_idIndexMarker121"/>also groups related <a id="_idIndexMarker122"/>components together in a clear and organized manner. Moreover, it provides a straightforward way to identify the origin and grouping of a component just by its name, which can be a significant aid in a collaborative development environment or a <span class="No-Break">large-scale project.</span></p>
			<p>This <strong class="source-inline">Header.vue</strong> file will hold all the code relevant to our <span class="No-Break">header component:</span></p>
			<pre class="source-code">
&lt;template&gt;
  &lt;!-- Header --&gt;
  &lt;header
    class="absolute top-0 left-0 w-full border-b
           border-b-gray-800 z-20 p-6"&gt;
    &lt;div class="container flex justify-between
    items-center"&gt;
      &lt;h1 class="text-white font-extralight
        uppercase text-2xl"&gt;Homescape
      &lt;/h1&gt;
      &lt;nav&gt;
        &lt;ul class="flex space-x-4"&gt;
          &lt;li v-for="link in navLinks" :key="link.text"&gt;
            &lt;a
              :href="link.href"
              class="text-white transition-colors
              font-semibold hover:text-primary"&gt;
              {{ link.text }}
            &lt;/a&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/nav&gt;
    &lt;/div&gt;
  &lt;/header&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
const navLinks = ref([
  { text: 'Home', href: '/' },
  { text: 'Listings', href: '#' },
  { text: 'About Us', href: '#' },
  { text: 'Contact', href: '#' }
])
&lt;/script&gt;
&lt;style scoped&gt;&lt;/style&gt;</pre>			<p>We’ve styled the header to be fixed at the top with a border at the bottom, employing Tailwind CSS classes for styling. The <strong class="source-inline">navLinks</strong> data property holds an array of link objects, which are rendered as navigation links in <span class="No-Break">the template.</span></p>
			<p>As we continue to build our website, we’ll craft a newsletter section and a footer component <a id="_idIndexMarker123"/>to enhance our web page’s structure and <span class="No-Break">user engagement.</span></p>
			<p>Both <a id="_idIndexMarker124"/>components will be created inside the <strong class="source-inline">components/base</strong> folder with the names <strong class="source-inline">NewslettersSection.vue</strong> <span class="No-Break">and </span><span class="No-Break"><strong class="source-inline">Footer.vue</strong></span><span class="No-Break">:</span></p>
			<pre class="source-code">
&lt;!-- ~/components/base/ NewslettersSection.vue --&gt;
&lt;template&gt;
  &lt;section class="bg-gray-100 py-12"&gt;
    &lt;div class="container text-center"&gt;
      &lt;h2 class="text-3xl font-bold text-gray-800 mb-4"&gt;
        Stay Updated
      &lt;/h2&gt;
      &lt;p class="text-gray-700 mb-6"&gt;
        Subscribe to our newsletter to receive the latest
        property listings and updates.
      &lt;/p&gt;
      &lt;form class="flex justify-center"&gt;
        &lt;input
          type="email"
          placeholder="Enter your email"
          required
          class="px-4 py-2 rounded-l-lg border
                 border-gray-300 focus:outline-none
                 focus:border-primary"/&gt;
        &lt;button
          type="submit"
          class="px-4 py-2 rounded-r-lg bg-primary
          text-white font-bold"&gt;Subscribe
        &lt;/button&gt;
      &lt;/form&gt;
    &lt;/div&gt;
  &lt;/section&gt;
&lt;/template&gt;</pre>			<p>The base-footer component consists of three sections: company name and address, listing by <a id="_idIndexMarker125"/>category, and additional info with useful links like FAQs, privacy policy, and terms of service. The listing by <a id="_idIndexMarker126"/>category section will be populated later with data fetched statically. The footer also includes a copyright notice, signifying the ownership of the <span class="No-Break">website content:</span></p>
			<pre class="source-code">
&lt;template&gt;
  &lt;footer class="bg-zinc-900 text-gray-300"&gt;
    &lt;div class="container text-center lg:text-left py-12"&gt;
      &lt;div class="grid grid-cols-1 lg:grid-cols-3 gap-6"&gt;
        &lt;!-- Company Name --&gt;
        &lt;div class="mb-4 lg:mb-0"&gt;
          &lt;h3 class="text-3xl text-gray-200 uppercase
            font-extralight mb-8"&gt;Homsecape
          &lt;/h3&gt;
          &lt;p class="text-gray-"00"&gt;
            123 Elm Street&lt;br /&gt;
            Suite 456&lt;br /&gt;
            Springfield, IL 62704
          &lt;/p&gt;
        &lt;/div&gt;
        &lt;!-- Listing by Category --&gt;
        &lt;div&gt;
          &lt;h4 class="text-lg font-bold text-gray-200 mb-2"&gt;
            Listing by Category
          &lt;/h4&gt;
        &lt;/div&gt;
        &lt;!-- Additional Info --&gt;
        &lt;div&gt;
          &lt;h4 class="text-lg font-bold text-gray-200 mb-2"&gt;
            Additional Info
          &lt;/h4&gt;
          &lt;ul&gt;
            &lt;li class="mb-1"&gt;
              &lt;a
                href="#"
                class="text-gray-400 transition-colors
                hover:text-primary"&gt;FAQ
              &lt;/a&gt;
            &lt;/li&gt;
            &lt;li class="mb-1"&gt;
              &lt;a
                href="#"
                class="text-gray-400 transition-colors
                hover:text-primary"&gt;Privacy Policy
              &lt;/a&gt;
            &lt;/li&gt;
            &lt;li class="mb-1"&gt;
              &lt;a
                href="#"
                class="text-gray-400 transition-colors
                hover:text-primary"&gt;Terms of Service
              &lt;/a&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="bg-zinc-950 text-center py-4 text-gray-400
      text-sm"&gt;&amp;copy; 2023 HOMESCAPE. All rights reserved.
    &lt;/div&gt;
  &lt;/footer&gt;
&lt;/template&gt;</pre>			<p>With the <a id="_idIndexMarker127"/>individual components created,’it’s time to bring them together within our <strong class="source-inline">default.vue</strong> layout file. This layout <a id="_idIndexMarker128"/>serves as the structural blueprint for our pages, ensuring a consistent design across <span class="No-Break">the website.</span></p>
			<p>H’re’s how’we’ve structured our <span class="No-Break"><strong class="source-inline">default.vue</strong></span><span class="No-Break"> layout:</span></p>
			<pre class="source-code">
&lt;template&gt;
  &lt;base-header /&gt;
  &lt;slot&gt;&lt;/slot&gt;
  &lt;base-newsletters-section /&gt;
  &lt;base-footer /&gt;
&lt;/template&gt;</pre>			<p>The output should be <span class="No-Break">as follows:</span></p>
			<div>
				<div id="_idContainer028" class="IMG---Figure">
					<img src="image/B19760_03_03.jpg" alt="Figure 3.3: Homescape – final default layout" width="1211" height="719"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.3: Homescape – final default layout</p>
			<p>You’ll notice <a id="_idIndexMarker129"/>that, currently, the header <a id="_idIndexMarker130"/>text is invisible, and the title overlaps with the header. However, once we introduce a hero section with a dark background and extend it to full height, the page aesthetics will <span class="No-Break">significantly improve.</span></p>
			<p>Having established a solid foundation with our layouts and essential components, let’s move on to creating the home page, listing pages, and an <span class="No-Break">error page.</span></p>
			<h1 id="_idParaDest-65"><a id="_idTextAnchor063"/>Creating the home page and exploring TypeScript support</h1>
			<p>Building the <a id="_idIndexMarker131"/>home page and listing pages is a pivotal step in our project. It’s <a id="_idIndexMarker132"/>here that users will start their journey, browsing through various property listings. To begin crafting these pages, we need to set up a <strong class="source-inline">pages</strong> directory. This directory is essential for housing all our <span class="No-Break">page components.</span></p>
			<h2 id="_idParaDest-66"><a id="_idTextAnchor064"/>Introduction to the pages directory</h2>
			<p>To create the <a id="_idIndexMarker133"/>home page or “index” page, we need to create a new component <a id="_idIndexMarker134"/>inside the <strong class="source-inline">pages</strong> directory called <strong class="source-inline">index.vue</strong>, then override the <strong class="source-inline">app.vue</strong> component <span class="No-Break">as follows:</span></p>
			<pre class="source-code">
&lt;!-- app.vue --&gt;
&lt;template&gt;
  &lt;NuxtLayout&gt;
    &lt;NuxtPage /&gt;
  &lt;/NuxtLayout&gt;
&lt;/template&gt;</pre>			<p>Notice that we used the <strong class="source-inline">&lt;NuxtPage /&gt;</strong> component within <strong class="source-inline">NuxtLayout</strong> to render the current page component. This way, the structure defined in <strong class="source-inline">app.vue</strong> acts as a universal layout, while the content from individual pages gets injected at the point where <strong class="source-inline">&lt;NuxtPage /&gt;</strong> <span class="No-Break">is placed.</span></p>
			<p>The <strong class="source-inline">pages</strong> directory is quite powerful. The file structure within this directory corresponds to the router structure of our application, and every <strong class="source-inline">.vue</strong> file becomes a route in our app. For instance, a <strong class="source-inline">pages/about.vue</strong> file automatically generates an <strong class="source-inline">/about</strong> route in <span class="No-Break">our application.</span></p>
			<p>Now, with the <strong class="source-inline">pages</strong> directory set up and <strong class="source-inline">app.vue</strong> customized to embrace individual pages, we are well on our way to defining the layouts for our home page and <span class="No-Break">listing pages.</span></p>
			<h2 id="_idParaDest-67"><a id="_idTextAnchor065"/>Exploring TypeScript support</h2>
			<p>As we set sail on the task of creating pages with various property listings, it’s crucial to have a clear <a id="_idIndexMarker135"/>understanding and structure of the data we will be dealing with. In a real-world scenario, this data would be fetched from an API. However, for the scope of this chapter, we will be using static files to represent our data, keeping the transition to fetching data from an API smooth and straightforward in the <span class="No-Break">upcoming chapters.</span></p>
			<p>The data in our application primarily revolves around properties and categories. We have three different datasets representing properties: <strong class="source-inline">properties.ts</strong>, <strong class="source-inline">featuredProperties.ts</strong>, and <strong class="source-inline">recentlyListedProperties.ts</strong>. Additionally, there’s a <strong class="source-inline">categories.ts</strong> file representing different property categories. All these datasets are structured in a way that simulates <span class="No-Break">real-world data.</span></p>
			<p>Now, to ensure consistency and error-free handling of this data across our application, employing TypeScript is a wise choice. TypeScript provides a way to define strict types for our data, which significantly reduces the potential for bugs and makes the code more readable and easier <span class="No-Break">to manage.</span></p>
			<p>Nuxt 3 comes <a id="_idIndexMarker136"/>with built-in TypeScript support, which is a boon for developers keen on type safety. Our first step is to define a <strong class="source-inline">Property</strong> type. Let’s create a <strong class="source-inline">types</strong> folder at the root level of our project, and within it, an <strong class="source-inline">index.ts</strong> file. In this file, we’ll define our <strong class="source-inline">Property</strong> type as well as the <span class="No-Break"><strong class="source-inline">Category</strong></span><span class="No-Break"> type:</span></p>
			<pre class="source-code">
export {}
declare global {
  type Property = {
    id: string
    title: string
    description: string
    image: string
    category: string // Reference to the category title
    bedrooms: number
    bathrooms: number
    squareFeet: number
    price: number
    listedDate: string
  }
  type Category = {
    id: string
    name: string
    description: string
    image: string
  }
}</pre>			<p>By exporting an <a id="_idIndexMarker137"/>empty object and declaring a global object that contains <strong class="source-inline">Property</strong> and <strong class="source-inline">Category</strong>, we make these types available globally in our application. This approach eliminates the need to import the type in every component. Now Let’s talk about best practices for creating components in a <span class="No-Break">Nuxt project.</span></p>
			<h2 id="_idParaDest-68"><a id="_idTextAnchor066"/>A note on the component path</h2>
			<p>When organizing components in a Nuxt 3 project, we have the flexibility to structure our files in a way <a id="_idIndexMarker138"/>that best suits our development style and project needs. For example, consider the following <span class="No-Break">component path:</span></p>
			<pre class="source-code">
&lt;!-- /components/property/card.vue --&gt;</pre>			<p>This will <a id="_idIndexMarker139"/>create the component within a nested directory, <strong class="source-inline">property</strong>, under the <strong class="source-inline">components</strong> root directory, allowing us to group all components related to property features in the same folder. Alternatively, we could place the component directly under the <strong class="source-inline">components</strong> root directory with a more <span class="No-Break">flattened structure:</span></p>
			<pre class="source-code">
&lt;!-- /components/PropertyCard.vue --&gt;</pre>			<p>Both approaches enable us to call the component in our templates using the <span class="No-Break">same tag:</span></p>
			<pre class="source-code">
&lt;property-card /&gt;</pre>			<p>However, I prefer the first method as it helps organize related components together in the same folder, making the project structure more manageable, especially as the <span class="No-Break">project grows.</span></p>
			<p>We now have a blueprint for the project types and component paths, let’s start creating <span class="No-Break">our components!</span></p>
			<h2 id="_idParaDest-69"><a id="_idTextAnchor067"/>Create Property and Category Card Components</h2>
			<p>Begin by <a id="_idIndexMarker140"/>creating a folder called <strong class="source-inline">property</strong>. Inside <a id="_idIndexMarker141"/>it, create a <strong class="source-inline">Card.vue</strong> component that receives <strong class="source-inline">property</strong> as <span class="No-Break">a prop:</span></p>
			<pre class="source-code">
&lt;!-- /components/property/Card.vue --&gt;
&lt;template&gt;
  &lt;nuxt-link
    :to="`/properties/${property.id}`"
    class="max-w-sm mx-auto bg-white shadow-lg rounded-lg
    overflow-hidden"
  &gt;
    &lt;img
      :src="property.image"
      alt="Property image"
      class="w-full h-48 object-cover"
    /&gt;
    &lt;div class="p-6"&gt;
      &lt;h2 class="text-lg font-bold text-gray-800 mb-2"&gt;
        {{ property.title }}
      &lt;/h2&gt;
      &lt;p class="text-gray-600 text-sm mb-4"&gt;
        {{ property.description }}
      &lt;/p&gt;
      &lt;div class="flex justify-between items-center"&gt;
        &lt;span class="font-bold text-primary text-lg"&gt;
          ${{ property.price }}
        &lt;/span&gt;
        &lt;span class="text-gray-600 text-sm"&gt;
          {{ property.bedrooms }} BR |
          {{ property.bathrooms }} BA |
          {{ property.squareFeet }} sq ft
        &lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/nuxt-link&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
import { Property } from '~/types'
defineProps&lt;{
  property: Property
}&gt;()
&lt;/script&gt;</pre>			<p>In the snippet provided, we used the <strong class="source-inline">Property</strong> type because we’ve already defined it globally. Following that, <strong class="source-inline">defineProps</strong> is a utility from Vue.js used in the Composition API setup <a id="_idIndexMarker142"/>to define the types of our component props. In this instance, it specifies that the <strong class="source-inline">property</strong> prop should adhere to the structure outlined in the <span class="No-Break"><strong class="source-inline">Property</strong></span><span class="No-Break"> type.</span></p>
			<p>In the <a id="_idIndexMarker143"/>same way, we’ll create the <strong class="source-inline">/</strong><span class="No-Break"><strong class="source-inline">components/category/Card.vue</strong></span><span class="No-Break"> component:</span></p>
			<pre class="source-code">
&lt;!-- /components/category/Card.vue --&gt;
&lt;template&gt;
  &lt;nuxt-link
    :to="`/categories/${category.name}`"
    class="relative group overflow-hidden rounded-lg"
  &gt;
    &lt;img
      :src="category.image"
      alt="Category image"
      class="w-full h-60 object-cover transition-transform
      duration-700 group-hover:scale-110"
    /&gt;
    &lt;div
      class="absolute inset-0 bg-black bg-opacity-40
      group-hover:bg-opacity-70 transition-all duration-700
      flex items-center justify-center"
    &gt;
      &lt;div class="text-center"&gt;
        &lt;h3
          class="text-xl group-hover:text-2xl
          transition-all duration-700 font-bold text-white"
        &gt;
          {{ category.name }}
        &lt;/h3&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/nuxt-link&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
defineProps&lt;{
  category: Category
}&gt;()
&lt;/script&gt;</pre>			<p>Now let’s <a id="_idIndexMarker144"/>and start implementing the homepage and see <a id="_idIndexMarker145"/>how we will use <strong class="source-inline">Property</strong> and <strong class="source-inline">Category</strong> components <span class="No-Break">within it.</span></p>
			<h2 id="_idParaDest-70"><a id="_idTextAnchor068"/>Creating the home page</h2>
			<p>We’ll kick <a id="_idIndexMarker146"/>off by creating a simple overlay background component inside the <span class="No-Break"><strong class="source-inline">base</strong></span><span class="No-Break"> folder:</span></p>
			<pre class="source-code">
&lt;!-- components\base\OverlayBg.vue --&gt;
&lt;template&gt;
  &lt;div class="absolute inset-0"&gt;
    &lt;img
      class="w-full h-full object-cover"
      src="~/assets/images/homescape-bg.webp"
    /&gt;
    &lt;div class="absolute inset-0 bg-black bg-opacity-70" /&gt;
  &lt;/div&gt;
&lt;/template&gt;</pre>			<p>This component will be used as an absolute background in the hero section, as well as the <span class="No-Break">error page.</span></p>
			<p>Then, let’s craft the <strong class="source-inline">HeroSection</strong> component, which will serve as a welcoming visual for our visitors. This component will be housed within a dedicated home page folder, showcasing <a id="_idIndexMarker147"/>the organized and modular structure of <span class="No-Break">our application:</span></p>
			<pre class="source-code">
&lt;template&gt;
  &lt;!-- Hero Section --&gt;
  &lt;section
    class="relative h-screen flex items-center
    justify-center rounded-lg p-6"
  &gt;
    &lt;base-overlay-bg /&gt;
    &lt;div class="relative text-center z-10"&gt;
      &lt;h2 class="text-primary font-bold text-5xl mb-4"&gt;
        Find Your Dream Home with
        &lt;span class="uppercase font-extralight"&gt;Homescape
        &lt;/span&gt;
      &lt;/h2&gt;
      &lt;p
        class="text-gray-300 text-3xl leading-snug
        text-center font-extralight mb-12"&gt;
        Explore listings, compare properties, and discover
        a place you'll love to live.
      &lt;/p&gt;
      &lt;base-btn&gt; Browse Listings &lt;/base-btn&gt;
    &lt;/div&gt;
  &lt;/section&gt;
&lt;/template&gt;</pre>			<p>Following <strong class="source-inline">HeroSection</strong>, we’ll flesh out additional segments of our home page, namely the <strong class="source-inline">FeaturedProperties</strong> and <strong class="source-inline">RecentlyListedProperties</strong> sections. These sections <a id="_idIndexMarker148"/>will pull data from respective static files, rendering property cards to display an assortment <span class="No-Break">of properties.</span></p>
			<p>Here is the <span class="No-Break"><strong class="source-inline">FeaturedProperties</strong></span><span class="No-Break"> component:</span></p>
			<pre class="source-code">
&lt;template&gt;
  &lt;section class="container py-12"&gt;
    &lt;h2 class="text-3xl text-center font-bold text-gray-800
      mb-6"&gt;
      Top Featured Properties
    &lt;/h2&gt;
    &lt;div class="grid grid-cols-1 md:grid-cols-2
    lg:grid-cols-4 gap-6"&gt;
      &lt;property-card
        v-for="property in featuredProperties"
        :key="property.id"
        :property="property"
      /&gt;
    &lt;/div&gt;
  &lt;/section&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
import featuredProperties from '~/data/featuredProperties'
&lt;/script&gt;</pre>			<p>A similar <a id="_idIndexMarker149"/>approach will be taken <span class="No-Break">for </span><span class="No-Break"><strong class="source-inline">RecentlyListedProperties</strong></span><span class="No-Break">.</span></p>
			<p>Additionally, we’ll craft a component for each property category and encapsulate them within an <strong class="source-inline">ExploreCategories</strong> component, which will also be placed on the <span class="No-Break">home page:</span></p>
			<pre class="source-code">
components
│
├── base
│   ├── Btn.vue
│   ├── Footer.vue
│   ├── Header.vue
│   └── NewslettersSection.vue
│   └── OverlayBg.vue
│
├── category
│   └── Card.vue
│
├── homepage
│   ├── HeroSection.vue
│   ├── ExploreCategories.vue
│   ├── FeaturedProperties.vue
│   └── RecentlyListedProperties.vue
│
└── property
    └── Card.vue</pre>			<p>Each folder <a id="_idIndexMarker150"/>under the <strong class="source-inline">components</strong> directory is systematically organized to house relevant components, aiding in achieving a clean, well-structured, and manageable <span class="No-Break">code base.</span></p>
			<p class="callout-heading">Note</p>
			<p class="callout">All resources, the entire code base, and the assets utilized in this chapter are readily available in the associated repository for your reference <span class="No-Break">and exploration.</span></p>
			<p>Having followed through with the outlined steps, at this juncture, your application should look <span class="No-Break">like this:</span></p>
			<div>
				<div id="_idContainer029" class="IMG---Figure">
					<img src="image/B19760_03_04.jpg" alt="Figure 3.4: Final home page" width="775" height="1524"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.4: Final home page</p>
			<p>We’ve done an excellent job constructing our home page. Next, we’ll venture into creating the listing pages to further enhance our <span class="No-Break">application’s functionality.</span></p>
			<h1 id="_idParaDest-71"><a id="_idTextAnchor069"/>Creating a dynamic listing page</h1>
			<p>Dynamic routing is a fundamental concept in Nuxt that allows developers to build flexible and data-driven routes. Unlike static routes, where each route is predefined and fixed, dynamic <a id="_idIndexMarker151"/>routes adapt to the data they are provided, enabling a more scalable and maintainable <span class="No-Break">routing structure.</span></p>
			<p>In Nuxt, creating dynamic routes is as simple as adding a Vue file in the <strong class="source-inline">pages</strong> directory with a special filename. The filename should contain a parameter enclosed in square brackets <strong class="source-inline">[]</strong>, which acts as a placeholder for the actual data that will be passed to the route. This parameter can then be accessed within the page component, providing a means to load and display data based on <span class="No-Break">the route.</span></p>
			<p>For instance, if you have a file named <strong class="source-inline">[slug].vue</strong> in the <strong class="source-inline">pages</strong> directory, Nuxt will translate this to a route with a dynamic segment such as <strong class="source-inline">/something</strong>, where something is the value of the <strong class="source-inline">slug</strong> parameter. This <strong class="source-inline">slug</strong> parameter can be accessed within the page component, enabling the loading and displaying of data based on <span class="No-Break">its value.</span></p>
			<p>Now, in our specific example, we will explore how we can leverage this feature to create category-based listing pages by defining a <strong class="source-inline">[name].vue</strong> file within a <strong class="source-inline">categories</strong> directory under the <strong class="source-inline">pages</strong> directory. This setup will enable us to have routes such as <strong class="source-inline">/categories/houses</strong> or <strong class="source-inline">/categories/apartments</strong>, dynamically rendering the properties associated with <span class="No-Break">each category.</span></p>
			<p>Now, let’s discuss the <strong class="source-inline">script</strong> section of our <strong class="source-inline">[</strong><span class="No-Break"><strong class="source-inline">name].vue</strong></span><span class="No-Break"> file:</span></p>
			<pre class="source-code">
&lt;script setup lang="ts"&gt;
import properties from '~/data/properties'
const route = useRoute()
const categoryName = route.params.name
const filteredProperties = computed(() =&gt;
  properties.filter(item =&gt; item.category === categoryName)
)
&lt;/script&gt;</pre>			<p>Here’s a step-by-step breakdown of <span class="No-Break">the script:</span></p>
			<ol>
				<li>We import the <strong class="source-inline">properties</strong> data from our static <span class="No-Break">data file.</span></li>
				<li>We employ the <strong class="source-inline">useRoute</strong> composable from Nuxt to access the <span class="No-Break">route parameters.</span></li>
				<li>The <strong class="source-inline">categoryName</strong> constant captures the dynamic segment of the route (the category name in <span class="No-Break">this case).</span></li>
				<li>We create a computed property, <strong class="source-inline">filteredProperties</strong>, to filter the <strong class="source-inline">properties</strong> array based on the <span class="No-Break">category name.</span></li>
			</ol>
			<p>Moving on to <a id="_idIndexMarker152"/>the template section, it’s designed to exhibit the properties filtered by category. If there are properties matching the category, they are displayed in a grid layout. If not, a message indicating no properties found is displayed, along with a button to return to the <span class="No-Break">home page:</span></p>
			<pre class="source-code">
&lt;div
  v-if="filteredProperties.length"
  class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4
  gap-6"
&gt;
  &lt;property-card
    v-for="property in filteredProperties"
    :key="property.id"
    :property="property" /&gt;
&lt;/div&gt;
&lt;div v-else class="text-center py-12"&gt;
  &lt;div class="text-5xl font-black mb-2"&gt;Oops&lt;/div&gt;
  &lt;p class="text-gray-700 text-xl mb-8"&gt;
    No properties found for this category.
  &lt;/p&gt;
  &lt;nuxt-link to="/"&gt;
    &lt;base-btn&gt;return to homepage&lt;/base-btn&gt;
  &lt;/nuxt-link&gt;
&lt;/div&gt;</pre>			<p>The logic <a id="_idIndexMarker153"/>here <span class="No-Break">is straightforward:</span></p>
			<ul>
				<li>We use a <strong class="source-inline">v-if</strong> directive to check if there are any properties for the chosen category. If there are, we render a grid of <strong class="source-inline">property-card</strong> components, each receiving a <strong class="source-inline">property</strong> object as <span class="No-Break">a prop.</span></li>
			</ul>
			<div>
				<div id="_idContainer030" class="IMG---Figure">
					<img src="image/B19760_03_05.jpg" alt="Figure 3.5: Listing categories/Lofts" width="1650" height="979"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.5: Listing categories/Lofts</p>
			<ul>
				<li>In the case <a id="_idIndexMarker154"/>where no properties match the category <strong class="source-inline">(v-else</strong>), we display a message and a button that navigates back to the home page, offering a good user experience and a clear path of action when the desired content is <span class="No-Break">not found.</span></li>
			</ul>
			<div>
				<div id="_idContainer031" class="IMG---Figure">
					<img src="image/B19760_03_06.jpg" alt="Figure 3.6: Listing invalid category" width="1433" height="851"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.6: Listing invalid category</p>
			<p>However, this page <a id="_idIndexMarker155"/>doesn’t validate whether the route parameter is exists or not. In the next section, we’ll implement and validate the property details page and learn how to validate the <span class="No-Break">route parameters.</span></p>
			<h1 id="_idParaDest-72"><a id="_idTextAnchor070"/>Creating and validating a property details page</h1>
			<p>In the previous section, data validation was not implemented; we merely checked whether there <a id="_idIndexMarker156"/>were any properties associated with a particular category and displayed a message if none were found. However, on the property <a id="_idIndexMarker157"/>details page, we’re adding an extra layer of validation to ensure the data integrity and user experience <span class="No-Break">are upheld.</span></p>
			<p>Let’s create the property details dynamic page. The page should be located at <strong class="source-inline">/pages/properties/[id].vue</strong>, allowing dynamic access to individual property pages based on the <span class="No-Break">property ID.</span></p>
			<p>Now, let’s discuss the <span class="No-Break"><strong class="source-inline">script</strong></span><span class="No-Break"> section:</span></p>
			<pre class="source-code">
&lt;script setup lang="ts"&gt;
import properties from '~/data/properties'
definePageMeta({
  validate: async route =&gt; {
    // check if property exists
    return !!properties.find(
      item =&gt; item.id === route.params.id)
  }
})
const route = useRoute()
const property = properties.find(
  item =&gt; item.id === route.params.id)
&lt;/script&gt;</pre>			<p>Here’s a breakdown of <span class="No-Break">the script:</span></p>
			<p>The <strong class="source-inline">definePageMeta</strong> function is utilized within a Nuxt setup to define metadata for the page. It’s a <a id="_idIndexMarker158"/>utility that allows you to set up various options and hooks related to the page lifecycle and behavior. One of the powerful <a id="_idIndexMarker159"/>features provided by <strong class="source-inline">definePageMeta</strong> is the ability to validate route parameters using the <span class="No-Break"><strong class="source-inline">validate</strong></span><span class="No-Break"> method.</span></p>
			<p>The <strong class="source-inline">validate</strong> method is used to validate route parameters before rendering the page. It’s a way to ensure that the incoming route parameters meet certain criteria before allowing the page to be rendered. If the <strong class="source-inline">validate</strong> method returns false (when the ID does not match any property), Nuxt will automatically redirect the user to a 404 <span class="No-Break">error page.</span></p>
			<p>After validation, the script uses the <strong class="source-inline">useRoute</strong> function to obtain the current route object. Then, it locates the specific property object within the properties data that matches the ID from the route parameters. This property object will be utilized within the template to display the details of the <span class="No-Break">selected property.</span></p>
			<p>The template <a id="_idIndexMarker160"/>for displaying property details is straightforward <a id="_idIndexMarker161"/>as it merely exhibits the attributes of the property. You can check it from the <span class="No-Break">related repo.</span></p>
			<p>After implementing the script and template, you can test the setup by accessing the page at <a href="http://localhost:3000/properties/6">http://localhost:3000/properties/6</a>. This URL should lead you to a page displaying the details of a <span class="No-Break">valid property.</span></p>
			<div>
				<div id="_idContainer032" class="IMG---Figure">
					<img src="image/B19760_03_07.jpg" alt="Figure 3.7: Property details page" width="1210" height="983"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.7: Property details page</p>
			<p>However, if you attempt to access a non-existent property, for instance, via <a href="http://localhost:3000/properties/6666">http://localhost:3000/properties/6666</a>, the application should redirect you to a 404 error page. This behavior ensures that users are guided appropriately when they attempt to access content that doesn’t exist, thereby enhancing the user experience and maintaining the integrity of the application’s data presentation. Now let’s move on to create a custom <span class="No-Break">error page.</span></p>
			<h2 id="_idParaDest-73"><a id="_idTextAnchor071"/>Creating a Custom error page</h2>
			<p>Handling errors gracefully is crucial for a good user experience. Nuxt provides a default error page that <a id="_idIndexMarker162"/>gets displayed whenever an error occurs, such as when a user navigates to a non-existent route. Initially, if you try to access a wrong URL, as we did before, you’ll be greeted by Nuxt’s default error page, which is <span class="No-Break">quite generic.</span></p>
			<div>
				<div id="_idContainer033" class="IMG---Figure">
					<img src="image/B19760_03_08.jpg" alt="Figure 3.8: Default error page" width="1211" height="719"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.8: Default error page</p>
			<p>Our aim is to override this with a more personalized page that maintains the website’s theme. Create a new file named <strong class="source-inline">error.vue</strong> in the root directory of your project besides the <strong class="source-inline">app.vue</strong> component. This <strong class="source-inline">error.vue</strong> file will override the default error page provided <span class="No-Break">by Nuxt.</span></p>
			<p>Here’s an example of how you might structure <span class="No-Break">the file:</span></p>
			<pre class="source-code">
&lt;template&gt;
  &lt;div
    class="min-h-screen bg-zinc-900 flex flex-col
    justify-center items-center"&gt;
    &lt;div class="relative text-center"&gt;
      &lt;div class="text-9xl font-black
        text-amber-600"&gt;404&lt;/div&gt;
      &lt;p class="text-gray-300 text-xl mt-4 mb-8"&gt;
        Oops, the page you're looking for doesn't exist.
      &lt;/p&gt;
      &lt;router-link to="/"&gt;
        &lt;base-btn&gt; Go Home &lt;/base-btn&gt;
      &lt;/router-link&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;</pre>			<p>You might <a id="_idIndexMarker163"/>notice that I’ve created a simple <strong class="source-inline">BaseBtn.vue</strong> component with custom css styles in it. You can check the component in the related <span class="No-Break">chapter repo.</span></p>
			<p>By default, this custom error page will catch 404 errors, displaying your personalized message whenever a user tries to access a route that doesn’t exist. However, it’s noteworthy that, as it stands, this page will show a 404 error even if other types of errors occur. We can adjust this behavior later to handle different error <span class="No-Break">types accordingly.</span></p>
			<p>Now let’s test it by trying to access a <span class="No-Break">non-existent route:</span></p>
			<div>
				<div id="_idContainer034" class="IMG---Figure">
					<img src="image/B19760_03_09.jpg" alt="Figure 3.9: Custom error.vue" width="1211" height="719"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.9: Custom error.vue</p>
			<p>In the next <a id="_idIndexMarker164"/>section, we’ll create a plugin that uses the <strong class="source-inline">Dayjs</strong> library to handle date formatting across <span class="No-Break">our application.</span></p>
			<h1 id="_idParaDest-74"><a id="_idTextAnchor072"/>Creating a plugin to use Dasyjs for formatting dates</h1>
			<p>One of the most overlooked but crucial parts of any application is the way we manage and <a id="_idIndexMarker165"/>display times and dates. Typically, JavaScript’s <a id="_idIndexMarker166"/>native <strong class="source-inline">Date</strong> object can be cumbersome to use for advanced formatting. This is where <strong class="source-inline">Dayjs</strong> comes into play. <strong class="source-inline">Dayjs</strong> is a minimalist JavaScript library that provides a straightforward way to format, parse, and manipulate dates. Going forward, we’ll replace static date rendering in our project with formatted date that shows the relative date from the current date <span class="No-Break">using </span><span class="No-Break"><strong class="source-inline">Dayjs</strong></span><span class="No-Break">.</span></p>
			<h2 id="_idParaDest-75"><a id="_idTextAnchor073"/>Installing Dayjs</h2>
			<p>To get <a id="_idIndexMarker167"/>started, install <strong class="source-inline">Dayjs</strong> by running the following command in your <span class="No-Break">project directory:</span></p>
			<pre class="console">
pnpm i dayjs</pre>			<h2 id="_idParaDest-76"><a id="_idTextAnchor074"/>Setting up the plugin directory and file</h2>
			<p>Nuxt’s plugin system allows you to run your code before the root Vue.js application is instantiated. They are run during the boot-up phase of your application and can execute on the client side, server side, or both depending on <span class="No-Break">your configuration.</span></p>
			<p>When you <a id="_idIndexMarker168"/>create a new plugin, it’s like adding a new member to your team that has specific skills. This team member (the plugin) can do tasks that everyone in the project can use. For example, setting up <strong class="source-inline">Dayjs</strong> as a plugin allows you to call upon date formatting functionality wherever you need it in <span class="No-Break">your project.</span></p>
			<p>By placing the <strong class="source-inline">dayjs.ts</strong> file in the <strong class="source-inline">plugins</strong> directory, you’re essentially telling Nuxt, “Hey, before you start up, make sure you know how to format dates using <strong class="source-inline">Dayjs</strong>, because we’re going to need it.” If you haven’t already set up a <strong class="source-inline">plugins</strong> directory, create one at the root of your project. Inside this directory, create a new file <span class="No-Break">named </span><span class="No-Break"><strong class="source-inline">dayjs.ts</strong></span><span class="No-Break">.</span></p>
			<h2 id="_idParaDest-77"><a id="_idTextAnchor075"/>Initializing Dayjs with configuration</h2>
			<p>In your newly created <strong class="source-inline">dayjs.ts</strong> file, you’ll need to import <strong class="source-inline">Dayjs</strong> and initialize it with the <a id="_idIndexMarker169"/>necessary configurations. Once initialized, we’ll use Vue’s <strong class="source-inline">provide</strong> method to make the <strong class="source-inline">FromNow</strong> function available throughout the application. This capability will enable us to represent dates in a more user-friendly, relative format such as “1 day ago” or “2 <span class="No-Break">weeks ago.”</span></p>
			<p>Here’s the code for <span class="No-Break">the plugin:</span></p>
			<pre class="source-code">
import dayjs from 'dayjs'
import relativeTime from 'dayjs/plugin/relativeTime'
export default defineNuxtPlugin(nuxtApp =&gt; {
  dayjs.extend(relativeTime)
  const fromNow = (date: string) =&gt; {
    return dayjs(date).fromNow()
  }
  return {
    provide: { fromNow }
  }
})</pre>			<p>Here’s <a id="_idIndexMarker170"/>a breakdown of <span class="No-Break">the code:</span></p>
			<ol>
				<li>The plugin begins by importing the <strong class="source-inline">Dayjs</strong> library along with its <span class="No-Break"><strong class="source-inline">relativeTime</strong></span><span class="No-Break"> plugin.</span></li>
				<li>We use Nuxt’s <strong class="source-inline">defineNuxtPlugin</strong> method to create <span class="No-Break">the plugin.</span></li>
				<li>Inside the plugin, a function called <strong class="source-inline">fromNow</strong> is defined. It takes a date string and uses the <strong class="source-inline">Dayjs</strong> <strong class="source-inline">.fromNow()</strong> method to return the relative time difference in a <span class="No-Break">human-readable format.</span></li>
				<li>Finally, the <strong class="source-inline">provide</strong> method is used to make this function globally available throughout our <span class="No-Break">Nuxt application.</span></li>
			</ol>
			<h2 id="_idParaDest-78"><a id="_idTextAnchor076"/>Using the global FromNow function for the property details page</h2>
			<p>Once <a id="_idIndexMarker171"/>you’ve successfully created and integrated the <strong class="source-inline">Dayjs</strong> plugin into your Nuxt application, the next step is to utilize it in your components or pages. Here, we’ll incorporate it into our property <span class="No-Break">details page.</span></p>
			<p>Locate the page: <strong class="source-inline">pages\properties\[id].vue</strong>. Below the property description, insert the <span class="No-Break">following code:</span></p>
			<pre class="source-code">
&lt;p class="text-gray-700 text-center text-lg"&gt;
  {{ property.description }}
&lt;/p&gt;
&lt;div class="text-gray-700 text-center mb-8"&gt;
  Listed {{ $fromNow(property.listedDate) }}
&lt;/div&gt;</pre>			<p>The <strong class="source-inline">$fromNow</strong> function is now globally available due to the plugin we created earlier. It takes <strong class="source-inline">property.listedDate</strong> as an argument and displays it in a <span class="No-Break">human-readable format.</span></p>
			<p>One of <a id="_idIndexMarker172"/>the advantages of the prerequisites extenstions that we installed in VS Code is that your IDE will recognize the provided helpers in the <strong class="source-inline">plugins</strong> directory. This means that you’ll benefit from Intellisense support when you type <strong class="source-inline">$fromNow</strong>, with autocomplete suggestions and even parameter hints, making your development process <span class="No-Break">more efficient.</span></p>
			<div>
				<div id="_idContainer035" class="IMG---Figure">
					<img src="image/B19760_03_10.jpg" alt="Figure 3.10: plugins provide Intellisense" width="952" height="227"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.10: plugins provide Intellisense</p>
			<p>To sum up, we walked through the process of creating a Nuxt plugin to integrate <strong class="source-inline">Dayjs</strong> for date formatting. We then used this globally available <strong class="source-inline">fromNow</strong> function for the property details page to display dates in a <span class="No-Break">human-readable format.</span></p>
			<h1 id="_idParaDest-79"><a id="_idTextAnchor077"/>Summary</h1>
			<p>In this chapter, we dived into advanced Nuxt 3 features by crafting a real estate listing project. We started by setting up a Nuxt 3 project, incorporating Tailwind CSS and Google Fonts—basics that we’ve touched on before. We quickly moved on to defining a default website layout and learning how to override it for special cases, such as a 404 page. TypeScript support had its moment too, as we developed the home page. Next, we created a dynamic listing page for displaying properties and followed that by building out individual property detail pages. We wrapped up by integrating <strong class="source-inline">Dayjs</strong> via a custom plugin for date formatting. Along the way, key Nuxt 3 concepts such as routing, layouts, and plugins served as guideposts, helping us build a well-rounded application. This chapter aimed to level up your Nuxt 3 expertise, making you more than ready for <span class="No-Break">complex projects.</span></p>
			<p>In the upcoming <a href="B19760_04.xhtml#_idTextAnchor080"><span class="No-Break"><em class="italic">Chapter 4</em></span></a>, we’ll shift our focus to a new challenge: building a weather dashboard. The chapter will be your hands-on guide to understanding state management in a Nuxt application using Pinia. It’s not just theory; you’ll be building a practical, real-world application where you’ll manage the state of multiple cities and their <span class="No-Break">weather data.</span></p>
			<h1 id="_idParaDest-80"><a id="_idTextAnchor078"/>Practice questions</h1>
			<ul>
				<li>How do you set up a default layout in a Nuxt <span class="No-Break">3 project?</span></li>
				<li>How do you create an <span class="No-Break">error page?</span></li>
				<li>Does Nuxt support TypeScript in components <span class="No-Break">or props?</span></li>
				<li>How do you create <span class="No-Break">dynamic pages?</span></li>
				<li>How do you validate the dynamic pages and redirect to a 404 page if they’re <span class="No-Break">not valid?</span></li>
				<li>What is a Nuxt plugin? What are the primary benefits <span class="No-Break">of them?</span></li>
				<li>How do you implement a plugin such as Dayjs for date formatting in <span class="No-Break">Nuxt 3?</span></li>
			</ul>
			<h1 id="_idParaDest-81"><a id="_idTextAnchor079"/>Further reading</h1>
			<ul>
				<li>Nuxt <span class="No-Break">Routing: </span><a href="https://nuxt.com/docs/getting-started/routing"><span class="No-Break">https://nuxt.com/docs/getting-started/routing</span></a></li>
				<li>Vue <span class="No-Break">plugins: </span><a href="https://vuejs.org/guide/reusability/plugins"><span class="No-Break">https://vuejs.org/guide/reusability/plugins</span></a></li>
				<li>Nuxt pages <span class="No-Break">directory: </span><a href="https://nuxt.com/docs/guide/directory-structure/pages"><span class="No-Break">https://nuxt.com/docs/guide/directory-structure/pages</span></a></li>
				<li>Nuxt layouts <span class="No-Break">directory: </span><a href="https://nuxt.com/docs/guide/directory-structure/layouts"><span class="No-Break">https://nuxt.com/docs/guide/directory-structure/layouts</span></a></li>
				<li>Nuxt plugins <span class="No-Break">directory: </span><a href="https://nuxt.com/docs/guide/directory-structure/plugins"><span class="No-Break">https://nuxt.com/docs/guide/directory-structure/plugins</span></a></li>
				<li>Dayjs <span class="No-Break">documentation: </span><a href="https://day.js.org/docs/en/installation/installation"><span class="No-Break">https://day.js.org/docs/en/installation/installation</span></a></li>
			</ul>
		</div>
	</div>
</div>
</body></html>