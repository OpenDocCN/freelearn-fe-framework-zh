<html><head></head><body>
<div id="_idContainer051">
<h1 class="chapter-number" id="_idParaDest-317"><a id="_idTextAnchor316"/><span class="koboSpan" id="kobo.1.1">11</span></h1>
<h1 id="_idParaDest-318"><a id="_idTextAnchor317"/><span class="koboSpan" id="kobo.2.1">Building an App Based on React, Redux, Styled Components, and the Firebase Backend</span></h1>
<p><span class="koboSpan" id="kobo.3.1">As we progress through this book, we will cover many concepts and skills related to the React ecosystem, popular libraries, and the best practices to build robust React applications in the modern era of web apps. </span><span class="koboSpan" id="kobo.3.2">This chapter is dedicated to creating a full stack React application with the help of knowledge gained in the previous chapters. </span><span class="koboSpan" id="kobo.3.3">As part of the interview process, the interviewer might ask you to build a full-fledged React project based on certain functional and technical requirements, or assign a quick coding challenge to assess your abilities in a particular domain. </span><span class="koboSpan" id="kobo.3.4">This chapter will guide you on how to tackle the coding rounds, by creating a React project from scratch following standard guidelines and asking interview questions on the implemented project. </span><span class="koboSpan" id="kobo.3.5">In this chapter, we will build an e-commerce application by implementing various UI components, applying styles, verifying the identity of the registered users through an authentication mechanism, integrating with the Firebase backend, and deploying the application to make it available for </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">public usage.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">First, we will start with the process of scaffolding the project using an official </span><strong class="bold"><span class="koboSpan" id="kobo.6.1">Redux Toolkit</span></strong><span class="koboSpan" id="kobo.7.1"> template. </span><span class="koboSpan" id="kobo.7.2">This will help you to quickly create a runnable project and avoid confusion over the project folder structure and minimum required dependencies for the project, using one simple command. </span><span class="koboSpan" id="kobo.7.3">In the same section, we will also add dependencies such as styled-components, which is helpful to encapsulate CSS styling inside the component, React Router to navigate pages, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.8.1">react-intl</span></strong><span class="koboSpan" id="kobo.9.1"> library to support internationalization, and the Firebase package to implement the backend. </span><span class="koboSpan" id="kobo.9.2">Then, we will quickly introduce the Firebase backend and its services, integrating Firebase inside our React project and </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">authentication features.</span></span></p>
<p><span class="koboSpan" id="kobo.11.1">Thereafter, we will build business logic following Redux standards to work with various actions triggered from a UI. </span><span class="koboSpan" id="kobo.11.2">To increase the user base from various regions, we will enhance the application with the support of an internationalization process. </span><span class="koboSpan" id="kobo.11.3">Then, we will write a couple of unit tests to make our code flawless and work as per business requirements. </span><span class="koboSpan" id="kobo.11.4">At the end of the chapter, we will host our Git repository on GitHub and make it available online to showcase </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">our skills.</span></span></p>
<p><span class="koboSpan" id="kobo.13.1">In this chapter, we will cover the following </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">main topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.15.1">Scaffolding and configuring </span><span class="No-Break"><span class="koboSpan" id="kobo.16.1">a project</span></span></li>
<li><span class="koboSpan" id="kobo.17.1">Introducing Firebase services and configuring </span><span class="No-Break"><span class="koboSpan" id="kobo.18.1">an application</span></span></li>
<li><span class="koboSpan" id="kobo.19.1">Implementing Firebase Authentication and </span><span class="No-Break"><span class="koboSpan" id="kobo.20.1">its backend</span></span></li>
<li><span class="koboSpan" id="kobo.21.1">Building the Redux components for </span><span class="No-Break"><span class="koboSpan" id="kobo.22.1">state management</span></span></li>
<li><span class="koboSpan" id="kobo.23.1">Building the </span><span class="No-Break"><span class="koboSpan" id="kobo.24.1">presentation layer</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.25.1">Supporting internationalization</span></span></li>
<li><span class="koboSpan" id="kobo.26.1">Implementing testing using the </span><span class="No-Break"><span class="koboSpan" id="kobo.27.1">Vitest framework</span></span></li>
<li><span class="koboSpan" id="kobo.28.1">Creating a Git repository with </span><span class="No-Break"><span class="koboSpan" id="kobo.29.1">README documentation</span></span></li>
<li><span class="koboSpan" id="kobo.30.1">Deploying the application for </span><span class="No-Break"><span class="koboSpan" id="kobo.31.1">public access</span></span></li>
</ul>
<h1 id="_idParaDest-319"><a id="_idTextAnchor318"/><span class="koboSpan" id="kobo.32.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.33.1">Before starting our project’s journey, your workstation should have the latest Node.js and npm (</span><a href="https://nodejs.org/en"><span class="koboSpan" id="kobo.34.1">https://nodejs.org/en</span></a><span class="koboSpan" id="kobo.35.1">) packages installed on it. </span><span class="koboSpan" id="kobo.35.2">You will also need to have a Netlify account (</span><a href="https://www.netlify.com/"><span class="koboSpan" id="kobo.36.1">https://www.netlify.com/</span></a><span class="koboSpan" id="kobo.37.1">) for the deployment section while building this project and a GitHub (</span><a href="https://github.com/"><span class="koboSpan" id="kobo.38.1">https://github.com/</span></a><span class="koboSpan" id="kobo.39.1">) account to host the Git repository. </span><span class="koboSpan" id="kobo.39.2">The code base of this project can be found online in the git </span><span class="No-Break"><span class="koboSpan" id="kobo.40.1">Repository: </span></span><a href="https://github.com/PacktPublishing/React-Interview-Guide/tree/main/Chapter11/one-stop-electronics"><span class="No-Break"><span class="koboSpan" id="kobo.41.1">https://github.com/PacktPublishing/React-Interview-Guide/tree/main/Chapter11/one-stop-electronics</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.42.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.43.1">Let’s first talk about the scaffolding and project configuration to build a </span><span class="No-Break"><span class="koboSpan" id="kobo.44.1">React application.</span></span></p>
<h1 id="_idParaDest-320"><a id="_idTextAnchor319"/><span class="koboSpan" id="kobo.45.1">Scaffolding and configuring the project</span></h1>
<p><span class="koboSpan" id="kobo.46.1">In </span><a href="B18603_06.xhtml#_idTextAnchor209"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.47.1">Chapter 6</span></em></span></a><span class="koboSpan" id="kobo.48.1">, we covered various</span><a id="_idIndexMarker767"/><span class="koboSpan" id="kobo.49.1"> topics about Redux and its workflow to build React web applications, based on a Redux state management solution. </span><span class="koboSpan" id="kobo.49.2">To reduce the boilerplate code involved with Redux logic, the Redux team recommends using </span><strong class="bold"><span class="koboSpan" id="kobo.50.1">RTK</span></strong><span class="koboSpan" id="kobo.51.1"> to simplify </span><a id="_idIndexMarker768"/><span class="koboSpan" id="kobo.52.1">many common use cases, apply best practices, and prevent </span><span class="No-Break"><span class="koboSpan" id="kobo.53.1">common mistakes.</span></span></p>
<p><span class="koboSpan" id="kobo.54.1">If you create a project from scratch, doing so</span><a id="_idIndexMarker769"/><span class="koboSpan" id="kobo.55.1"> using the </span><strong class="bold"><span class="koboSpan" id="kobo.56.1">Redux and TypeScript template for Vite</span></strong><span class="koboSpan" id="kobo.57.1"> is one of the suggested approaches from the Redux team. </span><span class="koboSpan" id="kobo.57.2">So, we will use the same approach to build the project in this section. </span><span class="koboSpan" id="kobo.57.3">In this project, we will build an e-commerce application, named </span><em class="italic"><span class="koboSpan" id="kobo.58.1">One Stop Electronics</span></em><span class="koboSpan" id="kobo.59.1">, where one can buy </span><span class="No-Break"><span class="koboSpan" id="kobo.60.1">electronic devices.</span></span></p>
<p><span class="koboSpan" id="kobo.61.1">The following </span><strong class="source-inline"><span class="koboSpan" id="kobo.62.1">degit</span></strong><span class="koboSpan" id="kobo.63.1"> project</span><a id="_idIndexMarker770"/><span class="koboSpan" id="kobo.64.1"> scaffolding command is helpful for creating a project structure based </span><span class="No-Break"><span class="koboSpan" id="kobo.65.1">on RTK:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.66.1">
npx degit reduxjs/redux-templates/packages/vite-template-redux onestop-electronics</span></pre> <p><span class="koboSpan" id="kobo.67.1">This template creates a project based on TypeScript (</span><strong class="source-inline"><span class="koboSpan" id="kobo.68.1">.tsx</span></strong><span class="koboSpan" id="kobo.69.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.70.1">.ts</span></strong><span class="koboSpan" id="kobo.71.1"> files), with the required type definition dependencies for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.72.1">react</span></strong><span class="koboSpan" id="kobo.73.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.74.1">react-dom</span></strong><span class="koboSpan" id="kobo.75.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.76.1">and</span></strong> <span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.77.1">jest</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.78.1"> packages.</span></span></p>
<p><span class="koboSpan" id="kobo.79.1">The project will use React Router to navigate the pages in the application and </span><strong class="source-inline"><span class="koboSpan" id="kobo.80.1">FormatJS</span></strong><span class="koboSpan" id="kobo.81.1">, which is a modular collection of JavaScript libraries to support internationalization, using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.82.1">React Intl</span></strong><span class="koboSpan" id="kobo.83.1"> library. </span><span class="koboSpan" id="kobo.83.2">The commands to install these packages are </span><span class="No-Break"><span class="koboSpan" id="kobo.84.1">listed here:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.85.1">
npm install --save react-router-dom
npm install --save react-intl</span></pre> <p><span class="koboSpan" id="kobo.86.1">There are various approaches to styling React components. </span><span class="koboSpan" id="kobo.86.2">We will use styled-components for this project to write component-based styling. </span><span class="koboSpan" id="kobo.86.3">This package will be installed along with its type definition dependency, as </span><span class="No-Break"><span class="koboSpan" id="kobo.87.1">shown here:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.88.1">
npm install --save styled-components
npm install --save-dev @types/styled-components</span></pre> <p><span class="koboSpan" id="kobo.89.1">styled-components</span><a id="_idIndexMarker771"/><span class="koboSpan" id="kobo.90.1"> was discussed in </span><a href="B18603_07.xhtml#_idTextAnchor239"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.91.1">Chapter 7</span></em></span></a><span class="koboSpan" id="kobo.92.1">. </span><span class="koboSpan" id="kobo.92.2">You can also find more details and features on the official </span><span class="No-Break"><span class="koboSpan" id="kobo.93.1">website: </span></span><a href="https://styled-components.com"><span class="No-Break"><span class="koboSpan" id="kobo.94.1">https://styled-components.com</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.95.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.96.1">The Firebase cloud-based development platform will be used for this application to implement an authentication mechanism and backend data storage. </span><span class="koboSpan" id="kobo.96.2">So, let’s install the latest Firebase version with the </span><span class="No-Break"><span class="koboSpan" id="kobo.97.1">following command:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.98.1">
npm install --save firebase</span></pre> <p><span class="koboSpan" id="kobo.99.1">Once the application folder structure is created and the aforementioned dependencies are installed, let’s create a few more folders to customize the project as per the tech stack. </span><span class="koboSpan" id="kobo.99.2">The important folders are</span><a id="_idIndexMarker772"/><span class="koboSpan" id="kobo.100.1"> listed </span><span class="No-Break"><span class="koboSpan" id="kobo.101.1">as follows:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.102.1">app/store</span></strong><span class="koboSpan" id="kobo.103.1">: The </span><strong class="source-inline"><span class="koboSpan" id="kobo.104.1">store</span></strong><span class="koboSpan" id="kobo.105.1"> folder is used to create various components of RTK, such as actions or action creators, reducers, </span><span class="No-Break"><span class="koboSpan" id="kobo.106.1">and selectors</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.107.1">assets</span></strong><span class="koboSpan" id="kobo.108.1">: This folder holds all the image and </span><span class="No-Break"><span class="koboSpan" id="kobo.109.1">icon files</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.110.1">backend</span></strong><span class="koboSpan" id="kobo.111.1">: This contains the Firebase-related API and e-commerce </span><span class="No-Break"><span class="koboSpan" id="kobo.112.1">application data</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.113.1">features</span></strong><span class="koboSpan" id="kobo.114.1">: The folder is dedicated to the main pages for the </span><span class="No-Break"><span class="koboSpan" id="kobo.115.1">web application</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.116.1">i18n</span></strong><span class="koboSpan" id="kobo.117.1">: This contains all the </span><span class="No-Break"><span class="koboSpan" id="kobo.118.1">internationalization-specific files</span></span></li>
</ul>
<p><strong class="bold"><span class="koboSpan" id="kobo.119.1">Visual Studio</span></strong><span class="koboSpan" id="kobo.120.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.121.1">VS</span></strong><span class="koboSpan" id="kobo.122.1">) Code is widely used and</span><a id="_idIndexMarker773"/><span class="koboSpan" id="kobo.123.1"> quite popular for React development. </span><span class="koboSpan" id="kobo.123.2">So, we will use it for this project and the folder structure, after adding all the aforementioned folders, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.124.1">following figure:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer047">
<span class="koboSpan" id="kobo.125.1"><img alt="Figure 11.1: The application folder structure" src="image/Figure_11.01_B18603.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.126.1">Figure 11.1: The application folder structure</span></p>
<p><span class="koboSpan" id="kobo.127.1">VS Code provides a big list of extensions in its marketplace. </span><span class="koboSpan" id="kobo.127.2">In this project, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.128.1">vscode-styled-components</span></strong><span class="koboSpan" id="kobo.129.1"> extension </span><a id="_idIndexMarker774"/><span class="koboSpan" id="kobo.130.1">will be used to highlight the syntax of styled-components, and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.131.1">Prettier</span></strong><span class="koboSpan" id="kobo.132.1"> code formatter extension will be used to </span><span class="No-Break"><span class="koboSpan" id="kobo.133.1">format code.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.134.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.135.1">There is no restriction to use a specific IDE. </span><span class="koboSpan" id="kobo.135.2">You can use any popular IDE based on your preference and </span><span class="No-Break"><span class="koboSpan" id="kobo.136.1">required features.</span></span></p>
<p><span class="koboSpan" id="kobo.137.1">In the following section, we will be introduced to Firebase’s services and required configuration and learn about Firebase Authentication and the backend, before proceeding with </span><span class="No-Break"><span class="koboSpan" id="kobo.138.1">its implementation.</span></span></p>
<h1 id="_idParaDest-321"><a id="_idTextAnchor320"/><span class="koboSpan" id="kobo.139.1">Introducing Firebase services and configuring the application</span></h1>
<p><span class="koboSpan" id="kobo.140.1">Firebase is a comprehensive </span><strong class="bold"><span class="koboSpan" id="kobo.141.1">backend as a service</span></strong><span class="koboSpan" id="kobo.142.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.143.1">BaaS</span></strong><span class="koboSpan" id="kobo.144.1">) provider offered by Google that </span><a id="_idIndexMarker775"/><span class="koboSpan" id="kobo.145.1">provides database, authentication, cloud storage, analytics, and many other </span><a id="_idIndexMarker776"/><span class="koboSpan" id="kobo.146.1">services on the fly. </span><span class="koboSpan" id="kobo.146.2">These backend services help developers to build apps faster and more securely without requiring much </span><span class="No-Break"><span class="koboSpan" id="kobo.147.1">programming code.</span></span></p>
<h2 id="_idParaDest-322"><a id="_idTextAnchor321"/><span class="koboSpan" id="kobo.148.1">What are the main features of Firebase?</span></h2>
<p><span class="koboSpan" id="kobo.149.1">To get a clearer idea of Firebase, we will look at some of its main features. </span><span class="koboSpan" id="kobo.149.2">They are listed </span><span class="No-Break"><span class="koboSpan" id="kobo.150.1">as follows:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.151.1">Realtime Database</span></strong><span class="koboSpan" id="kobo.152.1">: The Firebase Realtime Database is a cloud-hosted NoSQL database. </span><span class="koboSpan" id="kobo.152.2">The data is stored in the </span><a id="_idIndexMarker777"/><span class="koboSpan" id="kobo.153.1">JSON format and synchronized in real time for every connected client. </span><span class="koboSpan" id="kobo.153.2">The database supports all types of platforms such as Android, iOS, and </span><span class="No-Break"><span class="koboSpan" id="kobo.154.1">web platforms.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.155.1">Here, </span><em class="italic"><span class="koboSpan" id="kobo.156.1">Realtime</span></em><span class="koboSpan" id="kobo.157.1"> means that any changes to data are reflected immediately across the platforms and devices within a few milliseconds. </span><span class="koboSpan" id="kobo.157.2">Moreover, the Realtime Database provides great offline support by caching all the data you have queried and retrieving it from the cache whenever there’s no internet connection. </span><span class="koboSpan" id="kobo.157.3">Once a device is connected back to the internet, the database synchronizes the local data changes to the original remote data to avoid any conflicts occurring with the internet outage. </span><span class="koboSpan" id="kobo.157.4">As a result, the apps </span><span class="No-Break"><span class="koboSpan" id="kobo.158.1">remain responsive.</span></span></p></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.159.1">Authentication</span></strong><span class="koboSpan" id="kobo.160.1">: Firebase Authentication is a backend service used to provide user authentication, using email, password, phone number, and popular federated identity providers, such </span><a id="_idIndexMarker778"/><span class="koboSpan" id="kobo.161.1">as Google, Facebook, Twitter/X, GitHub, </span><span class="No-Break"><span class="koboSpan" id="kobo.162.1">and Apple.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.163.1">Once you upgrade from a basic Authentication product to Firebase Authentication with Identity Platform (</span><a href="https://firebase.google.com/docs/auth#identity-platform"><span class="koboSpan" id="kobo.164.1">https://firebase.google.com/docs/auth#identity-platform</span></a><span class="koboSpan" id="kobo.165.1">), you will get additional </span><a id="_idIndexMarker779"/><span class="koboSpan" id="kobo.166.1">features such as </span><strong class="bold"><span class="koboSpan" id="kobo.167.1">Multi-Factor Authentication</span></strong><span class="koboSpan" id="kobo.168.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.169.1">MFA</span></strong><span class="koboSpan" id="kobo.170.1">), enhanced logging, user activity, blocking functions, </span><strong class="bold"><span class="koboSpan" id="kobo.171.1">Security Assertion Markup Language</span></strong><span class="koboSpan" id="kobo.172.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.173.1">SAML</span></strong><span class="koboSpan" id="kobo.174.1">) support for web and OpenID Connect providers, multi-tenancy, and </span><a id="_idIndexMarker780"/><span class="koboSpan" id="kobo.175.1">enterprise-grade support. </span><span class="koboSpan" id="kobo.175.2">Even though this Identity Platform product is a paid service, you will be able to use the service without being charged if you keep within the </span><span class="No-Break"><span class="koboSpan" id="kobo.176.1">daily limits.</span></span></p><p class="list-inset"><span class="koboSpan" id="kobo.177.1">You will get the flexibility to use either the Firebase Authentication SDK to manually integrate sign-in methods or the </span><strong class="source-inline"><span class="koboSpan" id="kobo.178.1">FirebaseUI</span></strong><span class="koboSpan" id="kobo.179.1"> library as a complete ready-made UI </span><span class="No-Break"><span class="koboSpan" id="kobo.180.1">authentication solution.</span></span></p></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.181.1">Cloud Storage</span></strong><span class="koboSpan" id="kobo.182.1">: Cloud Storage is a simple cost-effective storage service for application developers who need to store and process user-generated large-content files, such as images, audio, videos, and any other object type. </span><span class="koboSpan" id="kobo.182.2">You can use either the Firebase SDKs or Google Cloud Storage APIs to access those content files. </span><span class="koboSpan" id="kobo.182.3">The Firebase SDKs enable secure uploads and downloads from </span><span class="No-Break"><span class="koboSpan" id="kobo.183.1">clients directly.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.184.1">Google Analytics and Crashlytics</span></strong><span class="koboSpan" id="kobo.185.1">: Google Analytics for Firebase is a free app measurement solution that helps you get insights into app usage and user engagement. </span><span class="koboSpan" id="kobo.185.2">This service provides unlimited reporting of up to 500 distinct events, defined using the Firebase SDK. </span><span class="koboSpan" id="kobo.185.3">This analytics information can be used for business growth by retaining more users and making wise decisions for marketing and </span><span class="No-Break"><span class="koboSpan" id="kobo.186.1">performance optimizations.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.187.1">Crashlytics is a real-time crash reporting tool that collects details about errors and crashes that occurred in </span><a id="_idIndexMarker781"/><span class="koboSpan" id="kobo.188.1">your application. </span><span class="koboSpan" id="kobo.188.2">This is helpful to troubleshoot an issue by logging the error details, such as the line number where the error happened, the device name, the OS version, and when the </span><span class="No-Break"><span class="koboSpan" id="kobo.189.1">issue happened.</span></span></p></li>
</ul>
<h2 id="_idParaDest-323"><a id="_idTextAnchor322"/><span class="koboSpan" id="kobo.190.1">How do you set up and configure Firebase for authentication and data storage?</span></h2>
<p><span class="koboSpan" id="kobo.191.1">If the project that you build is based </span><a id="_idIndexMarker782"/><span class="koboSpan" id="kobo.192.1">on the Firebase backend, you need to take the following steps to create a </span><span class="No-Break"><span class="koboSpan" id="kobo.193.1">Firebase app:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.194.1">Go to the official Firebase console at </span><a href="https://console.firebase.google.com/"><span class="koboSpan" id="kobo.195.1">https://console.firebase.google.com/</span></a><span class="koboSpan" id="kobo.196.1"> and log in with your </span><span class="No-Break"><span class="koboSpan" id="kobo.197.1">Google account.</span></span></li>
<li><span class="koboSpan" id="kobo.198.1">Click on the </span><strong class="bold"><span class="koboSpan" id="kobo.199.1">Add Project</span></strong><span class="koboSpan" id="kobo.200.1"> link and give your project a name – for instance, let’s name it </span><strong class="source-inline"><span class="koboSpan" id="kobo.201.1">onestop-electronics</span></strong><span class="koboSpan" id="kobo.202.1">. </span><span class="koboSpan" id="kobo.202.2">After that, click on the </span><strong class="bold"><span class="koboSpan" id="kobo.203.1">Continue</span></strong><span class="koboSpan" id="kobo.204.1"> button to proceed with the </span><span class="No-Break"><span class="koboSpan" id="kobo.205.1">configuration wizard.</span></span></li>
<li><span class="koboSpan" id="kobo.206.1">You will get the option to enable Google Analytics for your project. </span><span class="koboSpan" id="kobo.206.2">This is optional and not required for </span><span class="No-Break"><span class="koboSpan" id="kobo.207.1">this project.</span></span></li>
<li><span class="koboSpan" id="kobo.208.1">Then, click on </span><strong class="bold"><span class="koboSpan" id="kobo.209.1">Create project</span></strong><span class="koboSpan" id="kobo.210.1">. </span><span class="koboSpan" id="kobo.210.2">You need to wait for a while to provision the resources and finish the setup of </span><span class="No-Break"><span class="koboSpan" id="kobo.211.1">the project.</span></span></li>
<li><span class="koboSpan" id="kobo.212.1">Click on the web icon on the home page of your project to create your web app. </span><span class="koboSpan" id="kobo.212.2">This opens a form to enter the web app name. </span><span class="koboSpan" id="kobo.212.3">Then click on the </span><strong class="bold"><span class="koboSpan" id="kobo.213.1">Register App</span></strong><span class="koboSpan" id="kobo.214.1"> button to integrate the web app </span><span class="No-Break"><span class="koboSpan" id="kobo.215.1">with Firebase.</span></span></li>
<li><span class="koboSpan" id="kobo.216.1">Then, copy the web app’s Firebase-generated configuration, and save it for later usage in </span><span class="No-Break"><span class="koboSpan" id="kobo.217.1">the project.</span></span></li>
<li><span class="koboSpan" id="kobo.218.1">After that, add Firebase products named </span><strong class="source-inline"><span class="koboSpan" id="kobo.219.1">Authentication</span></strong><span class="koboSpan" id="kobo.220.1"> to build a secure authentication system and </span><strong class="source-inline"><span class="koboSpan" id="kobo.221.1">Cloud Firestore</span></strong><span class="koboSpan" id="kobo.222.1"> for the cloud-hosted NoSQL database used in </span><span class="No-Break"><span class="koboSpan" id="kobo.223.1">the</span></span><span class="No-Break"><a id="_idIndexMarker783"/></span><span class="No-Break"><span class="koboSpan" id="kobo.224.1"> project.</span></span></li>
</ol>
<p class="callout-heading"><span class="koboSpan" id="kobo.225.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.226.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.227.1">Authentication</span></strong><span class="koboSpan" id="kobo.228.1"> product is used to store the authenticated user on sign-up, and update the user on every sign-in operation, whereas the Firestore database will store the </span><span class="No-Break"><span class="koboSpan" id="kobo.229.1">application data.</span></span></p>
<ol>
<li value="8"><span class="koboSpan" id="kobo.230.1">By default, Firestore doesn’t provide read or write permissions. </span><span class="koboSpan" id="kobo.230.2">This permission flag can be enabled inside the </span><strong class="bold"><span class="koboSpan" id="kobo.231.1">Rules</span></strong><span class="koboSpan" id="kobo.232.1"> tab. </span><span class="koboSpan" id="kobo.232.2">The updated security rule looks </span><span class="No-Break"><span class="koboSpan" id="kobo.233.1">like this:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.234.1">
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if true;
    }
  }
}</span></pre></li> <li><span class="koboSpan" id="kobo.235.1">In the </span><strong class="source-inline"><span class="koboSpan" id="kobo.236.1">Authentication</span></strong><span class="koboSpan" id="kobo.237.1"> product, you can choose sign-in methods such as </span><em class="italic"><span class="koboSpan" id="kobo.238.1">email/password</span></em><span class="koboSpan" id="kobo.239.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.240.1">Google</span></em><span class="koboSpan" id="kobo.241.1"> providers. </span><span class="koboSpan" id="kobo.241.2">You can also find several other third-party providers under the sign-in </span><span class="No-Break"><span class="koboSpan" id="kobo.242.1">provider section.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.243.1">You can create multiple projects under a single account, but there is a limit for the </span><span class="No-Break"><span class="koboSpan" id="kobo.244.1">free plan.</span></span></p>
<h2 id="_idParaDest-324"><a id="_idTextAnchor323"/><span class="koboSpan" id="kobo.245.1">Where do you put Firebase configuration securely in the project?</span></h2>
<p><span class="koboSpan" id="kobo.246.1">It is not recommended to store the </span><a id="_idIndexMarker784"/><span class="koboSpan" id="kobo.247.1">Firebase configuration in a repository that will be available on a public development platform, such as GitHub. </span><span class="koboSpan" id="kobo.247.2">You can keep the configuration in the following </span><strong class="source-inline"><span class="koboSpan" id="kobo.248.1">.env.local</span></strong><span class="koboSpan" id="kobo.249.1"> file in the key-value format, and add it to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.250.1">.gitignore</span></strong><span class="koboSpan" id="kobo.251.1"> file of </span><span class="No-Break"><span class="koboSpan" id="kobo.252.1">the project:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.253.1">
VITE_FIREBASE_API_KEY = "yourfirebaseapikey"
VITE_FIREBASE_AUTH_DOMAIN = "yourfirebaseauthdomain"
VITE_FIREBASE_PROJECT_ID = "yourfirebaseprojectid"
VITE_FIREBASE_STORAGE_BUCKET = "yourfirebasestoragebucket"
VITE_FIREBASE_MESSAGING_SENDER_ID =
  "yourfirebasemessagingsenderid"
VITE_FIREBASE_APP_ID = "yourfirebaseappid"</span></pre> <p><span class="koboSpan" id="kobo.254.1">The keys should start with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.255.1">VITE</span></strong><span class="koboSpan" id="kobo.256.1"> keyword in a Vite-based project, as shown in the preceding code. </span><span class="koboSpan" id="kobo.256.2">The same keys are accessible in the project through </span><strong class="source-inline"><span class="koboSpan" id="kobo.257.1">import.meta.env.VITE</span></strong><span class="koboSpan" id="kobo.258.1">. </span><span class="koboSpan" id="kobo.258.2">For instance, this configuration is useful to instantiate the Firebase app in the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.259.1">config.ts</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.260.1"> file:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.261.1">
import { initializeApp } from "firebase/app"
const firebaseConfig = {
  apiKey: import.meta.env.VITE_FIREBASE_API_KEY,
  authDomain: import.meta.env.VITE_FIREBASE_AUTH_DOMAIN,
  projectId: import.meta.env.VITE_FIREBASE_PROJECT_ID,
  storageBucket: import.meta.env.
</span><span class="koboSpan" id="kobo.261.2">    VITE_FIREBASE_STORAGE_BUCKET,
  messagingSenderId: import.meta.env.
</span><span class="koboSpan" id="kobo.261.3">    VITE_FIREBASE_SENDER_ID,
  appId: import.meta.env.VITE_FIREBASE_APP_ID,
}
export const firebaseApp = initializeApp(firebaseConfig)</span></pre> <p><span class="koboSpan" id="kobo.262.1">The exported </span><strong class="source-inline"><span class="koboSpan" id="kobo.263.1">firebaseApp</span></strong><span class="koboSpan" id="kobo.264.1"> from the preceding code can be used anywhere in the project when it </span><span class="No-Break"><span class="koboSpan" id="kobo.265.1">is required.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.266.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.267.1">If you create a React project based on the </span><strong class="bold"><span class="koboSpan" id="kobo.268.1">create-react-app</span></strong><span class="koboSpan" id="kobo.269.1"> tool, the keys should start with </span><strong class="source-inline"><span class="koboSpan" id="kobo.270.1">REACT_APP</span></strong><span class="koboSpan" id="kobo.271.1"> and be accessible through the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.272.1">process.env</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.273.1"> variables.</span></span></p>
<p><span class="koboSpan" id="kobo.274.1">Once the Firebase project is </span><a id="_idIndexMarker785"/><span class="koboSpan" id="kobo.275.1">configured, we need to implement the Firebase authentication methods that will be invoked upon sign-up and sign-in form submission. </span><span class="koboSpan" id="kobo.275.2">Simultaneously, Cloud Firestore data operations should be implemented in the form of methods to store and retrieve product information. </span><span class="koboSpan" id="kobo.275.3">The following section will focus on this Firebase </span><span class="No-Break"><span class="koboSpan" id="kobo.276.1">API implementation.</span></span></p>
<h1 id="_idParaDest-325"><a id="_idTextAnchor324"/><span class="koboSpan" id="kobo.277.1">Implementing Firebase Authentication and its backend</span></h1>
<p><span class="koboSpan" id="kobo.278.1">Once the Firebase app is </span><a id="_idIndexMarker786"/><span class="koboSpan" id="kobo.279.1">configured in the Firebase console, you can implement authentication for the One Stop Electronics application using the Firebase Authentication API. </span><span class="koboSpan" id="kobo.279.2">These API methods are helpful to authenticate legitimate users when they sign up and sign in to purchase products in this e-commerce application. </span><span class="koboSpan" id="kobo.279.3">Usually, we create all the API handlers inside a separate folder (in our case, </span><strong class="source-inline"><span class="koboSpan" id="kobo.280.1">backend-&gt;firebase-&gt;api</span></strong><span class="koboSpan" id="kobo.281.1">) to keep it separate from the </span><span class="No-Break"><span class="koboSpan" id="kobo.282.1">frontend code.</span></span></p>
<h2 id="_idParaDest-326"><a id="_idTextAnchor325"/><span class="koboSpan" id="kobo.283.1">How do you implement Firebase authentication for sign-in, sign-up, and sign-out scenarios?</span></h2>
<p><span class="koboSpan" id="kobo.284.1">We need to import several Firebase functions and utilities from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.285.1">Firebase/auth</span></strong><span class="koboSpan" id="kobo.286.1"> package to work with the authentication </span><a id="_idIndexMarker787"/><span class="koboSpan" id="kobo.287.1">mechanism. </span><span class="koboSpan" id="kobo.287.2">The Firebase package provides separate methods for sign-in, sign-up, and sign-out scenarios. </span><span class="koboSpan" id="kobo.287.3">Let’s start by importing all these API methods along with a Firebase instance inside the following </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.288.1">api/auth.ts</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.289.1"> file:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.290.1">
import { firebaseApp } from "@/backend/firebase/config"
import {
  signInWithEmailAndPassword,
  signInWithPopup,
  signInWithRedirect,
  GoogleAuthProvider,
  createUserWithEmailAndPassword,
  updateProfile,
  signOut,
  getAuth,
  onAuthStateChanged,
  NextOrObserver,
  User,
} from "firebase/auth"
const auth = getAuth(firebaseApp)
const googleProvider = new GoogleAuthProvider()
googleProvider.setCustomParameters({
  prompt: "select_account",
})</span></pre> <p><span class="koboSpan" id="kobo.291.1">In the preceding code, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.292.1">auth</span></strong><span class="koboSpan" id="kobo.293.1"> instance has been created based on the Firebase app instance. </span><span class="koboSpan" id="kobo.293.2">Also, the Google provider has been configured to prompt for Google account details to perform Google </span><span class="No-Break"><span class="koboSpan" id="kobo.294.1">sign-in authentication.</span></span></p>
<p><span class="koboSpan" id="kobo.295.1">Using the preceding API utilities, write down the two sign-in methods in the same file mentioned above – one with an email address and a password, and</span><a id="_idIndexMarker788"/><span class="koboSpan" id="kobo.296.1"> another one using Google sign-in authentication. </span><span class="koboSpan" id="kobo.296.2">Similarly, the sign-up method can be created based on an email address and a password, along with a username. </span><span class="koboSpan" id="kobo.296.3">The sign-out method will be used to end the current user session. </span><span class="koboSpan" id="kobo.296.4">The following </span><strong class="source-inline"><span class="koboSpan" id="kobo.297.1">auth.ts</span></strong><span class="koboSpan" id="kobo.298.1"> file is updated with these </span><span class="No-Break"><span class="koboSpan" id="kobo.299.1">authentication methods:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.300.1">
export const signInEmailAndPassword = async (
  email: string,
  password: string,
) =&gt; {
  if (!email || !password) return
  return await signInWithEmailAndPassword(auth,
    email, password)
}
export const signInGooglePopup = () =&gt; signInWithPopup
  (auth, googleProvider)
export const signInGoogleRedirect = () =&gt;
  signInWithRedirect(auth, googleProvider)
export const signUpEmailAndPassword = async (
  displayName: string,
  email: string,
  password: string,
): Promise&lt;User&gt; =&gt; {
  Const userInfo = await createUserWithEmailAndPassword
    (auth, email, password)
  await updateProfile(userInfo.user, { displayName })
  return userInfo.user
}
export const signOutUser = async () =&gt; await signOut(auth)</span></pre> <p><span class="koboSpan" id="kobo.301.1">The preceding exported methods will be integrated with UI screens, especially for sign-in or sign-up forms, in the upcoming section where we will build the </span><span class="No-Break"><span class="koboSpan" id="kobo.302.1">presentation layer.</span></span></p>
<p><span class="koboSpan" id="kobo.303.1">Lastly, it is also possible to listen </span><a id="_idIndexMarker789"/><span class="koboSpan" id="kobo.304.1">to the authenticate state changes using the following method. </span><span class="koboSpan" id="kobo.304.2">This method is helpful to update the current user details in </span><span class="No-Break"><span class="koboSpan" id="kobo.305.1">the application:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.306.1">
export const onAuthStateChangedListener =
  (callback: NextOrObserver&lt;User&gt;) =&gt;
  onAuthStateChanged(auth, callback)</span></pre> <p><span class="koboSpan" id="kobo.307.1">Now, we are ready with all the backend authentication methods, which are helpful to create an active user session</span><a id="_idIndexMarker790"/><span class="koboSpan" id="kobo.308.1"> in the e-commerce application. </span><span class="koboSpan" id="kobo.308.2">Once the user is authenticated, they can usually perform </span><strong class="bold"><span class="koboSpan" id="kobo.309.1">create, read, update, and delete </span></strong><span class="koboSpan" id="kobo.310.1">(</span><strong class="bold"><span class="koboSpan" id="kobo.311.1">CRUD</span></strong><span class="koboSpan" id="kobo.312.1">) operations on the application data, based on </span><span class="No-Break"><span class="koboSpan" id="kobo.313.1">business needs.</span></span></p>
<h2 id="_idParaDest-327"><a id="_idTextAnchor326"/><span class="koboSpan" id="kobo.314.1">How do you implement cloud store data operations? </span><span class="koboSpan" id="kobo.314.2">Can you explain data operations with any collection?</span></h2>
<p><span class="koboSpan" id="kobo.315.1">Unlike a SQL database, there are </span><a id="_idIndexMarker791"/><span class="koboSpan" id="kobo.316.1">no tables and rows within a cloud store database. </span><span class="koboSpan" id="kobo.316.2">Here, you store data as key-value pairs in the form of documents, which are organized into collections. </span><span class="koboSpan" id="kobo.316.3">The stored product information is displayed as a part of a landing page, which is crucial in this e-commerce application. </span><span class="koboSpan" id="kobo.316.4">So, let’s explain data operations with a </span><span class="No-Break"><span class="koboSpan" id="kobo.317.1">product collection.</span></span></p>
<p><span class="koboSpan" id="kobo.318.1">First, we need to create a product collection to store the electronic device data in Firebase’s </span><em class="italic"><span class="koboSpan" id="kobo.319.1">Cloud Firestore</span></em><span class="koboSpan" id="kobo.320.1"> database. </span><span class="koboSpan" id="kobo.320.2">If the collection does not exist in the database, it will be created automatically and insert the product data. </span><span class="koboSpan" id="kobo.320.3">In this application, the product records (or documents, using Firebase’s terminology) are uploaded to the database through a JSON file, available </span><span class="No-Break"><span class="koboSpan" id="kobo.321.1">at </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.322.1">firebase/data/products-data.json</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.323.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.324.1">Let’s start by importing all the required functions from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.325.1">firebase/firestore</span></strong><span class="koboSpan" id="kobo.326.1"> package, along with the product type, inside the following </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.327.1">firebase/data/db-utils.ts</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.328.1"> file:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.329.1">
import {
  getFirestore,
  doc,
  collection,
  writeBatch,
  query,
  getDocs,
  QueryDocumentSnapshot,
} from "firebase/firestore"
import { Product } from "@/app/store/product/product.types"
export const db = getFirestore()</span></pre> <p><span class="koboSpan" id="kobo.330.1">In the preceding code snippet, the database instance is created through the </span><strong class="source-inline"><span class="koboSpan" id="kobo.331.1">getFirestore()</span></strong><span class="koboSpan" id="kobo.332.1"> function to perform database operations on the </span><span class="No-Break"><span class="koboSpan" id="kobo.333.1">application collections.</span></span></p>
<p><span class="koboSpan" id="kobo.334.1">Using the previously imported </span><a id="_idIndexMarker792"/><span class="koboSpan" id="kobo.335.1">functions, you can create read and write operations for the product collection in the </span><span class="No-Break"><span class="koboSpan" id="kobo.336.1">same file:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.337.1">
export const insertProductsData = async &lt;T extends Product&gt;(
  collectionKey: string,
  productItems: T[],
) =&gt; {
  const collectionRef = collection(db, collectionKey)
  const batch = writeBatch(db)
  productItems.forEach((product) =&gt; {
    const docRef = doc(collectionRef)
    batch.set(docRef, product)
  })
  await batch.commit()
}
export const fetchProductsData = async () =&gt; {
  const collectionRef = collection(db, "products")
  const queryRef = query(collectionRef)
  const querySnapshot = await getDocs(queryRef)
  return querySnapshot.docs.map((docSnapshot) =&gt;
    docSnapshot.data())
}</span></pre> <p><span class="koboSpan" id="kobo.338.1">In the preceding code, the product data is inserted with the help of the following </span><span class="No-Break"><span class="koboSpan" id="kobo.339.1">four steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.340.1">First, create a collection reference, which is based on the database instance and </span><span class="No-Break"><span class="koboSpan" id="kobo.341.1">unique key.</span></span></li>
<li><span class="koboSpan" id="kobo.342.1">Then, create a batch </span><a id="_idIndexMarker793"/><span class="koboSpan" id="kobo.343.1">reference based on the database instance to insert multiple products at </span><span class="No-Break"><span class="koboSpan" id="kobo.344.1">a time.</span></span></li>
<li><span class="koboSpan" id="kobo.345.1">Iterate each product, and create a document reference to update </span><span class="No-Break"><span class="koboSpan" id="kobo.346.1">the batch.</span></span></li>
<li><span class="koboSpan" id="kobo.347.1">Finally, commit the batch to insert multiple </span><span class="No-Break"><span class="koboSpan" id="kobo.348.1">records simultaneously.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.349.1">Similarly, the product data is retrieved in </span><span class="No-Break"><span class="koboSpan" id="kobo.350.1">four steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.351.1">First, create a collection reference </span><span class="No-Break"><span class="koboSpan" id="kobo.352.1">for products.</span></span></li>
<li><span class="koboSpan" id="kobo.353.1">Then, create a query reference based on the collection reference created in the </span><span class="No-Break"><span class="koboSpan" id="kobo.354.1">previous step.</span></span></li>
<li><span class="koboSpan" id="kobo.355.1">Fetch all the documents of the product collection using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.356.1">getDocs</span></strong><span class="koboSpan" id="kobo.357.1"> method, and store them as </span><span class="No-Break"><span class="koboSpan" id="kobo.358.1">a snapshot.</span></span></li>
<li><span class="koboSpan" id="kobo.359.1">Finally, iterate through the query snapshot and return </span><span class="No-Break"><span class="koboSpan" id="kobo.360.1">the results.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.361.1">All the preceding cloud store data functions are imported from the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.362.1">firebase/firestore</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.363.1"> package.</span></span></p>
<p><span class="koboSpan" id="kobo.364.1">It is also possible to create a user collection based on each sign-up action, triggered through the new user. </span><span class="koboSpan" id="kobo.364.2">You can find this specific API handler within the code and extend the functionality of this project as per the requirements. </span><span class="koboSpan" id="kobo.364.3">However, this is out of the scope of this specific section and is the code snippet is only commented on </span><span class="No-Break"><span class="koboSpan" id="kobo.365.1">for reference.</span></span></p>
<p><span class="koboSpan" id="kobo.366.1">Now, we have completed the backend code. </span><span class="koboSpan" id="kobo.366.2">In the following section, let’s create all the Redux components to implement a state management solution for </span><span class="No-Break"><span class="koboSpan" id="kobo.367.1">this application.</span></span></p>
<h1 id="_idParaDest-328"><a id="_idTextAnchor327"/><span class="koboSpan" id="kobo.368.1">Building the Redux components for state management</span></h1>
<p><span class="koboSpan" id="kobo.369.1">The Redux store-related components</span><a id="_idIndexMarker794"/><span class="koboSpan" id="kobo.370.1"> cover most of the application actions, such as calculating the business logic, creating or updating the data inside the store, and fetching the latest data to display on the UI. </span><span class="koboSpan" id="kobo.370.2">In this project, the store components are categorized into product, cart, and user folders. </span><span class="koboSpan" id="kobo.370.3">Each folder contains files such as the entity type (</span><strong class="source-inline"><span class="koboSpan" id="kobo.371.1">*.type.ts</span></strong><span class="koboSpan" id="kobo.372.1">), a slice that contains actions or a reducer (</span><strong class="source-inline"><span class="koboSpan" id="kobo.373.1">*.slice.ts</span></strong><span class="koboSpan" id="kobo.374.1">), and a selector to retrieve the </span><span class="No-Break"><span class="koboSpan" id="kobo.375.1">data (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.376.1">*.selector.ts</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.377.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.378.1">In our e-commerce application, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.379.1">Product</span></strong><span class="koboSpan" id="kobo.380.1"> entity is required to display details such as product name, brand, price, and quantity to showcase all the available products. </span><span class="koboSpan" id="kobo.380.2">So, let’s create the store components for the product entity first. </span><span class="koboSpan" id="kobo.380.3">The following </span><strong class="source-inline"><span class="koboSpan" id="kobo.381.1">product.type.ts</span></strong><span class="koboSpan" id="kobo.382.1"> file creates the product and its relevant types, with all </span><span class="No-Break"><span class="koboSpan" id="kobo.383.1">possible properties:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.384.1">
export type Product = {
  id: number
  productImageUrl: string
  name: string
  brand: string
  price: number
  category: string
}
//Holds the list of products,product category and boolean flag to indicate loading state
export type ProductsState = {
  products: Product[]
  category: string
  isLoading: boolean
}
export type ProductMap = {
  [key: string]: Product[]
}</span></pre> <p><span class="koboSpan" id="kobo.385.1">Once the product types are created, the product slice should be created to update the product list and product category in</span><a id="_idIndexMarker795"/><span class="koboSpan" id="kobo.386.1"> the store. </span><span class="koboSpan" id="kobo.386.2">RTK simplifies things by keeping these actions inside a reducer as a product slice. </span><span class="koboSpan" id="kobo.386.3">The following is a product slice with the </span><span class="No-Break"><span class="koboSpan" id="kobo.387.1">name </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.388.1">product.slice.ts</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.389.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.390.1">
import { createSlice } from "@reduxjs/toolkit"
import { ProductsState } from "./product.types"
const INITIAL_STATE: ProductsState = {
  products: [],
  category: "all",
  isLoading: true,
}
export const productsSlice = createSlice({
  name: "products",
  initialState: INITIAL_STATE,
  reducers: {
    setProducts(state, action) {
      state.products = action.payload
      state.isLoading = false
    },
    setCategory(state, action) {
      state.category = action.payload
    },
  },
})
export const { setProducts, setCategory } =
  productsSlice.actions
export const productsReducer = productsSlice.reducer</span></pre> <p><span class="koboSpan" id="kobo.391.1">The preceding actions are</span><a id="_idIndexMarker796"/><span class="koboSpan" id="kobo.392.1"> exported in order to use them on the respective product UI page, in response to user actions, whereas the exported reducer is used to fetch the store state, such as the products, the category, and the product map, based on a category name using the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.393.1">reselect</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.394.1"> library.</span></span></p>
<p><span class="koboSpan" id="kobo.395.1">The following code is for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.396.1">product.selector.tsx</span></strong><span class="koboSpan" id="kobo.397.1"> file. </span><span class="koboSpan" id="kobo.397.2">The code for this file is quite long, so let’s break it down into smaller code blocks. </span><span class="koboSpan" id="kobo.397.3">The first code block contains selectors to fetch products, the loading state of the products, and the </span><span class="No-Break"><span class="koboSpan" id="kobo.398.1">product category:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.399.1">
import { createSelector } from "reselect"
import { RootState } from "@/app/store/store"
import { Product, ProductMap, ProductsState }
  from "./product.types"
const selectProductReducer = (state: RootState):
  ProductsState =&gt; state.products
export const selectProducts = createSelector(
  [selectProductReducer],
  (productsSlice) =&gt; productsSlice.products,
)
export const selectCategory = createSelector(
  [selectProductReducer],
  (productsSlice) =&gt; productsSlice.category,
)
export const selectProductsIsLoading = createSelector(
  [selectProductReducer],
  (productsSlice) =&gt; productsSlice.isLoading,
)</span></pre> <p><span class="koboSpan" id="kobo.400.1">The following code block contains a</span><a id="_idIndexMarker797"/><span class="koboSpan" id="kobo.401.1"> product map with respect to </span><span class="No-Break"><span class="koboSpan" id="kobo.402.1">each category:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.403.1">
export const selectProductsMap = createSelector(
  [selectProducts],
  (products): ProductMap =&gt;
    products.reduce(
      (acc, product) =&gt; {
        const { category } = product
        acc[category]
          ? </span><span class="koboSpan" id="kobo.403.2">acc[category].push(product)
          : (acc[category] = [product])
        acc["all"].push(product)
        return acc
      },
      { all: [] } as ProductMap,
    ),
)</span></pre> <p><span class="koboSpan" id="kobo.404.1">The One Stop Electronics application uses the preceding </span><strong class="source-inline"><span class="koboSpan" id="kobo.405.1">selectProductsMap</span></strong><span class="koboSpan" id="kobo.406.1"> to filter the products based on a category. </span><span class="koboSpan" id="kobo.406.2">Our application has various categories such as all types of laptops, tabs, </span><span class="No-Break"><span class="koboSpan" id="kobo.407.1">and </span></span><span class="No-Break"><a id="_idIndexMarker798"/></span><span class="No-Break"><span class="koboSpan" id="kobo.408.1">mobiles.</span></span></p>
<p><span class="koboSpan" id="kobo.409.1">Similarly, we can create store components for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.410.1">User</span></strong><span class="koboSpan" id="kobo.411.1"> and </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.412.1">Cart</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.413.1"> entities.</span></span></p>
<h2 id="_idParaDest-329"><a id="_idTextAnchor328"/><span class="koboSpan" id="kobo.414.1">How do you work with multiple reducers in a Redux application?</span></h2>
<p><span class="koboSpan" id="kobo.415.1">Once you complete all the Redux</span><a id="_idIndexMarker799"/><span class="koboSpan" id="kobo.416.1"> entities for the project, all the reducers need to be combined in a single root reducer named the </span><strong class="source-inline"><span class="koboSpan" id="kobo.417.1">root-reducer.ts</span></strong><span class="koboSpan" id="kobo.418.1"> file. </span><span class="koboSpan" id="kobo.418.2">Here, we will use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.419.1">combineReducers</span></strong><span class="koboSpan" id="kobo.420.1"> method from Redux, which accepts all the reducers as an object in a </span><span class="No-Break"><span class="koboSpan" id="kobo.421.1">single argument:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.422.1">
import { combineReducers } from "redux"
import { userReducer } from "./user/user.slice"
import { productsReducer } from "./product/product.slice"
import { cartReducer } from "./cart/cart.slice"
export const rootReducer = combineReducers({
  user: userReducer,
  products: productsReducer,
  cart: cartReducer,
})</span></pre> <p><span class="koboSpan" id="kobo.423.1">Thereafter, the store can be configured using the aforementioned root reducer inside the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.424.1">store.ts</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.425.1"> file:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.426.1">
import { configureStore } from "@reduxjs/toolkit"
export const store = configureStore({
  reducer: rootReducer,
})</span></pre> <p><span class="koboSpan" id="kobo.427.1">RTK automatically</span><a id="_idIndexMarker800"/><span class="koboSpan" id="kobo.428.1"> calls the </span><strong class="source-inline"><span class="koboSpan" id="kobo.429.1">combineReducers</span></strong><span class="koboSpan" id="kobo.430.1"> method, so you don’t need to invoke </span><span class="No-Break"><span class="koboSpan" id="kobo.431.1">it directly.</span></span></p>
<p><span class="koboSpan" id="kobo.432.1">Now, the store is ready to be used for any </span><strong class="source-inline"><span class="koboSpan" id="kobo.433.1">read</span></strong><span class="koboSpan" id="kobo.434.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.435.1">update</span></strong><span class="koboSpan" id="kobo.436.1"> operations on the </span><span class="No-Break"><span class="koboSpan" id="kobo.437.1">application data.</span></span></p>
<p><span class="koboSpan" id="kobo.438.1">The Redux development is now completed for the entire application using RTK. </span><span class="koboSpan" id="kobo.438.2">The next section is dedicated to building the presentation layer using UI components and web pages based on these </span><span class="No-Break"><span class="koboSpan" id="kobo.439.1">reusable components.</span></span></p>
<h1 id="_idParaDest-330"><a id="_idTextAnchor329"/><span class="koboSpan" id="kobo.440.1">Building the presentation layer</span></h1>
<p><span class="koboSpan" id="kobo.441.1">It is a common practice to keep reusable components under the </span><strong class="source-inline"><span class="koboSpan" id="kobo.442.1">components</span></strong><span class="koboSpan" id="kobo.443.1"> folder. </span><span class="koboSpan" id="kobo.443.2">In this project, we will create customized form components such as button, input, select, and spinner, layout components</span><a id="_idIndexMarker801"/><span class="koboSpan" id="kobo.444.1"> such as header and footer, and reusable functional components such as products and categories inside the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.445.1">components</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.446.1"> folder.</span></span></p>
<h2 id="_idParaDest-331"><a id="_idTextAnchor330"/><span class="koboSpan" id="kobo.447.1">How do you implement a custom button using styled-components?</span></h2>
<p><span class="koboSpan" id="kobo.448.1">The HTML button element doesn’t </span><a id="_idIndexMarker802"/><span class="koboSpan" id="kobo.449.1">come with different variations in terms of styling, but it is possible to create multiple button variations using </span><a id="_idIndexMarker803"/><span class="koboSpan" id="kobo.450.1">React and styled-components. </span><span class="koboSpan" id="kobo.450.2">Let’s look at a button component and how it can be customized for the purposes of </span><span class="No-Break"><span class="koboSpan" id="kobo.451.1">this project.</span></span></p>
<p><span class="koboSpan" id="kobo.452.1">The project requires basic buttons that are bigger in size (mainly used for sign-up and sign-in pages), inverted buttons with constrasting colors for Google sign-in, and small buttons in scenarios where there is not a lot of space on screen (which are often used to add products to a cart). </span><span class="koboSpan" id="kobo.452.2">As a first step, the styled-component should be created with these different styles inside the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.453.1">button.styles.tsx</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.454.1"> file.</span></span></p>
<p><span class="koboSpan" id="kobo.455.1">Let’s break down the </span><a id="_idIndexMarker804"/><span class="koboSpan" id="kobo.456.1">code into small code blocks because of the large content in the file. </span><span class="koboSpan" id="kobo.456.2">The first code block contains</span><a id="_idIndexMarker805"/><span class="koboSpan" id="kobo.457.1"> the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.458.1">BasicButton</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.459.1"> styled-component:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.460.1">
import styled from "styled-components"
export const BasicButton = styled.button`
  min-width: 10rem;
  width: auto;
  height: 2.5rem;
  line-height: 2.5rem;
  letter-spacing: 0.5px;
  padding: 0 2rem;
  background-color: rgb(112, 76, 182);
  color: white;
  font-size: 0.7rem;
  font-family: "Barlow Condensed";
  font-weight: bolder;
  text-transform: uppercase;
  border: none;
  border-radius: 0.2rem;
  cursor: pointer;
  display: flex;
  justify-content: center;
  &amp;:hover {
    background-color: white;
    color: black;
    border: 1px solid black;
  }
`</span></pre> <p><span class="koboSpan" id="kobo.461.1">The following code block </span><a id="_idIndexMarker806"/><span class="koboSpan" id="kobo.462.1">contains two more styled button components that extend the basic button. </span><span class="koboSpan" id="kobo.462.2">The inverted button</span><a id="_idIndexMarker807"/><span class="koboSpan" id="kobo.463.1"> inverts the background and text colors of the basic button, and while the small button appears to be similar to the basic button, it will actually be smaller </span><span class="No-Break"><span class="koboSpan" id="kobo.464.1">in size:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.465.1">
export const InvertedButton = styled(BasicButton)`
  background-color: white;
  color: rgb(112, 76, 182);
  border: 1px solid black;
  &amp;:hover {
    background-color: rgb(112, 76, 182);
    border: none;
    border: 1px solid white;
    color: white;
  }
`
export const SmallBasicButton = styled(BasicButton)`
  width: 4rem;
  height: 1.5rem;
  min-width: 0rem;
  padding: 0rem;
  letter-spacing: 0.1rem;
  line-height: 2rem;
  font-size: 0.4rem;
  align-items: center;
  letter-spacing: 0rem;
`</span></pre> <p><span class="koboSpan" id="kobo.466.1">In the preceding</span><a id="_idIndexMarker808"/><span class="koboSpan" id="kobo.467.1"> styled-components, we have used the </span><strong class="source-inline"><span class="koboSpan" id="kobo.468.1">rem</span></strong><span class="koboSpan" id="kobo.469.1"> relative unit instead of an absolute unit such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.470.1">px</span></strong><span class="koboSpan" id="kobo.471.1"> to have </span><a id="_idIndexMarker809"/><span class="koboSpan" id="kobo.472.1">dynamic sizing or spacing, depending on </span><span class="No-Break"><span class="koboSpan" id="kobo.473.1">screen size.</span></span></p>
<p><span class="koboSpan" id="kobo.474.1">Then, we import these button styles into the following </span><strong class="source-inline"><span class="koboSpan" id="kobo.475.1">button.tsx</span></strong><span class="koboSpan" id="kobo.476.1"> file and dynamically render the respective button component, based on the button’s type prop value. </span><span class="koboSpan" id="kobo.476.2">The component also accepts </span><a id="_idIndexMarker810"/><span class="koboSpan" id="kobo.477.1">children and other </span><span class="No-Break"><span class="koboSpan" id="kobo.478.1">button props:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.479.1">
import { FC, ButtonHTMLAttributes } from "react"
import { BasicButton, InvertedButton, SmallBasicButton }
  from "./button.styles"
export enum BUTTON_TYPE_CLASSES {
  basic = "basic",
  inverted = "inverted",
  small = "small",
}
const getButton = (buttonType = BUTTON_TYPE_CLASSES.basic) =&gt;
  ({
    [BUTTON_TYPE_CLASSES.basic]: BasicButton,
    [BUTTON_TYPE_CLASSES.inverted]: InvertedButton,
    [BUTTON_TYPE_CLASSES.small]: SmallBasicButton,
  }[buttonType])
export type ButtonProps = {
  buttonType?: BUTTON_TYPE_CLASSES
} &amp; ButtonHTMLAttributes&lt;HTMLButtonElement&gt;
const MyButton: FC&lt;ButtonProps&gt; = ({ children, buttonType,
  ...otherProps }) =&gt; {
  const CustomButton = getButton(buttonType)
  return &lt;CustomButton {...otherProps}&gt;
  {children}&lt;/CustomButton&gt;
}
export default MyButton</span></pre> <p><span class="koboSpan" id="kobo.480.1">The preceding </span><strong class="source-inline"><span class="koboSpan" id="kobo.481.1">MyButton</span></strong><span class="koboSpan" id="kobo.482.1"> component is typed in such a way that it accepts only the </span><strong class="source-inline"><span class="koboSpan" id="kobo.483.1">button</span></strong><span class="koboSpan" id="kobo.484.1"> type and other built-in HTML button </span><a id="_idIndexMarker811"/><span class="koboSpan" id="kobo.485.1">attributes as props. </span><span class="koboSpan" id="kobo.485.2">If you pass any other button prop that doesn’t belong to the button element, there will be a compile-time error due to </span><strong class="source-inline"><span class="koboSpan" id="kobo.486.1">TypeScript</span></strong><span class="koboSpan" id="kobo.487.1"> usage. </span><span class="koboSpan" id="kobo.487.2">The usage of the previously customized button appears on</span><a id="_idIndexMarker812"/><span class="koboSpan" id="kobo.488.1"> several pages of </span><span class="No-Break"><span class="koboSpan" id="kobo.489.1">our application.</span></span></p>
<h2 id="_idParaDest-332"><a id="_idTextAnchor331"/><span class="koboSpan" id="kobo.490.1">Implementing business-specific UI components</span></h2>
<p><span class="koboSpan" id="kobo.491.1">Similar to a button component, you</span><a id="_idIndexMarker813"/><span class="koboSpan" id="kobo.492.1"> can create a product box component. </span><span class="koboSpan" id="kobo.492.2">The product component should display the product image, name, brand, and price details in a particular style layout. </span><span class="koboSpan" id="kobo.492.3">Let’s apply all the required styles for each field inside the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.493.1">product.styles.tsx</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.494.1"> file.</span></span></p>
<p><span class="koboSpan" id="kobo.495.1">The first code block contains the styled-components import and the type declaration for the image </span><span class="No-Break"><span class="koboSpan" id="kobo.496.1">background prop:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.497.1">
import styled from "styled-components"
type ImageBackgroundProps = {
  $hasWhiteBackgroundImage: boolean
}</span></pre> <p><span class="koboSpan" id="kobo.498.1">The following code block has a </span><strong class="source-inline"><span class="koboSpan" id="kobo.499.1">ProductContainer</span></strong><span class="koboSpan" id="kobo.500.1"> styled component, which is used to wrap the product image</span><a id="_idIndexMarker814"/><span class="koboSpan" id="kobo.501.1"> and other </span><span class="No-Break"><span class="koboSpan" id="kobo.502.1">product details:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.503.1">
export const ProductContainer = styled.div&lt;ImageBackgroundProps&gt;`
  display: flex;
  flex-direction: column;
  background-color: #f1f1f1;
  padding: 1rem;
  border-radius: 0.125rem;
  img {
    width: 7rem;
    height: 5rem;
    object-fit: fill;
    background-color: #f1f1f1;
    transition: 0.5s all ease-in-out;
    mix-blend-mode: ${(props) =&gt;
      props.$hasWhiteBackgroundImage ? </span><span class="koboSpan" id="kobo.503.2">"multiply" :
        "normal"};
    &amp;:hover {
      transform: scale(1.1);
    }
  }
  &amp;:hover {
    img {
      opacity: 0.8;
    }
    button {
      opacity: 0.85;
      display: flex;
    }
  }
`</span></pre> <p><span class="koboSpan" id="kobo.504.1">The following code block contains a </span><strong class="source-inline"><span class="koboSpan" id="kobo.505.1">Footer</span></strong><span class="koboSpan" id="kobo.506.1"> styled-component, which is used to style and wrap around the </span><a id="_idIndexMarker815"/><span class="No-Break"><span class="koboSpan" id="kobo.507.1">product fields:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.508.1">
export const Footer = styled.div`
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  font-size: 1rem;
  padding-left: 1rem;
`</span></pre> <p><span class="koboSpan" id="kobo.509.1">Finally, we have the styled-component </span><a id="_idIndexMarker816"/><span class="koboSpan" id="kobo.510.1">for each product field declared in order to give them a </span><span class="No-Break"><span class="koboSpan" id="kobo.511.1">unique look:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.512.1">
export const Name = styled.h2`
  font-size: 0.8rem;
  line-height: 1rem;
  font-weight: 600;
  text-transform: capitalize;
  margin-bottom: 1rem;
`
export const Brand = styled.div`
  font-size: 0.6rem;
  line-height: 1rem;
  color: rgb(75 85 99);
  margin-bottom: 0.5rem;
  span {
    font-weight: 600;
    text-transform: capitalize;
  }
`
export const Price = styled.span`
  font-size: 0.6rem;
  line-height: 1rem;
  color: rgb(75 85 99);
  margin-bottom: 1rem;
  span {
    font-weight: 600;
    text-transform: capitalize;
    color: rgb(85, 118, 209);
  }
`</span></pre> <p><span class="koboSpan" id="kobo.513.1">In the preceding styled-component, each product field has its own style. </span><span class="koboSpan" id="kobo.513.2">For example, the name of the product should be in a bigger font size, and the price should be in a different font color to highlight the important data while showcasing </span><span class="No-Break"><span class="koboSpan" id="kobo.514.1">the products.</span></span></p>
<p><span class="koboSpan" id="kobo.515.1">The styled-components</span><a id="_idIndexMarker817"/><span class="koboSpan" id="kobo.516.1"> of the previously completed </span><strong class="source-inline"><span class="koboSpan" id="kobo.517.1">product.styles.tsx</span></strong><span class="koboSpan" id="kobo.518.1"> file will be used in the markup, as shown in the following </span><strong class="source-inline"><span class="koboSpan" id="kobo.519.1">product.tsx</span></strong><span class="koboSpan" id="kobo.520.1"> file. </span><span class="koboSpan" id="kobo.520.2">The component code is quite long, so let’s break it down into smaller </span><span class="No-Break"><span class="koboSpan" id="kobo.521.1">code chunks.</span></span></p>
<p><span class="koboSpan" id="kobo.522.1">First, define the imports of our page, the product’s prop type, and the utility function to verify the non-white </span><span class="No-Break"><span class="koboSpan" id="kobo.523.1">background images:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.524.1">
import { FC } from "react"
import { useDispatch } from "react-redux"
import { useAppSelector } from "@/app/store/hooks"
import { selectCurrentUser } from
  "@/app/store/user/user.selector"
import MyButton, { BUTTON_TYPE_CLASSES } from
  "@/components/button/button"
import { Product } from "@/app/store/product/product.types"
import { addProductToCart } from
  "@/app/store/cart/cart.slice"
import { BRAND_NAMES } from "@/constants"
import { ProductContainer, Footer, Name, Brand, Price }
  from "./product.styles"
type ProductProps = {
  product: Product
}
const hasWhiteBackground = (brand: string) =&gt;
  BRAND_NAMES.includes(brand)</span></pre> <p><span class="koboSpan" id="kobo.525.1">Now, let’s add the </span><strong class="source-inline"><span class="koboSpan" id="kobo.526.1">ProductItem</span></strong><span class="koboSpan" id="kobo.527.1"> component, which accepts </span><strong class="source-inline"><span class="koboSpan" id="kobo.528.1">product</span></strong><span class="koboSpan" id="kobo.529.1"> as a prop without having any markup code. </span><span class="koboSpan" id="kobo.529.2">The</span><a id="_idIndexMarker818"/><span class="koboSpan" id="kobo.530.1"> component declares </span><strong class="source-inline"><span class="koboSpan" id="kobo.531.1">currentUser</span></strong><span class="koboSpan" id="kobo.532.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.533.1">addCartProduct</span></strong><span class="koboSpan" id="kobo.534.1"> to dispatch the product to </span><span class="No-Break"><span class="koboSpan" id="kobo.535.1">the cart:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.536.1">
const ProductItem: FC&lt;ProductProps&gt; = ({ product }) =&gt; {
  const currentUser = useAppSelector(selectCurrentUser)
  const { name, price, productImageUrl, brand } = product
  const dispatch = useDispatch()
  const addCartProduct = () =&gt; dispatch
    (addProductToCart(product))
  return (
   //Markup goes here
     )
}
export default ProductItem</span></pre> <p><span class="koboSpan" id="kobo.537.1">Finally, the rendered </span><a id="_idIndexMarker819"/><span class="koboSpan" id="kobo.538.1">product markup is added, </span><span class="No-Break"><span class="koboSpan" id="kobo.539.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.540.1">
    &lt;ProductContainer $hasWhiteBackgroundImage=
      {hasWhiteBackground(brand)}&gt;
      &lt;img src={productImageUrl} alt={`${name}`} /&gt;
      &lt;Footer&gt;
        &lt;Name&gt;{name}&lt;/Name&gt;
        &lt;Brand&gt;
          Brand: &lt;span&gt;{brand}&lt;/span&gt;
        &lt;/Brand&gt;
        &lt;Price&gt;
          Price:{" "}
          &lt;span&gt;
            ${price}
          &lt;/span&gt;
        &lt;/Price&gt;
        {currentUser &amp;&amp; (
          &lt;MyButton
            buttonType={BUTTON_TYPE_CLASSES.small}
            onClick={addCartProduct} &gt;
            Add to cart
          &lt;/MyButton&gt;
        )}
      &lt;/Footer&gt;
    &lt;/ProductContainer&gt;</span></pre> <p><span class="koboSpan" id="kobo.541.1">The preceding </span><strong class="source-inline"><span class="koboSpan" id="kobo.542.1">ProductItem</span></strong><span class="koboSpan" id="kobo.543.1"> component hides the button to add a product to the cart if the application is not authenticated</span><a id="_idIndexMarker820"/><span class="koboSpan" id="kobo.544.1"> by </span><span class="No-Break"><span class="koboSpan" id="kobo.545.1">the user.</span></span></p>
<p><span class="koboSpan" id="kobo.546.1">Similarly, you can create other UI components to reuse them in the required pages. </span><span class="koboSpan" id="kobo.546.2">Now, let’s build the application pages based on all these reusable </span><span class="No-Break"><span class="koboSpan" id="kobo.547.1">UI components.</span></span></p>
<h2 id="_idParaDest-333"><a id="_idTextAnchor332"/><span class="koboSpan" id="kobo.548.1">Implementing application pages using UI components</span></h2>
<p><span class="koboSpan" id="kobo.549.1">Each web page in a React application is composed of UI components. </span><span class="koboSpan" id="kobo.549.2">Our application requires product landing, add product to cart, sign-up, and sign-in pages. </span><span class="koboSpan" id="kobo.549.3">These pages should be created under</span><a id="_idIndexMarker821"/><span class="koboSpan" id="kobo.550.1"> the </span><strong class="source-inline"><span class="koboSpan" id="kobo.551.1">features</span></strong><span class="koboSpan" id="kobo.552.1"> folder as per the scaffolding structure. </span><span class="koboSpan" id="kobo.552.2">The product’s landing page is created by iterating the </span><strong class="source-inline"><span class="koboSpan" id="kobo.553.1">Product</span></strong><span class="koboSpan" id="kobo.554.1"> component with a list of products. </span><span class="koboSpan" id="kobo.554.2">The following code is for the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.555.1">products.tsx</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.556.1"> file.</span></span></p>
<p><span class="koboSpan" id="kobo.557.1">This file code is quite long, so let’s break it down into smaller code blocks. </span><span class="koboSpan" id="kobo.557.2">This first code block has imports related to React Hooks, components, selectors, and styled-components, </span><span class="No-Break"><span class="koboSpan" id="kobo.558.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.559.1">
import { useState, useEffect, Fragment } from "react"
import { useParams } from "react-router-dom"
import { useAppSelector } from "@/app/store/hooks"
import ProductItem from "@/components/product/product"
import MySpinner from "@/components/spinner/spinner"
import { insertProductsData } from
  "@/backend/firebase/api/db-utils"
import { Product } from "@/app/store/product/product.types"
import {
  selectProductsMap,
  selectCategory,
  selectProductsIsLoading,
} from "@/app/store/product/product.selector"
import { Categories } from "@/components/
  categories/categories"
import {
  ProductsContainer,
  Title,
  LayoutContainer,
  LoaderContainer,
} from "./products.styles"
const Products = () =&gt; {
     // The component code goes here
}
export default Products</span></pre> <p><span class="koboSpan" id="kobo.560.1">The following code block is updated with the components code, which has product information (i.e., </span><strong class="source-inline"><span class="koboSpan" id="kobo.561.1">productsMap</span></strong><span class="koboSpan" id="kobo.562.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.563.1">category</span></strong><span class="koboSpan" id="kobo.564.1">) retrieved from the store using selectors. </span><span class="koboSpan" id="kobo.564.2">It also includes the </span><strong class="source-inline"><span class="koboSpan" id="kobo.565.1">useEffect</span></strong><span class="koboSpan" id="kobo.566.1"> Hook to set the latest products when there is a change in the category </span><a id="_idIndexMarker822"/><span class="koboSpan" id="kobo.567.1">and </span><span class="No-Break"><span class="koboSpan" id="kobo.568.1">product data:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.569.1">
const Products = () =&gt; {
  const productsMap = useAppSelector(selectProductsMap)
  const category = useAppSelector(selectCategory)
  const isLoading = useAppSelector(selectProductsIsLoading)
  const [products, setProducts] = useState
    (productsMap[category])
  useEffect(() =&gt; {
    setProducts(productsMap[category])
  }, [category, productsMap])
  return (
    // Markup goes here
  )
}
export default Products</span></pre> <p><span class="koboSpan" id="kobo.570.1">Finally, the rendered markup for </span><a id="_idIndexMarker823"/><span class="koboSpan" id="kobo.571.1">our products page looks </span><span class="No-Break"><span class="koboSpan" id="kobo.572.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.573.1">
    &lt;Fragment&gt;
      &lt;LayoutContainer&gt;
        &lt;Categories&gt;&lt;/Categories&gt;
        &lt;ProductsContainer&gt;
          {isLoading ? </span><span class="koboSpan" id="kobo.573.2">(
            &lt;LoaderContainer&gt;
              &lt;MySpinner /&gt;
            &lt;/LoaderContainer&gt;
          ) : (
            products &amp;&amp;
            products.map((product: Product) =&gt; (
              &lt;ProductItem key={product.id} product=
                {product} /&gt;
            ))
          )}
        &lt;/ProductsContainer&gt;
      &lt;/LayoutContainer&gt;
    &lt;/Fragment&gt;</span></pre> <p><span class="koboSpan" id="kobo.574.1">In the preceding code, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.575.1">Products</span></strong><span class="koboSpan" id="kobo.576.1"> screen displays a page loader until the data is retrieved. </span><span class="koboSpan" id="kobo.576.2">Once the data is ready, a list of products appears in the </span><span class="No-Break"><span class="koboSpan" id="kobo.577.1">grid format.</span></span></p>
<p><span class="koboSpan" id="kobo.578.1">Conversely, the sign-in page can</span><a id="_idIndexMarker824"/><span class="koboSpan" id="kobo.579.1"> be created using input and button UI components to authenticate the Firebase backend. </span><span class="koboSpan" id="kobo.579.2">It follows the sign-in process through either regular email or the Google sign-in mechanism. </span><span class="koboSpan" id="kobo.579.3">The sign-in page to authenticate the user appears </span><span class="No-Break"><span class="koboSpan" id="kobo.580.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer048">
<span class="koboSpan" id="kobo.581.1"><img alt="Figure 11.2: The sign-in page" src="image/Figure_11.02_B18603.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.582.1">Figure 11.2: The sign-in page</span></p>
<p><span class="koboSpan" id="kobo.583.1">Authentication through the sign-in page is helpful for adding products to the cart. </span><span class="koboSpan" id="kobo.583.2">It also provides a link at the bottom</span><a id="_idIndexMarker825"/><span class="koboSpan" id="kobo.584.1"> for sign-up if there are new users. </span><span class="koboSpan" id="kobo.584.2">In a similar fashion, you can implement sign-up and </span><span class="No-Break"><span class="koboSpan" id="kobo.585.1">cart pages.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.586.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.587.1">It is still possible to see the available products irrespective of whether a user signs in to </span><span class="No-Break"><span class="koboSpan" id="kobo.588.1">the application.</span></span></p>
<p><span class="koboSpan" id="kobo.589.1">Now, we have reached a position with all the required UI components and pages ready to use. </span><span class="koboSpan" id="kobo.589.2">As a last step, the application layout can be designed with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.590.1">Header</span></strong><span class="koboSpan" id="kobo.591.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.592.1">Footer</span></strong><span class="koboSpan" id="kobo.593.1"> UI components, along with the previously implemented pages mapped for each route, inside the following </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.594.1">App.tsx</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.595.1"> file:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.596.1">
function App() {
   return(
     &lt;Fragment&gt;
      &lt;Header&gt;&lt;/Header&gt;
      &lt;div className="app-content"&gt;
        &lt;Routes&gt;
          &lt;Route path="/" element={&lt;Products&gt;&lt;/Products&gt;} /&gt;
          &lt;Route path="/signin" element={&lt;SignIn /&gt;} /&gt;
          &lt;Route path="/signup" element={&lt;SignUp /&gt;} /&gt;
          &lt;Route path="/cart" element={&lt;CartProducts /&gt;} /&gt;
        &lt;/Routes&gt;
      &lt;/div&gt;
  &lt;Footer&gt;&lt;/Footer&gt;
  &lt;/Fragment&gt;
 )
}</span></pre> <p><span class="koboSpan" id="kobo.597.1">In the preceding code, the routes </span><a id="_idIndexMarker826"/><span class="koboSpan" id="kobo.598.1">are configured for each page. </span><span class="koboSpan" id="kobo.598.2">The products page is configured as a default route. </span><span class="koboSpan" id="kobo.598.3">That means that this page will be displayed immediately after running the </span><strong class="source-inline"><span class="koboSpan" id="kobo.599.1">npm run dev</span></strong><span class="koboSpan" id="kobo.600.1"> command in the project </span><span class="No-Break"><span class="koboSpan" id="kobo.601.1">root folder.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer049">
<span class="koboSpan" id="kobo.602.1"><img alt="Figure 11.3: The product showcase" src="image/Figure_11.03_B18603.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.603.1">Figure 11.3: The product showcase</span></p>
<p><span class="koboSpan" id="kobo.604.1">Upon adding each product to the cart, the count of cart products will appear on the cart icon. </span><span class="koboSpan" id="kobo.604.2">If a user doesn’t log in to the application, the add to cart button will be hidden. </span><span class="koboSpan" id="kobo.604.3">Moreover, you can filter the product list based on the selected category, as an </span><span class="No-Break"><span class="koboSpan" id="kobo.605.1">additional feature.</span></span></p>
<p><span class="koboSpan" id="kobo.606.1">Even though we have completed</span><a id="_idIndexMarker827"/><span class="koboSpan" id="kobo.607.1"> all the pages, the text messages are hardcoded in the English language. </span><span class="koboSpan" id="kobo.607.2">This means that it will be difficult for non-English readers to read the messages. </span><span class="koboSpan" id="kobo.607.3">In the following section, the application will be enhanced with internationalization support to increase our user base across </span><span class="No-Break"><span class="koboSpan" id="kobo.608.1">the globe.</span></span></p>
<h1 id="_idParaDest-334"><a id="_idTextAnchor333"/><span class="koboSpan" id="kobo.609.1">Supporting internationalization</span></h1>
<p><span class="koboSpan" id="kobo.610.1">If you want to launch your </span><a id="_idIndexMarker828"/><span class="koboSpan" id="kobo.611.1">current services in the international market, your web application should support internationalization to meet the needs of global users. </span><span class="koboSpan" id="kobo.611.2">In </span><a href="B18603_04.xhtml#_idTextAnchor150"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.612.1">Chapter 4</span></em></span></a><span class="koboSpan" id="kobo.613.1">, we covered internationalization through the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.614.1">FormatJS</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.615.1"> library.</span></span></p>
<p><span class="koboSpan" id="kobo.616.1">This project mainly uses the same </span><strong class="source-inline"><span class="koboSpan" id="kobo.617.1">FormatJS</span></strong><span class="koboSpan" id="kobo.618.1"> library to translate the text messages and support the formatted currency amounts. </span><span class="koboSpan" id="kobo.618.2">The entire process of extending the application with internationalization involves just a </span><span class="No-Break"><span class="koboSpan" id="kobo.619.1">few instructions.</span></span></p>
<p><span class="koboSpan" id="kobo.620.1">First, create all the translations inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.621.1">i18n-&gt;translations</span></strong><span class="koboSpan" id="kobo.622.1"> folder in the form of JSON files. </span><span class="koboSpan" id="kobo.622.2">These translations will be loaded based on the respective locales defined inside the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.623.1">i18n-&gt;locale.ts</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.624.1"> file:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.625.1">
import ENGLISH from "./translations/en-US.json"
import FRENCH from "./translations/fr-FR.json"
import GERMAN from "./translations/de-DE.json"
export const LOCALES = {
  "en-US": ENGLISH,
  "fr-FR": FRENCH,
  "de-DE": GERMAN
}</span></pre> <p><span class="koboSpan" id="kobo.626.1">Then, you need to configure </span><strong class="source-inline"><span class="koboSpan" id="kobo.627.1">IntlProvider</span></strong><span class="koboSpan" id="kobo.628.1"> at the root of the application. </span><span class="koboSpan" id="kobo.628.2">This provider loads specific locale messages, as mapped in the previous step, using the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.629.1">locale</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.630.1"> value:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.631.1">
import { IntlProvider } from "react-intl"
import { LOCALES } from "@/i18n/locale"
import { DEFAULT_LOCALE } from "@/constants"
import { useAppSelector } from "./app/store/hooks"
import { selectCurrentLocale } from
  "@/app/store/user/user.selector"
function App() {
  const userLanguage = useAppSelector(selectCurrentLocale)
  return (
    &lt;IntlProvider
      messages={LOCALES[userLanguage]}
      locale={userLanguage}
      defaultLocale={DEFAULT_LOCALE}
    &gt;
      // Main layout goes here
    &lt;/IntlProvider&gt;
  )
}</span></pre> <p><span class="koboSpan" id="kobo.632.1">In the preceding code, the current </span><strong class="source-inline"><span class="koboSpan" id="kobo.633.1">locale</span></strong><span class="koboSpan" id="kobo.634.1"> value is dynamic, and its value gets updated based on the locale dropdown that </span><a id="_idIndexMarker829"/><span class="koboSpan" id="kobo.635.1">appears in the header section of </span><span class="No-Break"><span class="koboSpan" id="kobo.636.1">the UI.</span></span></p>
<p><span class="koboSpan" id="kobo.637.1">Now, you can start localizing the text messages and formatting the currency number using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.638.1">FormattedMessage</span></strong><span class="koboSpan" id="kobo.639.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.640.1">FormattedNumber</span></strong><span class="koboSpan" id="kobo.641.1"> components, respectively, from </span><strong class="source-inline"><span class="koboSpan" id="kobo.642.1">react-intl</span></strong><span class="koboSpan" id="kobo.643.1">, as </span><span class="No-Break"><span class="koboSpan" id="kobo.644.1">shown here:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.645.1">
import { FormattedMessage, FormattedNumber } from
  "react-intl"
const CartProducts = () =&gt; {
   return(
     &lt;CartContainer&gt;
      // UI markup goes here
          &lt;FormattedMessage id="cart.total" /&gt;:
            &lt;FormattedNumber
              value={cartProductsTotalCost}
              style="currency"
              currency="USD"
            &gt;&lt;/FormattedNumber&gt;
      // UI markup goes here
   &lt;/CartContainer&gt;
   )
}</span></pre> <p><span class="koboSpan" id="kobo.646.1">The preceding translation related to currency amounts not only includes the currency symbols but also adds comma </span><a id="_idIndexMarker830"/><span class="koboSpan" id="kobo.647.1">separators. </span><span class="koboSpan" id="kobo.647.2">For instance, the following add to cart screen displays a list of added products with the page text in the German language and formatted </span><span class="No-Break"><span class="koboSpan" id="kobo.648.1">currency amounts.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer050">
<span class="koboSpan" id="kobo.649.1"><img alt="Figure 11.4: Products added to the cart" src="image/Figure_11.04_B18603.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.650.1">Figure 11.4: Products added to the cart</span></p>
<p><span class="koboSpan" id="kobo.651.1">As you can see, the </span><a id="_idIndexMarker831"/><span class="koboSpan" id="kobo.652.1">comma and decimal separators and the currency symbol position are modified based on the selected language. </span><span class="koboSpan" id="kobo.652.2">The product quantity and the amount values and their formats will be updated upon clicking the increment, decrement, and clear buttons on </span><span class="No-Break"><span class="koboSpan" id="kobo.653.1">the page.</span></span></p>
<h2 id="_idParaDest-335"><a id="_idTextAnchor334"/><span class="koboSpan" id="kobo.654.1">How do you achieve internationalization through an imperative API?</span></h2>
<p><span class="koboSpan" id="kobo.655.1">It is not always possible to use </span><strong class="source-inline"><span class="koboSpan" id="kobo.656.1">react-intl</span></strong><span class="koboSpan" id="kobo.657.1"> components such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.658.1">FormattedMessage</span></strong><span class="koboSpan" id="kobo.659.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.660.1">FormattedNumber</span></strong><span class="koboSpan" id="kobo.661.1">, or </span><strong class="source-inline"><span class="koboSpan" id="kobo.662.1">FormattedDate</span></strong><span class="koboSpan" id="kobo.663.1"> to format text messages, numbers, or dates – that is, you cannot use built-in components to format text messages inside text </span><a id="_idIndexMarker832"/><span class="koboSpan" id="kobo.664.1">attributes such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.665.1">title</span></strong><span class="koboSpan" id="kobo.666.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.667.1">aria-label</span></strong><span class="koboSpan" id="kobo.668.1">, outside the markup area of React components and non-React ecosystems such as Node.js, a Redux store, and the </span><span class="No-Break"><span class="koboSpan" id="kobo.669.1">testing section.</span></span></p>
<p><span class="koboSpan" id="kobo.670.1">After you declare </span><strong class="source-inline"><span class="koboSpan" id="kobo.671.1">IntlProvider</span></strong><span class="koboSpan" id="kobo.672.1">, you can get access to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.673.1">intl</span></strong><span class="koboSpan" id="kobo.674.1"> object (with a type of </span><strong class="source-inline"><span class="koboSpan" id="kobo.675.1">IntlShape</span></strong><span class="koboSpan" id="kobo.676.1">) by calling the </span><strong class="source-inline"><span class="koboSpan" id="kobo.677.1">useIntl()</span></strong><span class="koboSpan" id="kobo.678.1"> hook inside the React function component. </span><span class="koboSpan" id="kobo.678.2">For example, this Hook is used to support internationalization to prepare a category list outside the </span><span class="No-Break"><span class="koboSpan" id="kobo.679.1">markup section:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.680.1">
import { useIntl } from "react-intl"
const categories: Category[] = [
  { type: "all", name: intl.formatMessage({ id: "categories.all" }) },
  { type: "laptop", name: intl.formatMessage({ id: "categories.
</span><span class="koboSpan" id="kobo.680.2">    laptops" }) },
  { type: "phone", name: intl.formatMessage({ id: "categories.phones" 
    }) },
    { type: "tab", name: intl.formatMessage({ id: "categories.tabs" }) },
];</span></pre> <p><span class="koboSpan" id="kobo.681.1">If you want to support internationalization outside a React component, you need to use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.682.1">createIntl</span></strong><span class="koboSpan" id="kobo.683.1"> API method by passing </span><strong class="source-inline"><span class="koboSpan" id="kobo.684.1">locale</span></strong><span class="koboSpan" id="kobo.685.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.686.1">messages</span></strong><span class="koboSpan" id="kobo.687.1"> properties in the form of </span><span class="No-Break"><span class="koboSpan" id="kobo.688.1">an object.</span></span></p>
<p><span class="koboSpan" id="kobo.689.1">Currently, we have reached a </span><a id="_idIndexMarker833"/><span class="koboSpan" id="kobo.690.1">stage with the completion of a full-fledged backend and frontend implementation. </span><span class="koboSpan" id="kobo.690.2">In the following section, we will see how to write unit tests to ensure that functionality works as per the </span><span class="No-Break"><span class="koboSpan" id="kobo.691.1">business requirements.</span></span></p>
<h1 id="_idParaDest-336"><a id="_idTextAnchor335"/><span class="koboSpan" id="kobo.692.1">Implementing testing using the Vitest framework</span></h1>
<p><span class="koboSpan" id="kobo.693.1">Jest is quite a popular testing framework, with a full pack of testing features and an easy-to-use API, which makes it a standard testing framework in the web ecosystem. </span><span class="koboSpan" id="kobo.693.2">This project is based on Vite frontend tooling, and it is also possible to integrate Jest in Vite setups. </span><span class="koboSpan" id="kobo.693.3">However, this leads to a</span><a id="_idIndexMarker834"/><span class="koboSpan" id="kobo.694.1"> workspace where you have to configure and maintain two different pipelines, which is hard for developers. </span><span class="koboSpan" id="kobo.694.2">So, we will use </span><strong class="bold"><span class="koboSpan" id="kobo.695.1">Vitest</span></strong><span class="koboSpan" id="kobo.696.1"> for this project, which is a blazing-fast unit testing framework based on Jest and Vite tooling. </span><span class="koboSpan" id="kobo.696.2">This framework provides similar functionality and syntax to the Jest framework, using the existing configuration or plugins of </span><span class="No-Break"><span class="koboSpan" id="kobo.697.1">Vite tooling.</span></span></p>
<p><span class="koboSpan" id="kobo.698.1">In this project, we will write unit tests for all the actions that exist under </span><strong class="source-inline"><span class="koboSpan" id="kobo.699.1">cart.slice.ts</span></strong><span class="koboSpan" id="kobo.700.1">. </span><span class="koboSpan" id="kobo.700.2">First, let’s create the test suite with an initial </span><span class="No-Break"><span class="koboSpan" id="kobo.701.1">cart state:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.702.1">
describe("Cart Reducer", () =&gt; {
  let initialState: CartState = {
    cartProducts: [
      {
        id: 1,
        productImageUrl: "someurl.com",
        name: "Inspiron 15",
        price: 1200,
        quantity: 2,
      },
    ],
  }
});</span></pre> <p><span class="koboSpan" id="kobo.703.1">In the preceding code, the initial </span><a id="_idIndexMarker835"/><span class="koboSpan" id="kobo.704.1">state is available, with one cart product having a quantity </span><span class="No-Break"><span class="koboSpan" id="kobo.705.1">of </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.706.1">2</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.707.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.708.1">Then, we will write a test case to verify the functionality of increasing quantity within the cart, </span><span class="No-Break"><span class="koboSpan" id="kobo.709.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.710.1">
  it("Should handle adding or incrementing products
    quantity inside cart", () =&gt; {
    const productToAdd: Cart = {
      id: 1,
      productImageUrl: "someurl.com",
      name: "Inspiron 15",
      price: 1200,
      quantity: 1,
    }
    const { cartProducts } = cartReducer(
      initialState,
      addProductToCart(productToAdd),
    )
    expect(cartProducts.length).toEqual(1)
    expect(cartProducts[0].quantity).toEqual(3)
  })</span></pre> <p><span class="koboSpan" id="kobo.711.1">The preceding test case</span><a id="_idIndexMarker836"/><span class="koboSpan" id="kobo.712.1"> verifies that the quantity of products increased to </span><strong class="source-inline"><span class="koboSpan" id="kobo.713.1">3</span></strong><span class="koboSpan" id="kobo.714.1"> and the number of distinct products in the cart remains </span><span class="No-Break"><span class="koboSpan" id="kobo.715.1">the same.</span></span></p>
<p><span class="koboSpan" id="kobo.716.1">Similarly, the test case to decrease the product quantity in the cart is </span><span class="No-Break"><span class="koboSpan" id="kobo.717.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.718.1">
  it("Should handle removing or decreasing products
    quantity inside cart", () =&gt; {
    const productToRemove: Cart = {
      id: 1,
      productImageUrl: "someurl.com",
      name: "Inspiron 15",
      price: 1200,
      quantity: 1,
    }
    const state = cartReducer(
      initialState,
      removeProductFromCart(productToRemove),
    )
    expect(state.cartProducts.length).toEqual(1)
    expect(state.cartProducts[0].quantity).toEqual(1)
  })</span></pre> <p><span class="koboSpan" id="kobo.719.1">The preceding test case checks the quantity of products after decreasing the quantity in the cart. </span><span class="koboSpan" id="kobo.719.2">The quantity of products becomes </span><strong class="source-inline"><span class="koboSpan" id="kobo.720.1">1</span></strong><span class="koboSpan" id="kobo.721.1"> after decreasing or removing one item from the cart, which has an initial state quantity value </span><span class="No-Break"><span class="koboSpan" id="kobo.722.1">of </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.723.1">2</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.724.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.725.1">Similarly, we have test cases to</span><a id="_idIndexMarker837"/><span class="koboSpan" id="kobo.726.1"> clear and reset the cart actions. </span><span class="koboSpan" id="kobo.726.2">Once you run the </span><strong class="source-inline"><span class="koboSpan" id="kobo.727.1">npm run test</span></strong><span class="koboSpan" id="kobo.728.1"> command, you can see a summary of all the passed tests and failed tests for any </span><span class="No-Break"><span class="koboSpan" id="kobo.729.1">incorrect code.</span></span></p>
<p><span class="koboSpan" id="kobo.730.1">Now, our application is ready with full-fledged development code and covered with unit test cases to detect early flaws in the code. </span><span class="koboSpan" id="kobo.730.2">Let’s publish this code on GitHub as a Git repository to support version control and to make our app work </span><span class="No-Break"><span class="koboSpan" id="kobo.731.1">smoothly online.</span></span></p>
<h1 id="_idParaDest-337"><a id="_idTextAnchor336"/><span class="koboSpan" id="kobo.732.1">Creating a Git repository with README documentation</span></h1>
<p><span class="koboSpan" id="kobo.733.1">Currently, the project is ready and able to run the application in a local system successfully. </span><span class="koboSpan" id="kobo.733.2">To enhance</span><a id="_idIndexMarker838"/><span class="koboSpan" id="kobo.734.1"> the project further, a hosting platform such as GitHub is required, as it provides storage and version control, deploys the </span><a id="_idIndexMarker839"/><span class="koboSpan" id="kobo.735.1">project, and offers collaboration between various team members seamlessly. </span><span class="koboSpan" id="kobo.735.2">Let’s apply the following Git commands to push our local code to the </span><span class="No-Break"><span class="koboSpan" id="kobo.736.1">GitHub platform:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.737.1">
git init
git add .
</span><span class="koboSpan" id="kobo.737.2">git commit -m "Add one stop electronics"
git branch -M main
git remote add origin https://github.com/yourname/one-stop-electronics.git
git push -u origin main</span></pre> <p><span class="koboSpan" id="kobo.738.1">Now, our project is on GitHub, which enables us to easily deploy the application </span><span class="No-Break"><span class="koboSpan" id="kobo.739.1">on Netlify.</span></span></p>
<p><span class="koboSpan" id="kobo.740.1">The final version of the One </span><a id="_idIndexMarker840"/><span class="koboSpan" id="kobo.741.1">Stop Electronics GitHub</span><a id="_idIndexMarker841"/><span class="koboSpan" id="kobo.742.1"> project with </span><strong class="source-inline"><span class="koboSpan" id="kobo.743.1">README.md</span></strong><span class="koboSpan" id="kobo.744.1"> instructions is available in the Git repository for quick </span><span class="No-Break"><span class="koboSpan" id="kobo.745.1">reference: </span></span><a href="https://github.com/PacktPublishing/React-Interview-Guide/tree/main/Chapter11/one-stop-electronics"><span class="No-Break"><span class="koboSpan" id="kobo.746.1">https://github.com/PacktPublishing/React-Interview-Guide/tree/main/Chapter11/one-stop-electronics</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.747.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.748.1">The following section will discuss the deployment process to make the project accessible for </span><span class="No-Break"><span class="koboSpan" id="kobo.749.1">the public.</span></span></p>
<h1 id="_idParaDest-338"><a id="_idTextAnchor337"/><span class="koboSpan" id="kobo.750.1">Deploying the application for public access</span></h1>
<p><span class="koboSpan" id="kobo.751.1">There are several options to </span><a id="_idIndexMarker842"/><span class="koboSpan" id="kobo.752.1">deploy an app, such as Netlify, Vercel, GitHub Pages, and Firebase Hosting. </span><span class="koboSpan" id="kobo.752.2">We will use Netlify for the deployment by signing in through a GitHub account on the Netlify website. </span><span class="koboSpan" id="kobo.752.3">On the dashboard, you will have the option to select the repository and configure the site through settings. </span><span class="koboSpan" id="kobo.752.4">It is also possible to change a random site name to a new name. </span><span class="koboSpan" id="kobo.752.5">Since an environment variable file (e.g., </span><strong class="source-inline"><span class="koboSpan" id="kobo.753.1">.env.local</span></strong><span class="koboSpan" id="kobo.754.1">) is not available in the root of the GitHub repository, you need to import the environment variable file into the dashboard before clicking the </span><strong class="bold"><span class="koboSpan" id="kobo.755.1">Deploy </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.756.1">site</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.757.1"> button.</span></span></p>
<p><span class="koboSpan" id="kobo.758.1">By following all these steps, the</span><a id="_idIndexMarker843"/><span class="koboSpan" id="kobo.759.1"> application is now available online for everyone to access around the world. </span><span class="koboSpan" id="kobo.759.2">You can quickly go through all the screens, which are available at the Netlify domain for your </span><span class="No-Break"><span class="koboSpan" id="kobo.760.1">reference: </span></span><a href="https://onestop-electronics.netlify.app/"><span class="No-Break"><span class="koboSpan" id="kobo.761.1">https://onestop-electronics.netlify.app/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.762.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.763.1">Through continuous deployment, Netlify automatically updates your site when the code is updated on the </span><span class="No-Break"><span class="koboSpan" id="kobo.764.1">GitHub repository.</span></span></p>
<h1 id="_idParaDest-339"><a id="_idTextAnchor338"/><span class="koboSpan" id="kobo.765.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.766.1">We have reached the end of the chapter and applied all the programming concepts learned in the previous chapters to build a robust full stack React application. </span><span class="koboSpan" id="kobo.766.2">At the beginning of the chapter, we had a quick introduction to scaffolding a React project using the standard templates of the Redux library. </span><span class="koboSpan" id="kobo.766.3">Later, we briefly covered Firebase services and provided step-by-step instructions to set up and configure authentication mechanisms, using the Firebase console. </span><span class="koboSpan" id="kobo.766.4">Then, we provided a detailed implementation of Firebase authentication and Cloud Firestore database operations for our One Stop </span><span class="No-Break"><span class="koboSpan" id="kobo.767.1">Electronics application.</span></span></p>
<p><span class="koboSpan" id="kobo.768.1">After the backend was ready to use, we moved on to building the UI layer by writing a few React UI components, building the application layout and pages for sign-in, sign-up, the product showcase, and cart items. </span><span class="koboSpan" id="kobo.768.2">This section was followed by implementing a business layer as per the RTK guidelines. </span><span class="koboSpan" id="kobo.768.3">Then, the project was further enhanced through internationalization support and writing unit tests. </span><span class="koboSpan" id="kobo.768.4">As the application reached the completion stage, the final step was creating a Git repository and making the application accessible online, with a </span><span class="No-Break"><span class="koboSpan" id="kobo.769.1">deployment process.</span></span></p>
<p><span class="koboSpan" id="kobo.770.1">After learning all these major milestones of application development, you should now be confident enough to showcase your skills in coding challenges and answer interview questions, especially armed with your practical working experience. </span><span class="koboSpan" id="kobo.770.2">In the following chapter, we will build another React app based on different skill sets, such as Next.js, GraphQL, SWR, and Vercel, for deployment. </span><span class="koboSpan" id="kobo.770.3">This will help you to enhance your knowledge of building various types of projects, with a different set of techniques and concepts that were not covered in </span><span class="No-Break"><span class="koboSpan" id="kobo.771.1">this chapter.</span></span></p>
</div>
</body></html>