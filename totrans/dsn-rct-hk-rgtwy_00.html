<html><head></head><body>
		<div id="_idContainer003">
			<h1 id="_idParaDest-6"><a id="_idTextAnchor005"/>Preface</h1>
			<p><em class="italic">React</em> has been my main development tool lately. In my experience both as a developer and a computer user, I found most of what I love in the end is non-heavy stuff. While big names come and go often, there're certain things left behind. For instance, the way to build a website has been reshaped and refined over the past twenty years, but the general process of building it hasn't changed much. You still need to create an <em class="italic">HTML</em> file, design the layout, and host it somewhere on a server.</p>
			<p>When it comes to the <strong class="bold">user interface</strong> (<strong class="bold">UI</strong>), there's another topic that can benefit you in a similar way. That is state. From <em class="italic">jQuery</em> and <em class="italic">Angular</em> to <em class="italic">React</em>, from the web to other non-desktop platforms (such as <em class="italic">Electron</em> or <em class="italic">React Native</em>), no matter where you go, there's a technical question that you need to answer now <em class="italic">– how does the screen know there's a change to apply?</em> When I was back in college, I never asked this type of question. I generally assumed the computer just worked that way.</p>
			<p>Of course, now I know the computer works that way because someone made it. What's fascinating about the UI is when the state gets in the picture. Back in the early days, we didn't talk about state at all. But now state is everywhere, although there's still no textbook definition for it or how we should learn it in the first place. Suffice to say, state is still a relatively young topic in the web development industry.</p>
			<p>In this book, I'll attempt, by using <em class="italic">React</em> as the underlying technology, to explore and learn how states are introduced and implemented. I hope, by doing that, we will have a better picture in the end to answer the question <em class="italic">– how is a render engine driven by states?</em></p>
			<h1 id="_idParaDest-7"><a id="_idTextAnchor006"/>Who this book is for</h1>
			<p>The ideal reader of this book is an engineer who has been writing <em class="italic">JavaScript</em> for a few years but doesn't necessarily have experience with <em class="italic">React</em> and/or the function component. For readers with less <em class="italic">JavaScript</em> experience, we include a live playground via <em class="italic">CodePen</em> so that you can experiment with each topic in no time.</p>
			<p>If you do have experience with <em class="italic">React</em>, or even Hooks, that's fine; this book will show you how Hooks are implemented within the function component. Moreover, a stripped-down version of the <em class="italic">React</em> source code pertaining to each Hook is also included in each chapter, so you will get a deeper understanding if you are an experienced <em class="italic">React</em> programmer.</p>
			<h1 id="_idParaDest-8"><a id="_idTextAnchor007"/>What this book covers</h1>
			<p><a href="B17963_01_Epub.xhtml#_idTextAnchor018"><em class="italic">Chapter 1</em></a>, <em class="italic">Introducing the Function Component</em>, explains what a function component is with an explanation of its props and the basic parent/child relationship. You will then get some tips on how to write a function component. At the end of the chapter, you will see a practical function component example, <strong class="source-inline">Nav</strong>.</p>
			<p><a href="B17963_02_Epub.xhtml#_idTextAnchor055"><em class="italic">Chapter 2</em></a>, <em class="italic">Crafting States in Functions</em>, shows how to craft a special variable called state in function components. We will see what benefits a state can provide, including requesting a new update and listening to a value change. We will also see an example of applying a state to a <strong class="bold">Single Page Application</strong> (<strong class="bold">SPA</strong>). We will also take a close look at what role states play in the <em class="italic">UI</em>.</p>
			<p><a href="B17963_03_Epub.xhtml#_idTextAnchor080"><em class="italic">Chapter 3</em></a>, <em class="italic">Hooking into React</em>, goes through the challenges we face when creating a good state solution, and then we'll see how <em class="italic">React</em> architects provide the solution with the underlying Hook. We will then introduce Hooks, learn about their calling order, and learn how to avoid running into the conditional Hook issue in real applications. </p>
			<p><a href="B17963_04_Epub.xhtml#_idTextAnchor113"><em class="italic">Chapter 4</em></a>, <em class="italic">Use State to Jumpstart Components</em>, covers built-in Hooks, starting with the <strong class="source-inline">useState</strong> Hook. We will first explain how state is used in <em class="italic">React</em> and then walk through the data structure and source code behind <strong class="source-inline">useState</strong>, and we'll also describe common usages of dispatching states. We'll give <strong class="source-inline">useState</strong> a test drive and provide two practical examples of applying <strong class="source-inline">useState</strong> to the <strong class="source-inline">Avatar</strong> and <strong class="source-inline">Tooltip</strong> components. </p>
			<p><a href="B17963_05_Epub.xhtml#_idTextAnchor157"><em class="italic">Chapter 5</em></a>, <em class="italic">Use Effect to Handle Side Effects</em>, introduces side effects, walks through the data structure and source code behind <strong class="source-inline">useEffect</strong>, and provides various scenarios in which you invoke effects. We will also demonstrate a couple of pitfalls of using <strong class="source-inline">useEffect</strong> and ways to avoid them. And we'll use <strong class="source-inline">useEffect</strong> in two practical examples, Window Size and a Fetch API.</p>
			<p><a href="B17963_06_Epub.xhtml#_idTextAnchor203"><em class="italic">Chapter 6</em></a>, <em class="italic">Use Memo to Boost Performance</em>, explains how we can run into performance degradation issues in a typical web application. Then we will walk through the design and source code behind <strong class="source-inline">useMemo</strong> and describe various ways of reusing a value conditionally. We'll then apply the optimization technique to two common cases, clicking to search and debouncing the search. </p>
			<p><a href="B17963_07_Epub.xhtml#_idTextAnchor237"><em class="italic">Chapter 7</em></a>, <em class="italic">Use Context to Cover an Area</em>, introduces an area updates and how <em class="italic">React </em>contexts are used to share a value to an area. Then, we will walk through the data structure and source code behind <strong class="source-inline">useContext</strong> to consume the shared value. At the end of the chapter, we'll provide two practical examples of applying contexts to a Theme and a Table. </p>
			<p><a href="B17963_08_Epub.xhtml#_idTextAnchor278"><em class="italic">Chapter 8</em></a>, <em class="italic">Use Ref to Hide Stuff</em>, explains how to access a <em class="italic">DOM</em> element via a ref, and we'll walk through the design and source code behind the <strong class="source-inline">useRef</strong> Hook. We will also describe how to work with a persistent value without dispatching an update. Finally, we'll apply refs to a couple of practical problems, such as clicking outside of the menu, avoiding memory leaks, setting up a mule, and locating the current value. </p>
			<p><a href="B17963_09_Epub.xhtml#_idTextAnchor314"><em class="italic">Chapter 9</em></a>, <em class="italic">Use Custom Hooks to Reuse Logic</em>, gathers all the Hooks we have learned about so far and explains how to create a custom Hook for our own needs. We will introduce custom Hooks and then write a couple of custom Hooks step by step, including <strong class="source-inline">useToggle</strong>, <strong class="source-inline">useWindow</strong>, <strong class="source-inline">useAsync</strong>, <strong class="source-inline">useDebounced</strong>, <strong class="source-inline">useClickOutside</strong>, <strong class="source-inline">useCurrent</strong>, and <strong class="source-inline">useProxy</strong>.</p>
			<p><a href="B17963_10_Epub.xhtml#_idTextAnchor363"><em class="italic">Chapter 10</em></a>, <em class="italic">Building a Website with React</em>, discusses <em class="italic">React</em> in general, especially the role <em class="italic">React</em> plays in web development. We will approach this topic from three perspectives to see how <em class="italic">React</em> puts resources together to build a site, including <em class="italic">JavaScript ES6</em> features, <em class="italic">CSS-in-JS</em> approaches, and the transformation from <em class="italic">HTML</em>-like lines into <em class="italic">JavaScript</em> expressions.</p>
			<h1 id="_idParaDest-9"><a id="_idTextAnchor008"/>To get the most out of this book</h1>
			<p>One of the goals of this book is for you to get hands-on experience using <em class="italic">React</em> and Hooks. Following are a couple of options that you can follow to get the most out of the content before you start.</p>
			<h2 id="_idParaDest-10"><a id="_idTextAnchor009"/>Refresh your knowledge of React</h2>
			<p>If you haven't used <em class="italic">React</em> lately or are not familiar with its cutting-edge features, I recommended you jump to <a href="B17963_10_Epub.xhtml#_idTextAnchor363"><em class="italic">Chapter 10</em></a>, <em class="italic">Building a Website with React</em>, to get an overview of the three building blocks that <em class="italic">React</em> relies upon to build a website: JavaScript, CSS, and HTML.</p>
			<p>While reading the book, feel free to visit this chapter often if you run into new syntax that you are not familiar with, or you simply want to gain more insights into how each building block is utilized in <em class="italic">React</em>.</p>
			<h2 id="_idParaDest-11"><a id="_idTextAnchor010"/>Use a browser without building the code</h2>
			<p>If you don't have a local environment to work with the code or you simply don't want to build the code, you can access the examples from an online server at <a href="https://codepen.io/windmaomao/pen/ExvYPEX">https://codepen.io/windmaomao/pen/ExvYPEX</a>. You should get <strong class="source-inline">Hello World</strong> printed on your screen in no time. Each chapter comes with a couple of playground links that you can click to follow. They appear as follows in the book:</p>
			<p class="callout-heading">Playground – Hello World</p>
			<p class="callout">Feel free to play with this online example at <a href="https://codepen.io/windmaomao/pen/ExvYPEX">https://codepen.io/windmaomao/pen/ExvYPEX</a>.</p>
			<h2 id="_idParaDest-12"><a id="_idTextAnchor011"/>Build the code yourself</h2>
			<p>If you are a hands-on person and would like to follow the code step by step in each chapter, you need to have <em class="italic">React</em> installed in one of your projects. Instructions to set up a <em class="italic">React</em> project from scratch are as follows.</p>
			<h3><a id="_idTextAnchor012"/>npm</h3>
			<p>Visit the Node.js website, <a href="https://nodejs.org">https://nodejs.org</a>, to grab the latest versions of <strong class="source-inline">Node.js</strong> and <strong class="source-inline">npm</strong>. Pick the right version for your operating system and install it. To find out if everything has been installed properly, open a terminal, and run the following command:</p>
			<p class="source-code">node -v</p>
			<p>If you see a version number returned by the preceding command, Node.js has been installed.</p>
			<h3><a id="_idTextAnchor013"/>Create React App</h3>
			<p>You can get your <em class="italic">React</em> project up and running quickly by using the following command:</p>
			<p class="source-code">npx create-react-app my-app</p>
			<p>Replace <strong class="source-inline">my-app</strong> with your desired application name. Once you have the projects ready, you can go into the <strong class="source-inline">my-app</strong> folder and launch it:</p>
			<p class="source-code">cd my-app</p>
			<p class="source-code">yarn start</p>
			<p>That's it, you should see an application on your local computer. Now you can try the source code out by pasting our code over your project and compiling it locally.</p>
			<h1 id="_idParaDest-13"><a id="_idTextAnchor014"/>Download the color images</h1>
			<p>We also provide a PDF file that has color images of the screenshots and diagrams used in this book. You can download it here: <a href="https://static.packt-cdn.com/downloads/9781803235950_ColorImages.pdf">https://static.packt-cdn.com/downloads/9781803235950_ColorImages.pdf</a>.</p>
			<h1 id="_idParaDest-14"><a id="_idTextAnchor015"/>Conventions used</h1>
			<p>There are a number of text conventions used throughout this book.</p>
			<p><strong class="source-inline">Code in text</strong>: Indicates code words in text, database table names, folder names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles. Here is an example: "The element can be as simple as <strong class="source-inline">h1</strong>, a <strong class="source-inline">div</strong> element, or it can be an artificial element that does things differently."</p>
			<p>A block of code is set as follows:</p>
			<p class="source-code">fetch('/giveMeANumber').then(res =&gt; { </p>
			<p class="source-code">  ReactDOM.render(&lt;Title /&gt;, rootEl) </p>
			<p class="source-code">}) </p>
			<p>When we wish to draw your attention to a particular part of a code block, the relevant lines or items are set in bold:</p>
			<p class="source-code"><strong class="bold">let</strong> c = 3</p>
			<p class="source-code"><strong class="bold">function</strong> add(a, b) {</p>
			<p class="source-code">  console.log(a, b)</p>
			<p class="source-code">  <strong class="bold">return</strong> a + b + c</p>
			<p class="source-code">}</p>
			<p><strong class="bold">Bold</strong>: Indicates a new term, an important word, or words that you see onscreen. For instance, words in menus or dialog boxes appear in <strong class="bold">bold</strong>. Here is an example: "This flag can be used to decide if the UI should display the <strong class="bold">Logout</strong> or <strong class="bold">Login</strong> button."</p>
			<p class="callout-heading">Tips or Important Notes</p>
			<p class="callout">Appear like this.</p>
			<h1 id="_idParaDest-15"><a id="_idTextAnchor016"/>Get in touch</h1>
			<p>Feedback from our readers is always welcome.</p>
			<p><strong class="bold">General feedback</strong>: If you have questions about any aspect of this book, email us at <strong class="source-inline">customercare@packtpub.com</strong> and mention the book title in the subject of your message.</p>
			<p><strong class="bold">Errata</strong>: Although we have taken every care to ensure the accuracy of our content, mistakes do happen. If you have found a mistake in this book, we would be grateful if you would report this to us. Please visit <a href="http://www.packtpub.com/support/errata">www.packtpub.com/support/errata</a> and fill in the form.</p>
			<p><strong class="bold">Piracy</strong>: If you come across any illegal copies of our works in any form on the internet, we would be grateful if you would provide us with the location address or website name. Please contact us at <strong class="source-inline">copyright@packt.com</strong> with a link to the material.</p>
			<p><strong class="bold">If you are interested in becoming an author</strong>: If there is a topic that you have expertise in and you are interested in either writing or contributing to a book, please visit <a href="http://authors.packtpub.com">authors.packtpub.com</a>.</p>
			<h1 id="_idParaDest-16"><a id="_idTextAnchor017"/>Share Your Thoughts</h1>
			<p>Once you've read <em class="italic">Designing React Hooks the Right Way</em>, we'd love to hear your thoughts! Please <a href="https://www.packtpub.com/">click here to go straight to the Amazon review page</a> <a href="https://packt.link/r/1803235950/">https://packt.link/r/1803235950/</a> for this book and share your feedback.</p>
			<p>Your review is important to us and the tech community and will help us make sure we're delivering excellent quality content.</p>
		</div>
	</body></html>