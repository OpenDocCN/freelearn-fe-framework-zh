<html><head></head><body>
  <div id="_idContainer157" class="Basic-Text-Frame">
    <h1 class="chapterNumber">18</h1>
    <h1 id="_idParaDest-233" class="chapterTitle">Building Responsive Layouts with Flexbox</h1>
    <p class="normal">In this chapter, you’ll get a feel for what it’s like to lay components out on the screen of mobile devices. Thankfully, React Native polyfills many CSS properties that you might have used in the past to implement page layouts in web applications. </p>
    <p class="normal">Before you dive into implementing layouts, you’ll get a brief introduction to Flexbox and using CSS style properties in React Native apps: it’s not quite what you’re used to with regular CSS style sheets. Then, you’ll implement several React Native layouts using Flexbox.</p>
    <p class="normal">We will cover the following topics in this chapter:</p>
    <ul>
      <li class="bulletList">Introducing Flexbox</li>
      <li class="bulletList">Introducing React Native styles</li>
      <li class="bulletList">Using the Styled Components library</li>
      <li class="bulletList">Building Flexbox layouts</li>
    </ul>
    <h1 id="_idParaDest-234" class="heading-1">Technical requirements</h1>
    <p class="normal">You can find the code files present in this chapter on GitHub at <a href="https://github.com/PacktPublishing/React-and-React-Native-5E/tree/main/Chapter18"><span class="url">https://github.com/PacktPublishing/React-and-React-Native-5E/tree/main/Chapter18</span></a>.</p>
    <h1 id="_idParaDest-235" class="heading-1">Introducing Flexbox</h1>
    <p class="normal">Before the flexible box layout model was introduced to CSS, the various approaches used to build <a id="_idIndexMarker684"/>layouts were convoluted and prone to errors. For example, we used <strong class="keyWord">floats</strong>, which were <a id="_idIndexMarker685"/>originally intended for text wrapping around images, for table-based layouts. <strong class="keyWord">Flexbox</strong> solves this by abstracting many of the properties that you would normally have to provide in order to make the layout work.</p>
    <p class="normal">In essence, the Flexbox model is what it probably sounds like to you: a box model that’s flexible. That’s the beauty of Flexbox: its simplicity. You have a box that acts as a container, and you have <strong class="keyWord">child</strong> elements within that box. Both the container and the <strong class="keyWord">child</strong> elements are flexible in how they’re rendered on the screen, as illustrated here:</p>
    <figure class="mediaobject"> <img src="../Images/B19636_18_01.png" alt="Picture 1"/></figure>
    <p class="packt_figref">Figure 18.1: Flexbox elements</p>
    <p class="normal">Flexbox containers have a direction, either column (up/down) or row (left/right). This actually confused me when I was first learning about Flexbox; my brain refused to believe that rows were organized beside each other from left to right. Rows are stacked on top of one another! The key thing to remember is that it’s the direction in which the box flexes, not the <a id="_idIndexMarker686"/>direction in which boxes are placed on the screen.</p>
    <div class="note">
      <p class="normal">For a more <a id="_idIndexMarker687"/>in-depth treatment of Flexbox concepts, refer to <a href="https://css-tricks.com/snippets/css/a-guide-to-Flexbox"><span class="url">https://css-tricks.com/snippets/css/a-guide-to-Flexbox</span></a>.</p>
    </div>
    <p class="normal">Now that we’ve covered the basics of Flexbox layouts at a high level, it’s time to learn how styles in React Native applications work.</p>
    <h1 id="_idParaDest-236" class="heading-1">Introducing React Native styles</h1>
    <p class="normal">It’s time to implement your first React Native app, beyond the boilerplate that’s generated by <strong class="keyWord">Expo</strong>. I want to <a id="_idIndexMarker688"/>make sure that you feel comfortable using React Native style sheets <a id="_idIndexMarker689"/>before you start implementing Flexbox layouts in the next section.</p>
    <p class="normal">Here’s what a React Native style sheet looks like:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">Platform</span>, <span class="hljs-title">StyleSheet</span>, <span class="hljs-title">StatusBar</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">StyleSheet</span>.<span class="hljs-title">create</span>({
  <span class="hljs-attr">container</span>: {
    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">"</span><span class="hljs-string">center"</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">"center"</span>,
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">"ghostwhite"</span>,
    ...<span class="hljs-title">Platform</span>.<span class="hljs-title">select</span>({
      <span class="hljs-attr">ios</span>: { <span class="hljs-attr">paddingTop</span>: <span class="hljs-number">20</span> },
      <span class="hljs-attr">android</span>: { <span class="hljs-attr">paddingTop</span>: <span class="hljs-title">StatusBar</span>.<span class="hljs-property">currentHeight</span> },
    }),
  },
  <span class="hljs-attr">box</span>: {
    <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">"</span><span class="hljs-string">center"</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">"center"</span>,
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">"lightgray"</span>,
  },
  <span class="hljs-attr">boxText</span>: {
    <span class="hljs-attr">color</span>: <span class="hljs-string">"darkslategray"</span>,
    <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">"bold"</span>,
  },
});
</code></pre>
    <p class="normal">This is a <strong class="keyWord">JavaScript</strong> module, not a CSS module. If you want to declare React Native styles, you need to use plain objects. Then, you call <code class="inlineCode">StyleSheet.create()</code> and export this from the style module. Note that style names are pretty similar to the web CSS, except that they are written <a id="_idIndexMarker690"/>in camel case; for example, <code class="inlineCode">justifyContent</code> rather than <code class="inlineCode">justify-content</code>.</p>
    <p class="normal">As you can see, this style sheet has three styles: <code class="inlineCode">container</code>, <code class="inlineCode">box</code>, and <code class="inlineCode">boxText</code>. Within the <code class="inlineCode">container</code> style, there’s a call to <code class="inlineCode">Platform.select()</code>:</p>
    <pre class="programlisting code"><code class="hljs-code">...<span class="hljs-title">Platform</span>.<span class="hljs-title">select</span>({
<span class="hljs-attr">ios</span>: { <span class="hljs-attr">paddingTop</span>: <span class="hljs-number">20</span> },
<span class="hljs-attr">android</span>: { <span class="hljs-attr">paddingTop</span>: <span class="hljs-title">StatusBar</span>.<span class="hljs-property">currentHeight</span> }
})
</code></pre>
    <p class="normal">This function will return different styles based on the platform of the mobile device. Here, you’re handling the top padding of the top-level <code class="inlineCode">container</code> view. You’ll probably use this code in most of your apps to make sure that your React components don’t render underneath the status bar of the device. Depending on the platform, the padding will require different values. If it’s iOS, <code class="inlineCode">paddingTop</code> is <code class="inlineCode">20</code>. If it’s Android, <code class="inlineCode">paddingTop</code> will be the value of <code class="inlineCode">StatusBar.currentHeight</code>.</p>
    <div class="note">
      <p class="normal">The preceding <code class="inlineCode">Platform.select()</code> code is an example of a case where you need to implement a workaround for differences in the platform. For example, if <code class="inlineCode">StatusBar.currentHeight</code> was available on iOS and Android, you wouldn’t need to call <code class="inlineCode">Platform.select()</code>.</p>
    </div>
    <p class="normal">Let’s see how these styles are imported and applied to React Native components:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> <span class="hljs-title">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">Text</span>, <span class="hljs-title">View</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native"</span>;
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">"./styles"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title">App</span>() {
  <span class="hljs-keyword">return</span> (
    <span class="hljs-tag">&lt;</span><span class="hljs-name">View</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.container}</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">View</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.box}</span><span class="hljs-tag">&gt;</span>
        <span class="hljs-tag">&lt;</span><span class="hljs-name">Text</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.boxText}</span><span class="hljs-tag">&gt;</span>I'm in a box<span class="hljs-tag">&lt;/</span><span class="hljs-name">Text</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;/</span><span class="hljs-name">View</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">View</span><span class="hljs-tag">&gt;</span>
  );
}
</code></pre>
    <p class="normal">The styles are <a id="_idIndexMarker691"/>assigned to each component via the <code class="inlineCode">style</code> property. You’re trying to render a box with some text in the middle of the screen. Let’s make sure that this looks as we expect it to.</p>
    <figure class="mediaobject"> <img src="../Images/B19636_18_02.png" alt="Picture 2"/></figure>
    <p class="packt_figref">Figure 18.2: Box in the middle of a screen</p>
    <p class="normal">We have found out how to apply styles to components using a built-in module, but there is more <a id="_idIndexMarker692"/>than one way to define styles. We also have the option to write CSS in React Native. Let’s quickly go through it.</p>
    <h1 id="_idParaDest-237" class="heading-1">Using the Styled Components library</h1>
    <p class="normal"><strong class="keyWord">Styled Components</strong> is a <a id="_idIndexMarker693"/>CSS-in-JS library that styles React Native components using plain CSS. With this approach, you don’t need to define style classes <a id="_idIndexMarker694"/>via objects and provide style props. The CSS itself is determined via tagged template literals provided by <code class="inlineCode">styled-components</code>. </p>
    <p class="normal">To install <code class="inlineCode">styled-components</code>, run this command in your project:</p>
    <pre class="programlisting con"><code class="hljs-con">npm install --save styled-components
</code></pre>
    <p class="normal">Let’s try to rewrite components from the <em class="italic">Introducing React Native styles</em> section. This is what our <code class="inlineCode">Box</code> component looks like:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> styled <span class="hljs-keyword">from</span> <span class="hljs-string">"styled-components/native"</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title">Box</span> = styled.<span class="hljs-property">View</span><span class="hljs-string">'</span>
<span class="hljs-string">  width: 100px;</span>
<span class="hljs-string">  height: 100px;</span>
<span class="hljs-string">  justify-content: center;</span>
<span class="hljs-string">  align-items: center;</span>
<span class="hljs-string">  background-color: lightgray;</span>
<span class="hljs-string">'</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title">BoxText</span> = styled.<span class="hljs-property">Text</span><span class="hljs-string">'</span>
<span class="hljs-string">  color: darkslategray;</span>
<span class="hljs-string">  font-weight: bold;</span>
<span class="hljs-string">'</span>;
</code></pre>
    <p class="normal">In this example, we’ve got two components, <code class="inlineCode">Box</code> and <code class="inlineCode">BoxText</code>. Now we can use them as usual, but without any other additional styling props:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> <span class="hljs-title">App</span> = () =&gt; {
  <span class="hljs-keyword">return</span> (
    <span class="hljs-tag">&lt;</span><span class="hljs-name">Box</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">BoxText</span><span class="hljs-tag">&gt;</span>I'm in a box<span class="hljs-tag">&lt;/</span><span class="hljs-name">BoxText</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">Box</span><span class="hljs-tag">&gt;</span>
  );
};
</code></pre>
    <p class="normal">In further sections, I will use <code class="inlineCode">StyleSheet</code> objects, but I will avoid <code class="inlineCode">styled-components</code> for performance <a id="_idIndexMarker695"/>reasons. If you want to learn more about <code class="inlineCode">styled-components</code>, you can read more here: <a href="https://styled-components.com/"><span class="url">https://styled-components.com/</span></a>.</p>
    <p class="normal">Perfect! Now <a id="_idIndexMarker696"/>that you have an idea of how to set styles on React Native elements, let’s use Flexbox to start creating some screen layouts.</p>
    <h1 id="_idParaDest-238" class="heading-1">Building Flexbox layouts</h1>
    <p class="normal">In this section, you’ll learn about several potential layouts that you can use in your React Native <a id="_idIndexMarker697"/>applications. I want to stay away from the idea that one layout is better than another. Instead, I’ll show you how powerful the Flexbox layout model is for mobile screens so that you can design the kind of layout that best suits your application.</p>
    <h2 id="_idParaDest-239" class="heading-2">Simple three-column layout</h2>
    <p class="normal">To start <a id="_idIndexMarker698"/>things off, let’s implement a simple layout with three sections that flex in the column direction (top to bottom). We’ll look at the result we are aiming for first.</p>
    <figure class="mediaobject"> <img src="../Images/B19636_18_03.png" alt="Picture 3"/></figure>
    <p class="packt_figref">Figure 18.3: Simple three-column layout</p>
    <p class="normal">The idea, in this example, is that you style and label the three screen sections so that they stand out. In other words, these components wouldn’t necessarily have any styling in a real <a id="_idIndexMarker699"/>application since they’re used to arrange other components on the screen.</p>
    <p class="normal">Now, let’s take a look at the components used to create this screen layout:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> <span class="hljs-title">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">Text</span>, <span class="hljs-title">View</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native"</span>;
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">"./styles"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title">App</span>() {
  <span class="hljs-keyword">return</span> (
    <span class="hljs-tag">&lt;</span><span class="hljs-name">View</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.container}</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">View</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.box}</span><span class="hljs-tag">&gt;</span>
        <span class="hljs-tag">&lt;</span><span class="hljs-name">Text</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.boxText}</span><span class="hljs-tag">&gt;</span>#1<span class="hljs-tag">&lt;/</span><span class="hljs-name">Text</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;/</span><span class="hljs-name">View</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">View</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.box}</span><span class="hljs-tag">&gt;</span>
        <span class="hljs-tag">&lt;</span><span class="hljs-name">Text</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.boxText}</span><span class="hljs-tag">&gt;</span>#2<span class="hljs-tag">&lt;/</span><span class="hljs-name">Text</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;/</span><span class="hljs-name">View</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">View</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.box}</span><span class="hljs-tag">&gt;</span>
        <span class="hljs-tag">&lt;</span><span class="hljs-name">Text</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.boxText}</span><span class="hljs-tag">&gt;</span>#3<span class="hljs-tag">&lt;/</span><span class="hljs-name">Text</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;/</span><span class="hljs-name">View</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">View</span><span class="hljs-tag">&gt;</span>
  );
}
</code></pre>
    <p class="normal">The container view (the outermost <code class="inlineCode">&lt;View&gt;</code> component) is the column and the child views are <a id="_idIndexMarker700"/>the rows. The <code class="inlineCode">&lt;Text&gt;</code> component is used to label each row. In terms of HTML elements, <code class="inlineCode">&lt;View&gt;</code> is similar to a <code class="inlineCode">&lt;div&gt;</code> element, while <code class="inlineCode">&lt;Text&gt;</code> is similar to a <code class="inlineCode">&lt;p&gt;</code> element.</p>
    <div class="note">
      <p class="normal">Maybe this example could have been called a three-row layout since it has three rows. But, at the same time, the three layout sections are flexing in the direction of the column that they’re in. Use the naming convention that makes the most conceptual sense to you.</p>
    </div>
    <p class="normal">Now, let’s take a look at the styles used to create this layout:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">Platform</span>, <span class="hljs-title">StyleSheet</span>, <span class="hljs-title">StatusBar</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">StyleSheet</span>.<span class="hljs-title">create</span>({
  <span class="hljs-attr">container</span>: {
    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">"column"</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">"</span><span class="hljs-string">center"</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">"space-around"</span>,
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">"ghostwhite"</span>,
    ...<span class="hljs-title">Platform</span>.<span class="hljs-title">select</span>({
      <span class="hljs-attr">ios</span>: { <span class="hljs-attr">paddingTop</span>: <span class="hljs-number">20</span> },
      <span class="hljs-attr">android</span>: { <span class="hljs-attr">paddingTop</span>: <span class="hljs-title">StatusBar</span>.<span class="hljs-property">currentHeight</span> }
    })
  },
  <span class="hljs-attr">box</span>: {
    <span class="hljs-attr">width</span>: <span class="hljs-number">300</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">"</span><span class="hljs-string">center"</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">"center"</span>,
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">"lightgray"</span>,
    <span class="hljs-attr">borderWidth</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">borderStyle</span>: <span class="hljs-string">"dashed"</span>,
    <span class="hljs-attr">borderColor</span>: <span class="hljs-string">"</span><span class="hljs-string">darkslategray"</span>
  },
  <span class="hljs-attr">boxText</span>: {
    <span class="hljs-attr">color</span>: <span class="hljs-string">"darkslategray"</span>,
    <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">"bold"</span>
  }
});
</code></pre>
    <p class="normal">The <code class="inlineCode">flex</code> and <code class="inlineCode">flexDirection</code> properties of <code class="inlineCode">container</code> enable the layout of the rows to flow from <a id="_idIndexMarker701"/>top to bottom. The <code class="inlineCode">alignItems</code> and <code class="inlineCode">justifyContent</code> properties align the child elements to the center of the container and add space around them, respectively.</p>
    <p class="normal">Let’s see how this layout looks when you rotate the device from a portrait orientation to a landscape orientation:</p>
    <figure class="mediaobject"> <img src="../Images/B19636_18_04.png" alt="Picture 4"/></figure>
    <p class="packt_figref">Figure 18.4: Landscape orientation</p>
    <p class="normal">Flexbox automatically figured out how to preserve the layout for you. However, you can improve on this a little bit. For example, the landscape orientation now has a lot of wasted space <a id="_idIndexMarker702"/>to the left and right. You could create your own abstraction for the boxes that you’re rendering. In the following section, we’ll improve on this layout.</p>
    <h2 id="_idParaDest-240" class="heading-2">Improved three-column layout</h2>
    <p class="normal">There are a few things that I think you can improve on from the last example. Let’s fix the styles <a id="_idIndexMarker703"/>so that the children of the Flexbox could stretch to take advantage of the available space. Do you remember, in the last example, when you rotated the device from a portrait orientation to a landscape orientation? There was a lot of wasted space. It would be nice to have the components automatically adjust themselves. Here’s what the new style module looks like:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">Platform</span>, <span class="hljs-title">StyleSheet</span>, <span class="hljs-title">StatusBar</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">StyleSheet</span>.<span class="hljs-title">create</span>({
  <span class="hljs-attr">container</span>: {
    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">"column"</span>,
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">"ghostwhite"</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">"space-around"</span>,
    ...<span class="hljs-title">Platform</span>.<span class="hljs-title">select</span>({
      <span class="hljs-attr">ios</span>: { <span class="hljs-attr">paddingTop</span>: <span class="hljs-number">20</span> },
      <span class="hljs-attr">android</span>: { <span class="hljs-attr">paddingTop</span>: <span class="hljs-title">StatusBar</span>.<span class="hljs-property">currentHeight</span> },
    }),
  },
  <span class="hljs-attr">box</span>: {
    <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">"center"</span>,
    <span class="hljs-attr">alignSelf</span>: <span class="hljs-string">"stretch"</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">"center"</span>,
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">"lightgray"</span>,
    <span class="hljs-attr">borderWidth</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">borderStyle</span>: <span class="hljs-string">"dashed"</span>,
    <span class="hljs-attr">borderColor</span>: <span class="hljs-string">"darkslategray"</span>,
  },
  <span class="hljs-attr">boxText</span>: {
    <span class="hljs-attr">color</span>: <span class="hljs-string">"darkslategray"</span>,
    <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">"bold"</span>,
  },
});
</code></pre>
    <p class="normal">The key change here is the <code class="inlineCode">alignSelf</code> property. This tells elements with the <code class="inlineCode">box</code> style to change their <code class="inlineCode">width</code> or <code class="inlineCode">height</code> (depending on the <code class="inlineCode">flexDirection</code> of their container) to fill space. Also, the <code class="inlineCode">box</code> style no longer defines a <code class="inlineCode">width</code> property because this will be computed <a id="_idIndexMarker704"/>on the fly now. </p>
    <p class="normal">Here’s what the sections look like in portrait mode:</p>
    <figure class="mediaobject"><img src="../Images/B19636_18_05.png" alt="Picture 5"/> </figure>
    <p class="packt_figref">Figure 18.5: Improved three-column layout in portrait orientation</p>
    <p class="normal">Now, each section <a id="_idIndexMarker705"/>takes the full width of the screen, which is exactly what you want to happen. The issue of wasted space was actually more prevalent in landscape orientation, so let’s rotate the device and see what happens to these sections now.</p>
    <figure class="mediaobject"> <img src="../Images/B19636_18_06.png" alt="Picture 6"/></figure>
    <p class="packt_figref">Figure 18.6: Improved three-column layout in landscape orientation</p>
    <p class="normal">Now your <a id="_idIndexMarker706"/>layout is utilizing the entire width of the screen, regardless of orientation. Lastly, let’s implement a proper <code class="inlineCode">Box</code> component that can be used by <code class="inlineCode">App.js</code> instead of having repetitive style properties in place. Here’s what the <code class="inlineCode">Box</code> component looks like:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> <span class="hljs-title">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">PropTypes</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"prop-types"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">View</span>, <span class="hljs-title">Text</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native"</span>;
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">"./styles"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title">Box</span>(<span class="hljs-params">{ children }</span>) {
  <span class="hljs-keyword">return</span> (
    <span class="hljs-tag">&lt;</span><span class="hljs-name">View</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.box}</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">Text</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.boxText}</span><span class="hljs-tag">&gt;</span>{children}<span class="hljs-tag">&lt;/</span><span class="hljs-name">Text</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">View</span><span class="hljs-tag">&gt;</span>
  );
}
<span class="hljs-title">Box</span>.<span class="hljs-property">propTypes</span> = {
  <span class="hljs-attr">children</span>: <span class="hljs-title">PropTypes</span>.<span class="hljs-property">node</span>.<span class="hljs-property">isRequired</span>,
};
</code></pre>
    <p class="normal">You now have the beginnings of a nice layout. Next, you’ll learn about flexing in the other direction: left to right.</p>
    <h2 id="_idParaDest-241" class="heading-2">Flexible rows</h2>
    <p class="normal">In this section, you’ll learn how to make screen layout sections stretch from top to bottom. To do <a id="_idIndexMarker707"/>this, you need a <strong class="keyWord">flexible row</strong>. Here is what the <a id="_idIndexMarker708"/>styles for this screen look like:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">Platform</span>, <span class="hljs-title">StyleSheet</span>, <span class="hljs-title">StatusBar</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">StyleSheet</span>.<span class="hljs-title">create</span>({
  <span class="hljs-attr">container</span>: {
    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">"row"</span>,
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">"ghostwhite"</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">"</span><span class="hljs-string">center"</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">"space-around"</span>,
    ...<span class="hljs-title">Platform</span>.<span class="hljs-title">select</span>({
      <span class="hljs-attr">ios</span>: { <span class="hljs-attr">paddingTop</span>: <span class="hljs-number">20</span> },
      <span class="hljs-attr">android</span>: { <span class="hljs-attr">paddingTop</span>: <span class="hljs-title">StatusBar</span>.<span class="hljs-property">currentHeight</span> },
    }),
  },
  <span class="hljs-attr">box</span>: {
    <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">"center"</span>,
    <span class="hljs-attr">alignSelf</span>: <span class="hljs-string">"stretch"</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">"</span><span class="hljs-string">center"</span>,
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">"lightgray"</span>,
    <span class="hljs-attr">borderWidth</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">borderStyle</span>: <span class="hljs-string">"dashed"</span>,
    <span class="hljs-attr">borderColor</span>: <span class="hljs-string">"darkslategray"</span>,
  },
  <span class="hljs-attr">boxText</span>: {
    <span class="hljs-attr">color</span>: <span class="hljs-string">"darkslategray"</span>,
    <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">"bold"</span>,
  },
});
</code></pre>
    <p class="normal">Here’s the <code class="inlineCode">App</code> component, using the same <code class="inlineCode">Box</code> component that you implemented in the previous section:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> <span class="hljs-title">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">Text</span>, <span class="hljs-title">View</span>, <span class="hljs-title">StatusBar</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native"</span>;
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">"./styles"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title">Box</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./Box"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title">App</span>() {
  <span class="hljs-keyword">return</span> (
    <span class="hljs-tag">&lt;</span><span class="hljs-name">View</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.container}</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">Box</span><span class="hljs-tag">&gt;</span>#1<span class="hljs-tag">&lt;/</span><span class="hljs-name">Box</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">Box</span><span class="hljs-tag">&gt;</span>#2<span class="hljs-tag">&lt;/</span><span class="hljs-name">Box</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">View</span><span class="hljs-tag">&gt;</span>
  );
}
</code></pre>
    <p class="normal">Here’s what <a id="_idIndexMarker709"/>the resulting <a id="_idIndexMarker710"/>screen looks like in portrait mode:</p>
    <figure class="mediaobject"> <img src="../Images/B19636_18_07.png" alt="Picture 7"/></figure>
    <p class="packt_figref">Figure 18.7: Flexible rows in portrait orientation</p>
    <p class="normal">The two columns stretch all the way from the top of the screen to the bottom because of the <code class="inlineCode">alignSelf</code> property, which doesn’t actually specify which direction to stretch in. The two <code class="inlineCode">Box</code> components stretch from top to bottom because they’re displayed in a <strong class="keyWord">flex row</strong>. Note how the spacing between these two sections goes from left to right? This is because of the container’s <code class="inlineCode">flexDirection</code> property, which has a value of <code class="inlineCode">row</code>.</p>
    <p class="normal">Now, let’s see <a id="_idIndexMarker711"/>how this flex direction impacts the layout <a id="_idIndexMarker712"/>when the screen is rotated to a landscape orientation.</p>
    <figure class="mediaobject"> <img src="../Images/B19636_18_08.png" alt="Picture 8"/></figure>
    <p class="packt_figref">Figure 18.8: Flexible rows in landscape orientation</p>
    <p class="normal">Since <strong class="keyWord">Flexbox</strong> has a <code class="inlineCode">justifyContent</code> style property value of <code class="inlineCode">space-around</code>, space is added proportionally to the left, the right, and in between the sections. In the following section, you’ll learn about flexible grids.</p>
    <h2 id="_idParaDest-242" class="heading-2">Flexible grids</h2>
    <p class="normal">Sometimes, you need a screen layout that flows like a grid. For example, what if you have several <a id="_idIndexMarker713"/>sections that are the same width and height, but you’re not <a id="_idIndexMarker714"/>sure how many of these sections will be rendered? Flexbox makes it easy to build a row that flows from left to right until the end of the screen is reached. Then, it automatically continues rendering elements from left to right on the next row.</p>
    <p class="normal">Here’s an example layout in portrait mode:</p>
    <figure class="mediaobject"> <img src="../Images/B19636_18_09.png" alt="Picture 9"/></figure>
    <p class="packt_figref">Figure 18.9: Flexible grids in portrait orientation</p>
    <p class="normal">The beauty <a id="_idIndexMarker715"/>of this approach is that you don’t need to know <a id="_idIndexMarker716"/>in advance how many columns are in a given row. The dimensions of each child determine what will fit in a given row.</p>
    <p class="normal">To see the styles used to create this layout, you can follow this link: <a href="https://github.com/PacktPublishing/React-and-React-Native-5E/tree/main/Chapter18/flexible-grids/styles.ts"><span class="url">https://github.com/PacktPublishing/React-and-React-Native-5E/tree/main/Chapter18/flexible-grids/styles.ts</span></a>.</p>
    <p class="normal">Here’s the <code class="inlineCode">App</code> component that renders each section:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> <span class="hljs-title">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">View</span>, <span class="hljs-title">StatusBar</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native"</span>;
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">"./styles"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title">Box</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./Box"</span>;
<span class="hljs-keyword">const</span> boxes = <span class="hljs-keyword">new</span> <span class="hljs-title">Array</span>(<span class="hljs-number">10</span>).<span class="hljs-title">fill</span>(<span class="hljs-literal">null</span>).<span class="hljs-title">map</span>(<span class="hljs-function">(</span><span class="hljs-params">v, i</span><span class="hljs-function">) =&gt;</span> i + <span class="hljs-number">1</span>);
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title">App</span>() {
  <span class="hljs-keyword">return</span> (
    <span class="hljs-tag">&lt;</span><span class="hljs-name">View</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.container}</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">StatusBar</span><span class="hljs-tag"> </span><span class="hljs-attr">hidden</span><span class="hljs-tag">=</span><span class="hljs-string">{false}</span><span class="hljs-tag"> /&gt;</span>
      {boxes.map((i) =&gt; (
        <span class="hljs-tag">&lt;</span><span class="hljs-name">Box</span><span class="hljs-tag"> </span><span class="hljs-attr">key</span><span class="hljs-tag">=</span><span class="hljs-string">{i}</span><span class="hljs-tag">&gt;</span>#{i}<span class="hljs-tag">&lt;/</span><span class="hljs-name">Box</span><span class="hljs-tag">&gt;</span>
      ))}
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">View</span><span class="hljs-tag">&gt;</span>
  );
}
</code></pre>
    <p class="normal">Lastly, let’s make <a id="_idIndexMarker717"/>sure that <a id="_idIndexMarker718"/>the landscape orientation works with this layout:</p>
    <figure class="mediaobject"> <img src="../Images/B19636_18_10.png" alt="Picture 10"/></figure>
    <p class="packt_figref">Figure 17.10: Flexible grids in landscape orientation</p>
    <div class="note">
      <p class="normal">You may have noticed that there’s some superfluous space on the right side. Remember, these sections are only visible in this book because we want them to be visible. In a real app, they’re just grouping other React Native components. However, if the space to the right of the screen becomes an issue, play around with the margin and the width of the child components.</p>
    </div>
    <p class="normal">Now that you have an understanding of how <strong class="keyWord">flexible grids</strong> work, we’ll look at flexible rows and columns next.</p>
    <h2 id="_idParaDest-243" class="heading-2">Flexible rows and columns</h2>
    <p class="normal">Let’s learn how to combine rows and columns to create a <a id="_idIndexMarker719"/>sophisticated layout for your app. For example, sometimes, you need the ability to nest columns within rows or rows within columns. To <a id="_idIndexMarker720"/>see the <code class="inlineCode">App</code> component of an application that nests columns <a id="_idIndexMarker721"/>within rows, you can follow this link: <a href="https://github.com/PacktPublishing/React-and-React-Native-5E/tree/main/Chapter18/flexible-rows-and-columns/App.tsx"><span class="url">https://github.com/PacktPublishing/React-and-React-Native-5E/tree/main/Chapter18/flexible-rows-and-columns/App.tsx</span></a>.</p>
    <p class="normal">You’ve created abstractions for the layout pieces (<code class="inlineCode">&lt;Row&gt;</code> and <code class="inlineCode">&lt;Column&gt;</code>) and the content piece (<code class="inlineCode">&lt;Box&gt;</code>). Let’s see what this screen looks like:</p>
    <figure class="mediaobject"><img src="../Images/B19636_18_11.png" alt="Picture 11"/> </figure>
    <p class="packt_figref">Figure 18.11: Flexible rows and columns</p>
    <p class="normal">This layout probably looks familiar because you’ve done it in the <em class="italic">Flexible grids</em> section. The key difference as compared to <em class="italic">Figure 18.9</em> is in how these content sections are ordered. </p>
    <p class="normal">For example, <strong class="screenText">#2</strong> doesn’t go to the right of <strong class="screenText">#1</strong>, it goes below it. This is because we’ve placed <strong class="screenText">#1</strong> and <strong class="screenText">#2</strong> in <code class="inlineCode">&lt;Column&gt;</code>. The same happens with <strong class="screenText">#3</strong> and <strong class="screenText">#4</strong>. These two columns are placed in a row. Then, the next row begins, and so on.</p>
    <p class="normal">This is just <a id="_idIndexMarker722"/>one of many possible layouts that <a id="_idIndexMarker723"/>you can achieve <a id="_idIndexMarker724"/>by nesting row Flexboxes and column Flexboxes. Let’s take a look at the <code class="inlineCode">Row</code> component now:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> <span class="hljs-title">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title">PropTypes</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"prop-types"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">View</span>, <span class="hljs-title">Text</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native"</span>;
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">"./styles"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title">Box</span>(<span class="hljs-params">{ children }</span>) {
  <span class="hljs-keyword">return</span> (
    <span class="hljs-tag">&lt;</span><span class="hljs-name">View</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.box}</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">Text</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.boxText}</span><span class="hljs-tag">&gt;</span>{children}<span class="hljs-tag">&lt;/</span><span class="hljs-name">Text</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">View</span><span class="hljs-tag">&gt;</span>
  );
}
<span class="hljs-title">Box</span>.<span class="hljs-property">propTypes</span> = {
  <span class="hljs-attr">children</span>: <span class="hljs-title">PropTypes</span>.<span class="hljs-property">node</span>.<span class="hljs-property">isRequired</span>,
};
</code></pre>
    <p class="normal">This component applies the row style to the <code class="inlineCode">&lt;View&gt;</code> component. The end result is cleaner JSX markup in the <code class="inlineCode">App</code> component when creating a complex layout. Finally, let’s look at the <code class="inlineCode">Column</code> component:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> <span class="hljs-title">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title">PropTypes</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"prop-types"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">View</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native"</span>;
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">"./styles"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title">Column</span>(<span class="hljs-params">{ children }</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-tag">&lt;</span><span class="hljs-name">View</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">{styles.column}</span><span class="hljs-tag">&gt;</span>{children}<span class="hljs-tag">&lt;/</span><span class="hljs-name">View</span><span class="hljs-tag">&gt;</span>;
}
<span class="hljs-title">Column</span>.<span class="hljs-property">propTypes</span> = {
  <span class="hljs-attr">children</span>: <span class="hljs-title">PropTypes</span>.<span class="hljs-property">node</span>.<span class="hljs-property">isRequired</span>,
};
</code></pre>
    <p class="normal">This looks just like the <code class="inlineCode">Row</code> component, just with a different style applied to it. It also serves the same purpose as <code class="inlineCode">Row</code>: to enable simpler JSX markup for layouts in other components.</p>
    <h1 id="_idParaDest-244" class="heading-1">Summary</h1>
    <p class="normal">This chapter introduced you to styles in React Native. Though you can use many of the same CSS style properties that you’re used to, the CSS style sheets used in web applications look very different. Namely, they’re composed of plain JavaScript objects.</p>
    <p class="normal">Then, you learned how to work with the main React Native layout mechanism: <strong class="keyWord">Flexbox</strong>. This is the preferred way of laying out most web applications these days, so it makes sense to be able to reuse this approach in a Native app. You created several different layouts, and you saw how they looked in portrait and landscape orientation.</p>
    <p class="normal">In the next chapter, you’ll start implementing navigation for your app.</p>
  </div>
</body></html>