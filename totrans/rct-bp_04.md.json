["```js\nnpm install --save express@4.12.3 mongoose@4.0.2 body-parser@1.12.3 cors@2.7.1 morgan@1.7.0\n\n```", "```js\nMongoDB shell version: 3.0.7\nconnecting to: test\n>\n\n```", "```js\n'use strict';\nvar express = require('express');\nvar bodyparser = require('body-parser');\nvar app = express();\nvar morgan = require('morgan');\nvar cors = require('cors');\napp.use(cors({credentials: true, origin: true}));\nvar mongoose = require('mongoose');\nmongoose.connect('mongodb://localhost/websearchapi/sites');\n```", "```js\nvar siteSchema = new mongoose.Schema({\n  title: String,\n  link: String,\n  desc: String\n});\n```", "```js\nvar searchDb = mongoose.model('sites', siteSchema);\n```", "```js\nvar routes = function (app) {\n  app.use(bodyparser.json());\n\n  app.get('/search/:title', function (req, res) {\n    searchDb.find({title: req.params.title}, function (err, data) {\n      if (err) return res.status(500)\n        .send({\n          'msg': 'couldn\\'t find anything'\n        });\n      res.json(data);\n    });\n  });\n};\n```", "```js\nvar router = express.Router();\nroutes(router);\napp.use('/v1', router);\nvar port = process.env.PORT || 5000;\napp.listen(port, function () {\n  console.log('server listening on port ' + (process.env.PORT || port));\n});\n```", "```js\n$ mongo\nMongoDB shell version: 3.0.7\nconnecting to: test\n> use websearchapi\nswitched to db websearchapi\n> db.sites.insert({\"title\": [\"Algorithm Design Paradigms\"], \"link\": [\"http://www.csc.liv.ac.uk/~ped/teachadmin/algor/algor.html\"], \"desc\": [\"A course by Paul Dunne at the University of Liverpool.  Slides and notes in HTML and PS.\\r\"]})\nWriteResult({ \"nInserted\" : 1 })\n>\n\n```", "```js\nmongoimport --host localhost --db websearchapi  --collection sites < sites.json\n\n```", "```js\n$ http http://localhost:5000/v1/search/CoreChain\nHTTP/1.1 200 OK\nConnection: keep-alive\nContent-Length: 144\nContent-Type: application/json; charset=utf-8\nDate: Thu, 05 May 2016 11:09:48 GMT\nETag: W/\"90-+q3XcPaDzte23IiyDJxmow\"\nX-Powered-By: Express\n\n[\n {\n \"_id\": \"56336529aed5e6116a772bb0\",\n \"desc\": \"JavaScript library for displaying graphs.\\r\",\n \"link\": \"http://www.corechain.com/\",\n \"title\": \"CoreChain\"\n }\n]\n\n```", "```js\n{ <field>: /pattern/<options> }\n\n```", "```js\n{ <field>: { $regex: /pattern/, $options: '<options>' } }\n{ <field>: { $regex: 'pattern', $options: '<options>' } }\n{ <field>: { $regex: /pattern/<options> } }\n\n```", "```js\n  app.get('/search/:title', function (req, res) {\n    searchDb.find({title: \n     {Â $regex: '^' + req.params.title + '*', $options: 'i' } }, \n    function (err, data) {\n      res.json(data);\n    });\n  });\n```", "```js\n  app.get('/search/:title', function (req, res) {\n    searchDb.find({title: \n     { $regex: req.params.title +'*', $options: 'ix' } },\n    function (err, data) {\n      res.json(data);\n    });\n  });\n```", "```js\n$ http http://localhost:5000/v1/search/ubi\nHTTP/1.1 200 OK\nAccess-Control-Allow-Credentials: true\nConnection: keep-alive\nContent-Length: 1235\nContent-Type: application/json; charset=utf-8\nDate: Thu, 05 May 2016 11:07:00 GMT\nETag: W/\"4d3-Pr1JAiSI46vMRz2ogRCF0Q\"\nVary: Origin\nX-Powered-By: Express\n\n[\n {\n \"_id\": \"572b29507d406be7852e8279\",\n \"desc\": \"The component oriented simple scripting language with a robust component composition model.\\r\",\n \"link\": \"http://www.lubankit.org/\",\n \"title\": \"Luban\"\n },\n {\n \"_id\": \"572b29507d406be7852e82a4\",\n \"desc\": \"A specification of a new 'bubble sort' in three or more dimensions, with illustrative images.\\r\",\n \"link\": \"http://www.tropicalcoder.com/3dBubbleSort.htm\",\n \"title\": \"Three Dimensional Bubble Sort\"\n },\n {\n \"_id\": \"572b29507d406be7852e82ab\",\n \"desc\": \"Comprehensive list of publications by L. Barthe on modelling from sketching, point based modelling, subdivision surfaces and implicit modelling.\\r\",\n \"link\": \"http://www.irit.fr/~Loic.Barthe/\",\n \"title\": \"Publications by Loic Barthe\"\n },\n {\n \"_id\": \"572b29507d406be7852e8315\",\n \"desc\": \"D3 plugin for visualizing time series.\\r\",\n \"link\": \"http://square.github.io/cubism/\",\n \"title\": \"Cubism.js\"\n },\n {\n \"_id\": \"572b29507d406be7852e848a\",\n \"desc\": \"Browserling and Node modules.\\r\",\n \"link\": \"http://substack.net/\",\n \"title\": \"Substack\"\n },\n {\n \"_id\": \"572b29507d406be7852e848d\",\n \"desc\": \"Google tech talk presented by Ryan Dahl creator of the node.js. Explains its design and how to get started with it.\\r\",\n \"link\": \"https://www.youtube.com/watch?v=F6k8lTrAE2g\",\n \"title\": \"Youtube : Node.js: JavaScript on the Server\"\n }\n]\n\n```", "```js\nnpm install --save passport@0.3.0 passport-http-bearer@1.0.1\n\n```", "```js\nvar passport = require('passport');\nvar Strategy = require('passport-http-bearer').Strategy;\n```", "```js\nvar appToken = '1234567890';\n\npassport.use(new Strategy(\n  function (token, cb) {\n    console.log(token);\n    if (token === appToken) {\n      return cb(null, true);\n    }\n    return cb(null, false);\n\n  })\n);\n```", "```js\n  app.get('/search/:title',\n    passport.authenticate('bearer', {session: false}),\n    function (req, res) {\n      searchDb.find({title: { $regex: '^' + req.params.title + '*', $options: 'i' } },\n      function (err, data) {\n        if(err) return console.log('find error:', err);\n        if(!data.length)\n          return res.status(500)\n            .send({\n              'msg': 'No results'\n            })\n        res.json(data);\n      });\n    });\n```", "```js\n$ http http://localhost:5000/v1/search/react 'Authorization:Bearer 1234567890'\nAccess-Control-Allow-Credentials: true\nConnection: keep-alive\nContent-Length: 290\nContent-Type: application/json; charset=utf-8\nDate: Thu, 05 May 2016 11:15:32 GMT\nETag: W/\"122-7QHSA2Gb7qRseLzxE1QBhg\"\nVary: Origin\nX-Powered-By: Express\n\n[\n {\n \"_id\": \"572b29507d406be7852e8388\",\n \"desc\": \"A JavaScript library for building user interfaces.\\r\",\n \"link\": \"http://facebook.github.io/react/\",\n \"title\": \"React\"\n },\n {\n \"_id\": \"572b29507d406be7852e8479\",\n \"desc\": \"Node.js humour.\\r\",\n \"link\": \"http://nodejsreactions.tumblr.com/\",\n \"title\": \"Node.js Reactions\"\n }\n]\n\n```", "```js\nnpm install --save react-bootstrap@0.29.3 classnames@2.2.5 history@2.1.1 react-router@2.4.0 react-router-bootstrap@0.23.0 superagent@1.8.3 reflux@0.4.1\n\n```", "```js\n\"dependencies\": {\n  \"babel-preset-es2015\": \"^6.6.0\",\n  \"babel-preset-react\": \"^6.5.0\",\n  \"babel-tape-runner\": \"^2.0.0\",\n  \"babelify\": \"^7.3.0\",\n  \"browser-sync\": \"^2.12.5\",\n  \"browserify\": \"^13.0.0\",\n  \"browserify-middleware\": \"^7.0.0\",\n  \"classnames\": \"^2.2.5\",\n  \"easescroll\": \"0.0.10\",\n  \"eslint\": \"^2.9.0\",\n  \"history\": \"^2.1.1\",\n  \"lodash\": \"^4.11.2\",\n  \"react\": \"^15.0.2\",\n  \"react-bootstrap\": \"^0.29.3\",\n  \"react-dom\": \"^15.0.2\",\n  \"react-router\": \"^2.4.0\",\n  \"react-router-bootstrap\": \"^0.23.0\",\n  \"reactify\": \"^1.1.1\",\n  \"reflux\": \"^0.4.1\",\n  \"serve-favicon\": \"^2.3.0\",\n  \"superagent\": \"^1.8.3\",\n  \"tape\": \"^4.5.1\",\n  \"url\": \"^0.11.0\",\n  \"basic-auth\": \"^1.0.3\"\n}\n```", "```js\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.min.css\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"//netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css\" />\n```", "```js\n'use strict';\nimport React from 'react';\nimport { Router, Route, DefaultRoute }\n  from 'react-router';\nimport { render } from 'react-dom'\nimport Search from './components/search.jsx';\nimport Results from './components/results.jsx';\nimport Layout from './components/layout.jsx';\nimport SearchActions from './actions/search.js';\n```", "```js\nimport { browserHistory } from 'react-router'\n```", "```js\nrender((\n  <Router history={ browserHistory }>\n    <Route component={Layout}>\n      <Route path=\"/\" component={Search}>\n        <Route path=\"search\" component={Results}/>\n      </Route>\n    </Route>\n  </Router>\n), document.getElementById('container'));\n```", "```js\n'use strict';\nimport Reflux from \"reflux\";\nlet actions = {\n  performSearch: Reflux.createAction(\"performSearch\"),\n  emitSearchData: Reflux.createAction(\"emitSearchData\")\n};\n\nexport default actions;\n```", "```js\n'use strict';\nimport React from 'react';\nconst Search = React.createClass({\n  render() {\n    return <div/>;\n  }\n});\n\nexport default Search;\n```", "```js\n'use strict';\nimport React from 'react';\nconst Results = React.createClass({\n  render() {\n    return <div/>;\n  }\n});\n\nexport default Results;\n```", "```js\n'use strict';\nimport React from 'react';\nimport Reflux from 'reflux';\nimport {Row} from \"react-bootstrap\";\nimport Footer from \"./footer.jsx\";\n\nconst Layout = React.createClass({\n  render() {\n    return (<div>\n\n      {this.props.children}\n```", "```js\n      <Footer />\n```", "```js\n      </div>);\n  }\n});\n\nexport default Layout;\n```", "```js\n'use strict';\nimport React from 'react';\n\nconst Footer = React.createClass({\n  render(){\n    return (<footer className=\"footer text-center\">\n      <div className=\"container\">\n        <p className=\"text-muted\">The Web Searcher</p>\n      </div>\n    </footer>);\n  }\n\n});\nexport default Footer;\n```", "```js\nhtml {\n  position: relative;\n  min-height: 100%;\n}\nbody {\n  margin-top: 60px;\n  margin-bottom: 60px;\n}\n.footer {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  height: 60px;\n  background-color: #f5f5f5;\n}\n```", "```js\n*:focus {\n  outline: none\n}\n```", "```js\n.header {\n  background-color: transparent;\n  border-color: transparent;\n}\n.quicksearch {\n  padding-left: 0;\n  margin-bottom: 20px;\n  width: 95.5%;\n  background: white;\n  z-index: 1;\n}\n.fullsearch .list-group-item{\n  border:0;\n  z-index: 0;\n}\nul.fullsearch li:hover, ul.quicksearch li:active, ul.quicksearch li:focus {\n  color: #3c763d;\n  background-color: #dff0d8;\n  outline: 0;\n  border: 0;\n}\nul.quicksearch li:hover, ul.quicksearch li:active, ul.quicksearch li:focus {\n  color: #3c763d;\n  background-color: #dff0d8;\n  outline: 0;\n  border: 0;\n}\n.container {\n  width: auto;\n  max-width: 680px;\n  padding: 0 15px;\n}\n.container .text-muted {\n  margin: 20px 0;\n}\n```", "```js\n'use strict';\nimport Agent from 'superagent';\n```", "```js\nclass Request {\n\n  constructor(baseUrl) {\n    this.baseUrl = baseUrl;\n  }\n\n  get(query, params) {\n    return this.httpAgent(query, 'get', params, null);\n  }\n\n  post(url, params, data, options) {\n    return this.httpAgent(url, 'post', params, data)\n  }\n\n  put(url, params, data) {\n    return this.httpAgent(url, 'put', params, data)\n  }\n```", "```js\n  httpAgent(url, httpMethod, params, data) {\n    const absoluteUrl = this.baseUrl + url;\n    let req = Agent[httpMethod](absoluteUrl)\n      .timeout(5000);\n\n    let token = '1234567890';\n\n    req.set('Authorization', 'Bearer ' + token);\n    req.withCredentials();\n```", "```js\n    if (data)\n      req.send(data);\n\n    if (params)\n      req.query(params);\n\n    return this.sendAgent(req);\n  }\n```", "```js\n  sendAgent(req) {\n    return new Promise(function (resolve, reject) {\n      req.end(function (err, res) {\n        if (err) {\n          reject(err);\n        } else if (res.error) {\n          reject(res.error);\n        }\n        else {\n          resolve(JSON.parse(res.text));\n        }\n      });\n    });\n  }\n\n}\n\nexport default Request;\n```", "```js\n'use strict';\nimport Request from './request.js';\n\n}\n\nexport default SearchService;\n```", "```js\n'use strict';\nimport SearchService from './search.js';\nexports.searchService = new SearchService('http://localhost:5000/v1/search/');\n```", "```js\n'use strict';\nexport const Config = {\n  'urls':{\n    'search' : 'http://localhost:5000/v1/search/'\n  }\n};\n```", "```js\nimport {Config} from '../config.js';\nimport SearchService from './search.js';\nexports.searchService = new SearchService(Config.urls.search); \n```", "```js\nnpm install --save babel-tape-runner@2.0.0 tape@4.5.1\n\n```", "```js\nimport test from 'tape';\nimport {searchService} from '../../source/service/index.js';\ntest('A passing test', (assert) => {\n  searchService.get('Understanding SoundEx Algorithms')\n  .then((result)=> {\n    assert.equals(result[0].title,\n    \"Understanding SoundEx Algorithms\",\"Exact match found for \\\"Understanding SoundEx Algorithms\\\"\");\n    assert.end();\n  });\n});\n```", "```js\n$ ./.bin/babel-tape-runner test/service/search.js \nTAP version 13\n# A passing test\nok 1 Exact match found for \"Understanding SoundEx Algorithms\"\n\n1..1\n# tests 1\n# pass  1\n\n# ok\n\n```", "```js\n\"use strict\";\nimport Reflux from \"reflux\";\nimport SearchActions from \"../actions/search\";\nimport {searchService} from \"../service/index.js\";\nlet _history = {};\n```", "```js\nconst SearchStore = Reflux.createStore ({\n\n  init() {\n    this.listenTo(SearchActions.emitSearchData, this.emitSearchResults)\n  },\n```", "```js\n  emitSearchResults(results) {\n    if (!_history[JSON.stringify(results.query)])\n      _history[JSON.stringify(results.query)] = results.response;\n    this.trigger(_history[JSON.stringify(results.query)]);\n  }\n```", "```js\n});\n\nexport default SearchStore;\n```", "```js\nimport React, { Component, PropTypes } from 'react';\nimport {Grid,Col,Row,Button,Input,Panel,ListGroup,ListGroupItem} from 'react-bootstrap';\nimport FontAwesome from '../components/fontawesome.jsx';\nimport Picture from '../components/picture.jsx';\n```", "```js\nimport SearchActions from '../actions/search.js';\nimport Reflux from 'reflux';\nimport { findDOMNode } from 'react-dom';\nimport { Router, Link } from 'react-router'\nimport Footer from \"./footer.jsx\";\nimport SearchStore from \"../store/search.js\";\n\nconst Search = React.createClass ({\n  contextTypes: {\n    router: React.PropTypes.object.isRequired\n  },\n  getInitialState() {\n    return {\n      showQuickSearch: false\n    }\n  },\n```", "```js\n  renderQuickSearch() {\n  },\n```", "```js\n  renderImages() {\n  const searchIcon = <FontAwesome style={{fontSize:20}} icon=\"search\"/>;\n  const imgSet = [\n    {\n      media: \"only screen and (min-width: 601px)\",\n      src: \" http://websearchapp.herokuapp.com/large.png\"\n    },\n    {\n      media: \"only screen and (max-width: 600px)\",\n      src: \"http://websearchapp.herokuapp.com/small.png\"\n    }\n  ];\n  const defaultImage = {\n    src: \"http://websearchapp.herokuapp.com/default.png\",\n    alt: \"SearchTheWeb logo\"\n  };\n  return {\n    searchIcon: searchIcon,\n    logoSet: imgSet,\n    defaultImage: defaultImage\n  }\n},\n```", "```js\nrender() {\n  return (<Grid>\n    <Row>\n      <Col xs={ 12 } style={{ textAlign:\"center\" }}>\n        <Picture \n          imgSet={ this.renderImages().logoSet }\n          defaultImage={ this.renderImages().defaultImage }/>\n      </Col>\n    </Row>\n    <Row>\n      <Col xs={12}>\n        <form>\n          <FormGroup>\n            <InputGroup>\n              <InputGroup.Addon>\n                { this.renderImages().searchIcon }\n              </InputGroup.Addon>\n              <FormControl\n                ref=\"searchInput\"\n                type=\"text\" />\n              <InputGroup.Button>\n                <Button onClick={ this.handleSearchButton }>\n                  Search\n                </Button>\n              </InputGroup.Button>\n            </InputGroup>\n          </FormGroup>\n        </form>\n        <ListGroup style={{display:this.state.showQuickSearch ?\n          'block':'none'}}\n          className=\"quicksearch\">\n          {this.renderQuickSearch()}\n        </ListGroup>\n      </Col>\n    </Row>\n    <Row>\n      <Col xs={12}>\n        {this.props.children}\n```", "```js\n      </Col>\n    </Row>\n\n  </Grid>);\n  }\n});\n\nexport default Search;\n```", "```js\nrenderQuickSearch(){\n  return this.state.results.map((result, idx)=> {\n    if (idx < 5) {\n      return (<ListGroupItem key={\"f\"+idx}\n        onClick={this.handleClick.bind(null,idx)}\n        header={result.title}>{result.desc}\n        <br/>\n        <a bsStyle=\"link\" style={{padding:0}}\n          href={result.link} target=\"_blank\">{result.link}\n        </a>\n      </ListGroupItem>)\n      }\n    })\n  },\n```", "```js\ngetInitialState(){\n  return {\n    showQuickSearch: false,\n    results: [],\n    numResults: 0\n  }\n},\n```", "```js\nhandleClick(targetIndex) {\n  if (this.state.numResults >= targetIndex) {\n    window.open(this.state.results[targetIndex].link, \"_blank\");\n  }\n},\n```", "```js\n<form>\n  <FormGroup>\n    <InputGroup>\n      <InputGroup.Addon>\n        { this.renderImages().searchIcon }\n      </InputGroup.Addon>\n      <FormControl\n        ref=\"searchInput\"\n        type=\"text\" />\n      <InputGroup.Button>\n        <Button onClick={ this.handleSearchButton }>\n          Search\n        </Button>\n      </InputGroup.Button>\n    </InputGroup>\n  </FormGroup>\n</form>\n```", "```js\nperformSearch() {\n  console.log(findDOMNode(this.refs.searchInput).value);\n},\n```", "```js\ncomponentDidMount() {\n  document.getElementById(\"container\")\n  .addEventListener('keypress', this. handleKeypress);\n  document.getElementById(\"container\")\n  .addEventListener('keydown', this.handleKeypress);\n},\ncomponentWillUnmount() {\n  document.getElementById(\"container\")\n  .removeEventListener('keypress', this.handleKeypress);\n  document.getElementById(\"container\").removeEventListener('keydown', this.handleKeypress);\n},\n```", "```js\naltKey: false\ncharCode: 97\nctrlKey: false\nkeyCode: 97\nshiftKey: false\nmetaKey: false\ntype: \"keypress\"\n```", "```js\nconst keys = {\n  \"BACKSPACE\": 8,\n  \"ESCAPE\": 27,\n  \"UP\": 38,\n  \"LEFT\": 37,\n  \"RIGHT\": 39,\n  \"DOWN\": 40,\n  \"ENTER\": 13\n};\n```", "```js\nhandleKeypress (e) {\n  if (e.ctrlKey || e.metaKey) {\n    return;\n  }\n```", "```js\n  const inputField = findDOMNode(this.refs.searchInput);\n    const charCode = (typeof e.which == \"number\") ?\n    e.which : e.keyCode\n```", "```js\n  switch (charCode) {\n    case keys.BACKSPACE:\n    inputField.value.length <= 0 ?\n    this.closeSearchField(e) : null;\n    break;\n```", "```js\n  case keys.ESCAPE:\n    this.closeSearchField(e);\n    break;\n```", "```js\n  case keys.LEFT:\n    case keys.RIGHT:\n    // allow left and right but don't perform search\n    break;\n```", "```js\n  case keys.UP:\n    if (this.state.activeIndex > -1) {\n      this.setState(\n        {activeIndex: this.state.activeIndex - 1}\n      );\n    }\n    if (this.state.activeIndex < 0) {\n      inputField.focus();\n      e.preventDefault();\n    }\n    break;\n```", "```js\n  case keys.DOWN:\n    if (this.state.activeIndex < 5\n    && this.state.numResults > (1 + this.state.activeIndex)) {\n      this.setState({activeIndex: this.state.activeIndex + 1});\n    }\n    e.preventDefault();\n    break;\n```", "```js\n  case keys.ENTER:\n    e.preventDefault();\n    if (this.state.activeIndex === -1 ||\n      inputField === document.activeElement) {\n        if (inputField.value.length > 1) {\n          this.context.router.push(null,\n          `/search?q=${inputField.value}`, null);\n          this.closeSearchField(e);\n          SearchActions.showResults();\n        }\n      }\n      else {\n        if (this.state.numResults >= this.state.activeIndex) {\n          window.open( this.state.results[this.state.activeIndex].link, '_blank');\n        }\n      }\n      break;\n```", "```js\n      default:\n        inputField.focus();\n        this.performSearch();\n        if (!this.state.showQuickSearch) {\n          this.setState({showQuickSearch: true});\n        }\n        SearchActions.hideResults();\n        break;\n    }\n  },\n```", "```js\n  hideResults: Reflux.createAction(\"hideResults\"),showResults: Reflux.createAction(\"showResults\"),\n```", "```js\nimport {searchService} from \"../service/index.js\";\nlet _history = {};\n```", "```js\nactions.performSearch.listen( (query) => {\n  if(_history[JSON.stringify(query)]){\n    actions.emitSearchData({query:query,response:\n      _history[JSON.stringify(query)]});\n  }\n  else {\n    searchService.get(query)\n      .then( (response) => {\n        _history[JSON.stringify(query)]=response;\n        actions.emitSearchData({query:query,response:response});\n      }).catch( (err) => {\n      // do some error handling\n    })\n  }\n});\n```", "```js\nperformSearch(){\n  const val = findDOMNode(this.refs.searchInput).value;\n  val.length > 1 ?\n    SearchActions.performSearch(val) :\n    this.setState({results: []});\n},\n```", "```js\nmixins: [\n  Reflux.listenTo(SearchStore, \"getSearchResults\")\n],\ngetSearchResults(res) {\n  this.setState({results: res, numResults: \n    res.length < 5 ? res.length : 5});\n},\n```", "```js\nactiveIndex: -1,\n```", "```js\nrenderQuickSearch() {\n  return this.state.results.map((result, idx)=> {\n    if (idx < 5) {\n      return (<ListGroupItem key={ \"f\" + idx }\n        className={ this.state.activeIndex === idx ? \n \"list-group-item-success\":\"\"}\n        onClick={this.handleClick.bind(null,idx)}\n        header={result.title}>{ result.desc }\n        <br/>\n        <a bsStyle=\"link\" style={{padding:0}}\n          href={ result.link } target=\"_blank\">\n          { result.link }\n        </a>\n      </ListGroupItem>)\n    }\n  })\n},\n```", "```js\n<input type=\"text\" ref=\"hiddeninput\"\n  style={{left:-100000,top:-100000,position: 'absolute',  \n  display:'block',height:0,width:0,zIndex:0,\n  padding:0,margin:0}}/>\n```", "```js\n  case keys.DOWN:\n    if (this.state.activeIndex < 5\n    && this.state.numResults > (1 + this.state.activeIndex)) {\n      this.setState({activeIndex: this.state.activeIndex + 1});\n    }\n findDOMNode(this.refs.hiddeninput).focus();\n    e.preventDefault();\n    break;\n```", "```js\ndefault:\n  inputField.focus();\n delay(() => {\n if (inputField.value.length >= 2) {\n this.performSearch();\n }\n }, 400);\n  if (!this.state.showQuickSearch) {\n    this.setState({showQuickSearch: true});\n  }\n  SearchActions.hideResults();\n  break;\n```", "```js\nlet delay = (() => {\n  var timer = 0;\n  return function (callback, ms) {\n    clearTimeout(timer);\n    timer = setTimeout(callback, ms);\n  };\n})();\n```", "```js\nhandleSearchButton(e) {\n  const val = findDOMNode(this.refs.searchInput).value;\n  if (val.length > 1) {\n    this.context.router.push(`/search?q=${val}`);\n    this.closeSearchField(e);\n    SearchActions.showResults();\n  }\n},\ncloseSearchField(e) {\n  e.preventDefault();\n  this.setState({showQuickSearch: false});\n},\n```", "```js\ncontextTypes: {\n  router: React.PropTypes.object.isRequired\n},\nchildContextTypes: {\n  location: React.PropTypes.object\n},\ngetChildContext() {\n  return { location: this.props.location }\n},\n```", "```js\nimport React, { Component, PropTypes } from 'react';\nimport Reflux from 'reflux';\nimport {Router, Link, Lifecycle } from 'react-router'\nimport SearchActions from '../actions/search.js';\nimport SearchStore from \"../store/search.js\";\nimport {Button,ListGroup,ListGroupItem} from 'react-bootstrap';\nimport {findDOMNode} from 'react-dom';\n\nconst Results = React.createClass ({\n  contextTypes: {\n    location: React.PropTypes.object\n  },\n```", "```js\n  getInitialState() {\n    return {\n      results: [],\n      resultsToShow: 10,\n      numResults: 0,\n      showResults: true\n    }\n  },\n```", "```js\n  componentWillMount() {\n    SearchActions.performSearch(this.context.location.query.q);\n  },\n```", "```js\n  mixins: [\n    Reflux.listenTo(SearchStore, \"getSearchResults\"),\n    Reflux.listenTo(SearchActions.hideResults, \"hideResults\"),\n    Reflux.listenTo(SearchActions.showResults, \"showResults\")\n  ],\n```", "```js\n  hideResults() {\n    this.setState({showResults: false});\n  },\n  showResults() {\n    this.setState({showResults: true});\n  },\n```", "```js\n  getSearchResults(res) {\n    let resultsToShow = this.state.resultsToShow;\n    if (res.length < resultsToShow) {\n      resultsToShow = res.length;\n    }\n    this.setState({results: res, numResults: res.length,\n      resultsToShow: resultsToShow});\n  },\n```", "```js\n  renderSearch(){\n    return this.state.results.map((result, idx)=> {\n      if (idx < this.state.resultsToShow) {\n        return <ListGroupItem key={\"f\"+idx}\n          header={result.title}>{result.desc}<br/>\n          <Button bsStyle=\"link\" style={{padding:0}}>\n            <a href={result.link}\n              target=\"_blank\">{result.link}</a>\n          </Button>\n        </ListGroupItem>\n      }\n    })\n  },\n```", "```js\n  render() {\n    return (this.state.showResults) ? (\n      <div>\n        <div style={{textAlign:\"center\"}}>\n          Showing {this.state.resultsToShow} out of {this.state.numResults} hits\n        </div>\n        <ListGroup className=\"fullsearch\">\n          {this.renderSearch()}\n        </ListGroup>\n      </div>\n    ): null;\n  }\n});\nexport default Results;\n```", "```js\ngetInitialState() {\n  return {\n    results: [],\n    resultsToShow: 10,\n    numResults: 0,\n    showResults: true,\n activePage: 1\n  }\n},\nresetState() {\n  this.setState({\n    resultsToShow: 10,\n    showResults: true,\n    activePage: 1\n  })\n},\n```", "```js\ngetSearchResults(res) {\n this.resetState();\n  let resultsToShow = this.state.resultsToShow;\n  if (res.length < resultsToShow) {\n    resultsToShow = res.length;\n  }\n  this.setState({results: res, numResults: res.length,\n  resultsToShow: resultsToShow});\n},\n```", "```js\nrenderPager() {\n  return (<Pagination\n    prev\n    next\n    items={Math.ceil(this.state.results.length/this.state.resultsToShow)}\n    maxButtons={10}\n    activePage={this.state.activePage}\n    onSelect={this.handleSelect}/>)\n},\n```", "```js\nimport {Button,ListGroup,ListGroupItem,Pagination} from 'react-bootstrap';\n```", "```js\nrender() {\n let start = -this.state.resultsToShow +\n (this.state.activePage*this.state.resultsToShow);\n let end=this.state.activePage*this.state.resultsToShow;\n  return (this.state.showResults) ? (\n    <div>\n      <div style={{textAlign:\"center\"}}>\n Showing {start}-{end} out of {this.state.numResults} hits\n      </div>\n      <ListGroup className=\"fullsearch\">\n        {this.renderSearch()}\n      </ListGroup>\n <div style={{textAlign:\"center\"}}>\n {this.renderPager()}\n </div>\n    </div>\n    ) : null;\n  }\n```", "```js\nhandleSelect(eventKey) {\n  this.setState ({\n    activePage: eventKey\n  });\n},\n```", "```js\nnpm install --save easescroll@0.0.10\n\n```", "```js\nimport Scroller from 'easescroll';\n```", "```js\nhandleSelect(event, selectedEvent) {\n  this.setState({\n    activePage: selectedEvent.eventKey\n  });\n Scroller(220, 50, 'easeOutSine');\n},\n```", "```js\n  Scroller(220, 500, 'elastic');\n  Scroller(220, 500, easeInOutQuint);\n  Scroller(220, 50, 'bouncePast');\n```", "```js\n  getInitialState() {\n    return {\n      results: [],\n      resultsToShow: 10,\n      numResults: 0,\n threshold: -60,\n increase: 3,\n      showResults: true\n    }\n  },\n```", "```js\ncomponentDidMount: function () {\n  this.attachScrollListener();\n},\ncomponentWillUnmount: function () {\n  this.detachScrollListener();\n},\nattachScrollListener: function () {\n  window.addEventListener('scroll', this.scrollListener);\n  this.scrollListener();\n},\ndetachScrollListener: function () {\n  window.removeEventListener('scroll', this.scrollListener);\n},\n```", "```js\nscrollListener: function () {\n  const component = findDOMNode(this);\n  if(!component) return;\n  let scrollTop;\n\n  if((window.pageYOffset != 'undefined')) {\n    scrollTop = window.pageYOffset;\n  } else {\n    scrollTop = (document.documentElement ||\n    document.body.parentNode || document.body).scrollTop;\n  }\n\n  const reachedTreshold =  (this.topPosition(self) +\n  self.offsetHeight - scrollTop - \n  window.innerHeight < Number(this.state.threshold));\n\n  const hasMore =  (this.state.resultsToShow +\n  this.state.increase < this.state.numResults);\n\n  if(reachedTreshold && hasMore) {\n```", "```js\n    this.setState ({\n      resultsToShow: (this.state.increase +\n      this.state.resultsToShow <= this.state.numResults) ?\n      this.state.increase + this.state.resultsToShow :\n      this.state.numResults\n    });\n  } else {\n    this.setState({resultsToShow: this.state.numResults});\n```", "```js\n  }\n},\ntopPosition: function (el) {\n  if (!el) {\n    return 0;\n  }\n  return el.offsetTop + this.topPosition(el.offsetParent);\n},\n```", "```js\n  SearchActions.setInputText(this.context.location.query.q);\n```", "```js\n  Reflux.listenTo(SearchActions.setInputText, \"setInputText\")\n```", "```js\nsetInputText(val) {\n  findDOMNode(this.refs.searchInput).value = val;\n},\n```", "```js\n  setInputText: Reflux.createAction(\"setInputText\")\n```"]