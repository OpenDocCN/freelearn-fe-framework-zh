<html><head></head><body>
		<div id="_idContainer115">
			<h1 id="_idParaDest-127" class="chapter-number"><a id="_idTextAnchor135"/><span class="koboSpan" id="kobo.1.1">10</span></h1>
			<h1 id="_idParaDest-128"><a id="_idTextAnchor136"/><span class="koboSpan" id="kobo.2.1">Handling Routing with Vue Router</span></h1>
			<p><strong class="old"><span class="koboSpan" id="kobo.3.1">Single-page applications</span></strong><span class="koboSpan" id="kobo.4.1"> (</span><strong class="old"><span class="koboSpan" id="kobo.5.1">SPAs</span></strong><span class="koboSpan" id="kobo.6.1">), such as the one offered by Vue.js, provide an architecture built upon a single page. </span><span class="koboSpan" id="kobo.6.2">This methodology prevents the page from fully reloading </span><a id="_idIndexMarker497"/><span class="koboSpan" id="kobo.7.1">and offers an improved </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">user experience.</span></span></p>
			<p><span class="koboSpan" id="kobo.9.1">As your application grows, you will find the need to create different views in your application. </span><span class="koboSpan" id="kobo.9.2">Even if the term </span><em class="italic"><span class="koboSpan" id="kobo.10.1">SPA</span></em><span class="koboSpan" id="kobo.11.1"> can lead to the understanding that your application will be built on a single page, the truth is far </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">from it.</span></span></p>
			<p><span class="koboSpan" id="kobo.13.1">Most frameworks, including Vue.js, offer packages aimed at recreating the routing system available in other frameworks such as PHP, .NET, and more. </span><span class="koboSpan" id="kobo.13.2">The routing functionality offered by SPA frameworks provides the best of both worlds. </span><span class="koboSpan" id="kobo.13.3">It offers developers a complete routing toolkit, while still providing the same user experience expected by SPA frameworks. </span><span class="koboSpan" id="kobo.13.4">The router package used in Vue.js is </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">called vue-router.</span></span></p>
			<p><span class="koboSpan" id="kobo.15.1">In this chapter, you will learn how to use routing in your Vue.js application. </span><span class="koboSpan" id="kobo.15.2">At the end of the chapter, you will have a good understanding of vue-router and its configuration, and how routes are defined and used. </span><span class="koboSpan" id="kobo.15.3">You will be able to create basic, dynamic, and nested routes and navigate to them using different methodologies. </span><span class="koboSpan" id="kobo.15.4">Lastly, you will learn how to improve your user experience with the use of </span><strong class="source-inline"><span class="koboSpan" id="kobo.16.1">redirect</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.17.1">and aliases.</span></span></p>
			<p><span class="koboSpan" id="kobo.18.1">We are first going to learn about vue-router by covering its configuration. </span><span class="koboSpan" id="kobo.18.2">We will then learn how to implement our first route and route navigation by creating a couple of static pages. </span><span class="koboSpan" id="kobo.18.3">Next, we will introduce dynamic routes by defining a user profile page. </span><span class="koboSpan" id="kobo.18.4">Then, we will add another level of navigation by splitting the user view into a user profile and user posts using nested routes. </span><span class="koboSpan" id="kobo.18.5">Finally, we will complete the chapter by familiarizing ourselves with </span><strong class="source-inline"><span class="koboSpan" id="kobo.19.1">redirect</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.20.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.21.1">alias</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.22.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.23.1">This chapter is going to be broken down into the </span><span class="No-Break"><span class="koboSpan" id="kobo.24.1">following sections:</span></span></p>
			<ul>
				<li><span class="No-Break"><span class="koboSpan" id="kobo.25.1">Introducing vue-router</span></span></li>
				<li><span class="koboSpan" id="kobo.26.1">Navigating </span><span class="No-Break"><span class="koboSpan" id="kobo.27.1">between routes</span></span></li>
				<li><span class="koboSpan" id="kobo.28.1">Dynamic </span><span class="No-Break"><span class="koboSpan" id="kobo.29.1">route matching</span></span></li>
				<li><span class="No-Break"><span class="koboSpan" id="kobo.30.1">Nested routes</span></span></li>
				<li><span class="koboSpan" id="kobo.31.1">Reusing routes with </span><strong class="source-inline"><span class="koboSpan" id="kobo.32.1">alias</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.33.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.34.1">redirect</span></strong></span></li>
			</ul>
			<h1 id="_idParaDest-129"><a id="_idTextAnchor137"/><span class="koboSpan" id="kobo.35.1">Technical requirements</span></h1>
			<p><span class="koboSpan" id="kobo.36.1">In this chapter, the branch is called </span><strong class="source-inline"><span class="koboSpan" id="kobo.37.1">CH10</span></strong><span class="koboSpan" id="kobo.38.1">. </span><span class="koboSpan" id="kobo.38.2">To pull this branch, run the following command or use your GUI of choice to support you in this operation: </span><strong class="source-inline"><span class="koboSpan" id="kobo.39.1">git</span></strong><strong class="source-inline"> </strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.40.1">switch CH10</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.41.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.42.1">The code files for the chapter can be found at </span><a href="https://github.com/PacktPublishing/Vue.js-3-for-Beginners"><span class="koboSpan" id="kobo.43.1">https://github.com/PacktPublishing/Vue.js-3-for-Beginners</span></a><span class="koboSpan" id="kobo.44.1">. </span></p>
			<h1 id="_idParaDest-130"><a id="_idTextAnchor138"/><span class="koboSpan" id="kobo.45.1">Introducing vue-router</span></h1>
			<p><span class="koboSpan" id="kobo.46.1">vue-router is the official router package built and maintained by the Vue.js core team and community members. </span><span class="koboSpan" id="kobo.46.2">Just like other packages that we have introduced so far in the Companion App, also vue-router was automatically set up for us when we initialized our application </span><span class="No-Break"><span class="koboSpan" id="kobo.47.1">using Vite.</span></span></p>
			<p><span class="koboSpan" id="kobo.48.1">In this section, we will learn about the file structure and configuration required for vue-router and introduce some of the syntax used when working </span><span class="No-Break"><span class="koboSpan" id="kobo.49.1">with routes.</span></span></p>
			<p><span class="koboSpan" id="kobo.50.1">vue-router </span><a id="_idIndexMarker498"/><span class="koboSpan" id="kobo.51.1">offers a standard set of functionalities that are expected from a router. </span><span class="koboSpan" id="kobo.51.2">So, if you have previously worked with routers in other languages, most of what we will cover will sound familiar, but it is still worth a read as the syntax may </span><span class="No-Break"><span class="koboSpan" id="kobo.52.1">be different.</span></span></p>
			<h2 id="_idParaDest-131"><a id="_idTextAnchor139"/><span class="koboSpan" id="kobo.53.1">Learning about vue-router configuration</span></h2>
			<p><span class="koboSpan" id="kobo.54.1">Let’s first start by learning how to best configure the router in an application. </span><span class="koboSpan" id="kobo.54.2">In fact, even if </span><a id="_idIndexMarker499"/><span class="koboSpan" id="kobo.55.1">vue-router is usually preset by tools such as </span><strong class="old"><span class="koboSpan" id="kobo.56.1">createVue</span></strong><span class="koboSpan" id="kobo.57.1"> and </span><strong class="old"><span class="koboSpan" id="kobo.58.1">Vite</span></strong><span class="koboSpan" id="kobo.59.1">, it is </span><a id="_idIndexMarker500"/><span class="koboSpan" id="kobo.60.1">important to understand how it is set behind </span><a id="_idIndexMarker501"/><span class="No-Break"><span class="koboSpan" id="kobo.61.1">the scenes.</span></span></p>
			<p><span class="koboSpan" id="kobo.62.1">The configuration required for the plugin to work is stored in a file commonly named </span><strong class="source-inline"><span class="koboSpan" id="kobo.63.1">router.js</span></strong><span class="koboSpan" id="kobo.64.1">. </span><span class="koboSpan" id="kobo.64.2">or an </span><strong class="source-inline"><span class="koboSpan" id="kobo.65.1">index.js</span></strong><span class="koboSpan" id="kobo.66.1"> file within a folder </span><span class="No-Break"><span class="koboSpan" id="kobo.67.1">called </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.68.1">router</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.69.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.70.1">In our case, the file is stored within the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.71.1">router</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.72.1"> folder.</span></span></p>
			<p class="callout-heading"><span class="koboSpan" id="kobo.73.1">All plugins need to be registered in main.js</span></p>
			<p class="callout"><span class="koboSpan" id="kobo.74.1">All plugins must be registered in </span><strong class="source-inline"><span class="koboSpan" id="kobo.75.1">main.js</span></strong><span class="koboSpan" id="kobo.76.1"> before they can work. </span><span class="koboSpan" id="kobo.76.2">So, if you ever want to find the configuration file or information for a plugin that is currently loaded in your application, you can open the </span><strong class="source-inline"><span class="koboSpan" id="kobo.77.1">main.js</span></strong><span class="koboSpan" id="kobo.78.1"> file and search for the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.79.1">app.use(pluginName)</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.80.1"> syntax.</span></span></p>
			<p><span class="koboSpan" id="kobo.81.1">Let’s look </span><a id="_idIndexMarker502"/><span class="koboSpan" id="kobo.82.1">at the syntax you might find in this </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.83.1">index.js</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.84.1"> file:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.85.1">
import { createRouter, createWebHistory } from 'vue-router'
import HomeView from '../views/HomeView.vue';
const router = createRouter({
  history: createWebHistory(import.meta.env.BASE_URL),
  routes: [{
    path: '/',
    name: 'home',
    component: HomeView
  }]
})
export default router</span></pre>
			<p><span class="koboSpan" id="kobo.86.1">Let’s go over the important points of the preceding configuration. </span><span class="koboSpan" id="kobo.86.2">First, we can talk about the </span><strong class="source-inline"><span class="koboSpan" id="kobo.87.1">createRouter</span></strong><span class="koboSpan" id="kobo.88.1"> method. </span><span class="koboSpan" id="kobo.88.2">This method provided by the vue-router package creates an instance of the router that can be attached to a Vue application. </span><span class="koboSpan" id="kobo.88.3">This method expects an object including the </span><span class="No-Break"><span class="koboSpan" id="kobo.89.1">router configuration.</span></span></p>
			<p><span class="koboSpan" id="kobo.90.1">Next, it is time to look at the first entry of the configuration object, </span><strong class="source-inline"><span class="koboSpan" id="kobo.91.1">history</span></strong><span class="koboSpan" id="kobo.92.1">. </span><span class="koboSpan" id="kobo.92.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.93.1">history</span></strong><span class="koboSpan" id="kobo.94.1"> property defines how your application will navigate between the different pages. </span><span class="koboSpan" id="kobo.94.2">In standard apps, this is usually achieved by changing the website URL to the desired page – for example, by appending </span><strong class="source-inline"><span class="koboSpan" id="kobo.95.1">/team</span></strong><span class="koboSpan" id="kobo.96.1"> to the URL to visit the Team page. </span><span class="koboSpan" id="kobo.96.2">Let’s look at a couple of different configurations that can be used to set our </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.97.1">history</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.98.1"> property.</span></span></p>
			<h3><span class="koboSpan" id="kobo.99.1">Hash mode</span></h3>
			<p><span class="koboSpan" id="kobo.100.1">This method is achieved by using </span><strong class="source-inline"><span class="koboSpan" id="kobo.101.1">createWebHashHistory</span></strong><span class="koboSpan" id="kobo.102.1">. </span><span class="koboSpan" id="kobo.102.2">This method is provided by the </span><a id="_idIndexMarker503"/><span class="koboSpan" id="kobo.103.1">vue-router package, and it is the easiest one to implement as it </span><a id="_idIndexMarker504"/><span class="koboSpan" id="kobo.104.1">will not require any server-side configuration. </span><span class="koboSpan" id="kobo.104.2">When using hash mode, an actual hash (</span><strong class="source-inline"><span class="koboSpan" id="kobo.105.1">#</span></strong><span class="koboSpan" id="kobo.106.1">) is going to be added between the base URL and our routes. </span><span class="koboSpan" id="kobo.106.2">With this configuration, accessing the Team page can be done by </span><span class="No-Break"><span class="koboSpan" id="kobo.107.1">visiting </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.108.1">www.mywebsite.com#team</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.109.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.110.1">This method can impact your SEO negatively, so if your application is accessed publicly, you should invest time and set up the next available method, web </span><span class="No-Break"><span class="koboSpan" id="kobo.111.1">history mode.</span></span></p>
			<h3><span class="koboSpan" id="kobo.112.1">HTML5/web history mode</span></h3>
			<p><span class="koboSpan" id="kobo.113.1">HTML5 mode can </span><a id="_idIndexMarker505"/><span class="koboSpan" id="kobo.114.1">be configured by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.115.1">createWebHistory</span></strong><span class="koboSpan" id="kobo.116.1"> method. </span><span class="koboSpan" id="kobo.116.2">With this history mode, our website will act as a standard </span><a id="_idIndexMarker506"/><span class="koboSpan" id="kobo.117.1">site with its route being served directly after the website URL (</span><span class="No-Break"><span class="koboSpan" id="kobo.118.1">e.g., </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.119.1">www.mywebsite.com/team</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.120.1">).</span></span></p>
			<p><span class="koboSpan" id="kobo.121.1">Because SPA </span><a id="_idIndexMarker507"/><span class="koboSpan" id="kobo.122.1">websites are built on a single page (hence the name), they </span><a id="_idIndexMarker508"/><span class="koboSpan" id="kobo.123.1">can just serve the application from one single endpoint (the website base URL). </span><span class="koboSpan" id="kobo.123.2">So, deploying our site and trying to access the Team page directly would result in a </span><strong class="source-inline"><span class="koboSpan" id="kobo.124.1">404</span></strong><span class="koboSpan" id="kobo.125.1"> page (</span><span class="No-Break"><span class="koboSpan" id="kobo.126.1">not found).</span></span></p>
			<p><span class="koboSpan" id="kobo.127.1">Solving this issue is a trivial task in today’s hosting site, as all that is needed is a catch-all rule that ensures site navigation is funneled to the SPA entry point. </span><span class="koboSpan" id="kobo.127.2">If you wish to use this method, a little googling will help you find the instructions you need to properly set this in your </span><span class="No-Break"><span class="koboSpan" id="kobo.128.1">hosting provider.</span></span></p>
			<p><span class="koboSpan" id="kobo.129.1">In our case, we are using web history. </span><span class="koboSpan" id="kobo.129.2">This is my default history setting, not only because it improves SEO but also because it has been the normal way to navigate our sites for years and I like to keep </span><span class="No-Break"><span class="koboSpan" id="kobo.130.1">things consistent.</span></span></p>
			<p><span class="koboSpan" id="kobo.131.1">Finally, it is time to cover the last entry of our </span><span class="No-Break"><span class="koboSpan" id="kobo.132.1">configuration: routes.</span></span></p>
			<h3><span class="koboSpan" id="kobo.133.1">Defining routes</span></h3>
			<p><span class="koboSpan" id="kobo.134.1">We have </span><a id="_idIndexMarker509"/><span class="koboSpan" id="kobo.135.1">reached the most important part of our router </span><a id="_idIndexMarker510"/><span class="koboSpan" id="kobo.136.1">configuration, the actual routes. </span><span class="koboSpan" id="kobo.136.2">The word </span><em class="italic"><span class="koboSpan" id="kobo.137.1">route</span></em><span class="koboSpan" id="kobo.138.1"> defines the ability of our application to direct a user to a specific page. </span><span class="koboSpan" id="kobo.138.2">So, when declaring routes, we define the pages a user can visit on </span><span class="No-Break"><span class="koboSpan" id="kobo.139.1">our site.</span></span></p>
			<p><span class="koboSpan" id="kobo.140.1">To declare a route, we require two pieces of information, </span><strong class="source-inline"><span class="koboSpan" id="kobo.141.1">path</span></strong><span class="koboSpan" id="kobo.142.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.143.1">component</span></strong><span class="koboSpan" id="kobo.144.1">, but I usually prefer to always include a third one </span><span class="No-Break"><span class="koboSpan" id="kobo.145.1">called </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.146.1">name</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.147.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.148.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.149.1">path</span></strong><span class="koboSpan" id="kobo.150.1">  attribute is used to define the URL that needs to be accessed for this route to be loaded. </span><span class="koboSpan" id="kobo.150.2">So, a path of </span><strong class="source-inline"><span class="koboSpan" id="kobo.151.1">/</span></strong><span class="koboSpan" id="kobo.152.1"> will be delivered if the user navigates to the base of your site, while a path of </span><strong class="source-inline"><span class="koboSpan" id="kobo.153.1">/team</span></strong><span class="koboSpan" id="kobo.154.1"> would be accessible </span><span class="No-Break"><span class="koboSpan" id="kobo.155.1">on </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.156.1">www.mysite.com/team</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.157.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.158.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.159.1">component</span></strong><span class="koboSpan" id="kobo.160.1"> attribute is the Vue component expected to be loaded when this route is accessed. </span><span class="koboSpan" id="kobo.160.2">Lastly, we have </span><strong class="source-inline"><span class="koboSpan" id="kobo.161.1">name</span></strong><span class="koboSpan" id="kobo.162.1">.  </span><span class="koboSpan" id="kobo.162.2">Adding this parameter to all our routes is good practice as </span><strong class="source-inline"><span class="koboSpan" id="kobo.163.1">name</span></strong><span class="koboSpan" id="kobo.164.1"> is used to navigate a route programmatically. </span><span class="koboSpan" id="kobo.164.2">We will cover this in more detail later as we will learn how to navigate within </span><span class="No-Break"><span class="koboSpan" id="kobo.165.1">our application.</span></span></p>
			<p><span class="koboSpan" id="kobo.166.1">Now that </span><a id="_idIndexMarker511"/><span class="koboSpan" id="kobo.167.1">we know all the different aspects of a route, let’s try </span><a id="_idIndexMarker512"/><span class="koboSpan" id="kobo.168.1">to decode what route was declared in the previously shared code snippet. </span><span class="koboSpan" id="kobo.168.2">The snippets show a route directing the user to the base path of our site (</span><strong class="source-inline"><span class="koboSpan" id="kobo.169.1">path</span></strong><span class="koboSpan" id="kobo.170.1"> is </span><strong class="source-inline"><span class="koboSpan" id="kobo.171.1">/</span></strong><span class="koboSpan" id="kobo.172.1">), with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.173.1">name</span></strong><span class="koboSpan" id="kobo.174.1"> value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.175.1">home</span></strong><span class="koboSpan" id="kobo.176.1">, which will load a </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.177.1">HomeView.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.178.1"> component.</span></span></p>
			<p><span class="koboSpan" id="kobo.179.1">Until now, we have learned how to configure a Vue instance, but there is one more step needed before our routes can function properly: adding </span><strong class="source-inline"><span class="koboSpan" id="kobo.180.1">RouterView</span></strong><span class="koboSpan" id="kobo.181.1"> to </span><span class="No-Break"><span class="koboSpan" id="kobo.182.1">our application.</span></span></p>
			<p><span class="koboSpan" id="kobo.183.1">We have defined which component to load for a given URL, but we have yet to tell our Vue application where to load </span><span class="No-Break"><span class="koboSpan" id="kobo.184.1">this component.</span></span></p>
			<p><span class="koboSpan" id="kobo.185.1">The way the router works is by replacing the content of our application every time a user navigates to a different page. </span><span class="koboSpan" id="kobo.185.2">So, in very simple terms, a router can be defined as a huge </span><strong class="source-inline"><span class="koboSpan" id="kobo.186.1">if/else</span></strong><span class="koboSpan" id="kobo.187.1"> statement that renders the component depending on </span><span class="No-Break"><span class="koboSpan" id="kobo.188.1">the URL.</span></span></p>
			<p><span class="koboSpan" id="kobo.189.1">To allow the router to work correctly, we are going to add a component called </span><strong class="source-inline"><span class="koboSpan" id="kobo.190.1">&lt;RouterView&gt;</span></strong><span class="koboSpan" id="kobo.191.1"> to the main entry point of our application, the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.192.1">App.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.193.1"> file:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.194.1">
&lt;script setup&gt;
  </span><strong class="old"><span class="koboSpan" id="kobo.195.1">import { RouterView } from 'vue-router'</span></strong><span class="koboSpan" id="kobo.196.1">
&lt;/script&gt;
&lt;template&gt;
  </span><strong class="old"><span class="koboSpan" id="kobo.197.1">&lt;RouterView /&gt;</span></strong><span class="koboSpan" id="kobo.198.1">
&lt;/template&gt;</span></pre>
			<p><span class="koboSpan" id="kobo.199.1">From this stage onward, vue-router is going to take ownership of what is displayed on the screen using the route definition we defined in </span><span class="No-Break"><span class="koboSpan" id="kobo.200.1">our configuration.</span></span></p>
			<h2 id="_idParaDest-132"><a id="_idTextAnchor140"/><span class="koboSpan" id="kobo.201.1">Creating our first view</span></h2>
			<p><span class="koboSpan" id="kobo.202.1">Let’s try to add a new router navigation for a static page called </span><strong class="old"><span class="koboSpan" id="kobo.203.1">Privacy</span></strong><span class="koboSpan" id="kobo.204.1">. </span><span class="koboSpan" id="kobo.204.2">This is just going to </span><a id="_idIndexMarker513"/><span class="koboSpan" id="kobo.205.1">include some dummy text </span><span class="No-Break"><span class="koboSpan" id="kobo.206.1">for now.</span></span></p>
			<p><span class="koboSpan" id="kobo.207.1">To add a new page, we need two steps: a route defined in our </span><strong class="source-inline"><span class="koboSpan" id="kobo.208.1">routes</span></strong><span class="koboSpan" id="kobo.209.1"> array and a component that will be loaded when that route </span><span class="No-Break"><span class="koboSpan" id="kobo.210.1">is accessed.</span></span></p>
			<p><span class="koboSpan" id="kobo.211.1">Components that are used as routes are stored in a folder called </span><strong class="source-inline"><span class="koboSpan" id="kobo.212.1">views</span></strong><span class="koboSpan" id="kobo.213.1">. </span><span class="koboSpan" id="kobo.213.2">If we access this folder, we see that we currently have two views set, </span><strong class="source-inline"><span class="koboSpan" id="kobo.214.1">Home</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.215.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.216.1">About</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.217.1">.</span></span></p>
			<div>
				<div id="_idContainer109" class="IMG---Figure">
					<span class="koboSpan" id="kobo.218.1"><img src="image/B21130_10_01.jpg" alt="Figure 10.1: Folder tree showing the content of the views folder"/></span>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.219.1">Figure 10.1: Folder tree showing the content of the views folder</span></p>
			<p><span class="koboSpan" id="kobo.220.1">We are going to add a new file to our folder called </span><strong class="source-inline"><span class="koboSpan" id="kobo.221.1">PrivacyView.vue</span></strong><span class="koboSpan" id="kobo.222.1">. </span><span class="koboSpan" id="kobo.222.2">It is common to match the filename with the route’s name. </span><span class="koboSpan" id="kobo.222.3">Because this file will be static, we will re-use the layout defined in </span><a href="B21130_09.xhtml#_idTextAnchor120"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.223.1">Chapter 9</span></em></span></a><span class="koboSpan" id="kobo.224.1"> when we learned </span><span class="No-Break"><span class="koboSpan" id="kobo.225.1">about slots.</span></span></p>
			<p><span class="koboSpan" id="kobo.226.1">The layout used for the static page defined as </span><strong class="source-inline"><span class="koboSpan" id="kobo.227.1">StaticTemplate.vue</span></strong><span class="koboSpan" id="kobo.228.1"> accepts three different named slots: a heading, a footer, and a default template used for its main content. </span><span class="koboSpan" id="kobo.228.2">Our </span><strong class="source-inline"><span class="koboSpan" id="kobo.229.1">PrivacyView.Vue</span></strong><span class="koboSpan" id="kobo.230.1"> file content should be defined </span><span class="No-Break"><span class="koboSpan" id="kobo.231.1">like this:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.232.1">
&lt;template&gt;
  &lt;StaticTemplate&gt;
    &lt;template #heading&gt;Privacy Page&lt;/template&gt;
    &lt;template #default&gt;
      This is the content of my privacy page
    &lt;/template&gt;
  &lt;/StaticTemplate&gt;
&lt;/template&gt;
&lt;script setup&gt;
import StaticTemplate from '../components/templates/StaticTemplate.vue'
&lt;/script&gt;</span></pre>
			<p><span class="koboSpan" id="kobo.233.1">You may have noticed that the file content just defines two slots (</span><strong class="source-inline"><span class="koboSpan" id="kobo.234.1">heading</span></strong><span class="koboSpan" id="kobo.235.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.236.1">default</span></strong><span class="koboSpan" id="kobo.237.1">) and is missing the footer. </span><span class="koboSpan" id="kobo.237.2">This has been done on purpose as the footer has a default value that we want </span><span class="No-Break"><span class="koboSpan" id="kobo.238.1">to display.</span></span></p>
			<p><span class="koboSpan" id="kobo.239.1">Before our </span><a id="_idIndexMarker514"/><span class="koboSpan" id="kobo.240.1">new component can be visited and displayed we need to add it to our route. </span><span class="koboSpan" id="kobo.240.2">Let’s do this by going back to </span><strong class="source-inline"><span class="koboSpan" id="kobo.241.1">index.js</span></strong><span class="koboSpan" id="kobo.242.1"> within the </span><strong class="source-inline"><span class="koboSpan" id="kobo.243.1">router</span></strong><span class="koboSpan" id="kobo.244.1"> folder and adding the route for our Privacy page within the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.245.1">routes</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.246.1"> array:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.247.1">
import { createRouter, createWebHistory } from 'vue-router'
import HomeView from '../views/HomeView.vue'
import AboutView from '../views/AboutView.vue'
</span><strong class="old"><span class="koboSpan" id="kobo.248.1">import PrivacyView from '../views/PrivacyView.vue'</span></strong><span class="koboSpan" id="kobo.249.1">
const router = createRouter({
  history: createWebHistory(import.meta.env.BASE_URL),
  routes: [
    {
        path: '/',
        name: 'home',
        component: HomeView
    },
    {
      path: '/about',
      name: 'about',
      component: AboutView
    },
</span><strong class="old"><span class="koboSpan" id="kobo.250.1">    {</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.251.1">      path: '/privacy',</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.252.1">      name: 'privacy',</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.253.1">      component: PrivacyView</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.254.1">    }</span></strong><span class="koboSpan" id="kobo.255.1">
  ]
})
export default router</span></pre>
			<p><span class="koboSpan" id="kobo.256.1">Our new page views are first imported at the top of the page as a normal Vue component </span><a id="_idIndexMarker515"/><span class="koboSpan" id="kobo.257.1">and then assigned to the new route. </span><span class="koboSpan" id="kobo.257.2">Just as we mentioned before, routes require three values. </span><span class="koboSpan" id="kobo.257.3">First, we set the </span><strong class="source-inline"><span class="koboSpan" id="kobo.258.1">path</span></strong><span class="koboSpan" id="kobo.259.1"> value as </span><strong class="source-inline"><span class="koboSpan" id="kobo.260.1">/privacy</span></strong><span class="koboSpan" id="kobo.261.1">, then we defined a </span><strong class="source-inline"><span class="koboSpan" id="kobo.262.1">name</span></strong><span class="koboSpan" id="kobo.263.1"> value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.264.1">privacy</span></strong><span class="koboSpan" id="kobo.265.1"> for future programmatic navigation, and lastly, we assigned the imported </span><strong class="source-inline"><span class="koboSpan" id="kobo.266.1">PrivacyView</span></strong><span class="koboSpan" id="kobo.267.1"> component </span><span class="No-Break"><span class="koboSpan" id="kobo.268.1">to it.</span></span></p>
			<p><span class="koboSpan" id="kobo.269.1">After these changes, we should be able to see our page by </span><span class="No-Break"><span class="koboSpan" id="kobo.270.1">accessing </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.271.1">http://localhost:5173/privacy</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.272.1">:</span></span></p>
			<div>
				<div id="_idContainer110" class="IMG---Figure">
					<span class="koboSpan" id="kobo.273.1"><img src="image/B21130_10_02.jpg" alt="Figure 10.2: Screenshot of the Privacy page"/></span>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.274.1">Figure 10.2: Screenshot of the Privacy page</span></p>
			<p><span class="koboSpan" id="kobo.275.1">In this section, we have learned how to configure vue-router, introduced routes and defined how </span><a id="_idIndexMarker516"/><span class="koboSpan" id="kobo.276.1">they are used by the application to render pages, and finally, talked about </span><strong class="source-inline"><span class="koboSpan" id="kobo.277.1">&lt;RouterView&gt;</span></strong><span class="koboSpan" id="kobo.278.1"> and how vue-router uses it to display the correct page to </span><span class="No-Break"><span class="koboSpan" id="kobo.279.1">our visitors.</span></span></p>
			<p><span class="koboSpan" id="kobo.280.1">In the next section, we are going to learn how to navigate between </span><span class="No-Break"><span class="koboSpan" id="kobo.281.1">different routes.</span></span></p>
			<h1 id="_idParaDest-133"><a id="_idTextAnchor141"/><span class="koboSpan" id="kobo.282.1">Navigating between routes</span></h1>
			<p><span class="koboSpan" id="kobo.283.1">Until now, we have learned how to create our routes and how to navigate through them by loading </span><a id="_idIndexMarker517"/><span class="koboSpan" id="kobo.284.1">the URL directly in the browser. </span><span class="koboSpan" id="kobo.284.2">In this section, we will learn how to navigate between different routes directly in the </span><span class="No-Break"><span class="koboSpan" id="kobo.285.1">code base.</span></span></p>
			<p><span class="koboSpan" id="kobo.286.1">It is true that we could define our navigation using a simple </span><strong class="source-inline"><span class="koboSpan" id="kobo.287.1">&lt;a&gt;</span></strong><span class="koboSpan" id="kobo.288.1"> tag, but that will force the app to fully reload on any navigation and so will go against the whole architecture of a SPA, which offers a “</span><span class="No-Break"><span class="koboSpan" id="kobo.289.1">reload-free” experience.</span></span></p>
			<p><span class="koboSpan" id="kobo.290.1">To solve this issue, vue-router offers components and methods that will handle navigations without reloading </span><span class="No-Break"><span class="koboSpan" id="kobo.291.1">the page.</span></span></p>
			<p><span class="koboSpan" id="kobo.292.1">While using vue-router, navigation can be achieved in two different ways. </span><span class="koboSpan" id="kobo.292.2">One uses a component called </span><strong class="source-inline"><span class="koboSpan" id="kobo.293.1">&lt;router-link&gt;</span></strong><span class="koboSpan" id="kobo.294.1"> while the other is triggered programmatically using </span><strong class="source-inline"><span class="koboSpan" id="kobo.295.1">router.push()</span></strong><span class="koboSpan" id="kobo.296.1">. </span><span class="koboSpan" id="kobo.296.2">Let’s see both methods in action and learn when to </span><span class="No-Break"><span class="koboSpan" id="kobo.297.1">use them.</span></span></p>
			<h2 id="_idParaDest-134"><a id="_idTextAnchor142"/><span class="koboSpan" id="kobo.298.1">Using the &lt;router-link&gt; component</span></h2>
			<p><span class="koboSpan" id="kobo.299.1">Using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.300.1">&lt;router-link&gt;</span></strong><span class="koboSpan" id="kobo.301.1"> component to navigate within your application is a simple task, as it </span><a id="_idIndexMarker518"/><span class="koboSpan" id="kobo.302.1">uses the same syntax offered by the native HTML </span><strong class="source-inline"><span class="koboSpan" id="kobo.303.1">&lt;a&gt;</span></strong><span class="koboSpan" id="kobo.304.1"> element. </span><span class="koboSpan" id="kobo.304.2">Behind the scenes, </span><strong class="source-inline"><span class="koboSpan" id="kobo.305.1">&lt;router-link&gt;</span></strong><span class="koboSpan" id="kobo.306.1"> is just an anchor tag </span><a id="_idIndexMarker519"/><span class="koboSpan" id="kobo.307.1">with added functionality that prevents the app from fully reloading </span><span class="No-Break"><span class="koboSpan" id="kobo.308.1">while navigating.</span></span></p>
			<p><span class="koboSpan" id="kobo.309.1">Our Companion App has three different pages, but there is nowhere to access them unless we enter the URL directly. </span><span class="koboSpan" id="kobo.309.2">Let’s go and fix this now by adding two links in our sidebar, one for each static page we have created </span><span class="No-Break"><span class="koboSpan" id="kobo.310.1">so far.</span></span></p>
			<p><span class="koboSpan" id="kobo.311.1">As a reminder, the main page is </span><strong class="source-inline"><span class="koboSpan" id="kobo.312.1">HomePage.vue</span></strong><span class="koboSpan" id="kobo.313.1">, but the actual sidebar is just a child component of this page and can be found in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.314.1">organisms</span></strong><span class="koboSpan" id="kobo.315.1"> folder under the name </span><strong class="source-inline"><span class="koboSpan" id="kobo.316.1">SideBar.vue</span></strong><span class="koboSpan" id="kobo.317.1">. </span><span class="koboSpan" id="kobo.317.2">Now that we have located the file, it is time to add our </span><span class="No-Break"><span class="koboSpan" id="kobo.318.1">router links.</span></span></p>
			<p><span class="koboSpan" id="kobo.319.1">First, we import the component from vue-router in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.320.1">script</span></strong><span class="koboSpan" id="kobo.321.1"> section of </span><span class="No-Break"><span class="koboSpan" id="kobo.322.1">the component:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.323.1">
import { RouterLink } from 'vue-router';</span></pre>
			<p><span class="koboSpan" id="kobo.324.1">Next, we add the links in our sidebar, directly after the </span><strong class="source-inline"><span class="koboSpan" id="kobo.325.1">Update </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.326.1">Time</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.327.1"> button:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.328.1">
&lt;TheButton @click="onUpdateTimeClick"&gt;
  Update Time
&lt;/TheButton&gt;
</span><strong class="old"><span class="koboSpan" id="kobo.329.1">&lt;router-link to="privacy"&gt;Privacy&lt;/router-link&gt;</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.330.1">&lt;router-link to="about"&gt;About&lt;/router-link&gt;</span></strong></pre>
			<p><span class="koboSpan" id="kobo.331.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.332.1">router-link</span></strong><span class="koboSpan" id="kobo.333.1"> component accepts a property called </span><strong class="source-inline"><span class="koboSpan" id="kobo.334.1">to</span></strong><span class="koboSpan" id="kobo.335.1">. </span><span class="koboSpan" id="kobo.335.2">This property can accept the URL that the browser needs to navigate to or a </span><strong class="source-inline"><span class="koboSpan" id="kobo.336.1">route</span></strong><span class="koboSpan" id="kobo.337.1"> object, which we will cover later in </span><span class="No-Break"><span class="koboSpan" id="kobo.338.1">the chapter.</span></span></p>
			<p><span class="koboSpan" id="kobo.339.1">In our example, we have specified the value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.340.1">to</span></strong><span class="koboSpan" id="kobo.341.1"> property to be equal to </span><strong class="source-inline"><span class="koboSpan" id="kobo.342.1">privacy</span></strong><span class="koboSpan" id="kobo.343.1"> for the link directing to the </span><strong class="old"><span class="koboSpan" id="kobo.344.1">Privacy</span></strong><span class="koboSpan" id="kobo.345.1"> page and </span><strong class="source-inline"><span class="koboSpan" id="kobo.346.1">about</span></strong><span class="koboSpan" id="kobo.347.1"> for the page navigating to the </span><span class="No-Break"><strong class="old"><span class="koboSpan" id="kobo.348.1">About</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.349.1"> page.</span></span></p>
			<p><span class="koboSpan" id="kobo.350.1">After these two changes, the application will have two new links in </span><span class="No-Break"><span class="koboSpan" id="kobo.351.1">the sidebar.</span></span></p>
			<div>
				<div id="_idContainer111" class="IMG---Figure">
					<span class="koboSpan" id="kobo.352.1"><img src="image/B21130_10_03.jpg" alt="Figure 10.3: Companion app sidebar with the router links"/></span>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.353.1">Figure 10.3: Companion app sidebar with the router links</span></p>
			<p><span class="koboSpan" id="kobo.354.1">Because </span><a id="_idIndexMarker520"/><span class="koboSpan" id="kobo.355.1">router links are just simple </span><strong class="source-inline"><span class="koboSpan" id="kobo.356.1">&lt;a&gt;</span></strong><span class="koboSpan" id="kobo.357.1"> elements, they </span><a id="_idIndexMarker521"/><span class="koboSpan" id="kobo.358.1">inherit the style of the anchor that was defined by the </span><span class="No-Break"><span class="koboSpan" id="kobo.359.1">project template.</span></span></p>
			<h2 id="_idParaDest-135"><a id="_idTextAnchor143"/><span class="koboSpan" id="kobo.360.1">Programmatic navigation</span></h2>
			<p><span class="koboSpan" id="kobo.361.1">For most cases, navigating using the router link component is all you need, but there are some </span><a id="_idIndexMarker522"/><span class="koboSpan" id="kobo.362.1">situations in which you may find it beneficial to navigate through the app directly in </span><span class="No-Break"><span class="koboSpan" id="kobo.363.1">the code.</span></span></p>
			<p><span class="koboSpan" id="kobo.364.1">There is no </span><a id="_idIndexMarker523"/><span class="koboSpan" id="kobo.365.1">real difference in navigating using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.366.1">router-link</span></strong><span class="koboSpan" id="kobo.367.1"> component or programmatically, and both methods are offered to ensure that your code can be clean and easy </span><span class="No-Break"><span class="koboSpan" id="kobo.368.1">to read.</span></span></p>
			<p><span class="koboSpan" id="kobo.369.1">Programmatic navigation is useful when attached to a piece of logic. </span><span class="koboSpan" id="kobo.369.2">Being able to trigger the navigation manually helps you take control of the flow of the data, ensuring that your code is well written and that the user receives the </span><span class="No-Break"><span class="koboSpan" id="kobo.370.1">best experience.</span></span></p>
			<p><span class="koboSpan" id="kobo.371.1">To be able to </span><a id="_idIndexMarker524"/><span class="koboSpan" id="kobo.372.1">navigate to a different page, we can use a method offered by the </span><strong class="source-inline"><span class="koboSpan" id="kobo.373.1">router </span></strong><span class="koboSpan" id="kobo.374.1">object called </span><strong class="source-inline"><span class="koboSpan" id="kobo.375.1">push</span></strong><span class="koboSpan" id="kobo.376.1">. </span><span class="koboSpan" id="kobo.376.2">This method, just like </span><strong class="source-inline"><span class="koboSpan" id="kobo.377.1">&lt;router-link&gt;</span></strong><span class="koboSpan" id="kobo.378.1">, can accept the URL or a </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.379.1">route</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.380.1"> object.</span></span></p>
			<p><span class="koboSpan" id="kobo.381.1">We are going to add another link, but this time, a simple anchor element, and trigger the navigation using the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.382.1">onclick </span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.383.1">event.</span></span></p>
			<p><span class="koboSpan" id="kobo.384.1">First, we are going to add an import from the vue-router package </span><span class="No-Break"><span class="koboSpan" id="kobo.385.1">called </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.386.1">useRouter</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.387.1">:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.388.1">
import { RouterLink, </span><strong class="old"><span class="koboSpan" id="kobo.389.1">useRouter </span></strong><span class="koboSpan" id="kobo.390.1">} from 'vue-router';</span></pre>
			<p><span class="koboSpan" id="kobo.391.1">Then, we use this method to access the </span><strong class="source-inline"><span class="koboSpan" id="kobo.392.1">router</span></strong><span class="koboSpan" id="kobo.393.1"> instance. </span><span class="koboSpan" id="kobo.393.2">This just needs to be done once </span><span class="No-Break"><span class="koboSpan" id="kobo.394.1">per file:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.395.1">
const router = useRouter();</span></pre>
			<p><span class="koboSpan" id="kobo.396.1">Next, we are going to create a method that will handle the </span><strong class="source-inline"><span class="koboSpan" id="kobo.397.1">click</span></strong><span class="koboSpan" id="kobo.398.1"> event of </span><span class="No-Break"><span class="koboSpan" id="kobo.399.1">our anchor:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.400.1">
const navigateToPrivacy = (event) =&gt; {
  event.preventDefault();
  console.log("Run a side effect");
  </span><strong class="old"><span class="koboSpan" id="kobo.401.1">router.push("privacy");</span></strong><span class="koboSpan" id="kobo.402.1">
}</span></pre>
			<p><span class="koboSpan" id="kobo.403.1">Triggering </span><a id="_idIndexMarker525"/><span class="koboSpan" id="kobo.404.1">navigation programmatically allows us to trigger </span><a id="_idIndexMarker526"/><span class="koboSpan" id="kobo.405.1">side effects that would not be possible if using a </span><strong class="source-inline"><span class="koboSpan" id="kobo.406.1">&lt;router-link&gt;</span></strong><span class="koboSpan" id="kobo.407.1"> component, – for example, conditionally navigate a user to different pages depending on a value returned from </span><span class="No-Break"><span class="koboSpan" id="kobo.408.1">the server.</span></span></p>
			<p><span class="koboSpan" id="kobo.409.1">Lastly, we are going to create a new anchor in the HTML section of our component. </span><span class="koboSpan" id="kobo.409.2">This element is going to use the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.410.1">navigateToPrivacy</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.411.1"> method:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.412.1">
&lt;a @click="navigateToPrivacy"&gt;Programmatic to privacy&lt;/a&gt;</span></pre>
			<p><span class="koboSpan" id="kobo.413.1">We have now completed the first part of this chapter. </span><span class="koboSpan" id="kobo.413.2">At this stage, you have learned the basics of vue-router and gained an understanding of how to define routes, how they work, and how to navigate between the </span><span class="No-Break"><span class="koboSpan" id="kobo.414.1">different pages.</span></span></p>
			<p><span class="koboSpan" id="kobo.415.1">In the next sections, we will learn about more advanced topics such as nested routes and dynamic </span><span class="No-Break"><span class="koboSpan" id="kobo.416.1">route matching.</span></span></p>
			<h1 id="_idParaDest-136"><a id="_idTextAnchor144"/><span class="koboSpan" id="kobo.417.1">Dynamic route matching</span></h1>
			<p><span class="koboSpan" id="kobo.418.1">If you are </span><a id="_idIndexMarker527"/><span class="koboSpan" id="kobo.419.1">tasked to build a simple portfolio site, basic routes are going to be just fine. </span><span class="koboSpan" id="kobo.419.2">However, as you start to work on more complex sites such as blogs, you will need more complex routing. </span><span class="koboSpan" id="kobo.419.3">In this section, we are going to learn about dynamic route matching. </span><span class="koboSpan" id="kobo.419.4">Dynamic route matching is used to define routes that require one or more parameters to </span><span class="No-Break"><span class="koboSpan" id="kobo.420.1">be dynamic.</span></span></p>
			<p><span class="koboSpan" id="kobo.421.1">All the routes that we have defined until now were static and did not change. </span><span class="koboSpan" id="kobo.421.2">So, we had the </span><strong class="source-inline"><span class="koboSpan" id="kobo.422.1">/about</span></strong><span class="koboSpan" id="kobo.423.1"> endpoint that would render the </span><strong class="old"><span class="koboSpan" id="kobo.424.1">About</span></strong><span class="koboSpan" id="kobo.425.1"> page and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.426.1">/</span></strong><span class="koboSpan" id="kobo.427.1"> path that would welcome the home page of our site. </span><span class="koboSpan" id="kobo.427.2">What would happen if we wanted to develop a blog post with our current knowledge? </span><span class="koboSpan" id="kobo.427.3">After our first blog post, we would write a route, </span><strong class="source-inline"><span class="koboSpan" id="kobo.428.1">/blog/1</span></strong><span class="koboSpan" id="kobo.429.1">, then after the second, we would have to create another route, </span><strong class="source-inline"><span class="koboSpan" id="kobo.430.1">/blog/2</span></strong><span class="koboSpan" id="kobo.431.1">, and </span><span class="No-Break"><span class="koboSpan" id="kobo.432.1">so on.</span></span></p>
			<p><span class="koboSpan" id="kobo.433.1">Defining routes </span><a id="_idIndexMarker528"/><span class="koboSpan" id="kobo.434.1">statically like this is not an ideal solution, and this is where dynamic route matching comes into place. </span><span class="koboSpan" id="kobo.434.2">Dynamic route matching allows us to create a pattern, for example, </span><strong class="source-inline"><span class="koboSpan" id="kobo.435.1">blog/:blogId</span></strong><span class="koboSpan" id="kobo.436.1">, and then let the application render a specific page that uses the defined argument to render another </span><span class="No-Break"><span class="koboSpan" id="kobo.437.1">specific page.</span></span></p>
			<p><span class="koboSpan" id="kobo.438.1">To learn about this great feature, we are going to enhance our Companion App by adding a new feature that will allow us to open a specific </span><span class="No-Break"><span class="koboSpan" id="kobo.439.1">user profile.</span></span></p>
			<p><span class="koboSpan" id="kobo.440.1">The requirements </span><a id="_idIndexMarker529"/><span class="koboSpan" id="kobo.441.1">for this task are </span><span class="No-Break"><span class="koboSpan" id="kobo.442.1">the following:</span></span></p>
			<ul>
				<li><span class="koboSpan" id="kobo.443.1">We are going to add the ability for the user to open a user profile page from the main view of </span><span class="No-Break"><span class="koboSpan" id="kobo.444.1">the application</span></span></li>
				<li><span class="koboSpan" id="kobo.445.1">We are going to create a new route that will display </span><span class="No-Break"><span class="koboSpan" id="kobo.446.1">a </span></span><span class="No-Break"><span class="koboSpan" id="kobo.447.1">user</span></span></li>
				<li><span class="koboSpan" id="kobo.448.1">We are going to create a new component that will display the user with all </span><span class="No-Break"><span class="koboSpan" id="kobo.449.1">its information</span></span></li>
			</ul>
			<p><span class="koboSpan" id="kobo.450.1">We are going to develop this backward, starting by creating the </span><span class="No-Break"><span class="koboSpan" id="kobo.451.1">user-specific</span></span><span class="No-Break"><span class="koboSpan" id="kobo.452.1"> page.</span></span></p>
			<h2 id="_idParaDest-137"><a id="_idTextAnchor145"/><span class="koboSpan" id="kobo.453.1">Creating a user profile page</span></h2>
			<p><span class="koboSpan" id="kobo.454.1">Our first task </span><a id="_idIndexMarker530"/><span class="koboSpan" id="kobo.455.1">requires us to create a </span><a id="_idIndexMarker531"/><span class="koboSpan" id="kobo.456.1">new page that will later be used by our route as the content of our user page. </span><span class="koboSpan" id="kobo.456.2">Just like all other pages, this will also live in a folder called </span><strong class="source-inline"><span class="koboSpan" id="kobo.457.1">views</span></strong><span class="koboSpan" id="kobo.458.1"> and will be </span><span class="No-Break"><span class="koboSpan" id="kobo.459.1">called </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.460.1">UserView.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.461.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.462.1">In this component, we are going to first load a specific user profile and then display its information on the screen. </span><span class="koboSpan" id="kobo.462.2">To ease development, we are going to hardcode </span><strong class="source-inline"><span class="koboSpan" id="kobo.463.1">userId</span></strong><span class="koboSpan" id="kobo.464.1"> so that we can see the correct information on screen for now, and then remove this later after our dynamic route is </span><span class="No-Break"><span class="koboSpan" id="kobo.465.1">fully set.</span></span></p>
			<p><span class="koboSpan" id="kobo.466.1">Just like a simple component, we will need to define three different parts: the HTML, the logic required to fetch the correct information, and </span><span class="No-Break"><span class="koboSpan" id="kobo.467.1">the styles.</span></span></p>
			<p><span class="koboSpan" id="kobo.468.1">To help you prepare for the real world, you could go a step further than this book and learn what </span><a id="_idIndexMarker532"/><span class="koboSpan" id="kobo.469.1">information we would need from the API to develop the page. </span><span class="koboSpan" id="kobo.469.2">When developing from an external source, such as </span><a id="_idIndexMarker533"/><span class="koboSpan" id="kobo.470.1">an API or a Content Management System (</span><strong class="old"><span class="koboSpan" id="kobo.471.1">CMS</span></strong><span class="koboSpan" id="kobo.472.1">), it is important to be able to fetch the structure of the object. </span><span class="koboSpan" id="kobo.472.2">In our </span><a id="_idIndexMarker534"/><span class="koboSpan" id="kobo.473.1">specific scenario, we will use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.474.1">user</span></strong><span class="koboSpan" id="kobo.475.1"> object, but what will that include? </span><span class="koboSpan" id="kobo.475.2">Would it have a name? </span><span class="koboSpan" id="kobo.475.3">Would it have a date of birth, and if so, what would the </span><span class="No-Break"><span class="koboSpan" id="kobo.476.1">format be?</span></span></p>
			<p><span class="koboSpan" id="kobo.477.1">All these questions are usually answered by the </span><strong class="old"><span class="koboSpan" id="kobo.478.1">model</span></strong><span class="koboSpan" id="kobo.479.1"> of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.480.1">user</span></strong><span class="koboSpan" id="kobo.481.1"> object, which is usually available directly from API and CMS documentation. </span><span class="koboSpan" id="kobo.481.2">In our case, since we are using </span><a href="http://dummyapi.com"><span class="koboSpan" id="kobo.482.1">dummyapi.com</span></a><span class="koboSpan" id="kobo.483.1">, the information about the API models can be found </span><span class="No-Break"><span class="koboSpan" id="kobo.484.1">here: </span></span><a href="https://dummyapi.io/docs/models"><span class="No-Break"><span class="koboSpan" id="kobo.485.1">https://dummyapi.io/docs/models</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.486.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.487.1">Within the model, we can find our specific one, called </span><span class="No-Break"><strong class="old"><span class="koboSpan" id="kobo.488.1">User Full</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.489.1">:</span></span></p>
			<div>
				<div id="_idContainer112" class="IMG---Figure">
					<span class="koboSpan" id="kobo.490.1"><img src="image/B21130_10_04.jpg" alt="Figure 10.4: Model information for User Full"/></span>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.491.1">Figure 10.4: Model information for User Full</span></p>
			<p><span class="koboSpan" id="kobo.492.1">Model information such as that shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.493.1">Figure 10</span></em></span><em class="italic"><span class="koboSpan" id="kobo.494.1">.4</span></em><span class="koboSpan" id="kobo.495.1"> can help us develop a well-structured code base and make the correct choices ahead </span><span class="No-Break"><span class="koboSpan" id="kobo.496.1">of time.</span></span></p>
			<p><span class="koboSpan" id="kobo.497.1">Now that we have a good understanding of the object that the API will return, it is time to build </span><a id="_idIndexMarker535"/><span class="koboSpan" id="kobo.498.1">our component. </span><span class="koboSpan" id="kobo.498.2">Let’s start by </span><a id="_idIndexMarker536"/><span class="koboSpan" id="kobo.499.1">defining the </span><span class="No-Break"><span class="koboSpan" id="kobo.500.1">HTML section:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.501.1">
&lt;template&gt;
&lt;section class="userView"&gt;
  &lt;h2&gt;User information&lt;/h2&gt;
   &lt;template v-for="key in valuesToDisplay"&gt;
    &lt;label v-if="user[key]" &gt;
      {{ key }}
      &lt;input
        type="text"
        disabled
        :value="user[key]"
      /&gt;
    &lt;/label&gt;
  &lt;/template&gt;
&lt;/section&gt;
&lt;/template&gt;</span></pre>
			<p><span class="koboSpan" id="kobo.502.1">The HTML markup makes use of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.503.1">v-for</span></strong><span class="koboSpan" id="kobo.504.1"> directive to loop through a preselected list of properties that we want to display from the user object received from the API. </span><span class="koboSpan" id="kobo.504.2">We are then using </span><strong class="source-inline"><span class="koboSpan" id="kobo.505.1">v-if</span></strong><span class="koboSpan" id="kobo.506.1"> to add some further validation to ensure that our application will not break in case the API changes its returned object. </span><span class="koboSpan" id="kobo.506.2">The HTML will generate a simple design that will render a pair of labels/input for each property, but further development could be made to improve </span><span class="No-Break"><span class="koboSpan" id="kobo.507.1">the UI.</span></span></p>
			<p><span class="koboSpan" id="kobo.508.1">Next, we are going to create the logic required to fetch and assign our user information. </span><span class="koboSpan" id="kobo.508.2">As </span><a id="_idIndexMarker537"/><span class="koboSpan" id="kobo.509.1">previously mentioned, we are going to </span><a id="_idIndexMarker538"/><span class="koboSpan" id="kobo.510.1">hardcode an ID of </span><strong class="source-inline"><span class="koboSpan" id="kobo.511.1">657a3106698992f50c0a5885</span></strong><span class="koboSpan" id="kobo.512.1">, which will later be changed to </span><span class="No-Break"><span class="koboSpan" id="kobo.513.1">be dynamic:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.514.1">
&lt;script setup&gt;
import { reactive } from 'vue';
const user = reactive({});
const valuesToDisplay = [
  "title",
  "firstName",
  "lastName",
  "email",
  "picture",
  "gender"
];
const fetchUser = (userId) =&gt; {
  const url = `https://dummyapi.io/data/v1/user/${userId}`;
  fetch(url, {
    "headers": {
      "app-id": "1234567890"
    }
  })
    .then( response =&gt; response.json())
    .then( result =&gt; {
      Object.assign(user, result.data);
    })
}
fetchUser("60d0fe4f5311236168a109ca");
&lt;/script&gt;</span></pre>
			<p><span class="koboSpan" id="kobo.515.1">The API </span><a id="_idIndexMarker539"/><span class="koboSpan" id="kobo.516.1">logic is very similar to other </span><a id="_idIndexMarker540"/><span class="koboSpan" id="kobo.517.1">requests that we have already made in this book. </span><span class="koboSpan" id="kobo.517.2">The only differences are </span><span class="No-Break"><span class="koboSpan" id="kobo.518.1">as follows:</span></span></p>
			<ul>
				<li><span class="koboSpan" id="kobo.519.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.520.1">url</span></strong><span class="koboSpan" id="kobo.521.1"> variable is not a static value but dynamic as it makes use </span><span class="No-Break"><span class="koboSpan" id="kobo.522.1">of </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.523.1">userId</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.524.1">.</span></span></li>
				<li><span class="koboSpan" id="kobo.525.1">Since we are switching the full value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.526.1">user</span></strong><span class="koboSpan" id="kobo.527.1">, we had to use </span><strong class="source-inline"><span class="koboSpan" id="kobo.528.1">Object.assign</span></strong><span class="koboSpan" id="kobo.529.1">. </span><span class="koboSpan" id="kobo.529.2">This is required when changing the entire value of a </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.530.1">reactive</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.531.1"> property.</span></span></li>
				<li><span class="koboSpan" id="kobo.532.1">The value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.533.1">valuesToDisplay</span></strong><span class="koboSpan" id="kobo.534.1"> has been set to be a simple array and it is not using either </span><strong class="source-inline"><span class="koboSpan" id="kobo.535.1">ref</span></strong><span class="koboSpan" id="kobo.536.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.537.1">reactive</span></strong><span class="koboSpan" id="kobo.538.1">. </span><span class="koboSpan" id="kobo.538.2">This has been done on purpose as this array is not expected to be modified and it is therefore not required to be reactive. </span><span class="koboSpan" id="kobo.538.3">At the start of your Vue.js development, it is probably best to always define a variable as </span><strong class="source-inline"><span class="koboSpan" id="kobo.539.1">ref</span></strong><span class="koboSpan" id="kobo.540.1">/</span><strong class="source-inline"><span class="koboSpan" id="kobo.541.1">reactive</span></strong><span class="koboSpan" id="kobo.542.1"> as something that you expect to be static could easily turn </span><span class="No-Break"><span class="koboSpan" id="kobo.543.1">into dynamic.</span></span></li>
			</ul>
			<p><span class="koboSpan" id="kobo.544.1">The user profile component is now complete, but it is still not accessible from the UI as there is no component or view that loads it. </span><span class="koboSpan" id="kobo.544.2">We can fix this in the next section where we will introduce </span><span class="No-Break"><span class="koboSpan" id="kobo.545.1">dynamic routes.</span></span></p>
			<h2 id="_idParaDest-138"><a id="_idTextAnchor146"/><span class="koboSpan" id="kobo.546.1">Creating a user profile route</span></h2>
			<p><span class="koboSpan" id="kobo.547.1">The creation </span><a id="_idIndexMarker541"/><span class="koboSpan" id="kobo.548.1">of a dynamic route </span><a id="_idIndexMarker542"/><span class="koboSpan" id="kobo.549.1">follows the same flow as a normal route. </span><span class="koboSpan" id="kobo.549.2">All routes are defined by adding an entry into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.550.1">route</span></strong><span class="koboSpan" id="kobo.551.1"> array within the route configuration file </span><span class="No-Break"><span class="koboSpan" id="kobo.552.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.553.1">router/index.js</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.554.1">:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.555.1">
...
</span><span class="koboSpan" id="kobo.555.2">import PrivacyView from '../views/PrivacyView.vue'
</span><strong class="old"><span class="koboSpan" id="kobo.556.1">import UserView from '../views/UserView.vue'</span></strong><span class="koboSpan" id="kobo.557.1">
...,
{
  path: '/privacy',
  name: 'privacy',
  component: PrivacyView
},
</span><strong class="old"><span class="koboSpan" id="kobo.558.1">{</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.559.1">  path: "/user/:userId",</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.560.1">  name: "user",</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.561.1">  component: UserView</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.562.1">}</span></strong><span class="koboSpan" id="kobo.563.1">]</span></pre>
			<p><span class="koboSpan" id="kobo.564.1">Just like before, we added three different properties to our </span><strong class="source-inline"><span class="koboSpan" id="kobo.565.1">route</span></strong><span class="koboSpan" id="kobo.566.1"> object: </span><strong class="source-inline"><span class="koboSpan" id="kobo.567.1">name</span></strong><span class="koboSpan" id="kobo.568.1"> (which will provide us with a friendly name to associate with the route), </span><strong class="source-inline"><span class="koboSpan" id="kobo.569.1">component</span></strong><span class="koboSpan" id="kobo.570.1"> (which will show </span><a id="_idIndexMarker543"/><span class="koboSpan" id="kobo.571.1">us which component to load – in our case, our newly </span><a id="_idIndexMarker544"/><span class="koboSpan" id="kobo.572.1">created </span><strong class="source-inline"><span class="koboSpan" id="kobo.573.1">UserView</span></strong><span class="koboSpan" id="kobo.574.1"> component), and </span><span class="No-Break"><span class="koboSpan" id="kobo.575.1">finally, </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.576.1">path</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.577.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.578.1">You may have noticed that the </span><strong class="source-inline"><span class="koboSpan" id="kobo.579.1">path</span></strong><span class="koboSpan" id="kobo.580.1"> value has a different syntax compared to the previous routes and this is what makes this path a dynamic route. </span><span class="koboSpan" id="kobo.580.2">In fact, in previous cases, the URL created by the route was unique and static, while in this case, we have added a dynamic </span><a id="_idIndexMarker545"/><span class="koboSpan" id="kobo.581.1">part to the URL called </span><strong class="old"><span class="koboSpan" id="kobo.582.1">param</span></strong><span class="koboSpan" id="kobo.583.1"> (short for </span><strong class="old"><span class="koboSpan" id="kobo.584.1">parameter</span></strong><span class="koboSpan" id="kobo.585.1">), and this is defined by the colon (</span><strong class="source-inline"><span class="koboSpan" id="kobo.586.1">:</span></strong><span class="koboSpan" id="kobo.587.1">) preceding the word </span><strong class="source-inline"><span class="koboSpan" id="kobo.588.1">userId</span></strong><span class="koboSpan" id="kobo.589.1">. </span><span class="koboSpan" id="kobo.589.2">So, this path does not translate into </span><strong class="source-inline"><span class="koboSpan" id="kobo.590.1">website.com/user/:userId</span></strong><span class="koboSpan" id="kobo.591.1">, but it defines a URL that expects a value to replace </span><strong class="source-inline"><span class="koboSpan" id="kobo.592.1">:userId</span></strong><span class="koboSpan" id="kobo.593.1">. </span><span class="koboSpan" id="kobo.593.2">In our example, the path would probably look like </span><strong class="source-inline"><span class="koboSpan" id="kobo.594.1">website.com/user/1234</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.595.1">or </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.596.1">website.com/user/my-user-id</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.597.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.598.1">As we mentioned before, the value that replaced the parameter is then going to be available within the Vue component and can be used to render a unique page. </span><span class="koboSpan" id="kobo.598.2">In our case, the ID provided will be used to load the information of a specific user, so accessing URLs with different IDs will render pages with different </span><span class="No-Break"><span class="koboSpan" id="kobo.599.1">user information.</span></span></p>
			<p class="callout-heading"><span class="koboSpan" id="kobo.600.1">You can have multiple parameters in a route</span></p>
			<p class="callout"><span class="koboSpan" id="kobo.601.1">Did you know you can have multiple dynamic parameters in a single route? </span><span class="koboSpan" id="kobo.601.2">Each is going to be defined using the same syntax. </span><span class="koboSpan" id="kobo.601.3">For example, you could have a URL defined as </span><strong class="source-inline"><span class="koboSpan" id="kobo.602.1">/account/:accountId/user/:userId</span></strong><span class="koboSpan" id="kobo.603.1">. </span><span class="koboSpan" id="kobo.603.2">The component that will load this route will have access to two dynamic parameters, one containing the account ID and the other the </span><span class="No-Break"><span class="koboSpan" id="kobo.604.1">user ID.</span></span></p>
			<h2 id="_idParaDest-139"><a id="_idTextAnchor147"/><span class="koboSpan" id="kobo.605.1">Adding navigation using the route name</span></h2>
			<p><span class="koboSpan" id="kobo.606.1">Now that the user route is defined, it is time to make some changes to our design to ensure </span><a id="_idIndexMarker546"/><span class="koboSpan" id="kobo.607.1">that the users can navigate </span><span class="No-Break"><span class="koboSpan" id="kobo.608.1">to it.</span></span></p>
			<p><span class="koboSpan" id="kobo.609.1">Even if </span><a id="_idIndexMarker547"/><span class="koboSpan" id="kobo.610.1">we could easily achieve this task by using the </span><a id="_idIndexMarker548"/><span class="koboSpan" id="kobo.611.1">navigation we learned in the previous section, we are going to take this opportunity to introduce a new syntax that navigates using the </span><span class="No-Break"><span class="koboSpan" id="kobo.612.1">route name.</span></span></p>
			<p><span class="koboSpan" id="kobo.613.1">When defining a new route, we provided both a </span><strong class="source-inline"><span class="koboSpan" id="kobo.614.1">path</span></strong><span class="koboSpan" id="kobo.615.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.616.1">name</span></strong><span class="koboSpan" id="kobo.617.1"> value for each route item. </span><span class="koboSpan" id="kobo.617.2">Navigating using a path is simple for a basic URL, but as things get complicated, it may be cleaner to use the route name to define the </span><span class="No-Break"><span class="koboSpan" id="kobo.618.1">navigation code.</span></span></p>
			<p><span class="koboSpan" id="kobo.619.1">Providing a name for every route is a best practice highly adopted in routing systems, as it allows for more readable and </span><span class="No-Break"><span class="koboSpan" id="kobo.620.1">maintainable code.</span></span></p>
			<p><span class="koboSpan" id="kobo.621.1">Let’s open </span><strong class="source-inline"><span class="koboSpan" id="kobo.622.1">SocialPost.vue</span></strong><span class="koboSpan" id="kobo.623.1"> and add the navigation logic to the user avatar. </span><span class="koboSpan" id="kobo.623.2">To accomplish this task, we are first going to add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.624.1">click </span></strong><span class="koboSpan" id="kobo.625.1">event to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.626.1">&lt;</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.627.1">img&gt;</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.628.1"> element:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.629.1">
&lt;img
  class="avatar"
  :src="avatarSrc"
  </span><strong class="old"><span class="koboSpan" id="kobo.630.1">@click="navigateToUser"</span></strong><span class="koboSpan" id="kobo.631.1">
/&gt;</span></pre>
			<p><span class="koboSpan" id="kobo.632.1">We attached a method called </span><strong class="source-inline"><span class="koboSpan" id="kobo.633.1">navigateToUser</span></strong><span class="koboSpan" id="kobo.634.1"> to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.635.1">click</span></strong><span class="koboSpan" id="kobo.636.1"> event. </span><span class="koboSpan" id="kobo.636.2">This method does not have any argument as we will be able to access everything we need directly from the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.637.1">component</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.638.1"> scope.</span></span></p>
			<p><span class="koboSpan" id="kobo.639.1">Next, we are going to create the </span><strong class="source-inline"><span class="koboSpan" id="kobo.640.1">navigateToUser</span></strong><span class="koboSpan" id="kobo.641.1">  method in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.642.1">&lt;script&gt;</span></strong><span class="koboSpan" id="kobo.643.1"> block of </span><span class="No-Break"><span class="koboSpan" id="kobo.644.1">our component:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.645.1">
&lt;script setup &gt;
import { onMounted, ref, computed } from 'vue';
import SocialPostComments from './SocialPostComments.vue';
import IconHeart from '../icons/IconHeart.vue';
import IconDelete from '../icons/IconDelete.vue';
import TheButton from '../atoms/TheButton.vue';
</span><strong class="old"><span class="koboSpan" id="kobo.646.1">import { useRouter } from 'vue-router';</span></strong><span class="koboSpan" id="kobo.647.1">
const showComments = ref(false);
  const onShowCommentClick = () =&gt; {
  console.log("Showing comments");
  showComments.value = !showComments.value;
}
const props = defineProps({
  username: String,
  id: String,
  avatarSrc: String,
  post: String,
  likes: Number
});
</span><strong class="old"><span class="koboSpan" id="kobo.648.1">const router = useRouter();</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.649.1">const navigateToUser = () =&gt; {</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.650.1">  router.push({</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.651.1">    name: "user",</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.652.1">    params: {</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.653.1">      userId: props.id</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.654.1">    }</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.655.1">  });</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.656.1">}</span></strong></pre>
			<p><span class="koboSpan" id="kobo.657.1">To add </span><a id="_idIndexMarker549"/><span class="koboSpan" id="kobo.658.1">our programmatic navigation, we first imported the </span><strong class="source-inline"><span class="koboSpan" id="kobo.659.1">useRoute</span></strong><span class="koboSpan" id="kobo.660.1"> method, then we initiated the route with </span><strong class="source-inline"><span class="koboSpan" id="kobo.661.1">const router = useRouter();</span></strong><span class="koboSpan" id="kobo.662.1">, and finally, we defined </span><span class="No-Break"><span class="koboSpan" id="kobo.663.1">our method.</span></span></p>
			<p><span class="koboSpan" id="kobo.664.1">Navigating </span><a id="_idIndexMarker550"/><span class="koboSpan" id="kobo.665.1">using the name utilizes the same </span><a id="_idIndexMarker551"/><span class="koboSpan" id="kobo.666.1">method used with the path navigation, </span><strong class="source-inline"><span class="koboSpan" id="kobo.667.1">router.push</span></strong><span class="koboSpan" id="kobo.668.1">. </span><span class="koboSpan" id="kobo.668.2">The difference lies in the value passed to it. </span><span class="koboSpan" id="kobo.668.3">While, in previous examples, we just passed a single string, we are now passing </span><span class="No-Break"><span class="koboSpan" id="kobo.669.1">an object.</span></span></p>
			<p><span class="koboSpan" id="kobo.670.1">This object includes the route name and a list of parameters, which, in our case, is equivalent </span><span class="No-Break"><span class="koboSpan" id="kobo.671.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.672.1">userId</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.673.1">:</span></span></p>
			<pre class="source-code">
<strong class="old"><span class="koboSpan" id="kobo.674.1">{</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.675.1">  name: "user",</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.676.1">  params: {</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.677.1">    userId: props.id</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.678.1">  }</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.679.1">}</span></strong></pre>
			<p><span class="koboSpan" id="kobo.680.1">Both the name and the parameters need to match the information defined in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.681.1">route</span></strong><span class="koboSpan" id="kobo.682.1"> array. </span><span class="koboSpan" id="kobo.682.2">This information is case-sensitive, so take extra care when applying it to your </span><span class="No-Break"><span class="koboSpan" id="kobo.683.1">navigation object.</span></span></p>
			<p><span class="koboSpan" id="kobo.684.1">Running the application and clicking on the user avatars will redirect to a URL such </span><span class="No-Break"><span class="koboSpan" id="kobo.685.1">as </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.686.1">http://localhost:5173/user/60d21b4667d0d8992e610c85</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.687.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.688.1">Before we can celebrate our work as completed, we need to do one more step, which will require us to read the value from the route and use it to load the correct user. </span><span class="koboSpan" id="kobo.688.2">The ID used to load the user from the API has been hardcoded, and clicking on different avatars will result in the same user </span><span class="No-Break"><span class="koboSpan" id="kobo.689.1">being displayed.</span></span></p>
			<h2 id="_idParaDest-140"><a id="_idTextAnchor148"/><span class="koboSpan" id="kobo.690.1">Reading route parameters in a route component</span></h2>
			<p><span class="koboSpan" id="kobo.691.1">When a task requires you to create a dynamic route, chances are that you will need one or multiple </span><a id="_idIndexMarker552"/><span class="koboSpan" id="kobo.692.1">dynamic parameters to render the </span><span class="No-Break"><span class="koboSpan" id="kobo.693.1">page correctly.</span></span></p>
			<p><span class="koboSpan" id="kobo.694.1">If </span><a id="_idIndexMarker553"/><span class="koboSpan" id="kobo.695.1">you are creating a blog page, the dynamic parameters will be the blog ID; if you are loading a book library, the parameters could be the category or the author to filter by. </span><span class="koboSpan" id="kobo.695.2">No matter the reason, using a dynamic URL will require you to read and use that value within </span><span class="No-Break"><span class="koboSpan" id="kobo.696.1">your component.</span></span></p>
			<p><span class="koboSpan" id="kobo.697.1">Reading route parameters can be achieved using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.698.1">params</span></strong><span class="koboSpan" id="kobo.699.1"> object available within the </span><strong class="source-inline"><span class="koboSpan" id="kobo.700.1">route</span></strong><span class="koboSpan" id="kobo.701.1"> package. </span><span class="koboSpan" id="kobo.701.2">Let’s go back to </span><strong class="source-inline"><span class="koboSpan" id="kobo.702.1">UserView.vue</span></strong><span class="koboSpan" id="kobo.703.1"> and modify the code to load </span><strong class="source-inline"><span class="koboSpan" id="kobo.704.1">userId</span></strong><span class="koboSpan" id="kobo.705.1"> dynamically from </span><span class="No-Break"><span class="koboSpan" id="kobo.706.1">the route:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.707.1">
&lt;script setup&gt;
import { reactive } from 'vue';
</span><strong class="old"><span class="koboSpan" id="kobo.708.1">import { useRoute } from 'vue-router';</span></strong><span class="koboSpan" id="kobo.709.1">
const user = reactive({});
const fetchUser = (userId) =&gt; {
  const url = `https://dummyapi.io/data/v1/user/${userId}`;
  fetch(url, {
    "headers": {
      "app-id": "657a3106698992f50c0a5885"
    }
  })
    .then( response =&gt; response.json())
    .then( result =&gt; {
      Object.assign(user, result.data);
    })
}
</span><strong class="old"><span class="koboSpan" id="kobo.710.1">const route = useRoute();</span></strong><span class="koboSpan" id="kobo.711.1">
fetchUser(</span><strong class="old"><span class="koboSpan" id="kobo.712.1">route.params.userId)</span></strong><span class="koboSpan" id="kobo.713.1">;
&lt;/script&gt;</span></pre>
			<p><span class="koboSpan" id="kobo.714.1">To </span><a id="_idIndexMarker554"/><span class="koboSpan" id="kobo.715.1">load our parameters from the route, we made three changes to our view. </span><span class="koboSpan" id="kobo.715.2">First, we imported </span><strong class="source-inline"><span class="koboSpan" id="kobo.716.1">useRoute</span></strong><span class="koboSpan" id="kobo.717.1"> from the vue-router package. </span><span class="koboSpan" id="kobo.717.2">Then, we created an instance of the route using </span><strong class="source-inline"><span class="koboSpan" id="kobo.718.1">const route = useRoute()</span></strong><span class="koboSpan" id="kobo.719.1">, and finally, we removed the hardcoded </span><strong class="source-inline"><span class="koboSpan" id="kobo.720.1">userId</span></strong><span class="koboSpan" id="kobo.721.1"> and replaced it with the </span><a id="_idIndexMarker555"/><span class="koboSpan" id="kobo.722.1">route parameters </span><span class="No-Break"><span class="koboSpan" id="kobo.723.1">using </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.724.1">route.params.userId</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.725.1">.</span></span></p>
			<p class="callout-heading"><span class="koboSpan" id="kobo.726.1">UseRouter versus UseRoute</span></p>
			<p class="callout"><span class="koboSpan" id="kobo.727.1">You may </span><a id="_idIndexMarker556"/><span class="koboSpan" id="kobo.728.1">have noticed that, in previous components, we used </span><strong class="source-inline"><span class="koboSpan" id="kobo.729.1">useRouter</span></strong><span class="koboSpan" id="kobo.730.1">, while in </span><a id="_idIndexMarker557"/><span class="koboSpan" id="kobo.731.1">the current one, we used </span><strong class="source-inline"><span class="koboSpan" id="kobo.732.1">useRoute</span></strong><span class="koboSpan" id="kobo.733.1">. </span><span class="koboSpan" id="kobo.733.2">These names are very similar, and their differences can easily be missed. </span><strong class="source-inline"><span class="koboSpan" id="kobo.734.1">useRouter</span></strong><span class="koboSpan" id="kobo.735.1"> is used when we need to have access to the router object – for example, to add routes, push navigation, and trigger before and after route actions – while </span><strong class="source-inline"><span class="koboSpan" id="kobo.736.1">useRoute</span></strong><span class="koboSpan" id="kobo.737.1"> is used to gain information on the current route, such as the parameters, path, or URL </span><span class="No-Break"><span class="koboSpan" id="kobo.738.1">query information.</span></span></p>
			<p><span class="koboSpan" id="kobo.739.1">At this stage, the dynamic route will be fully functional, and clicking a user avatar will load information for that </span><span class="No-Break"><span class="koboSpan" id="kobo.740.1">specific user.</span></span></p>
			<div>
				<div id="_idContainer113" class="IMG---Figure">
					<span class="koboSpan" id="kobo.741.1"><img src="image/B21130_10_05.jpg" alt="Figure 10.5: User view page displaying user information"/></span>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.742.1">Figure 10.5: User view page displaying user information</span></p>
			<p><span class="koboSpan" id="kobo.743.1">In this section, we have learned about all the different aspects of dynamic routes. </span><span class="koboSpan" id="kobo.743.2">We have learned why they are needed and the problem that they try to solve, and we introduced </span><a id="_idIndexMarker558"/><span class="koboSpan" id="kobo.744.1">their syntax by adding a dynamic route for the users </span><a id="_idIndexMarker559"/><span class="koboSpan" id="kobo.745.1">within our </span><strong class="source-inline"><span class="koboSpan" id="kobo.746.1">route</span></strong><span class="koboSpan" id="kobo.747.1"> array. </span><span class="koboSpan" id="kobo.747.2">While doing so, we took the opportunity to learn about programmatic navigation using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.748.1">name</span></strong><span class="koboSpan" id="kobo.749.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.750.1">params</span></strong><span class="koboSpan" id="kobo.751.1"> values of a route, and finally, we learned how to access route information, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.752.1">params</span></strong><span class="koboSpan" id="kobo.753.1">, using the route object offered by the vue-router package to make our user </span><span class="No-Break"><span class="koboSpan" id="kobo.754.1">view dynamic.</span></span></p>
			<p><span class="koboSpan" id="kobo.755.1">While completing the section, we have also gone over previously learned topics such as components, directives, events, and so </span><span class="No-Break"><span class="koboSpan" id="kobo.756.1">much more.</span></span></p>
			<p><span class="koboSpan" id="kobo.757.1">In the next section, we will go one step deeper and learn about nested routes. </span><span class="koboSpan" id="kobo.757.2">This will follow a similar flow to the current section and hopefully feel familiar </span><span class="No-Break"><span class="koboSpan" id="kobo.758.1">to you.</span></span></p>
			<h1 id="_idParaDest-141"><a id="_idTextAnchor149"/><span class="koboSpan" id="kobo.759.1">Learning about nested routes</span></h1>
			<p><span class="koboSpan" id="kobo.760.1">SPAs are very powerful but the addition of a well-structured router, such as vue-router, can help take SPAs to another level. </span><span class="koboSpan" id="kobo.760.2">The strength of a SPA relies on its ability to swap components </span><a id="_idIndexMarker560"/><span class="koboSpan" id="kobo.761.1">on the fly without the need to refresh the page, but what if I told you that vue-router can go even deeper than a page layout? </span><span class="koboSpan" id="kobo.761.2">This is where nested routes come </span><span class="No-Break"><span class="koboSpan" id="kobo.762.1">in handy.</span></span></p>
			<p><span class="koboSpan" id="kobo.763.1">Nested routes provide you with the ability to define routes within routes, multiple levels deep, to create a very complex layout. </span><span class="koboSpan" id="kobo.763.2">The concept of nested routes may sound complicated, but their use makes the application easier to develop and they are recommended for </span><span class="No-Break"><span class="koboSpan" id="kobo.764.1">most applications.</span></span></p>
			<p><span class="koboSpan" id="kobo.765.1">When we created the main routes, we said that the page would be swapped entirely when on navigation; with nested routes, the concept is the same, but instead of swapping the full page, we just swap an internal part of </span><span class="No-Break"><span class="koboSpan" id="kobo.766.1">the page.</span></span></p>
			<div>
				<div id="_idContainer114" class="IMG---Figure">
					<span class="koboSpan" id="kobo.767.1"><img src="image/B21130_10_06.jpg" alt="Figure 10.6: Example of nested routes"/></span>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.768.1">Figure 10.6: Example of nested routes</span></p>
			<p><span class="koboSpan" id="kobo.769.1">To better understand how nested routes work, let’s discuss the little example shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.770.1">Figure 10</span></em></span><em class="italic"><span class="koboSpan" id="kobo.771.1">.6</span></em><span class="koboSpan" id="kobo.772.1">. </span><span class="koboSpan" id="kobo.772.2">Imagine you have created a dashboard. </span><span class="koboSpan" id="kobo.772.3">While developing different parts of the dashboard, such as a </span><strong class="source-inline"><span class="koboSpan" id="kobo.773.1">settings</span></strong><span class="koboSpan" id="kobo.774.1"> view and an </span><strong class="source-inline"><span class="koboSpan" id="kobo.775.1">analytics</span></strong><span class="koboSpan" id="kobo.776.1"> view, you realize that there is a part of the layout that is shared. </span><span class="koboSpan" id="kobo.776.2">This may be the navbar, the sidebar, and even some features such as </span><em class="italic"><span class="koboSpan" id="kobo.777.1">print screen</span></em> <span class="No-Break"><span class="koboSpan" id="kobo.778.1">or chat.</span></span></p>
			<p><span class="koboSpan" id="kobo.779.1">To avoid duplicating these functionalities, we can use nested routes. </span><span class="koboSpan" id="kobo.779.2">In our example, we would have a parent route called </span><strong class="source-inline"><span class="koboSpan" id="kobo.780.1">dashboard</span></strong><span class="koboSpan" id="kobo.781.1">, which will have a set of children – in our example, these will be a </span><strong class="source-inline"><span class="koboSpan" id="kobo.782.1">settings</span></strong><span class="koboSpan" id="kobo.783.1"> nested route and an </span><strong class="source-inline"><span class="koboSpan" id="kobo.784.1">analytics</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.785.1">nested route.</span></span></p>
			<p><span class="koboSpan" id="kobo.786.1">The main </span><strong class="source-inline"><span class="koboSpan" id="kobo.787.1">dashboard</span></strong><span class="koboSpan" id="kobo.788.1"> route is going to include all the reusable components we mentioned previously, plus the addition of a </span><strong class="source-inline"><span class="koboSpan" id="kobo.789.1">&lt;RouterView&gt;</span></strong><span class="koboSpan" id="kobo.790.1"> component. </span><span class="koboSpan" id="kobo.790.2">This component, just as </span><a id="_idIndexMarker561"/><span class="koboSpan" id="kobo.791.1">we did in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.792.1">app.vue</span></strong><span class="koboSpan" id="kobo.793.1"> file at the start of this chapter, will be used by the router to render the </span><span class="No-Break"><span class="koboSpan" id="kobo.794.1">appropriate route.</span></span></p>
			<p><span class="koboSpan" id="kobo.795.1">After this theoretical introduction of nested routes, it is time to apply this knowledge to our Companion App and learn how to use this new feature </span><span class="No-Break"><span class="koboSpan" id="kobo.796.1">of vue-router.</span></span></p>
			<h2 id="_idParaDest-142"><a id="_idTextAnchor150"/><span class="koboSpan" id="kobo.797.1">Applying nested routes to the user</span></h2>
			<p><span class="koboSpan" id="kobo.798.1">In this section, we are going back to the user page to enable nested routes by adding the ability to toggle between the user profile and the user </span><span class="No-Break"><span class="koboSpan" id="kobo.799.1">posts view.</span></span></p>
			<p><span class="koboSpan" id="kobo.800.1">The example </span><a id="_idIndexMarker562"/><span class="koboSpan" id="kobo.801.1">we are going to develop is a very good use case and something that you may encounter in </span><span class="No-Break"><span class="koboSpan" id="kobo.802.1">real-life development.</span></span></p>
			<p><span class="koboSpan" id="kobo.803.1">The idea of nested routes is that the views have something in common. </span><span class="koboSpan" id="kobo.803.2">This may either be just the layout or some specific route parameters. </span><span class="koboSpan" id="kobo.803.3">A very common example of nested routes is an application that has tabs or offers a </span><span class="No-Break"><span class="koboSpan" id="kobo.804.1">multi-step form.</span></span></p>
			<p><span class="koboSpan" id="kobo.805.1">Completing this task takes a couple of steps. </span><span class="koboSpan" id="kobo.805.2">First, we will create a file that is going to load a list of posts for the user. </span><span class="koboSpan" id="kobo.805.3">Next, we will rename the </span><strong class="source-inline"><span class="koboSpan" id="kobo.806.1">userView</span></strong><span class="koboSpan" id="kobo.807.1"> file to align with the new route, and finally, we will modify the </span><strong class="source-inline"><span class="koboSpan" id="kobo.808.1">route</span></strong><span class="koboSpan" id="kobo.809.1"> array to define the new </span><span class="No-Break"><span class="koboSpan" id="kobo.810.1">nested view.</span></span></p>
			<p><span class="koboSpan" id="kobo.811.1">For the first step, I am going to provide you with just some guidance on how to complete the task, because I want to give you a chance to try and figure it out by yourself. </span><span class="koboSpan" id="kobo.811.2">If you get stuck, you can check the </span><strong class="source-inline"><span class="koboSpan" id="kobo.812.1">CH10-end</span></strong><span class="koboSpan" id="kobo.813.1"> branch, which includes the </span><span class="No-Break"><span class="koboSpan" id="kobo.814.1">completed file.</span></span></p>
			<p><span class="koboSpan" id="kobo.815.1">The requirements are to create a file that will load the user posts. </span><span class="koboSpan" id="kobo.815.2">This file is going to be called </span><strong class="source-inline"><span class="koboSpan" id="kobo.816.1">userPostsView.vue</span></strong><span class="koboSpan" id="kobo.817.1"> and will be located within the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.818.1">views</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.819.1"> folder.</span></span></p>
			<p><span class="koboSpan" id="kobo.820.1">The logic of this file is going to be very similar to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.821.1">SocialPost.vue</span></strong><span class="koboSpan" id="kobo.822.1"> file. </span><span class="koboSpan" id="kobo.822.2">In fact, the responses returned by both endpoints are the same, so this allows us to reuse most of the logic and the UI. </span><span class="koboSpan" id="kobo.822.3">For the scope of this book, we can copy the content of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.823.1">SocialPost.vue</span></strong><span class="koboSpan" id="kobo.824.1"> file into our newly created file, but in a real example, we would have refactored the component so that we could have </span><span class="No-Break"><span class="koboSpan" id="kobo.825.1">reused it.</span></span></p>
			<p><span class="koboSpan" id="kobo.826.1">The only </span><a id="_idIndexMarker563"/><span class="koboSpan" id="kobo.827.1">modification the file needs is to load </span><strong class="source-inline"><span class="koboSpan" id="kobo.828.1">userId</span></strong><span class="koboSpan" id="kobo.829.1"> from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.830.1">route</span></strong><span class="koboSpan" id="kobo.831.1"> object, just like we did in </span><strong class="source-inline"><span class="koboSpan" id="kobo.832.1">userView.vue</span></strong><span class="koboSpan" id="kobo.833.1">, and then change the URL used to load the information to </span><span class="No-Break"><span class="koboSpan" id="kobo.834.1">be </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.835.1">{baseUrl}/user/${userId}/post?limit=10</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.836.1">.</span></span></p>
			<p class="callout-heading"><span class="koboSpan" id="kobo.837.1">Testing and developing a new component</span></p>
			<p class="callout"><span class="koboSpan" id="kobo.838.1">You may be wondering, “</span><em class="italic"><span class="koboSpan" id="kobo.839.1">How can you develop a component if you are not able to test it in the browser?</span></em><span class="koboSpan" id="kobo.840.1">”. </span><span class="koboSpan" id="kobo.840.2">It is common practice when developing new components to create dummy routes that can be used to test new components. </span><span class="koboSpan" id="kobo.840.3">In this case, our route would need to have access to the user ID from the path, so a simple way to test it out is to swap it in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.841.1">route</span></strong><span class="koboSpan" id="kobo.842.1"> array so that the new component is returned when accessing the existing </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.843.1">user</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.844.1"> endpoint.</span></span></p>
			<p><span class="koboSpan" id="kobo.845.1">Next, we are going to rename the </span><strong class="source-inline"><span class="koboSpan" id="kobo.846.1">userView.vue</span></strong><span class="koboSpan" id="kobo.847.1"> file to align with the route changes that we are going to make. </span><span class="koboSpan" id="kobo.847.2">The new name is going to </span><span class="No-Break"><span class="koboSpan" id="kobo.848.1">be </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.849.1">userProfileView.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.850.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.851.1">Finally, we are going to learn the syntax required to create a nested route. </span><span class="koboSpan" id="kobo.851.2">So, let’s open the </span><strong class="source-inline"><span class="koboSpan" id="kobo.852.1">index.js</span></strong><span class="koboSpan" id="kobo.853.1"> file within the </span><strong class="source-inline"><span class="koboSpan" id="kobo.854.1">router</span></strong><span class="koboSpan" id="kobo.855.1"> folder and see the changes required to split the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.856.1">user</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.857.1"> endpoint:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.858.1">
import PrivacyView from '../views/PrivacyView.vue'
import </span><strong class="old"><span class="koboSpan" id="kobo.859.1">UserProfileView </span></strong><span class="koboSpan" id="kobo.860.1">from '../views/</span><strong class="old"><span class="koboSpan" id="kobo.861.1">UserProfileView</span></strong><span class="koboSpan" id="kobo.862.1">.vue'
</span><strong class="old"><span class="koboSpan" id="kobo.863.1">import UserPostsView from '../views/UserPostsView.vue'</span></strong><span class="koboSpan" id="kobo.864.1">
...
</span><span class="koboSpan" id="kobo.864.2">{
  path: "/user/:userId",
  name: "user",
  </span><strong class="old"><span class="koboSpan" id="kobo.865.1">children: [</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.866.1">    {</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.867.1">      path: "profile",</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.868.1">      name: "user-profile",</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.869.1">      component: UserView</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.870.1">    },</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.871.1">    {</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.872.1">      path: "posts",</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.873.1">      name: "user-posts",</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.874.1">      component: UserPostView</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.875.1">    }</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.876.1">  ],</span></strong>
<strong class="old"><span class="koboSpan" id="kobo.877.1">  component: UserView</span></strong><span class="koboSpan" id="kobo.878.1">
}</span></pre>
			<p><span class="koboSpan" id="kobo.879.1">The syntax required for nested routes is quite intuitive and it uses the knowledge that we gained in the </span><span class="No-Break"><span class="koboSpan" id="kobo.880.1">previous section.</span></span></p>
			<p><span class="koboSpan" id="kobo.881.1">Nested </span><a id="_idIndexMarker564"/><span class="koboSpan" id="kobo.882.1">routes are defined within our existing </span><strong class="source-inline"><span class="koboSpan" id="kobo.883.1">user</span></strong><span class="koboSpan" id="kobo.884.1"> route and denoted by the </span><strong class="source-inline"><span class="koboSpan" id="kobo.885.1">children</span></strong><span class="koboSpan" id="kobo.886.1"> property. </span><span class="koboSpan" id="kobo.886.2">This property accepts an array of routes that is defined with the same structure that we used before with </span><strong class="source-inline"><span class="koboSpan" id="kobo.887.1">name</span></strong><span class="koboSpan" id="kobo.888.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.889.1">path</span></strong><span class="koboSpan" id="kobo.890.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.891.1">component</span></strong><span class="koboSpan" id="kobo.892.1">. </span><span class="koboSpan" id="kobo.892.2">The only thing that you need to consider here is that when defining nested routes, we are not at the root of the project anymore, so the value assigned to </span><strong class="source-inline"><span class="koboSpan" id="kobo.893.1">path</span></strong><span class="koboSpan" id="kobo.894.1"> is added to the existing one. </span><span class="koboSpan" id="kobo.894.2">So, in this case, the full path of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.895.1">userProfile</span></strong><span class="koboSpan" id="kobo.896.1"> route will </span><span class="No-Break"><span class="koboSpan" id="kobo.897.1">be </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.898.1">mysite.com/user/:userId/profile</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.899.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.900.1">The user profile and the user posts views are ready to be visited by navigating to </span><strong class="source-inline"><span class="koboSpan" id="kobo.901.1">http://localhost:5173/user/:userId/profile</span></strong><span class="koboSpan" id="kobo.902.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.903.1">http://localhost:5173/user/:userId/posts</span></strong><span class="koboSpan" id="kobo.904.1">, respectively (where </span><strong class="source-inline"><span class="koboSpan" id="kobo.905.1">userId</span></strong><span class="koboSpan" id="kobo.906.1"> is replaced with an actual </span><span class="No-Break"><span class="koboSpan" id="kobo.907.1">user ID).</span></span></p>
			<p class="callout-heading"><span class="koboSpan" id="kobo.908.1">A nested path does not mean a nested layout</span></p>
			<p class="callout"><span class="koboSpan" id="kobo.909.1">You may have noticed that, with the example in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.910.1">Figure 10</span></em></span><em class="italic"><span class="koboSpan" id="kobo.911.1">.6</span></em><span class="koboSpan" id="kobo.912.1">, we mentioned that nested routes can share a layout and be used to update just part of the page such as an inner tab, but in our case, this has not been the case as we are using our nested routes to update the page fully. </span><span class="koboSpan" id="kobo.912.2">What we did is not uncommon. </span><span class="koboSpan" id="kobo.912.3">In fact, the use of nested routes is not just achieved to share a layout but also to share specific data. </span><span class="koboSpan" id="kobo.912.4">In our case, the use of nested routes was used to allow both routes to share the </span><strong class="source-inline"><span class="koboSpan" id="kobo.913.1">path</span></strong><span class="koboSpan" id="kobo.914.1"> parameters named </span><strong class="source-inline"><span class="koboSpan" id="kobo.915.1">userId</span></strong><span class="koboSpan" id="kobo.916.1">. </span><span class="koboSpan" id="kobo.916.2">If you want to practice further, you could create a component for the user path and use it as a layout for the user profile and posts route. </span><span class="koboSpan" id="kobo.916.3">Just remember to add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.917.1">&lt;RouterView&gt;</span></strong><span class="koboSpan" id="kobo.918.1"> component in your HTML to define where vue-router should append </span><span class="No-Break"><span class="koboSpan" id="kobo.919.1">the routes.</span></span></p>
			<p><span class="koboSpan" id="kobo.920.1">In this section, we learned what nested routes are. </span><span class="koboSpan" id="kobo.920.2">We then updated our Companion app to use </span><a id="_idIndexMarker565"/><span class="koboSpan" id="kobo.921.1">a nested route to load two different user views. </span><span class="koboSpan" id="kobo.921.2">We also created a new view to display user posts. </span><span class="koboSpan" id="kobo.921.3">Next, we learned and applied the syntax required to implement nested routes. </span><span class="koboSpan" id="kobo.921.4">The final product is the ability for us to navigate to two different pages, one that displays the user profile information and one that displays the </span><span class="No-Break"><span class="koboSpan" id="kobo.922.1">user posts.</span></span></p>
			<p><span class="koboSpan" id="kobo.923.1">You may have </span><a id="_idIndexMarker566"/><span class="koboSpan" id="kobo.924.1">noticed that we have moved the </span><strong class="old"><span class="koboSpan" id="kobo.925.1">user profile view</span></strong><span class="koboSpan" id="kobo.926.1"> from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.927.1">user</span></strong><span class="koboSpan" id="kobo.928.1"> route to one of its children. </span><span class="koboSpan" id="kobo.928.2">Because of this, if we access the </span><strong class="source-inline"><span class="koboSpan" id="kobo.929.1">user</span></strong><span class="koboSpan" id="kobo.930.1"> route (e.g., </span><strong class="source-inline"><span class="koboSpan" id="kobo.931.1">http://localhost:5173/user/60d21b4667d0d8992e610c85</span></strong><span class="koboSpan" id="kobo.932.1">), we will be greeted with an empty page. </span><span class="koboSpan" id="kobo.932.2">This is not a bug but is expected because we have not actually declared any route that satisfies that specific endpoint. </span><span class="koboSpan" id="kobo.932.3">We are going to fix this now by creating </span><span class="No-Break"><span class="koboSpan" id="kobo.933.1">an alias.</span></span></p>
			<h1 id="_idParaDest-143"><a id="_idTextAnchor151"/><span class="koboSpan" id="kobo.934.1">Reusing routes with alias and redirect</span></h1>
			<p><span class="koboSpan" id="kobo.935.1">So far, we have </span><a id="_idIndexMarker567"/><span class="koboSpan" id="kobo.936.1">learned how to create new routes, but there is </span><a id="_idIndexMarker568"/><span class="koboSpan" id="kobo.937.1">another skill required to master vue-router: </span><strong class="old"><span class="koboSpan" id="kobo.938.1">alias</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.939.1">and </span></span><span class="No-Break"><strong class="old"><span class="koboSpan" id="kobo.940.1">redirect</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.941.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.942.1">Both </span><strong class="source-inline"><span class="koboSpan" id="kobo.943.1">alias</span></strong><span class="koboSpan" id="kobo.944.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.945.1">redirect</span></strong><span class="koboSpan" id="kobo.946.1"> allow you </span><a id="_idIndexMarker569"/><span class="koboSpan" id="kobo.947.1">to reuse existing routes by navigating </span><a id="_idIndexMarker570"/><span class="koboSpan" id="kobo.948.1">the user from </span><a id="_idIndexMarker571"/><span class="koboSpan" id="kobo.949.1">one route to another and are very useful when </span><a id="_idIndexMarker572"/><span class="koboSpan" id="kobo.950.1">you want to create SEO-friendly URLs. </span><span class="koboSpan" id="kobo.950.2">The only distinction between the two features is the result that the user sees within </span><span class="No-Break"><span class="koboSpan" id="kobo.951.1">the browser.</span></span></p>
			<p><span class="koboSpan" id="kobo.952.1">Using our previous example, we have found ourselves in a situation in which a route is currently unusable because it has no component or view attached to it. </span><span class="koboSpan" id="kobo.952.2">This is a common scenario when working with </span><strong class="source-inline"><span class="koboSpan" id="kobo.953.1">children</span></strong><span class="koboSpan" id="kobo.954.1"> routes and can easily be solved with an alias </span><span class="No-Break"><span class="koboSpan" id="kobo.955.1">or redirect.</span></span></p>
			<p><span class="koboSpan" id="kobo.956.1">To solve </span><a id="_idIndexMarker573"/><span class="koboSpan" id="kobo.957.1">our empty route problem, we are going to use </span><strong class="source-inline"><span class="koboSpan" id="kobo.958.1">redirect</span></strong><span class="koboSpan" id="kobo.959.1"> to navigate </span><a id="_idIndexMarker574"/><span class="koboSpan" id="kobo.960.1">all users that land on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.961.1">user/:userId</span></strong><span class="koboSpan" id="kobo.962.1"> path to its </span><strong class="source-inline"><span class="koboSpan" id="kobo.963.1">children</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.964.1">path, </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.965.1">user/:userId/profile.</span></strong></span></p>
			<p><span class="koboSpan" id="kobo.966.1">Creating </span><a id="_idIndexMarker575"/><span class="koboSpan" id="kobo.967.1">an alias or redirect is just the same as a simple route, with the only added property of </span><strong class="source-inline"><span class="koboSpan" id="kobo.968.1">redirect</span></strong><span class="koboSpan" id="kobo.969.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.970.1">alias</span></strong><span class="koboSpan" id="kobo.971.1"> used to specify what </span><a id="_idIndexMarker576"/><span class="koboSpan" id="kobo.972.1">view should </span><span class="No-Break"><span class="koboSpan" id="kobo.973.1">be used.</span></span></p>
			<p><span class="koboSpan" id="kobo.974.1">Let’s change our user view to include a </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.975.1">redirect</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.976.1"> property:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.977.1">
path: "/user/:userId",
name: "user",
</span><strong class="old"><span class="koboSpan" id="kobo.978.1">redirect : { name: "user-profile" },</span></strong><span class="koboSpan" id="kobo.979.1">
children: [</span></pre>
			<p><span class="koboSpan" id="kobo.980.1">With the simple addition of the highlighted code, the user is now going to be redirected from one path to another. </span><span class="koboSpan" id="kobo.980.2">If you try to access the path </span><strong class="source-inline"><span class="koboSpan" id="kobo.981.1">http://localhost:5173/user/60d21bf967d0d8992e610e9b</span></strong><span class="koboSpan" id="kobo.982.1">, you will see the URL change to </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.983.1">http://localhost:5173/user/60d21bf967d0d8992e610e9b/profile</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.984.1"> immediately.</span></span></p>
			<p><span class="koboSpan" id="kobo.985.1">The value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.986.1">redirect</span></strong><span class="koboSpan" id="kobo.987.1"> could either be an object including a name, as in our example, a simple path, or even be a complex object with </span><strong class="source-inline"><span class="koboSpan" id="kobo.988.1">name</span></strong><span class="koboSpan" id="kobo.989.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.990.1">params</span></strong><span class="koboSpan" id="kobo.991.1">, and </span><span class="No-Break"><span class="koboSpan" id="kobo.992.1">much more.</span></span></p>
			<p><span class="koboSpan" id="kobo.993.1">It is now time to introduce </span><strong class="source-inline"><span class="koboSpan" id="kobo.994.1">alias</span></strong><span class="koboSpan" id="kobo.995.1">. </span><span class="koboSpan" id="kobo.995.2">Previously, we saw that we can use </span><strong class="source-inline"><span class="koboSpan" id="kobo.996.1">redirect</span></strong><span class="koboSpan" id="kobo.997.1"> to transport the user from one route to another. </span><span class="koboSpan" id="kobo.997.2">But what if you just want to ensure that the users are able to access a given route using multiple URLs? </span><span class="koboSpan" id="kobo.997.3">A good example could be the need for us to create a “friendly URL,” which is a URL that is simple for a user to type or remember. </span><span class="koboSpan" id="kobo.997.4">It is very common for websites, such as e-commerce websites, to define a specific URL when you are navigating through the website, while also offering a friendly URL that is usually what is indexed and used </span><span class="No-Break"><span class="koboSpan" id="kobo.998.1">by Google.</span></span></p>
			<p><span class="koboSpan" id="kobo.999.1">Just to give an example, you may want to render the same route if the user accesses </span><a href="http://mywebsite.com/p/123"><span class="koboSpan" id="kobo.1000.1">mywebsite.com/p/123</span></a><span class="koboSpan" id="kobo.1001.1"> and </span><a href="http://mywebsite.com/product/123"><span class="koboSpan" id="kobo.1002.1">mywebsite.com/product/123</span></a><span class="koboSpan" id="kobo.1003.1">. </span><span class="koboSpan" id="kobo.1003.2">To achieve this, we can </span><span class="No-Break"><span class="koboSpan" id="kobo.1004.1">use aliases.</span></span></p>
			<p><span class="koboSpan" id="kobo.1005.1">When using aliases, we can define one or more URLs that can be matched with the same route. </span><span class="koboSpan" id="kobo.1005.2">Aliases accept a string or an array of strings that match the different URLs for a </span><span class="No-Break"><span class="koboSpan" id="kobo.1006.1">given route.</span></span></p>
			<p><span class="koboSpan" id="kobo.1007.1">Let’s pretend, for example, that we would like our static </span><strong class="source-inline"><span class="koboSpan" id="kobo.1008.1">/privacy</span></strong><span class="koboSpan" id="kobo.1009.1"> page to also render if the user accesses </span><strong class="source-inline"><span class="koboSpan" id="kobo.1010.1">/privacy-policy</span></strong><span class="koboSpan" id="kobo.1011.1">. </span><span class="koboSpan" id="kobo.1011.2">To achieve this, we would write the following rule in </span><span class="No-Break"><span class="koboSpan" id="kobo.1012.1">the route:</span></span></p>
			<pre class="source-code"><span class="koboSpan" id="kobo.1013.1">
{
  path: '/privacy',
  name: 'privacy',
  </span><strong class="old"><span class="koboSpan" id="kobo.1014.1">alias: '/privacy-policy',</span></strong><span class="koboSpan" id="kobo.1015.1">
  component: PrivacyView,
},</span></pre>
			<p><span class="koboSpan" id="kobo.1016.1">After </span><a id="_idIndexMarker577"/><span class="koboSpan" id="kobo.1017.1">adding the alias in our route declaration, our Companion </span><a id="_idIndexMarker578"/><span class="koboSpan" id="kobo.1018.1">app will render the Privacy page for both </span><strong class="source-inline"><span class="koboSpan" id="kobo.1019.1">localhost:5173/privacy</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1020.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1021.1">localhost:5173/privacy-policy</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1022.1">.</span></span></p>
			<p><span class="koboSpan" id="kobo.1023.1">In this </span><a id="_idIndexMarker579"/><span class="koboSpan" id="kobo.1024.1">small section, we have introduced the methods of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1025.1">alias</span></strong><span class="koboSpan" id="kobo.1026.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1027.1">redirect</span></strong><span class="koboSpan" id="kobo.1028.1">. </span><span class="koboSpan" id="kobo.1028.2">We have defined the use case that these two methods </span><a id="_idIndexMarker580"/><span class="koboSpan" id="kobo.1029.1">solve and their differences. </span><span class="koboSpan" id="kobo.1029.2">Lastly, we have implemented the method in our own route definition to prevent our user from seeing a blank page when accessing the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1030.1">user</span></strong><span class="koboSpan" id="kobo.1031.1"> endpoint and provided a simple example to showcase aliases by defining two endpoints for </span><span class="No-Break"><span class="koboSpan" id="kobo.1032.1">one route.</span></span></p>
			<h1 id="_idParaDest-144"><a id="_idTextAnchor152"/><span class="koboSpan" id="kobo.1033.1">Summary</span></h1>
			<p><span class="koboSpan" id="kobo.1034.1">In this chapter, we have learned about vue-router, the first external package that is part of the Vue core set of libraries to be covered in the book. </span><span class="koboSpan" id="kobo.1034.2">The chapter introduced us to the package by covering its configuration and settings such as history mode. </span><span class="koboSpan" id="kobo.1034.3">We then learned about the usage of routes, how to define them, and how to navigate </span><span class="No-Break"><span class="koboSpan" id="kobo.1035.1">to them.</span></span></p>
			<p><span class="koboSpan" id="kobo.1036.1">After learning the basics of vue-router, we moved on to more advanced topics such as dynamic routes and </span><span class="No-Break"><span class="koboSpan" id="kobo.1037.1">nested routes.,</span></span></p>
			<p><span class="koboSpan" id="kobo.1038.1">Lastly, we learned about </span><strong class="source-inline"><span class="koboSpan" id="kobo.1039.1">alias</span></strong><span class="koboSpan" id="kobo.1040.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1041.1">redirect</span></strong><span class="koboSpan" id="kobo.1042.1"> to complete our basic understanding of the router and how to use it to build both simple and </span><span class="No-Break"><span class="koboSpan" id="kobo.1043.1">complex applications.</span></span></p>
			<p><span class="koboSpan" id="kobo.1044.1">In the next chapter, we are going to learn about another core package of the Vue ecosystem: </span><strong class="old"><span class="koboSpan" id="kobo.1045.1">Pinia</span></strong><span class="koboSpan" id="kobo.1046.1">. </span><span class="koboSpan" id="kobo.1046.2">This package is used to define and share state across </span><span class="No-Break"><span class="koboSpan" id="kobo.1047.1">our application.</span></span></p>
		</div>
	</body></html>