<html><head></head><body>
		<div id="_idContainer276">
			<h1 id="_idParaDest-183"><em class="italic"><a id="_idTextAnchor184"/>Chapter 11</em>: Any Questions? lottie-react-native FAQs</h1>
			<p>Even <a id="_idIndexMarker604"/>with all the information contained in this book, some questions may arise when using Lottie-based animations in our React Native apps. In this chapter, we will go over some of the most commonly asked questions by developers when it comes to <strong class="source-inline">lottie-react-native</strong> usage. For convenience, the following is the list of questions and issues you will find in the following pages:</p>
			<ol>
				<li>I added an effect in my animation, but it's not rendered in the app.</li>
				<li>The animation is not rendered at all in my app.</li>
				<li>The animation looks stretched. </li>
				<li>How can I pause an animation? </li>
				<li>How can I reverse an animation?</li>
				<li>My animation is rendered on an iOS device but not on an Android device.</li>
				<li>My animation is rendered on an Android device but not on an iOS device.</li>
				<li>My app is not building after installing <strong class="source-inline">lottie-react-native</strong>.</li>
				<li>Some frames are not showing in my animation.</li>
				<li>My animation is showing the wrong colors or no colors at all.</li>
				<li>How can I use my Lottie animation as a splash screen?</li>
				<li>There are images missing in my animation.</li>
				<li>How can I center my animation in the app?</li>
				<li>How can I play my animation a set number of times?</li>
				<li>My animation has a low playback performance.</li>
				<li>How can I change the colors of my animation programmatically?</li>
				<li>How can I use a remote Lottie animation file in my app?</li>
				<li>My app is crashing on Android.</li>
				<li>An error shows on my app – <strong class="bold">Cycle dependencies between targets</strong>.</li>
				<li>An error shows on my app – <strong class="bold">Gradle 7: unable to resolve class MavenDeployment</strong>.</li>
			</ol>
			<h1 id="_idParaDest-184"><a id="_idTextAnchor185"/>1. I added an effect to my animation but it's not rendered in the app</h1>
			<p>There are a <a id="_idIndexMarker605"/>number of effects in Adobe After Effects that are not supported on certain platforms. When this kind of error happens, it's best to go to the list of supported <a id="_idIndexMarker606"/>effects in Lottie's documentation at <a href="https://github.com/airbnb/lottie/blob/master/supported-features.md">https://github.com/airbnb/lottie/blob/master/supported-features.md</a>.</p>
			<p>Take into account that this list may change over time, as Lottie is being constantly improved. As the list shows, the same effect may show on a specific platform but might be missing on a different one.</p>
			<p>The most common approaches for these cases are to remake the animation, remove the selected effect, or create a different animation for the failing platform, as there is no programmatic solution for this problem.</p>
			<h1 id="_idParaDest-185"><a id="_idTextAnchor186"/>2. The animation is not rendered at all in my app</h1>
			<p>Check that the JSON file containing the animation is placed within the React Native app project folder structure and is reachable through an <strong class="source-inline">import/require</strong> statement in the component in which the animation should be rendering. To test this, you can <strong class="source-inline">console.log</strong> the contents of the JSON file; if they log as <strong class="source-inline">undefined</strong>, it means that the file was not reachable by the component:</p>
			<pre class="source-code">const animation = require('./assets/animations/loadingBar.json')</pre>
			<pre class="source-code">console.log(animation)</pre>
			<p>In this case, you might want to move the JSON file to a different folder or try with a different JSON file, as it's possible the file was damaged or inconsistent. Using a JSON linter can help to <a id="_idIndexMarker607"/>identify and fix this kind of issue.</p>
			<h1 id="_idParaDest-186"><a id="_idTextAnchor187"/>3. The animation looks stretched</h1>
			<p><strong class="source-inline">LottieView</strong> inherits its size behavior from the standard React Native <strong class="source-inline">View</strong> component, and therefore, it can be changed through the style property on its containing parent. If the image size looks wrong, try first explicitly changing the parent's size:</p>
			<pre class="source-code">  &lt;View style={{width: 300, height: 150}}&gt;</pre>
			<pre class="source-code">        &lt;LottieView</pre>
			<pre class="source-code">          ref={animation}</pre>
			<pre class="source-code">          source={require('./assets/animations/loadingBar.          json')}</pre>
			<pre class="source-code">          loop={false}</pre>
			<pre class="source-code">        /&gt;</pre>
			<pre class="source-code">  &lt;/View&gt;</pre>
			<p>If that didn't work, try changing <strong class="source-inline">width</strong> or <strong class="source-inline">height</strong> explicitly in the <strong class="source-inline">LottieView</strong> component:</p>
			<pre class="source-code">     &lt;LottieView</pre>
			<pre class="source-code">          ref={animation}</pre>
			<pre class="source-code">          source={require('./assets/animations/loadingBar.          json')}</pre>
			<pre class="source-code">          loop={false}</pre>
			<pre class="source-code">          style={{width: 300, height: 150}}</pre>
			<pre class="source-code">     /&gt;</pre>
			<p>Parent-relative sizes (percentages) can also be used in both approaches. Always be aware of the parent size, as many issues can be fixed by making sure the parent size is correct. Also, take into consideration using the <strong class="source-inline">flex</strong> property if needed.</p>
			<h1 id="_idParaDest-187"><a id="_idTextAnchor188"/>4. How can I pause an animation?</h1>
			<p>There are several approaches to this issue:</p>
			<ul>
				<li>If you are using the declarative approach in your code, you can use the <strong class="source-inline">speed</strong> prop on <strong class="source-inline">LottieView</strong>, as setting it to <strong class="source-inline">0</strong> will stop the animation.</li>
				<li>If you are using the imperative API, you can use the <strong class="source-inline">pause()</strong> method on the animation<a id="_idIndexMarker608"/> reference, which will immediately stop your animation playback. Conversely, the <strong class="source-inline">play()</strong> method will restart the playback whenever you need it.</li>
			</ul>
			<h1 id="_idParaDest-188"><a id="_idTextAnchor189"/>5. How can I reverse an animation?</h1>
			<p>The simplest approach to achieve reverse playback is to use the <strong class="source-inline">speed</strong> prop on the <strong class="source-inline">LottieView</strong> component, as negative values will make the animation play backward. If you want to play the animation in reverse but at its original speed, you need to set the <strong class="source-inline">speed</strong> prop to <strong class="source-inline">–1</strong>, but you can also play it at double speed by setting it to <strong class="source-inline">–2</strong> or half-speed by changing it to <strong class="source-inline">–0.5</strong>:</p>
			<pre class="source-code">&lt;LottieView</pre>
			<pre class="source-code">  source={require('./assets/animations/loadingBar.json')}</pre>
			<pre class="source-code">  speed={-1}</pre>
			<pre class="source-code">/&gt;</pre>
			<p>If you are using the animated API to control the progress of your animation, you can use methods such as <strong class="source-inline">Animated.timing</strong>, and make<a id="_idIndexMarker609"/> sure you are passing descending values:</p>
			<pre class="source-code">  // start animation at frame 300 and go decrementally to frame      0</pre>
			<pre class="source-code">  const progress = useMemo(() =&gt; new Animated.Value(300), []);</pre>
			<pre class="source-code">  useEffect(() =&gt; {</pre>
			<pre class="source-code">    Animated.timing(progress, {</pre>
			<pre class="source-code">      toValue: 0,</pre>
			<pre class="source-code">      duration: 500,</pre>
			<pre class="source-code">      useNativeDriver: true,</pre>
			<pre class="source-code">      easing: Easing.linear,</pre>
			<pre class="source-code">    }).start();</pre>
			<pre class="source-code">  }, [downloadedFiles, progress]);</pre>
			<pre class="source-code"> </pre>
			<pre class="source-code">  return (</pre>
			<pre class="source-code">    &lt;SafeAreaView&gt;</pre>
			<pre class="source-code">      &lt;View style={styles.container}&gt;</pre>
			<pre class="source-code">        &lt;LottieView</pre>
			<pre class="source-code">          source={require('./assets/animations/loadingBar.          json')}</pre>
			<pre class="source-code">          progress={progress}</pre>
			<pre class="source-code">        /&gt;</pre>
			<pre class="source-code">      &lt;/View&gt;</pre>
			<pre class="source-code">    &lt;/SafeAreaView&gt;</pre>
			<pre class="source-code">  );</pre>
			<h1 id="_idParaDest-189"><a id="_idTextAnchor190"/>6. My animation is rendered on an iOS device but not on an Android device</h1>
			<p>The newest versions of <strong class="source-inline">lottie-react-native</strong> can only be used on AndroidX projects. This means that if your app hasn't been migrated to AndroidX (<a href="https://developer.android.com/jetpack/androidx">https://developer.android.com/jetpack/androidx</a>), it won't be able to display any Lottie animations.</p>
			<p>In this case, you can<a id="_idIndexMarker610"/> try older versions of <strong class="source-inline">lottie-react-native</strong>. For example, try running the following:</p>
			<p class="source-code">yarn add lottie-react-native@3.0.2</p>
			<p class="source-code">yarn add lottie-ios@3.0.3</p>
			<p>Take into account that for these cases, the API might be different or some extra installation steps might be required. Always check the version-specific documentation when using older versions of <strong class="source-inline">lottie-react-native</strong>.</p>
			<h1 id="_idParaDest-190"><a id="_idTextAnchor191"/>7. My animation is rendered on an Android device but not on an iOS device</h1>
			<p><strong class="source-inline">lottie-react-native</strong> requires some extra installation steps for it to work properly:</p>
			<ul>
				<li>Remember to install the <strong class="source-inline">lottie-ios</strong> peer dependency by running <strong class="source-inline">yarn add lottie-ios</strong>.</li>
				<li>Remember to run <strong class="source-inline">pod install</strong> in the <strong class="source-inline">ios</strong> folder from your React Native project.</li>
			</ul>
			<h1 id="_idParaDest-191"><a id="_idTextAnchor192"/>8. My app won't build on iOS after installing lottie-react-native</h1>
			<p>The most common building issue for <strong class="source-inline">lottie-react-native</strong> in iOS has to do with the lack of support for React Native projects with Swift libraries. In this case, you need to create a Swift bridging header in order to get your app ready for Swift libraries:</p>
			<ol>
				<li value="1">Add a new file through the <a id="_idIndexMarker611"/>Xcode menu: <strong class="bold">File</strong> | <strong class="bold">New</strong> | <strong class="bold">File</strong>:</li>
			</ol>
			<div>
				<div id="_idContainer273" class="IMG---Figure">
					<img src="image/B17930_11_01.jpg" alt="Figure 11.1 – Create a new file in your Xcode project&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.1 – Create a new file in your Xcode project</p>
			<ol>
				<li value="2">Select <strong class="bold">Swift File</strong>:</li>
			</ol>
			<div>
				<div id="_idContainer274" class="IMG---Figure">
					<img src="image/B17930_11_02.jpg" alt="Figure 11.2 – Select Swift as the file type&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.2 – Select Swift as the file type</p>
			<ol>
				<li value="3">Click <a id="_idIndexMarker612"/>on <strong class="bold">Create Bridging Header</strong>:</li>
			</ol>
			<div>
				<div id="_idContainer275" class="IMG---Figure">
					<img src="image/B17930_11_03.jpg" alt="Figure 11.3 – Confirm the creation of the bridging header&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.3 – Confirm the creation of the bridging header</p>
			<p>You may need to rebuild your project for the changes to take effect. Once this is done, <strong class="source-inline">lottie-react-native</strong> should be ready to display your animation on iOS.</p>
			<h1 id="_idParaDest-192"><a id="_idTextAnchor193"/>9. Some frames are not showing in my animation</h1>
			<p>Older versions of <a id="_idIndexMarker613"/>Lottie have rendering issues and won't work properly with newer versions of Android and iOS. To fix this kind of issue, make sure you have the most adequate <strong class="source-inline">lottie-react-native</strong> version for the platform version you are running your app in.</p>
			<p>You can find a list of available versions for <strong class="source-inline">lottie-react-native</strong> in the <strong class="source-inline">projects</strong> repository (<a href="https://github.com/lottie-react-native/lottie-react-native">https://github.com/lottie-react-native/lottie-react-native</a>) or the npm site (<a href="https://www.npmjs.com/package/lottie-react-native">https://www.npmjs.com/package/lottie-react-native</a>).</p>
			<h1 id="_idParaDest-193"><a id="_idTextAnchor194"/>10. My animation is showing the wrong colors or no colors at all</h1>
			<p>This is often not a problem with <strong class="source-inline">lottie-react-native</strong> but with the way <strong class="source-inline">Bodymovin</strong> exports colors. You may still be able to fix this problem by manually going through your JSON file and manually modifying them.</p>
			<p>Layer colors in the JSON file usually are defined by the key named <strong class="source-inline">"sc"</strong>, so you can search for that key and change the hex value for the color you want to change. For example, if you expect a red color but you are getting a white one, you can search for <strong class="source-inline">"sc":"#ffffff"</strong> and replace it with <strong class="source-inline">"sc":"#ff0000"</strong>.</p>
			<p>Take into account that there might be more than one layer with that color defined, so you might need to do trial and error until you find the exact layer you need to change.</p>
			<h1 id="_idParaDest-194"><a id="_idTextAnchor195"/>11. How can I use my Lottie animation as a splash screen?</h1>
			<p>Showing a Lottie animation on an app startup is a nice user experience that is becoming more and more popular as mobile apps become more sophisticated. A common approach is to load the animation as the main screen, have a state variable that changes once the animation is finished, and change to the real main screen immediately after most of the initial data has been loaded:</p>
			<pre class="source-code">import React, { useState } from 'react';</pre>
			<pre class="source-code">const App = () =&gt; {</pre>
			<pre class="source-code">  const [animationFinished, setAnimationFinished] = useState(false);</pre>
			<pre class="source-code">  useEffect(() =&gt; {</pre>
			<pre class="source-code">    loadAppData(); // load initial data</pre>
			<pre class="source-code">  }, []);</pre>
			<pre class="source-code"> </pre>
			<pre class="source-code">  if (animationFinished === false) {</pre>
			<pre class="source-code">    return(</pre>
			<pre class="source-code">      &lt;View style={styles.splash}&gt;</pre>
			<pre class="source-code">        &lt;LottieView source={require('./assets/animations/        splashAnimation.json')}</pre>
			<pre class="source-code">          autoPlay</pre>
			<pre class="source-code">          loop={false}</pre>
			<pre class="source-code">          onAnimationFinish={() =&gt; {</pre>
			<pre class="source-code">            setAnimationFinished(true);</pre>
			<pre class="source-code">          }}</pre>
			<pre class="source-code">        /&gt;</pre>
			<pre class="source-code">      &lt;/View&gt;</pre>
			<pre class="source-code">    )      </pre>
			<pre class="source-code">  } else {</pre>
			<pre class="source-code">    return(</pre>
			<pre class="source-code">      &lt;MainScreen /&gt;</pre>
			<pre class="source-code">    )</pre>
			<pre class="source-code">  }</pre>
			<pre class="source-code">};</pre>
			<p>If we want to <a id="_idIndexMarker614"/>display a Lottie animation as a splash screen, we need to put this component as the initial one, so the first thing that the app does is to load this animation. Note how we call <strong class="source-inline">loadAppData()</strong> when the component is mounted to start loading the initial data, before the component shows that data to the user.</p>
			<h1 id="_idParaDest-195"><a id="_idTextAnchor196"/>12. There are images missing in my animation</h1>
			<p>If you created your animation with external assets (images), you need to add those images into your app and let <strong class="source-inline">lottie-react-native</strong> know where those images can be found. This is done at a native level and requires some configuration, as explained in <a href="B17930_09_ePub.xhtml#_idTextAnchor167"><em class="italic">Chapter 9</em></a>, <em class="italic">Let’s Do Some Magic: Integrating Your First Lottie Animation</em>, in the section named <em class="italic">Using Lottie files with assets</em>.</p>
			<p>Make sure that you do the following:</p>
			<ul>
				<li>Add those images into the project's folder structure.</li>
				<li>Configure your project in a way that makes those files accessible through code.</li>
				<li>Pass the <strong class="source-inline">imageAssetsFolder</strong> property to the <strong class="source-inline">LottieView</strong> component with the right relative route to the folder containing those assets.</li>
			</ul>
			<h1 id="_idParaDest-196"><a id="_idTextAnchor197"/>13. How can I center my animation in the app?</h1>
			<p><strong class="source-inline">LottieView</strong> component inherits its layout behavior from the standard <strong class="source-inline">View</strong> component in React Native, and therefore, centering should be done in the same way we would center <strong class="source-inline">View</strong> in React Native. This can be done by either using the <strong class="source-inline">alignSelf: 'center'</strong> key on the <strong class="source-inline">style</strong> property for the <strong class="source-inline">LottieView</strong> component or making sure that the parent component has the correct size and uses <strong class="source-inline">alignItems: 'center'</strong> in its <strong class="source-inline">style</strong> property.</p>
			<p>If this approach didn't work, we should make sure the parent component has the right size, as most of the alignment problems derive from that issue.</p>
			<h1 id="_idParaDest-197"><a id="_idTextAnchor198"/>14. How can I play my animation a set number of times?</h1>
			<p>The easiest<a id="_idIndexMarker615"/> approach would be to use the imperative API and adjust the <strong class="source-inline">play()</strong> method and the <strong class="source-inline">onAnimationFinish</strong> prop repeat that plays the animation when its playback is finished:</p>
			<pre class="source-code">import React, {useState, useRef} from 'react';</pre>
			<pre class="source-code">const App = ({}) =&gt; {</pre>
			<pre class="source-code">  const animation = useRef(null);</pre>
			<pre class="source-code">  const [numPlaybacks, setNumPlaybacks] = useState(0);</pre>
			<pre class="source-code"> </pre>
			<pre class="source-code">  return (</pre>
			<pre class="source-code">    &lt;SafeAreaView&gt;</pre>
			<pre class="source-code">      &lt;View style={styles.container}&gt;</pre>
			<pre class="source-code">        &lt;LottieView</pre>
			<pre class="source-code">          ref={animation}</pre>
			<pre class="source-code">          source={require('./assets/animations/loadingBar.          json')}</pre>
			<pre class="source-code">          loop={false}</pre>
			<pre class="source-code">          autoPlay</pre>
			<pre class="source-code">          onAnimationFinish={() =&gt; {</pre>
			<pre class="source-code">            if (numPlaybacks + 1 &lt; maxNumPlaybacks) {</pre>
			<pre class="source-code">              animation.current.play();</pre>
			<pre class="source-code">              setNumPlaybacks(numPlaybacks + 1);</pre>
			<pre class="source-code">            }</pre>
			<pre class="source-code">          }}</pre>
			<pre class="source-code">        /&gt;</pre>
			<pre class="source-code">      &lt;/View&gt;</pre>
			<pre class="source-code">    &lt;/SafeAreaView&gt;</pre>
			<pre class="source-code">  );</pre>
			<pre class="source-code">};</pre>
			<p>The key in this <a id="_idIndexMarker616"/>piece of code is how <strong class="source-inline">onAnimationFinish</strong> is used to repeat the animation, controlling the number of times through a state variable (<strong class="source-inline">numPlaybacks</strong>) and a constant maximum number of repetitions (<strong class="source-inline">maxNumPlaybacks</strong>).</p>
			<h1 id="_idParaDest-198"><a id="_idTextAnchor199"/>15. My animation has a low playback performance</h1>
			<p>As mobile operating systems evolve, they use different graphic rendering techniques. Lottie adapts to those changes by releasing new versions periodically that improve the performance of the animations rendered. It's important to always use the latest version of <strong class="source-inline">lottie-react-native</strong> because it may contain performance improvements based on the latest rendering engines for Android and iOS devices.</p>
			<p>React Native also offers an out-of-the-box performance improvement for the animated API by accepting the <strong class="source-inline">useNativeDriver</strong> parameter, which leverages the native capabilities of some UI components. Using this parameter may help when using <strong class="source-inline">Animated</strong> combined with <strong class="source-inline">lottie-react-native</strong>.</p>
			<p>If you want to ensure that you are using the latest version of <strong class="source-inline">lottie-react-native</strong>, make sure you check the README documentation in the <strong class="source-inline">lottie-react-native</strong> repository, following its installation guidelines.</p>
			<h1 id="_idParaDest-199"><a id="_idTextAnchor200"/>16. How can I change the colors of my animation programmatically? </h1>
			<p><strong class="source-inline">lottie-react-native</strong> allows developers to use the <strong class="source-inline">colorFilters</strong> property in any <strong class="source-inline">LottieView</strong> component with the intention of changing the colors for specific layers in an animation. The names for those layers are defined in After Effects and stored in the exported JSON Lottie file, such as in the following code block:</p>
			<pre class="source-code">import React from 'react';</pre>
			<pre class="source-code">import LottieView from 'lottie-react-native';</pre>
			<pre class="source-code">import {SafeAreaView, View} from 'react-native';</pre>
			<pre class="source-code"> </pre>
			<pre class="source-code">const App = ({}) =&gt; {</pre>
			<pre class="source-code">  return (</pre>
			<pre class="source-code">    &lt;SafeAreaView&gt;</pre>
			<pre class="source-code">      &lt;View style={{width: '100%', height: '100%'}}&gt;</pre>
			<pre class="source-code">        &lt;LottieView</pre>
			<pre class="source-code">          source={require('./assets/animations/loadingBar.          json')}</pre>
			<pre class="source-code">          autoPlay</pre>
			<pre class="source-code">          colorFilters={[</pre>
			<pre class="source-code">            {</pre>
			<pre class="source-code">              keypath: 'border',</pre>
			<pre class="source-code">              color: '#FF0000',</pre>
			<pre class="source-code">            },</pre>
			<pre class="source-code">            {</pre>
			<pre class="source-code">              keypath: 'bar',</pre>
			<pre class="source-code">              color: '#FF0000',</pre>
			<pre class="source-code">            },</pre>
			<pre class="source-code">          ]}</pre>
			<pre class="source-code">        /&gt;</pre>
			<pre class="source-code">      &lt;/View&gt;</pre>
			<pre class="source-code">    &lt;/SafeAreaView&gt;</pre>
			<pre class="source-code">  );</pre>
			<pre class="source-code">};</pre>
			<pre class="source-code"> </pre>
			<pre class="source-code">export default App;</pre>
			<p>In this example, we<a id="_idIndexMarker617"/> are changing the colors for two layers named <strong class="source-inline">border</strong> and <strong class="source-inline">bar</strong> to be fully red.</p>
			<h1 id="_idParaDest-200"><a id="_idTextAnchor201"/>17. How can I use a remote Lottie animation file in my app?</h1>
			<p>The simplest approach would be to use <strong class="source-inline">fetch()</strong> to download the JSON file, parse it, and set it in a state variable so that it can be used as a <strong class="source-inline">source</strong> prop in a <strong class="source-inline">LottieView</strong> container:</p>
			<pre class="source-code">import React, {useState, useEffect} from 'react';</pre>
			<pre class="source-code">import LottieView from 'lottie-react-native';</pre>
			<pre class="source-code">import {SafeAreaView, View} from 'react-native';</pre>
			<pre class="source-code"> </pre>
			<pre class="source-code">const App = ({}) =&gt; {</pre>
			<pre class="source-code">  const [animation, setAnimation] = useState();</pre>
			<pre class="source-code">  useEffect(() =&gt; {</pre>
			<pre class="source-code">    fetch('https://myserver.com/animation.json', {</pre>
			<pre class="source-code">      method: 'GET',</pre>
			<pre class="source-code">    })</pre>
			<pre class="source-code">      .then(response =&gt; response.json())</pre>
			<pre class="source-code">      .then(responseJSON =&gt; {</pre>
			<pre class="source-code">        setAnimation(responseJSON);</pre>
			<pre class="source-code">      })</pre>
			<pre class="source-code">      .catch(e =&gt; console.error(e));</pre>
			<pre class="source-code">  }, []);</pre>
			<pre class="source-code">  return (</pre>
			<pre class="source-code">    &lt;SafeAreaView&gt;</pre>
			<pre class="source-code">      &lt;View style={{width: '100%', height: '100%'}}&gt;</pre>
			<pre class="source-code">        {animation &amp;&amp; &lt;LottieView source={animation} autoPlay         loop /&gt;}</pre>
			<pre class="source-code">      &lt;/View&gt;</pre>
			<pre class="source-code">    &lt;/SafeAreaView&gt;</pre>
			<pre class="source-code">  );</pre>
			<pre class="source-code">};</pre>
			<pre class="source-code"> </pre>
			<pre class="source-code">export default App;</pre>
			<p>If this approach is <a id="_idIndexMarker618"/>followed, it's important to control the <strong class="source-inline">LottieView</strong> component until the animation is fully downloaded (<strong class="source-inline">animation &amp;&amp; &lt;LottieView</strong>).</p>
			<h1 id="_idParaDest-201"><a id="_idTextAnchor202"/>18. My app is crashing on Android</h1>
			<p>Several users have reported crashes on Android due to errors. The latest versions of React Native have refined this process, and updating these should fix the issue, but if this is not a possibility, you can manually link the required libraries as follows:</p>
			<ol>
				<li value="1">On your <strong class="source-inline">android/app/src/main/java/&lt;YourAppName&gt;/MainApplication.java</strong>, add <strong class="source-inline">import com.airbnb.android.react.lottie.LottiePackage;</strong> at the top.</li>
				<li>In the same file, add <strong class="source-inline">packages.add(new LottiePackage());</strong> under <strong class="source-inline">List&lt;ReactPackage&gt; getPackages()</strong>.</li>
				<li>On your <strong class="source-inline">android/app/build.gradle</strong>, add <strong class="source-inline">implementation project(':lottie-react-native')</strong> inside the dependencies section.</li>
				<li>On your <strong class="source-inline">android/settings.gradle</strong>, add <strong class="source-inline">include ':lottie-react-native'</strong>.</li>
				<li>Right after the line you just added, add <strong class="source-inline">project(':lottie-react-native').projectDir = new File(rootProject.projectDir, '../node_modules/lottie-react-native/src/android')</strong>.</li>
			</ol>
			<p>Now, you should <a id="_idIndexMarker619"/>rebuild your app and find it is not crashing anymore.</p>
			<h1 id="_idParaDest-202"><a id="_idTextAnchor203"/>19. An error shows on my app – Cycle dependencies between targets</h1>
			<p>This is a common error among React Native developers when having to deal with native code in iOS. The problem is related to changes in the dependencies tree that ended up rearranging which library depends on another. Therefore, the easiest solution is to reset the dependencies tree in our iOS project, ensuring that we end up with a clean dependency chain.</p>
			<p>To achieve this, we can clean our <strong class="source-inline">builds</strong> folder by pressing <em class="italic">Command</em> + <em class="italic">Shift</em> + <em class="italic">K</em> on Xcode and then rebuilding the app, by pressing the <strong class="bold">play</strong> button on Xcode or running <strong class="source-inline">yarn ios</strong> on the command line while being in the <strong class="source-inline">project</strong> folder.</p>
			<h1 id="_idParaDest-203"><a id="_idTextAnchor204"/>20. An error shows on my app – Execution failed for task ':lottie-react-native:compileDebugJavaWithJavac'</h1>
			<p>This error may arise after updating to a newer version of React Native and running the app on an Android device for the first time. Sometimes, just cleaning the <strong class="source-inline">builds</strong> folder fixes this problem, but there are two other approaches that may fix it if cleaning didn't do the trick:</p>
			<ul>
				<li>Migrate your app to AndroidX by adding <strong class="source-inline">android.useAndroidX=true</strong> and <strong class="source-inline">android.enableJetifier=true</strong> to your <strong class="source-inline">gradle.properties</strong> file and running <strong class="source-inline">npx jetifier</strong> immediately afterward. This prepares your app to include the AndroidX-based libraries.</li>
				<li>Make sure you are using JDK v8 instead of a newer version (Android Studio may install newer versions). You can follow the environment setup instructions on the React <a id="_idIndexMarker620"/>Native website (<a href="https://reactnative.dev/docs/environment-setup">https://reactnative.dev/docs/environment-setup</a>) and configure that version of Java as your default one in your shell configuration file.</li>
			</ul>
			<h1 id="_idParaDest-204"><a id="_idTextAnchor205"/>Summary</h1>
			<p>Thank you for reading through this final chapter, in which we presented the most common questions and issues reported when working with <strong class="source-inline">lottie-react-native</strong>. There are many other infrequently asked questions that can be found in the <strong class="source-inline">lottie-react-native</strong> repository issues (<a href="https://github.com/lottie-react-native/lottie-react-native/issues">https://github.com/lottie-react-native/lottie-react-native/issues</a>) and on Stack Overflow, so make sure that you turn to those resources if you find yourself in need of more specific answers.</p>
		</div>
		<div id="_idContainer277" class="Basic-Text-Frame">
			<p class="hidden">20. An error shows on my app – Execution failed for task ':lottie-react-native:compileDebugJavaWithJavac'    </p>
		</div>
	</body></html>