- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: The increase in web developers relying on JavaScript to build their frontends
    and backends has been huge in the last few years. This book covers some of the
    major technologies from Apollo, Express.js, Node.js, and React. We will go through
    how to set up React and Apollo to run GraphQL requests against your backend built
    with Node.js and Sequelize. On top of that, we will introduce testing for the
    components or functions we have written and automate the deployment on AWS ECS
    with CircleCI. By the end of the book, you will know how to combine the newest
    frontend and backend technologies.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在过去几年中，越来越多的Web开发者依赖JavaScript来构建他们的前端和后端。本书涵盖了Apollo、Express.js、Node.js和React的一些主要技术。我们将介绍如何设置React和Apollo，以便在用Node.js和Sequelize构建的后端上运行GraphQL请求。在此基础上，我们还将介绍对所编写的组件或函数进行测试，并使用CircleCI在AWS
    ECS上自动化部署。到本书结束时，您将了解如何结合最新的前端和后端技术。
- en: Who this book is for
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 这本书面向的对象
- en: This book is for web developers familiar with React and GraphQL who want to
    enhance their skills and build full-stack applications using industry standards
    such as React, Apollo, Node.js, and SQL at scale while learning to solve complex
    problems with GraphQL.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书是为熟悉React和GraphQL的Web开发者编写的，他们希望提高自己的技能，并使用React、Apollo、Node.js和SQL等行业标准构建全栈应用程序，同时学习使用GraphQL解决复杂问题。
- en: What this book covers
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 这本书涵盖的内容
- en: '[*Chapter 1*](B17337_01_Final_ASB_ePub.xhtml#_idTextAnchor017), *Preparing
    Your Development Environment*, explains the architecture of an application by
    going through some core concepts, the complete process, and preparing a working
    React setup. We will see how React, Apollo Client, and Express.js fit together
    and cover some good practices when working with React. Further, we will show you
    how to debug the frontend with React Developer Tools.'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第一章*](B17337_01_Final_ASB_ePub.xhtml#_idTextAnchor017), *准备开发环境*，通过介绍一些核心概念、完整流程以及准备一个可工作的React设置来解释应用程序的架构。我们将看到React、Apollo
    Client和Express.js是如何协同工作的，并介绍在React中工作时的一些良好实践。此外，我们还将向您展示如何使用React Developer
    Tools调试前端。'
- en: '[*Chapter 2*](B17337_02_Final_ASB_ePub.xhtml#_idTextAnchor032), *Setting Up
    GraphQL with Express.js*, teaches you how to configure your backend by installing
    Express.js and Apollo via NPM. Express.js will be used for the web server, which
    handles and passes all GraphQL requests to Apollo.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第二章*](B17337_02_Final_ASB_ePub.xhtml#_idTextAnchor032), *使用Express.js设置GraphQL*，教您如何通过安装Express.js和Apollo通过NPM配置您的后端。Express.js将用于Web服务器，它处理并将所有GraphQL请求传递给Apollo。'
- en: '[*Chapter 3*](B17337_03_Final_ASB_ePub.xhtml#_idTextAnchor054), *Connecting
    to the Database*, discusses the opportunities that GraphQL offers when it comes
    to mutating and querying data. As an example, we will use traditional SQL to build
    a full application. To simplify the database code, we will use Sequelize, which
    lets us query our SQL Server with a normal JavaScript object and also allows us
    to use MySQL, MSSQL, PostgresSQL, or just a SQLite file. We will build models
    and schemas for users and posts in Apollo and Sequelize.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第三章*](B17337_03_Final_ASB_ePub.xhtml#_idTextAnchor054), *连接到数据库*，讨论了GraphQL在数据修改和查询方面提供的机会。例如，我们将使用传统的SQL构建一个完整的应用程序。为了简化数据库代码，我们将使用Sequelize，它允许我们使用普通的JavaScript对象查询我们的SQL服务器，并允许我们使用MySQL、MSSQL、PostgresSQL或仅仅是SQLite文件。我们将在Apollo和Sequelize中为用户和帖子构建模型和模式。'
- en: '[*Chapter 4*](B17337_04_Final_ASB_ePub.xhtml#_idTextAnchor085), *Hooking Apollo
    into React*, is where you will learn how to hook Apollo into React and build frontend
    components to send GraphQL requests. This chapter will explain Apollo-specific
    configurations.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第四章*](B17337_04_Final_ASB_ePub.xhtml#_idTextAnchor085), *将Apollo集成到React中*，您将学习如何将Apollo集成到React中，并构建前端组件以发送GraphQL请求。这一章将解释Apollo特定的配置。'
- en: '[*Chapter 5*](B17337_05_Final_ASB_ePub.xhtml#_idTextAnchor123), *Reusable React
    Components and React Hooks*, with the basic concepts and flow of fetching and
    presenting data clear, will dive deeper into writing more complex React components
    and sharing data across them.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第五章*](B17337_05_Final_ASB_ePub.xhtml#_idTextAnchor123), *可重用React组件和React
    Hooks*，在基本概念和获取及展示数据的流程清晰的情况下，将更深入地探讨编写更复杂的React组件以及在这些组件间共享数据。'
- en: '[*Chapter 6*](B17337_06_Final_ASB_ePub.xhtml#_idTextAnchor141), *Authentication
    with Apollo and React*, will explain the common ways of authenticating a user
    on the web and in GraphQL. You will be guided through building a complete authentication
    workflow by using best practices.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第六章*](B17337_06_Final_ASB_ePub.xhtml#_idTextAnchor141), *使用Apollo和React进行身份验证*，将解释在Web和GraphQL中验证用户的常见方式。您将通过使用最佳实践来构建完整的身份验证工作流程。'
- en: '[*Chapter 7*](B17337_07_Final_ASB_ePub.xhtml#_idTextAnchor154), *Handling Image
    Uploads*, is the point by which you will have a working authentication and authorization
    system built on top of Apollo. Moving on, to go beyond normal requests with JSON
    responses as with GraphQL, we will now upload images via Apollo and save them
    in separate object storage such as AWS S3.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第7章*](B17337_07_Final_ASB_ePub.xhtml#_idTextAnchor154), *处理图像上传*，是您将在Apollo之上构建一个工作认证和授权系统的点。继续前进，为了超越具有JSON响应的正常请求，就像GraphQL那样，我们现在将通过Apollo上传图像并将它们保存在单独的对象存储中，例如AWS
    S3。'
- en: '[*Chapter 8*](B17337_08_Final_ASB_ePub.xhtml#_idTextAnchor163), *Routing in
    React*, is where, to build a complete application for the end user, you will implement
    some further features, such as a profile page. We will accomplish this by installing
    React Router v5.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第8章*](B17337_08_Final_ASB_ePub.xhtml#_idTextAnchor163), *React中的路由*, 是您将实现一些进一步功能以构建面向最终用户的完整应用程序的地方，例如个人资料页面。我们将通过安装React
    Router v5来完成这项工作。'
- en: '[*Chapter 9*](B17337_09_Final_ASB_ePub.xhtml#_idTextAnchor176), *Implementing
    Server-Side Rendering*, covers server-side rendering. For many applications, this
    is a must-have. It is important for SEO but can also have positive effects on
    your end user. This chapter will focus on getting your current application moved
    to a server-side rendered setup.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第9章*](B17337_09_Final_ASB_ePub.xhtml#_idTextAnchor176), *实现服务器端渲染*，涵盖了服务器端渲染。对于许多应用程序来说，这是必需的。这对于SEO很重要，但也可以对您的最终用户产生积极影响。本章将专注于将您当前的应用程序迁移到服务器端渲染设置。'
- en: '[*Chapter 10*](B17337_10_Final_ASB_ePub.xhtml#_idTextAnchor183), *Real-Time
    Subscriptions*, looks at how our application is a great use case for WebSocket
    and Apollo subscriptions. Many of the applications we use daily have a self-updating
    notification bar. This chapter will focus on how to build this feature with a
    more or less experimental GraphQL and Apollo feature called subscriptions.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第10章*](B17337_10_Final_ASB_ePub.xhtml#_idTextAnchor183), *实时订阅*，探讨了我们的应用程序是如何成为WebSocket和Apollo订阅的绝佳用例。我们日常使用的许多应用程序都有一个自我更新的通知栏。本章将专注于如何使用名为订阅的实验性GraphQL和Apollo功能构建此功能。'
- en: '[*Chapter 11*](B17337_11_Final_ASB_ePub.xhtml#_idTextAnchor192), *Writing Tests
    for React and Node.js*, looks at how a real production-ready application always
    has an automated testing environment. We will use Mocha, a JavaScript unit testing
    framework, and Enzyme, a React testing tool, to ensure the quality of our application.
    This chapter will focus on testing the GraphQL backend and how to properly test
    React applications with Enzyme.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第11章*](B17337_11_Final_ASB_ePub.xhtml#_idTextAnchor192), *为React和Node.js编写测试*，探讨了真实的生产就绪应用程序总是有一个自动化的测试环境。我们将使用Mocha，一个JavaScript单元测试框架，以及Enzyme，一个React测试工具，以确保我们应用程序的质量。本章将专注于测试GraphQL后端以及如何使用Enzyme正确测试React应用程序。'
- en: '[*Chapter 12*](B17337_12_Final_ASB_ePub.xhtml#_idTextAnchor204), *Continuous
    Deployment with CircleCI and AWS*, studies deployment. Deploying an application
    means no more uploading files manually via FTP. Nowadays, you can virtually run
    your application in the cloud without having a complete server running. For easy
    deployment of our application, we will use Docker. Before deploying our application,
    we will quickly cover a basic continuous deployment setup, which will let you
    deploy all your new code with ease. This chapter will explain how to deploy your
    applications using Git, Docker, AWS, and CircleCI.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第12章*](B17337_12_Final_ASB_ePub.xhtml#_idTextAnchor204), *使用CircleCI和AWS进行持续部署*，研究了部署。部署应用程序意味着不再需要通过FTP手动上传文件。如今，您可以在没有完整服务器运行的情况下在云中几乎运行您的应用程序。为了便于部署我们的应用程序，我们将使用Docker。在部署我们的应用程序之前，我们将快速介绍一个基本的持续部署设置，这将让您轻松地部署所有新代码。本章将解释如何使用Git、Docker、AWS和CircleCI来部署您的应用程序。'
- en: To get the most out of this book
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 要充分利用本书
- en: To get started with this book and write functional code, you need to meet some
    requirements. Regarding the operating system, you can run the complete code and
    other dependencies on nearly all operating systems out there. The main dependencies
    of this book are explained one by one within this book.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始阅读本书并编写功能代码，您需要满足一些要求。关于操作系统，您几乎可以在所有操作系统上运行完整代码和其他依赖项。本书的主要依赖项将在本书中逐一解释。
- en: '**Software/hardware covered in the book**:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '**本书涵盖的软件/硬件**：'
- en: Node.js 14+
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Node.js 14+
- en: React 17+
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: React 17+
- en: Sequelize 6+
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sequelize 6+
- en: MySQL 5 or 8
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL 5或8
- en: Download the example code files
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载示例代码文件
- en: You can download the example code files for this book from GitHub at [https://github.com/PacktPublishing/Full-Stack-Web-Development-with-GraphQL-and-React-Second-Edition](https://github.com/PacktPublishing/Full-Stack-Web-Development-with-GraphQL-and-React-Second-Edition).
    If there's an update to the code, it will be updated in the GitHub repository.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从GitHub下载本书的示例代码文件[https://github.com/PacktPublishing/Full-Stack-Web-Development-with-GraphQL-and-React-Second-Edition](https://github.com/PacktPublishing/Full-Stack-Web-Development-with-GraphQL-and-React-Second-Edition)。如果代码有更新，它将在GitHub仓库中更新。
- en: We also have other code bundles from our rich catalog of books and videos available
    at [https://github.com/PacktPublishing/](https://github.com/PacktPublishing/).
    Check them out!
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还有其他来自我们丰富的图书和视频目录的代码包，可在[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)找到。查看它们吧！
- en: Download the color images
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载彩色图像
- en: 'We also provide a PDF file that has color images of the screenshots and diagrams
    used in this book. You can download it here:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还提供了一个包含本书中使用的截图和图表的彩色图像PDF文件。您可以从这里下载：[https://static.packt-cdn.com/downloads/9781801077880_ColorImages.pdf](https://static.packt-cdn.com/downloads/9781801077880_ColorImages.pdf)
- en: '[https://static.packt-cdn.com/downloads/9781801077880_ColorImages.pdf](https://static.packt-cdn.com/downloads/9781801077880_ColorImages.pdf)'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://static.packt-cdn.com/downloads/9781801077880_ColorImages.pdf](https://static.packt-cdn.com/downloads/9781801077880_ColorImages.pdf)'
- en: Conventions used
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用的约定
- en: There are a number of text conventions used throughout this book.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 本书使用了多种文本约定。
- en: '`Code in text`: Indicates code words in text, database table names, folder
    names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter
    handles. Here is an example: "The newest version of Apollo Client comes with the
    `useQuery` Hook."'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '`文本中的代码`：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟URL、用户输入和Twitter昵称。以下是一个示例：“Apollo
    Client的最新版本附带`useQuery`钩子。”'
- en: 'A block of code is set as follows:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置如下：
- en: '[PRE0]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们希望您注意代码块中的特定部分时，相关的行或项目将以粗体显示：
- en: '[PRE1]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出都应如下编写：
- en: '[PRE2]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '**Bold**: Indicates a new term, an important word, or words that you see onscreen.
    For instance, words in menus or dialog boxes appear in **bold**. Here is an example:
    "In the top bar, you will find the **Prettify** button, which tidies your query
    so that it is more readable."'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '**粗体**：表示新术语、重要单词或您在屏幕上看到的单词。例如，菜单或对话框中的单词以粗体显示。以下是一个示例：“在顶部栏中，您将找到**Prettify**按钮，它可以整理您的查询，使其更易于阅读。”'
- en: Tips or Important Notes
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士或重要提示
- en: Appear like this.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 看起来是这样的。
- en: Get in touch
  id: totrans-42
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 联系我们
- en: Feedback from our readers is always welcome.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 我们欢迎读者的反馈。
- en: '**General feedback**: If you have questions about any aspect of this book,
    email us at [customercare@packtpub.com](mailto:customercare@packtpub.com) and
    mention the book title in the subject of your message.'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '**一般反馈**：如果您对本书的任何方面有疑问，请通过[customercare@packtpub.com](mailto:customercare@packtpub.com)给我们发邮件，并在邮件主题中提及书名。'
- en: '**Errata**: Although we have taken every care to ensure the accuracy of our
    content, mistakes do happen. If you have found a mistake in this book, we would
    be grateful if you would report this to us. Please visit [www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)
    and fill in the form.'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '**勘误表**：尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在这本书中发现了错误，我们将不胜感激，如果您能向我们报告，我们将非常感谢。请访问[www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)并填写表格。'
- en: '**Piracy**: If you come across any illegal copies of our works in any form
    on the internet, we would be grateful if you would provide us with the location
    address or website name. Please contact us at [copyright@packt.com](mailto:copyright@packt.com)
    with a link to the material.'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '**盗版**：如果您在互联网上以任何形式发现我们作品的非法副本，如果您能提供位置地址或网站名称，我们将不胜感激。请通过[版权@packt.com](mailto:copyright@packt.com)与我们联系，并提供材料的链接。'
- en: '**If you are interested in becoming an author**: If there is a topic that you
    have expertise in and you are interested in either writing or contributing to
    a book, please visit [authors.packtpub.com](http://authors.packtpub.com).'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果您有兴趣成为作者**：如果您在某个领域有专业知识，并且您有兴趣撰写或为书籍做出贡献，请访问[authors.packtpub.com](http://authors.packtpub.com)。'
- en: Share Your Thoughts
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分享您的想法
- en: Once you've read *Full-Stack Web Development with GraphQL and React Second Edition*,
    we'd love to hear your thoughts! Scan the QR code below to go straight to the
    Amazon review page for this book and share your feedback.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您阅读了《使用 GraphQL 和 React 第二版进行全栈 Web 开发》，我们非常期待听到您的想法！扫描下面的二维码直接进入此书的亚马逊评论页面并分享您的反馈。
- en: '![](img/B17337_QR_code.jpg)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B17337_QR_code.jpg)'
- en: https://packt.link/r/1801077886
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: https://packt.link/r/1801077886
- en: Your review is important to us and the tech community and will help us make
    sure we're delivering excellent quality content.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 您的评论对我们和科技社区都非常重要，并将帮助我们确保我们提供高质量的内容。
