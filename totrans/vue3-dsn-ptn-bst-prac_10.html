<html><head></head><body>
<div id="_idContainer080">
<h1 class="chapter-number" id="_idParaDest-184"><a id="_idTextAnchor224"/><span class="koboSpan" id="kobo.1.1">10</span></h1>
<h1 id="_idParaDest-185"><a id="_idTextAnchor225"/><span class="koboSpan" id="kobo.2.1">Deploying Your Application</span></h1>
<p><span class="koboSpan" id="kobo.3.1">Working on and developing our application would come to a sad end if we could not publish the final product. </span><span class="koboSpan" id="kobo.3.2">While quite straightforward, presenting our application on the internet does require attention to a few details and being familiar with some terms and </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">hosting possibilities.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">In this chapter, we will learn about </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">the following:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.7.1">What is involved in publishing a web application on </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">the internet</span></span></li>
<li><span class="koboSpan" id="kobo.9.1">Considerations for building our application </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">for deployment</span></span></li>
<li><span class="koboSpan" id="kobo.11.1">Becoming familiar with the terms and processes to register </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">a domain</span></span></li>
<li><span class="koboSpan" id="kobo.13.1">Configuring a web server to host our </span><strong class="bold"><span class="koboSpan" id="kobo.14.1">Single-Page Application</span></strong><span class="koboSpan" id="kobo.15.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.16.1">SPA</span></strong><span class="koboSpan" id="kobo.17.1">) or </span><strong class="bold"><span class="koboSpan" id="kobo.18.1">Progressive Web </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.19.1">Application</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.20.1"> (</span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.21.1">PWA</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.22.1">)</span></span></li>
<li><span class="koboSpan" id="kobo.23.1">Securing our web application's server with </span><span class="No-Break"><span class="koboSpan" id="kobo.24.1">Let’s Encrypt</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.25.1">The main purpose of this chapter is to give you the tools to understand the steps needed to publish and secure a website, and by extension, also our SPA </span><span class="No-Break"><span class="koboSpan" id="kobo.26.1">or PWA.</span></span></p>
<h1 id="_idParaDest-186"><a id="_idTextAnchor226"/><span class="koboSpan" id="kobo.27.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.28.1">This chapter is mostly informative, but a few configuration files have been uploaded to the book’s repository as examples, which can be found </span><span class="No-Break"><span class="koboSpan" id="kobo.29.1">here: </span></span><a href="https://github.com/PacktPublishing/Vue.js-3-Design-Patterns-and-Best-Practices/tree/main/Chapter10"><span class="No-Break"><span class="koboSpan" id="kobo.30.1">https://github.com/PacktPublishing/Vue.js-3-Design-Patterns-and-Best-Practices/tree/main/Chapter10</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.31.1">.</span></span></p>
<h1 id="_idParaDest-187"><a id="_idTextAnchor227"/><span class="koboSpan" id="kobo.32.1">What is involved in publishing a web application?</span></h1>
<p><span class="koboSpan" id="kobo.33.1">Publishing a</span><a id="_idIndexMarker765"/><span class="koboSpan" id="kobo.34.1"> Vue 3 web application is not that much different from doing so for any other website, save for a few key differences. </span><span class="koboSpan" id="kobo.34.2">In this chapter, we will consider a clean installation, meaning that we will procure all the elements involved by ourselves. </span><span class="koboSpan" id="kobo.34.3">At its most basic, we need to consider </span><span class="No-Break"><span class="koboSpan" id="kobo.35.1">the following:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.36.1">A domain name for </span><span class="No-Break"><span class="koboSpan" id="kobo.37.1">our site/application</span></span></li>
<li><span class="koboSpan" id="kobo.38.1">The destination path for </span><span class="No-Break"><span class="koboSpan" id="kobo.39.1">our application</span></span></li>
<li><span class="koboSpan" id="kobo.40.1">The hosting service </span><span class="No-Break"><span class="koboSpan" id="kobo.41.1">or type</span></span></li>
<li><span class="koboSpan" id="kobo.42.1">The web </span><span class="No-Break"><span class="koboSpan" id="kobo.43.1">server software</span></span></li>
<li><span class="koboSpan" id="kobo.44.1">Procuring a </span><span class="No-Break"><span class="koboSpan" id="kobo.45.1">security certificate</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.46.1">The preceding items also give us a simple formula for our preparations. </span><span class="koboSpan" id="kobo.46.2">Let’s go one by one, explaining each necessary term and concern as we </span><span class="No-Break"><span class="koboSpan" id="kobo.47.1">move forward.</span></span></p>
<h2 id="_idParaDest-188"><a id="_idTextAnchor228"/><span class="koboSpan" id="kobo.48.1">Domains, Domain Name Servers (DNS), and DNS records</span></h2>
<p><span class="koboSpan" id="kobo.49.1">Every computer connected to a network receives a unique identificatory address to distinguish it from the others on the same network. </span><span class="koboSpan" id="kobo.49.2">These are called </span><strong class="bold"><span class="koboSpan" id="kobo.50.1">Internet Protocol</span></strong><span class="koboSpan" id="kobo.51.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.52.1">IP</span></strong><span class="koboSpan" id="kobo.53.1">) addresses, and </span><a id="_idIndexMarker766"/><span class="koboSpan" id="kobo.54.1">nowadays, there are two in operation – IP versions 4 </span><span class="No-Break"><span class="koboSpan" id="kobo.55.1">and 6.</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.56.1">IPv4</span></strong><span class="koboSpan" id="kobo.57.1">: Addresses are</span><a id="_idIndexMarker767"/><span class="koboSpan" id="kobo.58.1"> comprised of four numbers separated by a dot. </span><span class="koboSpan" id="kobo.58.2">The number range is from 0 to 255. </span><span class="koboSpan" id="kobo.58.3">There are a few reserved addresses with a special meaning, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.59.1">127.0.0.1</span></strong><span class="koboSpan" id="kobo.60.1">, which represents a loopback to our own computer. </span><span class="koboSpan" id="kobo.60.2">These addresses can also have a mask that defines a sub-segment in a network. </span><span class="koboSpan" id="kobo.60.3">Most likely, your home network uses this </span><span class="No-Break"><span class="koboSpan" id="kobo.61.1">protocol internally.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.62.1">IPv6</span></strong><span class="koboSpan" id="kobo.63.1">: This provides</span><a id="_idIndexMarker768"/><span class="koboSpan" id="kobo.64.1"> a significantly larger address space, with eight groups of four hexadecimal digits, separated by a semicolon. </span><span class="koboSpan" id="kobo.64.2">Being so large, the protocol also provides ways to simplify the notation by removing leading zeros and replacing all zero segments with an empty segment. </span><span class="koboSpan" id="kobo.64.3">For example, the loopback address equivalent to IPv4’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.65.1">127.0.0.1</span></strong><span class="koboSpan" id="kobo.66.1"> in IPv6 is </span><strong class="source-inline"><span class="koboSpan" id="kobo.67.1">0000:0000:0000:0000:0000:0000:0000:0001</span></strong><span class="koboSpan" id="kobo.68.1">, which then can be abridged as </span><strong class="source-inline"><span class="koboSpan" id="kobo.69.1">0:0:0:0:0:0:0:1</span></strong><span class="koboSpan" id="kobo.70.1"> or </span><span class="No-Break"><span class="koboSpan" id="kobo.71.1">just </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.72.1">::1</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.73.1">.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.74.1">There is much more regarding network addresses, but only with this brief introduction, it is already possible to see a usability issue here. </span><span class="koboSpan" id="kobo.74.2">These addresses work great for computers but don’t play nice with “</span><em class="italic"><span class="koboSpan" id="kobo.75.1">human memory.</span></em><span class="koboSpan" id="kobo.76.1">” On the great internet, with millions of connected computers, using only IP addresses for navigation would be impossible. </span><span class="koboSpan" id="kobo.76.2">That is why there are special servers in the infrastructure of the web that provide a conversion from a “</span><em class="italic"><span class="koboSpan" id="kobo.77.1">human-friendly name</span></em><span class="koboSpan" id="kobo.78.1">” into the right IP address. </span><span class="koboSpan" id="kobo.78.2">These friendly names are</span><a id="_idIndexMarker769"/><span class="koboSpan" id="kobo.79.1"> called </span><strong class="bold"><span class="koboSpan" id="kobo.80.1">domains</span></strong><span class="koboSpan" id="kobo.81.1">, and the servers that provide the conversion are</span><a id="_idIndexMarker770"/><span class="koboSpan" id="kobo.82.1"> the </span><strong class="bold"><span class="koboSpan" id="kobo.83.1">Domain Name Service</span></strong><span class="koboSpan" id="kobo.84.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.85.1">DNS</span></strong><span class="koboSpan" id="kobo.86.1">). </span><span class="koboSpan" id="kobo.86.2">All this is regulated </span><a id="_idIndexMarker771"/><span class="koboSpan" id="kobo.87.1">by the </span><strong class="bold"><span class="koboSpan" id="kobo.88.1">Internet Corporation for Assigned Names and Numbers</span></strong><span class="koboSpan" id="kobo.89.1"> (</span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.90.1">ICANN</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.91.1">) organization.</span></span></p>
<p><span class="koboSpan" id="kobo.92.1">Domain names are what we use every day to access any website or application on the internet today. </span><span class="koboSpan" id="kobo.92.2">These are bought for a limited time from an entity authorized to sell them, called a </span><strong class="bold"><span class="koboSpan" id="kobo.93.1">registrar</span></strong><span class="koboSpan" id="kobo.94.1">. </span><span class="koboSpan" id="kobo.94.2">Once the</span><a id="_idIndexMarker772"/><span class="koboSpan" id="kobo.95.1"> period has expired, there is the possibility for a limited time to renew the domain, and if not, it can be acquired by anyone else. </span><span class="koboSpan" id="kobo.95.2">Usually, domains are sold in terms of years, and prices vary greatly from a few cents to thousands of dollars. </span><span class="koboSpan" id="kobo.95.3">Domains are also organized in groups, separated by dots from right to left, as </span><span class="No-Break"><span class="koboSpan" id="kobo.96.1">shown here:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer078">
<span class="koboSpan" id="kobo.97.1"><img alt="Figure 10.1 – The parts that make up a full domain name" src="image/Figure_10.01_B18602.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.98.1">Figure 10.1 – The parts that make up a full domain name</span></p>
<p><span class="koboSpan" id="kobo.99.1">The top-level domain is managed by the ICANN, and while </span><strong class="source-inline"><span class="koboSpan" id="kobo.100.1">.com</span></strong><span class="koboSpan" id="kobo.101.1"> for commercial websites is the most famous, there are plenty of others to choose from, such as </span><span class="No-Break"><span class="koboSpan" id="kobo.102.1">the following:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.103.1">.org</span></strong><span class="koboSpan" id="kobo.104.1">: </span><span class="No-Break"><span class="koboSpan" id="kobo.105.1">For organizations</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.106.1">.net</span></strong><span class="koboSpan" id="kobo.107.1">: For networks or portals of corporate intranets and </span><span class="No-Break"><span class="koboSpan" id="kobo.108.1">other organizations</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.109.1">.mil</span></strong><span class="koboSpan" id="kobo.110.1">: For </span><span class="No-Break"><span class="koboSpan" id="kobo.111.1">military use</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.112.1">.gov</span></strong><span class="koboSpan" id="kobo.113.1">: For official </span><span class="No-Break"><span class="koboSpan" id="kobo.114.1">government sites</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.115.1">New top-level domains</span><a id="_idIndexMarker773"/><span class="koboSpan" id="kobo.116.1"> are created often. </span><span class="koboSpan" id="kobo.116.2">You can find a growing list of them </span><span class="No-Break"><span class="koboSpan" id="kobo.117.1">here: </span></span><a href="https://en.wikipedia.org/wiki/List_of_Internet_top-level_domains"><span class="No-Break"><span class="koboSpan" id="kobo.118.1">https://en.wikipedia.org/wiki/List_of_Internet_top-level_domains</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.119.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.120.1">When we buy a domain (such as </span><strong class="bold"><span class="koboSpan" id="kobo.121.1">mydomain</span></strong><span class="koboSpan" id="kobo.122.1"> in the previous figure), it is attached to a top-level domain of our choosing. </span><strong class="bold"><span class="koboSpan" id="kobo.123.1">Registrars</span></strong><span class="koboSpan" id="kobo.124.1"> give </span><a id="_idIndexMarker774"/><span class="koboSpan" id="kobo.125.1">us the option to select a domain and check whether they are available for purchase. </span><span class="koboSpan" id="kobo.125.2">To be of any use, the domain needs to be registered on a DNS to point to an IP address. </span><span class="koboSpan" id="kobo.125.3">The way to do that is to create </span><strong class="bold"><span class="koboSpan" id="kobo.126.1">DNS records</span></strong><span class="koboSpan" id="kobo.127.1">, which </span><a id="_idIndexMarker775"/><span class="koboSpan" id="kobo.128.1">is often done through the same registrar that sells the domain, or we can record in the registrar the DNS that will have the destination IP. </span><span class="koboSpan" id="kobo.128.2">There’ll be more about this later, but for now, just keep present the concept in your mind. </span><span class="koboSpan" id="kobo.128.3">The most common DNS records for a domain are </span><span class="No-Break"><span class="koboSpan" id="kobo.129.1">as follows:</span></span></p>
<table class="No-Table-Style _idGenTablePara-1" id="table001-6">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="bold"><span class="koboSpan" id="kobo.130.1">Record </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.131.1">Type (name)</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><strong class="bold"><span class="koboSpan" id="kobo.132.1">Value </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.133.1">and description</span></strong></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="source-inline"><span class="koboSpan" id="kobo.134.1">A</span></strong></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.135.1">An IPv4 address. </span><span class="koboSpan" id="kobo.135.2">This is the main record that points to the public IP of </span><span class="No-Break"><span class="koboSpan" id="kobo.136.1">your server.</span></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.137.1">AAAA</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.138.1">An IPv6 address. </span><span class="koboSpan" id="kobo.138.2">Points to the public IPv6 address of </span><span class="No-Break"><span class="koboSpan" id="kobo.139.1">your server.</span></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.140.1">CNAME</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.141.1">Creates an alias to a domain, so you can point multiple domains to the same destination without creating multiple A/AAAA records. </span><span class="koboSpan" id="kobo.141.2">This can be used to </span><span class="No-Break"><span class="koboSpan" id="kobo.142.1">create subdomains.</span></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.143.1">TXT</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.144.1">A plain text record, which is often used with some form of validation of ownership for </span><span class="No-Break"><span class="koboSpan" id="kobo.145.1">a domain.</span></span></p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.146.1">Table 10.1 – DNS record types</span></p>
<p><span class="koboSpan" id="kobo.147.1">Depending on the registrar and the service hired, you may never see or have to deal with these records, as some registrars/web hostings manage them automatically </span><span class="No-Break"><span class="koboSpan" id="kobo.148.1">for you.</span></span></p>
<p><span class="koboSpan" id="kobo.149.1">Subdomains do not need to be bought from a</span><a id="_idIndexMarker776"/><span class="koboSpan" id="kobo.150.1"> registrar, only configured. </span><span class="koboSpan" id="kobo.150.2">You can create as many as you please for your own domain. </span><span class="koboSpan" id="kobo.150.3">Some common subdomains are </span><span class="No-Break"><span class="koboSpan" id="kobo.151.1">as follows:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.152.1">www</span></strong><span class="koboSpan" id="kobo.153.1">: For </span><strong class="bold"><span class="koboSpan" id="kobo.154.1">World Wide Web</span></strong><span class="koboSpan" id="kobo.155.1">, or a </span><a id="_idIndexMarker777"/><span class="koboSpan" id="kobo.156.1">web page. </span><span class="koboSpan" id="kobo.156.2">Nowadays, this subdomain is often used as a synonym for </span><span class="No-Break"><span class="koboSpan" id="kobo.157.1">the domain.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.158.1">app</span></strong><span class="koboSpan" id="kobo.159.1">: </span><span class="No-Break"><span class="koboSpan" id="kobo.160.1">For applications.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.161.1">admin</span></strong><span class="koboSpan" id="kobo.162.1">: For </span><span class="No-Break"><span class="koboSpan" id="kobo.163.1">administration access.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.164.1">mail</span></strong><span class="koboSpan" id="kobo.165.1">: For </span><span class="No-Break"><span class="koboSpan" id="kobo.166.1">email services.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.167.1">Using subdomains, you can host multiple websites off the same domain/host. </span><span class="koboSpan" id="kobo.167.2">We will see later how to configure one for our application on our web server. </span><span class="koboSpan" id="kobo.167.3">At this point, what we need to remember is that a domain or a subdomain will point as a final destination to </span><span class="No-Break"><span class="koboSpan" id="kobo.168.1">your server.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.169.1">A note about the loopback address</span></p>
<p class="callout"><span class="koboSpan" id="kobo.170.1">Following the previous examples, the “domain” name reserved for the loopback (home) address </span><span class="No-Break"><span class="koboSpan" id="kobo.171.1">is </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.172.1">localhost</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.173.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.174.1">The domain where our application will be hosted is the first step to having a presence on the internet. </span><span class="koboSpan" id="kobo.174.2">With it, we are in place to move to the next consideration – where it will be placed in </span><span class="No-Break"><span class="koboSpan" id="kobo.175.1">that domain.</span></span></p>
<h1 id="_idParaDest-189"><a id="_idTextAnchor229"/><span class="koboSpan" id="kobo.176.1">Considerations for building our application for deployment</span></h1>
<p><span class="koboSpan" id="kobo.177.1">Once we have </span><a id="_idIndexMarker778"/><span class="koboSpan" id="kobo.178.1">our domain/subdomain, we need to decide (or know) on which path the application will be located. </span><span class="koboSpan" id="kobo.178.2">The path is what follows the domain, in segments separated by a forward slash (</span><strong class="source-inline"><span class="koboSpan" id="kobo.179.1">/</span></strong><span class="koboSpan" id="kobo.180.1">) – for example, </span><strong class="source-inline"><span class="koboSpan" id="kobo.181.1">mydomain.com/store/product.html</span></strong><span class="koboSpan" id="kobo.182.1">. </span><span class="koboSpan" id="kobo.182.2">These sections are called “paths” because they follow the same directory structure as mirrored in the local storage. </span><span class="koboSpan" id="kobo.182.3">Our application will be served </span><a id="_idIndexMarker779"/><span class="koboSpan" id="kobo.183.1">through a </span><strong class="bold"><span class="koboSpan" id="kobo.184.1">web server</span></strong><span class="koboSpan" id="kobo.185.1">. </span><span class="koboSpan" id="kobo.185.2">These amazing pieces of software are built around the concept of serving files following the directory structure (</span><strong class="source-inline"><span class="koboSpan" id="kobo.186.1">folder/subfolder/file...</span></strong><span class="koboSpan" id="kobo.187.1">). </span><span class="koboSpan" id="kobo.187.2">Internally, our server will match a domain request to the files in a local directory. </span><span class="koboSpan" id="kobo.187.3">Here is where we need to know whether the Vue application will be placed at the root, or on a path (directory), as we need to indicate this for the build process if we are using Vue Router in the web history mode (review </span><a href="B18602_05.xhtml#_idTextAnchor130"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.188.1">Chapter 5</span></em></span></a><span class="koboSpan" id="kobo.189.1">, </span><em class="italic"><span class="koboSpan" id="kobo.190.1">Single-Page Applications</span></em><span class="koboSpan" id="kobo.191.1">, if you need a refresher on this topic). </span><span class="koboSpan" id="kobo.191.2">In this case, we need to make </span><span class="No-Break"><span class="koboSpan" id="kobo.192.1">two modifications:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.193.1">Indicate the </span><em class="italic"><span class="koboSpan" id="kobo.194.1">root </span></em><span class="koboSpan" id="kobo.195.1">path for the application in our </span><span class="No-Break"><span class="koboSpan" id="kobo.196.1">Router configuration</span></span></li>
<li><span class="koboSpan" id="kobo.197.1">Configure the web server to alter the directory/file service and route all the requests to the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.198.1">index.html</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.199.1"> file</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.200.1">If our application is placed in </span><strong class="source-inline"><span class="koboSpan" id="kobo.201.1">mydomain.com</span></strong><strong class="bold"><span class="koboSpan" id="kobo.202.1">/app</span></strong><span class="koboSpan" id="kobo.203.1"> using the web history mode, then we need to alter our router definition by passing the “base path” to the creator function. </span><span class="koboSpan" id="kobo.203.2">So, if we look at the router from our SPA example application in </span><a href="B18602_05.xhtml#_idTextAnchor130"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.204.1">Chapter 5</span></em></span></a><span class="koboSpan" id="kobo.205.1">, </span><em class="italic"><span class="koboSpan" id="kobo.206.1">Single-Page Applications</span></em><span class="koboSpan" id="kobo.207.1">, we can</span><a id="_idIndexMarker780"/><span class="koboSpan" id="kobo.208.1"> modify it </span><span class="No-Break"><span class="koboSpan" id="kobo.209.1">as follows:</span></span></p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.210.1">/chapter 5/to-do SPA/src/router/index.js</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.211.1">
import { createWebHistory } from "vue-router"
// ...
</span><span class="koboSpan" id="kobo.211.2">router = createRouter({
history: </span><strong class="bold"><span class="koboSpan" id="kobo.212.1">createWebHistory</span></strong><span class="koboSpan" id="kobo.213.1">(</span><strong class="bold"><span class="koboSpan" id="kobo.214.1">'/app'</span></strong><span class="koboSpan" id="kobo.215.1">),
routes,
// ...
</span><span class="koboSpan" id="kobo.215.2">}
})</span></pre>
<p><span class="koboSpan" id="kobo.216.1">Note the minor change, where we pass the base path to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.217.1">createWebHistory</span></strong><span class="koboSpan" id="kobo.218.1"> constructor instead of using </span><strong class="source-inline"><span class="koboSpan" id="kobo.219.1">createWebHashHistory()</span></strong><span class="koboSpan" id="kobo.220.1">. </span><span class="koboSpan" id="kobo.220.2">Of course, if the application uses the hash mode, it doesn’t matter where it is placed in our path. </span><span class="koboSpan" id="kobo.220.3">This is because in this mode, all routing navigation will be passed after the hash while pointing to our </span><strong class="source-inline"><span class="koboSpan" id="kobo.221.1">index.html</span></strong><span class="koboSpan" id="kobo.222.1"> file. </span><span class="koboSpan" id="kobo.222.2">For example, if our router has a route called </span><strong class="source-inline"><span class="koboSpan" id="kobo.223.1">/description</span></strong><span class="koboSpan" id="kobo.224.1">, using the hash mode will make the address </span><strong class="source-inline"><span class="koboSpan" id="kobo.225.1">mydomain.com/app</span></strong><strong class="bold"><span class="koboSpan" id="kobo.226.1">#description</span></strong><span class="koboSpan" id="kobo.227.1"> (the hash mode) instead of </span><strong class="source-inline"><span class="koboSpan" id="kobo.228.1">mydomain.com/app</span></strong><strong class="bold"><span class="koboSpan" id="kobo.229.1">/description</span></strong><span class="koboSpan" id="kobo.230.1"> (the web </span><span class="No-Break"><span class="koboSpan" id="kobo.231.1">history mode).</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.232.1">Hashes in web addresses</span></p>
<p class="callout"><span class="koboSpan" id="kobo.233.1">The hash in an address indicates a link to a section on the page/file, according to the HTML standard, and is used by Vue to manage the defined routes when in the </span><span class="No-Break"><span class="koboSpan" id="kobo.234.1">hash mode.</span></span></p>
<p><span class="koboSpan" id="kobo.235.1">Having provisioned the destination of our application, we can now build the production code through Vite with the following command on </span><span class="No-Break"><span class="koboSpan" id="kobo.236.1">the terminal:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.237.1">
 $ npm run build</span></pre>
<p><span class="koboSpan" id="kobo.238.1">By default, the </span><a id="_idIndexMarker781"/><span class="koboSpan" id="kobo.239.1">final production-ready files for our entire application will be placed in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.240.1">/dist</span></strong><span class="koboSpan" id="kobo.241.1"> folder (at the same level as our </span><strong class="source-inline"><span class="koboSpan" id="kobo.242.1">/src</span></strong><span class="koboSpan" id="kobo.243.1"> folder). </span><span class="koboSpan" id="kobo.243.2">Now, with our built distribution files, we are ready to upload them to a server once we have set the </span><span class="No-Break"><span class="koboSpan" id="kobo.244.1">proper configuration.</span></span></p>
<h1 id="_idParaDest-190"><a id="_idTextAnchor230"/><span class="koboSpan" id="kobo.245.1">Web server options and configurations</span></h1>
<p><span class="koboSpan" id="kobo.246.1">When </span><a id="_idIndexMarker782"/><span class="koboSpan" id="kobo.247.1">is time to upload </span><a id="_idIndexMarker783"/><span class="koboSpan" id="kobo.248.1">our application to a server, we are faced with many options, based on the type of service and web server application provided. </span><span class="koboSpan" id="kobo.248.2">This combination of items is usually referred to as the “hosting” server, which includes the operating system, machine configuration, architecture type, and especially, the web server software. </span><span class="koboSpan" id="kobo.248.3">Here is a list of some of the most common options for </span><span class="No-Break"><span class="koboSpan" id="kobo.249.1">each category:</span></span></p>
<table class="No-Table-Style _idGenTablePara-1" id="table002-1">
<colgroup>
<col/>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.250.1">Operating system</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><strong class="bold"><span class="koboSpan" id="kobo.251.1">Linux </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.252.1">or Windows</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><strong class="bold"><span class="koboSpan" id="kobo.253.1">For our Vue 3 application, this choice </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.254.1">is inconsequential</span></strong></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style" rowspan="6">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.255.1">Hosting type</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.256.1">Shared</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.257.1">Our application will reside in a server in a private area of the storage but will share all the resources with other applications. </span><span class="koboSpan" id="kobo.257.2">Access to configuration is usually done through a web </span><span class="No-Break"><span class="koboSpan" id="kobo.258.1">control panel</span></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="bold"><span class="koboSpan" id="kobo.259.1">Virtual Private </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.260.1">Server (VPS)</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.261.1">We are provided with a virtual machine with full access to the entire configuration and resources, usually through a direct connection with a </span><span class="No-Break"><span class="koboSpan" id="kobo.262.1">remote terminal</span></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.263.1">Managed VPS</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.264.1">Like a VPS, but we are provided with a web control panel or other services to manage </span><span class="No-Break"><span class="koboSpan" id="kobo.265.1">the machine</span></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.266.1">Private server</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.267.1">Here, we rent real hardware from the hosting provider and have full liberty to all </span><span class="No-Break"><span class="koboSpan" id="kobo.268.1">their resources</span></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.269.1">Self-hosted</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.270.1">We connect a server directly to the internet by our own means and an </span><span class="No-Break"><span class="koboSpan" id="kobo.271.1">internet connection</span></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.272.1">Collocated</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.273.1">We provide a server to a server farm, where they take care of physical needs. </span><span class="koboSpan" id="kobo.273.2">We manage the server remotely with full control of software </span><span class="No-Break"><span class="koboSpan" id="kobo.274.1">and hardware</span></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style" rowspan="2">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.275.1">Web server</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.276.1">Apache HTTP</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.277.1">This server is stable and heavily used in Linux and </span><span class="No-Break"><span class="koboSpan" id="kobo.278.1">shared hosting</span></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.279.1">Nginx</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.280.1">A smaller and fast web server, famous for managing very well a large number of concurrent connections, with efficient use of resources. </span><span class="koboSpan" id="kobo.280.2">Very easy to manage and very popular for </span><span class="No-Break"><span class="koboSpan" id="kobo.281.1">VPS hosting</span></span></p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.282.1">Table 10.2 - Common hosting options per category</span></p>
<p><span class="koboSpan" id="kobo.283.1">In the case of </span><a id="_idIndexMarker784"/><span class="koboSpan" id="kobo.284.1">Vue 3 applications, we aim to have a web server that is fast and</span><a id="_idIndexMarker785"/><span class="koboSpan" id="kobo.285.1"> reliable to attend to multiple requests simultaneously by serving static files. </span><span class="koboSpan" id="kobo.285.2">We do not require much CPU processing power, as we do not run code on the server, so our requirements for hardware and software are very low, so much so that practically any “static file server” would do. </span><span class="koboSpan" id="kobo.285.3">Most likely, our application will be part of a much larger infrastructure with other requirements, but those used to serve our Vue 3 app in and of itself </span><span class="No-Break"><span class="koboSpan" id="kobo.286.1">are low.</span></span></p>
<p><span class="koboSpan" id="kobo.287.1">The key</span><a id="_idIndexMarker786"/><span class="koboSpan" id="kobo.288.1"> consideration here is, again, whether we are using the web </span><a id="_idIndexMarker787"/><span class="koboSpan" id="kobo.289.1">history mode in our router. </span><span class="koboSpan" id="kobo.289.2">In that case, we need to include a configuration to the web server software to direct all requests to the entry point of our Vue application (our </span><strong class="source-inline"><span class="koboSpan" id="kobo.290.1">index.html</span></strong><span class="koboSpan" id="kobo.291.1">) when a request does not match the standard (a file in the folder directory). </span><span class="koboSpan" id="kobo.291.2">This may sound complicated but is rather simple. </span><span class="koboSpan" id="kobo.291.3">Directly from the official Vue Router documentation, here are examples of the two </span><span class="No-Break"><span class="koboSpan" id="kobo.292.1">web servers.</span></span></p>
<h2 id="_idParaDest-191"><a id="_idTextAnchor231"/><span class="koboSpan" id="kobo.293.1">Apache HTTP Server configuration</span></h2>
<p><span class="koboSpan" id="kobo.294.1">The Apache HTTP Server</span><a id="_idIndexMarker788"/><span class="koboSpan" id="kobo.295.1"> is used heavily in shared hosting providers and allows us to alter the configuration for requests by placing a single file in the root directory of the web application. </span><span class="koboSpan" id="kobo.295.2">This is very convenient and simple, but it does require that the hosting provider has enabled (or through the administration panel, allowed the user to enable) a special module that allows us to rewrite the incoming requests. </span><span class="koboSpan" id="kobo.295.3">The official documentation (</span><a href="https://router.vuejs.org/guide/essentials/history-mode.html"><span class="koboSpan" id="kobo.296.1">https://router.vuejs.org/guide/essentials/history-mode.html#apache</span></a><span class="koboSpan" id="kobo.297.1">) shows </span><span class="No-Break"><span class="koboSpan" id="kobo.298.1">this example:</span></span></p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.299.1">/.htaccess</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.300.1">
&lt;IfModule mod_negotiation.c&gt;
  Options -MultiViews
&lt;/IfModule&gt;
&lt;IfModule mod_rewrite.c&gt;
  RewriteEngine On
  RewriteBase </span><strong class="bold"><span class="koboSpan" id="kobo.301.1">/</span></strong><span class="koboSpan" id="kobo.302.1">                                </span><strong class="bold"><span class="koboSpan" id="kobo.303.1">//1</span></strong><span class="koboSpan" id="kobo.304.1">
  RewriteRule ^index\.html$ - [L]
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule . </span><span class="koboSpan" id="kobo.304.2">/index.html [L]
&lt;/IfModule&gt;</span></pre>
<p><span class="koboSpan" id="kobo.305.1">The</span><a id="_idIndexMarker789"/><span class="koboSpan" id="kobo.306.1"> preceding file should be placed alongside our </span><strong class="source-inline"><span class="koboSpan" id="kobo.307.1">index.html</span></strong><span class="koboSpan" id="kobo.308.1"> file. </span><span class="koboSpan" id="kobo.308.2">Every incoming request will then be routed to it and captured by Vue Router in the web history mode. </span><span class="koboSpan" id="kobo.308.3">Also, note in line </span><strong class="source-inline"><span class="koboSpan" id="kobo.309.1">//1</span></strong><span class="koboSpan" id="kobo.310.1">, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.311.1">RewriteBase</span></strong><span class="koboSpan" id="kobo.312.1"> rule. </span><span class="koboSpan" id="kobo.312.2">Here is where we change the path of our application, if not placed at the root of </span><span class="No-Break"><span class="koboSpan" id="kobo.313.1">the domain.</span></span></p>
<h2 id="_idParaDest-192"><a id="_idTextAnchor232"/><span class="koboSpan" id="kobo.314.1">Nginx server configuration</span></h2>
<p><span class="koboSpan" id="kobo.315.1">In the case of VPSes and private servers, the NGINX </span><a id="_idIndexMarker790"/><span class="koboSpan" id="kobo.316.1">server is quite popular for how flexible and performant it is. </span><span class="koboSpan" id="kobo.316.2">It can behave as a reverse proxy, load balancer, and much more. </span><span class="koboSpan" id="kobo.316.3">Installing this server in a VPS with Linux/Windows is rather trivial, but we will not cover it here. </span><span class="koboSpan" id="kobo.316.4">You can see the documentation for each system </span><span class="No-Break"><span class="koboSpan" id="kobo.317.1">at </span></span><a href="https://www.nginx.com/resources/wiki/start/topics/tutorials/install/"><span class="No-Break"><span class="koboSpan" id="kobo.318.1">https://www.nginx.com/resources/wiki/start/topics/tutorials/install/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.319.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.320.1">Unlike Apache with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.321.1">.htaccess</span></strong><span class="koboSpan" id="kobo.322.1"> files, we need to modify the server configuration file for our site. </span><span class="koboSpan" id="kobo.322.2">In Linux, this</span><a id="_idIndexMarker791"/><span class="koboSpan" id="kobo.323.1"> is usually placed in /etc/nginx/sites-available. </span><span class="koboSpan" id="kobo.323.2">The file follows a simple schema where, for each virtual server, we declare the location path (as in the domain path) and the location on the local storage (the directory or folder). </span><span class="koboSpan" id="kobo.323.3">Here is an example file from a </span><span class="No-Break"><span class="koboSpan" id="kobo.324.1">Linux server:</span></span></p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.325.1">/etc/nginx/sites-available/default</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.326.1">
server {
    listen 80;
    index index.html;
    root </span><strong class="bold"><span class="koboSpan" id="kobo.327.1">/home/user/www</span></strong><span class="koboSpan" id="kobo.328.1">;                              </span><strong class="bold"><span class="koboSpan" id="kobo.329.1">//1</span></strong><span class="koboSpan" id="kobo.330.1">
    server_name </span><strong class="bold"><span class="koboSpan" id="kobo.331.1">www.mydomain.com mydomain.com</span></strong><span class="koboSpan" id="kobo.332.1">;        </span><strong class="bold"><span class="koboSpan" id="kobo.333.1">//2</span></strong><span class="koboSpan" id="kobo.334.1">
    location </span><strong class="bold"><span class="koboSpan" id="kobo.335.1">/</span></strong><span class="koboSpan" id="kobo.336.1"> {                                      </span><strong class="bold"><span class="koboSpan" id="kobo.337.1">//3</span></strong><span class="koboSpan" id="kobo.338.1">
        try_files $uri $uri/ /index.html;             </span><strong class="bold"><span class="koboSpan" id="kobo.339.1">//4</span></strong><span class="koboSpan" id="kobo.340.1">
    }
}</span></pre>
<p><span class="koboSpan" id="kobo.341.1">Let’s look at the </span><span class="No-Break"><span class="koboSpan" id="kobo.342.1">preceding code:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.343.1">In line </span><em class="italic"><span class="koboSpan" id="kobo.344.1">//1</span></em><span class="koboSpan" id="kobo.345.1">, we place the local storage absolute path to </span><span class="No-Break"><span class="koboSpan" id="kobo.346.1">our application.</span></span></li>
<li><span class="koboSpan" id="kobo.347.1">In line </span><em class="italic"><span class="koboSpan" id="kobo.348.1">//2</span></em><span class="koboSpan" id="kobo.349.1">, we declare the domains and subdomains that will be associated with this </span><span class="No-Break"><span class="koboSpan" id="kobo.350.1">server block.</span></span></li>
<li><span class="koboSpan" id="kobo.351.1">In line </span><em class="italic"><span class="koboSpan" id="kobo.352.1">//3,</span></em><span class="koboSpan" id="kobo.353.1"> we declare the location path to process. </span><span class="koboSpan" id="kobo.353.2">In this example, we are placing the application at the root (</span><strong class="source-inline"><span class="koboSpan" id="kobo.354.1">/</span></strong><span class="koboSpan" id="kobo.355.1">). </span><span class="koboSpan" id="kobo.355.2">If placed in </span><strong class="source-inline"><span class="koboSpan" id="kobo.356.1">mydomain.com/app</span></strong><span class="koboSpan" id="kobo.357.1">, we would write </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.358.1">location /app</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.359.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.360.1">Finally, in line </span><em class="italic"><span class="koboSpan" id="kobo.361.1">//4,</span></em><span class="koboSpan" id="kobo.362.1"> we tell NGINX to try to find a valid directory/file and, if not, pass it </span><a id="_idIndexMarker792"/><span class="koboSpan" id="kobo.363.1">through to our </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.364.1">index.html</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.365.1"> file.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.366.1">As before, if we are using the web hash mode, then we do not need to do these changes. </span><span class="koboSpan" id="kobo.366.2">We can just use the default configuration to serve the files from </span><span class="No-Break"><span class="koboSpan" id="kobo.367.1">the disk.</span></span></p>
<h2 id="_idParaDest-193"><a id="_idTextAnchor233"/><span class="koboSpan" id="kobo.368.1">Other servers</span></h2>
<p><span class="koboSpan" id="kobo.369.1">There are many other servers in use and possible configurations that are not possible to cover here. </span><span class="koboSpan" id="kobo.369.2">However, the official Vue Router documentation has very good examples for other servers and guidelines for those not covered. </span><span class="koboSpan" id="kobo.369.3">You can find the reference at this </span><span class="No-Break"><span class="koboSpan" id="kobo.370.1">link: </span></span><a href="https://router.vuejs.org/guide/essentials/history-mode.html#example-server-configurations"><span class="No-Break"><span class="koboSpan" id="kobo.371.1">https://router.vuejs.org/guide/essentials/history-mode.html#example-server-configurations</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.372.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.373.1">Let’s see now how to move our files onto our </span><span class="No-Break"><span class="koboSpan" id="kobo.374.1">online server.</span></span></p>
<h1 id="_idParaDest-194"><a id="_idTextAnchor234"/><span class="koboSpan" id="kobo.375.1">Transferring your files to the server</span></h1>
<p><span class="koboSpan" id="kobo.376.1">Armed </span><a id="_idIndexMarker793"/><span class="koboSpan" id="kobo.377.1">now with the</span><a id="_idIndexMarker794"/><span class="koboSpan" id="kobo.378.1"> domain pointing to our server and the configurations in place, it is time to upload our distribution files. </span><span class="koboSpan" id="kobo.378.2">Depending on your choice of hosting, this could be done through a web </span><a id="_idIndexMarker795"/><span class="koboSpan" id="kobo.379.1">interface, a </span><strong class="bold"><span class="koboSpan" id="kobo.380.1">File Transfer Protocol</span></strong><span class="koboSpan" id="kobo.381.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.382.1">FTP</span></strong><span class="koboSpan" id="kobo.383.1">) application, or secure transfer over</span><a id="_idIndexMarker796"/><span class="koboSpan" id="kobo.384.1"> the </span><strong class="bold"><span class="koboSpan" id="kobo.385.1">Secure Shell Protocol</span></strong><span class="koboSpan" id="kobo.386.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.387.1">SSH</span></strong><span class="koboSpan" id="kobo.388.1">). </span><span class="koboSpan" id="kobo.388.2">For the last two options, it is recommended to use an application that takes care of the heavy lifting. </span><span class="koboSpan" id="kobo.388.3">An excellent option is to use FileZilla (</span><a href="https://filezilla-project.org/"><span class="koboSpan" id="kobo.389.1">https://filezilla-project.org/</span></a><span class="koboSpan" id="kobo.390.1">), which handles the aforementioned protocols. </span><span class="koboSpan" id="kobo.390.2">It is available for Linux, Windows, </span><span class="No-Break"><span class="koboSpan" id="kobo.391.1">and macOS.</span></span></p>
<p><span class="koboSpan" id="kobo.392.1">As we mentioned in </span><a href="B18602_09.xhtml#_idTextAnchor199"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.393.1">Chapter 9</span></em></span></a><span class="koboSpan" id="kobo.394.1">, </span><em class="italic"><span class="koboSpan" id="kobo.395.1">Testing and Source Control</span></em><span class="koboSpan" id="kobo.396.1">, you can also configure your VPS/server to pull the source code from a remote repository using </span><strong class="bold"><span class="koboSpan" id="kobo.397.1">Git</span></strong><span class="koboSpan" id="kobo.398.1">. </span><span class="koboSpan" id="kobo.398.2">In this case, the application folder will be configured to point to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.399.1">/dist</span></strong><span class="koboSpan" id="kobo.400.1"> folder </span><a id="_idIndexMarker797"/><span class="koboSpan" id="kobo.401.1">in the local repository. </span><span class="koboSpan" id="kobo.401.2">We could, for example, open a remote terminal to the server, trigger a synchronization (pull), and then bundle the application on the server itself, pull a branch that already has the application bundled, push our commits directly to the server, and so on. </span><span class="koboSpan" id="kobo.401.3">There are many options when using Git, and a few more when using a service such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.402.1">GitHub</span></strong><span class="koboSpan" id="kobo.403.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.404.1">GitLab</span></strong><span class="koboSpan" id="kobo.405.1"> with powerful tools for </span><em class="italic"><span class="koboSpan" id="kobo.406.1">continuous integration and delivery</span></em><span class="koboSpan" id="kobo.407.1">. </span><span class="koboSpan" id="kobo.407.2">This is a topic worth exploring if you do not want to use S/FTP applications or want to automate</span><a id="_idIndexMarker798"/><span class="koboSpan" id="kobo.408.1"> the process. </span><span class="koboSpan" id="kobo.408.2">Each implementation would be specific and out of the </span><a id="_idIndexMarker799"/><span class="koboSpan" id="kobo.409.1">scope of this book, so we will move on to the next topic, assuming that our files are now on </span><span class="No-Break"><span class="koboSpan" id="kobo.410.1">the server.</span></span></p>
<h1 id="_idParaDest-195"><a id="_idTextAnchor235"/><span class="koboSpan" id="kobo.411.1">Protecting your web application with Let’s Encrypt</span></h1>
<p><span class="koboSpan" id="kobo.412.1">Internet addresses are included at the very beginning of the protocol being used. </span><span class="koboSpan" id="kobo.412.2">By default, all web navigation is done using</span><a id="_idIndexMarker800"/><span class="koboSpan" id="kobo.413.1"> the </span><strong class="bold"><span class="koboSpan" id="kobo.414.1">Hypertext Transfer Protocol</span></strong><span class="koboSpan" id="kobo.415.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.416.1">HTTP</span></strong><span class="koboSpan" id="kobo.417.1">), which, while foundational, is not considered secure. </span><span class="koboSpan" id="kobo.417.2">When an encryption layer between the client and the server is provided, then the communication is done o</span><a id="_idIndexMarker801"/><span class="koboSpan" id="kobo.418.1">ver </span><strong class="bold"><span class="koboSpan" id="kobo.419.1">HTTPS</span></strong><span class="koboSpan" id="kobo.420.1"> (the </span><strong class="bold"><span class="koboSpan" id="kobo.421.1">S</span></strong><span class="koboSpan" id="kobo.422.1"> standing for </span><strong class="bold"><span class="koboSpan" id="kobo.423.1">Secure</span></strong><span class="koboSpan" id="kobo.424.1">). </span><span class="koboSpan" id="kobo.424.2">This encryption layer is provided and validated by a certifying authority, so the certificate must be bought from such one. </span><span class="koboSpan" id="kobo.424.3">Hosting providers usually have the option to buy and install one on their servers, but there is also a free and reliable alternative</span><a id="_idIndexMarker802"/><span class="koboSpan" id="kobo.425.1"> provided by the </span><strong class="bold"><span class="koboSpan" id="kobo.426.1">Let’s Encrypt</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.427.1">foundation (</span></span><a href="https://letsencrypt.org/"><span class="No-Break"><span class="koboSpan" id="kobo.428.1">https://letsencrypt.org/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.429.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.430.1">To install a </span><em class="italic"><span class="koboSpan" id="kobo.431.1">Let’s Encrypt</span></em><span class="koboSpan" id="kobo.432.1"> certificate, you need shell access to your server. </span><span class="koboSpan" id="kobo.432.2">If not, then you must rely on the</span><a id="_idIndexMarker803"/><span class="koboSpan" id="kobo.433.1"> service provided by the hosting. </span><span class="koboSpan" id="kobo.433.2">The</span><a id="_idIndexMarker804"/><span class="koboSpan" id="kobo.434.1"> list of certified hosting providers compatible is </span><span class="No-Break"><span class="koboSpan" id="kobo.435.1">here: </span></span><a href="https://certbot.eff.org/hosting_providers"><span class="No-Break"><span class="koboSpan" id="kobo.436.1">https://certbot.eff.org/hosting_providers</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.437.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.438.1">In the case that we have access to a server through remote shell access, the process is also straightforward. </span><span class="koboSpan" id="kobo.438.2">The Let’s Encrypt foundation and the </span><strong class="bold"><span class="koboSpan" id="kobo.439.1">Electronic Frontier Foundation</span></strong><span class="koboSpan" id="kobo.440.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.441.1">EFF</span></strong><span class="koboSpan" id="kobo.442.1">) provide</span><a id="_idIndexMarker805"/><span class="koboSpan" id="kobo.443.1"> an application called </span><strong class="bold"><span class="koboSpan" id="kobo.444.1">certbot</span></strong><span class="koboSpan" id="kobo.445.1"> (certification robot), which </span><a id="_idIndexMarker806"/><span class="koboSpan" id="kobo.446.1">automates the installation of security certificates and also configures the local web server files to use HTTPS. </span><span class="koboSpan" id="kobo.446.2">In this case, we have </span><span class="No-Break"><span class="koboSpan" id="kobo.447.1">two options:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.448.1">Install a certificate for each domain and </span><span class="No-Break"><span class="koboSpan" id="kobo.449.1">each subdomain</span></span></li>
<li><span class="koboSpan" id="kobo.450.1">Install a </span><em class="italic"><span class="koboSpan" id="kobo.451.1">wild card certificate</span></em><span class="koboSpan" id="kobo.452.1">, which covers each domain and all </span><span class="No-Break"><span class="koboSpan" id="kobo.453.1">possible subdomains</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.454.1">The </span><a id="_idIndexMarker807"/><span class="koboSpan" id="kobo.455.1">instructions to install the </span><em class="italic"><span class="koboSpan" id="kobo.456.1">certbot </span></em><span class="koboSpan" id="kobo.457.1">and then</span><a id="_idIndexMarker808"/><span class="koboSpan" id="kobo.458.1"> run the process differ for each operating system and web server, and the type of certificate mentioned. </span><span class="koboSpan" id="kobo.458.2">Because of this, the EFF</span><a id="_idIndexMarker809"/><span class="koboSpan" id="kobo.459.1"> provides a web page with configurable options for each possible variation and easy-to-follow steps. </span><span class="koboSpan" id="kobo.459.2">The</span><a id="_idIndexMarker810"/><span class="koboSpan" id="kobo.460.1"> wizard can be found </span><span class="No-Break"><span class="koboSpan" id="kobo.461.1">here: </span></span><a href="https://certbot.eff.org/"><span class="No-Break"><span class="koboSpan" id="kobo.462.1">https://certbot.eff.org/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.463.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer079">
<span class="koboSpan" id="kobo.464.1"><img alt="Figure 10.2 – Certbot instructions for NGINX and Ubuntu 20" src="image/Figure_10.02_B18602.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.465.1">Figure 10.2 – Certbot instructions for NGINX and Ubuntu 20</span></p>
<p><span class="koboSpan" id="kobo.466.1">In general, the instructions follow </span><span class="No-Break"><span class="koboSpan" id="kobo.467.1">these steps:</span></span></p>
<ol>
<li><span class="No-Break"><span class="koboSpan" id="kobo.468.1">Install </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.469.1">certbot</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.470.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.471.1">Run </span><strong class="bold"><span class="koboSpan" id="kobo.472.1">certbot</span></strong><span class="koboSpan" id="kobo.473.1">. </span><span class="koboSpan" id="kobo.473.2">This will present a series of options, with all the found dominions found on the given </span><span class="No-Break"><span class="koboSpan" id="kobo.474.1">web server.</span></span></li>
<li><span class="koboSpan" id="kobo.475.1">Select the type of certificate </span><span class="No-Break"><span class="koboSpan" id="kobo.476.1">to install.</span></span></li>
<li><span class="koboSpan" id="kobo.477.1">Select, if active, the auto-renewal of the certificate. </span><span class="koboSpan" id="kobo.477.2">Rejecting this will require </span><span class="No-Break"><span class="koboSpan" id="kobo.478.1">manual renewal.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.479.1">The </span><a id="_idIndexMarker811"/><span class="koboSpan" id="kobo.480.1">free certificate is only valid for 3 months at a </span><a id="_idIndexMarker812"/><span class="koboSpan" id="kobo.481.1">time, as opposed to a commercial certificate, which can be bought for more time. </span><span class="koboSpan" id="kobo.481.2">After 3 months, it must be manually renewed. </span><span class="koboSpan" id="kobo.481.3">Luckily, </span><em class="italic"><span class="koboSpan" id="kobo.482.1">certbot </span></em><span class="koboSpan" id="kobo.483.1">includes </span><a id="_idIndexMarker813"/><span class="koboSpan" id="kobo.484.1">a function to perform automatic updates before the expiration period </span><span class="No-Break"><span class="koboSpan" id="kobo.485.1">is due.</span></span></p>
<p><span class="koboSpan" id="kobo.486.1">Even for simple test applications, it is important and recommendable to always protect a website with a security certificate. </span><span class="koboSpan" id="kobo.486.2">Let’s also remember that having a security certificate and serving an application over HTTPS is a hard requirement </span><span class="No-Break"><span class="koboSpan" id="kobo.487.1">for PWAs.</span></span></p>
<h1 id="_idParaDest-196"><a id="_idTextAnchor236"/><span class="koboSpan" id="kobo.488.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.489.1">In this chapter, we covered the basics for publishing our Vue application in its own public space on the internet. </span><span class="koboSpan" id="kobo.489.2">We also learned important concepts for understanding instructions when buying and reserving a domain and setting DNS records if and when prompted to do so. </span><span class="koboSpan" id="kobo.489.3">We also learned about how to accommodate our bundle configuration when using the HTML5 history mode in Vue Router, the different types of online hosting we can hire, options for copying our distribution files onto the production server, and guidelines for securing our website with a free Let’s Encrypt certificate to serve our applications over HTTPS. </span><span class="koboSpan" id="kobo.489.4">All of these are important skills, and you will benefit from having the experience of executing these skills at </span><span class="No-Break"><span class="koboSpan" id="kobo.490.1">least once.</span></span></p>
<p><span class="koboSpan" id="kobo.491.1">With the deployment of our application, we have covered in this book the main steps and topics to construct a Vue 3 application, from the introduction of the framework all the way to testing our individual components and installing our production-ready files in a web server. </span><span class="koboSpan" id="kobo.491.2">In some cases, we have gone beyond the basics to see advanced topics, which are an important addition to a professional developer. </span><span class="koboSpan" id="kobo.491.3">If you have followed the concepts and code examples this far, you have acquired important skills to help you in your professional development. </span><span class="koboSpan" id="kobo.491.4">But this is not the end of this book, as you can find additional bonus </span><span class="No-Break"><span class="koboSpan" id="kobo.492.1">content next.</span></span></p>
<p><span class="koboSpan" id="kobo.493.1">I extend my appreciation and gratitude to you, dear reader, for your interest in Vue 3 and in acquiring this book, which summarizes many years of experience developing applications. </span><span class="koboSpan" id="kobo.493.2">I hope it becomes a source of reference and encouragement to keep learning, and I wish you the best of success in your personal and </span><span class="No-Break"><span class="koboSpan" id="kobo.494.1">professional career.</span></span></p>
<p><span class="No-Break"><span class="koboSpan" id="kobo.495.1">Sincerely,</span></span></p>
<p><strong class="bold"><span class="koboSpan" id="kobo.496.1">Pablo </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.497.1">D. </span><span class="koboSpan" id="kobo.497.2">Garaguso</span></strong></span></p>
<h1 id="_idParaDest-197"><a id="_idTextAnchor237"/><span class="koboSpan" id="kobo.498.1">Review questions</span></h1>
<ul>
<li><span class="koboSpan" id="kobo.499.1">What is a top-level domain, and how is it different from </span><span class="No-Break"><span class="koboSpan" id="kobo.500.1">a domain?</span></span></li>
<li><span class="koboSpan" id="kobo.501.1">Is there a limit to the number of subdomains we can create for our </span><span class="No-Break"><span class="koboSpan" id="kobo.502.1">domain? </span><span class="koboSpan" id="kobo.502.2">Why?</span></span></li>
<li><span class="koboSpan" id="kobo.503.1">What is a DNS? </span><span class="koboSpan" id="kobo.503.2">What are </span><span class="No-Break"><span class="koboSpan" id="kobo.504.1">DNS records?</span></span></li>
<li><span class="koboSpan" id="kobo.505.1">What are the options currently for publishing your web application on </span><span class="No-Break"><span class="koboSpan" id="kobo.506.1">the internet?</span></span></li>
<li><span class="koboSpan" id="kobo.507.1">What considerations in our code and web server do we need to make when using Vue Router in web </span><span class="No-Break"><span class="koboSpan" id="kobo.508.1">history mode?</span></span></li>
<li><span class="koboSpan" id="kobo.509.1">What are some common web servers found in shared hosting </span><span class="No-Break"><span class="koboSpan" id="kobo.510.1">and VPSes?</span></span></li>
<li><span class="koboSpan" id="kobo.511.1">What is certbot and what does </span><span class="No-Break"><span class="koboSpan" id="kobo.512.1">it do?</span></span></li>
</ul>
</div>
</body></html>