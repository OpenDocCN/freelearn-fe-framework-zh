# 前言

你好——我是丹尼尔，一个企业家、软件开发顾问和全栈开发者，专注于 React 生态系统中的技术。

在我作为软件开发顾问和为企业及公共部门工作的开发者期间，我观察到的一个共同挑战是：由于缺乏深入理解，开发者往往难以掌握高级 React 概念。Hooks 尤其是一个很大的困惑来源。通常，很难知道最佳实践是什么，以及如何最好地使用 React 和 React Hooks 来构建和设计应用程序。

在这本书中，我想教你构建现代且可维护的前端所需的所有知识，我会从零开始教授 Hooks，以确保你理解它们的限制和优势所在。我会涵盖我在职业生涯中经常遇到的各种常见用例，例如管理应用程序状态、何时以及如何使用 React Contexts、数据获取、表单处理和路由。我还会教你何时以及如何构建自己的 Hooks，以保持应用程序的可维护性并高效地在多个组件之间重用逻辑。在我看来，自定义 Hooks 在项目中往往被低估，但它们可以带来巨大的价值，尤其是在大型项目中。

所有这些概念都将通过实际示例进行教学，以便你能够立即看到它们的应用，并在自己的项目中开始使用它们。我真诚地希望你喜欢阅读这本书。如果你有任何问题或反馈，请随时与我联系！

# 这本书面向的对象

这本书是为已经知道如何使用 React 的开发者准备的，他们想深入了解 React Hooks 以及与之相关的现代技术，如表单操作、Context 和 Suspense。即使你已经了解 Hooks，这本书也会教你它们是如何内部工作的，以便你能更深入地理解它们。此外，你还将学习一些技巧和窍门，以及如何有效地开发 React 应用程序的最佳实践。

# 这本书涵盖的内容

*第一章*，*介绍 React 和 React Hooks*，涵盖了 React 和 React Hooks 的基本原理，以及如何使用 React 设置一个现代项目。

*第二章*，*使用 State Hook*，通过重新实现和使用 State Hook 来深入解释 Hooks 的工作原理，在学习过程中了解 Hooks 的限制。

*第三章*，*使用 React Hooks 编写您的第一个应用程序*，将我们从前两章学到的知识付诸实践，通过创建一个使用 React Hooks 的博客应用程序来应用这些知识。

*第四章*，*使用 Reducer 和 Effect Hooks*，介绍了这两个基本 Hooks，重点关注在博客应用程序中实现它们时何时以及如何使用它们。

*第五章*，*实现 React 上下文*，解释了 React Context 及其在应用程序中的应用，以及与 Hooks 结合使用。

*第六章*，*使用 Hooks 和 React Suspense 进行数据获取*，涵盖了使用 Effect 和 State Hooks 从服务器请求资源。然后，我们学习如何使用 TanStack Query、React Suspense 和错误边界更有效地请求资源。

*第七章*，*使用 Hooks 处理表单*，深入探讨了使用 React 处理表单，特别是关注新的范式，如表单操作、过渡和乐观更新。

*第八章*，*使用 Hooks 进行路由*，介绍了 React Router，并展示了如何使用 Hooks 从路由中获取参数，以及触发动态路由变化。

*第九章*，*React 提供的高级 Hooks*，概述了 React 提供的所有内置 Hooks，重点关注书中尚未涵盖的所有高级 Hooks。

*第十章*，*使用社区 Hooks*，概述了 React 社区提供的各种有用 Hooks，以及如何找到更多 Hooks 的信息。

*第十一章*，*Hooks 规则*，教你开始构建自己的 Hooks 所需了解的规则。

*第十二章*，*构建自己的 Hooks*，介绍了如何通过将现有逻辑提取到 Hook 中来构建自己的自定义 Hooks。通过了解何时以及如何创建自定义 Hooks，你将能够以可扩展的方式重构和维护你的应用程序。

*第十三章*，*从 React 类组件迁移*，提供了一篇关于如何有效地将现有应用程序从 React 类组件迁移到 React Hooks 的指南。

# 为了充分利用这本书

应该已经安装了相当新版本的 Node.js。Node 包管理器（npm）也需要安装（它应该随 Node.js 一起提供）。有关如何安装 Node.js 的更多信息，请访问他们的官方网站：[`nodejs.org/`](https://nodejs.org/)。

我们将在本书的指南中使用**Visual Studio Code**（**VS Code**），但任何其他编辑器都应该以类似的方式工作。有关如何安装 VS Code 的更多信息，请参阅他们的官方网站：[`code.visualstudio.com`](https://code.visualstudio.com)。

在这本书中，我们使用以下版本：

+   Node.js v22.14.0

+   npm v10.9.2

+   VS Code v1.97.2

上列版本是本书中使用的版本。虽然安装较新版本不应有问题，但请注意，某些步骤在较新版本上可能有所不同。如果您在使用本书提供的代码和步骤时遇到问题，请尝试使用提到的版本。

如果您使用的是本书的数字版，我们建议您亲自输入代码或从本书的 GitHub 仓库（下一节中提供链接）获取代码。这样做将帮助您避免与代码复制粘贴相关的任何潜在错误。

## 下载示例代码文件

本书代码包托管在 GitHub 上，网址为[`github.com/PacktPublishing/Learn-React-Hooks-Second-Edition/`](https://github.com/PacktPublishing/Learn-React-Hooks-Second-Edition/)。我们还有其他来自我们丰富图书和视频目录的代码包，可在[`github.com/PacktPublishing`](https://github.com/PacktPublishing)找到。查看它们吧！

## 下载彩色图像

我们还提供了一份包含本书中使用的截图/图表彩色图像的 PDF 文件。您可以从这里下载：[`packt.link/gbp/9781836209171`](https://packt.link/gbp/9781836209171)。

## 使用的约定

本书使用了多种文本约定。

`CodeInText`: 表示文本中的代码词汇、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。例如：“然后，我们定义`componentDidMount`生命周期方法，从 API 中获取数据。”

代码块设置如下：

```js
fetchData() {
  fetch(`http://my.api/${this.props.name}`)
    .then(...)
} 
```

当我们希望您注意代码块中的特定部分时，相关的行或项目将以粗体显示：

```js
componentDidMount() {
**this****.****fetchData****()**
}
componentDidUpdate(prevProps) {
  if (this.props.name !== prevProps.name) {
**this****.****fetchData****()**
  }
} 
```

任何命令行输入或输出都应如下编写：

```js
$ npm create vite@6.2.0 . 
```

**粗体**: 表示新术语、重要词汇或屏幕上看到的词汇。例如，菜单或对话框中的文字会像这样显示。例如：“应该打开一个侧边栏，您可以在顶部看到**市场中的搜索扩展**。在此处输入扩展名，然后点击**安装**来安装它。”

警告或重要提示看起来像这样。

提示和技巧看起来像这样。

# 联系我们

欢迎读者反馈。

**一般反馈**: 请通过电子邮件发送至`feedback@packtpub.com`，并在邮件主题中提及本书的标题。如果您对本书的任何方面有疑问，请通过电子邮件发送至`questions@packtpub.com`。

**勘误**: 尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果您在这本书中发现了错误，如果您能向我们报告，我们将不胜感激。请访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，点击**提交勘误**，并填写表格。

**盗版**：如果您在互联网上以任何形式发现我们作品的非法副本，如果您能提供位置地址或网站名称，我们将不胜感激。请通过`copyright@packtpub.com`与我们联系，并提供材料的链接。

**如果您有兴趣成为作者**：如果您在某个领域有专业知识，并且您有兴趣撰写或为书籍做出贡献，请访问[`authors.packtpub.com/`](http://authors.packtpub.com/)。

# 分享您的想法

一旦您阅读了《Learn React Hooks》第二版，我们非常乐意听到您的想法！请点击此处直接进入此书的亚马逊评论页面并分享您的反馈。

您的评论对我们和科技社区非常重要，并将帮助我们确保我们提供高质量的内容。

# 下载此书的免费 PDF 副本

感谢您购买此书！

您喜欢在路上阅读，但又无法随身携带您的印刷书籍吗？

您的电子书购买是否与您选择的设备不兼容？

别担心，现在，您每购买一本 Packt 书籍，都可以免费获得该书的 DRM 免费 PDF 版本。

在任何地方、任何设备上阅读。直接从您最喜欢的技术书籍中搜索、复制和粘贴代码到您的应用程序中。

优惠远不止于此，您还可以获得独家折扣、时事通讯和每日免费内容的每日电子邮件。

按照以下简单步骤获取优惠：

1.  扫描下面的二维码或访问以下链接：

![`packt.link/free-ebook/9781836209171`](img/B31327_Free_PDF_QR.png)

`packt.link/free-ebook/9781836209171`

1.  提交您的购买证明。

1.  就这些了！我们将直接将您的免费 PDF 和其他优惠发送到您的电子邮件。
