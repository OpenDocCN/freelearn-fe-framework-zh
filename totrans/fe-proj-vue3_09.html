<html><head></head><body>
<div id="_idContainer282">
<h1 class="chapter-number" id="_idParaDest-208"><a id="_idTextAnchor407"/><span class="koboSpan" id="kobo.1.1">9</span></h1>
<h1 id="_idParaDest-209"><a id="_idTextAnchor408"/><span class="koboSpan" id="kobo.2.1">The State of Vue State Management</span></h1>
<p><span class="koboSpan" id="kobo.3.1">You’ve now seen how to build Vue.js applications and have begun to string together multiple different components into your first set of real applications. </span><span class="koboSpan" id="kobo.3.2">As the size of your application grows, so does the complexity. </span><span class="koboSpan" id="kobo.3.3">In this chapter, it’s time to take a look at how you can begin managing that complexity by integrating </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.4.1">state management</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.5.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.6.1">Here, you’ll begin by taking a look at how problems with states arise, how state management can help address it, and what features Vue.js 3 has to help you deal with it directly. </span><span class="koboSpan" id="kobo.6.2">You’ll learn this while building a simple </span><em class="italic"><span class="koboSpan" id="kobo.7.1">profile card</span></em><span class="koboSpan" id="kobo.8.1"> application that uses multiple components between which the state needs to be synchronized. </span><span class="koboSpan" id="kobo.8.2">The next chapter will introduce a tool to further help with this, </span><span class="No-Break"><span class="koboSpan" id="kobo.9.1">called </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.10.1">Pinia</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.11.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.12.1">So, in this chapter, we will cover the </span><span class="No-Break"><span class="koboSpan" id="kobo.13.1">following topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.14.1">Understanding the component architecture and the problem of </span><span class="No-Break"><span class="koboSpan" id="kobo.15.1">the state</span></span></li>
<li><span class="koboSpan" id="kobo.16.1">Holding the state in a common </span><span class="No-Break"><span class="koboSpan" id="kobo.17.1">ancestor component</span></span></li>
<li><span class="koboSpan" id="kobo.18.1">Adding simple </span><span class="No-Break"><span class="koboSpan" id="kobo.19.1">state management</span></span></li>
<li><span class="koboSpan" id="kobo.20.1">Deciding when to use a local state or </span><span class="No-Break"><span class="koboSpan" id="kobo.21.1">global state</span></span></li>
</ul>
<h1 id="_idParaDest-210"><a id="_idTextAnchor409"/><span class="koboSpan" id="kobo.22.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.23.1">There are no technical requirements for this chapter outside of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.24.1">npm</span></strong><span class="koboSpan" id="kobo.25.1"> CLI you have previously used to scaffold applications </span><span class="No-Break"><span class="koboSpan" id="kobo.26.1">with Vue.js.</span></span></p>
<p><span class="koboSpan" id="kobo.27.1">You can find this chapter’s source </span><span class="No-Break"><span class="koboSpan" id="kobo.28.1">here: </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter09"><span class="No-Break"><span class="koboSpan" id="kobo.29.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter09</span></span></a></p>
<h1 id="_idParaDest-211"><a id="_idTextAnchor410"/><span class="koboSpan" id="kobo.30.1">Understanding the component architecture and the problem of the state</span></h1>
<p><span class="koboSpan" id="kobo.31.1">In previous chapters, we have seen how to use a local state and </span><strong class="source-inline"><span class="koboSpan" id="kobo.32.1">props</span></strong><span class="koboSpan" id="kobo.33.1"> to hold the state and share it in a parent-child </span><span class="No-Break"><span class="koboSpan" id="kobo.34.1">component hierarchy.</span></span></p>
<p><span class="koboSpan" id="kobo.35.1">Now, we will begin by showing how to leverage </span><strong class="source-inline"><span class="koboSpan" id="kobo.36.1">state</span></strong><span class="koboSpan" id="kobo.37.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.38.1">props</span></strong><span class="koboSpan" id="kobo.39.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.40.1">events</span></strong><span class="koboSpan" id="kobo.41.1"> to share states between </span><a id="_idIndexMarker1069"/><span class="koboSpan" id="kobo.42.1">components that do not have a </span><strong class="bold"><span class="koboSpan" id="kobo.43.1">parent-child</span></strong><span class="koboSpan" id="kobo.44.1"> configuration. </span><span class="koboSpan" id="kobo.44.2">These types of </span><a id="_idIndexMarker1070"/><span class="koboSpan" id="kobo.45.1">components are </span><span class="No-Break"><span class="koboSpan" id="kobo.46.1">called </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.47.1">siblings</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.48.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer262">
<span class="koboSpan" id="kobo.49.1"><img alt="Figure 9.1 – Child 1 and Child 2 are “sibling” components" src="image/Figure_9.01_B18645.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.50.1">Figure 9.1 – Child 1 and Child 2 are “sibling” components</span></p>
<p><span class="koboSpan" id="kobo.51.1">Throughout the chapter, we will be building a </span><strong class="bold"><span class="koboSpan" id="kobo.52.1">profile card generator</span></strong><span class="koboSpan" id="kobo.53.1"> app that demonstrates how the state flows down the component tree as props in an application, and how updates are propagated as backup using events, event buses, and </span><span class="No-Break"><span class="koboSpan" id="kobo.54.1">store updates.</span></span></p>
<p><span class="koboSpan" id="kobo.55.1">Given that we want to build a profile card generator, we can break the application down into three sections: a </span><em class="italic"><span class="koboSpan" id="kobo.56.1">header</span></em><span class="koboSpan" id="kobo.57.1">, where we will have global controls and display the title of the page; a </span><em class="italic"><span class="koboSpan" id="kobo.58.1">profile form</span></em><span class="koboSpan" id="kobo.59.1">, where we will capture data; and finally, a </span><em class="italic"><span class="koboSpan" id="kobo.60.1">profile display</span></em><span class="koboSpan" id="kobo.61.1">, where we will display the profile card. </span><span class="koboSpan" id="kobo.61.2">In </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.62.1">Figure 9</span></em></span><em class="italic"><span class="koboSpan" id="kobo.63.1">.2</span></em><span class="koboSpan" id="kobo.64.1">, you can see our root component (</span><strong class="bold"><span class="koboSpan" id="kobo.65.1">App (root)</span></strong><span class="koboSpan" id="kobo.66.1">), as well as three sibling </span><span class="No-Break"><span class="koboSpan" id="kobo.67.1">child components.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer263">
<span class="koboSpan" id="kobo.68.1"><img alt="Figure 9.2 – Representation of a profile card application component tree" src="image/Figure_9.02_B18645.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.69.1">Figure 9.2 – Representation of a profile card application component tree</span></p>
<p><span class="koboSpan" id="kobo.70.1">We have now seen how to think of our application as a component tree and how our application can be structured as a component tree. </span><span class="koboSpan" id="kobo.70.2">In the next section, we’ll demonstrate putting all of the shared states in the </span><span class="No-Break"><span class="koboSpan" id="kobo.71.1">root component.</span></span></p>
<h1 id="_idParaDest-212"><a id="_idTextAnchor411"/><span class="koboSpan" id="kobo.72.1">Holding the state in a common ancestor component</span></h1>
<p><span class="koboSpan" id="kobo.73.1">To only hold the state with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.74.1">state</span></strong><span class="koboSpan" id="kobo.75.1"> component and </span><strong class="source-inline"><span class="koboSpan" id="kobo.76.1">props</span></strong><span class="koboSpan" id="kobo.77.1">, and update it with </span><strong class="source-inline"><span class="koboSpan" id="kobo.78.1">events</span></strong><span class="koboSpan" id="kobo.79.1">, we will store it in the nearest common </span><span class="No-Break"><span class="koboSpan" id="kobo.80.1">ancestor component.</span></span></p>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.81.1">state</span></strong><span class="koboSpan" id="kobo.82.1"> is only propagated through </span><strong class="source-inline"><span class="koboSpan" id="kobo.83.1">props</span></strong><span class="koboSpan" id="kobo.84.1"> and is only updated through </span><strong class="source-inline"><span class="koboSpan" id="kobo.85.1">events</span></strong><span class="koboSpan" id="kobo.86.1">. </span><span class="koboSpan" id="kobo.86.2">In this case, all the </span><strong class="source-inline"><span class="koboSpan" id="kobo.87.1">state</span></strong><span class="koboSpan" id="kobo.88.1"> components</span><a id="_idIndexMarker1071"/><span class="koboSpan" id="kobo.89.1"> will live in a shared ancestor of the components that require them. </span><span class="koboSpan" id="kobo.89.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.90.1">App</span></strong><span class="koboSpan" id="kobo.91.1"> component, since it is the root component, is a good default for holding a </span><span class="No-Break"><span class="koboSpan" id="kobo.92.1">shared state.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer264">
<span class="koboSpan" id="kobo.93.1"><img alt="Figure 9.3 – Common ancestor component holds state with props and event propagation" src="image/Figure_9.03_B18645.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.94.1">Figure 9.3 – Common ancestor component holds state with props and event propagation</span></p>
<p><span class="koboSpan" id="kobo.95.1">To change </span><strong class="source-inline"><span class="koboSpan" id="kobo.96.1">state</span></strong><span class="koboSpan" id="kobo.97.1">, a component needs to emit </span><strong class="source-inline"><span class="koboSpan" id="kobo.98.1">events</span></strong><span class="koboSpan" id="kobo.99.1"> up to the component holding our </span><strong class="source-inline"><span class="koboSpan" id="kobo.100.1">state</span></strong><span class="koboSpan" id="kobo.101.1"> (the shared ancestor). </span><span class="koboSpan" id="kobo.101.2">The shared ancestor needs to update </span><strong class="source-inline"><span class="koboSpan" id="kobo.102.1">state</span></strong><span class="koboSpan" id="kobo.103.1"> according to the data and type of </span><strong class="source-inline"><span class="koboSpan" id="kobo.104.1">events</span></strong><span class="koboSpan" id="kobo.105.1">. </span><span class="koboSpan" id="kobo.105.2">This, in turn, causes a re-render, during which the ancestor component </span><a id="_idIndexMarker1072"/><span class="koboSpan" id="kobo.106.1">passes the updated </span><strong class="source-inline"><span class="koboSpan" id="kobo.107.1">props</span></strong><span class="koboSpan" id="kobo.108.1"> to the component </span><span class="No-Break"><span class="koboSpan" id="kobo.109.1">reading </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.110.1">state</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.111.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer265">
<span class="koboSpan" id="kobo.112.1"><img alt="Figure 9.4 – Updating a sibling component when the ancestor holds state" src="image/Figure_9.04_B18645.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.113.1">Figure 9.4 – Updating a sibling component when the ancestor holds state</span></p>
<p><span class="koboSpan" id="kobo.114.1">Let’s look at an example of this by working on a </span><em class="italic"><span class="koboSpan" id="kobo.115.1">profile card editor</span></em><span class="koboSpan" id="kobo.116.1">. </span><span class="koboSpan" id="kobo.116.2">To build a header, we need to create an </span><strong class="source-inline"><span class="koboSpan" id="kobo.117.1">AppHeader</span></strong><span class="koboSpan" id="kobo.118.1"> component in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.119.1">AppHeader.vue</span></strong><span class="koboSpan" id="kobo.120.1"> file, which will contain a template and an </span><strong class="source-inline"><span class="koboSpan" id="kobo.121.1">h2</span></strong><span class="koboSpan" id="kobo.122.1"> heading with </span><span class="No-Break"><span class="koboSpan" id="kobo.123.1">TailwindCSS classes.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.124.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.125.1">You can learn more about using Tailwind CSS with Vue3 </span><span class="No-Break"><span class="koboSpan" id="kobo.126.1">here: </span></span><a href="https://tailwindcss.com/docs/guides/vite"><span class="No-Break"><span class="koboSpan" id="kobo.127.1">https://tailwindcss.com/docs/guides/vite</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.128.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.129.1">To do this, add the </span><span class="No-Break"><span class="koboSpan" id="kobo.130.1">following code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.131.1">
&lt;template&gt;
  &lt;header class="w-full block p-4 border-b bg-blue-300
    border-gray-700"&gt;
    &lt;h2 class="text-xl text-gray-800"&gt;Profile Card
      Generator&lt;/h2&gt;
  &lt;/header&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.132.1">We will then import</span><a id="_idIndexMarker1073"/><span class="koboSpan" id="kobo.133.1"> the header, register it, and render it in the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.134.1">App.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.135.1"> file:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.136.1">
&lt;script setup&gt;
import AppHeader from '@/components/AppHeader.vue'
&lt;/script&gt;
&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;AppHeader/&gt;
  &lt;/div&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.137.1">The output of the preceding code will be </span><span class="No-Break"><span class="koboSpan" id="kobo.138.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer266">
<span class="koboSpan" id="kobo.139.1"><img alt="Figure 9.5 – AppHeader displayed in the profile card generator" src="image/Figure_9.05_B18645.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.140.1">Figure 9.5 – AppHeader displayed in the profile card generator</span></p>
<p><span class="koboSpan" id="kobo.141.1">We will similarly create an </span><strong class="source-inline"><span class="koboSpan" id="kobo.142.1">AppProfileForm</span></strong><span class="koboSpan" id="kobo.143.1"> file; the purpose of this component is to lay out the labels and form</span><a id="_idIndexMarker1074"/><span class="koboSpan" id="kobo.144.1"> fields for editing </span><span class="No-Break"><span class="koboSpan" id="kobo.145.1">the profile:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.146.1">
&lt;template&gt;
  &lt;section class="md:w-2/3 flex flex-col p-12 items-center
    bg-red-200"&gt;
  &lt;!-- Inputs --&gt;
  &lt;/section&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.147.1">We will then create an </span><strong class="source-inline"><span class="koboSpan" id="kobo.148.1">AppProfileDisplay</span></strong><span class="koboSpan" id="kobo.149.1"> file; this component handles displaying the profile so the user can preview </span><span class="No-Break"><span class="koboSpan" id="kobo.150.1">their edits:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.151.1">
&lt;template&gt;
  &lt;section class="md:w-1/3 h-64 bg-blue-200 flex"&gt;
  &lt;!-- Profile Card --&gt;
  &lt;/section&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.152.1">Both of our containers (</span><strong class="source-inline"><span class="koboSpan" id="kobo.153.1">AppProfileForm</span></strong><span class="koboSpan" id="kobo.154.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.155.1">AppProfileDisplay</span></strong><span class="koboSpan" id="kobo.156.1">) can now be imported and rendered </span><span class="No-Break"><span class="koboSpan" id="kobo.157.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.158.1">App</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.159.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.160.1">
&lt;script setup&gt;
import AppHeader from '@/components/AppHeader.vue'
import AppProfileDisplay from '@/components/AppProfileDisplay.vue'
import AppProfileForm from '@/components/AppProfileForm.vue'
&lt;/script&gt;
&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;AppHeader/&gt;
    &lt;div class="flex flex-col md:flex-row"&gt;
      &lt;AppProfileForm /&gt;
      &lt;AppProfileDisplay /&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.161.1">The output of the preceding </span><a id="_idIndexMarker1075"/><span class="koboSpan" id="kobo.162.1">code will be </span><span class="No-Break"><span class="koboSpan" id="kobo.163.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer267">
<span class="koboSpan" id="kobo.164.1"><img alt="Figure 9.6 – App skeleton with AppHeader, AppProfileForm, and AppProfileDisplay" src="image/Figure_9.06_B18645.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.165.1">Figure 9.6 – App skeleton with AppHeader, AppProfileForm, and AppProfileDisplay</span></p>
<p><span class="koboSpan" id="kobo.166.1">To add a form field, in this case, </span><strong class="source-inline"><span class="koboSpan" id="kobo.167.1">name</span></strong><span class="koboSpan" id="kobo.168.1">, we will start by adding an input </span><span class="No-Break"><span class="koboSpan" id="kobo.169.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.170.1">AppProfileForm</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.171.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.172.1">
&lt;template&gt;
  &lt;section class="md:w-2/3 h-64 bg-red-200 flex flex-col
    p-12 items-center"&gt;
    &lt;!-- Inputs --&gt;
    &lt;div class="flex flex-col"&gt;
      &lt;label class="flex text-gray-800 mb-2" for="name"&gt;
        Name
      &lt;/label&gt;
      &lt;input
        id="name"
        type="text"
        name="name"
        class="border-2 border-solid border-blue-200
          rounded px-2 py-1"
      /&gt;
    &lt;/div&gt;
  &lt;/section&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.173.1">The preceding code will </span><a id="_idIndexMarker1076"/><span class="koboSpan" id="kobo.174.1">display </span><span class="No-Break"><span class="koboSpan" id="kobo.175.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer268">
<span class="koboSpan" id="kobo.176.1"><img alt="Figure 9.7 – AppProfileForm with a name field and label" src="image/Figure_9.07_B18645.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.177.1">Figure 9.7 – AppProfileForm with a name field and label</span></p>
<p><span class="koboSpan" id="kobo.178.1">To keep track of the name input data, we will add a two-way binding to it using </span><strong class="source-inline"><span class="koboSpan" id="kobo.179.1">v-model</span></strong><span class="koboSpan" id="kobo.180.1"> and set a </span><strong class="source-inline"><span class="koboSpan" id="kobo.181.1">name</span></strong><span class="koboSpan" id="kobo.182.1"> property in the component’s </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.183.1">data</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.184.1"> initializer:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.185.1">
&lt;template&gt;
      &lt;!-- rest of the template --&gt;
      &lt;input
        id="name"
        type="text"
        name="name"
        class="border-2 border-solid border-blue-200
          rounded px-2 py-1" v-model="name"
      /&gt;
      &lt;!-- rest of the template --&gt;
&lt;/template&gt;
&lt;script setup&gt;
import { ref } from 'vue'
const emit = defineEmits(['submit'])
const name = ref('');
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.186.1">We will also need a </span><strong class="source-inline"><span class="koboSpan" id="kobo.187.1">submit</span></strong><span class="koboSpan" id="kobo.188.1"> button</span><a id="_idIndexMarker1077"/><span class="koboSpan" id="kobo.189.1"> that, upon being clicked, sends the form data to the parent by emitting a </span><strong class="source-inline"><span class="koboSpan" id="kobo.190.1">submit</span></strong><span class="koboSpan" id="kobo.191.1"> event with the </span><span class="No-Break"><span class="koboSpan" id="kobo.192.1">form’s contents:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.193.1">
&lt;template&gt;
    &lt;!-- rest of template --&gt;
    &lt;div class="flex flex-row mt-12"&gt;
      &lt;button type="submit" @click="submitForm()"&gt;Submit
      &lt;/button&gt;
    &lt;/div&gt;
    &lt;!-- rest of template --&gt;
&lt;/template&gt;
&lt;script setup&gt;
import { ref } from 'vue'
const emit = defineEmits(['submit'])
const name = ref('');
function submitForm() {
  emit('submit', {
    name: this.name
  });
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.194.1">This will display </span><span class="No-Break"><span class="koboSpan" id="kobo.195.1">as</span></span><span class="No-Break"><a id="_idIndexMarker1078"/></span><span class="No-Break"><span class="koboSpan" id="kobo.196.1"> follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer269">
<span class="koboSpan" id="kobo.197.1"><img alt="Figure 9.8 – AppProfileForm with a wired-up Submit button" src="image/Figure_9.08_B18645.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.198.1">Figure 9.8 – AppProfileForm with a wired-up Submit button</span></p>
<p><span class="koboSpan" id="kobo.199.1">The next step is to store the form’s state in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.200.1">App</span></strong><span class="koboSpan" id="kobo.201.1"> component. </span><span class="koboSpan" id="kobo.201.2">It is a good candidate for storing form state since it is a common ancestor to </span><strong class="source-inline"><span class="koboSpan" id="kobo.202.1">AppProfileForm</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.203.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.204.1">AppProfileDisplay</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.205.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.206.1">To begin with, we will need a </span><strong class="source-inline"><span class="koboSpan" id="kobo.207.1">formData</span></strong><span class="koboSpan" id="kobo.208.1"> attribute returned from </span><strong class="source-inline"><span class="koboSpan" id="kobo.209.1">reactive()</span></strong><span class="koboSpan" id="kobo.210.1">. </span><span class="koboSpan" id="kobo.210.2">We will also need a way to update </span><strong class="source-inline"><span class="koboSpan" id="kobo.211.1">formData</span></strong><span class="koboSpan" id="kobo.212.1">. </span><span class="koboSpan" id="kobo.212.2">Hence, we will add an </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.213.1">update(formData)</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.214.1"> method:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.215.1">
&lt;script setup&gt;
import AppHeader from '@/components/AppHeader.vue'
import AppProfileDisplay from '@/components/AppProfileDisplay.vue'
import AppProfileForm from '@/components/AppProfileForm.vue'
import { reactive } from 'vue'
const formData = reactive({name:''});
function update€ {
  formData.name = e.name;
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.216.1">Next, we need to bind </span><strong class="source-inline"><span class="koboSpan" id="kobo.217.1">update()</span></strong><span class="koboSpan" id="kobo.218.1"> to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.219.1">submit</span></strong><span class="koboSpan" id="kobo.220.1"> event emitted by </span><strong class="source-inline"><span class="koboSpan" id="kobo.221.1">AppProfileForm</span></strong><span class="koboSpan" id="kobo.222.1">. </span><span class="koboSpan" id="kobo.222.2">We</span><a id="_idIndexMarker1079"/><span class="koboSpan" id="kobo.223.1"> will do this using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.224.1">@submit</span></strong><span class="koboSpan" id="kobo.225.1"> shorthand and with the magic event object notation </span><span class="No-Break"><span class="koboSpan" id="kobo.226.1">as </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.227.1">update($event)</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.228.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.229.1">
&lt;template&gt;
    &lt;!-- rest of template --&gt;
      &lt;AppProfileForm @submit="update($event)" /&gt;
   &lt;!--rest of template --&gt; 
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.230.1">To display the name inside of </span><strong class="source-inline"><span class="koboSpan" id="kobo.231.1">AppProfileDisplay</span></strong><span class="koboSpan" id="kobo.232.1">, we will need to add </span><strong class="source-inline"><span class="koboSpan" id="kobo.233.1">formData</span></strong><span class="koboSpan" id="kobo.234.1"> as </span><span class="No-Break"><span class="koboSpan" id="kobo.235.1">a prop:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.236.1">
&lt;script setup&gt;
const props = defineProps({formData:Object});
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.237.1">We will also need to display the name using </span><strong class="source-inline"><span class="koboSpan" id="kobo.238.1">formData.name</span></strong><span class="koboSpan" id="kobo.239.1">. </span><span class="koboSpan" id="kobo.239.2">We will add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.240.1">p-12</span></strong><span class="koboSpan" id="kobo.241.1"> class to the container to</span><a id="_idIndexMarker1080"/><span class="koboSpan" id="kobo.242.1"> improve the appearance of </span><span class="No-Break"><span class="koboSpan" id="kobo.243.1">the component:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.244.1">
&lt;template&gt;
  &lt;section class="md:w-1/3 h-64 bg-blue-200 flex p-12"&gt;
   —-- Profile Card --&gt;
    &lt;h3 class="font-bold font-lg"&gt;{{ formData.name }}&lt;/h3&gt;
  &lt;/section&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.245.1">Finally, </span><strong class="source-inline"><span class="koboSpan" id="kobo.246.1">App</span></strong><span class="koboSpan" id="kobo.247.1"> needs to pass </span><strong class="source-inline"><span class="koboSpan" id="kobo.248.1">formData</span></strong><span class="koboSpan" id="kobo.249.1"> to </span><strong class="source-inline"><span class="koboSpan" id="kobo.250.1">AppProfileDisplay</span></strong><span class="koboSpan" id="kobo.251.1"> as </span><span class="No-Break"><span class="koboSpan" id="kobo.252.1">a prop:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.253.1">
&lt;template&gt;
   &lt;!-- rest of template --&gt;
      &lt;AppProfileDisplay :form-data="formData" /&gt;
   &lt;!-- rest of template --&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.254.1">We are now able to update the name on the form. </span><span class="koboSpan" id="kobo.254.2">When you click on the </span><strong class="bold"><span class="koboSpan" id="kobo.255.1">Submit</span></strong><span class="koboSpan" id="kobo.256.1"> button, it will show the name in the profile card display </span><span class="No-Break"><span class="koboSpan" id="kobo.257.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer270">
<span class="koboSpan" id="kobo.258.1"><img alt="Figure 9.9 – App storing state, passing as props to AppProfileDisplay" src="image/Figure_9.09_B18645.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.259.1">Figure 9.9 – App storing state, passing as props to AppProfileDisplay</span></p>
<p><span class="koboSpan" id="kobo.260.1">We have now seen how to store a shared state in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.261.1">App</span></strong><span class="koboSpan" id="kobo.262.1"> component and how to update it from </span><strong class="source-inline"><span class="koboSpan" id="kobo.263.1">AppProfileForm</span></strong><span class="koboSpan" id="kobo.264.1"> and display it </span><span class="No-Break"><span class="koboSpan" id="kobo.265.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.266.1">AppProfileDisplay</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.267.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.268.1">In the next topic, we will see how to add </span><a id="_idIndexMarker1081"/><span class="koboSpan" id="kobo.269.1">an additional field to the profile </span><span class="No-Break"><span class="koboSpan" id="kobo.270.1">card genera</span><a id="_idTextAnchor412"/><span class="koboSpan" id="kobo.271.1">tor.</span></span></p>
<h2 id="_idParaDest-213"><a id="_idTextAnchor413"/><span class="koboSpan" id="kobo.272.1">Exercise 9.01 – adding an occupation field to the profile card generator</span></h2>
<p><span class="koboSpan" id="kobo.273.1">Following on from the example of storing the </span><strong class="source-inline"><span class="koboSpan" id="kobo.274.1">name</span></strong><span class="koboSpan" id="kobo.275.1"> shared state, another field that would be interesting to capture</span><a id="_idIndexMarker1082"/><span class="koboSpan" id="kobo.276.1"> in a profile card is the occupation of the individual. </span><span class="koboSpan" id="kobo.276.2">To this end, we will add an </span><strong class="source-inline"><span class="koboSpan" id="kobo.277.1">occupation</span></strong><span class="koboSpan" id="kobo.278.1"> field to </span><strong class="source-inline"><span class="koboSpan" id="kobo.279.1">AppProfileForm</span></strong><span class="koboSpan" id="kobo.280.1"> to capture this extra part of the state, and we’ll display it </span><span class="No-Break"><span class="koboSpan" id="kobo.281.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.282.1">AppProfileDisplay</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.283.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.284.1">The complete code for this exercise can be found </span><span class="No-Break"><span class="koboSpan" id="kobo.285.1">at </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter09/Exercise9.01"><span class="No-Break"><span class="koboSpan" id="kobo.286.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter09/Exercise9.01</span></span></a></p>
<p><span class="koboSpan" id="kobo.287.1">Follow these steps in order to add </span><span class="No-Break"><span class="koboSpan" id="kobo.288.1">the field:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.289.1">The first place to start is by adding the new </span><strong class="source-inline"><span class="koboSpan" id="kobo.290.1">occupation</span></strong><span class="koboSpan" id="kobo.291.1"> field to </span><strong class="source-inline"><span class="koboSpan" id="kobo.292.1">src/components/AppProfileForm</span></strong><span class="koboSpan" id="kobo.293.1">. </span><span class="koboSpan" id="kobo.293.2">We’ll also take this opportunity to get rid of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.294.1">h-64</span></strong><span class="koboSpan" id="kobo.295.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.296.1">bg-red-200</span></strong><span class="koboSpan" id="kobo.297.1"> classes from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.298.1">section</span></strong><span class="koboSpan" id="kobo.299.1"> element (if they’re present), which will mean the form is displayed without a background and a </span><span class="No-Break"><span class="koboSpan" id="kobo.300.1">set height:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.301.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.302.1">
  &lt;section class="md:w-2/3 flex flex-col p-12</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.303.1">
    items-center"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.304.1">
   &lt;!-- rest of template --&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.305.1">
    &lt;div class="flex flex-col mt-2"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.306.1">
      &lt;label class="flex text-gray-800 mb-2"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.307.1">
        for="occupation"&gt;Occupation&lt;/label&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.308.1">
      &lt;input</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.309.1">
        id="occupation"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.310.1">
        type="text"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.311.1">
        name="occupation"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.312.1">
        class="border-2 border-solid border-blue-200</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.313.1">
          rounded px-2 py-1"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.314.1">
      /&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.315.1">
    &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.316.1">
   &lt;!-- rest of template --&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.317.1">
  &lt;/section&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.318.1">
&lt;/template&gt;</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.319.1">The output of the </span><a id="_idIndexMarker1083"/><span class="koboSpan" id="kobo.320.1">preceding code will be </span><span class="No-Break"><span class="koboSpan" id="kobo.321.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer271">
<span class="koboSpan" id="kobo.322.1"><img alt="Figure 9.10 – AppProfileForm with the new Occupation field" src="image/Figure_9.10_B18645.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.323.1">Figure 9.10 – AppProfileForm with the new Occupation field</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.324.1">To track the value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.325.1">occupation</span></strong><span class="koboSpan" id="kobo.326.1"> with a two-way data binding, we will add a new instance of the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.327.1">ref()</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.328.1"> function:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.329.1">
&lt;script setup&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.330.1">
// rest of component</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.331.1">
const occupation = ref('');</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.332.1">
// rest of component</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.333.1">
}</span></pre></li>
<li><span class="koboSpan" id="kobo.334.1">We will now apply a two-way data binding from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.335.1">occupation</span></strong><span class="koboSpan" id="kobo.336.1"> reactive data property</span><a id="_idIndexMarker1084"/><span class="koboSpan" id="kobo.337.1"> to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.338.1">occupation</span></strong><span class="koboSpan" id="kobo.339.1"> input </span><span class="No-Break"><span class="koboSpan" id="kobo.340.1">using </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.341.1">v-model</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.342.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.343.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.344.1">
  &lt;!—rest of template --&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.345.1">
      &lt;input</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.346.1">
        id="occupation"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.347.1">
        type="text"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.348.1">
        name="occupation"</span></pre><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.349.1">        v-model="occupation"</span></strong></pre><pre class="source-code"><span class="koboSpan" id="kobo.350.1">
        class="border-2 border-solid border-blue-200</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.351.1">
          rounded px-2 py-1"/&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.352.1">
 &lt;!-- rest of template --&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.353.1">
&lt;/template&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.354.1">For the </span><strong class="source-inline"><span class="koboSpan" id="kobo.355.1">occupation</span></strong><span class="koboSpan" id="kobo.356.1"> value to be transmitted when </span><strong class="source-inline"><span class="koboSpan" id="kobo.357.1">submit</span></strong><span class="koboSpan" id="kobo.358.1"> is clicked, we will need to add it to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.359.1">submitForm</span></strong><span class="koboSpan" id="kobo.360.1"> method as a property of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.361.1">submit</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.362.1">event payload:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.363.1">
&lt;script setup&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.364.1">
import { ref } from 'vue'</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.365.1">
const emit = defineEmits(['submit'])</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.366.1">
const name = ref('');</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.367.1">
const occupation = ref('');</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.368.1">
function submitForm() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.369.1">
  emit('submit', {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.370.1">
    name: this.name,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.371.1">
    occupation: this.occupation</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.372.1">
  });</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.373.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.374.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.375.1">The final step of adding</span><a id="_idIndexMarker1085"/><span class="koboSpan" id="kobo.376.1"> this field is to display it in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.377.1">AppProfileDisplay</span></strong><span class="koboSpan" id="kobo.378.1"> component. </span><span class="koboSpan" id="kobo.378.2">We will add a paragraph with a couple of styling classes. </span><span class="koboSpan" id="kobo.378.3">We’ll also take this opportunity to remove the </span><strong class="source-inline"><span class="koboSpan" id="kobo.379.1">h-64</span></strong><span class="koboSpan" id="kobo.380.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.381.1">bg-blue-200</span></strong><span class="koboSpan" id="kobo.382.1"> classes from the container (if they </span><span class="No-Break"><span class="koboSpan" id="kobo.383.1">are present):</span></span><pre class="source-code"><span class="koboSpan" id="kobo.384.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.385.1">
  &lt;section class="md:w-1/3 flex flex-col p-12"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.386.1">
   &lt;!-- rest of template --&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.387.1">
    &lt;p class="mt-2"&gt;{{ formData.occupation }}&lt;/p&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.388.1">
  &lt;/section&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.389.1">
&lt;/template&gt;</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.390.1">Our browser should look </span><span class="No-Break"><span class="koboSpan" id="kobo.391.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer272">
<span class="koboSpan" id="kobo.392.1"><img alt="Figure 9.11 – AppProfileForm" src="image/Figure_9.11_B18645.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.393.1">Figure 9.11 – AppProfileForm</span></p>
<p><span class="koboSpan" id="kobo.394.1">As we have just seen, adding a </span><a id="_idIndexMarker1086"/><span class="koboSpan" id="kobo.395.1">new field using the common ancestor to manage the state is a case of passing the data up in an event and back down in the props to the </span><span class="No-Break"><span class="koboSpan" id="kobo.396.1">reading component.</span></span></p>
<p><span class="koboSpan" id="kobo.397.1">We will now see how we can reset the form and profile display with a </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.398.1">Clear</span></strong></span><span class="No-Break"> <a id="_idTextAnchor414"/><span class="koboSpan" id="kobo.399.1">button.</span></span></p>
<h2 id="_idParaDest-214"><a id="_idTextAnchor415"/><span class="koboSpan" id="kobo.400.1">Exercise 9.02 – adding a Clear button to the profile card generator</span></h2>
<p><span class="koboSpan" id="kobo.401.1">When creating a new profile with our application, it is useful to be able to reset the profile. </span><span class="koboSpan" id="kobo.401.2">To this end, we will</span><a id="_idIndexMarker1087"/><span class="koboSpan" id="kobo.402.1"> add a </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.403.1">Clear</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.404.1"> button.</span></span></p>
<p><span class="koboSpan" id="kobo.405.1">A </span><strong class="bold"><span class="koboSpan" id="kobo.406.1">Clear</span></strong><span class="koboSpan" id="kobo.407.1"> button should</span><a id="_idIndexMarker1088"/><span class="koboSpan" id="kobo.408.1"> reset the data in the form but also in </span><strong class="source-inline"><span class="koboSpan" id="kobo.409.1">AppProfileDisplay</span></strong><span class="koboSpan" id="kobo.410.1">. </span><span class="koboSpan" id="kobo.410.2">The complete code can be found </span><span class="No-Break"><span class="koboSpan" id="kobo.411.1">at </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter09/Exercise9.02"><span class="No-Break"><span class="koboSpan" id="kobo.412.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter09/Exercise9.02</span></span></a></p>
<p><span class="koboSpan" id="kobo.413.1">Now let’s look at the steps to perform </span><span class="No-Break"><span class="koboSpan" id="kobo.414.1">this exercise:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.415.1">We want a </span><strong class="bold"><span class="koboSpan" id="kobo.416.1">Clear</span></strong><span class="koboSpan" id="kobo.417.1"> button to be displayed. </span><span class="koboSpan" id="kobo.417.2">We will take this opportunity to improve the styling of both the </span><strong class="bold"><span class="koboSpan" id="kobo.418.1">Clear</span></strong><span class="koboSpan" id="kobo.419.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.420.1">Submit</span></strong><span class="koboSpan" id="kobo.421.1"> buttons (</span><span class="No-Break"><span class="koboSpan" id="kobo.422.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.423.1">src/components/AppProfileForm.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.424.1">):</span></span><pre class="source-code"><span class="koboSpan" id="kobo.425.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.426.1">
 &lt;!-- rest of template --&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.427.1">
    &lt;div class="w-1/2 flex md:flex-row mt-12"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.428.1">
      &lt;button</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.429.1">
        class="flex md:w-1/2 justify-center"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.430.1">
        type="button"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.431.1">
      &gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.432.1">
        Clear</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.433.1">
      &lt;/button&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.434.1">
      &lt;button</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.435.1">
        class="flex md:w-1/2 justify-center"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.436.1">
        type="submit"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.437.1">
        @click="submitForm()"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.438.1">
        Submit</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.439.1">
      &lt;/button&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.440.1">
    &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.441.1">
 &lt;!-- rest of template --&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.442.1">
&lt;/template&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.443.1">To clear the form, we </span><a id="_idIndexMarker1089"/><span class="koboSpan" id="kobo.444.1">need to reset the </span><strong class="source-inline"><span class="koboSpan" id="kobo.445.1">name</span></strong><span class="koboSpan" id="kobo.446.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.447.1">occupation</span></strong><span class="koboSpan" id="kobo.448.1"> fields. </span><span class="koboSpan" id="kobo.448.2">We</span><a id="_idIndexMarker1090"/><span class="koboSpan" id="kobo.449.1"> can create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.450.1">clear</span></strong><span class="koboSpan" id="kobo.451.1"> method that will do this (</span><span class="No-Break"><span class="koboSpan" id="kobo.452.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.453.1">src/components/AppProfileForm.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.454.1">):</span></span><pre class="source-code"><span class="koboSpan" id="kobo.455.1">
&lt;script setup&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.456.1">
// rest of the component</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.457.1">
function clear() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.458.1">
  this.name = '';</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.459.1">
  this.occupation = '';</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.460.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.461.1">
// rest of the component</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.462.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.463.1">We want to bind the </span><strong class="source-inline"><span class="koboSpan" id="kobo.464.1">clear</span></strong><span class="koboSpan" id="kobo.465.1"> method to </span><strong class="source-inline"><span class="koboSpan" id="kobo.466.1">click</span></strong><span class="koboSpan" id="kobo.467.1"> events on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.468.1">Clear</span></strong><span class="koboSpan" id="kobo.469.1"> button to reset the</span><a id="_idIndexMarker1091"/><span class="koboSpan" id="kobo.470.1"> form (</span><span class="No-Break"><span class="koboSpan" id="kobo.471.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.472.1">src/components/AppProfileForm.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.473.1">):</span></span><pre class="source-code"><span class="koboSpan" id="kobo.474.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.475.1">
 &lt;!-- rest of template --&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.476.1">
      &lt;button</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.477.1">
        class="flex md:w-1/2 justify-center"</span></pre><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.478.1">        type="button"</span></strong></pre><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.479.1">        @click="clear()"</span></strong><span class="koboSpan" id="kobo.480.1">&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.481.1">
        Clear</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.482.1">
      &lt;/button&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.483.1">
 &lt;!-- rest of template --&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.484.1">
&lt;/template&gt;</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.485.1">Thus, we can now enter </span><a id="_idIndexMarker1092"/><span class="koboSpan" id="kobo.486.1">data into the form and submit it as per the </span><span class="No-Break"><span class="koboSpan" id="kobo.487.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer273">
<span class="koboSpan" id="kobo.488.1"><img alt="Figure 9.12 – AppProfileForm with the Name and Occupation fields filled in" src="image/Figure_9.12_B18645.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.489.1">Figure 9.12 – AppProfileForm with the Name and Occupation fields filled in</span></p>
<p><span class="koboSpan" id="kobo.490.1">On clicking the </span><strong class="bold"><span class="koboSpan" id="kobo.491.1">Submit</span></strong><span class="koboSpan" id="kobo.492.1"> button, it will propagate data to </span><strong class="source-inline"><span class="koboSpan" id="kobo.493.1">AppProfileDisplay</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.494.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer274">
<span class="koboSpan" id="kobo.495.1"><img alt="Figure 9.13 – AppProfileForm and AppProfileDisplay with data filled in  and submitted with a Clear button" src="image/Figure_9.13_B18645.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.496.1">Figure 9.13 – AppProfileForm and AppProfileDisplay with data filled in and submitted with a Clear button</span></p>
<p><span class="koboSpan" id="kobo.497.1">Unfortunately, </span><strong class="source-inline"><span class="koboSpan" id="kobo.498.1">AppProfileDisplay</span></strong><span class="koboSpan" id="kobo.499.1"> still has stale data, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.500.1">following </span></span><span class="No-Break"><a id="_idIndexMarker1093"/></span><span class="No-Break"><span class="koboSpan" id="kobo.501.1">screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer275">
<span class="koboSpan" id="kobo.502.1"><img alt="Figure 9.14 – AppProfileForm and AppProfileDisplay with only AppProfileForm cleared while AppProfileDisplay still has stale data" src="image/Figure_9.14_B18645.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.503.1">Figure 9.14 – AppProfileForm and AppProfileDisplay with only AppProfileForm cleared while AppProfileDisplay still has stale data</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.504.1">To also clear the</span><a id="_idIndexMarker1094"/><span class="koboSpan" id="kobo.505.1"> contents of </span><strong class="source-inline"><span class="koboSpan" id="kobo.506.1">AppProfileDisplay</span></strong><span class="koboSpan" id="kobo.507.1">, we will need to update </span><strong class="source-inline"><span class="koboSpan" id="kobo.508.1">formData</span></strong><span class="koboSpan" id="kobo.509.1"> in </span><strong class="source-inline"><span class="koboSpan" id="kobo.510.1">App.vue</span></strong><span class="koboSpan" id="kobo.511.1"> by emitting a </span><strong class="source-inline"><span class="koboSpan" id="kobo.512.1">submit</span></strong><span class="koboSpan" id="kobo.513.1"> event with an empty payload </span><span class="No-Break"><span class="koboSpan" id="kobo.514.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.515.1">src/components/AppProfileForm.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.516.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.517.1">
&lt;script setup&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.518.1">
// rest of the component</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.519.1">
function clear() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.520.1">
  this.name = '';</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.521.1">
  this.occupation = '';</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.522.1">
  emit('submit', {});</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.523.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.524.1">
// rest of the component</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.525.1">
&lt;/script&gt;</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.526.1">When we fill out the</span><a id="_idIndexMarker1095"/><span class="koboSpan" id="kobo.527.1"> form and submit it, it will look </span><a id="_idIndexMarker1096"/><span class="No-Break"><span class="koboSpan" id="kobo.528.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer276">
<span class="koboSpan" id="kobo.529.1"><img alt="Figure 9.15 – AppProfileForm and AppProfileDisplay with data filled out and submitted with a Clear button" src="image/Figure_9.15_B18645.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.530.1">Figure 9.15 – AppProfileForm and AppProfileDisplay with data filled out and submitted with a Clear button</span></p>
<p><span class="koboSpan" id="kobo.531.1">We can click on </span><strong class="bold"><span class="koboSpan" id="kobo.532.1">Clear</span></strong><span class="koboSpan" id="kobo.533.1"> and reset the data displayed in both </span><strong class="source-inline"><span class="koboSpan" id="kobo.534.1">AppProfileDisplay</span></strong><span class="koboSpan" id="kobo.535.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.536.1">AppProfileForm</span></strong><span class="koboSpan" id="kobo.537.1"> as per the </span><span class="No-Break"><span class="koboSpan" id="kobo.538.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer277">
<span class="koboSpan" id="kobo.539.1"><img alt="Figure 9.16 – AppProfileForm and AppProfileDisplay after data is cleared (using the Clear button)" src="image/Figure_9.16_B18645.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.540.1">Figure 9.16 – AppProfileForm and AppProfileDisplay after data is cleared (using the Clear button)</span></p>
<p><span class="koboSpan" id="kobo.541.1">We have now seen how</span><a id="_idIndexMarker1097"/><span class="koboSpan" id="kobo.542.1"> to set up communication between</span><a id="_idIndexMarker1098"/><span class="koboSpan" id="kobo.543.1"> sibling components through a </span><span class="No-Break"><span class="koboSpan" id="kobo.544.1">common ancestor.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.545.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.546.1">There is quite a bit of bookkeeping and menial work required to keep track of all the bits of the state that need to stay in sync across </span><span class="No-Break"><span class="koboSpan" id="kobo.547.1">the application.</span></span></p>
<p><span class="koboSpan" id="kobo.548.1">In the next section, we will look at how Vue 3’s built-in support for reactive data means we can roll our own simple </span><span class="No-Break"><span class="koboSpan" id="kobo.549.1">state management.</span></span></p>
<h1 id="_idParaDest-215"><a id="_idTextAnchor416"/><span class="koboSpan" id="kobo.550.1">Adding simple state management</span></h1>
<p><span class="koboSpan" id="kobo.551.1">For our simple application, we can</span><a id="_idIndexMarker1099"/><span class="koboSpan" id="kobo.552.1"> replace a lot of the boilerplate code if we use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.553.1">reactive()</span></strong><span class="koboSpan" id="kobo.554.1"> API to build a </span><span class="No-Break"><span class="koboSpan" id="kobo.555.1">simple store:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.556.1">Let’s start by building a new file, </span><strong class="source-inline"><span class="koboSpan" id="kobo.557.1">store.js</span></strong><span class="koboSpan" id="kobo.558.1">, that uses a </span><strong class="source-inline"><span class="koboSpan" id="kobo.559.1">reactive</span></strong><span class="koboSpan" id="kobo.560.1"> object for our </span><span class="No-Break"><span class="koboSpan" id="kobo.561.1">profile values:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.562.1">
import { reactive } from 'vue';</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.563.1">
export const store = reactive({</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.564.1">
  name:'',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.565.1">
  occupation:''</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.566.1">
});</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.567.1">This </span><em class="italic"><span class="koboSpan" id="kobo.568.1">very</span></em><span class="koboSpan" id="kobo.569.1"> simple object will be very powerful due to the use of Vue 3’s reactivity support. </span><span class="koboSpan" id="kobo.569.2">Any component making use of the values from here will be able to rely on knowing that when a value changes, it will instantly be reflected. </span><span class="koboSpan" id="kobo.569.3">Right away, we can see how this simplifies things as we switch to </span><span class="No-Break"><span class="koboSpan" id="kobo.570.1">the store.</span></span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.571.1">In </span><strong class="source-inline"><span class="koboSpan" id="kobo.572.1">AppProfileForm</span></strong><span class="koboSpan" id="kobo.573.1">, let’s import the </span><span class="No-Break"><span class="koboSpan" id="kobo.574.1">store first:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.575.1">
&lt;script setup&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.576.1">
import { store } from '@/store.js';</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.577.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.578.1">Next, update both fields to point to the store instead of local data. </span><span class="koboSpan" id="kobo.578.2">In the following code, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.579.1">v-model</span></strong><span class="koboSpan" id="kobo.580.1"> value was changed and the </span><strong class="bold"><span class="koboSpan" id="kobo.581.1">Submit</span></strong><span class="koboSpan" id="kobo.582.1"> button is removed – it’s no</span><a id="_idIndexMarker1100"/> <span class="No-Break"><span class="koboSpan" id="kobo.583.1">longer necessary:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.584.1">
&lt;!-- rest of component --&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.585.1">
&lt;div class="flex flex-col"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.586.1">
  &lt;label class="flex text-gray-800 mb-2" for="name"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.587.1">
    Name</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.588.1">
  &lt;/label&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.589.1">
  &lt;input</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.590.1">
    id="name"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.591.1">
    type="text"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.592.1">
    name="name"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.593.1">
    class="border-2 border-solid border-blue-200</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.594.1">
      rounded px-2 py-1" v-model="store.name"/&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.595.1">
&lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.596.1">
&lt;div class="flex flex-col mt-2"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.597.1">
  &lt;label class="flex text-gray-800 mb-2"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.598.1">
    for="occupation"&gt;Occupation&lt;/label&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.599.1">
  &lt;input</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.600.1">
    id="occupation"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.601.1">
    type="text"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.602.1">
    name="occupation"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.603.1">
    v-model="store.occupation"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.604.1">
    class="border-2 border-solid border-blue-200</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.605.1">
      rounded px-2 py-1"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.606.1">
  /&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.607.1">
&lt;/div&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.608.1">Now, we can edit the script block to remove most of the previous logic. </span><span class="koboSpan" id="kobo.608.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.609.1">clear</span></strong><span class="koboSpan" id="kobo.610.1"> method </span><a id="_idIndexMarker1101"/><span class="koboSpan" id="kobo.611.1">needs to be updated to change the </span><span class="No-Break"><span class="koboSpan" id="kobo.612.1">store values:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.613.1">
&lt;script setup&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.614.1">
import { store } from '@/store.js';</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.615.1">
function clear() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.616.1">
  store.name = '';</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.617.1">
  store.occupation = '';</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.618.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.619.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.620.1">Next, we can make similar changes to </span><strong class="source-inline"><span class="koboSpan" id="kobo.621.1">AppProfileDisplay</span></strong><span class="koboSpan" id="kobo.622.1">. </span><span class="koboSpan" id="kobo.622.2">First, import </span><span class="No-Break"><span class="koboSpan" id="kobo.623.1">the store:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.624.1">
&lt;script setup&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.625.1">
import { store } from '@/store.js';</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.626.1">
&lt;/script&gt;</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.627.1">Then, modify </span><span class="No-Break"><span class="koboSpan" id="kobo.628.1">the template:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.629.1">
&lt;template&gt;
  &lt;section class="md:w-1/3 flex flex-col p-12"&gt;
  &lt;!-- Profile Card --&gt;
  &lt;h3 class="font-bold font-lg"&gt;{{ store.name }}&lt;/h3&gt;
  &lt;p class="mt-2"&gt;{{ store.occupation }}&lt;/p&gt;
  &lt;/sec</span><a id="_idTextAnchor417"/><span class="koboSpan" id="kobo.630.1">tion&gt;
&lt;/template&gt;</span></pre>
<p><span class="koboSpan" id="kobo.631.1">We’ve now switched from a system of events being broadcasted from components to one of a simpler, shared state. </span><span class="koboSpan" id="kobo.631.2">Our</span><a id="_idIndexMarker1102"/><span class="koboSpan" id="kobo.632.1"> code is simpler, which will make updates </span><span class="No-Break"><span class="koboSpan" id="kobo.633.1">even easier.</span></span></p>
<h2 id="_idParaDest-216"><a id="_idTextAnchor418"/><span class="koboSpan" id="kobo.634.1">Exercise 9.03 – moving the Clear button to the application header profile card generator and updating the Clear logic</span></h2>
<p><span class="koboSpan" id="kobo.635.1">In our profile card generator application, the </span><strong class="bold"><span class="koboSpan" id="kobo.636.1">Clear</span></strong><span class="koboSpan" id="kobo.637.1"> button clears the state in the whole application. </span><span class="koboSpan" id="kobo.637.2">Its presence inside the form </span><a id="_idIndexMarker1103"/><span class="koboSpan" id="kobo.638.1">makes the </span><strong class="bold"><span class="koboSpan" id="kobo.639.1">Clear</span></strong><span class="koboSpan" id="kobo.640.1"> button’s functionality</span><a id="_idIndexMarker1104"/><span class="koboSpan" id="kobo.641.1"> unclear since</span><a id="_idIndexMarker1105"/><span class="koboSpan" id="kobo.642.1"> it looks as though it might only affect </span><span class="No-Break"><span class="koboSpan" id="kobo.643.1">the form.</span></span></p>
<p><span class="koboSpan" id="kobo.644.1">To reflect the fact that the </span><strong class="bold"><span class="koboSpan" id="kobo.645.1">Clear</span></strong><span class="koboSpan" id="kobo.646.1"> button has a global functionality, we will move it into </span><span class="No-Break"><span class="koboSpan" id="kobo.647.1">the header.</span></span></p>
<p><span class="koboSpan" id="kobo.648.1">We will also update our store to handle the logic of clearing the state. </span><span class="koboSpan" id="kobo.648.2">Our simple state utility not only can define variables but also methods. </span><span class="koboSpan" id="kobo.648.3">Since the script is handling keeping the values, it makes sense for it to handle logic related to </span><span class="No-Break"><span class="koboSpan" id="kobo.649.1">those values.</span></span></p>
<p><span class="koboSpan" id="kobo.650.1">You can also find the complete code </span><span class="No-Break"><span class="koboSpan" id="kobo.651.1">at </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter09/Exercise9.03"><span class="No-Break"><span class="koboSpan" id="kobo.652.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter09/Exercise9.03</span></span></a></p>
<p><span class="koboSpan" id="kobo.653.1">The following steps will help us perform </span><span class="No-Break"><span class="koboSpan" id="kobo.654.1">this exercise:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.655.1">We will start by creating a </span><strong class="source-inline"><span class="koboSpan" id="kobo.656.1">button</span></strong><span class="koboSpan" id="kobo.657.1"> component </span><span class="No-Break"><span class="koboSpan" id="kobo.658.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.659.1">src/components/AppHeader.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.660.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.661.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.662.1">
  &lt;header class="w-full flex flex-row p-4 border-b</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.663.1">
    bg-blue-300 border-gray-700"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.664.1">
    &lt;h2 class="text-xl flex text-gray-800"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.665.1">
      Profile Card Generator&lt;/h2&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.666.1">
    &lt;button class="flex ml-auto text-gray-800</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.667.1">
      items-center"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.668.1">
      Reset</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.669.1">
    &lt;/button&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.670.1">
  &lt;/header&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.671.1">
&lt;/template&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.672.1">In our store, let's add a new </span><strong class="source-inline"><span class="koboSpan" id="kobo.673.1">clear</span></strong><span class="koboSpan" id="kobo.674.1"> function in store.js. </span><span class="koboSpan" id="kobo.674.2">It is responsible for resetting both values back to their </span><span class="No-Break"><span class="koboSpan" id="kobo.675.1">initial state:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.676.1">
import { reactive } from 'vue';</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.677.1">
export const store = reactive({</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.678.1">
     name:'',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.679.1">
     occupation:'',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.680.1">
     clear() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.681.1">
          this.name = '';</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.682.1">
          this.occupation = '';</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.683.1">
     }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.684.1">
});</span></pre></li>
<li><span class="koboSpan" id="kobo.685.1">In </span><strong class="source-inline"><span class="koboSpan" id="kobo.686.1">AppHeader</span></strong><span class="koboSpan" id="kobo.687.1">, we</span><a id="_idIndexMarker1106"/><span class="koboSpan" id="kobo.688.1"> need to import </span><span class="No-Break"><span class="koboSpan" id="kobo.689.1">the store:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.690.1">
&lt;script setup&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.691.1">
import { store } from '@/store.js';</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.692.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.693.1">Now, we need to bind the </span><strong class="source-inline"><span class="koboSpan" id="kobo.694.1">Reset</span></strong><span class="koboSpan" id="kobo.695.1"> button to call the store </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.696.1">clear</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.697.1"> method:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.698.1">
&lt;!-- rest of template --&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.699.1">
&lt;button class="flex ml-auto text-gray-800</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.700.1">
  items-center" @click="store.clear()"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.701.1">
  Reset</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.702.1">
&lt;/button&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.703.1">
&lt;script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.704.1">The final step is </span><a id="_idIndexMarker1107"/><span class="koboSpan" id="kobo.705.1">to delete the </span><strong class="source-inline"><span class="koboSpan" id="kobo.706.1">Clear</span></strong><span class="koboSpan" id="kobo.707.1"> button </span><a id="_idIndexMarker1108"/><span class="koboSpan" id="kobo.708.1">and </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.709.1">Submit</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.710.1"> button:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.711.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.712.1">
  &lt;!-- rest of template --&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.713.1">
    &lt;div class="w-1/2 flex md:flex-row mt-12"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.714.1">
    &lt;button</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.715.1">
      class="flex md:w-1/2 justify-center"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.716.1">
      type="submit"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.717.1">
      @click="submitForm()"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.718.1">
      Submit</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.719.1">
    &lt;/button&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.720.1">
&lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.721.1">
  &lt;!-- rest of template --&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.722.1">
&lt;/template&gt;</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.723.1">The form looks as follows</span><a id="_idIndexMarker1109"/><span class="koboSpan" id="kobo.724.1"> when it gets filled out </span><span class="No-Break"><span class="koboSpan" id="kobo.725.1">and submitted:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer278">
<span class="koboSpan" id="kobo.726.1"><img alt="Figure 9.17 – Filled-out and submitted form" src="image/Figure_9.17_B18645.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.727.1">Figure 9.17 – Filled-out and submitted form</span></p>
<p><span class="koboSpan" id="kobo.728.1">Resetting the form now clears the</span><a id="_idIndexMarker1110"/><span class="koboSpan" id="kobo.729.1"> form fields as well </span><span class="No-Break"><span class="koboSpan" id="kobo.730.1">as </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.731.1">AppProfileDisplay</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.732.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer279">
<span class="koboSpan" id="kobo.733.1"><img alt="Figure 9.18 – Resetting the form and the display using the Reset button" src="image/Figure_9.18_B18645.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.734.1">Figure 9.18 – Resetting the form and the display using the Reset button</span></p>
<p><span class="koboSpan" id="kobo.735.1">You’ve now seen how</span><a id="_idIndexMarker1111"/><span class="koboSpan" id="kobo.736.1"> Vue 3’s built-in reactivity support makes it simple to handle state</span><a id="_idIndexMarker1112"/><span class="koboSpan" id="kobo.737.1"> man</span><a id="_idTextAnchor419"/><a id="_idTextAnchor420"/><span class="koboSpan" id="kobo.738.1">agement in </span><span class="No-Break"><span class="koboSpan" id="kobo.739.1">your components.</span></span></p>
<h2 id="_idParaDest-217"><a id="_idTextAnchor421"/><span class="koboSpan" id="kobo.740.1">Activity 9.01 – adding Organization, Email, and Phone Number fields to a profile card generator</span></h2>
<p><span class="koboSpan" id="kobo.741.1">In a profile generator, you look at a profile to find some information about the individual. </span><span class="koboSpan" id="kobo.741.2">A person’s</span><a id="_idIndexMarker1113"/><span class="koboSpan" id="kobo.742.1"> organization, email, and phone number are often the most crucial pieces of information looked for on a profile card. </span><span class="koboSpan" id="kobo.742.2">This activity is about adding these details to a profile </span><span class="No-Break"><span class="koboSpan" id="kobo.743.1">card generator.</span></span></p>
<p><span class="koboSpan" id="kobo.744.1">To do this, we will add </span><strong class="source-inline"><span class="koboSpan" id="kobo.745.1">Organization</span></strong><span class="koboSpan" id="kobo.746.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.747.1">Email</span></strong><span class="koboSpan" id="kobo.748.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.749.1">Phone Number</span></strong><span class="koboSpan" id="kobo.750.1"> fields in </span><strong class="source-inline"><span class="koboSpan" id="kobo.751.1">AppProfileForm</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.752.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.753.1">AppProfileDisplay</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.754.1">:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.755.1">Begin by adding the </span><strong class="source-inline"><span class="koboSpan" id="kobo.756.1">organization</span></strong><span class="koboSpan" id="kobo.757.1"> input field and label </span><span class="No-Break"><span class="koboSpan" id="kobo.758.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.759.1">AppProfileForm</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.760.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.761.1">Next, add a new </span><strong class="source-inline"><span class="koboSpan" id="kobo.762.1">email</span></strong><span class="koboSpan" id="kobo.763.1"> input field and label to </span><strong class="source-inline"><span class="koboSpan" id="kobo.764.1">AppProfileForm</span></strong><span class="koboSpan" id="kobo.765.1"> for the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.766.1">Email</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.767.1"> field.</span></span></li>
<li><span class="koboSpan" id="kobo.768.1">We can then add a new </span><strong class="source-inline"><span class="koboSpan" id="kobo.769.1">phone</span></strong><span class="koboSpan" id="kobo.770.1"> input field (of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.771.1">tel</span></strong><span class="koboSpan" id="kobo.772.1"> type) and a label to </span><strong class="source-inline"><span class="koboSpan" id="kobo.773.1">AppProfileForm</span></strong><span class="koboSpan" id="kobo.774.1"> for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.775.1">Phone </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.776.1">Number</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.777.1"> field.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.778.1">The new fields</span><a id="_idIndexMarker1114"/><span class="koboSpan" id="kobo.779.1"> look </span><span class="No-Break"><span class="koboSpan" id="kobo.780.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer280">
<span class="koboSpan" id="kobo.781.1"><img alt="Figure 9.19 – Application with new Email and Phone Number fields" src="image/Figure_9.19_B18645.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.782.1">Figure 9.19 – Application with new Email and Phone Number fields</span></p>
<p><span class="koboSpan" id="kobo.783.1">We can then add the </span><strong class="source-inline"><span class="koboSpan" id="kobo.784.1">organization</span></strong><span class="koboSpan" id="kobo.785.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.786.1">email</span></strong><span class="koboSpan" id="kobo.787.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.788.1">phone</span></strong><span class="koboSpan" id="kobo.789.1"> fields to the initial state in </span><strong class="source-inline"><span class="koboSpan" id="kobo.790.1">src/store.js</span></strong><span class="koboSpan" id="kobo.791.1"> so that the values get set and then update </span><strong class="source-inline"><span class="koboSpan" id="kobo.792.1">clear</span></strong><span class="koboSpan" id="kobo.793.1"> to reset the </span><span class="No-Break"><span class="koboSpan" id="kobo.794.1">new values.</span></span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.795.1">For </span><strong class="source-inline"><span class="koboSpan" id="kobo.796.1">organization</span></strong><span class="koboSpan" id="kobo.797.1"> to display, we add it after </span><strong class="source-inline"><span class="koboSpan" id="kobo.798.1">occupation</span></strong><span class="koboSpan" id="kobo.799.1"> in </span><strong class="source-inline"><span class="koboSpan" id="kobo.800.1">src/components/AppProfileDisplay.vue</span></strong><span class="koboSpan" id="kobo.801.1">. </span><span class="koboSpan" id="kobo.801.2">We’ll prefix it with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.802.1">"at"</span></strong><span class="koboSpan" id="kobo.803.1"> literal string and only show it when there is a value. </span><span class="koboSpan" id="kobo.803.2">The end result is a paragraph that</span><a id="_idIndexMarker1115"/><span class="koboSpan" id="kobo.804.1"> includes the occupation </span><span class="No-Break"><span class="koboSpan" id="kobo.805.1">and organization.</span></span></li>
<li><span class="koboSpan" id="kobo.806.1">For </span><strong class="source-inline"><span class="koboSpan" id="kobo.807.1">email</span></strong><span class="koboSpan" id="kobo.808.1"> to display, we need to render it in </span><strong class="source-inline"><span class="koboSpan" id="kobo.809.1">src/components/AppProfileDisplay.vue</span></strong><span class="koboSpan" id="kobo.810.1"> using a conditional paragraph (to hide the </span><strong class="source-inline"><span class="koboSpan" id="kobo.811.1">Email</span></strong><span class="koboSpan" id="kobo.812.1"> label when there is no </span><span class="No-Break"><span class="koboSpan" id="kobo.813.1">email set).</span></span></li>
<li><span class="koboSpan" id="kobo.814.1">For </span><strong class="source-inline"><span class="koboSpan" id="kobo.815.1">phone</span></strong><span class="koboSpan" id="kobo.816.1"> to display, we need to render it in </span><strong class="source-inline"><span class="koboSpan" id="kobo.817.1">src/components/AppProfileDisplay.vue</span></strong><span class="koboSpan" id="kobo.818.1"> using a conditional span (to hide the </span><strong class="source-inline"><span class="koboSpan" id="kobo.819.1">Phone Number</span></strong><span class="koboSpan" id="kobo.820.1"> label when there is no </span><span class="No-Break"><span class="koboSpan" id="kobo.821.1">phone set).</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.822.1">The application should look as follows when the form is filled out </span><span class="No-Break"><span class="koboSpan" id="kobo.823.1">and submitted:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer281">
<span class="koboSpan" id="kobo.824.1"><img alt="Figure 9.20 – Application with Email and Phone Number fields" src="image/Figure_9.20_B18645.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.825.1">Figure 9.20 – Application with Email and Phone Number fields</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.826.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.827.1">The solution for this activity can be found </span><span class="No-Break"><span class="koboSpan" id="kobo.828.1">at </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter09/Activity9.01"><span class="No-Break"><span class="koboSpan" id="kobo.829.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter09/Activity9.01</span></span></a></p>
<p><span class="koboSpan" id="kobo.830.1">You’ve now taken your</span><a id="_idIndexMarker1116"/><span class="koboSpan" id="kobo.831.1"> application from a more complex event-driven state management system to one using a shared state that is far simpler to work with an update. </span><span class="koboSpan" id="kobo.831.2">Now that you’ve seen how to work with the global state, it’s a good time to go over some thoughts on w</span><a id="_idTextAnchor422"/><span class="koboSpan" id="kobo.832.1">hen it makes sense to </span><span class="No-Break"><span class="koboSpan" id="kobo.833.1">use it.</span></span></p>
<h1 id="_idParaDest-218"><a id="_idTextAnchor423"/><span class="koboSpan" id="kobo.834.1">Deciding when to use a local state or global state</span></h1>
<p><span class="koboSpan" id="kobo.835.1">As we have seen through the examples, the Vue.js ecosystem has solutions for managing shared and</span><a id="_idIndexMarker1117"/><span class="koboSpan" id="kobo.836.1"> global states. </span><span class="koboSpan" id="kobo.836.2">What we will look at now is how to decide whether something belongs in a local state or </span><span class="No-Break"><span class="koboSpan" id="kobo.837.1">global state.</span></span></p>
<p><span class="koboSpan" id="kobo.838.1">A good rule of thumb is that </span><em class="italic"><span class="koboSpan" id="kobo.839.1">if a prop is passed through a depth of three components</span></em><span class="koboSpan" id="kobo.840.1">, it is probably best to put that piece of state in a global state and access it that way – so for example, a value goes from a parent to a child, and then on to a grandchild. </span><span class="koboSpan" id="kobo.840.2">This could also apply to two siblings and a parent, with three components but </span><span class="No-Break"><span class="koboSpan" id="kobo.841.1">less depth.</span></span></p>
<p><span class="koboSpan" id="kobo.842.1">The second way to decide whether something </span><a id="_idIndexMarker1118"/><span class="koboSpan" id="kobo.843.1">is local or global is to ask the question </span><em class="italic"><span class="koboSpan" id="kobo.844.1">when the page reloads, does the user expect this information to persist?</span></em><span class="koboSpan" id="kobo.845.1"> Why does this matter? </span><span class="koboSpan" id="kobo.845.2">Well, a global state is a lot easier to save and persist than a local state. </span><span class="koboSpan" id="kobo.845.3">This is due to the nature of a global state </span><em class="italic"><span class="koboSpan" id="kobo.846.1">just being a JavaScript object</span></em><span class="koboSpan" id="kobo.847.1"> as opposed to a component state, which is more closely tied to the component tree and Vue.js. </span><span class="koboSpan" id="kobo.847.2">The browser supports powerful methods of persisting data on the client, from simpler web storage to the more complex IndexedDB. </span><span class="koboSpan" id="kobo.847.3">Either of these browser features could be used to store the state for a Vue application, restore them on load, and if used in a global state, then be applied to components across </span><span class="No-Break"><span class="koboSpan" id="kobo.848.1">the app.</span></span></p>
<p><span class="koboSpan" id="kobo.849.1">Another key idea to bear in mind is that it is very much possible to mix global states and local states in a component. </span><span class="koboSpan" id="kobo.849.2">Every component may use a mix of things that only apply to itself versus data that impacts the </span><span class="No-Break"><span class="koboSpan" id="kobo.850.1">entire application.</span></span></p>
<p><span class="koboSpan" id="kobo.851.1">As with most things, careful planning and thought into what data a component needs and what possibly needs to be shared can help with </span><a id="_idTextAnchor424"/><span class="koboSpan" id="kobo.852.1">proper planning ahead </span><span class="No-Break"><span class="koboSpan" id="kobo.853.1">of time.</span></span></p>
<h1 id="_idParaDest-219"><a id="_idTextAnchor425"/><span class="koboSpan" id="kobo.854.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.855.1">This chapter was an introduction to the state management landscape in Vue.js. </span><span class="koboSpan" id="kobo.855.2">Throughout this chapter, we have looked at different approaches to shared and global state management in a </span><span class="No-Break"><span class="koboSpan" id="kobo.856.1">Vue.js application.</span></span></p>
<p><span class="koboSpan" id="kobo.857.1">We began by looking at storing a global state in one shared ancestor. </span><span class="koboSpan" id="kobo.857.2">This allows data sharing between sibling components through props and events. </span><span class="koboSpan" id="kobo.857.3">While this works, it does require extra code to handle the architecture of passing </span><span class="No-Break"><span class="koboSpan" id="kobo.858.1">around data.</span></span></p>
<p><span class="koboSpan" id="kobo.859.1">You then used Vue’s built-in reactivity to create a simple, shared store. </span><span class="koboSpan" id="kobo.859.2">This resulted in a much simpler application, as much of the code from the previous version was able to </span><span class="No-Break"><span class="koboSpan" id="kobo.860.1">be removed.</span></span></p>
<p><span class="koboSpan" id="kobo.861.1">Finally, we have had a look at what criteria can be used to decide whether a state should live in a local component state or a more global or shared </span><span class="No-Break"><span class="koboSpan" id="kobo.862.1">state solution.</span></span></p>
<p><span class="koboSpan" id="kobo.863.1">The next chapter will be a deep dive into writing large-scale Vue.js applications with the new recommended way of handling shared state, the </span><span class="No-Break"><span class="koboSpan" id="kobo.864.1">Pinia library.</span></span></p>
</div>
<div>
<div class="IMG---Figure" id="_idContainer283">
</div>
</div>
</body></html>