["```js\nexport function App() {\nÂ Â return (\nÂ Â Â Â <ColorsProvider>\nÂ Â Â Â Â Â <ColoredButton />\nÂ Â Â Â </ColorsProvider>\nÂ Â );\n}\n```", "```js\nimport defaultColors from \"defaultColors\";\nexport const ColorContext = React.createContext();\nexport function ColorsProvider(props) {\nÂ Â const [colors, setColors] = \nÂ Â Â Â Â Â useState(defaultColors.light);\nÂ Â const toggleColors = () => {\nÂ Â Â Â Â Â setColors((curColors) =>\nÂ Â Â Â Â Â Â Â Â Â curColors === defaultColors.dark ? \nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â defaultColors.light : defaultColors.dark\nÂ Â Â Â );\nÂ Â };\nÂ Â const value = {\nÂ Â Â Â colors: colors,\nÂ Â Â Â toggleColors: toggleColors\nÂ Â };\nÂ Â return <ColorContext.Provider value={value} {...props} />;\n} \n```", "```js\nfunction ColoredButton(props) {\nÂ Â return (\nÂ Â Â Â <ColorContext.Consumer>\nÂ Â Â Â Â Â {({ colors, toggleColors }) => {\nÂ Â Â Â Â Â Â Â Â Â return (\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â <Pressable\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â onPress={toggleColors}\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â style={{\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â backgroundColor: colors ? \nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â colors.background : \nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â defaultColors.background\nÂ Â Â Â Â Â Â Â Â Â Â Â }}\nÂ Â Â Â Â Â Â Â Â Â >\nÂ Â Â Â Â Â Â Â Â Â Â Â <Text\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â style={{\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â color: colors ? colors.foreground : \nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â defaultColors.foreground\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â }}\nÂ Â Â Â Â Â Â Â Â Â Â Â >\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Toggle Colors\nÂ Â Â Â Â Â Â Â Â Â Â Â </Text>\nÂ Â Â Â Â Â Â Â Â Â </Pressable>\nÂ Â Â Â Â Â Â Â );\nÂ Â Â Â Â Â }}\nÂ Â Â Â </ColorContext.Consumer>\nÂ Â );\n}\n```", "```js\nfunction ColoredButton(props) {\nconst {colors, toggleColors} = React.useContext(ColorContext);\nÂ Â return (\nÂ Â Â Â Â Â Â Â Â Â <Pressable\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â onPress={toggleColors}\n```", "```js\nexport function UserProvider(props: any) {\nÂ Â const [name, setName] = useState<string>('John');\nÂ Â const [favs, setFavs] = useState<{[favId: number]: \nÂ Â Â Â Â Â IMovie}>({});\nÂ Â const addFav = (fav: IMovie): void => {\nÂ Â Â Â Â Â if (!favs[fav.id]) {\nÂ Â Â Â Â Â Â Â Â Â const _favs = {...favs};\nÂ Â Â Â Â Â Â Â Â Â _favs[fav.id] = fav;\nÂ Â Â Â Â Â Â Â Â Â setFavs(_favs);\nÂ Â Â Â Â Â }\nÂ Â };\nÂ Â const removeFav = (favId: number): void => {\nÂ Â Â Â Â Â if (favs[favId]) {\nÂ Â Â Â Â Â Â Â Â Â const _favs = {...favs};\nÂ Â Â Â Â Â Â Â Â Â delete _favs[favId];\nÂ Â Â Â Â Â Â Â Â Â setFavs(_favs);\nÂ Â Â Â Â Â }\nÂ Â };\nÂ Â const value = {\nÂ Â Â Â Â Â name, favs, addFav, removeFav,\nÂ Â };\nÂ Â return <UserContext.Provider value={value} {...props} />;\n}\n```", "```js\nexport function useUser() {\nÂ Â const context = React.useContext(UserContext);\nÂ Â const {name, favs, addFav, removeFav} = context;\nÂ Â const addFavById = (favId: number): void => {\nÂ Â Â Â Â Â const movie = getMovieById(favId);\nÂ Â Â Â Â Â if (!movie) {\nÂ Â Â Â Â Â Â Â Â Â return;\nÂ Â Â Â Â Â }\nÂ Â Â Â Â Â addFav(movie);\nÂ Â };\nÂ Â const getFavsAsArray = (): IMovie[] => {\nÂ Â Â Â Â Â return Object.values(favs);\nÂ Â };\nÂ Â const isFav = (favId: number): boolean => {\nÂ Â Â Â return !!favs[favId];\nÂ Â };\nÂ Â Â Â return {\nÂ Â Â Â Â Â Â Â name, favs, getFavsAsArray, removeFav, addFavById, \nÂ Â Â Â Â Â Â Â isFav,\nÂ Â Â Â };\n}\n```", "```js\nconst Movie = (props: MovieProps) => { \nÂ Â const {isFav, addFavById, removeFav} = useUser();\nÂ Â const _isFav = isFav(props.route.params.movie.id);\nÂ Â ...\n```", "```js\n<Pressable\nÂ Â style={styles.pressableContainer}\nÂ Â onPress={\nÂ Â Â Â Â Â _isFav\nÂ Â Â Â Â Â ? () => removeFav(props.route.params.movie.id)\nÂ Â Â Â Â Â : () => addFavById(props.route.params.movie.id)\nÂ Â }>\nÂ Â <Text style={styles.pressableText}>\nÂ Â Â Â {_isFav ? 'ğŸ‘ Remove from favs' : 'ğŸ‘ Add to favs'}\nÂ Â </Text>\n</Pressable>\n```", "```js\nconst Genre = (props: GenreProps) => {\nÂ Â const [movies, setMovies] = useState<IMovie[]>([]);\nÂ Â const {isMovieFav} = useUser();\nÂ Â ...\n```", "```js\nÂ Â return (\nÂ Â Â Â <ScrollContainer>\nÂ Â Â Â Â Â {movies.map(movie => (\nÂ Â Â Â Â Â Â Â Â Â <Pressable\nÂ Â Â Â Â Â Â Â Â Â Â Â {isMovieFav(movie.id) ? (\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â <Text style={styles.movieTitleFav}>ğŸ‘</Text>\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â ) : undefined}\nÂ Â Â Â Â Â Â Â Â Â Â Â <Text style={styles.movieTitle}>{movie.title}\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </Text>\nÂ Â Â Â Â Â Â Â Â Â </Pressable>\nÂ Â Â Â Â Â Â Â ))}\nÂ Â Â Â </ScrollContainer>\nÂ Â );\n```", "```js\nconst User = (props: UserProps) => {\nÂ Â const {getMovieFavsAsArray} = useUser();\nÂ Â const _movieFavsArray = getMovieFavsAsArray();\nÂ Â return (\nÂ Â Â Â <ScrollContainer>\nÂ Â Â Â Â Â {_movieFavsArray.map(movie => {\nÂ Â Â Â Â Â Â Â return (\nÂ Â Â Â Â Â Â Â Â Â <Pressable>\nÂ Â Â Â Â Â Â Â Â Â Â Â <Text style={styles.movieTitle}>{movie.title}\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </Text>\nÂ Â Â Â Â Â Â Â Â Â </Pressable>\nÂ Â Â Â Â Â Â Â );\nÂ Â Â Â Â Â })}\nÂ Â Â Â </ScrollContainer>\nÂ Â );\n}; \n```", "```js\nÂ Â useEffect(() => {\nÂ Â Â Â AsyncStorage.getItem('HYDRATE::FAVORITE_MOVIES').then\nÂ Â Â Â Â Â Â Â (value => {\nÂ Â Â Â Â Â Â Â Â Â Â Â if (value) {\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â setFavs(JSON.parse(value));\nÂ Â Â Â Â Â Â Â Â Â Â }\nÂ Â Â Â Â Â });\nÂ Â }, []);\nÂ Â Â useEffect(() => {\nÂ Â Â Â Â if (favs !== {}) {\nÂ Â Â Â Â Â Â Â Â AsyncStorage.setItem('HYDRATE::FAVORITE_MOVIES', \nÂ Â Â Â Â Â Â Â Â Â Â Â Â JSON.stringify(favs));\nÂ Â Â Â Â }\nÂ Â }, [favs]);\n```", "```js\nconst Home = (props: HomeProps) => {\nÂ Â const {name} = useUser();\nÂ Â ...\nÂ Â console.log('re-render home');\nÂ Â return (\nÂ Â Â Â <ScrollContainer>\nÂ Â Â Â Â Â <Text style={styles.welcome}>Hello {name}</Text>\nÂ Â ...\n```", "```js\nexport const useUserStore = create<IUser & UserStoreFunctions>((set, get) => ({\nÂ Â name: 'John',\nÂ Â favs: {},\nÂ Â addFavById: (favId: number) => {\nÂ Â Â Â const _favs = {...get().favs};\nÂ Â Â Â if (!_favs[favId]) {\nÂ Â Â Â Â Â const movie = getMovieById(favId);\nÂ Â Â Â Â Â if (movie) {\nÂ Â Â Â Â Â Â Â _favs[favId] = movie;\nÂ Â Â Â Â Â Â Â set({favs: _favs});\nÂ Â Â Â Â Â }\nÂ Â Â Â }\nÂ Â },\nÂ Â removeFav: (favId: number) => {\nÂ Â Â Â const _favs = {...get().favs};\nÂ Â Â Â if (_favs[favId]) {\nÂ Â Â Â Â Â delete _favs[favId];\nÂ Â Â Â Â Â set({favs: _favs});\nÂ Â Â Â }\nÂ Â },\n}));\n```", "```js\nconst Movie = (props: MovieProps) => {\nÂ Â const [addFavById, favs, removeFav] = useUserStore(state \nÂ Â Â Â Â Â => [\nÂ Â Â Â Â Â Â Â Â Â state.addFavById,\nÂ Â Â Â Â Â Â Â Â Â state.favs,\nÂ Â Â Â Â Â Â Â Â Â state.removeFav,\nÂ Â Â Â Â Â Â Â Â ], shallow);\nÂ Â const _isFav = favs[props.route.params.movie.id];\nÂ Â ...\n```", "```js\nconst Home = (props: HomeProps) => {\nÂ Â const name = useUserStore(state => state.name);\nÂ Â console.log('rerender home');\nÂ Â ...\n```", "```js\nexport const APIConstants: {\nÂ Â API_URL: string;\nÂ Â API_KEY: string;\nÂ Â Â Â Â } = {\nÂ Â Â Â Â Â Â Â Â API_URL: 'https://api.themoviedb.org/3/',\nÂ Â Â Â Â Â Â Â Â API_KEY: '<put your api key here - never do thatÂ Â \nÂ Â Â Â Â Â Â Â Â Â Â Â Â in production>',\n};\n```", "```js\nconst createFullAPIPath: (path: string) => string = path => {\nÂ Â return (\nÂ Â Â Â APIConstants.API_URL + path +\nÂ Â Â Â Â Â Â Â (path.includes('?') ? '&' : '?') +\nÂ Â Â Â Â Â Â Â 'api_key=' + APIConstants.API_KEY\nÂ Â Â );\n};\nasync function makeAPICall<T>(path: string): Promise<T> {\nÂ Â console.log(createFullAPIPath(path));\nÂ Â const response = await fetch(createFullAPIPath(path));\nÂ Â return response.json() as Promise<T>;\n}\n```", "```js\nconst getGenres = async (): Promise<Array<IGenre>> => {\nÂ Â let data: Array<IGenre> = [];\nÂ Â try {\nÂ Â Â Â const apiResponse = await makeAPICall<{genres: Array\nÂ Â Â Â Â Â Â Â <IGenre>}>('genre/movie/list',\nÂ Â Â Â Â Â Â Â );\nÂ Â Â Â data = apiResponse.genres;\nÂ Â } catch (e) {\nÂ Â Â Â Â Â Â Â console.log(e);\nÂ Â Â Â }\nÂ Â return data;\n};\n```", "```js\nÂ Â useEffect(() => {\nÂ Â Â Â const fetchData = async () => {\nÂ Â Â Â Â Â setGenres(await getGenres());\nÂ Â Â Â };\nÂ Â Â Â fetchData();\nÂ Â }, []); \n```"]