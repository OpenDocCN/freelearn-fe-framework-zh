<html><head></head><body>
		<div id="_idContainer019">
			<h1 id="_idParaDest-35"><em class="italic"><a id="_idTextAnchor039"/>Chapter 3</em>: Building a Dynamic Project Management Board</h1>
			<p>In the first two chapters of this book, you created two React projects all by yourself, and you should, by now, have a solid understanding of the core concepts of React. The concepts you've used so far will also be used in this chapter to create your third project with React, including some new and more advanced concepts that will show you the strength of using React. Again, if you feel you lack some of the knowledge you'll need to finalize the contents of this chapter, you can always repeat what you have built so far.</p>
			<p>This chapter will once again use Create React App, which you used in the previous chapter. During the development of the project management board application for this chapter, we'll create and use a custom Hook for data fetching. HTML5 web APIs will be used to dynamically drag and drop components, which are set up as reusable components with <strong class="source-inline">styled-components</strong>. Following this, you'll use more advanced React techniques to control the data flow throughout your components, such as by creating custom Hooks.</p>
			<p>The following topics will be covered in this chapter:</p>
			<ul>
				<li>Handling the data flow</li>
				<li>Working with custom Hooks</li>
				<li>Using HTML5 web APIs</li>
				<li>Styling React with <strong class="source-inline">styled-components</strong></li>
			</ul>
			<h1 id="_idParaDest-36"><a id="_idTextAnchor040"/>Project overview</h1>
			<p>In this chapter, we <a id="_idIndexMarker117"/>will create a dynamic project management board that has reusable React components and styling using Create React App and <strong class="source-inline">styled-components</strong>. The application will feature a dynamic drag and drop interface that uses the HTML5 Drag and Drop API.</p>
			<p>The build time is 1.5–2 hours.</p>
			<h1 id="_idParaDest-37"><a id="_idTextAnchor041"/>Getting started</h1>
			<p>The project that we'll create in this chapter builds upon an initial version that you can find on GitHub: <a href="https://github.com/PacktPublishing/React-Projects-Second-Edition/tree/main/Chapter03-initial">https://github.com/PacktPublishing/React-Projects-Second-Edition/tree/main/Chapter03-initial</a>. The complete source code for this application can also be found on GitHub: <a href="https://github.com/PacktPublishing/React-Projects-Second-Edition/tree/main/Chapter03">https://github.com/PacktPublishing/React-Projects-Second-Edition/tree/main/Chapter03</a>.</p>
			<p>After <a id="_idIndexMarker118"/>downloading the initial application from GitHub, we can start by moving into its root directory and running the <strong class="source-inline">npm install</strong> command. This will install the core packages from Create React App (<strong class="source-inline">react</strong>, <strong class="source-inline">react-dom</strong>, and <strong class="source-inline">react-scripts</strong>). After the installation, we can start the application by executing the <strong class="source-inline">npm start</strong> command and visit the project in the browser by visiting <strong class="source-inline">http://localhost:3000</strong>. </p>
			<p>As shown in the following screenshot, the application has a basic header with a title and is divided into four columns. These columns are the lanes for the project management board and will contain the individual tasks once we've connected the project to the data file.</p>
			<div>
				<div id="_idContainer015" class="IMG---Figure">
					<img src="image/Figure_3.1_B17390.jpg" alt="Figure 3.1 – The initial application&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.1 – The initial application</p>
			<p>If we look at the project's structure, we'll see that it's structured in the same way as the projects in the previous chapters. The entry point of the application is the <strong class="source-inline">src/index.js</strong> file, which renders a component called <strong class="source-inline">App</strong>, which holds two other components called <strong class="source-inline">Header</strong> and <strong class="source-inline">Board</strong>. The first one is the actual header of the application, while the <strong class="source-inline">Board</strong> component holds the four columns we can see in the application. These columns are represented by the <strong class="source-inline">Lane</strong> component.</p>
			<p>In this <a id="_idIndexMarker119"/>application, you can see that we've further split up the components into separate directories. Every component in either the <strong class="source-inline">components</strong> or <strong class="source-inline">pages</strong> directory now has its own subdirectory:</p>
			<p class="source-code">chapter-3-initial</p>
			<p class="source-code">  |- /node_modules</p>
			<p class="source-code">  |- /public</p>
			<p class="source-code">  |- /src</p>
			<p class="source-code">    |- /components</p>
			<p class="source-code">       |- /Header</p>
			<p class="source-code">          |- Header.css</p>
			<p class="source-code">          |- Header.js</p>
			<p class="source-code">       |- /Lane</p>
			<p class="source-code">          |- Lane.css</p>
			<p class="source-code">          |- Lane.js</p>
			<p class="source-code">    |- /pages</p>
			<p class="source-code">       |- /Board</p>
			<p class="source-code">          |- Board.js</p>
			<p class="source-code">          |- Board.css</p>
			<p class="source-code">    |- App.js</p>
			<p class="source-code">    |- App.css</p>
			<p class="source-code">    |- index.js</p>
			<p class="source-code">    |- index.css</p>
			<p class="source-code">package.json</p>
			<h1 id="_idParaDest-38"><a id="_idTextAnchor042"/>Creating a project management board application</h1>
			<p>In this section, we'll<a id="_idIndexMarker120"/> create a project management board PWA that uses custom Hooks for data fetching and the HTML5 Drag and Drop API to make it dynamic. We're going to use a boilerplate application that is set up with Create React App, which we can find in the GitHub repository for this chapter.</p>
			<h2 id="_idParaDest-39"><a id="_idTextAnchor043"/>Handling the data flow</h2>
			<p>With the<a id="_idIndexMarker121"/> initial version of the application in place, the next step is to fetch the initial data for the project management board and handle its flow through the components. For this, we will create a custom Hook for data fetching that can be reused in other components.</p>
			<p>The first part of this section will show us how to load data from a data source using React life cycle methods and display this in React components.</p>
			<h2 id="_idParaDest-40"><a id="_idTextAnchor044"/>Loading and displaying the data</h2>
			<p>Loading and<a id="_idIndexMarker122"/> displaying data that is retrieved from a data source is something we did in the previous chapter. The data used in this <a id="_idIndexMarker123"/>chapter is coming from a mock REST API, created with My JSON Server from Typicode. Using a file called <strong class="source-inline">db.json</strong>, which is placed in the repository for this book, we can automatically create REST endpoints.</p>
			<div>
				<div id="_idContainer016" class="IMG---Figure">
					<img src="image/Figure_3.2_B17390.jpg" alt="Figure 3.2 – Using My JSON Server &#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.2 – Using My JSON Server </p>
			<p>Using My JSON Server, the <a href="https://my-json-server.typicode.com/PacktPublishing/React-Projects-Second-Edition/tasks">https://my-json-server.typicode.com/PacktPublishing/React-Projects-Second-Edition/tasks</a> endpoint<a id="_idIndexMarker124"/> returns a list of tasks, which we'll load into our project management board in this section. The <a id="_idIndexMarker125"/>response is an <a id="_idIndexMarker126"/>array consisting of objects that contain information about our tasks defined in the id, title, body, and lane fields. </p>
			<p>This section will explore this further. Follow these steps to get started:</p>
			<ol>
				<li>We will start by fetching the project data from the data file. To do this, we need to add the necessary functions to the <strong class="source-inline">Board</strong> component. We need these to access the React life cycles using Hooks, which we already did in the earlier chapters:<p class="source-code"><strong class="bold">+ import { useState, useEffect } from 'react';</strong></p><p class="source-code">  import Lane from '../../components/Lane/Lane';</p><p class="source-code">  import './Board.css';</p><p class="source-code">  // ...</p><p class="source-code">  function Board() {</p><p class="source-code"><strong class="bold">+   const [loading, setLoading] = useState(false);</strong></p><p class="source-code"><strong class="bold">+   const [tasks, setTasks] = useState([]);</strong></p><p class="source-code"><strong class="bold">+   const [error, setError] = useState('');</strong></p><p class="source-code"><strong class="bold">+   useEffect(() =&gt; {</strong></p><p class="source-code"><strong class="bold">+     async function fetchData() {</strong></p><p class="source-code"><strong class="bold">+       try {</strong></p><p class="source-code"><strong class="bold">+         const tasks = await fetch(</strong></p><p class="source-code"><strong class="bold">              `https://my-json-server.typicode.com/</strong></p><p class="source-code"><strong class="bold">              PacktPublishing/React-Projects-Second-</strong></p><p class="source-code"><strong class="bold">              Edition/tasks`,</strong></p><p class="source-code"><strong class="bold">        );</strong></p><p class="source-code"><strong class="bold">+         const result = await tasks.json();</strong></p><p class="source-code"><strong class="bold">+         if (result) {</strong></p><p class="source-code"><strong class="bold">+           setTasks(result);</strong></p><p class="source-code"><strong class="bold">+           setLoading(false);</strong></p><p class="source-code"><strong class="bold">+         }</strong></p><p class="source-code"><strong class="bold">+       } catch (e) {</strong></p><p class="source-code"><strong class="bold">+         setLoading(false);</strong></p><p class="source-code"><strong class="bold">+         setError(e.message);</strong></p><p class="source-code"><strong class="bold">+       }</strong></p><p class="source-code"><strong class="bold">+     }</strong></p><p class="source-code"><strong class="bold">+     fetchData();</strong></p><p class="source-code"><strong class="bold">+   }, []);</strong></p><p class="source-code">   return (</p><p class="source-code">     // ...</p></li>
			</ol>
			<p>In the <strong class="source-inline">useEffect</strong> Hook, the data is fetched inside a <strong class="source-inline">try..catch</strong> statement. This statement <a id="_idIndexMarker127"/>catches <a id="_idIndexMarker128"/>any errors that are being returned from the data fetching process and replaces the error state with this message.</p>
			<ol>
				<li value="2">Now, we can distribute the tasks over the corresponding lanes:<p class="source-code">    // ...</p><p class="source-code">    return (</p><p class="source-code">      &lt;div className='Board-wrapper'&gt;</p><p class="source-code">        {lanes.map((lane) =&gt; (</p><p class="source-code">          &lt;Lane</p><p class="source-code">            key={lane.id}</p><p class="source-code">            title={lane.title}</p><p class="source-code"><strong class="bold">+           loading={loading}</strong></p><p class="source-code"><strong class="bold">+           error={error}</strong></p><p class="source-code"><strong class="bold">+           tasks={tasks.filter((task) =&gt; </strong></p><p class="source-code"><strong class="bold">              task.lane === lane.id)}</strong></p><p class="source-code">          /&gt;</p><p class="source-code">        ))}</p><p class="source-code">      &lt;/div&gt;</p><p class="source-code">    );</p><p class="source-code">  }</p><p class="source-code">  </p><p class="source-code">  export default Board;</p></li>
			</ol>
			<p>In the <strong class="source-inline">return</strong> statement, you can see a function that iterates over the <strong class="source-inline">lanes</strong> constant and that these values are passed as props to the <strong class="source-inline">Lane</strong> component. Also, something special is going on when we pass the tasks to the components since the <strong class="source-inline">filter</strong> function is being used to only return tasks from the tasks state that match the lane ID. </p>
			<ol>
				<li value="3">Next, we <a id="_idIndexMarker129"/>need to make some <a id="_idIndexMarker130"/>changes to the <strong class="source-inline">Lane</strong> component so that it will use the data that we fetched from the REST API to display the tasks for us:<p class="source-code"><strong class="bold">+ import Task from '../Task/Task';</strong></p><p class="source-code">  import './Lane.css';</p><p class="source-code"><strong class="bold">- function Lane({ title }) {</strong></p><p class="source-code"><strong class="bold">+ function Lane({ title, loading, error, tasks }) {</strong></p><p class="source-code">    return (</p><p class="source-code">      &lt;div className='Lane-wrapper'&gt;</p><p class="source-code">        &lt;h2&gt;{title}&lt;/h2&gt;</p><p class="source-code"><strong class="bold">+       {loading || error ? (</strong></p><p class="source-code"><strong class="bold">+         &lt;span&gt;{error || 'Loading...'}&lt;/span&gt;</strong></p><p class="source-code"><strong class="bold">+       ) : (</strong></p><p class="source-code"><strong class="bold">+         tasks.map((task) =&gt; (</strong></p><p class="source-code"><strong class="bold">+            &lt;Task</strong></p><p class="source-code"><strong class="bold">+              key={task.id}</strong></p><p class="source-code"><strong class="bold">+              id={task.id}</strong></p><p class="source-code"><strong class="bold">+              title={task.title}</strong></p><p class="source-code"><strong class="bold">+              body={task.body}</strong></p><p class="source-code"><strong class="bold">+            /&gt;</strong></p><p class="source-code"><strong class="bold">+         ))</strong></p><p class="source-code"><strong class="bold">+       )}</strong></p><p class="source-code">      &lt;/div&gt;</p><p class="source-code">    );</p><p class="source-code">  }</p><p class="source-code">  export default Lane;</p></li>
			</ol>
			<p>The <strong class="source-inline">Lane</strong> component now takes three other props, which are <strong class="source-inline">tasks</strong>, <strong class="source-inline">loading</strong>, and <strong class="source-inline">error</strong>, where <strong class="source-inline">tasks</strong> contains the array of tasks from the REST API, <strong class="source-inline">loading</strong> indicates whether the loading message should be displayed, and <strong class="source-inline">error</strong> contains the error message when there is one. We can see that<a id="_idIndexMarker131"/> inside the <strong class="source-inline">map</strong> function to iterate over the tasks, the <strong class="source-inline">Task</strong> component that displays the information will be rendered. </p>
			<ol>
				<li value="4">To create <a id="_idIndexMarker132"/>this task, we need to create a directory called <strong class="source-inline">Task</strong> in the <strong class="source-inline">components</strong> directory and place a new file for the <strong class="source-inline">Task</strong> component inside. This new file is called <strong class="source-inline">Task.js</strong>:<p class="source-code">import './Task.css';</p><p class="source-code">function Task({ title, body }) {</p><p class="source-code">  return (</p><p class="source-code">    &lt;div className='Task-wrapper'&gt;</p><p class="source-code">      &lt;h3&gt;{title}&lt;/h3&gt;</p><p class="source-code">      &lt;p&gt;{body}&lt;/p&gt;</p><p class="source-code">    &lt;/div&gt;</p><p class="source-code">  );</p><p class="source-code">}</p><p class="source-code">export default Task;</p></li>
				<li>This component <a id="_idIndexMarker133"/>takes its <a id="_idIndexMarker134"/>styling from another file that we need to create inside the <strong class="source-inline">Task</strong> directory, which is called <strong class="source-inline">Task.css</strong> and has the following contents:<p class="source-code">.Task-wrapper {</p><p class="source-code">  background: darkGray;</p><p class="source-code">  padding: 20px;</p><p class="source-code">  border-radius: 20px;</p><p class="source-code">  margin: 0% 5% 5% 5%;</p><p class="source-code">}</p><p class="source-code">.Task-wrapper h3 {</p><p class="source-code">  width: 100%;</p><p class="source-code">  margin: 0;</p><p class="source-code">}</p></li>
			</ol>
			<p>If we visit our application in a web browser at <strong class="source-inline">http://localhost:3000</strong>, we will see the following:</p>
			<div>
				<div id="_idContainer017" class="IMG---Figure">
					<img src="image/Figure_3.3_B17390.jpg" alt="Figure 3.3 – Our application with data from the mock REST API&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.3 – Our application with data from the mock REST API</p>
			<p>Fetching<a id="_idIndexMarker135"/> data <a id="_idIndexMarker136"/>from a data source is logic that can be reused throughout our application. In the next section, we will explore how this logic can be reused across multiple components by creating a custom Hook.</p>
			<h1 id="_idParaDest-41"><a id="_idTextAnchor045"/>Working with custom Hooks</h1>
			<p>Hooks are a way to use React features for creating local state or to watch for updates in that state using life cycles. But Hooks are also a way to reuse logic that you create for your own React application. This is a pattern that is popular among a lot of libraries that create functionalities for React, such as <strong class="source-inline">react-router</strong>.</p>
			<p class="callout-heading">Note</p>
			<p class="callout">Before React<a id="_idIndexMarker137"/> introduced Hooks themselves, it was a popular pattern to create <strong class="bold">Higher-Order Components</strong> (<strong class="bold">HOCs</strong>) to reuse logic. HOCs are advanced features in React that focus on the reusability of components. The React documentation described them as follows: <em class="italic">"A higher-order component is a function that takes a component and returns a new component."</em></p>
			<p>In the first part of this section, we'll create our first custom Hook, which uses logic to retrieve data from the data source that we created in the previous section.</p>
			<h2 id="_idParaDest-42"><a id="_idTextAnchor046"/>Creating custom Hooks</h2>
			<p>We already<a id="_idIndexMarker138"/> saw that we can reuse components in React, but the next step is to reuse logic that you have inside these components. To explain what this means in practice, let's create an example. Our project has a <strong class="source-inline">Board</strong> component, which fetches the REST API and renders all the lanes and tasks. There is logic in this component in the form of a local state created with the <strong class="source-inline">useState</strong> Hook, data fetching inside a <strong class="source-inline">useEffect</strong> Hook, and information about how each <strong class="source-inline">Lane</strong> component is being rendered. How will we handle a situation where we just want to show a board without lanes and only tasks? Do we just send different props from the <strong class="source-inline">Board</strong> component? Sure, that's possible, but, in React, that's what custom Hooks are used for.</p>
			<p>A <strong class="source-inline">Board</strong> component without lanes wouldn't map over all the lanes and render the corresponding lane with the tasks as a prop. Instead, it would map over all the tasks and render them directly. Although the rendered components are different, the logic to set the initial state, fetch the data, and render the component(s) can be reused. The custom Hook should be able to use the local state and execute data fetching from any component that it's used in.</p>
			<p>To create the custom Hook, create a new file called <strong class="source-inline">useDataFetching.js</strong> inside a new directory called <strong class="source-inline">hooks</strong> in the <strong class="source-inline">src</strong> directory. Now, follow these steps:</p>
			<ol>
				<li value="1">Import the <strong class="source-inline">useState</strong> and <strong class="source-inline">useEffect</strong> Hooks from React and create a new function for the Hook, which becomes the default export. This function will take one parameter called <strong class="source-inline">dataSource</strong>. Since this Hook will use the life cycles for data fetching, let's call this custom Hook <strong class="source-inline">useDataFetching</strong> and have it return an empty array:<p class="source-code">import { useState, useEffect } from 'react';</p><p class="source-code">function useDataFetching(dataSource) {</p><p class="source-code">  return [];</p><p class="source-code">}</p><p class="source-code">export default useDataFetching;</p></li>
				<li>Inside <a id="_idIndexMarker139"/>this function, add the <strong class="source-inline">useState</strong> Hooks to create a local state for <strong class="source-inline">loading</strong>, <strong class="source-inline">error</strong>, and <strong class="source-inline">data</strong>, which has almost the same structure as our local state inside the <strong class="source-inline">Board</strong> component:<p class="source-code">  import { useState, useEffect } from 'react';</p><p class="source-code">  function useDataFetching(dataSource) {</p><p class="source-code"><strong class="bold">+   const [loading, setLoading] = useState(false);</strong></p><p class="source-code"><strong class="bold">+   const [data, setData] = useState([]);</strong></p><p class="source-code"><strong class="bold">+   const [error, setError] = useState('');</strong></p><p class="source-code">    return [];</p><p class="source-code">  }</p><p class="source-code"> </p><p class="source-code">  export default useDataFetching;</p></li>
				<li>Next, we need to use the <strong class="source-inline">useEffect</strong> hook, which is where the data fetching will be done. The <strong class="source-inline">dataSource</strong> parameter is used as the location to fetch from. Also, notice<a id="_idIndexMarker140"/> that the constant names are now more generic and no longer specify a single use:<p class="source-code">  import { useState, useEffect } from 'react';</p><p class="source-code">  function useDataFetching(dataSource) {</p><p class="source-code">    // ...</p><p class="source-code"><strong class="bold">-   return [];</strong></p><p class="source-code"><strong class="bold">+   useEffect(() =&gt; {</strong></p><p class="source-code"><strong class="bold">+     async function fetchData() {</strong></p><p class="source-code"><strong class="bold">+       try {</strong></p><p class="source-code"><strong class="bold">+         const data = await fetch(dataSource);</strong></p><p class="source-code"><strong class="bold">+         const result = await data.json();</strong></p><p class="source-code"><strong class="bold">+         if (result) {</strong></p><p class="source-code"><strong class="bold">+           setData(result);</strong></p><p class="source-code"><strong class="bold">+           setLoading(false);</strong></p><p class="source-code"><strong class="bold">+         }</strong></p><p class="source-code"><strong class="bold">+       } catch (e) {</strong></p><p class="source-code"><strong class="bold">+         setLoading(false);</strong></p><p class="source-code"><strong class="bold">+         setError(e.message);</strong></p><p class="source-code"><strong class="bold">+       }</strong></p><p class="source-code"><strong class="bold">+     }</strong></p><p class="source-code"><strong class="bold">+     fetchData();</strong></p><p class="source-code"><strong class="bold">+   }, [dataSource]);</strong></p><p class="source-code"><strong class="bold">+   return [loading, error, data];</strong></p><p class="source-code">  }</p><p class="source-code">  export default useDataFetching;</p></li>
			</ol>
			<p>This adds the method to do data fetching, and in the <strong class="source-inline">return</strong> statement, we're returning the <strong class="source-inline">data</strong>, <strong class="source-inline">loading</strong>, and <strong class="source-inline">error</strong> state. </p>
			<p>Congratulations! You've created your very first Hook! However, it still needs to be added to a component that supports data fetching. Therefore, we need to refactor our <strong class="source-inline">Board</strong> component<a id="_idIndexMarker141"/> to use this custom Hook for data fetching instead:</p>
			<ol>
				<li value="1">Import the custom Hook from the <strong class="source-inline">src/hooks/useDataFetching.js</strong> file and delete the imports of the React Hooks:<p class="source-code"><strong class="bold">- import { useState, useEffect } from 'react';</strong></p><p class="source-code"><strong class="bold">+ import useDataFetching from </strong></p><p class="source-code"><strong class="bold">    '../../hooks/useDataFetching';</strong></p><p class="source-code">  import Lane from '../../components/Lane/Lane';</p><p class="source-code">  import './Board.css';</p><p class="source-code">  // ...</p></li>
				<li>Subsequently, we can delete the usage of the <strong class="source-inline">useState</strong> and <strong class="source-inline">useEffect</strong> Hooks in the <strong class="source-inline">Board</strong> component:<p class="source-code">  // ...</p><p class="source-code">  function Board() {</p><p class="source-code"><strong class="bold">-   const [loading, setLoading] = useState(false);</strong></p><p class="source-code"><strong class="bold">-   const [tasks, setTasks] = useState([]);</strong></p><p class="source-code"><strong class="bold">-   const [error, setError] = useState('');</strong></p><p class="source-code"><strong class="bold">-   useEffect(() =&gt; {</strong></p><p class="source-code"><strong class="bold">-     async function fetchData() {</strong></p><p class="source-code"><strong class="bold">-       try {</strong></p><p class="source-code"><strong class="bold">-         const tasks = await fetch(</strong></p><p class="source-code"><strong class="bold">          `https://my-json-server.typicode.com/</strong></p><p class="source-code"><strong class="bold">           PacktPublishing/React-Projects-Second-</strong></p><p class="source-code"><strong class="bold">           Edition/tasks`,</strong></p><p class="source-code"><strong class="bold">        );</strong></p><p class="source-code"><strong class="bold">-         const result = await tasks.json();</strong></p><p class="source-code"><strong class="bold">-         if (result) {</strong></p><p class="source-code"><strong class="bold">-           setTasks(result);</strong></p><p class="source-code"><strong class="bold">-           setLoading(false);</strong></p><p class="source-code"><strong class="bold">-         }</strong></p><p class="source-code"><strong class="bold">-       } catch (e) {</strong></p><p class="source-code"><strong class="bold">-         setLoading(false);</strong></p><p class="source-code"><strong class="bold">-         setError(e.message);</strong></p><p class="source-code"><strong class="bold">-       }</strong></p><p class="source-code"><strong class="bold">-     }</strong></p><p class="source-code"><strong class="bold">-     fetchData();</strong></p><p class="source-code"><strong class="bold">-   }, []);</strong></p><p class="source-code">   return (</p><p class="source-code">     // ...</p></li>
				<li>Instead, use<a id="_idIndexMarker142"/> the imported custom Hook to handle our data fetching. The Hook returns the <strong class="source-inline">loading</strong>, <strong class="source-inline">error</strong>, and <strong class="source-inline">tasks</strong> state as before, but the data state is renamed <strong class="source-inline">tasks</strong> to fit the needs of our component:<p class="source-code">  import useDataFetching </p><p class="source-code">    from '../../hooks/useDataFetching';</p><p class="source-code">  import Lane from '../../components/Lane/Lane';</p><p class="source-code">  import './Board.css';</p><p class="source-code">  function Board() {</p><p class="source-code"><strong class="bold">+   const [loading, error, tasks] =</strong></p><p class="source-code"><strong class="bold">      useDataFetching(`https://my-json-server.</strong></p><p class="source-code"><strong class="bold">      typicode.com/PacktPublishing/React-Projects-</strong></p><p class="source-code"><strong class="bold">      Second-Edition/tasks`);</strong></p><p class="source-code">   return (</p><p class="source-code">     // ...</p></li>
			</ol>
			<p>In the next section, we'll learn how to reuse a custom Hook by importing it from a different component.</p>
			<h2 id="_idParaDest-43"><a id="_idTextAnchor047"/>Reusing a custom Hook</h2>
			<p>With the <a id="_idIndexMarker143"/>very first custom Hook in place, it's time to think of other components that could do data fetching, such as a component that is displaying only tasks. The process to create this component consists of two steps: creating the actual component and using the custom Hook for data fetching. Let's get started:</p>
			<ol>
				<li value="1">Inside the directory pages, we need to create a new file called <strong class="source-inline">Backlog.js</strong> in a new directory called <strong class="source-inline">Backlog</strong>. In this file, we can place the following code to create the component, import the custom Hook, and import the CSS for styling:<p class="source-code">import Task from '../../components/Task/Task';</p><p class="source-code">import useDataFetching from </p><p class="source-code">  '../../hooks/useDataFetching';</p><p class="source-code">import './Backlog.css';</p><p class="source-code">function Backlog() {</p><p class="source-code">  const [loading, error, tasks] = useDataFetching(</p><p class="source-code">    'https://my-json-server.typicode.com/</p><p class="source-code">     PacktPublishing/React-Projects-Second-Edition/</p><p class="source-code">     tasks',</p><p class="source-code">  );</p><p class="source-code">  return (</p><p class="source-code">    &lt;div&gt;&lt;/div&gt;</p><p class="source-code">  );</p><p class="source-code">}</p><p class="source-code">export default Backlog;</p></li>
				<li>The <strong class="source-inline">return</strong> statement is now returning an empty <strong class="source-inline">div</strong> element, so we need to add the code to <a id="_idIndexMarker144"/>render the tasks here:<p class="source-code">  // ...</p><p class="source-code">  return (</p><p class="source-code"><strong class="bold">-   &lt;div&gt;</strong></p><p class="source-code"><strong class="bold">+   &lt;div className='Backlog-wrapper'&gt;</strong></p><p class="source-code"><strong class="bold">+     &lt;h2&gt;Backlog&lt;/h2&gt;</strong></p><p class="source-code"><strong class="bold">+     &lt;div className='Tasks-wrapper'&gt;</strong></p><p class="source-code"><strong class="bold">+       {loading || error ? (</strong></p><p class="source-code"><strong class="bold">+         &lt;span&gt;{error || 'Loading...'}&lt;/span&gt;</strong></p><p class="source-code"><strong class="bold">+       ) : (</strong></p><p class="source-code"><strong class="bold">+         tasks.map((task) =&gt; (</strong></p><p class="source-code"><strong class="bold">+           &lt;Task</strong></p><p class="source-code"><strong class="bold">+             key={task.id}</strong></p><p class="source-code"><strong class="bold">+             title={task.title}</strong></p><p class="source-code"><strong class="bold">+             body={task.body}</strong></p><p class="source-code"><strong class="bold">+           /&gt;</strong></p><p class="source-code"><strong class="bold">+         ))</strong></p><p class="source-code"><strong class="bold">+       )}</strong></p><p class="source-code"><strong class="bold">+     &lt;/div&gt;</strong></p><p class="source-code">    &lt;/div&gt;</p><p class="source-code">  );</p><p class="source-code">}</p><p class="source-code">export default Backlog;</p></li>
				<li>This component imports the <strong class="source-inline">Backlog.css</strong> file for styling, and we've also added classes to the elements in this file. But we also need to create and add some basic <a id="_idIndexMarker145"/>styling rules to <strong class="source-inline">Backlog.css</strong>:<p class="source-code">.Backlog-wrapper {</p><p class="source-code">  display: flex;</p><p class="source-code">  flex-direction: column;</p><p class="source-code">  margin: 5%;</p><p class="source-code">}</p><p class="source-code">.Backlog-wrapper h2 {</p><p class="source-code">  width: 100%;</p><p class="source-code">  padding-bottom: 10px;</p><p class="source-code">  text-align: center;</p><p class="source-code">  border-bottom: 1px solid darkGray;</p><p class="source-code">}</p><p class="source-code">.Tasks-wrapper {</p><p class="source-code">  display: flex;</p><p class="source-code">  justify-content: space-between;</p><p class="source-code">  flex-direction: row;</p><p class="source-code">  flex-wrap: wrap;</p><p class="source-code">  margin: 5%;</p><p class="source-code">}</p></li>
				<li>In the <strong class="source-inline">App</strong> component, we can import this component to render it below the <strong class="source-inline">Board</strong> component:<p class="source-code">  import './App.css';</p><p class="source-code">  import Board from './pages/Board/Board';</p><p class="source-code">  import Header from './components/Header/Header';</p><p class="source-code"><strong class="bold">+ import Backlog from './pages/Backlog/Backlog';</strong></p><p class="source-code">  function App() {</p><p class="source-code">    return (</p><p class="source-code">      &lt;div className='App'&gt;</p><p class="source-code">        &lt;Header /&gt;</p><p class="source-code">        &lt;Board /&gt;</p><p class="source-code"><strong class="bold">+       &lt;Backlog /&gt;</strong></p><p class="source-code">      &lt;/div&gt;</p><p class="source-code">    );</p><p class="source-code">  }</p><p class="source-code">  export default App;</p></li>
			</ol>
			<p>This will <a id="_idIndexMarker146"/>render the new <strong class="source-inline">Backlog</strong> component below our board with all the different tasks. These tasks are the same ones as in the <strong class="source-inline">Board</strong> component, as the same REST API endpoint is used. Also, you can set up <strong class="source-inline">react-router</strong> for this project to render the <strong class="source-inline">Backlog</strong> component on a different page instead.</p>
			<p>All the tasks that are displayed in the lanes are only in one part of our application, since we want to be able to drag and drop these tasks into different lanes. We'll learn how to do this in the next section, where we'll add dynamic functionalities to the board.</p>
			<h2 id="_idParaDest-44"><a id="_idTextAnchor048"/>Making the board dynamic</h2>
			<p>One of<a id="_idIndexMarker147"/> the things that usually give project management boards great user interaction is the ability to drag and drop tasks from one lane into another. This is something that can easily be accomplished using the HTML5 Drag and Drop API, which is available in every modern browser, including IE11.</p>
			<p>The HTML5 Drag and Drop API makes it possible for us to drag and drop elements across our project management board. To make this possible, it uses drag events. <strong class="source-inline">onDragStart</strong>, <strong class="source-inline">onDragOver</strong>, and <strong class="source-inline">onDrop</strong> will be used for this application. These events should be placed on both the <strong class="source-inline">Lane</strong> and the <strong class="source-inline">Task</strong> components. </p>
			<p>In the file for the <strong class="source-inline">Board</strong> component, let's add the functions that respond to the drop events, which need to be sent to the <strong class="source-inline">Lane</strong> and <strong class="source-inline">Task</strong> components. Let's get started:</p>
			<ol>
				<li value="1">Start by adding the <strong class="source-inline">event handler</strong> function for the <strong class="source-inline">onDragStart</strong> event, which fires when the dragging operation is started, to the <strong class="source-inline">Board</strong> component. This function needs to be passed to the <strong class="source-inline">Lane</strong> component, where it can be passed on to the <strong class="source-inline">Task</strong> component. This function sets an ID for the task that is being dragged to the <strong class="source-inline">dataTransfer</strong> object of the element, which is used by the browser to identify the drag element:<p class="source-code">  // ...</p><p class="source-code"><strong class="bold">+ function onDragStart(e, id) {</strong></p><p class="source-code"><strong class="bold">+   e.dataTransfer.setData('id', id);</strong></p><p class="source-code"><strong class="bold">+ }</strong></p><p class="source-code">  function Board() {</p><p class="source-code">    const [loading, error, tasks] = useDataFetching(</p><p class="source-code">      'https://my-json-server.typicode.com/</p><p class="source-code">       PacktPublishing/React-Projects-Second-Edition/</p><p class="source-code">       tasks',</p><p class="source-code">    );</p><p class="source-code">    return (</p><p class="source-code">      &lt;div className='Board-wrapper'&gt;</p><p class="source-code">        {lanes.map((lane) =&gt; (</p><p class="source-code">          &lt;Lane</p><p class="source-code">            key={lane.id}</p><p class="source-code">            title={lane.title}</p><p class="source-code">            loading={loading}</p><p class="source-code">            error={error}</p><p class="source-code">            tasks={tasks.filter((task) =&gt; </p><p class="source-code">                   task.lane === lane.id)}</p><p class="source-code"><strong class="bold">+           onDragStart={onDragStart}</strong></p><p class="source-code">          /&gt;</p><p class="source-code">        ))}</p><p class="source-code">      &lt;/div&gt;</p><p class="source-code">    );</p><p class="source-code">  }</p><p class="source-code">  export default Board;</p></li>
				<li>In the <strong class="source-inline">Lane</strong> component, we<a id="_idIndexMarker148"/> need to pass this <strong class="source-inline">event handler</strong> function to the <strong class="source-inline">Task</strong> component:<p class="source-code">  // ...</p><p class="source-code"><strong class="bold">- function Lane({ title, loading, error, tasks }) {</strong></p><p class="source-code"><strong class="bold">+ function Lane({ title, loading, error, tasks, </strong></p><p class="source-code"><strong class="bold">    onDragStart }) {</strong></p><p class="source-code">    return (</p><p class="source-code">      &lt;div className='Lane-wrapper'&gt;</p><p class="source-code">        &lt;h2&gt;{title}&lt;/h2&gt;</p><p class="source-code">        {loading || error ? (</p><p class="source-code">          &lt;span&gt;{error || 'Loading...'}&lt;/span&gt;</p><p class="source-code">        ) : (</p><p class="source-code">          tasks.map((task) =&gt; (</p><p class="source-code">            &lt;Task</p><p class="source-code">              key={task.id}</p><p class="source-code">              title={task.title}</p><p class="source-code">              body={task.body}</p><p class="source-code"><strong class="bold">+             onDragStart={onDragStart}</strong></p><p class="source-code">            /&gt;</p><p class="source-code">          ))</p><p class="source-code">        )}</p><p class="source-code">      &lt;/div&gt;</p><p class="source-code">    );</p><p class="source-code">  }</p><p class="source-code">  export default Lane;</p></li>
				<li>Now, we can invoke this function in the <strong class="source-inline">Task</strong> component, where we also need to add the draggable attribute to the <strong class="source-inline">div</strong> element with the class name <strong class="source-inline">Task-wrapper</strong>. Here, we <a id="_idIndexMarker149"/>send the element and the task ID as a parameter to the event handler:<p class="source-code">  import './Task.css';</p><p class="source-code"><strong class="bold">- function Task({ title, body }) { </strong></p><p class="source-code"><strong class="bold">+ function Task({ id, title, body, onDragStart }) {</strong></p><p class="source-code">    return (</p><p class="source-code">      &lt;div</p><p class="source-code">        className='Task-wrapper'</p><p class="source-code"><strong class="bold">+       draggable</strong></p><p class="source-code"><strong class="bold">+       onDragStart={(e) =&gt; onDragStart(e, id)}</strong></p><p class="source-code">      &gt;</p><p class="source-code">        &lt;h3&gt;{title}&lt;/h3&gt;</p><p class="source-code">        &lt;p&gt;{body}&lt;/p&gt;</p><p class="source-code">      &lt;/div&gt;</p><p class="source-code">    );</p><p class="source-code">  }</p><p class="source-code">  export default Task;</p></li>
			</ol>
			<p>After making these changes, we should be able to see that each task can be dragged around. But don't drop them anywhere yet – the other drop events and event handlers that update the state should be added as well. Dragging a task from one lane to another can be done by clicking on a task without releasing the mouse and dragging it to another lane, as shown in the following screenshot:</p>
			<div>
				<div id="_idContainer018" class="IMG---Figure">
					<img src="image/Figure_3.4_B17390.jpg" alt="Figure 3.4 – The interactive project management board&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.4 – The interactive project management board</p>
			<p>With the <strong class="source-inline">onDragStart</strong> event implemented, the <strong class="source-inline">onDragOver</strong> and <strong class="source-inline">onDrop</strong> events can be<a id="_idIndexMarker150"/> implemented as well. Let's get started:</p>
			<ol>
				<li value="1">By default, it's impossible to drop elements into another element – for example, a <strong class="source-inline">Task</strong> component into a <strong class="source-inline">Lane</strong> component. This can be prevented by calling the <strong class="source-inline">preventDefault</strong> method for the <strong class="source-inline">onDragOver</strong> event:<p class="source-code">  // ...</p><p class="source-code">  function onDragStart(e, id) {</p><p class="source-code">    e.dataTransfer.setData('id', id);</p><p class="source-code">  }</p><p class="source-code"><strong class="bold">+ function onDragOver(e) {</strong></p><p class="source-code"><strong class="bold">+   e.preventDefault();</strong></p><p class="source-code"><strong class="bold">+ };</strong></p><p class="source-code">  function Board() {</p><p class="source-code">    const [loading, error, tasks] = useDataFetching(</p><p class="source-code">      'https://my-json-server.typicode.com/</p><p class="source-code">       PacktPublishing/React-Projects-Second-Edition/</p><p class="source-code">       tasks',</p><p class="source-code">    );</p><p class="source-code">    return (</p><p class="source-code">      &lt;div className='Board-wrapper'&gt;</p><p class="source-code">        {lanes.map((lane) =&gt; (</p><p class="source-code">          &lt;Lane</p><p class="source-code">            key={lane.id}</p><p class="source-code">            title={lane.title}</p><p class="source-code">            loading={loading}</p><p class="source-code">            error={error}</p><p class="source-code">            tasks={tasks.filter((task) =&gt; </p><p class="source-code">                   task.lane === lane.id)}</p><p class="source-code">            onDragStart={onDragStart}</p><p class="source-code"><strong class="bold">+           onDragOver={onDragOver}</strong></p><p class="source-code">          /&gt;</p><p class="source-code">        ))}</p><p class="source-code">      &lt;/div&gt;</p><p class="source-code">    );</p><p class="source-code">  }</p><p class="source-code">  export default Board;</p></li>
				<li>This<a id="_idIndexMarker151"/> function needs to be imported and placed as an event handler on the <strong class="source-inline">div </strong>element with the class name <strong class="source-inline">Lane-wrapper</strong> in the <strong class="source-inline">Lane</strong> component:<p class="source-code">  // ...</p><p class="source-code"><strong class="bold">- function Lane({ title, loading, error, tasks, </strong></p><p class="source-code"><strong class="bold">    onDragStart }) {</strong></p><p class="source-code"><strong class="bold">+ function Lane({ title, loading, error, tasks, </strong></p><p class="source-code"><strong class="bold">    onDragStart, onDragOver }) {</strong></p><p class="source-code">    return (</p><p class="source-code"><strong class="bold">-     &lt;div className='Lane-wrapper'&gt;</strong></p><p class="source-code"><strong class="bold">+     &lt;div className='Lane-wrapper' </strong></p><p class="source-code"><strong class="bold">       onDragOver={onDragOver}&gt;</strong></p><p class="source-code">        &lt;h2&gt;{title}&lt;/h2&gt;</p><p class="source-code">        // ...</p></li>
				<li>The <strong class="source-inline">onDrop</strong> event is where things get interesting, since this event makes it possible for us to mutate the state after we've finished the drag operation. Before we can add this event handler, we need to create a new local state variable called <strong class="source-inline">tasks</strong> in the <strong class="source-inline">Board</strong> component. This state variable is overwritten when the data is being fetched from the <strong class="source-inline">useDataFetching</strong> Hook and is used to display<a id="_idIndexMarker152"/> the tasks from the <strong class="source-inline">Lane</strong> components:<p class="source-code"><strong class="bold">+ import { useEffect, useState } from 'react';</strong></p><p class="source-code">  import Lane from '../../components/Lane/Lane';</p><p class="source-code">  import useDataFetching from</p><p class="source-code">    '../../hooks/useDataFetching';</p><p class="source-code">  import './Board.css';</p><p class="source-code">  // ...</p><p class="source-code">  function Board() {</p><p class="source-code">    const [</p><p class="source-code">      loading, </p><p class="source-code">      error, </p><p class="source-code"><strong class="bold">-     tasks</strong></p><p class="source-code"><strong class="bold">+     data] = useDataFetching(</strong></p><p class="source-code"><strong class="bold">        'https://my-json-server.typicode.com/</strong></p><p class="source-code"><strong class="bold">         PacktPublishing/React-Projects-Second-Edition/</strong></p><p class="source-code"><strong class="bold">         tasks',</strong></p><p class="source-code"><strong class="bold">  );</strong></p><p class="source-code"><strong class="bold">+   const [tasks, setTasks] = useState([]);</strong></p><p class="source-code"><strong class="bold">+   useEffect(() =&gt; {</strong></p><p class="source-code"><strong class="bold">+     setTasks(data);</strong></p><p class="source-code"><strong class="bold">+   }, [data]);</strong></p><p class="source-code">  // ...</p><p class="source-code">  return (</p><p class="source-code">    // ...</p></li>
				<li>The<a id="_idIndexMarker153"/> new event handler function can now be created, and when it's invoked, we can call the <strong class="source-inline">setTasks</strong> function from the <strong class="source-inline">useState</strong> Hook for the tasks state:<p class="source-code">  // ...</p><p class="source-code">  function Board() {</p><p class="source-code">    // ...</p><p class="source-code"><strong class="bold">+   function onDrop(e, laneId) {</strong></p><p class="source-code"><strong class="bold">+     const id = e.dataTransfer.getData('id');</strong></p><p class="source-code"><strong class="bold">+     const updatedTasks = tasks.filter((task) =&gt; {</strong></p><p class="source-code"><strong class="bold">+       if (task.id.toString() === id) {</strong></p><p class="source-code"><strong class="bold">+         task.lane = laneId;</strong></p><p class="source-code"><strong class="bold">+       }</strong></p><p class="source-code"><strong class="bold">+       return task;</strong></p><p class="source-code"><strong class="bold">+     });</strong></p><p class="source-code"><strong class="bold">+     setTasks(updatedTasks);</strong></p><p class="source-code"><strong class="bold">+   }</strong></p><p class="source-code">    return (</p><p class="source-code">      // ...</p></li>
				<li>Also, this<a id="_idIndexMarker154"/> event handler function should be passed as a prop to the <strong class="source-inline">Task</strong> component:<p class="source-code">    // ...</p><p class="source-code">    Return (</p><p class="source-code">      &lt;div className='Board-wrapper'&gt;</p><p class="source-code">        {lanes.map((lane) =&gt; (</p><p class="source-code">          &lt;Lane</p><p class="source-code">            key={lane.id}</p><p class="source-code"><strong class="bold">+           laneId={lane.id}</strong></p><p class="source-code">            title={lane.title}</p><p class="source-code">            loading={loading}</p><p class="source-code">            error={error}</p><p class="source-code">            tasks={tasks.filter((task) =&gt; </p><p class="source-code">                   task.lane === lane.id)}</p><p class="source-code">            onDragStart={onDragStart}</p><p class="source-code">            onDragOver={onDragOver}</p><p class="source-code"><strong class="bold">+           onDrop={onDrop}</strong></p><p class="source-code">          /&gt;</p><p class="source-code">        ))}</p><p class="source-code">      &lt;/div&gt;</p><p class="source-code">    );</p><p class="source-code">  }</p><p class="source-code">  export default Board;</p></li>
			</ol>
			<p>This <strong class="source-inline">onDrop</strong> event handler function takes an element and the ID of the lane as a parameter because it needs the ID of the dragged element and the new lane it should be placed in. With this information, the function uses a <strong class="source-inline">filter</strong> function to find the task that needs to be moved and changes the ID of the lane. This new information will replace the current object for the task in the state with the <strong class="source-inline">setState</strong> function. </p>
			<ol>
				<li value="6">Since <a id="_idIndexMarker155"/>the <strong class="source-inline">onDrop</strong> event gets fired from the <strong class="source-inline">Lane</strong> component, it is passed as a prop to this component. Also, the ID of the lane is added as a prop because this needs to be passed to the <strong class="source-inline">onDrop</strong> event handler function from the <strong class="source-inline">Lane</strong> component:<p class="source-code">  import Task from '../Task/Task';</p><p class="source-code">  import './Lane.css';</p><p class="source-code">  function Lane({</p><p class="source-code"><strong class="bold">+   laneId,</strong></p><p class="source-code">    title,</p><p class="source-code">    loading,</p><p class="source-code">    error,</p><p class="source-code">    tasks,</p><p class="source-code">    onDragStart,</p><p class="source-code">    onDragOver,</p><p class="source-code"><strong class="bold">+   onDrop,</strong></p><p class="source-code">  }) {</p><p class="source-code">    return (</p><p class="source-code">      &lt;div</p><p class="source-code">        className='Lane-wrapper'</p><p class="source-code">        onDragOver={onDragOver}</p><p class="source-code"><strong class="bold">+       onDrop={(e) =&gt; onDrop(e, laneId)}</strong></p><p class="source-code">      &gt;</p><p class="source-code">      // ...</p></li>
			</ol>
			<p>With this, we're able to drag and drop tasks onto other lanes in our board – something that you can <a id="_idIndexMarker156"/>also do for the <strong class="source-inline">Backlog</strong> component – or even make this logic reusable with another custom Hook. But instead, we'll be looking at how to make the styling for our component more flexible and reusable by using the <strong class="source-inline">styled-components</strong> library in the next section.</p>
			<h1 id="_idParaDest-45"><a id="_idTextAnchor049"/>Styling in React with styled-components</h1>
			<p>So far, we've been using CSS files to add styling to our React components. However, this forces us to import these files across different components, which makes our code less reusable. Therefore, we'll add the <strong class="source-inline">styled-components</strong> package to the project, which allows us to write CSS inside JavaScript (so-called CSS-in-JS) and create components.</p>
			<p>By doing this, we'll get more flexibility out of styling our components, be able to prevent the duplication or<a id="_idIndexMarker157"/> overlapping of styles due to <strong class="source-inline">classNames</strong>, and add dynamic styling to components with ease. All of this can be done using the same syntax we used for CSS, right inside our React components.</p>
			<p>The first step is<a id="_idIndexMarker158"/> installing <strong class="source-inline">styled-components</strong> using npm:</p>
			<p class="source-code">npm install styled-components</p>
			<p class="callout-heading">Note</p>
			<p class="callout">If you look at the official documentation of <strong class="source-inline">styled-components</strong>, you will notice that they strongly advise you to use the Babel plugin for this package as well. But since you're using Create React App to initialize your project, you don't need to add this plugin, as all the compilation that your application needs has already been taken care of by <strong class="source-inline">react-scripts</strong>.</p>
			<p>After <a id="_idIndexMarker159"/>installing <strong class="source-inline">styled-components</strong>, let's try to delete the CSS file from one of our components. A good start will be the <strong class="source-inline">Task</strong> component<a id="_idIndexMarker160"/> since this is a very small component with limited functionality:</p>
			<ol>
				<li value="1">Start by importing the <strong class="source-inline">styled-components</strong> package and creating a new styled component called <strong class="source-inline">TaskWrapper</strong>. This component extends a <strong class="source-inline">div</strong> element and takes the CSS rules we already have for the <strong class="source-inline">Task-wrapper</strong> class name in <strong class="source-inline">Task.css</strong>. Also, we no longer have to import this file, since all the styling is now being done inside this JavaScript file:<p class="source-code"><strong class="bold">+ import styled from 'styled-components';</strong></p><p class="source-code"><strong class="bold">- import './Task.css';</strong></p><p class="source-code"><strong class="bold">+ const TaskWrapper = styled.div`</strong></p><p class="source-code"><strong class="bold">+   background: darkGray;</strong></p><p class="source-code"><strong class="bold">+   padding: 20px;</strong></p><p class="source-code"><strong class="bold">+   border-radius: 20px;</strong></p><p class="source-code"><strong class="bold">+   margin: 0% 5% 5% 5%;</strong></p><p class="source-code"><strong class="bold">+   h3 {</strong></p><p class="source-code"><strong class="bold">+     width: 100%;</strong></p><p class="source-code"><strong class="bold">+     margin: 0;</strong></p><p class="source-code"><strong class="bold">+   }</strong></p><p class="source-code"><strong class="bold">+ `;</strong></p><p class="source-code">  function Task({ id, title, body, onDragStart }) {</p><p class="source-code">    return (</p><p class="source-code"><strong class="bold">-     &lt;div className="Task-wrapper"</strong></p><p class="source-code"><strong class="bold">+     &lt;TaskWrapper </strong></p><p class="source-code">        draggable </p><p class="source-code">        onDragStart={(e) =&gt; onDragStart(e, id)}</p><p class="source-code">      &gt;</p><p class="source-code">        &lt;h3&gt;{title}&lt;/h3&gt;</p><p class="source-code">        &lt;p&gt;{body}&lt;/p&gt;</p><p class="source-code"><strong class="bold">-     &lt;/div&gt;</strong></p><p class="source-code"><strong class="bold">+     &lt;/TaskWrapper&gt;</strong></p><p class="source-code">  );</p><p class="source-code">}</p><p class="source-code">export default Task;</p></li>
				<li>In the<a id="_idIndexMarker161"/> preceding code block, we've added the styling of the <strong class="source-inline">h3</strong> element in the styled component for <strong class="source-inline">TaskWrapper</strong>, but we can also do this inside a specific styled component as well:<p class="source-code">  import styled from 'styled-components';</p><p class="source-code">  </p><p class="source-code">  // ...</p><p class="source-code"><strong class="bold">-   h3 {</strong></p><p class="source-code"><strong class="bold">-     width: 100%;</strong></p><p class="source-code"><strong class="bold">-     margin: 0;</strong></p><p class="source-code"><strong class="bold">-   }</strong></p><p class="source-code"><strong class="bold">- `;</strong></p><p class="source-code"><strong class="bold">+ const Title = styled.h3`</strong></p><p class="source-code"><strong class="bold">+   width: 100%;</strong></p><p class="source-code"><strong class="bold">+   margin: 0;</strong></p><p class="source-code"><strong class="bold">+ `;</strong></p><p class="source-code">  function Task({ id, title, body, onDragStart }) {</p><p class="source-code">    return (</p><p class="source-code">      &lt;TaskWrapper </p><p class="source-code">        draggable </p><p class="source-code">        onDragStart={(e) =&gt; onDragStart(e, id)}</p><p class="source-code">      &gt;</p><p class="source-code"><strong class="bold">-       &lt;h3&gt;{title}&lt;/h3&gt;</strong></p><p class="source-code"><strong class="bold">+       &lt;Title&gt;{title}&lt;/Title&gt;</strong></p><p class="source-code">        &lt;p&gt;{body}&lt;/p&gt;</p><p class="source-code">      &lt;/TaskWrapper&gt;</p><p class="source-code">  );</p><p class="source-code">}</p><p class="source-code">export default Task;</p></li>
				<li>We can also do this for the other components in our project, starting with the <strong class="source-inline">Lane</strong> component, for which we first need to create the styled components that use the <a id="_idIndexMarker162"/>same styling as those in the <strong class="source-inline">Lane.css</strong> file:<p class="source-code"><strong class="bold">+ import styled from 'styled-components';</strong></p><p class="source-code">  import Task from '../Task/Task';</p><p class="source-code"><strong class="bold">- import './Lane.css';</strong></p><p class="source-code"><strong class="bold">+ const LaneWrapper = styled.div`</strong></p><p class="source-code"><strong class="bold">+   text-align: left;</strong></p><p class="source-code"><strong class="bold">+   padding: 0;</strong></p><p class="source-code"><strong class="bold">+   background: lightGray;</strong></p><p class="source-code"><strong class="bold">+   border-radius: 20px;</strong></p><p class="source-code"><strong class="bold">+   min-height: 50vh;</strong></p><p class="source-code"><strong class="bold">+   width: 20vw;</strong></p><p class="source-code"><strong class="bold">+   @media (max-width: 768px) {</strong></p><p class="source-code"><strong class="bold">+     margin-bottom: 5%;</strong></p><p class="source-code"><strong class="bold">+   }</strong></p><p class="source-code"><strong class="bold">+ `;</strong></p><p class="source-code"><strong class="bold">+ const Title = styled.h2`</strong></p><p class="source-code"><strong class="bold">+   width: 100%;</strong></p><p class="source-code"><strong class="bold">+   padding-bottom: 10px;</strong></p><p class="source-code"><strong class="bold">+   text-align: center;</strong></p><p class="source-code"><strong class="bold">+   border-bottom: 1px solid darkGray;</strong></p><p class="source-code"><strong class="bold">+ `;</strong></p><p class="source-code">  function Lane({</p><p class="source-code">    // ...</p></li>
				<li>Replace<a id="_idIndexMarker163"/> the existing <strong class="source-inline">div</strong> and <strong class="source-inline">h3</strong> elements with these new components:<p class="source-code">  // ...</p><p class="source-code">  function Lane({</p><p class="source-code">    laneId,</p><p class="source-code">    title,</p><p class="source-code">    loading,</p><p class="source-code">    error,</p><p class="source-code">    tasks,</p><p class="source-code">    onDragStart,</p><p class="source-code">    onDragOver,</p><p class="source-code">    onDrop,</p><p class="source-code">  }) {</p><p class="source-code">    return (</p><p class="source-code"><strong class="bold">-     &lt;div className="Lane-wrapper"    </strong></p><p class="source-code"><strong class="bold">+     &lt;LaneWrapper </strong></p><p class="source-code">        onDragOver={onDragOver} </p><p class="source-code">        onDrop={(e) =&gt; onDrop(e, laneId)}</p><p class="source-code">      &gt;</p><p class="source-code"><strong class="bold">-       &lt;h3&gt;{title}&lt;/h3&gt;</strong></p><p class="source-code"><strong class="bold">+       &lt;Title&gt;{title}&lt;/Title&gt;</strong></p><p class="source-code">        {loading || error ? (</p><p class="source-code">          &lt;span&gt;{error || 'Loading...'}&lt;/span&gt;</p><p class="source-code">        ) : (</p><p class="source-code">          // ...</p><p class="source-code">        )}</p><p class="source-code"><strong class="bold">-     &lt;/div&gt;</strong></p><p class="source-code"><strong class="bold">+     &lt;/LaneWrapper&gt;</strong></p><p class="source-code">    );</p><p class="source-code">  }</p><p class="source-code">  export default Lane;</p></li>
			</ol>
			<p>If we <a id="_idIndexMarker164"/>visit our project in the browser after running <strong class="source-inline">npm start</strong> again, we'll see that our application still looks the same after deleting the CSS files for the Ticket and <strong class="source-inline">Lane</strong> component. You can, of course, also do the same thing for the other components in the project.</p>
			<p>Let's proceed and convert another component to use <strong class="source-inline">styled-components</strong> instead of CSS – for example, the component in the <strong class="source-inline">src/App.js</strong> file. This one is using the <strong class="source-inline">src/App.css</strong> file to style the <strong class="source-inline">div</strong> element that wraps all the components in our application:</p>
			<p class="source-code"><strong class="bold">- import './App.css';</strong></p>
			<p class="source-code"><strong class="bold">+ import styled from 'styled-components';</strong></p>
			<p class="source-code">  import Board from './pages/Board/Board';</p>
			<p class="source-code">  import Header from './components/Header/Header';</p>
			<p class="source-code">  import Backlog from './pages/Backlog/Backlog';</p>
			<p class="source-code"><strong class="bold">+ const AppWrapper = styled.div`</strong></p>
			<p class="source-code"><strong class="bold">+   text-align: center;</strong></p>
			<p class="source-code"><strong class="bold">+ `;</strong></p>
			<p class="source-code">  function App() {</p>
			<p class="source-code">    return (</p>
			<p class="source-code"><strong class="bold">-     &lt;div className='App'&gt;</strong></p>
			<p class="source-code"><strong class="bold">+     &lt;AppWrapper&gt;</strong></p>
			<p class="source-code">        &lt;Header /&gt;</p>
			<p class="source-code">        &lt;Board /&gt;</p>
			<p class="source-code">        &lt;Backlog /&gt;</p>
			<p class="source-code"><strong class="bold">-     &lt;/div&gt;</strong></p>
			<p class="source-code"><strong class="bold">+     &lt;/AppWrapper&gt;</strong></p>
			<p class="source-code">    );</p>
			<p class="source-code">  }</p>
			<p class="source-code">  export default App;</p>
			<p>After <a id="_idIndexMarker165"/>making these changes, you can delete the <strong class="source-inline">src/App.css</strong> file as we're no longer using it to style the <strong class="source-inline">App</strong> component. </p>
			<p>Another possibility with <strong class="source-inline">styled-components</strong> is creating a global style for our application, which is currently done in <strong class="source-inline">src/index.css</strong>. This file is imported in <strong class="source-inline">src/index.js</strong> and therefore loaded into every page of the application, as it is the entry to our React application. But the <strong class="source-inline">App</strong> component in <strong class="source-inline">src/App.js</strong> also wraps all our components, in which we can copy the styling rules from <strong class="source-inline">src/index.css</strong> and use them<a id="_idIndexMarker166"/> to create a <strong class="source-inline">GlobalStyle</strong> component:</p>
			<p class="source-code"><strong class="bold">- import styled from 'styled-components'; </strong></p>
			<p class="source-code"><strong class="bold">+ import styled, { createGlobalStyle } from </strong></p>
			<p class="source-code"><strong class="bold">    'styled-components';</strong></p>
			<p class="source-code">  import Board from './pages/Board/Board';</p>
			<p class="source-code">  import Header from './components/Header/Header';</p>
			<p class="source-code">  import Backlog from './pages/Backlog/Backlog';</p>
			<p class="source-code"><strong class="bold">+ const GlobalStyle = createGlobalStyle`</strong></p>
			<p class="source-code"><strong class="bold">+   body {</strong></p>
			<p class="source-code"><strong class="bold">+     margin: 0;</strong></p>
			<p class="source-code"><strong class="bold">+     font-family: -apple-system, BlinkMacSystemFont, </strong></p>
			<p class="source-code"><strong class="bold">        'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu',</strong></p>
			<p class="source-code"><strong class="bold">        'Cantarell', 'Fira Sans', 'Droid Sans', </strong></p>
			<p class="source-code"><strong class="bold">        'Helvetica Neue', sans-serif;</strong></p>
			<p class="source-code"><strong class="bold">+     -webkit-font-smoothing: antialiased;</strong></p>
			<p class="source-code"><strong class="bold">+     -moz-osx-font-smoothing: grayscale;</strong></p>
			<p class="source-code"><strong class="bold">+   }</strong></p>
			<p class="source-code"><strong class="bold">+ `;</strong></p>
			<p class="source-code">  const AppWrapper = styled.div`</p>
			<p class="source-code">    // ...</p>
			<p>This global style that we just created must be added to the return statement for the <strong class="source-inline">App</strong> component, above the <strong class="source-inline">AppWrapper</strong> component. As we can only return a single element or component from the <strong class="source-inline">return</strong> statement, we need to wrap the contents into another element. If we wanted to apply styling to this element, we could do this with a <strong class="source-inline">div</strong> element. As we don't want that in this scenario, we'll be using a React fragment instead. With <a id="_idIndexMarker167"/>a fragment, we can wrap elements and components without rendering anything in the browser:</p>
			<p class="source-code">  // ...</p>
			<p class="source-code">  function App() {</p>
			<p class="source-code">    return (</p>
			<p class="source-code"><strong class="bold">+     &lt;&gt;</strong></p>
			<p class="source-code"><strong class="bold">+       &lt;GlobalStyle /&gt;</strong></p>
			<p class="source-code">        &lt;AppWrapper&gt;</p>
			<p class="source-code">          &lt;Header /&gt;</p>
			<p class="source-code">          &lt;Board /&gt;</p>
			<p class="source-code">          &lt;Backlog /&gt;</p>
			<p class="source-code">        &lt;/AppWrapper&gt;</p>
			<p class="source-code"><strong class="bold">+     &lt;/&gt;</strong></p>
			<p class="source-code">    );</p>
			<p class="source-code">  }</p>
			<p class="source-code">  export default App;</p>
			<p class="callout-heading">Note</p>
			<p class="callout">The <strong class="source-inline">&lt;&gt;</strong> notation is shorthand for <strong class="source-inline">&lt;React.Fragment&gt;</strong>; you can use both notations in React. For the <strong class="source-inline">&lt;React.Fragment&gt;</strong> notation, you can also import <strong class="source-inline">Fragment</strong> from React to write <strong class="source-inline">&lt;Fragment&gt;</strong>.</p>
			<p>Finally, you can delete the <strong class="source-inline">src/index.css</strong> file and the line in <strong class="source-inline">src/index.js</strong> that imports this <a id="_idIndexMarker168"/>file into our application:</p>
			<p class="source-code">  import React from 'react'; </p>
			<p class="source-code">  import ReactDOM from 'react-dom/client';</p>
			<p class="source-code"><strong class="bold">- import './index.css';</strong></p>
			<p class="source-code">  import App from './App';</p>
			<p class="source-code">  import reportWebVitals from './reportWebVitals';</p>
			<p class="source-code">  const root = ReactDOM.createRoot(</p>
			<p class="source-code">    document.getElementById('root'));</p>
			<p class="source-code">    // ...</p>
			<p>With these final additions, we've styled large parts of our application with <strong class="source-inline">styled-components</strong> instead of CSS. By writing the styling rules directly in the components, we can reduce the number of files in the project and also make it easier to find what styling is applied to our elements.</p>
			<h1 id="_idParaDest-46"><a id="_idTextAnchor050"/>Summary</h1>
			<p>In this chapter, you created a project management board that lets you move, drag, and drop tasks from one lane to another using the HTML5 Drag and Drop API. The data flow of this application is handled using local state and life cycles and determines which tasks are displayed in the different lanes. This chapter also introduced the advanced React pattern of custom Hooks. With custom Hooks, you can reuse state logic in function components across your applications.</p>
			<p>This advanced pattern will be also be used in the next chapter, which will handle routing and <strong class="bold">Server-Side Rendering</strong> (<strong class="bold">SSR</strong>) in React applications using Next.js. Have you ever tried using Stack Overflow to find a solution to a programming issue you once had? I have! In the next chapter, we will be building a community feed that uses Stack Overflow as a data source and React to render the application.</p>
			<h1 id="_idParaDest-47"><a id="_idTextAnchor051"/>Further reading</h1>
			<ul>
				<li>The HTML Drag and Drop API: <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API">https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API</a></li>
				<li>DataTransfer: <a href="https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer">https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer</a></li>
				<li>React DnD: <a href="https://github.com/react-dnd/react-dnd">https://github.com/react-dnd/react-dnd</a></li>
			</ul>
		</div>
	</body></html>