<html><head></head><body>
<div id="_idContainer257">
<h1 class="chapter-number" id="_idParaDest-183"><a id="_idTextAnchor353"/><span class="koboSpan" id="kobo.1.1">8</span></h1>
<h1 id="_idParaDest-184"><a id="_idTextAnchor354"/><span class="koboSpan" id="kobo.2.1">Animations and Transitions</span></h1>
<p><span class="koboSpan" id="kobo.3.1">In the previous chapter, you learned about routes and how to set up an essential routing navigation system using Vue Router. </span><span class="koboSpan" id="kobo.3.2">Empowering a smooth transition between different routes or providing your application with the proper animation effects when users interact with it is the next level </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">to achieve.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">Throughout this chapter, you will explore the essentials of Vue transitions—how to create your transitions, including single-element animations and animations that use a group of elements, and how to combine them with external libraries for further custom animations. </span><span class="koboSpan" id="kobo.5.2">You will also learn how to create full-page animations with </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">transition routes.</span></span></p>
<p><span class="koboSpan" id="kobo.7.1">By the end of the chapter, you will be ready to implement and handle the fundamental transition and animation effects for any </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">Vue application.</span></span><a id="_idTextAnchor355"/></p>
<p><span class="koboSpan" id="kobo.9.1">This chapter covers the </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">following topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.11.1">Understanding </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">Vue transitions</span></span></li>
<li><span class="koboSpan" id="kobo.13.1">Exploring JavaScript Hooks </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">for transitions</span></span></li>
<li><span class="koboSpan" id="kobo.15.1">Transitioning groups </span><span class="No-Break"><span class="koboSpan" id="kobo.16.1">of elements</span></span></li>
<li><span class="koboSpan" id="kobo.17.1">Examining </span><span class="No-Break"><span class="koboSpan" id="kobo.18.1">transition routes</span></span></li>
<li><span class="koboSpan" id="kobo.19.1">Using the GSAP library </span><span class="No-Break"><span class="koboSpan" id="kobo.20.1">for animation</span></span></li>
</ul>
<h1 id="_idParaDest-185"><a id="_idTextAnchor356"/><span class="koboSpan" id="kobo.21.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.22.1">In this chapter, you need to set up a basic Vue project following the instructions in </span><a href="B18645_01.xhtml#_idTextAnchor015"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.23.1">Chapter 1</span></em></span></a><span class="koboSpan" id="kobo.24.1">, </span><em class="italic"><span class="koboSpan" id="kobo.25.1">Starting Your First Vue Project</span></em><span class="koboSpan" id="kobo.26.1">. </span><span class="koboSpan" id="kobo.26.2">You also need to add Vue Router, as learned about in </span><a href="B18645_07.xhtml#_idTextAnchor248"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.27.1">Chapter 7</span></em></span></a><span class="koboSpan" id="kobo.28.1">, </span><em class="italic"><span class="koboSpan" id="kobo.29.1">Routing</span></em><span class="koboSpan" id="kobo.30.1">, in some of its examples and exercises. </span><span class="koboSpan" id="kobo.30.2">It’s recommended to create a single file Vue component to practice the examples and concepts </span><span class="No-Break"><span class="koboSpan" id="kobo.31.1">mentioned easily.</span></span></p>
<p><a id="_idTextAnchor357"/><span class="koboSpan" id="kobo.32.1">You can find this chapter’s source code </span><span class="No-Break"><span class="koboSpan" id="kobo.33.1">here: </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter08"><span class="No-Break"><span class="koboSpan" id="kobo.34.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter08</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.35.1">.</span></span></p>
<h1 id="_idParaDest-186"><a id="_idTextAnchor358"/><span class="koboSpan" id="kobo.36.1">Understanding Vue transitions</span></h1>
<p><span class="koboSpan" id="kobo.37.1">Unlike other </span><a id="_idIndexMarker953"/><span class="koboSpan" id="kobo.38.1">frameworks, Vue.js provides developers with built-in support for animating Vue.js applications, including transitions and animations. </span><span class="koboSpan" id="kobo.38.2">Transitioning is implemented in such a simple manner that developers can easily configure and add it to their applications. </span><span class="koboSpan" id="kobo.38.3">The Vue.js transition mechanism supports CSS transitions, programmatic manipulation with JavaScript, and even integration with third-party animation libraries </span><a id="_idIndexMarker954"/><span class="koboSpan" id="kobo.39.1">such as </span><strong class="bold"><span class="koboSpan" id="kobo.40.1">GreenSock Animation API</span></strong><span class="koboSpan" id="kobo.41.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.42.1">GSAP</span></strong><span class="koboSpan" id="kobo.43.1">) </span><span class="No-Break"><span class="koboSpan" id="kobo.44.1">or </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.45.1">Animate.css</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.46.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.47.1">Before diving into this topic, let’s discuss the difference between transitions and animations. </span><span class="koboSpan" id="kobo.47.2">A </span><strong class="bold"><span class="koboSpan" id="kobo.48.1">transition</span></strong><span class="koboSpan" id="kobo.49.1"> happens </span><a id="_idIndexMarker955"/><span class="koboSpan" id="kobo.50.1">when a component (or element) moves from one state to another, such as hovering on a button, navigating from one page to another, displaying a pop-up modal, and so on. </span><span class="koboSpan" id="kobo.50.2">Meanwhile, </span><strong class="bold"><span class="koboSpan" id="kobo.51.1">animations</span></strong><span class="koboSpan" id="kobo.52.1"> are like</span><a id="_idIndexMarker956"/><span class="koboSpan" id="kobo.53.1"> transitions but are not limited to just </span><span class="No-Break"><span class="koboSpan" id="kobo.54.1">two states.</span></span></p>
<p><span class="koboSpan" id="kobo.55.1">Understanding the basics of transitions will allow you to get started </span><span class="No-Break"><span class="koboSpan" id="kobo.56.1">with animatio</span><a id="_idTextAnchor359"/><span class="koboSpan" id="kobo.57.1">ns.</span></span></p>
<h2 id="_idParaDest-187"><a id="_idTextAnchor360"/><span class="koboSpan" id="kobo.58.1">Using the transition element</span></h2>
<p><span class="koboSpan" id="kobo.59.1">To access the code file for this example, refer </span><span class="No-Break"><span class="koboSpan" id="kobo.60.1">to </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter08/Example8.01"><span class="No-Break"><span class="koboSpan" id="kobo.61.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter08/Example8.01</span></span></a></p>
<p><span class="koboSpan" id="kobo.62.1">In this</span><a id="_idIndexMarker957"/><span class="koboSpan" id="kobo.63.1"> example, to enable transitions for a single component or element, Vue.js provides the built-in </span><strong class="source-inline"><span class="koboSpan" id="kobo.64.1">transition</span></strong><span class="koboSpan" id="kobo.65.1"> component, which will wrap around the targeted element, as seen </span><span class="No-Break"><span class="koboSpan" id="kobo.66.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.67.1">./Example8.01/src/components/Example8-01.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.68.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.69.1">
&lt;transition name="fade-in"&gt;
  &lt;h1 v-show="show"&gt;{{ msg }}&lt;/h1&gt;
&lt;/transition&gt;</span></pre>
<p><span class="koboSpan" id="kobo.70.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.71.1">transition</span></strong><span class="koboSpan" id="kobo.72.1"> component adds two transition states—</span><strong class="source-inline"><span class="koboSpan" id="kobo.73.1">enter</span></strong><span class="koboSpan" id="kobo.74.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.75.1">leave</span></strong><span class="koboSpan" id="kobo.76.1">—for any targeted element or component, including components with conditional rendering (</span><strong class="source-inline"><span class="koboSpan" id="kobo.77.1">v-if</span></strong><span class="koboSpan" id="kobo.78.1">) and conditional </span><span class="No-Break"><span class="koboSpan" id="kobo.79.1">display (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.80.1">v-show</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.81.1">):</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.82.1">enter</span></strong><span class="koboSpan" id="kobo.83.1">: This transition state happens when the component </span><em class="italic"><span class="koboSpan" id="kobo.84.1">enters</span></em> <span class="No-Break"><span class="koboSpan" id="kobo.85.1">the DOM</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.86.1">leave</span></strong><span class="koboSpan" id="kobo.87.1">: This transition state happens when the component </span><em class="italic"><span class="koboSpan" id="kobo.88.1">leaves</span></em> <span class="No-Break"><span class="koboSpan" id="kobo.89.1">the DOM</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.90.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.91.1">transition</span></strong><span class="koboSpan" id="kobo.92.1"> component</span><a id="_idIndexMarker958"/><span class="koboSpan" id="kobo.93.1"> receives a prop called </span><strong class="source-inline"><span class="koboSpan" id="kobo.94.1">name</span></strong><span class="koboSpan" id="kobo.95.1"> that represents the name of the transition—in this case, it’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.96.1">fade-in</span></strong><span class="koboSpan" id="kobo.97.1">—and is also the prefix for the transition class names, which will be </span><span class="No-Break"><span class="koboSpan" id="kobo.98.1">discussed </span><a id="_idTextAnchor361"/><span class="koboSpan" id="kobo.99.1">next.</span></span></p>
<h2 id="_idParaDest-188"><a id="_idTextAnchor362"/><span class="koboSpan" id="kobo.100.1">Exploring transition classes</span></h2>
<p><span class="koboSpan" id="kobo.101.1">Vue.js implements a </span><a id="_idIndexMarker959"/><span class="koboSpan" id="kobo.102.1">CSS-based and class-based transition effect for </span><strong class="source-inline"><span class="koboSpan" id="kobo.103.1">leave</span></strong><span class="koboSpan" id="kobo.104.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.105.1">enter</span></strong><span class="koboSpan" id="kobo.106.1">—hence, the transition will be applied to the target component using a set of </span><span class="No-Break"><span class="koboSpan" id="kobo.107.1">class selectors.</span></span></p>
<p><span class="koboSpan" id="kobo.108.1">Each of these</span><a id="_idIndexMarker960"/><span class="koboSpan" id="kobo.109.1"> class selectors has the </span><strong class="source-inline"><span class="koboSpan" id="kobo.110.1">v-</span></strong><span class="koboSpan" id="kobo.111.1"> prefix in case there is no </span><strong class="source-inline"><span class="koboSpan" id="kobo.112.1">name</span></strong><span class="koboSpan" id="kobo.113.1"> prop given for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.114.1">transition</span></strong><span class="koboSpan" id="kobo.115.1"> component. </span><span class="koboSpan" id="kobo.115.2">The standard classes are grouped into two </span><span class="No-Break"><span class="koboSpan" id="kobo.116.1">main groups.</span></span></p>
<p><span class="koboSpan" id="kobo.117.1">The first group of transition classes is for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.118.1">enter</span></strong><span class="koboSpan" id="kobo.119.1"> transition when the component is first displayed. </span><span class="koboSpan" id="kobo.119.2">Here is a list of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.120.1">enter</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.121.1">transition classes:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.122.1">v-enter-from</span></strong><span class="koboSpan" id="kobo.123.1"> (or </span><strong class="source-inline"><span class="koboSpan" id="kobo.124.1">&lt;name&gt;-enter-from</span></strong><span class="koboSpan" id="kobo.125.1">): This is the starting state and is added to the component before the component is added or updated. </span><span class="koboSpan" id="kobo.125.2">This class will be removed after the component is inserted into the DOM and the transition finishes. </span><span class="koboSpan" id="kobo.125.3">In the </span><strong class="source-inline"><span class="koboSpan" id="kobo.126.1">&lt;style&gt;</span></strong><span class="koboSpan" id="kobo.127.1"> section of </span><strong class="source-inline"><span class="koboSpan" id="kobo.128.1">./Example8.01/src/components/Example8-01.vue</span></strong><span class="koboSpan" id="kobo.129.1">, we will set the </span><strong class="source-inline"><span class="koboSpan" id="kobo.130.1">.fade-in-enter-from</span></strong><span class="koboSpan" id="kobo.131.1"> starting state as completely hidden with </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.132.1">opacity: 0</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.133.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.134.1">
&lt;style&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.135.1">
.fade-in-enter-from {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.136.1">
  opacity: 0;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.137.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.138.1">
&lt;/style&gt;</span></pre></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.139.1">v-enter-active</span></strong><span class="koboSpan" id="kobo.140.1"> (or </span><strong class="source-inline"><span class="koboSpan" id="kobo.141.1">&lt;name&gt;-enter-active</span></strong><span class="koboSpan" id="kobo.142.1">): This class defines the delay, duration, and easing curve when the component is actively entering the transition. </span><span class="koboSpan" id="kobo.142.2">It will be added to the component before the component is inserted, applied to the component during the entire entering phase, and removed once the effect completes. </span><span class="koboSpan" id="kobo.142.3">Using </span><strong class="source-inline"><span class="koboSpan" id="kobo.143.1">Example 8-01</span></strong><span class="koboSpan" id="kobo.144.1"> from the previous section, let’s add </span><strong class="source-inline"><span class="koboSpan" id="kobo.145.1">.fade-in-enter-active</span></strong><span class="koboSpan" id="kobo.146.1">, which will transition into an adjusted </span><strong class="source-inline"><span class="koboSpan" id="kobo.147.1">opacity</span></strong><span class="koboSpan" id="kobo.148.1"> state within </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.149.1">3</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.150.1"> seconds:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.151.1">
.fade-in-enter-active {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.152.1">
  transition: opacity 3s ease-in;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.153.1">
}</span></pre></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.154.1">v-enter-to</span></strong><span class="koboSpan" id="kobo.155.1"> (or </span><strong class="source-inline"><span class="koboSpan" id="kobo.156.1">&lt;name&gt;-enter-to</span></strong><span class="koboSpan" id="kobo.157.1">): This is the last sub-state of entering, where the effect frame is added after the component is inserted and removed when the effect finishes. </span><span class="koboSpan" id="kobo.157.2">In our example, we do not need to define anything since the </span><strong class="source-inline"><span class="koboSpan" id="kobo.158.1">opacity</span></strong><span class="koboSpan" id="kobo.159.1"> value for this state should </span><span class="No-Break"><span class="koboSpan" id="kobo.160.1">be </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.161.1">1</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.162.1">.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.163.1">The </span><a id="_idIndexMarker961"/><span class="koboSpan" id="kobo.164.1">second</span><a id="_idIndexMarker962"/><span class="koboSpan" id="kobo.165.1"> group of classes consists of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.166.1">leave</span></strong><span class="koboSpan" id="kobo.167.1"> transitions, which trigger when the component is disabled or removed </span><span class="No-Break"><span class="koboSpan" id="kobo.168.1">from view:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.169.1">v-leave-from</span></strong><span class="koboSpan" id="kobo.170.1"> (or </span><strong class="source-inline"><span class="koboSpan" id="kobo.171.1">&lt;name&gt;-leave-from</span></strong><span class="koboSpan" id="kobo.172.1">): This is the starting state for the leaving transition. </span><span class="koboSpan" id="kobo.172.2">As with </span><strong class="source-inline"><span class="koboSpan" id="kobo.173.1">v-enter-to</span></strong><span class="koboSpan" id="kobo.174.1">, we don’t need to define styling effects for </span><span class="No-Break"><span class="koboSpan" id="kobo.175.1">this state.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.176.1">v-leave-active</span></strong><span class="koboSpan" id="kobo.177.1"> (or </span><strong class="source-inline"><span class="koboSpan" id="kobo.178.1">&lt;name&gt;-leave-active</span></strong><span class="koboSpan" id="kobo.179.1">): This is applied during the leaving phase and acts similarly to </span><strong class="source-inline"><span class="koboSpan" id="kobo.180.1">v-enter-active</span></strong><span class="koboSpan" id="kobo.181.1">. </span><span class="koboSpan" id="kobo.181.2">Since we want to have a fade-out effect, we will use the same styling as </span><span class="No-Break"><span class="koboSpan" id="kobo.182.1">with </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.183.1">fade-in-enter-active</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.184.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.185.1">
.fade-in-enter-active, .fade-in-leave-active {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.186.1">
  transition: opacity 3s ease-in;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.187.1">
}</span></pre></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.188.1">v-leave-to</span></strong><span class="koboSpan" id="kobo.189.1"> (or </span><strong class="source-inline"><span class="koboSpan" id="kobo.190.1">&lt;name&gt;-leave-to</span></strong><span class="koboSpan" id="kobo.191.1">): This is the ending state, with similar behavior to </span><strong class="source-inline"><span class="koboSpan" id="kobo.192.1">v-enter-to</span></strong><span class="koboSpan" id="kobo.193.1">. </span><span class="koboSpan" id="kobo.193.2">Since the component is going to disappear from view, we will reuse the styling defined for the starting phase of </span><strong class="source-inline"><span class="koboSpan" id="kobo.194.1">fade-in-enter-from</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.195.1">for </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.196.1">fade-in-leave-to</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.197.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.198.1">
.fade-in-enter-from, .fade-in-leave-to {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.199.1">
  opacity: 0;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.200.1">
}</span></pre></li>
</ul>
<p><span class="koboSpan" id="kobo.201.1">The following </span><a id="_idIndexMarker963"/><span class="koboSpan" id="kobo.202.1">screenshot is a recap of all the states of </span><strong class="source-inline"><span class="koboSpan" id="kobo.203.1">transition</span></strong><span class="koboSpan" id="kobo.204.1"> described </span><span class="No-Break"><span class="koboSpan" id="kobo.205.1">so far:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer239">
<span class="koboSpan" id="kobo.206.1"><img alt="Figure 8.1 – Diagram of transition phases" src="image/B18645_08_01.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.207.1">Figure 8.1 – Diagram of transition phases</span></p>
<p><span class="koboSpan" id="kobo.208.1">In this section, we </span><a id="_idIndexMarker964"/><span class="koboSpan" id="kobo.209.1">looked at three different </span><strong class="source-inline"><span class="koboSpan" id="kobo.210.1">enter</span></strong><span class="koboSpan" id="kobo.211.1"> transition states and three </span><strong class="source-inline"><span class="koboSpan" id="kobo.212.1">leave</span></strong><span class="koboSpan" id="kobo.213.1"> transition states. </span><span class="koboSpan" id="kobo.213.2">We also walked through using a transition state to slowly fade in some text when the text component enters a user’s view, and this also applies when the text disappears from the </span><span class="No-Break"><span class="koboSpan" id="kobo.214.1">user’s view.</span></span></p>
<p><span class="koboSpan" id="kobo.215.1">In the next section, we will explore adding animation effects to a component using these transition states that we have </span><span class="No-Break"><span class="koboSpan" id="kobo.216.1">lear</span><a id="_idTextAnchor363"/><span class="koboSpan" id="kobo.217.1">ned about.</span></span></p>
<h2 id="_idParaDest-189"><a id="_idTextAnchor364"/><span class="koboSpan" id="kobo.218.1">An animation for a component</span></h2>
<p><span class="koboSpan" id="kobo.219.1">To access the code file for this example, refer </span><span class="No-Break"><span class="koboSpan" id="kobo.220.1">to </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter08/Example8.02"><span class="No-Break"><span class="koboSpan" id="kobo.221.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter08/Example8.02</span></span></a></p>
<p><span class="koboSpan" id="kobo.222.1">Since</span><a id="_idIndexMarker965"/><span class="koboSpan" id="kobo.223.1"> an animation is basically an extended form of a transition (with more than two states), it is applied in the same way as a transition, with the exception that </span><strong class="source-inline"><span class="koboSpan" id="kobo.224.1">v-enter</span></strong><span class="koboSpan" id="kobo.225.1"> will only be removed for an </span><strong class="source-inline"><span class="koboSpan" id="kobo.226.1">animationend</span></strong><span class="koboSpan" id="kobo.227.1"> event triggered </span><span class="No-Break"><span class="koboSpan" id="kobo.228.1">by Vue.js.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.229.1">Note</span></p>
<p class="callout"><strong class="source-inline"><span class="koboSpan" id="kobo.230.1">animationend</span></strong><span class="koboSpan" id="kobo.231.1"> is a DOM event that is fired once the CSS animation finishes execution, with the condition that the target element still exists within the DOM and the animation is still attached to </span><span class="No-Break"><span class="koboSpan" id="kobo.232.1">that element.</span></span></p>
<p><span class="koboSpan" id="kobo.233.1">For</span><a id="_idIndexMarker966"/><span class="koboSpan" id="kobo.234.1"> example, in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.235.1">&lt;template&gt;</span></strong><span class="koboSpan" id="kobo.236.1"> section in </span><em class="italic"><span class="koboSpan" id="kobo.237.1">Exercise 8.02</span></em><span class="koboSpan" id="kobo.238.1">, we can define a new transition called </span><strong class="source-inline"><span class="koboSpan" id="kobo.239.1">slid</span></strong><span class="koboSpan" id="kobo.240.1">e using an animation CSS effect as a wrapper for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.241.1">h1</span></strong><span class="koboSpan" id="kobo.242.1"> element that displays </span><strong class="source-inline"><span class="koboSpan" id="kobo.243.1">msg</span></strong><span class="koboSpan" id="kobo.244.1">. </span><span class="koboSpan" id="kobo.244.2">This transition provides the animation effect of sliding from the left-hand side of the screen to the middle on entering and vice versa </span><span class="No-Break"><span class="koboSpan" id="kobo.245.1">on leaving.</span></span></p>
<p><span class="koboSpan" id="kobo.246.1">To get started, generate a </span><strong class="source-inline"><span class="koboSpan" id="kobo.247.1">vue</span></strong><span class="koboSpan" id="kobo.248.1"> starter project using the CLI with the </span><span class="No-Break"><span class="koboSpan" id="kobo.249.1">following command:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.250.1">
npm init vue@3</span></pre>
<p><span class="koboSpan" id="kobo.251.1">Next, open up the project, go into </span><strong class="source-inline"><span class="koboSpan" id="kobo.252.1">Example8.02/src/components/Example8-02.vue</span></strong><span class="koboSpan" id="kobo.253.1">, and then modify the existing </span><strong class="source-inline"><span class="koboSpan" id="kobo.254.1">&lt;</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.255.1">h1&gt;{{msg}}&lt;/h1&gt;</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.256.1"> code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.257.1">
&lt;transition name="s</span><a id="_idTextAnchor365"/><span class="koboSpan" id="kobo.258.1">lide"&gt;
  &lt;h1 v-if="show"&gt;{{ msg }}&lt;/h1&gt;
&lt;/transition&gt;</span></pre>
<p><span class="koboSpan" id="kobo.259.1">In </span><strong class="source-inline"><span class="koboSpan" id="kobo.260.1">&lt;style&gt;</span></strong><span class="koboSpan" id="kobo.261.1">, we need to define keyframes for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.262.1">slide</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.263.1">animation effect:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.264.1">
@keyframes slide {
  0% { transform: translateX(-100px)}
  100% { transform: translateX(0px)}
}</span></pre>
<p><span class="koboSpan" id="kobo.265.1">The related transition classes will be assigned the </span><span class="No-Break"><span class="koboSpan" id="kobo.266.1">following styling:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.267.1">
.slide-enter-from, .slide-leave-to {
  transform: translateX(-100px);
}
.slide-enter-active {
  animation: slide 5s;
}
.slide-leave-active {
  animation: slide 5s reverse;
}</span></pre>
<p><span class="koboSpan" id="kobo.268.1">This </span><a id="_idIndexMarker967"/><span class="koboSpan" id="kobo.269.1">means at the starting phase of </span><strong class="source-inline"><span class="koboSpan" id="kobo.270.1">enter</span></strong><span class="koboSpan" id="kobo.271.1"> and the ending phase of </span><strong class="source-inline"><span class="koboSpan" id="kobo.272.1">leave</span></strong><span class="koboSpan" id="kobo.273.1">, the text position will be </span><strong class="source-inline"><span class="koboSpan" id="kobo.274.1">-100px</span></strong><span class="koboSpan" id="kobo.275.1"> from the designated position on the page. </span><span class="koboSpan" id="kobo.275.2">The browser will animate the element using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.276.1">slide</span></strong><span class="koboSpan" id="kobo.277.1"> keyframe for a duration of 5 seconds, and in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.278.1">active</span></strong><span class="koboSpan" id="kobo.279.1"> state of leaving, the animation will be exactly the opposite of the one in the active state </span><span class="No-Break"><span class="koboSpan" id="kobo.280.1">of entering.</span></span></p>
<p><span class="koboSpan" id="kobo.281.1">You’ll also want to add </span><strong class="source-inline"><span class="koboSpan" id="kobo.282.1">show</span></strong><span class="koboSpan" id="kobo.283.1"> as a local data variable. </span><span class="koboSpan" id="kobo.283.2">You can do this by modifying the </span><strong class="source-inline"><span class="koboSpan" id="kobo.284.1">&lt;script setup&gt;</span></strong><span class="koboSpan" id="kobo.285.1"> section, as shown in the following </span><span class="No-Break"><span class="koboSpan" id="kobo.286.1">code block:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.287.1">
import { ref } from 'vue'
const show = ref(true);
const msg = "Welcome to your Vue.js App";
const toggle = () =&gt; show.value = !show.value;</span></pre>
<p><span class="koboSpan" id="kobo.288.1">With that, we have implemented our animation. </span><span class="koboSpan" id="kobo.288.2">Now, comes the next challenge: what if we want to combine different animation or transition effects with </span><strong class="source-inline"><span class="koboSpan" id="kobo.289.1">leave</span></strong><span class="koboSpan" id="kobo.290.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.291.1">enter</span></strong><span class="koboSpan" id="kobo.292.1"> states, or use an external CSS library for these states? </span><span class="koboSpan" id="kobo.292.2">Let’s look at custom </span><span class="No-Break"><span class="koboSpan" id="kobo.293.1">transi</span><a id="_idTextAnchor366"/><span class="koboSpan" id="kobo.294.1">tion classes.</span></span></p>
<h2 id="_idParaDest-190"><a id="_idTextAnchor367"/><span class="koboSpan" id="kobo.295.1">Exploring custom transition classes</span></h2>
<p><span class="koboSpan" id="kobo.296.1">In this </span><a id="_idIndexMarker968"/><span class="koboSpan" id="kobo.297.1">section, again, we’ll be starting from the default starter project created with </span><strong class="source-inline"><span class="koboSpan" id="kobo.298.1">npm init vue@3</span></strong><span class="koboSpan" id="kobo.299.1">. </span><span class="koboSpan" id="kobo.299.2">Instead of setting the transition name and letting the Vue.js mechanism populate the required class names, there is an option to provide custom classes through the following attributes and replace the </span><span class="No-Break"><span class="koboSpan" id="kobo.300.1">conventional defaults.</span></span></p>
<p><span class="koboSpan" id="kobo.301.1">For entering a state, use </span><span class="No-Break"><span class="koboSpan" id="kobo.302.1">the following:</span></span></p>
<ul>
<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.303.1">enter-from-class</span></strong></span></li>
<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.304.1">enter-active-class</span></strong></span></li>
<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.305.1">enter-to-leave</span></strong></span></li>
</ul>
<p><span class="koboSpan" id="kobo.306.1">For leaving a state, use </span><span class="No-Break"><span class="koboSpan" id="kobo.307.1">the following:</span></span></p>
<ul>
<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.308.1">leave-from-class</span></strong></span></li>
<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.309.1">leave-active-class</span></strong></span></li>
<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.310.1">leave-to-class</span></strong></span></li>
</ul>
<p><span class="koboSpan" id="kobo.311.1">We will</span><a id="_idIndexMarker969"/><span class="koboSpan" id="kobo.312.1"> start by creating a file based on the previous example (</span><em class="italic"><span class="koboSpan" id="kobo.313.1">Exercise 8.02</span></em><span class="koboSpan" id="kobo.314.1">), but now we will use a </span><strong class="source-inline"><span class="koboSpan" id="kobo.315.1">swing</span></strong><span class="koboSpan" id="kobo.316.1"> animation effect for the active state of entering, and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.317.1">tada</span></strong><span class="koboSpan" id="kobo.318.1"> effect for the active state of leaving. </span><span class="koboSpan" id="kobo.318.2">We will define the </span><strong class="source-inline"><span class="koboSpan" id="kobo.319.1">enter-active-class</span></strong><span class="koboSpan" id="kobo.320.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.321.1">leave-active-class</span></strong><span class="koboSpan" id="kobo.322.1"> attributes in our </span><strong class="source-inline"><span class="koboSpan" id="kobo.323.1">transition</span></strong><span class="koboSpan" id="kobo.324.1"> component </span><span class="No-Break"><span class="koboSpan" id="kobo.325.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.326.1">
&lt;transition
    name="slide"
    enter-active-class="swing"
    leave-active-class="tada"
&gt;
    &lt;h1 v-if="show"&gt;{{ msg }}&lt;/h1&gt;
&lt;/transition&gt;</span></pre>
<p><span class="koboSpan" id="kobo.327.1">After that, in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.328.1">&lt;style&gt;</span></strong><span class="koboSpan" id="kobo.329.1"> section, we just need to define </span><strong class="source-inline"><span class="koboSpan" id="kobo.330.1">.tada</span></strong><span class="koboSpan" id="kobo.331.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.332.1">.swing</span></strong><span class="koboSpan" id="kobo.333.1"> without any </span><span class="No-Break"><span class="koboSpan" id="kobo.334.1">suffix pattern:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.335.1">
.tada {
  animation-fill-mode: both;
  animation-name: tada;
  animation-duration: 3s;
}
.swing {
  animation-fill-mode: both;
  transform-origin: top center;
  animation-duration: 2s;
  animation-name: swing;
}</span></pre>
<p><span class="koboSpan" id="kobo.336.1">The</span><a id="_idIndexMarker970"/><span class="koboSpan" id="kobo.337.1"> preceding code demonstrates the following </span><span class="No-Break"><span class="koboSpan" id="kobo.338.1">animation classes:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.339.1">tada</span></strong><span class="koboSpan" id="kobo.340.1">, which applies CSS animation styles defined by </span><strong class="source-inline"><span class="koboSpan" id="kobo.341.1">tada</span></strong><span class="koboSpan" id="kobo.342.1"> to its target element </span><em class="italic"><span class="koboSpan" id="kobo.343.1">both before and after</span></em><span class="koboSpan" id="kobo.344.1"> the execution, with a duration of </span><span class="No-Break"><span class="koboSpan" id="kobo.345.1">2 seconds</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.346.1">swing</span></strong><span class="koboSpan" id="kobo.347.1">, which applies CSS animation styles defined by </span><strong class="source-inline"><span class="koboSpan" id="kobo.348.1">swing</span></strong><span class="koboSpan" id="kobo.349.1"> to its target element both </span><em class="italic"><span class="koboSpan" id="kobo.350.1">before and after the execution</span></em><span class="koboSpan" id="kobo.351.1">, with the origin point of transformation set to the top-center edge (</span><strong class="source-inline"><span class="koboSpan" id="kobo.352.1">transform-origin</span></strong><span class="koboSpan" id="kobo.353.1">) and with a duration of </span><span class="No-Break"><span class="koboSpan" id="kobo.354.1">2 seconds</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.355.1">To set up the animation CSS styles, we add the </span><span class="No-Break"><span class="koboSpan" id="kobo.356.1">dedicated keyframes:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.357.1">
@keyframes tada {
  0% {
    transform: scale3d(1, 1, 1);
 }
  10%, 20% {
    transform: scale3d(.8, .9, .8) rotate3d(0, 0, 1, -
                                            5deg);
  }
  30%, 50%, 70%, 90% {
    transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1,
                                               5deg);
  }
  40%, 60%, 80% {
    transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -
                                               5deg);
  }
  100% {
    transform: scale3d(1, 1, 1);
  }
}
@keyframes swing {
  20% { transform: rotate(5deg); }
  40% { transform: rotate(-10deg); }
  60% { transform: rotate(5deg); }
  80% { transform: rotate(-10deg); }
  100% { transform: rotate(0deg); }
}</span></pre>
<p><span class="koboSpan" id="kobo.358.1">For the </span><strong class="source-inline"><span class="koboSpan" id="kobo.359.1">tada</span></strong><span class="koboSpan" id="kobo.360.1"> animation, we </span><a id="_idIndexMarker971"/><span class="koboSpan" id="kobo.361.1">set different CSS styles for each target keyframe (a time percentage of the animation sequence), such as resizing (</span><strong class="source-inline"><span class="koboSpan" id="kobo.362.1">scale3d()</span></strong><span class="koboSpan" id="kobo.363.1">) and rotating (</span><strong class="source-inline"><span class="koboSpan" id="kobo.364.1">rotate3d()</span></strong><span class="koboSpan" id="kobo.365.1">) the element in a 3D space. </span><span class="koboSpan" id="kobo.365.2">For the </span><strong class="source-inline"><span class="koboSpan" id="kobo.366.1">swing</span></strong><span class="koboSpan" id="kobo.367.1"> animation, we set different rotation effects for keyframes of </span><strong class="source-inline"><span class="koboSpan" id="kobo.368.1">20%</span></strong><span class="koboSpan" id="kobo.369.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.370.1">40%</span></strong><span class="koboSpan" id="kobo.371.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.372.1">60%</span></strong><span class="koboSpan" id="kobo.373.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.374.1">80%</span></strong><span class="koboSpan" id="kobo.375.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.376.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.377.1">100%</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.378.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.379.1">You’ll also </span><a id="_idIndexMarker972"/><span class="koboSpan" id="kobo.380.1">want to add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.381.1">show data</span></strong><span class="koboSpan" id="kobo.382.1"> variable. </span><span class="koboSpan" id="kobo.382.2">You can do this by modifying the existing </span><strong class="source-inline"><span class="koboSpan" id="kobo.383.1">export</span></strong><span class="koboSpan" id="kobo.384.1">, as shown in the following </span><span class="No-Break"><span class="koboSpan" id="kobo.385.1">code block:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.386.1">
export default {
  data() {
    return {
      msg: "Welcome to your Vue.js App",
      show: true,
    };
  },
  methods: {
    toggle() {
      this.show = !this.show;
    },
  },
}</span></pre>
<p><span class="koboSpan" id="kobo.387.1">When we run the application using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.388.1">yarn dev</span></strong><span class="koboSpan" id="kobo.389.1"> command, we will have our animations for entering and leaving set separately. </span><span class="koboSpan" id="kobo.389.2">The following screenshot displays how the screen will </span><span class="No-Break"><span class="koboSpan" id="kobo.390.1">now appear:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer240">
<span class="koboSpan" id="kobo.391.1"><img alt="Figure 8.2 – The swing animation effect in action" src="image/B18645_08_02.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.392.1">Figure 8.2 – The swing animation effect in action</span></p>
<p><span class="koboSpan" id="kobo.393.1">You should </span><a id="_idIndexMarker973"/><span class="koboSpan" id="kobo.394.1">see the welcome text shrink while rotating, transitioning from what was shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.395.1">Figure 8</span></em></span><em class="italic"><span class="koboSpan" id="kobo.396.1">.2</span></em><span class="koboSpan" id="kobo.397.1"> to what is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.398.1">Figure 8</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.399.1">.3</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.400.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer241">
<span class="koboSpan" id="kobo.401.1"><img alt="Figure 8.3 – The tada animation effect in action" src="image/B18645_08_03.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.402.1">Figure 8.3 – The tada animation effect in action</span></p>
<p><span class="koboSpan" id="kobo.403.1">In this </span><a id="_idIndexMarker974"/><span class="koboSpan" id="kobo.404.1">section, we looked at creating custom transition effects. </span><span class="koboSpan" id="kobo.404.2">As an example, we made </span><strong class="source-inline"><span class="koboSpan" id="kobo.405.1">swing</span></strong><span class="koboSpan" id="kobo.406.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.407.1">tada</span></strong><span class="koboSpan" id="kobo.408.1">. </span><span class="koboSpan" id="kobo.408.2">We did this by defining the transition classes in our stylesheet and then adding keyframes for each of the effects. </span><span class="koboSpan" id="kobo.408.3">This technique can be used to create all kinds of custom transition effects. </span><span class="koboSpan" id="kobo.408.4">In the next section, we’ll look at JavaScript Hooks and how they can be used for more </span><span class="No-Break"><span class="koboSpan" id="kobo.409.1">c</span><a id="_idTextAnchor368"/><span class="koboSpan" id="kobo.410.1">omplex animations.</span></span></p>
<h1 id="_idParaDest-191"><a id="_idTextAnchor369"/><span class="koboSpan" id="kobo.411.1">Exploring JavaScript Hooks for transitions</span></h1>
<p><span class="koboSpan" id="kobo.412.1">To access the code file for this example, refer </span><span class="No-Break"><span class="koboSpan" id="kobo.413.1">to </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter08/Example8.03"><span class="No-Break"><span class="koboSpan" id="kobo.414.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter08/Example8.03</span></span></a></p>
<p><span class="koboSpan" id="kobo.415.1">As we learned</span><a id="_idIndexMarker975"/><span class="koboSpan" id="kobo.416.1"> in the previous section, we can use custom transition classes to integrate external third-party CSS animation libraries for styling effects. </span><span class="koboSpan" id="kobo.416.2">However, there are external libraries that are JavaScript-based rather than CSS-based, such as Velocity.js or GSAP, which require Hooks to be set using JavaScript events and external </span><span class="No-Break"><span class="koboSpan" id="kobo.417.1">animation handlers.</span></span></p>
<p><span class="koboSpan" id="kobo.418.1">To use</span><a id="_idIndexMarker976"/><span class="koboSpan" id="kobo.419.1"> the Velocity.js or GSAP libraries in the Vue app, you</span><a id="_idIndexMarker977"/><span class="koboSpan" id="kobo.420.1"> need to install them separately by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.421.1">npm install</span></strong><span class="koboSpan" id="kobo.422.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.423.1">yarn add</span></strong><span class="koboSpan" id="kobo.424.1"> command, </span><span class="No-Break"><span class="koboSpan" id="kobo.425.1">as follows:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.426.1">To install Velocity.js, use </span><span class="No-Break"><span class="koboSpan" id="kobo.427.1">these commands:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.428.1">npm install velocity-animate</span></strong></pre><pre class="source-code"><span class="koboSpan" id="kobo.429.1">
#Or</span></pre><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.430.1">yarn add velocity-animate</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.431.1">To install GSAP, use </span><span class="No-Break"><span class="koboSpan" id="kobo.432.1">these commands:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.433.1">npm install gsap</span></strong></pre><pre class="source-code"><span class="koboSpan" id="kobo.434.1">
#or</span></pre><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.435.1">yarn add gsap</span></strong></pre></li>
</ul>
<p><span class="koboSpan" id="kobo.436.1">Being a Vue.js component means the </span><strong class="source-inline"><span class="koboSpan" id="kobo.437.1">transition</span></strong><span class="koboSpan" id="kobo.438.1"> component supports binding custom handlers to a list of events as props. </span><span class="koboSpan" id="kobo.438.2">Let’s take a look at the </span><span class="No-Break"><span class="koboSpan" id="kobo.439.1">following example:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.440.1">
&lt;transition
  @before-enter="beforeEnter"
  @enter="enter"
  @leave="leave"
&gt;
  &lt;h1 v-if="show"&gt;{{ msg }}&lt;/h1&gt;
&lt;/transition&gt;</span></pre>
<p><span class="koboSpan" id="kobo.441.1">We bind the animation methods programmatically to the respective events on the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.442.1">transition</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.443.1"> element:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.444.1">beforeEnter</span></strong><span class="koboSpan" id="kobo.445.1"> is the animation state before the component is inserted—similar to the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.446.1">v-enter-from</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.447.1"> phase.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.448.1">enter</span></strong><span class="koboSpan" id="kobo.449.1"> is the animation state during the entire entering phase—similar to the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.450.1">v-enter-active</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.451.1"> phase.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.452.1">leave</span></strong><span class="koboSpan" id="kobo.453.1"> for the animation during the entire leaving phase. </span><span class="koboSpan" id="kobo.453.2">This is similar to the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.454.1">v-leave-active</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.455.1"> phase.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.456.1">We </span><a id="_idIndexMarker978"/><span class="koboSpan" id="kobo.457.1">need to</span><a id="_idIndexMarker979"/><span class="koboSpan" id="kobo.458.1"> define these event handlers in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.459.1">methods</span></strong><span class="koboSpan" id="kobo.460.1"> section of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.461.1">Example8.03/src/components/Example8-03.vue</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.462.1">component’s configuration:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.463.1">
&lt;script setup&gt;
export default {
  name: 'HelloWorld',
  props: {
    msg: String
  },
  data() {
    return {
      msg: '
      show: false
    }
  },
  methods: {
    beforeEnter() {
      //...
</span><span class="koboSpan" id="kobo.463.2">    },
    enter() {
      //...
</span><span class="koboSpan" id="kobo.463.3">    },
    leave() {
      //...
</span><span class="koboSpan" id="kobo.463.4">    }
  }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.464.1">In this </span><a id="_idIndexMarker980"/><span class="koboSpan" id="kobo.465.1">example, we</span><a id="_idIndexMarker981"/><span class="koboSpan" id="kobo.466.1"> will create our animation events using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.467.1">gsap.to()</span></strong><span class="koboSpan" id="kobo.468.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.469.1">gsap.timeline()</span></strong><span class="koboSpan" id="kobo.470.1"> functionalities provided by the GSAP library, </span><span class="No-Break"><span class="koboSpan" id="kobo.471.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.472.1">
    beforeEnter(el) {
      el.style.opacity = 0;
    },
    enter(el, done) {
      gsap.to(el, {
        duration: 2,
        opacity: 1,
        fontSize: "20px",
        onComplete: done,
      });
    },
    leave(el, done) {
      const tl = gsap.timeline({
        onComplete: done,
      });
      tl.to(el, { rotation: -270, duration: 1,
            ease: "elastic" })
        .to(el, { rotation: -360 })
        .to(el, {
          rotation: -180,
          opacity: 0,
        });
    }</span></pre>
<p><span class="koboSpan" id="kobo.473.1">For </span><a id="_idIndexMarker982"/><span class="koboSpan" id="kobo.474.1">both </span><strong class="source-inline"><span class="koboSpan" id="kobo.475.1">gsap.to</span></strong><span class="koboSpan" id="kobo.476.1"> and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.477.1">return</span></strong><span class="koboSpan" id="kobo.478.1"> variable of </span><strong class="source-inline"><span class="koboSpan" id="kobo.479.1">gsap.timeline().to</span></strong><span class="koboSpan" id="kobo.480.1">, the syntax is </span><span class="No-Break"><span class="koboSpan" id="kobo.481.1">pretty straightforward:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.482.1">
gsap.to(&lt;element&gt;, { &lt;effect properties&gt;, &lt;time position&gt; })
gsap.timeline().to(&lt;element&gt;, { &lt;effect properties&gt;, &lt;time position&gt; })</span></pre>
<p><span class="koboSpan" id="kobo.483.1">Most of the </span><a id="_idIndexMarker983"/><span class="koboSpan" id="kobo.484.1">effect properties have a similar syntax to CSS, so they’re straightforward to learn how to use. </span><span class="koboSpan" id="kobo.484.2">In addition, we must pass a </span><strong class="source-inline"><span class="koboSpan" id="kobo.485.1">done</span></strong><span class="koboSpan" id="kobo.486.1"> callback received from the event emitter for events such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.487.1">enter</span></strong><span class="koboSpan" id="kobo.488.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.489.1">leave</span></strong><span class="koboSpan" id="kobo.490.1"> to </span><strong class="source-inline"><span class="koboSpan" id="kobo.491.1">onComplete</span></strong><span class="koboSpan" id="kobo.492.1"> to make sure it is triggered and that the Hooks will not be called synchronously. </span><span class="koboSpan" id="kobo.492.2">Also, note that all the event emitters also pass </span><strong class="source-inline"><span class="koboSpan" id="kobo.493.1">el</span></strong><span class="koboSpan" id="kobo.494.1">, which is a pointer to the current element in transition </span><span class="No-Break"><span class="koboSpan" id="kobo.495.1">for use.</span></span></p>
<p><span class="koboSpan" id="kobo.496.1">Other than these three events, there are other events we can bind, depending on the complexity of the animations and transitions, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.497.1">afterEnter</span></strong><span class="koboSpan" id="kobo.498.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.499.1">enterCancelled</span></strong><span class="koboSpan" id="kobo.500.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.501.1">beforeLeave</span></strong><span class="koboSpan" id="kobo.502.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.503.1">afterLeave</span></strong><span class="koboSpan" id="kobo.504.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.505.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.506.1">leaveCancelled</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.507.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.508.1">Please note that it’s highly recommended to add </span><strong class="source-inline"><span class="koboSpan" id="kobo.509.1">v-bind:css="false"</span></strong><span class="koboSpan" id="kobo.510.1"> (or </span><strong class="source-inline"><span class="koboSpan" id="kobo.511.1">:css="false"</span></strong><span class="koboSpan" id="kobo.512.1">) if you are using transitions with JavaScript only. </span><span class="koboSpan" id="kobo.512.2">This is to prevent Vue.js from detecting and applying any related CSS, therefore avoiding transition interference </span><span class="No-Break"><span class="koboSpan" id="kobo.513.1">by accident:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.514.1">
&lt;transition
      @before-enter="beforeEnter"
      @enter="enter"
      @leave="leave"
      :css="false"
    &gt;
      &lt;h1 v-if="show"&gt;{{ msg }}&lt;/h1&gt;
&lt;/transition&gt;</span></pre>
<p><span class="koboSpan" id="kobo.515.1">In this </span><a id="_idIndexMarker984"/><span class="koboSpan" id="kobo.516.1">section, we looked at how external JavaScript </span><a id="_idIndexMarker985"/><span class="koboSpan" id="kobo.517.1">libraries can be used for animations. </span><span class="koboSpan" id="kobo.517.2">We also implemented a simple tween using the GSAP library, making use of animation and timeline </span><span class="No-Break"><span class="koboSpan" id="kobo.518.1">animation functions.</span></span></p>
<p><span class="koboSpan" id="kobo.519.1">Let’s now learn how to add a new messa</span><a id="_idTextAnchor370"/><span class="koboSpan" id="kobo.520.1">ge using an </span><span class="No-Break"><span class="koboSpan" id="kobo.521.1">animation effect.</span></span></p>
<p><span class="koboSpan" id="kobo.522.1">Exercise 8.01 – adding a new message with an </span><span class="No-Break"><span class="koboSpan" id="kobo.523.1">animation effect</span></span></p>
<p><span class="koboSpan" id="kobo.524.1">In this </span><a id="_idIndexMarker986"/><span class="koboSpan" id="kobo.525.1">exercise, you will use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.526.1">transition</span></strong><span class="koboSpan" id="kobo.527.1"> component </span><a id="_idIndexMarker987"/><span class="koboSpan" id="kobo.528.1">and its CSS transition classes to add animation effect to </span><span class="No-Break"><span class="koboSpan" id="kobo.529.1">a component.</span></span></p>
<p><span class="koboSpan" id="kobo.530.1">To access the code file for this exercise, refer </span><span class="No-Break"><span class="koboSpan" id="kobo.531.1">to </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter08/Exercise8.01"><span class="No-Break"><span class="koboSpan" id="kobo.532.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter08/Exercise8.01</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.533.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.534.1">We are going to create a message editor in which the user will compose and submit a new message. </span><span class="koboSpan" id="kobo.534.2">The new message will be displayed instantly with a sliding-from-the-right animation effect. </span><span class="koboSpan" id="kobo.534.3">To do this, see </span><span class="No-Break"><span class="koboSpan" id="kobo.535.1">the following:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.536.1">Use the application generated with </span><strong class="source-inline"><span class="koboSpan" id="kobo.537.1">npm init vue@3</span></strong><span class="koboSpan" id="kobo.538.1"> as a starting point, or within the root folder of the code repository, navigate into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.539.1">Chapter08/Exercise8.01</span></strong><span class="koboSpan" id="kobo.540.1"> folder by using the following commands </span><span class="No-Break"><span class="koboSpan" id="kobo.541.1">in order:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.542.1">&gt; cd Chapter08/Exercise8.01/</span></strong></pre><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.543.1">&gt; yarn</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.544.1">Open the exercise project in your VS Code (by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.545.1">code .</span></strong><span class="koboSpan" id="kobo.546.1"> command within the project directory) or your </span><span class="No-Break"><span class="koboSpan" id="kobo.547.1">preferred IDE.</span></span></li>
<li><span class="koboSpan" id="kobo.548.1">Create </span><a id="_idIndexMarker988"/><span class="koboSpan" id="kobo.549.1">a new component called </span><strong class="source-inline"><span class="koboSpan" id="kobo.550.1">Exercise8-01.vue</span></strong><span class="koboSpan" id="kobo.551.1"> located in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.552.1">/src/components/</span></strong><span class="koboSpan" id="kobo.553.1"> folder. </span><span class="koboSpan" id="kobo.553.2">In this </span><a id="_idIndexMarker989"/><span class="koboSpan" id="kobo.554.1">component, </span><strong class="source-inline"><span class="koboSpan" id="kobo.555.1">&lt;template&gt;</span></strong><span class="koboSpan" id="kobo.556.1"> will contain two </span><span class="No-Break"><span class="koboSpan" id="kobo.557.1">element sections:</span></span><ul><li><strong class="source-inline"><span class="koboSpan" id="kobo.558.1">textarea</span></strong><span class="koboSpan" id="kobo.559.1">, for composing a new message with a button to </span><span class="No-Break"><span class="koboSpan" id="kobo.560.1">submit it.</span></span></li><li><strong class="source-inline"><span class="koboSpan" id="kobo.561.1">section</span></strong><span class="koboSpan" id="kobo.562.1">, where the newly composed message will </span><span class="No-Break"><span class="koboSpan" id="kobo.563.1">be displayed:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.564.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.565.1">
  &lt;div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.566.1">
    &lt;div class="editor--wrapper"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.567.1">
      &lt;textarea ref="textArea" class="editor" /&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.568.1">
      &lt;button @click="onSendClick()"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.569.1">
        class="editor--submit"&gt;Submit&lt;/button&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.570.1">
    &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.571.1">
    &lt;section v-if="message" class="message--display"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.572.1">
      &lt;h4&gt;Your saved message: &lt;/h4&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.573.1">
      &lt;span&gt;{{message}}&lt;/span&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.574.1">
    &lt;/section&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.575.1">
  &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.576.1">
&lt;/template&gt;</span></pre></li></ul></li>
<li><span class="koboSpan" id="kobo.577.1">Next, wrap the whole </span><strong class="source-inline"><span class="koboSpan" id="kobo.578.1">message</span></strong><span class="koboSpan" id="kobo.579.1"> section with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.580.1">transition</span></strong><span class="koboSpan" id="kobo.581.1"> element, to prepare for </span><span class="No-Break"><span class="koboSpan" id="kobo.582.1">our animation:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.583.1">
&lt;transition name="slide-right"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.584.1">
    &lt;section v-if="message" class="message--display"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.585.1">
        &lt;h4&gt;Your saved message: &lt;/h4&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.586.1">
        &lt;span&gt;{{message}}&lt;/span&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.587.1">
    &lt;/section&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.588.1">
&lt;/transition&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.589.1">Let’s define </span><a id="_idIndexMarker990"/><span class="koboSpan" id="kobo.590.1">a method to update the</span><a id="_idIndexMarker991"/><span class="koboSpan" id="kobo.591.1"> message text called </span><strong class="source-inline"><span class="koboSpan" id="kobo.592.1">onSendClick</span></strong><span class="koboSpan" id="kobo.593.1"> by adding the following </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.594.1">script</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.595.1"> code:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.596.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.597.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.598.1">
  data() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.599.1">
    return {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.600.1">
      message: ''</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.601.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.602.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.603.1">
  methods: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.604.1">
    onSendClick() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.605.1">
      const message = this.$refs.textArea.value;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.606.1">
      this.message = message;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.607.1">
      this.$refs.textArea.value = '';</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.608.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.609.1">
  }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.610.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.611.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.612.1">Next, we will define the </span><strong class="source-inline"><span class="koboSpan" id="kobo.613.1">slide-right</span></strong><span class="koboSpan" id="kobo.614.1"> animation effect using </span><strong class="source-inline"><span class="koboSpan" id="kobo.615.1">@keyframes</span></strong><span class="koboSpan" id="kobo.616.1"> in our </span><strong class="source-inline"><span class="koboSpan" id="kobo.617.1">style</span></strong><span class="koboSpan" id="kobo.618.1"> section by using the </span><span class="No-Break"><span class="koboSpan" id="kobo.619.1">following command:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.620.1">
&lt;style scoped&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.621.1">
@keyframes slide-right {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.622.1">
  100% {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.623.1">
    transform: translateX(0)</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.624.1">
  }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.625.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.626.1">
&lt;/style&gt;</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.627.1">This means</span><a id="_idIndexMarker992"/><span class="koboSpan" id="kobo.628.1"> it will re-position </span><a id="_idIndexMarker993"/><span class="koboSpan" id="kobo.629.1">the element that has this effect horizontally (on the </span><em class="italic"><span class="koboSpan" id="kobo.630.1">x</span></em><span class="koboSpan" id="kobo.631.1">-axis) to the original starting </span><span class="No-Break"><span class="koboSpan" id="kobo.632.1">point, </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.633.1">(0,0)</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.634.1">.</span></span></p>
<ol>
<li value="7"><span class="koboSpan" id="kobo.635.1">Now, we will define the two classes, one for sliding in from left to right (</span><strong class="source-inline"><span class="koboSpan" id="kobo.636.1">slide-right</span></strong><span class="koboSpan" id="kobo.637.1">) and one from right to </span><span class="No-Break"><span class="koboSpan" id="kobo.638.1">left (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.639.1">slide-left</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.640.1">):</span></span><pre class="source-code"><span class="koboSpan" id="kobo.641.1">
.slide-right {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.642.1">
  animation: 1s slide-right 1s forwards;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.643.1">
  transform:translateX(-100%);</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.644.1">
  transition: border-top 2s ease;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.645.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.646.1">
.slide-left {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.647.1">
  animation: 1s slide-right 1s reverse;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.648.1">
  transform:translateX(-100%);</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.649.1">
}</span></pre></li>
<li><span class="koboSpan" id="kobo.650.1">Add </span><strong class="source-inline"><span class="koboSpan" id="kobo.651.1">border-top:0</span></strong><span class="koboSpan" id="kobo.652.1"> as the starting point for our </span><strong class="source-inline"><span class="koboSpan" id="kobo.653.1">slide-right</span></strong><span class="koboSpan" id="kobo.654.1"> transition to add a bit of an effect to </span><strong class="source-inline"><span class="koboSpan" id="kobo.655.1">border-top</span></strong><span class="koboSpan" id="kobo.656.1"> of </span><span class="No-Break"><span class="koboSpan" id="kobo.657.1">this section:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.658.1">
.slide-right-enter-from {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.659.1">
  border-top: 0;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.660.1">
}</span></pre></li>
<li><span class="koboSpan" id="kobo.661.1">Next, using</span><a id="_idIndexMarker994"/><span class="koboSpan" id="kobo.662.1"> what we have learned about custom transition classes, let’s bind </span><strong class="source-inline"><span class="koboSpan" id="kobo.663.1">enter-active</span></strong><span class="koboSpan" id="kobo.664.1"> to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.665.1">slide-right</span></strong><span class="koboSpan" id="kobo.666.1"> class, and similarly bind </span><strong class="source-inline"><span class="koboSpan" id="kobo.667.1">leave-active</span></strong><span class="koboSpan" id="kobo.668.1"> to </span><strong class="source-inline"><span class="koboSpan" id="kobo.669.1">slide-left</span></strong><span class="koboSpan" id="kobo.670.1">. </span><span class="koboSpan" id="kobo.670.2">We will then add these three properties to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.671.1">transition</span></strong><span class="koboSpan" id="kobo.672.1"> element added in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.673.1">step 4</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.674.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.675.1">
&lt;transition</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.676.1">
      name="slide-right"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.677.1">
      enter-active-class="slide-right"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.678.1">
      leave-active-class="slide-left"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.679.1">
&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.680.1">Add</span><a id="_idIndexMarker995"/><span class="koboSpan" id="kobo.681.1"> CSS stylings using CSS Flexbox to make the editor </span><span class="No-Break"><span class="koboSpan" id="kobo.682.1">look nice:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.683.1">
.editor--wrapper {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.684.1">
  display: flex;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.685.1">
  flex-direction: column;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.686.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.687.1">
.editor {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.688.1">
  align-self: center;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.689.1">
  width: 200px;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.690.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.691.1">
.editor--submit {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.692.1">
  margin: 0.5rem auto;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.693.1">
  align-self: center;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.694.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.695.1">
.message--display {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.696.1">
  margin-top: 1rem;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.697.1">
  border-top: 1px solid lightgray;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.698.1">
}</span></pre></li>
<li><span class="koboSpan" id="kobo.699.1">Finally, run </span><a id="_idIndexMarker996"/><span class="koboSpan" id="kobo.700.1">the application </span><a id="_idIndexMarker997"/><span class="koboSpan" id="kobo.701.1">using the </span><span class="No-Break"><span class="koboSpan" id="kobo.702.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.703.1">yarn dev</span></strong></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.704.1">Upon visiting </span><strong class="source-inline"><span class="koboSpan" id="kobo.705.1">http://localhost:3000</span></strong><span class="koboSpan" id="kobo.706.1"> in the browser, the previous code will generate a component that will display the typed message with a sliding animation effect, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.707.1">Figure 8</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.708.1">.4</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.709.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer242">
<span class="koboSpan" id="kobo.710.1"><img alt="Figure 8.4 – Message editor text area" src="image/B18645_08_04.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.711.1">Figure 8.4 – Message editor text area</span></p>
<p><span class="koboSpan" id="kobo.712.1">The following screenshot shows how the message component appears with a slide-from-left-to-right </span><span class="No-Break"><span class="koboSpan" id="kobo.713.1">animation effect:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer243">
<span class="koboSpan" id="kobo.714.1"><img alt="Figure 8.5 – The message in transition for display" src="image/B18645_08_05.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.715.1">Figure 8.5 – The message in transition for display</span></p>
<p><span class="koboSpan" id="kobo.716.1">After </span><a id="_idIndexMarker998"/><span class="koboSpan" id="kobo.717.1">animating in from the left, the component</span><a id="_idIndexMarker999"/><span class="koboSpan" id="kobo.718.1"> should stop in the centered position, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.719.1">Figure 8</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.720.1">.6</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.721.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer244">
<span class="koboSpan" id="kobo.722.1"><img alt="Figure 8.6 – Message after the animation" src="image/B18645_08_06.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.723.1">Figure 8.6 – Message after the animation</span></p>
<p><span class="koboSpan" id="kobo.724.1">This </span><a id="_idIndexMarker1000"/><span class="koboSpan" id="kobo.725.1">exercise helped you to get used to some of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.726.1">transform</span></strong><span class="koboSpan" id="kobo.727.1"> effects in CSS, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.728.1">translateX</span></strong><span class="koboSpan" id="kobo.729.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.730.1">transition</span></strong><span class="koboSpan" id="kobo.731.1">. </span><span class="koboSpan" id="kobo.731.2">It also demonstrates how easy it is to add animation to an element in a </span><a id="_idIndexMarker1001"/><span class="No-Break"><span class="koboSpan" id="kobo.732.1">Vue application.</span></span></p>
<p><span class="koboSpan" id="kobo.733.1">But what about transitioning with multiple elements in the same group, such as a</span><a id="_idTextAnchor371"/><span class="koboSpan" id="kobo.734.1"> list? </span><span class="koboSpan" id="kobo.734.2">We will find out in the </span><span class="No-Break"><span class="koboSpan" id="kobo.735.1">next topic.</span></span></p>
<h1 id="_idParaDest-192"><a id="_idTextAnchor372"/><span class="koboSpan" id="kobo.736.1">Transitioning groups of elements</span></h1>
<p><span class="koboSpan" id="kobo.737.1">To access the code file for this example, refer </span><span class="No-Break"><span class="koboSpan" id="kobo.738.1">to </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter08/Example8.04"><span class="No-Break"><span class="koboSpan" id="kobo.739.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter08/Example8.04</span></span></a></p>
<p><span class="koboSpan" id="kobo.740.1">So far, we have gone through the fundamentals of Vue transition elements for simple components and elements, with both custom CSS-only and JavaScript-only support for animations. </span><span class="koboSpan" id="kobo.740.2">Next, we will explore </span><a id="_idIndexMarker1002"/><span class="koboSpan" id="kobo.741.1">how to apply a transition to a group of components – for instance, a list of items that will be rendered simultaneously by </span><span class="No-Break"><span class="koboSpan" id="kobo.742.1">using </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.743.1">v-for</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.744.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.745.1">Vue.js provides</span><a id="_idIndexMarker1003"/><span class="koboSpan" id="kobo.746.1"> another component for this specific purpose, the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.747.1">transition-group</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.748.1"> component.</span></span></p>
<p><span class="koboSpan" id="kobo.749.1">We will now assume that we have a list of messages displayed on a feed, and we would like to add a transition to this list to provide some kind of effect when each item appears on the screen. </span><span class="koboSpan" id="kobo.749.2">Take the following component code, for </span><span class="No-Break"><span class="koboSpan" id="kobo.750.1">instance (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.751.1">./Example8.04/src/components/Example8-04.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.752.1">):</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.753.1">
&lt;template&gt;
  &lt;div&gt;
    &lt;button @click="showList"&gt;Show list&lt;/button&gt;
    &lt;p v-for="message in messages" :key="message"
      v-show="show"&gt;
      {{ message }}
    &lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  data() {
    return {
      messages: [
        "Hello, how are you?",
        "The weather is nice",
        "This is the message feed",
        "And I am the fourth message",
        "Chapter 8 is fun",
        "Animation is super awesome",
        "Sorry, I didn't know you called",
        "Be patient, animation comes right up",
      ],
show: false,
    };
  },
  methods: {
    showList () {
      this.show = true;
    },
  },
};
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.754.1">The component contains a </span><strong class="source-inline"><span class="koboSpan" id="kobo.755.1">button</span></strong><span class="koboSpan" id="kobo.756.1"> element that binds to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.757.1">showList</span></strong><span class="koboSpan" id="kobo.758.1"> method, and a conditional list element based on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.759.1">show</span></strong><span class="koboSpan" id="kobo.760.1"> variable. </span><span class="koboSpan" id="kobo.760.2">This list element renders a list of </span><strong class="source-inline"><span class="koboSpan" id="kobo.761.1">messages</span></strong><span class="koboSpan" id="kobo.762.1"> whenever the </span><strong class="bold"><span class="koboSpan" id="kobo.763.1">Show list</span></strong><span class="koboSpan" id="kobo.764.1"> button </span><span class="No-Break"><span class="koboSpan" id="kobo.765.1">is clicked.</span></span></p>
<p><span class="koboSpan" id="kobo.766.1">Let’s wrap the list </span><a id="_idIndexMarker1004"/><span class="koboSpan" id="kobo.767.1">elements with a </span><strong class="source-inline"><span class="koboSpan" id="kobo.768.1">transition-group</span></strong><span class="koboSpan" id="kobo.769.1"> component and pass the same props we used previously for our </span><strong class="source-inline"><span class="koboSpan" id="kobo.770.1">transition</span></strong><span class="koboSpan" id="kobo.771.1"> component—</span><strong class="source-inline"><span class="koboSpan" id="kobo.772.1">name="fade"</span></strong><span class="koboSpan" id="kobo.773.1">. </span><span class="koboSpan" id="kobo.773.2">Both </span><strong class="source-inline"><span class="koboSpan" id="kobo.774.1">transition-group</span></strong><span class="koboSpan" id="kobo.775.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.776.1">transition</span></strong><span class="koboSpan" id="kobo.777.1"> receive the </span><span class="No-Break"><span class="koboSpan" id="kobo.778.1">same props:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.779.1">
&lt;transition-group name="fade" &gt;
  &lt;p v-for="message in messages":key="message"
    v-show="show"&gt;
    {{message}}
  &lt;/p&gt;
&lt;/transition-group&gt;</span></pre>
<p><span class="koboSpan" id="kobo.780.1">We need to set the CSS styling effect for the transition effect passed as </span><strong class="source-inline"><span class="koboSpan" id="kobo.781.1">fade</span></strong><span class="koboSpan" id="kobo.782.1">, following the same syntax rules for </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.783.1">transition</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.784.1"> classes:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.785.1">
.fade-enter-active, .fade-leave-active {
  transition: all 2s;
}
.fade-enter-from, .fade-leave-active {
  opacity: 0;
  transform: translateX(30px);
}</span></pre>
<p><span class="koboSpan" id="kobo.786.1">Upon running the application using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.787.1">yarn dev</span></strong><span class="koboSpan" id="kobo.788.1"> command, your list’s item will have a fading effect when it appears. </span><span class="koboSpan" id="kobo.788.2">The following screenshot displays how your screen </span><span class="No-Break"><span class="koboSpan" id="kobo.789.1">should appear:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer245">
<span class="koboSpan" id="kobo.790.1"><img alt="Figure 8.7 – Fading of the list item" src="image/B18645_08_07.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.791.1">Figure 8.7 – Fading of the list item</span></p>
<p><span class="koboSpan" id="kobo.792.1">Note that </span><a id="_idIndexMarker1005"/><span class="koboSpan" id="kobo.793.1">unlike the </span><strong class="source-inline"><span class="koboSpan" id="kobo.794.1">transition</span></strong><span class="koboSpan" id="kobo.795.1"> component, which does not render any wrapper container element at all, </span><strong class="source-inline"><span class="koboSpan" id="kobo.796.1">transition-group</span></strong><span class="koboSpan" id="kobo.797.1"> will render an actual element if you define an element’s tag name by using a </span><strong class="source-inline"><span class="koboSpan" id="kobo.798.1">tag</span></strong><span class="koboSpan" id="kobo.799.1"> prop, such as a </span><strong class="source-inline"><span class="koboSpan" id="kobo.800.1">div</span></strong><span class="koboSpan" id="kobo.801.1"> wrapper element, as in the </span><span class="No-Break"><span class="koboSpan" id="kobo.802.1">following code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.803.1">
&lt;transition-group
  name="fade"
  tag="div"
&gt;
  &lt;p v-for="message in messages" :key="message"
    v-show="show"&gt;
    {{message}}
  &lt;/p&gt;
&lt;/Transition-group&gt;</span></pre>
<p><span class="koboSpan" id="kobo.804.1">In the browser, the actual HTML output will look </span><span class="No-Break"><span class="koboSpan" id="kobo.805.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer246">
<span class="koboSpan" id="kobo.806.1"><img alt="Figure 8.8 – Transition container element rendered according to the tag attribute" src="image/B18645_08_08.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.807.1">Figure 8.8 – Transition container element rendered according to the tag attribute</span></p>
<p><span class="koboSpan" id="kobo.808.1">Furthermore, all the </span><strong class="source-inline"><span class="koboSpan" id="kobo.809.1">transition</span></strong><span class="koboSpan" id="kobo.810.1"> classes will only be applied to the list item elements that have</span><a id="_idIndexMarker1006"/><span class="koboSpan" id="kobo.811.1"> the </span><strong class="source-inline"><span class="koboSpan" id="kobo.812.1">v-for</span></strong><span class="koboSpan" id="kobo.813.1"> attribute and not to </span><span class="No-Break"><span class="koboSpan" id="kobo.814.1">the wrapper.</span></span></p>
<p><span class="koboSpan" id="kobo.815.1">Finally, you </span><em class="italic"><span class="koboSpan" id="kobo.816.1">must</span></em><span class="koboSpan" id="kobo.817.1"> have the </span><strong class="source-inline"><span class="koboSpan" id="kobo.818.1">:key</span></strong><span class="koboSpan" id="kobo.819.1"> attribute for every list item in order for Vue.js to index and know which item to apply the </span><span class="No-Break"><span class="koboSpan" id="kobo.820.1">transition to.</span></span></p>
<p><span class="koboSpan" id="kobo.821.1">We</span><a id="_idTextAnchor373"/><span class="koboSpan" id="kobo.822.1"> will now create a moving effect on </span><span class="No-Break"><span class="koboSpan" id="kobo.823.1">the list.</span></span></p>
<h2 id="_idParaDest-193"><a id="_idTextAnchor374"/><span class="koboSpan" id="kobo.824.1">Creating a moving effect while transitioning a list</span></h2>
<p><span class="koboSpan" id="kobo.825.1">In many cases, we </span><a id="_idIndexMarker1007"/><span class="koboSpan" id="kobo.826.1">want to add additional animation to each list item during its position transitioning, not only during its visibility transitioning. </span><span class="koboSpan" id="kobo.826.2">Position transitioning happens when shuffling, sorting, filtering, and so on are applied to the given list. </span><span class="koboSpan" id="kobo.826.3">The list items are already visible, and only change in their position — hence, using </span><strong class="source-inline"><span class="koboSpan" id="kobo.827.1">enter</span></strong><span class="koboSpan" id="kobo.828.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.829.1">leave</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.830.1">won’t work.</span></span></p>
<p><span class="koboSpan" id="kobo.831.1">To achieve this </span><a id="_idIndexMarker1008"/><span class="koboSpan" id="kobo.832.1">animation goal, </span><strong class="source-inline"><span class="koboSpan" id="kobo.833.1">transition-group</span></strong><span class="koboSpan" id="kobo.834.1"> provides us another attribute, </span><strong class="source-inline"><span class="koboSpan" id="kobo.835.1">v-move</span></strong><span class="koboSpan" id="kobo.836.1">; this attribute allows us to add additional animation effects to the list elements when each of the target elements changes </span><span class="No-Break"><span class="koboSpan" id="kobo.837.1">its position:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.838.1">
&lt;transition-group name= "fade"
  v-move="moveItemEffect"&gt;
  &lt;!—list element --!&gt;
&lt;/transition-group&gt;</span></pre>
<p><span class="koboSpan" id="kobo.839.1">They can also be manually assigned using the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.840.1">move-class</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.841.1"> attribute:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.842.1">
&lt;transition-group name= "fade"
  move-class="fade-move-in"&gt;
  &lt;!—list element --!&gt;
&lt;/transition-group&gt;
&lt;style&gt;
.fade-move-in {
  transition: transform 2s ease-in;
}
&lt;/style&gt;</span></pre>
<p><span class="koboSpan" id="kobo.843.1">Alternatively, we can simply define the CSS class with a prefix that matches the </span><strong class="source-inline"><span class="koboSpan" id="kobo.844.1">name</span></strong><span class="koboSpan" id="kobo.845.1"> attribute, as in </span><span class="No-Break"><span class="koboSpan" id="kobo.846.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.847.1">
&lt;transition-group name= "fade"&gt;
  &lt;!—list element --!&gt;
&lt;/transition-group&gt;
&lt;style&gt;
.fade-move {
  transition: transform 2s ease-in;
}
&lt;/style&gt;</span></pre>
<p><span class="koboSpan" id="kobo.848.1">The Vue engine </span><a id="_idIndexMarker1009"/><span class="koboSpan" id="kobo.849.1">will automatically detect and attach the relevant class for a </span><strong class="source-inline"><span class="koboSpan" id="kobo.850.1">transition</span></strong><span class="koboSpan" id="kobo.851.1"> effect when it </span><span class="No-Break"><span class="koboSpan" id="kobo.852.1">is applicable.</span></span></p>
<p><span class="koboSpan" id="kobo.853.1">Next, we will look at making animations </span><a id="_idTextAnchor375"/><span class="koboSpan" id="kobo.854.1">on the initial rendering of a page </span><span class="No-Break"><span class="koboSpan" id="kobo.855.1">or component.</span></span></p>
<h2 id="_idParaDest-194"><a id="_idTextAnchor376"/><span class="koboSpan" id="kobo.856.1">Configuring an animation on initially rendering</span></h2>
<p><span class="koboSpan" id="kobo.857.1">Usually, the</span><a id="_idIndexMarker1010"/><span class="koboSpan" id="kobo.858.1"> list of items will be displayed on the first initial page load, and our animation won’t work because the element is already in View. </span><span class="koboSpan" id="kobo.858.2">To trigger the animation, we need to use a different transition attribute, </span><strong class="source-inline"><span class="koboSpan" id="kobo.859.1">appear</span></strong><span class="koboSpan" id="kobo.860.1">, to force the animation when the page initially renders, right after it has </span><span class="No-Break"><span class="koboSpan" id="kobo.861.1">been loaded:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.862.1">
&lt;transition-group
    appear="true"
    tag="div"
&gt;
    &lt;p v-for="message in messages" :key="message"&gt;
      {{message}}&lt;/p&gt;
&lt;/transition-group&gt;</span></pre>
<p><span class="koboSpan" id="kobo.863.1">We can also set Hooks with </span><strong class="source-inline"><span class="koboSpan" id="kobo.864.1">v-on:after-appear</span></strong><span class="koboSpan" id="kobo.865.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.866.1">v-on:appear</span></strong><span class="koboSpan" id="kobo.867.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.868.1">v-on:after-appear</span></strong><span class="koboSpan" id="kobo.869.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.870.1">v-on:appear-cancelled</span></strong><span class="koboSpan" id="kobo.871.1">, or we can create custom classes by using the </span><span class="No-Break"><span class="koboSpan" id="kobo.872.1">following format:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.873.1">
&lt;transition-group
  appear="true"
  appear-class="fade-enter"
  appear-active-class="fade-enter-active"
  tag="div"
&gt;
  &lt;p v-for="message in messages"
    :key="message"&gt;{{message}}&lt;/p&gt;
&lt;/transition-group&gt;</span></pre>
<p><span class="koboSpan" id="kobo.874.1">Note that in </span><a id="_idIndexMarker1011"/><span class="koboSpan" id="kobo.875.1">case you use the JavaScript Hooks related to </span><strong class="source-inline"><span class="koboSpan" id="kobo.876.1">appear</span></strong><span class="koboSpan" id="kobo.877.1">, you need to set the </span><strong class="source-inline"><span class="koboSpan" id="kobo.878.1">appear</span></strong><span class="koboSpan" id="kobo.879.1"> prop to </span><strong class="source-inline"><span class="koboSpan" id="kobo.880.1">true</span></strong><span class="koboSpan" id="kobo.881.1"> along with binding the Hooks. </span><span class="koboSpan" id="kobo.881.2">Otherwise, it </span><span class="No-Break"><span class="koboSpan" id="kobo.882.1">won’t work.</span></span></p>
<p><span class="koboSpan" id="kobo.883.1">Animating on render is a commonly used feature applicable to many situations, such as fading in components, as we did here. </span><span class="koboSpan" id="kobo.883.2">In the next section, we will loo</span><a id="_idTextAnchor377"/><span class="koboSpan" id="kobo.884.1">k at sorting a list of messages with </span><span class="No-Break"><span class="koboSpan" id="kobo.885.1">an animation.</span></span></p>
<h2 id="_idParaDest-195"><a id="_idTextAnchor378"/><span class="koboSpan" id="kobo.886.1">Exercise 8.02 – sorting a list of messages with an animation</span></h2>
<p><span class="koboSpan" id="kobo.887.1">In this short exercise, we will implement</span><a id="_idIndexMarker1012"/><span class="koboSpan" id="kobo.888.1"> an animation effect on a list of elements using the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.889.1">transition-group</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.890.1"> component.</span></span></p>
<p><span class="koboSpan" id="kobo.891.1">To access the code file for this exercise, refer </span><span class="No-Break"><span class="koboSpan" id="kobo.892.1">to </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter08/Exercise8.02"><span class="No-Break"><span class="koboSpan" id="kobo.893.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter08/Exercise8.02</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.894.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.895.1">Based on the code of </span><em class="italic"><span class="koboSpan" id="kobo.896.1">Exercise 8.01</span></em><span class="koboSpan" id="kobo.897.1">, within the </span><strong class="source-inline"><span class="koboSpan" id="kobo.898.1">Exercise8-01.vue</span></strong><span class="koboSpan" id="kobo.899.1"> component, we will add additional functionality to the</span><a id="_idIndexMarker1013"/><span class="koboSpan" id="kobo.900.1"> message list: </span><strong class="bold"><span class="koboSpan" id="kobo.901.1">sorting</span></strong><span class="koboSpan" id="kobo.902.1">. </span><span class="koboSpan" id="kobo.902.2">Upon sorting (A-Z or Z-A), there will be a flipping animation effect applied to the list. </span><span class="koboSpan" id="kobo.902.3">To do this, see </span><span class="No-Break"><span class="koboSpan" id="kobo.903.1">the following:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.904.1">Use the application generated with </span><strong class="source-inline"><span class="koboSpan" id="kobo.905.1">npm init vue@3</span></strong><span class="koboSpan" id="kobo.906.1"> as a starting point, or within the root folder of the code repository, navigate into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.907.1">Chapter08/Exercise8.02</span></strong><span class="koboSpan" id="kobo.908.1"> folder by using the following commands </span><span class="No-Break"><span class="koboSpan" id="kobo.909.1">in order:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.910.1">&gt; cd Chapter08/Exercise8.02/</span></strong></pre><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.911.1">&gt; yarn</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.912.1">Open the exercise project in your VS Code (by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.913.1">code .</span></strong><span class="koboSpan" id="kobo.914.1"> command within the project directory) or your </span><span class="No-Break"><span class="koboSpan" id="kobo.915.1">preferred IDE.</span></span></li>
<li><span class="koboSpan" id="kobo.916.1">Let’s wrap</span><a id="_idIndexMarker1014"/><span class="koboSpan" id="kobo.917.1"> the list of messages with a </span><strong class="source-inline"><span class="koboSpan" id="kobo.918.1">transition-group</span></strong><span class="koboSpan" id="kobo.919.1"> component. </span><span class="koboSpan" id="kobo.919.2">Do not forget to set the </span><strong class="source-inline"><span class="koboSpan" id="kobo.920.1">tag</span></strong><span class="koboSpan" id="kobo.921.1"> name to </span><strong class="source-inline"><span class="koboSpan" id="kobo.922.1">div</span></strong><span class="koboSpan" id="kobo.923.1">, and add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.924.1">flip</span></strong><span class="koboSpan" id="kobo.925.1"> animation by using the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.926.1">name</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.927.1"> attribute:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.928.1">
&lt;transition-group</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.929.1">
  name="flip"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.930.1">
  tag="div"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.931.1">
&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.932.1">
  &lt;p</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.933.1">
    v-for="message in messages"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.934.1">
    :key="message"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.935.1">
    class="message--item"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.936.1">
  &gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.937.1">
    {{message}}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.938.1">
  &lt;/p&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.939.1">
&lt;/transition-group&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.940.1">Add </span><strong class="source-inline"><span class="koboSpan" id="kobo.941.1">appear="true"</span></strong><span class="koboSpan" id="kobo.942.1">, or simply </span><strong class="source-inline"><span class="koboSpan" id="kobo.943.1">appear</span></strong><span class="koboSpan" id="kobo.944.1"> for short, to animate the element only after the page has </span><span class="No-Break"><span class="koboSpan" id="kobo.945.1">finished loading:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.946.1">
&lt;transition-group</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.947.1">
    appear</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.948.1">
    name="flip"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.949.1">
    tag="div"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.950.1">
&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.951.1">
  //…</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.952.1">
&lt;/transition-group&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.953.1">Run the application using the </span><span class="No-Break"><span class="koboSpan" id="kobo.954.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.955.1">yarn dev</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.956.1">Upon</span><a id="_idIndexMarker1015"/><span class="koboSpan" id="kobo.957.1"> visiting </span><strong class="source-inline"><span class="koboSpan" id="kobo.958.1">http://localhost:3000</span></strong><span class="koboSpan" id="kobo.959.1"> in the browser, the output will be </span><span class="No-Break"><span class="koboSpan" id="kobo.960.1">as follows:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer247">
<span class="koboSpan" id="kobo.961.1"><img alt="Figure 8.9 – Message list before the animation" src="image/B18645_08_09.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.962.1">Figure 8.9 – Message list before the animation</span></p>
<ol>
<li value="7"><span class="koboSpan" id="kobo.963.1">At this point, there’s no animation because we haven’t defined the CSS animation styling for </span><strong class="source-inline"><span class="koboSpan" id="kobo.964.1">flip</span></strong><span class="koboSpan" id="kobo.965.1"> yet. </span><span class="koboSpan" id="kobo.965.2">In the </span><strong class="source-inline"><span class="koboSpan" id="kobo.966.1">&lt;style&gt;</span></strong><span class="koboSpan" id="kobo.967.1"> section of </span><strong class="source-inline"><span class="koboSpan" id="kobo.968.1">src/components/Exercise8-02.vue</span></strong><span class="koboSpan" id="kobo.969.1">, we will add </span><strong class="source-inline"><span class="koboSpan" id="kobo.970.1">opacity: 0</span></strong><span class="koboSpan" id="kobo.971.1"> and then reposition each element in the list vertically (on the </span><em class="italic"><span class="koboSpan" id="kobo.972.1">y</span></em><span class="koboSpan" id="kobo.973.1">-axis) by </span><strong class="source-inline"><span class="koboSpan" id="kobo.974.1">20px</span></strong><span class="koboSpan" id="kobo.975.1"> from its original position. </span><span class="koboSpan" id="kobo.975.2">This should be the initial state when the element enters </span><strong class="source-inline"><span class="koboSpan" id="kobo.976.1">flip-enter-from</span></strong><span class="koboSpan" id="kobo.977.1"> or is about to leave the transition </span><span class="No-Break"><span class="koboSpan" id="kobo.978.1">with </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.979.1">flip-leave-to</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.980.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.981.1">
&lt;style scoped&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.982.1">
  .flip-enter-from, .flip-leave-to {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.983.1">
    opacity: 0;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.984.1">
    transform: translateY(20px);</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.985.1">
  }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.986.1">
&lt;/style&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.987.1">In the</span><a id="_idIndexMarker1016"/><span class="koboSpan" id="kobo.988.1"> same </span><strong class="source-inline"><span class="koboSpan" id="kobo.989.1">&lt;style&gt;</span></strong><span class="koboSpan" id="kobo.990.1"> section, add custom CSS styling to each </span><strong class="source-inline"><span class="koboSpan" id="kobo.991.1">message</span></strong><span class="koboSpan" id="kobo.992.1"> element (the </span><strong class="source-inline"><span class="koboSpan" id="kobo.993.1">message—item</span></strong><span class="koboSpan" id="kobo.994.1"> class) with </span><strong class="source-inline"><span class="koboSpan" id="kobo.995.1">transition: all 2s</span></strong><span class="koboSpan" id="kobo.996.1">. </span><span class="koboSpan" id="kobo.996.2">This is to make sure the transition effect for the element will be applied to all CSS properties within </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.997.1">2</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.998.1"> seconds:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.999.1">
.message--item {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1000.1">
  transition: all 2s;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1001.1">
}</span></pre></li>
<li><span class="koboSpan" id="kobo.1002.1">Once </span><strong class="source-inline"><span class="koboSpan" id="kobo.1003.1">flip-move</span></strong><span class="koboSpan" id="kobo.1004.1"> is in action, we need to add the transition effect just for </span><strong class="source-inline"><span class="koboSpan" id="kobo.1005.1">transform</span></strong><span class="koboSpan" id="kobo.1006.1"> (which was defined previously as vertically </span><strong class="source-inline"><span class="koboSpan" id="kobo.1007.1">20px</span></strong><span class="koboSpan" id="kobo.1008.1"> away). </span><span class="koboSpan" id="kobo.1008.2">We can see the moving-up-and-down effect for each message flawlessly. </span><span class="koboSpan" id="kobo.1008.3">In addition, we also need to add </span><strong class="source-inline"><span class="koboSpan" id="kobo.1009.1">position: absolute</span></strong><span class="koboSpan" id="kobo.1010.1"> for when the transition is in the middle of the </span><span class="No-Break"><span class="koboSpan" id="kobo.1011.1">leaving state:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1012.1">
.flip-leave-active {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1013.1">
  position: absolute;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1014.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1015.1">
.flip-move {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1016.1">
  transition: transform 1s;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1017.1">
}</span></pre></li>
<li><span class="koboSpan" id="kobo.1018.1">We will next add three buttons—allowing you to sort from A to Z, sort from Z to A, and </span><span class="No-Break"><span class="koboSpan" id="kobo.1019.1">shuffle randomly:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1020.1">
&lt;button @click="sorting()"&gt;Sort A-Z&lt;/button&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1021.1">
&lt;button @click="sorting(true)"&gt;Sort Z-A&lt;/button&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1022.1">
&lt;button @click="shuffle()"&gt;Shuffle&lt;/button&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.1023.1">We also</span><a id="_idIndexMarker1017"/><span class="koboSpan" id="kobo.1024.1"> need to add our basic component </span><strong class="source-inline"><span class="koboSpan" id="kobo.1025.1">export</span></strong><span class="koboSpan" id="kobo.1026.1"> code, as well as our message feed data. </span><span class="koboSpan" id="kobo.1026.2">Feel free to use any content you like </span><span class="No-Break"><span class="koboSpan" id="kobo.1027.1">for </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1028.1">messages</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1029.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1030.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1031.1">
  data() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1032.1">
    return {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1033.1">
      messages: [</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1034.1">
        "Hello, how are you?",</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1035.1">
        "The weather is nice",</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1036.1">
        "This is the message feed",</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1037.1">
        "And I am the fourth message",</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1038.1">
        "Chapter 8 is fun",</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1039.1">
        "Animation is super awesome",</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1040.1">
        "Sorry, I didn't know you called",</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1041.1">
        "Be patient, animation comes right up",</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1042.1">
      ],</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1043.1">
      show: false,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1044.1">
    };</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1045.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1046.1">
};</span></pre></li>
<li><span class="koboSpan" id="kobo.1047.1">Next, we’ll add the logic for sorting and shuffling. </span><span class="koboSpan" id="kobo.1047.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1048.1">methods</span></strong><span class="koboSpan" id="kobo.1049.1"> section should be inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1050.1">export</span></strong><span class="koboSpan" id="kobo.1051.1"> component from the </span><span class="No-Break"><span class="koboSpan" id="kobo.1052.1">last step:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1053.1">
  methods: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1054.1">
    sorting(isDescending) {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1055.1">
      this.messages.sort();</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1056.1">
      if (isDescending) { this.messages.reverse(); }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1057.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1058.1">
    shuffle() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1059.1">
      this.messages.sort(() =&gt; Math.random() - 0.5);</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1060.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1061.1">
  }</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.1062.1">The output </span><a id="_idIndexMarker1018"/><span class="koboSpan" id="kobo.1063.1">after clicking on one of the buttons will be like </span><span class="No-Break"><span class="koboSpan" id="kobo.1064.1">the following:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer248">
<span class="koboSpan" id="kobo.1065.1"><img alt="Figure 8.10 – Message list during sorting" src="image/B18645_08_10.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1066.1">Figure 8.10 – Message list during sorting</span></p>
<p><span class="koboSpan" id="kobo.1067.1">In this exercise, we </span><a id="_idIndexMarker1019"/><span class="koboSpan" id="kobo.1068.1">learned how to add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1069.1">flip</span></strong><span class="koboSpan" id="kobo.1070.1"> animation effect with </span><strong class="source-inline"><span class="koboSpan" id="kobo.1071.1">transition-group</span></strong><span class="koboSpan" id="kobo.1072.1"> to a list of components dynamically based on a change in the order of its element. </span><span class="koboSpan" id="kobo.1072.2">Note that the algorithm used for shuffling the list of messages is naïve, and you should not use it in real-life scenarios due to the complexity of </span><span class="No-Break"><span class="koboSpan" id="kobo.1073.1">its performance.</span></span></p>
<p><span class="koboSpan" id="kobo.1074.1">Next, let’s explore how to</span><a id="_idTextAnchor379"/><span class="koboSpan" id="kobo.1075.1"> apply transition effects when navigating </span><span class="No-Break"><span class="koboSpan" id="kobo.1076.1">between pages.</span></span></p>
<h1 id="_idParaDest-196"><a id="_idTextAnchor380"/><span class="koboSpan" id="kobo.1077.1">Examining transition routes</span></h1>
<p><span class="koboSpan" id="kobo.1078.1">With the </span><a id="_idIndexMarker1020"/><span class="koboSpan" id="kobo.1079.1">combination of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1080.1">router-element</span></strong><span class="koboSpan" id="kobo.1081.1"> component from Vue Router and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1082.1">transition</span></strong><span class="koboSpan" id="kobo.1083.1"> component, we can easily set up the transition effects when a user navigates from one URL (route) </span><span class="No-Break"><span class="koboSpan" id="kobo.1084.1">to another.</span></span></p>
<p><span class="koboSpan" id="kobo.1085.1">To give you a more fundamental understanding, we demonstrate in the following section an underlying case where a user redirects from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1086.1">home</span></strong><span class="koboSpan" id="kobo.1087.1"> page to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1088.1">about</span></strong><span class="koboSpan" id="kobo.1089.1"> page on </span><span class="No-Break"><span class="koboSpan" id="kobo.1090.1">a website.</span></span></p>
<p><span class="koboSpan" id="kobo.1091.1">To enable a transition across routing, with Vue Router 4.x and above, we need to combine the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1092.1">v-slot</span></strong><span class="koboSpan" id="kobo.1093.1"> API with a dynamic </span><strong class="source-inline"><span class="koboSpan" id="kobo.1094.1">component</span></strong><span class="koboSpan" id="kobo.1095.1"> element. </span><span class="koboSpan" id="kobo.1095.2">We use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1096.1">v-slot</span></strong><span class="koboSpan" id="kobo.1097.1"> attribute to pass and bind view </span><strong class="source-inline"><span class="koboSpan" id="kobo.1098.1">Component</span></strong><span class="koboSpan" id="kobo.1099.1"> of the current route to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1100.1">is</span></strong><span class="koboSpan" id="kobo.1101.1"> props of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1102.1">component</span></strong><span class="koboSpan" id="kobo.1103.1"> element nested under </span><strong class="source-inline"><span class="koboSpan" id="kobo.1104.1">transition</span></strong><span class="koboSpan" id="kobo.1105.1">, as </span><span class="No-Break"><span class="koboSpan" id="kobo.1106.1">seen here:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1107.1">
&lt;router-view v-slot="{ Component }"&gt;
  &lt;transition :name="zoom"&gt;
    &lt;component :is="Component" /&gt;
  &lt;/transition&gt;
&lt;/router-view&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1108.1">Here, we add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1109.1">zoom</span></strong><span class="koboSpan" id="kobo.1110.1"> transition effect when navigating from one page to another. </span><span class="koboSpan" id="kobo.1110.2">We can also use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1111.1">mode</span></strong><span class="koboSpan" id="kobo.1112.1"> attribute to indicate the transition mode. </span><span class="koboSpan" id="kobo.1112.2">There are currently two modes </span><span class="No-Break"><span class="koboSpan" id="kobo.1113.1">to set:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1114.1">in-out</span></strong><span class="koboSpan" id="kobo.1115.1">: The new element comes in first, and only after that will the current element go out </span><span class="No-Break"><span class="koboSpan" id="kobo.1116.1">of view.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1117.1">out-in</span></strong><span class="koboSpan" id="kobo.1118.1">: The current element goes out first, and only then will the new element come in. </span><span class="koboSpan" id="kobo.1118.2">We will use this for our example and it’s more common than the </span><span class="No-Break"><span class="koboSpan" id="kobo.1119.1">previous one.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.1120.1">Then, we just need to set up the transition CSS effect with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1121.1">transition</span></strong><span class="koboSpan" id="kobo.1122.1"> classes as usual and it’s done. </span><span class="koboSpan" id="kobo.1122.2">Simple </span><span class="No-Break"><span class="koboSpan" id="kobo.1123.1">as that:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1124.1">
/**Zoom animation */
.zoom-enter-active,
.zoom-leave-active {
  animation-duration: 0.3s;
  animation-fill-mode: both;
  animation-name: zoom;
}
.zoom-leave-active {
  animation-direction: reverse;
}
@keyframes zoom {
  from {
    opacity: 0;
    transform: scale3d(0.4, 0.4, 0.4);
  }
 100% {
    opacity: 1;
 }
}</span></pre>
<p><span class="koboSpan" id="kobo.1125.1">In this section, we</span><a id="_idIndexMarker1021"/><span class="koboSpan" id="kobo.1126.1"> looked at transition routes. </span><span class="koboSpan" id="kobo.1126.2">Transition effects are animations that occur between the rendering of routes, such as navigating from one page to another. </span><span class="koboSpan" id="kobo.1126.3">In the next exercise, we will look at creating a tran</span><a id="_idTextAnchor381"/><span class="koboSpan" id="kobo.1127.1">sition effect for each route navigated in </span><span class="No-Break"><span class="koboSpan" id="kobo.1128.1">our application.</span></span></p>
<h2 id="_idParaDest-197"><a id="_idTextAnchor382"/><span class="koboSpan" id="kobo.1129.1">Exercise 8.03 – creating a transition effect for each route navigated</span></h2>
<p><span class="koboSpan" id="kobo.1130.1">In this</span><a id="_idIndexMarker1022"/><span class="koboSpan" id="kobo.1131.1"> exercise, we will adapt what we have learned about transitions with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1132.1">router</span></strong><span class="koboSpan" id="kobo.1133.1"> element from the </span><em class="italic"><span class="koboSpan" id="kobo.1134.1">Examining transition routes</span></em><span class="koboSpan" id="kobo.1135.1"> section to create different transition effects for </span><span class="No-Break"><span class="koboSpan" id="kobo.1136.1">different routes.</span></span></p>
<p><span class="koboSpan" id="kobo.1137.1">To access the code file for this exercise, refer </span><span class="No-Break"><span class="koboSpan" id="kobo.1138.1">to </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter08/Exercise8.03"><span class="No-Break"><span class="koboSpan" id="kobo.1139.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter08/Exercise8.03</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.1140.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1141.1">We will create a new route view for displaying the messages using the code from </span><em class="italic"><span class="koboSpan" id="kobo.1142.1">Exercise 8.02</span></em><span class="koboSpan" id="kobo.1143.1"> and add the transition effect when navigating to this view. </span><span class="koboSpan" id="kobo.1143.2">The default effect will </span><span class="No-Break"><span class="koboSpan" id="kobo.1144.1">be </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1145.1">fade</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1146.1">:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.1147.1">Use the application generated with </span><strong class="source-inline"><span class="koboSpan" id="kobo.1148.1">npm init vue@3</span></strong><span class="koboSpan" id="kobo.1149.1"> as a starting point, with Vue Router added. </span><span class="koboSpan" id="kobo.1149.2">Alternatively, within the root folder of the code repository, navigate into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1150.1">Chapter08/Exercise8.03</span></strong><span class="koboSpan" id="kobo.1151.1"> folder by using the following commands </span><span class="No-Break"><span class="koboSpan" id="kobo.1152.1">in order:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.1153.1">&gt; cd Chapter08/Exercise8.03/</span></strong></pre><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.1154.1">&gt; yarn</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.1155.1">Open the exercise project in your VS Code (by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1156.1">code .</span></strong><span class="koboSpan" id="kobo.1157.1"> command within the project directory) or your </span><span class="No-Break"><span class="koboSpan" id="kobo.1158.1">preferred IDE.</span></span></li>
<li><span class="koboSpan" id="kobo.1159.1">Create a new route view for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1160.1">Messages.vue</span></strong><span class="koboSpan" id="kobo.1161.1"> view, located in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1162.1">src/views/</span></strong><span class="koboSpan" id="kobo.1163.1"> folder. </span><span class="koboSpan" id="kobo.1163.2">Reuse the code for </span><strong class="source-inline"><span class="koboSpan" id="kobo.1164.1">Exercise8-02.vue</span></strong><span class="koboSpan" id="kobo.1165.1"> from </span><em class="italic"><span class="koboSpan" id="kobo.1166.1">Exercise 8.02</span></em><span class="koboSpan" id="kobo.1167.1"> for this view component to render the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1168.1">/messages</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1169.1">page route.</span></span></li>
<li><span class="koboSpan" id="kobo.1170.1">Register this </span><strong class="source-inline"><span class="koboSpan" id="kobo.1171.1">/messages</span></strong><span class="koboSpan" id="kobo.1172.1"> route by adding a new </span><strong class="source-inline"><span class="koboSpan" id="kobo.1173.1">route</span></strong><span class="koboSpan" id="kobo.1174.1"> object to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1175.1">routes</span></strong><span class="koboSpan" id="kobo.1176.1">, as seen in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1177.1">following code:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1178.1">
const router = createRouter({</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1179.1">
  history: createWebHistory(import.meta.env.BASE_URL),</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1180.1">
  routes: [</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1181.1">
    {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1182.1">
      path: "/",</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1183.1">
      name: "home",</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1184.1">
      component: HomeView,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1185.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1186.1">
    {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1187.1">
      path: "/messages",</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1188.1">
      name: "messages",</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1189.1">
      meta: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1190.1">
        transition: "zoom",</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1191.1">
      },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1192.1">
      component: () =&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1193.1">
        import("../views/Messages.vue"),</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1194.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1195.1">
  ],</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1196.1">
});</span></pre></li>
<li><span class="koboSpan" id="kobo.1197.1">Add a</span><a id="_idIndexMarker1023"/><span class="koboSpan" id="kobo.1198.1"> link to this newly created route </span><span class="No-Break"><span class="koboSpan" id="kobo.1199.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1200.1">App.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1201.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1202.1">
&lt;nav&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1203.1">
  &lt;RouterLink to="/"&gt;Home&lt;/RouterLink&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1204.1">
  &lt;RouterLink to="/messages"&gt;Messages&lt;/RouterLink&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1205.1">
&lt;/nav&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.1206.1">Next, in </span><strong class="source-inline"><span class="koboSpan" id="kobo.1207.1">App.vue</span></strong><span class="koboSpan" id="kobo.1208.1">, we bind the global </span><strong class="source-inline"><span class="koboSpan" id="kobo.1209.1">route</span></strong><span class="koboSpan" id="kobo.1210.1"> instance (mentioned in </span><a href="B18645_07.xhtml#_idTextAnchor248"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1211.1">Chapter 7</span></em></span></a><span class="koboSpan" id="kobo.1212.1">, </span><em class="italic"><span class="koboSpan" id="kobo.1213.1">Routing</span></em><span class="koboSpan" id="kobo.1214.1">) to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1215.1">slot</span></strong><span class="koboSpan" id="kobo.1216.1">, and dynamically assign the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1217.1">transition</span></strong><span class="koboSpan" id="kobo.1218.1"> defined for the specific route using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1219.1">meta</span></strong><span class="koboSpan" id="kobo.1220.1"> property (or using the local </span><strong class="source-inline"><span class="koboSpan" id="kobo.1221.1">transition</span></strong><span class="koboSpan" id="kobo.1222.1"> data). </span><span class="koboSpan" id="kobo.1222.2">We also bind the transition mode to the local </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1223.1">mode</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1224.1"> data:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1225.1">
&lt;router-view v-slot="{ Component, route }"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1226.1">
  &lt;transition :name="route.meta.transition ||</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1227.1">
    transition" :mode="mode"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1228.1">
    &lt;component :is="Component" /&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1229.1">
  &lt;/transition&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1230.1">
&lt;/router-view&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.1231.1">Inside</span><a id="_idIndexMarker1024"/><span class="koboSpan" id="kobo.1232.1"> the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1233.1">script</span></strong><span class="koboSpan" id="kobo.1234.1"> section of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1235.1">App.vue</span></strong><span class="koboSpan" id="kobo.1236.1">, make sure we define the default value for </span><strong class="source-inline"><span class="koboSpan" id="kobo.1237.1">transition</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1238.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1239.1">mode</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1240.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1241.1">
&lt;script setup&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1242.1">
import { RouterLink, RouterView } from "vue-router";</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1243.1">
let transition = "fade";</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1244.1">
const mode = "out-in";</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1245.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.1246.1">Add the CSS style for fading in and out using the following CSS </span><span class="No-Break"><span class="koboSpan" id="kobo.1247.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1248.1">App.vue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1249.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1250.1">
&lt;style&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1251.1">
  .fade-enter-from, .fade-leave-to {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1252.1">
    opacity: 0;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1253.1">
  }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1254.1">
  .fade-enter-active, .fade-leave-active {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1255.1">
    transition: opacity 1s ease-in;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1256.1">
  }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1257.1">
&lt;/style&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.1258.1">At this point, all the pages are loaded with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1259.1">fade</span></strong><span class="koboSpan" id="kobo.1260.1"> effect, even </span><strong class="source-inline"><span class="koboSpan" id="kobo.1261.1">/messages</span></strong><span class="koboSpan" id="kobo.1262.1">. </span><span class="koboSpan" id="kobo.1262.2">But we want to make the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1263.1">messages</span></strong><span class="koboSpan" id="kobo.1264.1"> page load with a different effect: the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1265.1">zoom</span></strong><span class="koboSpan" id="kobo.1266.1"> effect. </span><span class="koboSpan" id="kobo.1266.2">Next, add </span><a id="_idIndexMarker1025"/><span class="koboSpan" id="kobo.1267.1">the relevant CSS code for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1268.1">zoom</span></strong><span class="koboSpan" id="kobo.1269.1"> animation inside the same </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1270.1">style</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1271.1"> tag:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1272.1">
/**Zoom animation */</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1273.1">
.zoom-enter-active,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1274.1">
.zoom-leave-active {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1275.1">
  animation-duration: 0.5s;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1276.1">
  animation-fill-mode: both;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1277.1">
  animation-name: zoom;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1278.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1279.1">
.zoom-leave-active {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1280.1">
  animation-direction: reverse;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1281.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1282.1">
@keyframes zoom {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1283.1">
 from {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1284.1">
    opacity: 0;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1285.1">
    transform: scale3d(0.4, 0.4, 0.4);</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1286.1">
 }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1287.1">
  100% {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1288.1">
    opacity: 1;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1289.1">
  }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1290.1">
}</span></pre></li>
<li><span class="koboSpan" id="kobo.1291.1">We will now add some standard CSS styling for the app’s default layout with the help of the</span><a id="_idIndexMarker1026"/> <span class="No-Break"><span class="koboSpan" id="kobo.1292.1">following code:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1293.1">
#app {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1294.1">
  font-family: 'Avenir', Helvetica, Arial, sans-serif;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1295.1">
  -webkit-font-smoothing: antialiased;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1296.1">
  -moz-osx-font-smoothing: grayscale;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1297.1">
  text-align: center;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1298.1">
  color: #2c3e50;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1299.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1300.1">
#nav {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1301.1">
  padding: 30px;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1302.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1303.1">
#nav a {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1304.1">
  font-weight: bold;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1305.1">
  color: #2c3e50;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1306.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1307.1">
#nav a.router-link-exact-active {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1308.1">
  color: #42b983;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1309.1">
}</span></pre></li>
<li><span class="koboSpan" id="kobo.1310.1">Now, we need to map the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1311.1">/messages</span></strong><span class="koboSpan" id="kobo.1312.1"> route with this specific transition effect without </span><a id="_idIndexMarker1027"/><span class="koboSpan" id="kobo.1313.1">affecting other routes. </span><span class="koboSpan" id="kobo.1313.2">In order to do that, we need to add a field called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1314.1">transition</span></strong><span class="koboSpan" id="kobo.1315.1"> to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1316.1">meta</span></strong><span class="koboSpan" id="kobo.1317.1"> property of this route configuration, </span><span class="No-Break"><span class="koboSpan" id="kobo.1318.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1319.1">src/router/index.js</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1320.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1321.1">
  {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1322.1">
    path: '/messages',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1323.1">
    name: 'messages',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1324.1">
    meta: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1325.1">
      transition: 'zoom',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1326.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1327.1">
    component: () =&gt; import '../views/Messages.vue')</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1328.1">
  }</span></pre></li>
<li><span class="koboSpan" id="kobo.1329.1">Check the code for your </span><strong class="source-inline"><span class="koboSpan" id="kobo.1330.1">routes</span></strong><span class="koboSpan" id="kobo.1331.1"> object to confirm that it’s the same as the following code. </span><span class="koboSpan" id="kobo.1331.2">Here, we match each URL for our application with a </span><span class="No-Break"><span class="koboSpan" id="kobo.1332.1">view file:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1333.1">
const router = createRouter({</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1334.1">
  history: createWebHistory(import.meta.env.BASE_URL),</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1335.1">
  routes: [</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1336.1">
    {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1337.1">
      path: "/",</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1338.1">
      name: "home",</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1339.1">
      component: HomeView,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1340.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1341.1">
    {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1342.1">
      path: "/messages",</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1343.1">
      name: "messages",</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1344.1">
      meta: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1345.1">
        transition: "zoom",</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1346.1">
      },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1347.1">
      component: () =&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1348.1">
        import("../views/Messages.vue"),</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1349.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1350.1">
  ],</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1351.1">
});</span></pre></li>
<li><span class="koboSpan" id="kobo.1352.1">Run the </span><a id="_idIndexMarker1028"/><span class="koboSpan" id="kobo.1353.1">application using the </span><span class="No-Break"><span class="koboSpan" id="kobo.1354.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.1355.1">yarn dev</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.1356.1">Now, if you open </span><strong class="source-inline"><span class="koboSpan" id="kobo.1357.1">localhost:3000</span></strong><span class="koboSpan" id="kobo.1358.1"> in your browser and navigate to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1359.1">/messages</span></strong><span class="koboSpan" id="kobo.1360.1">, you should see something similar to </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1361.1">Figure 8</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1362.1">.11</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1363.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer249">
<span class="koboSpan" id="kobo.1364.1"><img alt="Figure 8.11 – Navigating to /messages with a zoom effect in progress" src="image/B18645_08_11.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1365.1">Figure 8.11 – Navigating to /messages with a zoom effect in progress</span></p>
<p><span class="koboSpan" id="kobo.1366.1">While navigating </span><a id="_idIndexMarker1029"/><span class="koboSpan" id="kobo.1367.1">to other routes, we should see the default transition shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1368.1">Figure 8</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1369.1">.12</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1370.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer250">
<span class="koboSpan" id="kobo.1371.1"><img alt="Figure 8.12 – Navigating to /home with a message with a﻿ fade effect" src="image/B18645_08_12.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1372.1">Figure 8.12 – Navigating to /home with a message with a fade effect</span></p>
<p><span class="koboSpan" id="kobo.1373.1">This exercise </span><a id="_idIndexMarker1030"/><span class="koboSpan" id="kobo.1374.1">demonstrates how we can easily set up different transitions for different pages with minimum effort by combining the right Hooks and methods. </span><span class="koboSpan" id="kobo.1374.2">You can experiment a bit further with an e</span><a id="_idTextAnchor383"/><span class="koboSpan" id="kobo.1375.1">xternal library to make your app anim</span><a id="_idTextAnchor384"/><span class="koboSpan" id="kobo.1376.1">ation smoother </span><span class="No-Break"><span class="koboSpan" id="kobo.1377.1">and livelier.</span></span></p>
<h1 id="_idParaDest-198"><a id="_idTextAnchor385"/><span class="koboSpan" id="kobo.1378.1">Using the GSAP library for animation</span></h1>
<p><span class="koboSpan" id="kobo.1379.1">GSAP is an </span><a id="_idIndexMarker1031"/><span class="koboSpan" id="kobo.1380.1">open source, scripted library that focuses solely on fast animation using JavaScript and </span><a id="_idIndexMarker1032"/><span class="koboSpan" id="kobo.1381.1">provides cross-platform consistency support. </span><span class="koboSpan" id="kobo.1381.2">It supports animation on a wide range of element types, such as </span><strong class="bold"><span class="koboSpan" id="kobo.1382.1">Scalar Vector Graphics</span></strong><span class="koboSpan" id="kobo.1383.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.1384.1">SVG</span></strong><span class="koboSpan" id="kobo.1385.1">), React</span><a id="_idIndexMarker1033"/><span class="koboSpan" id="kobo.1386.1"> components, canvas, and </span><span class="No-Break"><span class="koboSpan" id="kobo.1387.1">so on.</span></span></p>
<p><span class="koboSpan" id="kobo.1388.1">GSAP is flexible, easy to install, and will adjust to any configuration given, from CSS properties or SVG attributes to a numeric value for rendering an object into </span><span class="No-Break"><span class="koboSpan" id="kobo.1389.1">a canvas.</span></span></p>
<p><span class="koboSpan" id="kobo.1390.1">The core library is a suite of different tools, divided into </span><a id="_idTextAnchor386"/><span class="koboSpan" id="kobo.1391.1">core tools and others, such as plugins, easing tools, </span><span class="No-Break"><span class="koboSpan" id="kobo.1392.1">and utilities.</span></span></p>
<h2 id="_idParaDest-199"><a id="_idTextAnchor387"/><span class="koboSpan" id="kobo.1393.1">Installing GSAP</span></h2>
<p><span class="koboSpan" id="kobo.1394.1">Installing</span><a id="_idIndexMarker1034"/><span class="koboSpan" id="kobo.1395.1"> GSAP is straightforward using </span><strong class="source-inline"><span class="koboSpan" id="kobo.1396.1">npm install</span></strong><span class="koboSpan" id="kobo.1397.1"> or </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1398.1">yarn add</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1399.1">:</span></span></p>
<pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.1400.1">yarn add gsap</span></strong><span class="koboSpan" id="kobo.1401.1">
#or
</span><strong class="bold"><span class="koboSpan" id="kobo.1402.1">npm install gsap</span></strong></pre>
<p><span class="koboSpan" id="kobo.1403.1">After installation, you should see</span><a id="_idTextAnchor388"/><span class="koboSpan" id="kobo.1404.1"> a successful output such as that shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1405.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer251">
<span class="koboSpan" id="kobo.1406.1"><img alt="Figure 8.13 – Results after successful installation" src="image/B18645_08_13.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1407.1">Figure 8.13 – Results after successful installation</span></p>
<p><a id="_idTextAnchor389"/><span class="koboSpan" id="kobo.1408.1">Now that we have GSAP installed, we’ll look at basic tweens </span><span class="No-Break"><span class="koboSpan" id="kobo.1409.1">in GSAP.</span></span></p>
<h2 id="_idParaDest-200"><a id="_idTextAnchor390"/><span class="koboSpan" id="kobo.1410.1">Basic tweens</span></h2>
<p><strong class="bold"><span class="koboSpan" id="kobo.1411.1">A tween</span></strong><span class="koboSpan" id="kobo.1412.1"> is a</span><a id="_idIndexMarker1035"/><span class="koboSpan" id="kobo.1413.1"> concept defined by the creator</span><a id="_idIndexMarker1036"/><span class="koboSpan" id="kobo.1414.1"> of the GSAP library as a high-performance setter for performing all the desired animation work based on the user’s configuration inputs. </span><span class="koboSpan" id="kobo.1414.2">We can use the targeted objects, a period, or any specific CSS properties as input for animation. </span><span class="koboSpan" id="kobo.1414.3">Upon performing the animation, the tween figures out what the values of CSS properties should be according to the given duration and applies </span><span class="No-Break"><span class="koboSpan" id="kobo.1415.1">them accord</span><a id="_idTextAnchor391"/><span class="koboSpan" id="kobo.1416.1">ingly.</span></span></p>
<p><span class="koboSpan" id="kobo.1417.1">The following are the essential methods to create </span><span class="No-Break"><span class="koboSpan" id="kobo.1418.1">basic tweens.</span></span></p>
<h3><span class="koboSpan" id="kobo.1419.1">gsap.to()</span></h3>
<p><span class="koboSpan" id="kobo.1420.1">The most </span><a id="_idIndexMarker1037"/><span class="koboSpan" id="kobo.1421.1">commonly used tween is </span><strong class="source-inline"><span class="koboSpan" id="kobo.1422.1">gsap.to()</span></strong><span class="koboSpan" id="kobo.1423.1">, which is called to create an animation based on these two </span><span class="No-Break"><span class="koboSpan" id="kobo.1424.1">main parameters:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.1425.1">Targets</span></strong><span class="koboSpan" id="kobo.1426.1">: These</span><a id="_idIndexMarker1038"/><span class="koboSpan" id="kobo.1427.1"> are the elements to which we want to apply the animation. </span><span class="koboSpan" id="kobo.1427.2">Targets can be an array of elements, a raw object, a DOM element, or an element selector text, such </span><span class="No-Break"><span class="koboSpan" id="kobo.1428.1">as </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1429.1">#myId</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1430.1">.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1431.1">Vars</span></strong><span class="koboSpan" id="kobo.1432.1">: An</span><a id="_idIndexMarker1039"/><span class="koboSpan" id="kobo.1433.1"> object containing all the animation configuration properties – for example, CSS-like properties such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.1434.1">opacity: 0</span></strong><span class="koboSpan" id="kobo.1435.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1436.1">rotation: 90</span></strong><span class="koboSpan" id="kobo.1437.1">, or </span><strong class="source-inline"><span class="koboSpan" id="kobo.1438.1">fontSize: '20px'</span></strong><span class="koboSpan" id="kobo.1439.1">; animation properties such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.1440.1">duration: 1</span></strong><span class="koboSpan" id="kobo.1441.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1442.1">stagger: 0.2</span></strong><span class="koboSpan" id="kobo.1443.1">, or </span><strong class="source-inline"><span class="koboSpan" id="kobo.1444.1">ease: "elastic"</span></strong><span class="koboSpan" id="kobo.1445.1">; and event handler properties such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.1446.1">onComplete</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1447.1">or </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1448.1">onUpdate</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1449.1">.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.1450.1">For example, if we want to animate the logo of Vue in </span><strong class="source-inline"><span class="koboSpan" id="kobo.1451.1">HelloWorld.vue</span></strong><span class="koboSpan" id="kobo.1452.1">, we run </span><span class="No-Break"><span class="koboSpan" id="kobo.1453.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1454.1">
gsap.to(el, {duration: 3, opacity: 1, onComplete: done});</span></pre>
<p><span class="koboSpan" id="kobo.1455.1">Alternatively, use the following to move an object with </span><strong class="source-inline"><span class="koboSpan" id="kobo.1456.1">x</span></strong><span class="koboSpan" id="kobo.1457.1"> properties (the same as </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1458.1">transform</span><a id="_idTextAnchor392"/><span class="koboSpan" id="kobo.1459.1">: translateX()</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1460.1">):</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1461.1">
gsap.to(".green", {duration: 3, x: 500, rotation: 360});</span></pre>
<p><span class="koboSpan" id="kobo.1462.1">The preceding code locates an element with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1463.1">green</span></strong><span class="koboSpan" id="kobo.1464.1"> class and rotates it </span><strong class="source-inline"><span class="koboSpan" id="kobo.1465.1">360</span></strong><span class="koboSpan" id="kobo.1466.1"> degrees within a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1467.1">500</span></strong><span class="koboSpan" id="kobo.1468.1">-px distance horizontally when that element comes </span><span class="No-Break"><span class="koboSpan" id="kobo.1469.1">into view.</span></span></p>
<h3><span class="koboSpan" id="kobo.1470.1">gsap.from() and gsap.fromTo</span></h3>
<p><span class="koboSpan" id="kobo.1471.1">We don’t </span><a id="_idIndexMarker1040"/><span class="koboSpan" id="kobo.1472.1">always want to define the expected animation effect for the element in view. </span><span class="koboSpan" id="kobo.1472.2">Instead, we define the default values from which the animation should start for the</span><a id="_idIndexMarker1041"/><span class="koboSpan" id="kobo.1473.1"> targeted element – that’s when we </span><span class="No-Break"><span class="koboSpan" id="kobo.1474.1">use </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1475.1">gsap.from()</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1476.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1477.1">For example, assuming the current </span><strong class="source-inline"><span class="koboSpan" id="kobo.1478.1">opacity</span></strong><span class="koboSpan" id="kobo.1479.1"> value of a box is </span><strong class="source-inline"><span class="koboSpan" id="kobo.1480.1">1</span></strong><span class="koboSpan" id="kobo.1481.1">, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1482.1">scale</span></strong><span class="koboSpan" id="kobo.1483.1"> value is </span><strong class="source-inline"><span class="koboSpan" id="kobo.1484.1">1</span></strong><span class="koboSpan" id="kobo.1485.1">, and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1486.1">x</span></strong><span class="koboSpan" id="kobo.1487.1"> position is </span><strong class="source-inline"><span class="koboSpan" id="kobo.1488.1">0</span></strong><span class="koboSpan" id="kobo.1489.1">, we want to set up an animation to these current values </span><em class="italic"><span class="koboSpan" id="kobo.1490.1">from</span></em><span class="koboSpan" id="kobo.1491.1"> an </span><strong class="source-inline"><span class="koboSpan" id="kobo.1492.1">x</span></strong><span class="koboSpan" id="kobo.1493.1"> position of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1494.1">300</span></strong><span class="koboSpan" id="kobo.1495.1">, with an </span><strong class="source-inline"><span class="koboSpan" id="kobo.1496.1">opacity</span></strong><span class="koboSpan" id="kobo.1497.1"> value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1498.1">0</span></strong><span class="koboSpan" id="kobo.1499.1"> and a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1500.1">scale</span></strong><span class="koboSpan" id="kobo.1501.1"> value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1502.1">0.5</span></strong><span class="koboSpan" id="kobo.1503.1">. </span><span class="koboSpan" id="kobo.1503.2">In other words, the animation will be from </span><strong class="source-inline"><span class="koboSpan" id="kobo.1504.1">{x: 300, opacity: 0, scale: 0.5}</span></strong><span class="koboSpan" id="kobo.1505.1"> to whatever values the element </span><span class="No-Break"><span class="koboSpan" id="kobo.1506.1">has currently:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1507.1">
gsap.from(".red", {duration: 3, x: 300, scale: 0.5, opacity: 0});</span></pre>
<p><span class="koboSpan" id="kobo.1508.1">However, in many cases, we need to set up the start and end values for an animation since one side is not good enough. </span><span class="koboSpan" id="kobo.1508.2">For that purpose, GSAP </span><a id="_idIndexMarker1042"/><span class="koboSpan" id="kobo.1509.1">provides </span><strong class="source-inline"><span class="koboSpan" id="kobo.1510.1">gsap.fromTo()</span></strong><span class="koboSpan" id="kobo.1511.1"> with </span><a id="_idIndexMarker1043"/><span class="koboSpan" id="kobo.1512.1">the </span><span class="No-Break"><span class="koboSpan" id="kobo.1513.1">following syntax:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1514.1">
gsap.fromTo(target, fromValues, toValues)</span></pre>
<p><span class="koboSpan" id="kobo.1515.1">Let’s define an animation for a gray box with original values of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1516.1">{ opacity: 0, scale: 0.5, x: 300 }</span></strong><span class="koboSpan" id="kobo.1517.1"> to the values of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1518.1">{ opacity: 1, scale: 1, x: 100, </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1519.1">rotation: 360}</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1520.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1521.1">
gsap.fromTo(".grey",
    { duration: 3, opacity: 0, scale: 0.5, x: 600 },
    { duration: 3, opacity: 1, scale: 1, x: 200, rotation:
      360}
  )</span></pre>
<p><span class="koboSpan" id="kobo.1522.1">In order to translate all the CSS-like values into the corresponding CSS values, one of the core plugins for GSAP is </span><strong class="source-inline"><span class="koboSpan" id="kobo.1523.1">CSSPlugin</span></strong><span class="koboSpan" id="kobo.1524.1">. </span><span class="koboSpan" id="kobo.1524.2">This</span><a id="_idIndexMarker1044"/><span class="koboSpan" id="kobo.1525.1"> plugin will detect whether the target is a DOM element automatically, intercept the values passed, translate them into proper CSS values, and then apply them to the element as inline </span><span class="No-Break"><span class="koboSpan" id="kobo.1526.1">styles accordingly.</span></span></p>
<p><span class="koboSpan" id="kobo.1527.1">In the next section, we’ll walk through an exercise of creating a simple tween </span><span class="No-Break"><span class="koboSpan" id="kobo.1528.1">using GSAP.</span></span></p>
<h2 id="_idParaDest-201"><a id="_idTextAnchor393"/><span class="koboSpan" id="kobo.1529.1">Exercise 8.04 – tweening with GSAP</span></h2>
<p><span class="koboSpan" id="kobo.1530.1">The goal of</span><a id="_idIndexMarker1045"/><span class="koboSpan" id="kobo.1531.1"> this exercise is to get you comfortable with working with external libraries such </span><span class="No-Break"><span class="koboSpan" id="kobo.1532.1">as GSAP.</span></span></p>
<p><span class="koboSpan" id="kobo.1533.1">To access the code file for this exercise, </span><span class="No-Break"><span class="koboSpan" id="kobo.1534.1">visit </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter08/Exercise8.04"><span class="No-Break"><span class="koboSpan" id="kobo.1535.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter08/Exercise8.04</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.1536.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1537.1">We’ll set up a simple animation, but you can apply this same pattern anywhere in your Vue code. </span><span class="koboSpan" id="kobo.1537.2">We’ll be </span><a id="_idIndexMarker1046"/><span class="koboSpan" id="kobo.1538.1">applying the animation during mount, but JavaScript animations can be triggered dynamically based on things such as timers, random integers, or inputs such </span><span class="No-Break"><span class="koboSpan" id="kobo.1539.1">as buttons:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.1540.1">Use the application generated with </span><strong class="source-inline"><span class="koboSpan" id="kobo.1541.1">npm init vue@3</span></strong><span class="koboSpan" id="kobo.1542.1"> as a starting point, with Vue Router added. </span><span class="koboSpan" id="kobo.1542.2">Alternatively, within the root folder of the code repository, navigate into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1543.1">Chapter08/Exercise8.04</span></strong><span class="koboSpan" id="kobo.1544.1"> folder by using the following commands </span><span class="No-Break"><span class="koboSpan" id="kobo.1545.1">in order:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.1546.1">&gt; cd Chapter08/Exercise8.04/</span></strong></pre><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.1547.1">&gt; yarn</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.1548.1">Open the exercise project in your VS Code (by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1549.1">code .</span></strong><span class="koboSpan" id="kobo.1550.1"> command within the project directory) or your </span><span class="No-Break"><span class="koboSpan" id="kobo.1551.1">preferred IDE.</span></span></li>
<li><span class="koboSpan" id="kobo.1552.1">Install GSAP with </span><strong class="source-inline"><span class="koboSpan" id="kobo.1553.1">yarn</span></strong><span class="koboSpan" id="kobo.1554.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.1555.1">npm</span></strong><span class="koboSpan" id="kobo.1556.1"> using one of the </span><span class="No-Break"><span class="koboSpan" id="kobo.1557.1">following commands:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.1558.1">yarn add gsap</span></strong></pre><pre class="source-code"><span class="koboSpan" id="kobo.1559.1">
# OR</span></pre><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.1560.1">npm install gsap</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.1561.1">Find the existing </span><strong class="source-inline"><span class="koboSpan" id="kobo.1562.1">img</span></strong><span class="koboSpan" id="kobo.1563.1"> tag in </span><strong class="source-inline"><span class="koboSpan" id="kobo.1564.1">src/App.vue</span></strong><span class="koboSpan" id="kobo.1565.1"> and add </span><strong class="source-inline"><span class="koboSpan" id="kobo.1566.1">ref="logo"</span></strong><span class="koboSpan" id="kobo.1567.1"> to it </span><span class="No-Break"><span class="koboSpan" id="kobo.1568.1">as follows:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1569.1">
&lt;img ref="logo" alt="Vue logo" src="./assets/logo.png"&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.1570.1">In the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1571.1">&lt;script setup&gt;</span></strong><span class="koboSpan" id="kobo.1572.1"> section of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1573.1">src/App.vue</span></strong><span class="koboSpan" id="kobo.1574.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.1575.1">import GSAP:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1576.1">
import gsap from 'gsap'</span></pre></li>
<li><span class="koboSpan" id="kobo.1577.1">We use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1578.1">ref()</span></strong><span class="koboSpan" id="kobo.1579.1"> Hook to define </span><strong class="source-inline"><span class="koboSpan" id="kobo.1580.1">logo</span></strong><span class="koboSpan" id="kobo.1581.1"> as a reactive variable, which contains the reference to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1582.1">img</span></strong><span class="koboSpan" id="kobo.1583.1"> element set in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1584.1">step 4</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1585.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1586.1">
import { ref } from 'vue'</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1587.1">
const logo = ref();</span></pre></li>
<li><span class="koboSpan" id="kobo.1588.1">Then, we use an </span><strong class="source-inline"><span class="koboSpan" id="kobo.1589.1">onMounted()</span></strong><span class="koboSpan" id="kobo.1590.1"> lifecycle Hook to add an animation, which is </span><strong class="source-inline"><span class="koboSpan" id="kobo.1591.1">10</span></strong><span class="koboSpan" id="kobo.1592.1"> rotations over </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1593.1">30</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1594.1"> seconds:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1595.1">
import { onMounted, ref } from 'vue'</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1596.1">
onMounted(() =&gt; {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1597.1">
  gsap.from(logo.value, { duration: 30, rotation: 3600</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1598.1">
  });</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1599.1">
});</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.1600.1">The full</span><a id="_idIndexMarker1047"/><span class="koboSpan" id="kobo.1601.1"> component code for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1602.1">script</span></strong><span class="koboSpan" id="kobo.1603.1"> section will be like </span><span class="No-Break"><span class="koboSpan" id="kobo.1604.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1605.1">
&lt;script setup&gt;
import HelloWorld from "./components/HelloWorld.vue";
import gsap from "gsap";
import { onMounted, ref } from 'vue'
const logo = ref();
onMounted(() =&gt; {
  gsap.from(logo.value, { duration: 30, rotation: 3600
  });
});
&lt;/script&gt;</span></pre>
<ol>
<li value="8"><span class="koboSpan" id="kobo.1606.1">Next, start the application by running </span><strong class="source-inline"><span class="koboSpan" id="kobo.1607.1">yarn dev</span></strong><span class="koboSpan" id="kobo.1608.1"> in </span><span class="No-Break"><span class="koboSpan" id="kobo.1609.1">the terminal.</span></span></li>
<li><span class="koboSpan" id="kobo.1610.1">Open your browser to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1611.1">localhost:3000</span></strong><span class="koboSpan" id="kobo.1612.1"> and you should see the default Vue starter page but with the logo spinning, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1613.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer252">
<span class="koboSpan" id="kobo.1614.1"><img alt="Figure 8.14 – Simple animation with GSAP" src="image/B18645_08_14.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1615.1">Figure 8.14 – Simple animation with GSAP</span></p>
<p><span class="koboSpan" id="kobo.1616.1">In this </span><a id="_idIndexMarker1048"/><span class="koboSpan" id="kobo.1617.1">exercise, we learned how to implement a simple spinning animation using GSAP in Vue. </span><span class="koboSpan" id="kobo.1617.2">N</span><a id="_idTextAnchor394"/><span class="koboSpan" id="kobo.1618.1">ext, we will see how we can modify the look and feel of an animation </span><span class="No-Break"><span class="koboSpan" id="kobo.1619.1">with easing.</span></span></p>
<h2 id="_idParaDest-202"><a id="_idTextAnchor395"/><span class="koboSpan" id="kobo.1620.1">Modifying the look and feel with easing</span></h2>
<p><span class="koboSpan" id="kobo.1621.1">Easing</span><a id="_idIndexMarker1049"/><span class="koboSpan" id="kobo.1622.1"> is </span><a id="_idIndexMarker1050"/><span class="koboSpan" id="kobo.1623.1">important because it determines the movement style between the original starting point </span><a id="_idIndexMarker1051"/><span class="koboSpan" id="kobo.1624.1">and the destination point of an animation. </span><span class="koboSpan" id="kobo.1624.2">It controls the rate of change during a tween; hence, a user has the time to see the effect, whether it be smooth, sudden, bouncy, or another kind of </span><span class="No-Break"><span class="koboSpan" id="kobo.1625.1">transition effect:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1626.1">
gsap.from(".bubble", {
    duration: 2,
    scale: 0.2,
    rotation: 16,
    ease: "bounce",
})</span></pre>
<p><span class="koboSpan" id="kobo.1627.1">In the previous example code, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1628.1">duration</span></strong><span class="koboSpan" id="kobo.1629.1"> is in milliseconds, representing the amount of time for the animation to </span><span class="No-Break"><span class="koboSpan" id="kobo.1630.1">be active.</span></span></p>
<p><span class="koboSpan" id="kobo.1631.1">Also, there</span><a id="_idIndexMarker1052"/><span class="koboSpan" id="kobo.1632.1"> are additional </span><a id="_idIndexMarker1053"/><span class="koboSpan" id="kobo.1633.1">built-in plugins in GSAP that provide extra capabilities for configuring the easing effect, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.1634.1">power</span></strong><span class="koboSpan" id="kobo.1635.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1636.1">back</span></strong><span class="koboSpan" id="kobo.1637.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1638.1">elastic</span></strong><span class="koboSpan" id="kobo.1639.1">, and </span><span class="No-Break"><span class="koboSpan" id="kobo.1640.1">so on.</span></span></p>
<p><span class="koboSpan" id="kobo.1641.1">To make the movement smooth to a certain degree, we use the </span><span class="No-Break"><span class="koboSpan" id="kobo.1642.1">following syntax:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1643.1">
ease: "&lt;ease-name&gt;.&lt;ease-type&gt;(&lt;addition-inputs&gt;)"</span></pre>
<p><span class="koboSpan" id="kobo.1644.1">Take a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1645.1">bubble</span></strong><span class="koboSpan" id="kobo.1646.1"> effect, for instance – we can enable the smooth </span><strong class="source-inline"><span class="koboSpan" id="kobo.1647.1">elastic</span></strong><span class="koboSpan" id="kobo.1648.1"> easing-out effect by using the </span><span class="No-Break"><span class="koboSpan" id="kobo.1649.1">following code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1650.1">
gsap.to(".bubble", 4, {
  duration: 4,
  scale: 1.2,
  rotation: '-=16',
  ease: 'elastic(2.5, 0.5)',
})</span></pre>
<p><span class="koboSpan" id="kobo.1651.1">Or, add </span><strong class="source-inline"><span class="koboSpan" id="kobo.1652.1">elastic</span></strong><span class="koboSpan" id="kobo.1653.1"> easing </span><span class="No-Break"><span class="koboSpan" id="kobo.1654.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1655.1">
gsap.to(".bubble", 4, {
  duration: 4,
  scale: 1.2,
  rotation: '-=16',
  ease: 'elastic.in(2.5, 0.5)',
})</span></pre>
<p><span class="koboSpan" id="kobo.1656.1">With </span><strong class="source-inline"><span class="koboSpan" id="kobo.1657.1">ease</span></strong><span class="koboSpan" id="kobo.1658.1">, we can make the same animation look completely different based on the style set. </span><span class="koboSpan" id="kobo.1658.2">Next, we’ll look at </span><strong class="source-inline"><span class="koboSpan" id="kobo.1659.1">stagger</span></strong><span class="koboSpan" id="kobo.1660.1">, another option that affects the look and feel of </span><span class="No-Break"><span class="koboSpan" id="kobo.1661.1">an animation.</span></span></p>
<h2 id="_idParaDest-203"><a id="_idTextAnchor396"/><span class="koboSpan" id="kobo.1662.1">Modifying the look and feel with stagger</span></h2>
<p><span class="koboSpan" id="kobo.1663.1">We have </span><a id="_idIndexMarker1054"/><span class="koboSpan" id="kobo.1664.1">gone through how to animate a list of items using Vue transitions in the previous sections. </span><span class="koboSpan" id="kobo.1664.2">Staggering is </span><a id="_idIndexMarker1055"/><span class="koboSpan" id="kobo.1665.1">one of the animations we should take into consideration for a list of objects since it makes animation for this type of target easy and with an appropriate delay between each of the </span><span class="No-Break"><span class="koboSpan" id="kobo.1666.1">item’s animations.</span></span></p>
<p><span class="koboSpan" id="kobo.1667.1">For example, by </span><a id="_idIndexMarker1056"/><span class="koboSpan" id="kobo.1668.1">assigning a value to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1669.1">stagger</span></strong><span class="koboSpan" id="kobo.1670.1"> property, we can create and apply some configuration options besides just the delay </span><strong class="source-inline"><span class="koboSpan" id="kobo.1671.1">duration</span></strong><span class="koboSpan" id="kobo.1672.1"> number (</span><span class="No-Break"><span class="koboSpan" id="kobo.1673.1">in milliseconds):</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1674.1">
gsap.to('.stagger-box', 2, {
  duration: 2,
  scale: 0.1,
  y: 60,
  yoyo: true,
  repeat: 1,
  ease: "power3.inOut",
  delay:1,
  stagger: {
    amount: 1.5,
    grid: "auto",
    from: "center"
  }
})</span></pre>
<p><span class="koboSpan" id="kobo.1675.1">You can use </span><strong class="source-inline"><span class="koboSpan" id="kobo.1676.1">repeat</span></strong><span class="koboSpan" id="kobo.1677.1"> to define how </span><a id="_idTextAnchor397"/><span class="koboSpan" id="kobo.1678.1">many times the animation should repeat. </span><span class="koboSpan" id="kobo.1678.2">A negative number will make it </span><span class="No-Break"><span class="koboSpan" id="kobo.1679.1">repeat infinitely.</span></span></p>
<h2 id="_idParaDest-204"><a id="_idTextAnchor398"/><span class="koboSpan" id="kobo.1680.1">Using Timeline</span></h2>
<p><strong class="bold"><span class="koboSpan" id="kobo.1681.1">Timeline</span></strong><span class="koboSpan" id="kobo.1682.1"> is a</span><a id="_idIndexMarker1057"/><span class="koboSpan" id="kobo.1683.1"> schedule of tweens under your total control to define overlaps or gaps between the tweens. </span><span class="koboSpan" id="kobo.1683.2">It’s useful when you need to control a group of animations according to an order, build a sequence of animations, chain the animations for a final callback, or modularize your animation code </span><span class="No-Break"><span class="koboSpan" id="kobo.1684.1">for reusability.</span></span></p>
<p><span class="koboSpan" id="kobo.1685.1">In order to use Timeline, you can create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1686.1">timeline</span></strong><span class="koboSpan" id="kobo.1687.1"> instance by using the built-in </span><strong class="source-inline"><span class="koboSpan" id="kobo.1688.1">gsap.timeline()</span></strong><span class="koboSpan" id="kobo.1689.1"> and set up the instance with a set of configurations, </span><span class="No-Break"><span class="koboSpan" id="kobo.1690.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1691.1">
import gsap from 'gsap';
const tl = gsap.timeline( { onComplete: done }</span><a id="_idTextAnchor399"/><span class="koboSpan" id="kobo.1692.1">);</span></pre>
<p><span class="koboSpan" id="kobo.1693.1">We will look briefly into the two main use cases of Timeline – sequencing </span><span class="No-Break"><span class="koboSpan" id="kobo.1694.1">and chaining.</span></span></p>
<h3><span class="koboSpan" id="kobo.1695.1">Creating a chain of animation effects by sequencing</span></h3>
<p><span class="koboSpan" id="kobo.1696.1">With</span><a id="_idIndexMarker1058"/><span class="koboSpan" id="kobo.1697.1"> similar core functionalities to GSAP, Timeline also provides </span><strong class="source-inline"><span class="koboSpan" id="kobo.1698.1">to()</span></strong><span class="koboSpan" id="kobo.1699.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1700.1">from()</span></strong><span class="koboSpan" id="kobo.1701.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1702.1">fromTo()</span></strong><span class="koboSpan" id="kobo.1703.1"> methods. </span><span class="koboSpan" id="kobo.1703.2">All animations by default can be sequenced one after another, with the option to force timing to control where or when things go using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1704.1">position</span></strong><span class="koboSpan" id="kobo.1705.1"> attribute, which is an optional argument, as seen in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1706.1">following code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1707.1">
const tl = gsap.timeline({ repeat: -1});
tl.to("#box-green", {duration: 2, x: 550})
//1 second after end of timeline (gap)
tl.to("#box-red", {duration: 2, x: 550, scale: 0.5}, "+=1")
//0.5 seconds before end of timeline (overlap)
tl.to("#box-purple", {duration: 2, rotation: 360, x:550,
       scale: 1.2, ease: "bounce"}, "-=1")</span></pre>
<p><span class="koboSpan" id="kobo.1708.1">In this section, we looked at using the GSAP Timeline feature to schedule a series of animations all </span><a id="_idIndexMarker1059"/><span class="koboSpan" id="kobo.1709.1">running one after the other, some with a gap and others with an overlap. </span><span class="koboSpan" id="kobo.1709.2">In</span><a id="_idTextAnchor400"/><span class="koboSpan" id="kobo.1710.1"> the next section, we’ll look further at sequencing animations with the concept </span><span class="No-Break"><span class="koboSpan" id="kobo.1711.1">of chaining.</span></span></p>
<h3><span class="koboSpan" id="kobo.1712.1">Chaining</span></h3>
<p><span class="koboSpan" id="kobo.1713.1">As with sequencing, chaining </span><a id="_idIndexMarker1060"/><span class="koboSpan" id="kobo.1714.1">arranges animation into an order. </span><span class="koboSpan" id="kobo.1714.2">Instead of calling each animation separately with the instance method each time, it will be placed in a chain. </span><span class="koboSpan" id="kobo.1714.3">All the special values that are used between the child tweens can be defined. </span><span class="koboSpan" id="kobo.1714.4">In the instance created as </span><strong class="source-inline"><span class="koboSpan" id="kobo.1715.1">defaults</span></strong><span class="koboSpan" id="kobo.1716.1">, or alternatively in the first call, get other timelines (list of animations) in the chain to inherit </span><span class="No-Break"><span class="koboSpan" id="kobo.1717.1">these values:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1718.1">
const tl = gsap.timeline({ defaults: { duration: 2 },
                           repeat: -1});
tl.to("#box-green", { x: 550 })
  .to("#box-red", { scale: 0.5, x: 450 })
  .to("#box-purple", { scale: 1.2, ease: "bounce", x: 500
  })</span></pre>
<p><span class="koboSpan" id="kobo.1719.1">We can also intercept the timing position of each chained timeline using </span><strong class="source-inline"><span class="koboSpan" id="kobo.1720.1">position</span></strong><span class="koboSpan" id="kobo.1721.1">, as </span><span class="No-Break"><span class="koboSpan" id="kobo.1722.1">described earlier:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1723.1">
tl.to("#box-green", { x: 550 })
  .to("#box-red", { scale: 0.5, x: 450 }, "+=1")
  .to("#box-purple", { scale: 1.2, ease: "bounce", x: 500
       }, "-=1")</span></pre>
<p><span class="koboSpan" id="kobo.1724.1">GSAP has very detailed documentation, so just visit </span><a href="https://greensock.com/get-started"><span class="koboSpan" id="kobo.1725.1">https://greensock.com/get-started</span></a><span class="koboSpan" id="kobo.1726.1"> and </span><span class="No-Break"><span class="koboSpan" id="kobo.1727.1">start animating.</span></span></p>
<p><span class="koboSpan" id="kobo.1728.1">In the next section, we’ll bu</span><a id="_idTextAnchor401"/><span class="koboSpan" id="kobo.1729.1">ild on what we’ve learned about GSAP to make a message-viewing app with </span><span class="No-Break"><span class="koboSpan" id="kobo.1730.1">animated transitions.</span></span></p>
<h2 id="_idParaDest-205"><a id="_idTextAnchor402"/><span class="koboSpan" id="kobo.1731.1">Activity 8.01 – building a messages app with transitions and GSAP</span></h2>
<p><span class="koboSpan" id="kobo.1732.1">To access the code file for this activity, refer </span><span class="No-Break"><span class="koboSpan" id="kobo.1733.1">to </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter08/Activity8.01"><span class="No-Break"><span class="koboSpan" id="kobo.1734.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter08/Activity8.01</span></span></a></p>
<p><span class="koboSpan" id="kobo.1735.1">In this </span><a id="_idIndexMarker1061"/><span class="koboSpan" id="kobo.1736.1">activity, you will use CSS to write custom </span><a id="_idIndexMarker1062"/><span class="koboSpan" id="kobo.1737.1">transitions, use transition groups and routes to set up more complex transitions, and use a third-party transition library such as GSAP to create animations and transitions in </span><span class="No-Break"><span class="koboSpan" id="kobo.1738.1">the app.</span></span></p>
<p><span class="koboSpan" id="kobo.1739.1">You will be creating a simple messages app that makes use of </span><span class="No-Break"><span class="koboSpan" id="kobo.1740.1">transition effects.</span></span></p>
<p><span class="koboSpan" id="kobo.1741.1">The following steps will help you complete </span><span class="No-Break"><span class="koboSpan" id="kobo.1742.1">this activity:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.1743.1">Create a new Vue application with </span><strong class="source-inline"><span class="koboSpan" id="kobo.1744.1">npm init vue@3</span></strong><span class="koboSpan" id="kobo.1745.1"> as a starting point, with Vue </span><span class="No-Break"><span class="koboSpan" id="kobo.1746.1">Router added.</span></span></li>
<li><span class="koboSpan" id="kobo.1747.1">Create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1748.1">Messages</span></strong><span class="koboSpan" id="kobo.1749.1"> route (at </span><strong class="source-inline"><span class="koboSpan" id="kobo.1750.1">src/views/Messages.vue</span></strong><span class="koboSpan" id="kobo.1751.1">) that renders two nested views: </span><strong class="source-inline"><span class="koboSpan" id="kobo.1752.1">Messages</span></strong><span class="koboSpan" id="kobo.1753.1"> (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1754.1">src/views/MessageList.vue</span></strong><span class="koboSpan" id="kobo.1755.1">), for displaying a list of messages, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1756.1">MessageEditor</span></strong><span class="koboSpan" id="kobo.1757.1"> (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1758.1">src/views/MessageEditor.vue</span></strong><span class="koboSpan" id="kobo.1759.1">), with one </span><strong class="source-inline"><span class="koboSpan" id="kobo.1760.1">textarea</span></strong><span class="koboSpan" id="kobo.1761.1"> and a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1762.1">submit</span></strong><span class="koboSpan" id="kobo.1763.1"> button for creating a </span><span class="No-Break"><span class="koboSpan" id="kobo.1764.1">new message.</span></span></li>
<li><span class="koboSpan" id="kobo.1765.1">Create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1766.1">Message</span></strong><span class="koboSpan" id="kobo.1767.1"> route (at </span><strong class="source-inline"><span class="koboSpan" id="kobo.1768.1">src/views/Message.vue</span></strong><span class="koboSpan" id="kobo.1769.1">) that renders a view of a single message with a </span><span class="No-Break"><span class="koboSpan" id="kobo.1770.1">given ID.</span></span></li>
<li><span class="koboSpan" id="kobo.1771.1">Register all </span><span class="No-Break"><span class="koboSpan" id="kobo.1772.1">the routes.</span></span></li>
<li><span class="koboSpan" id="kobo.1773.1">Add a transition to the main </span><strong class="source-inline"><span class="koboSpan" id="kobo.1774.1">router-view</span></strong><span class="koboSpan" id="kobo.1775.1"> in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1776.1">src/App.vue</span></strong><span class="koboSpan" id="kobo.1777.1"> file with a simple transition name, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1778.1">fade</span></strong><span class="koboSpan" id="kobo.1779.1">, and the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1780.1">out-in</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1781.1"> mode.</span></span></li>
<li><span class="koboSpan" id="kobo.1782.1">Add the transition to the nested </span><strong class="source-inline"><span class="koboSpan" id="kobo.1783.1">router-view</span></strong><span class="koboSpan" id="kobo.1784.1"> in </span><strong class="source-inline"><span class="koboSpan" id="kobo.1785.1">src/views/Messages.vue</span></strong><span class="koboSpan" id="kobo.1786.1"> by using custom </span><span class="No-Break"><span class="koboSpan" id="kobo.1787.1">transition classes.</span></span></li>
<li><span class="koboSpan" id="kobo.1788.1">Create an animation effect for zooming in on entering the route and zooming out on leaving </span><span class="No-Break"><span class="koboSpan" id="kobo.1789.1">the route.</span></span></li>
<li><span class="koboSpan" id="kobo.1790.1">Create another animation effect for fading in on a </span><span class="No-Break"><span class="koboSpan" id="kobo.1791.1">leaving event.</span></span></li>
<li><span class="koboSpan" id="kobo.1792.1">Add a transition to the list of messages in </span><strong class="source-inline"><span class="koboSpan" id="kobo.1793.1">MessageList.vue</span></strong><span class="koboSpan" id="kobo.1794.1"> with a </span><span class="No-Break"><span class="koboSpan" id="kobo.1795.1">bounce-in effect.</span></span></li>
<li><span class="koboSpan" id="kobo.1796.1">Use GSAP to animate the </span><span class="No-Break"><span class="koboSpan" id="kobo.1797.1">bounce-in effect.</span></span></li>
<li><span class="koboSpan" id="kobo.1798.1">Add a</span><a id="_idIndexMarker1063"/><span class="koboSpan" id="kobo.1799.1"> moving effect for an item when </span><span class="No-Break"><span class="koboSpan" id="kobo.1800.1">it appears.</span></span></li>
<li><span class="koboSpan" id="kobo.1801.1">When</span><a id="_idIndexMarker1064"/><span class="koboSpan" id="kobo.1802.1"> navigating from the </span><strong class="bold"><span class="koboSpan" id="kobo.1803.1">List</span></strong><span class="koboSpan" id="kobo.1804.1"> page to the </span><strong class="bold"><span class="koboSpan" id="kobo.1805.1">Editor</span></strong><span class="koboSpan" id="kobo.1806.1"> page, you should see the feed slide away to the left as the </span><strong class="bold"><span class="koboSpan" id="kobo.1807.1">Editor</span></strong><span class="koboSpan" id="kobo.1808.1"> page appears, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1809.1">Figure 8</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1810.1">.15</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1811.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer253">
<span class="koboSpan" id="kobo.1812.1"><img alt="Figure 8.15 – Fade out when navigating from ﻿the message list view to the editor view" src="image/B18645_08_15.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1813.1">Figure 8.15 – Fade out when navigating from the message list view to the editor view</span></p>
<p><span class="koboSpan" id="kobo.1814.1">When navigating from the message view to the editor view, you should see the text input slide out to the left, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1815.1">Figure 8</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1816.1">.16</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1817.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer254">
<span class="koboSpan" id="kobo.1818.1"><img alt="Figure 8.16 – Fade out when navigating from the editor view to the message list view" src="image/B18645_08_16.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1819.1">Figure 8.16 – Fade out when navigating from the editor view to the message list view</span></p>
<p><span class="koboSpan" id="kobo.1820.1">Next, the </span><a id="_idIndexMarker1065"/><span class="koboSpan" id="kobo.1821.1">message list will appear </span><a id="_idIndexMarker1066"/><span class="koboSpan" id="kobo.1822.1">with the numbers spinning with a bounce effect, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1823.1">Figure 8</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1824.1">.17</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1825.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer255">
<span class="koboSpan" id="kobo.1826.1"><img alt="Figure 8.17 – Bounce effect when displaying the message feed in the message list view" src="image/B18645_08_17.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1827.1">Figure 8.17 – Bounce effect when displaying the message feed in the message list view</span></p>
<p><span class="koboSpan" id="kobo.1828.1">When clicking on a specific message, </span><strong class="bold"><span class="koboSpan" id="kobo.1829.1">0</span></strong><span class="koboSpan" id="kobo.1830.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.1831.1">1</span></strong><span class="koboSpan" id="kobo.1832.1"> in our example, our list will slide out to the left and</span><a id="_idIndexMarker1067"/><span class="koboSpan" id="kobo.1833.1"> you should see the message content, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1834.1">Fig</span><a id="_idTextAnchor403"/><a id="_idTextAnchor404"/><span class="koboSpan" id="kobo.1835.1">ure 8</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1836.1">.18</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1837.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer256">
<span class="koboSpan" id="kobo.1838.1"><img alt="Figure 8.18 – A single message view" src="image/B18645_08_18.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1839.1">Figure 8.18 – A single message view</span></p>
<p><span class="koboSpan" id="kobo.1840.1">At this point, you</span><a id="_idIndexMarker1068"/><span class="koboSpan" id="kobo.1841.1"> have learned about the basics of GSAP, such as tweens and Timeline. </span><span class="koboSpan" id="kobo.1841.2">You also experimented with creating easing and staggering animations by combining transition and GSAP functionalities in your </span><span class="No-Break"><span class="koboSpan" id="kobo.1842.1">Vue component.</span></span></p>
<h1 id="_idParaDest-206"><a id="_idTextAnchor405"/><span class="koboSpan" id="kobo.1843.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.1844.1">In this chapter, we explored the built-in support Vue.js has for transitions and animations, both for single and multiple components, and we saw how easy it is to set it up. </span><span class="koboSpan" id="kobo.1844.2">At this point, you have created transition and animation effects for routes and components and witnessed all the basic features of Vue.js transitions: the custom transition class, group transition, and transition modes. </span><span class="koboSpan" id="kobo.1844.3">Moreover, you also learned about other leading animation third-party libraries such as GSAP, and saw how to integrate them with your Vue application in order to get better animation effects on </span><span class="No-Break"><span class="koboSpan" id="kobo.1845.1">the web.</span></span></p>
<p><span class="koboSpan" id="kobo.1846.1">The next chapter focuses on another crucial topic for building a production-ready Vue application – state management and how components within an application communicate with one another using Pinia, a state </span><span class="No-Break"><span class="koboSpan" id="kobo.1847.1">management library.</span></span></p>
</div>
<div>
<div class="IMG---Figure" id="_idContainer258">
</div>
</div>


<div class="Content" id="_idContainer259">
<h1 id="_idParaDest-207"><a id="_idTextAnchor406"/><span class="koboSpan" id="kobo.1.1">Part 3: Global State Management</span></h1>
<p><span class="koboSpan" id="kobo.2.1">In this part, we will explore how data is managed and stored within a Vue application. </span><span class="koboSpan" id="kobo.2.2">We will start with examples of how to handle state in Vue natively, and then continue on to show how the Pinia library makes </span><span class="No-Break"><span class="koboSpan" id="kobo.3.1">it easier.</span></span></p>
<p><span class="koboSpan" id="kobo.4.1">We will cover the following chapters in </span><span class="No-Break"><span class="koboSpan" id="kobo.5.1">this section:</span></span></p>
<ul>
<li><a href="B18645_09.xhtml#_idTextAnchor407"><em class="italic"><span class="koboSpan" id="kobo.6.1">Chapter 9</span></em></a><span class="koboSpan" id="kobo.7.1">, </span><em class="italic"><span class="koboSpan" id="kobo.8.1">The State of Vue State Management</span></em></li>
<li><a href="B18645_10.xhtml#_idTextAnchor426"><em class="italic"><span class="koboSpan" id="kobo.9.1">Chapter 10</span></em></a><span class="koboSpan" id="kobo.10.1">, </span><em class="italic"><span class="koboSpan" id="kobo.11.1">State Management with Pinia</span></em></li>
</ul>
</div>
<div>
<div id="_idContainer260">
</div>
</div>
<div>
<div id="_idContainer261">
</div>
</div>
</body></html>