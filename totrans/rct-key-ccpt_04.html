<html><head></head><body>
  <div class="Basic-Text-Frame" id="_idContainer066">
   <h1 class="chapterNumber">
    <span class="koboSpan" id="kobo.1.1">
     4
    </span>
   </h1>
   <h1 class="chapterTitle" id="_idParaDest-70">
    <span class="koboSpan" id="kobo.2.1">
     Working with Events and State
    </span>
   </h1>
   <div class="note">
    <p class="normal">
     <span class="koboSpan" id="kobo.3.1">
      Learning Objectives
     </span>
    </p>
    <p class="normal">
     <span class="koboSpan" id="kobo.4.1">
      By the end of this chapter, you will be able to do the following:
     </span>
    </p>
    <ul>
     <li class="bulletList">
      <span class="koboSpan" id="kobo.5.1">
       Add user event handlers (for example, for reacting to button clicks) to React apps
      </span>
     </li>
     <li class="bulletList">
      <span class="koboSpan" id="kobo.6.1">
       Update the
      </span>
      <strong class="keyWord">
       <span class="koboSpan" id="kobo.7.1">
        user interface
       </span>
      </strong>
      <span class="koboSpan" id="kobo.8.1">
       (
      </span>
      <strong class="keyWord">
       <span class="koboSpan" id="kobo.9.1">
        UI
       </span>
      </strong>
      <span class="koboSpan" id="kobo.10.1">
       ) via a concept called
      </span>
      <strong class="keyWord">
       <span class="koboSpan" id="kobo.11.1">
        state
       </span>
      </strong>
     </li>
     <li class="bulletList">
      <span class="koboSpan" id="kobo.12.1">
       Build real dynamic and interactive UIs (that is, so that they are not static anymore)
      </span>
     </li>
    </ul>
   </div>
   <h1 class="heading-1" id="_idParaDest-71">
    <span class="koboSpan" id="kobo.13.1">
     Introduction
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.14.1">
     In the previous chapters, you learned how to build UIs with the help of React
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.15.1">
      components
     </span>
    </strong>
    <span class="koboSpan" id="kobo.16.1">
     .
    </span>
    <span class="koboSpan" id="kobo.16.2">
     You also learned about
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.17.1">
      props
     </span>
    </strong>
    <span class="koboSpan" id="kobo.18.1">
     —a concept and feature that enables React developers to build and reuse configurable components.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.19.1">
     These are all important React features and building blocks, but with these features alone, you would only be able to build static React apps (that is, web apps that never change).
    </span>
    <span class="koboSpan" id="kobo.19.2">
     You would not be able to change or update the content on the screen if you only had access to those features.
    </span>
    <span class="koboSpan" id="kobo.19.3">
     You also would not be able to react to any user events and update the UI in response to such events (for instance, to show an overlay window upon a button click).
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.20.1">
     Put in other words, you would not be able to build real websites and web applications if you were limited to just components and props.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.21.1">
     Therefore, in this chapter, a brand-new concept is introduced: state.
    </span>
    <span class="koboSpan" id="kobo.21.2">
     State is a React feature that allows developers to update internal data and trigger a UI update based on such data adjustments.
    </span>
    <span class="koboSpan" id="kobo.21.3">
     In addition, you will learn how to react (no pun intended) to user events such as button clicks or text being entered into input fields.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-72">
    <span class="koboSpan" id="kobo.22.1">
     What’s the Problem?
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.23.1">
     As outlined previously, at this
    </span>
    <a id="_idIndexMarker129">
    </a>
    <span class="koboSpan" id="kobo.24.1">
     point in the book, there is a problem with all React apps and sites you might be building: they’re static.
    </span>
    <span class="koboSpan" id="kobo.24.2">
     The UI can’t change.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.25.1">
     To understand this issue a bit better, take a look at a typical React component, as you are able to build it up to this point in the book:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.26.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.27.1">EmailInput</span></span><span class="koboSpan" id="kobo.28.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.29.1">return</span></span><span class="koboSpan" id="kobo.30.1"> (
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.31.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.32.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.33.1">&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.34.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.35.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.36.1">placeholder</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.37.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.38.1">"Your email"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.39.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.40.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.41.1">"email"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.42.1"> /&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.43.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.44.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.45.1">&gt;</span></span><span class="language-xml"><span class="koboSpan" id="kobo.46.1">The entered email address is invalid.</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.47.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.48.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.49.1">&gt;</span></span>
<span class="language-xml">    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.50.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.51.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.52.1">&gt;</span></span><span class="koboSpan" id="kobo.53.1">
  );
};
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.54.1">
     This component might look strange though.
    </span>
    <span class="koboSpan" id="kobo.54.2">
     Why is there a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.55.1">
      &lt;p&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.56.1">
     element that informs the user about an incorrect email address?
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.57.1">
     Well, the goal might be to show that
    </span>
    <a id="_idIndexMarker130">
    </a>
    <span class="koboSpan" id="kobo.58.1">
     paragraph only if the user
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.59.1">
      did
     </span>
    </em>
    <span class="koboSpan" id="kobo.60.1">
     enter an incorrect email address.
    </span>
    <span class="koboSpan" id="kobo.60.2">
     That is to say, the web app should wait for the user to start typing and evaluate the user input once the user is done typing (that is, once the input loses focus).
    </span>
    <span class="koboSpan" id="kobo.60.3">
     Then, the error message should be shown if the email address is considered invalid (for example, an empty input field or a missing
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.61.1">
      @
     </span>
    </code>
    <span class="koboSpan" id="kobo.62.1">
     symbol).
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.63.1">
     But at the moment, with the React skills picked up thus far, this is something you would not be able to build.
    </span>
    <span class="koboSpan" id="kobo.63.2">
     Instead, the error message would always be shown since there is no way of changing it based on user events and dynamic conditions.
    </span>
    <span class="koboSpan" id="kobo.63.3">
     In other words, this React app is a static app, not dynamic.
    </span>
    <span class="koboSpan" id="kobo.63.4">
     The UI can’t change.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.64.1">
     Of course, changing UIs and dynamic web apps are things you might want to build.
    </span>
    <span class="koboSpan" id="kobo.64.2">
     Almost every website that exists contains some dynamic UI elements and features.
    </span>
    <span class="koboSpan" id="kobo.64.3">
     Therefore, that’s the problem that will be solved in this chapter.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-73">
    <span class="koboSpan" id="kobo.65.1">
     How Not to Solve the Problem
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.66.1">
     How could the
    </span>
    <a id="_idIndexMarker131">
    </a>
    <span class="koboSpan" id="kobo.67.1">
     component shown previously be made more dynamic?
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.68.1">
     The following is one solution you could come up with (
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.69.1">
      spoiler
     </span>
    </em>
    <span class="koboSpan" id="kobo.70.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.71.1">
      the code won’t work, so you don’t need to try running it
     </span>
    </em>
    <span class="koboSpan" id="kobo.72.1">
     ):
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.73.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.74.1">EmailInput</span></span><span class="koboSpan" id="kobo.75.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.76.1">return</span></span><span class="koboSpan" id="kobo.77.1"> (
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.78.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.79.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.80.1">&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.81.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.82.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.83.1">placeholder</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.84.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.85.1">"Your email"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.86.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.87.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.88.1">"</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.89.1">email"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.90.1"> /&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.91.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.92.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.93.1">&gt;&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.94.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.95.1">&gt;</span></span>
<span class="language-xml">    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.96.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.97.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.98.1">&gt;</span></span><span class="koboSpan" id="kobo.99.1">
  );
};
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.100.1">const</span></span><span class="koboSpan" id="kobo.101.1"> input = </span><span class="hljs-variable"><span class="koboSpan" id="kobo.102.1">document</span></span><span class="koboSpan" id="kobo.103.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.104.1">querySelector</span></span><span class="koboSpan" id="kobo.105.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.106.1">'input'</span></span><span class="koboSpan" id="kobo.107.1">);
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.108.1">const</span></span><span class="koboSpan" id="kobo.109.1"> errorParagraph = </span><span class="hljs-variable"><span class="koboSpan" id="kobo.110.1">document</span></span><span class="koboSpan" id="kobo.111.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.112.1">querySelector</span></span><span class="koboSpan" id="kobo.113.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.114.1">'p'</span></span><span class="koboSpan" id="kobo.115.1">);
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.116.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.117.1">evaluateEmail</span></span><span class="koboSpan" id="kobo.118.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.119.1">event</span></span><span class="koboSpan" id="kobo.120.1">) {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.121.1">const</span></span><span class="koboSpan" id="kobo.122.1"> enteredEmail = event.</span><span class="hljs-property"><span class="koboSpan" id="kobo.123.1">target</span></span><span class="koboSpan" id="kobo.124.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.125.1">value</span></span><span class="koboSpan" id="kobo.126.1">;
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.127.1">if</span></span><span class="koboSpan" id="kobo.128.1"> (enteredEmail.</span><span class="hljs-title"><span class="koboSpan" id="kobo.129.1">trim</span></span><span class="koboSpan" id="kobo.130.1">() === </span><span class="hljs-string"><span class="koboSpan" id="kobo.131.1">''</span></span><span class="koboSpan" id="kobo.132.1"> || !enteredEmail.</span><span class="hljs-title"><span class="koboSpan" id="kobo.133.1">includes</span></span><span class="koboSpan" id="kobo.134.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.135.1">'@'</span></span><span class="koboSpan" id="kobo.136.1">)) {
    errorParagraph.</span><span class="hljs-property"><span class="koboSpan" id="kobo.137.1">textContent</span></span><span class="koboSpan" id="kobo.138.1"> = </span><span class="hljs-string"><span class="koboSpan" id="kobo.139.1">' The entered email address is invalid.'</span></span><span class="koboSpan" id="kobo.140.1">;
  } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.141.1">else</span></span><span class="koboSpan" id="kobo.142.1"> {
    errorParagraph.</span><span class="hljs-property"><span class="koboSpan" id="kobo.143.1">textContent</span></span><span class="koboSpan" id="kobo.144.1"> = </span><span class="hljs-string"><span class="koboSpan" id="kobo.145.1">''</span></span><span class="koboSpan" id="kobo.146.1">;
  }
};
input.</span><span class="hljs-title"><span class="koboSpan" id="kobo.147.1">addEventListener</span></span><span class="koboSpan" id="kobo.148.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.149.1">'blur'</span></span><span class="koboSpan" id="kobo.150.1">, evaluateEmail);
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.151.1">
     This code won’t work, because you can’t select React-rendered DOM elements from inside the same component file this way.
    </span>
    <span class="koboSpan" id="kobo.151.2">
     This is just meant as a dummy example of how you could try to solve this.
    </span>
    <span class="koboSpan" id="kobo.151.3">
     That being said, you could put the code below the component function some place where it does execute successfully (for example, into a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.152.1">
      setTimeout()
     </span>
    </code>
    <span class="koboSpan" id="kobo.153.1">
     callback that fires after a second, allowing the React app to render all elements onto the screen).
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.154.1">
     Put in the right place, this code will add the email validation behavior described earlier in this chapter.
    </span>
    <span class="koboSpan" id="kobo.154.2">
     Upon the built-in
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.155.1">
      blur
     </span>
    </code>
    <span class="koboSpan" id="kobo.156.1">
     event, the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.157.1">
      evaluateEmail
     </span>
    </code>
    <span class="koboSpan" id="kobo.158.1">
     function is triggered.
    </span>
    <span class="koboSpan" id="kobo.158.2">
     This function receives the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.159.1">
      event
     </span>
    </code>
    <span class="koboSpan" id="kobo.160.1">
     object as an argument (automatically, by the browser), and therefore the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.161.1">
      evaluateEmail
     </span>
    </code>
    <span class="koboSpan" id="kobo.162.1">
     function is able to parse the entered value from that
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.163.1">
      event
     </span>
    </code>
    <span class="koboSpan" id="kobo.164.1">
     object via
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.165.1">
      event.target.value
     </span>
    </code>
    <span class="koboSpan" id="kobo.166.1">
     .
    </span>
    <span class="koboSpan" id="kobo.166.2">
     The entered value can then be used in an
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.167.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.168.1">
     check to conditionally display or remove the error message.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.169.1">
       Note
      </span>
     </strong>
    </p>
    <p class="normal">
     <span class="koboSpan" id="kobo.170.1">
      All the preceding code that deals with the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.171.1">
       blur
      </span>
     </code>
     <span class="koboSpan" id="kobo.172.1">
      event (such as
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.173.1">
       addEventListener
      </span>
     </code>
     <span class="koboSpan" id="kobo.174.1">
      ) and the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.175.1">
       event
      </span>
     </code>
     <span class="koboSpan" id="kobo.176.1">
      object, including the code in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.177.1">
       if
      </span>
     </code>
     <span class="koboSpan" id="kobo.178.1">
      check, is standard JavaScript code.
     </span>
     <span class="koboSpan" id="kobo.178.2">
      It is not specific to React in any way.
     </span>
    </p>
    <p class="normal">
     <span class="koboSpan" id="kobo.179.1">
      If you find yourself struggling with this non-React code, it’s strongly recommended that you dive into more vanilla JavaScript resources (such as the guides on the MDN website at
     </span>
     <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">
      <span class="url">
       <span class="koboSpan" id="kobo.180.1">
        https://developer.mozilla.org/en-US/docs/Web/JavaScript
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.181.1">
      ) first.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.182.1">
     But what’s wrong with this code if it would work in some places of the overall application code?
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.183.1">
     It’s imperative code!
    </span>
    <span class="koboSpan" id="kobo.183.2">
     That
    </span>
    <a id="_idIndexMarker132">
    </a>
    <span class="koboSpan" id="kobo.184.1">
     means you are writing down step-by-step instructions on what the browser should do.
    </span>
    <span class="koboSpan" id="kobo.184.2">
     You are not declaring the desired end state; you are instead describing a way of getting there; and it’s not using React.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.185.1">
     Keep in mind that React is all about controlling the UI and that writing React code is about writing declarative code—instead of imperative code.
    </span>
    <span class="koboSpan" id="kobo.185.2">
     Revisit
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.186.1">
      Chapter 2
     </span>
    </em>
    <span class="koboSpan" id="kobo.187.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.188.1">
      Understanding React Components and JSX
     </span>
    </em>
    <span class="koboSpan" id="kobo.189.1">
     , if that sounds brand new to you.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.190.1">
     You could achieve your goal by introducing this kind of code, but you would be working against React and its philosophy (React’s philosophy being that you declare your desired end states and let React figure out how to get there).
    </span>
    <span class="koboSpan" id="kobo.190.2">
     A clear indicator of this is the fact that you would be forced to find the right place for this kind of code in order for it to work.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.191.1">
     This is not a philosophical problem, and it’s not just some weird hard rule that you should follow.
    </span>
    <span class="koboSpan" id="kobo.191.2">
     Instead, by working against React like this, you will make your life as a developer unnecessarily hard.
    </span>
    <span class="koboSpan" id="kobo.191.3">
     You are neither using the tools React gives you nor letting React figure out how to achieve the desired (UI) state.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.192.1">
     That does not just mean that you spend time on solving problems you wouldn’t have to solve.
    </span>
    <span class="koboSpan" id="kobo.192.2">
     It also means that you’re passing up possible optimizations React might be able to perform under the hood.
    </span>
    <span class="koboSpan" id="kobo.192.3">
     Your solution is very likely not just leading to more work (that is, more code) for you; it also might result in a buggy result that could also suffer from suboptimal performance.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.193.1">
     The example shown previously is a simple one.
    </span>
    <span class="koboSpan" id="kobo.193.2">
     Think about more complex websites and web apps, such as online shops, vacation rental websites, or web apps such as Google Docs.
    </span>
    <span class="koboSpan" id="kobo.193.3">
     There, you might have dozens or hundreds of (dynamic) UI features and elements.
    </span>
    <span class="koboSpan" id="kobo.193.4">
     Managing them all with a
    </span>
    <a id="_idIndexMarker133">
    </a>
    <span class="koboSpan" id="kobo.194.1">
     mixture of React code and standard vanilla JavaScript code will quickly become a nightmare.
    </span>
    <span class="koboSpan" id="kobo.194.2">
     Again, refer to
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.195.1">
      Chapter 2, Understanding React Components and JSX,
     </span>
    </em>
    <span class="koboSpan" id="kobo.196.1">
     of this book to understand the merits of React.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-74">
    <span class="koboSpan" id="kobo.197.1">
     A Better Incorrect Solution
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.198.1">
     The naïve approach discussed previously doesn’t work well.
    </span>
    <span class="koboSpan" id="kobo.198.2">
     It forces you to figure out how to make the code run correctly (for example, by wrapping parts of it in some
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.199.1">
      setTimeout()
     </span>
    </code>
    <span class="koboSpan" id="kobo.200.1">
     call to defer
    </span>
    <a id="_idIndexMarker134">
    </a>
    <span class="koboSpan" id="kobo.201.1">
     execution) and leads to your code being scattered all over the place (that is, inside of React component functions, outside of those functions, and maybe also in totally unrelated files).
    </span>
    <span class="koboSpan" id="kobo.201.2">
     How about a solution that embraces React, like this:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.202.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.203.1">EmailInput</span></span><span class="koboSpan" id="kobo.204.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.205.1">let</span></span><span class="koboSpan" id="kobo.206.1"> errorMessage = </span><span class="hljs-string"><span class="koboSpan" id="kobo.207.1">''</span></span><span class="koboSpan" id="kobo.208.1">;
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.209.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.210.1">evaluateEmail</span></span><span class="koboSpan" id="kobo.211.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.212.1">event</span></span><span class="koboSpan" id="kobo.213.1">) {
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.214.1">const</span></span><span class="koboSpan" id="kobo.215.1"> enteredEmail = event.</span><span class="hljs-property"><span class="koboSpan" id="kobo.216.1">target</span></span><span class="koboSpan" id="kobo.217.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.218.1">value</span></span><span class="koboSpan" id="kobo.219.1">;
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.220.1">if</span></span><span class="koboSpan" id="kobo.221.1"> (enteredEmail.</span><span class="hljs-title"><span class="koboSpan" id="kobo.222.1">trim</span></span><span class="koboSpan" id="kobo.223.1">() === </span><span class="hljs-string"><span class="koboSpan" id="kobo.224.1">''</span></span><span class="koboSpan" id="kobo.225.1"> || !enteredEmail.</span><span class="hljs-title"><span class="koboSpan" id="kobo.226.1">includes</span></span><span class="koboSpan" id="kobo.227.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.228.1">'@'</span></span><span class="koboSpan" id="kobo.229.1">)) {
      errorMessage = </span><span class="hljs-string"><span class="koboSpan" id="kobo.230.1">' The entered email address is invalid.'</span></span><span class="koboSpan" id="kobo.231.1">;
    } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.232.1">else</span></span><span class="koboSpan" id="kobo.233.1"> {
      errorMessage = </span><span class="hljs-string"><span class="koboSpan" id="kobo.234.1">''</span></span><span class="koboSpan" id="kobo.235.1">;
    }
  };
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.236.1">const</span></span><span class="koboSpan" id="kobo.237.1"> input = </span><span class="hljs-variable"><span class="koboSpan" id="kobo.238.1">document</span></span><span class="koboSpan" id="kobo.239.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.240.1">querySelector</span></span><span class="koboSpan" id="kobo.241.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.242.1">'input'</span></span><span class="koboSpan" id="kobo.243.1">);
  input.</span><span class="hljs-title"><span class="koboSpan" id="kobo.244.1">addEventListener</span></span><span class="koboSpan" id="kobo.245.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.246.1">'blur'</span></span><span class="koboSpan" id="kobo.247.1">, evaluateEmail);
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.248.1">return</span></span><span class="koboSpan" id="kobo.249.1"> (
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.250.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.251.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.252.1">&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.253.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.254.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.255.1">placeholder</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.256.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.257.1">"Your email"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.258.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.259.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.260.1">"email"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.261.1"> /&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.262.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.263.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.264.1">&gt;</span></span><span class="language-xml"><span class="koboSpan" id="kobo.265.1">{errorMessage}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.266.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.267.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.268.1">&gt;</span></span>
<span class="language-xml">    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.269.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.270.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.271.1">&gt;</span></span><span class="koboSpan" id="kobo.272.1">
  );
};
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.273.1">
     This code again would not work (even though it’s technically valid JavaScript code).
    </span>
    <span class="koboSpan" id="kobo.273.2">
     Selecting JSX elements doesn’t work like this.
    </span>
    <span class="koboSpan" id="kobo.273.3">
     It doesn’t work because
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.274.1">
      document.querySelector('input')
     </span>
    </code>
    <span class="koboSpan" id="kobo.275.1">
     executes before anything is rendered to the DOM (when the component function is executed for the first time).
    </span>
    <span class="koboSpan" id="kobo.275.2">
     Again, you would have to delay the execution of that code until the first render cycle is over (you would therefore be once again working against React).
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.276.1">
     But even though it still would not work, it’s closer to the correct solution.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.277.1">
     It’s closer to the ideal implementation because it embraces React way more than the first attempted solution did.
    </span>
    <span class="koboSpan" id="kobo.277.2">
     All the code is contained in the component function to which it belongs.
    </span>
    <span class="koboSpan" id="kobo.277.3">
     The
    </span>
    <a id="_idIndexMarker135">
    </a>
    <span class="koboSpan" id="kobo.278.1">
     error message is handled via an
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.279.1">
      errorMessage
     </span>
    </code>
    <span class="koboSpan" id="kobo.280.1">
     variable that is output as part of the JSX code.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.281.1">
     The idea behind this possible solution is that the React component that controls a certain UI feature or element is also responsible for its state and events.
    </span>
    <span class="koboSpan" id="kobo.281.2">
     You might identify two important keywords of this chapter here!
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.282.1">
     This approach is definitely going in the right direction, but it still wouldn’t work for two reasons:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.283.1">
      Selecting the JSX
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.284.1">
       &lt;input&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.285.1">
      element via
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.286.1">
       document.querySelector('input')
      </span>
     </code>
     <span class="koboSpan" id="kobo.287.1">
      would fail.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.288.1">
      Even if the input could be selected, the UI would not update as expected.
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.289.1">
     These two problems will be solved next—finally leading to an implementation that embraces React and its features.
    </span>
    <span class="koboSpan" id="kobo.289.2">
     The upcoming solution will avoid mixing React and non-React code.
    </span>
    <span class="koboSpan" id="kobo.289.3">
     As you will see, the result will be easier code where you have to do less work (that is, write less code).
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-75">
    <span class="koboSpan" id="kobo.290.1">
     Improving the Solution by Properly Reacting to Events
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.291.1">
     Instead of mixing imperative
    </span>
    <a id="_idIndexMarker136">
    </a>
    <span class="koboSpan" id="kobo.292.1">
     JavaScript code such as
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.293.1">
      document.querySelector('input')
     </span>
    </code>
    <span class="koboSpan" id="kobo.294.1">
     with React-specific code, you should fully embrace React and its features.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.295.1">
     Since listening to events and triggering actions upon events is an extremely common requirement, React has a built-in solution.
    </span>
    <span class="koboSpan" id="kobo.295.2">
     You can attach event listeners directly to the JSX elements to which they belong.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.296.1">
     The preceding example would be rewritten like this:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.297.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.298.1">EmailInput</span></span><span class="koboSpan" id="kobo.299.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.300.1">let</span></span><span class="koboSpan" id="kobo.301.1"> errorMessage = </span><span class="hljs-string"><span class="koboSpan" id="kobo.302.1">''</span></span><span class="koboSpan" id="kobo.303.1">;
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.304.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.305.1">evaluateEmail</span></span><span class="koboSpan" id="kobo.306.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.307.1">event</span></span><span class="koboSpan" id="kobo.308.1">) {
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.309.1">const</span></span><span class="koboSpan" id="kobo.310.1"> enteredEmail = event.</span><span class="hljs-property"><span class="koboSpan" id="kobo.311.1">target</span></span><span class="koboSpan" id="kobo.312.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.313.1">value</span></span><span class="koboSpan" id="kobo.314.1">;
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.315.1">if</span></span><span class="koboSpan" id="kobo.316.1"> (enteredEmail.</span><span class="hljs-title"><span class="koboSpan" id="kobo.317.1">trim</span></span><span class="koboSpan" id="kobo.318.1">() === </span><span class="hljs-string"><span class="koboSpan" id="kobo.319.1">''</span></span><span class="koboSpan" id="kobo.320.1"> || !enteredEmail.</span><span class="hljs-title"><span class="koboSpan" id="kobo.321.1">includes</span></span><span class="koboSpan" id="kobo.322.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.323.1">'@'</span></span><span class="koboSpan" id="kobo.324.1">)) {
      errorMessage = </span><span class="hljs-string"><span class="koboSpan" id="kobo.325.1">'The entered email address is invalid.'</span></span><span class="koboSpan" id="kobo.326.1">;
    } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.327.1">else</span></span><span class="koboSpan" id="kobo.328.1"> {
      errorMessage = </span><span class="hljs-string"><span class="koboSpan" id="kobo.329.1">''</span></span><span class="koboSpan" id="kobo.330.1">;
    }
  };
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.331.1">return</span></span><span class="koboSpan" id="kobo.332.1"> (
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.333.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.334.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.335.1">&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.336.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.337.1">input</span></span><span class="hljs-tag"> </span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.338.1">placeholder</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.339.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.340.1">"Your email"</span></span><span class="hljs-tag"> </span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.341.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.342.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.343.1">"email"</span></span><span class="hljs-tag"> </span>
<span class="hljs-tag">        </span><span class="code-highlight"><strong class="hljs-attr-slc"><span class="koboSpan" id="kobo.344.1">onBlur</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.345.1">=</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.346.1">{evaluateEmail}</span></strong></span><span class="hljs-tag"><span class="koboSpan" id="kobo.347.1"> /&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.348.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.349.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.350.1">&gt;</span></span><span class="language-xml"><span class="koboSpan" id="kobo.351.1">{errorMessage}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.352.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.353.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.354.1">&gt;</span></span>
<span class="language-xml">    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.355.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.356.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.357.1">&gt;</span></span><span class="koboSpan" id="kobo.358.1">
  );
};
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.359.1">
     This code still will not update the UI, but at least the event is handled properly.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.360.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.361.1">
      onBlur
     </span>
    </code>
    <span class="koboSpan" id="kobo.362.1">
     prop was added to the built-in input element.
    </span>
    <span class="koboSpan" id="kobo.362.2">
     This prop is made available by React, just as all these base HTML elements (such as
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.363.1">
      &lt;input&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.364.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.365.1">
      &lt;p&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.366.1">
     ) are made available as components by React.
    </span>
    <span class="koboSpan" id="kobo.366.2">
     In fact, all these built-in HTML components come with their standard HTML attributes as React props (plus some extra props, such as the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.367.1">
      onBlur
     </span>
    </code>
    <span class="koboSpan" id="kobo.368.1">
     event handling prop).
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.369.1">
     React exposes all standard
    </span>
    <a id="_idIndexMarker137">
    </a>
    <span class="koboSpan" id="kobo.370.1">
     events that can be connected to DOM elements as
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.371.1">
      onXYZ
     </span>
    </code>
    <span class="koboSpan" id="kobo.372.1">
     props (where
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.373.1">
      XYZ
     </span>
    </code>
    <span class="koboSpan" id="kobo.374.1">
     is the event name, such as
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.375.1">
      blur
     </span>
    </code>
    <span class="koboSpan" id="kobo.376.1">
     or
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.377.1">
      click
     </span>
    </code>
    <span class="koboSpan" id="kobo.378.1">
     , starting with a capital character).
    </span>
    <span class="koboSpan" id="kobo.378.2">
     You can react to the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.379.1">
      blur
     </span>
    </code>
    <span class="koboSpan" id="kobo.380.1">
     event by adding the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.381.1">
      onBlur
     </span>
    </code>
    <span class="koboSpan" id="kobo.382.1">
     prop.
    </span>
    <span class="koboSpan" id="kobo.382.2">
     You could listen to a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.383.1">
      click
     </span>
    </code>
    <span class="koboSpan" id="kobo.384.1">
     event via the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.385.1">
      onClick
     </span>
    </code>
    <span class="koboSpan" id="kobo.386.1">
     prop.
    </span>
    <span class="koboSpan" id="kobo.386.2">
     You get the idea.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.387.1">
       Note
      </span>
     </strong>
    </p>
    <p class="normal">
     <span class="koboSpan" id="kobo.388.1">
      For more information on standard events, see
     </span>
     <a href="https://developer.mozilla.org/en-US/docs/Web/Events#event_listing">
      <span class="url">
       <span class="koboSpan" id="kobo.389.1">
        https://developer.mozilla.org/en-US/docs/Web/Events#event_listing
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.390.1">
      .
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.391.1">
     These props require values to fulfill their job.
    </span>
    <span class="koboSpan" id="kobo.391.2">
     To be precise, they need a pointer to the function that should be executed when the event occurs.
    </span>
    <span class="koboSpan" id="kobo.391.3">
     In the preceding example, the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.392.1">
      onBlur
     </span>
    </code>
    <span class="koboSpan" id="kobo.393.1">
     prop receives a pointer
    </span>
    <a id="_idIndexMarker138">
    </a>
    <span class="koboSpan" id="kobo.394.1">
     to the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.395.1">
      evaluateEmail
     </span>
    </code>
    <span class="koboSpan" id="kobo.396.1">
     function as a value.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.397.1">
       Note
      </span>
     </strong>
    </p>
    <p class="normal">
     <span class="koboSpan" id="kobo.398.1">
      There’s a subtle difference between
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.399.1">
       evaluateEmail
      </span>
     </code>
     <span class="koboSpan" id="kobo.400.1">
      and
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.401.1">
       evaluateEmail()
      </span>
     </code>
     <span class="koboSpan" id="kobo.402.1">
      .
     </span>
     <span class="koboSpan" id="kobo.402.2">
      The first is a pointer to the function; the second actually executes the function (and yields the return value, if any).
     </span>
     <span class="koboSpan" id="kobo.402.3">
      Again, this is not something specific to React but a standard JavaScript concept.
     </span>
     <span class="koboSpan" id="kobo.402.4">
      If it’s not clear, this resource explains it in greater detail:
     </span>
     <a href="https://developer.mozilla.org/en-US/docs/Web/Events#event_listing">
      <span class="url">
       <span class="koboSpan" id="kobo.403.1">
        https://developer.mozilla.org/en-US/docs/Web/Events#event_listing
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.404.1">
      .
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.405.1">
     By using these event props, the preceding example code will now finally execute without throwing any errors.
    </span>
    <span class="koboSpan" id="kobo.405.2">
     You could verify this by adding a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.406.1">
      console.log('Hello');
     </span>
    </code>
    <span class="koboSpan" id="kobo.407.1">
     statement inside the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.408.1">
      evaluateEmail
     </span>
    </code>
    <span class="koboSpan" id="kobo.409.1">
     function.
    </span>
    <span class="koboSpan" id="kobo.409.2">
     This will display the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.410.1">
      'Hello'
     </span>
    </code>
    <span class="koboSpan" id="kobo.411.1">
     text in the console of your browser developer tools, whenever the input loses focus:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.412.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.413.1">EmailInput</span></span><span class="koboSpan" id="kobo.414.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.415.1">let</span></span><span class="koboSpan" id="kobo.416.1"> errorMessage = </span><span class="hljs-string"><span class="koboSpan" id="kobo.417.1">''</span></span><span class="koboSpan" id="kobo.418.1">;
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.419.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.420.1">evaluateEmail</span></span><span class="koboSpan" id="kobo.421.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.422.1">event</span></span><span class="koboSpan" id="kobo.423.1">) {
    </span><span class="hljs-variable"><span class="koboSpan" id="kobo.424.1">console</span></span><span class="koboSpan" id="kobo.425.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.426.1">log</span></span><span class="koboSpan" id="kobo.427.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.428.1">'Hello'</span></span><span class="koboSpan" id="kobo.429.1">);
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.430.1">const</span></span><span class="koboSpan" id="kobo.431.1"> enteredEmail = event.</span><span class="hljs-property"><span class="koboSpan" id="kobo.432.1">target</span></span><span class="koboSpan" id="kobo.433.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.434.1">value</span></span><span class="koboSpan" id="kobo.435.1">;
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.436.1">if</span></span><span class="koboSpan" id="kobo.437.1"> (enteredEmail.</span><span class="hljs-title"><span class="koboSpan" id="kobo.438.1">trim</span></span><span class="koboSpan" id="kobo.439.1">() === </span><span class="hljs-string"><span class="koboSpan" id="kobo.440.1">''</span></span><span class="koboSpan" id="kobo.441.1"> || !enteredEmail.</span><span class="hljs-title"><span class="koboSpan" id="kobo.442.1">includes</span></span><span class="koboSpan" id="kobo.443.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.444.1">'@'</span></span><span class="koboSpan" id="kobo.445.1">)) {
      errorMessage = </span><span class="hljs-string"><span class="koboSpan" id="kobo.446.1">'The entered email address is invalid.'</span></span><span class="koboSpan" id="kobo.447.1">;
    } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.448.1">else</span></span><span class="koboSpan" id="kobo.449.1"> {
      errorMessage = </span><span class="hljs-string"><span class="koboSpan" id="kobo.450.1">''</span></span><span class="koboSpan" id="kobo.451.1">;
    }
  };
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.452.1">return</span></span><span class="koboSpan" id="kobo.453.1"> (
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.454.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.455.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.456.1">&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.457.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.458.1">input</span></span><span class="hljs-tag"> </span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.459.1">placeholder</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.460.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.461.1">"Your email"</span></span><span class="hljs-tag"> </span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.462.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.463.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.464.1">"email"</span></span><span class="hljs-tag"> </span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.465.1">onBlur</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.466.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.467.1">{evaluateEmail}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.468.1"> /&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.469.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.470.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.471.1">&gt;</span></span><span class="language-xml"><span class="koboSpan" id="kobo.472.1">{errorMessage}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.473.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.474.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.475.1">&gt;</span></span>
<span class="language-xml">    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.476.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.477.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.478.1">&gt;</span></span><span class="koboSpan" id="kobo.479.1">
  );
};
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.480.1">
     In the browser console, this looks as follows:
    </span>
   </p>
   <figure class="mediaobject">
    <span class="koboSpan" id="kobo.481.1">
     <img alt="A screenshot of a computer  Description automatically generated" src="image/B31339_04_01.png"/>
    </span>
   </figure>
   <p class="packt_figref">
    <span class="koboSpan" id="kobo.482.1">
     Figure 4.1: Displaying some text in the browser console upon removing focus from the input field
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.483.1">
     This is definitely one step
    </span>
    <a id="_idIndexMarker139">
    </a>
    <span class="koboSpan" id="kobo.484.1">
     closer to the best possible implementation, but it also still won’t produce the desired result of updating the page content dynamically.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-76">
    <span class="koboSpan" id="kobo.485.1">
     Updating State Correctly
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.486.1">
     By now, you understand how to correctly set up event listeners and execute functions upon certain events.
    </span>
    <span class="koboSpan" id="kobo.486.2">
     What’s
    </span>
    <a id="_idIndexMarker140">
    </a>
    <span class="koboSpan" id="kobo.487.1">
     missing is a feature that forces React to update the visible UI on the screen and the content that is displayed to the app users.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.488.1">
     That’s where React’s
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.489.1">
      state
     </span>
    </strong>
    <span class="koboSpan" id="kobo.490.1">
     concept comes into play.
    </span>
    <span class="koboSpan" id="kobo.490.2">
     Like props, state is a key concept of React, but whereas props are about receiving external data inside
    </span>
    <a id="_idIndexMarker141">
    </a>
    <span class="koboSpan" id="kobo.491.1">
     a component, state is about managing and updating
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.492.1">
      internal data
     </span>
    </strong>
    <span class="koboSpan" id="kobo.493.1">
     .
    </span>
    <span class="koboSpan" id="kobo.493.2">
     Most importantly, whenever state is updated, React goes ahead and updates the parts of the UI that are affected by the state change.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.494.1">
     Here’s how state is used in React (of course, the code will then be explained in detail afterward):
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="code-highlight"><strong class="hljs-keyword-slc"><span class="koboSpan" id="kobo.495.1">import</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.496.1"> { useState } </span></strong><strong class="hljs-keyword-slc"><span class="koboSpan" id="kobo.497.1">from</span></strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.498.1">'react'</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.499.1">;</span></strong></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.500.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.501.1">EmailInput</span></span><span class="koboSpan" id="kobo.502.1">() {
  </span><span class="code-highlight"><strong class="hljs-keyword-slc"><span class="koboSpan" id="kobo.503.1">const</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.504.1"> [errorMessage, setErrorMessage] = </span></strong><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.505.1">useState</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.506.1">(</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.507.1">''</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.508.1">);</span></strong></span>
  <span class="hljs-keyword"><span class="koboSpan" id="kobo.509.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.510.1">evaluateEmail</span></span><span class="koboSpan" id="kobo.511.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.512.1">event</span></span><span class="koboSpan" id="kobo.513.1">) {
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.514.1">const</span></span><span class="koboSpan" id="kobo.515.1"> enteredEmail = event.</span><span class="hljs-property"><span class="koboSpan" id="kobo.516.1">target</span></span><span class="koboSpan" id="kobo.517.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.518.1">value</span></span><span class="koboSpan" id="kobo.519.1">;
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.520.1">if</span></span><span class="koboSpan" id="kobo.521.1"> (enteredEmail.</span><span class="hljs-title"><span class="koboSpan" id="kobo.522.1">trim</span></span><span class="koboSpan" id="kobo.523.1">() === </span><span class="hljs-string"><span class="koboSpan" id="kobo.524.1">''</span></span><span class="koboSpan" id="kobo.525.1"> || !enteredEmail.</span><span class="hljs-title"><span class="koboSpan" id="kobo.526.1">includes</span></span><span class="koboSpan" id="kobo.527.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.528.1">'@'</span></span><span class="koboSpan" id="kobo.529.1">)) {
      </span><span class="code-highlight"><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.530.1">setErrorMessage</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.531.1">(</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.532.1">'The entered email address is invalid.'</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.533.1">);</span></strong></span><span class="koboSpan" id="kobo.534.1">
    } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.535.1">else</span></span><span class="koboSpan" id="kobo.536.1"> {
      </span><span class="code-highlight"><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.537.1">setErrorMessage</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.538.1">(</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.539.1">''</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.540.1">);</span></strong></span><span class="koboSpan" id="kobo.541.1">
    }
  };
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.542.1">return</span></span><span class="koboSpan" id="kobo.543.1"> (
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.544.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.545.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.546.1">&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.547.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.548.1">input</span></span><span class="hljs-tag"> </span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.549.1">placeholder</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.550.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.551.1">"Your email"</span></span><span class="hljs-tag"> </span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.552.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.553.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.554.1">"email"</span></span><span class="hljs-tag"> </span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.555.1">onBlur</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.556.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.557.1">{evaluateEmail}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.558.1"> /&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.559.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.560.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.561.1">&gt;</span></span><span class="language-xml"><span class="koboSpan" id="kobo.562.1">{errorMessage}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.563.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.564.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.565.1">&gt;</span></span>
<span class="language-xml">    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.566.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.567.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.568.1">&gt;</span></span><span class="koboSpan" id="kobo.569.1">
  );
};
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.570.1">
     Compared to the example code discussed earlier in this chapter, this code doesn’t look much different.
    </span>
    <span class="koboSpan" id="kobo.570.2">
     But there is a key
    </span>
    <a id="_idIndexMarker142">
    </a>
    <span class="koboSpan" id="kobo.571.1">
     difference: the usage of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.572.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.573.1">
     Hook.
    </span>
   </p>
   <p class="normal">
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.574.1">
      Hooks
     </span>
    </strong>
    <span class="koboSpan" id="kobo.575.1">
     are another key
    </span>
    <a id="_idIndexMarker143">
    </a>
    <span class="koboSpan" id="kobo.576.1">
     concept of React.
    </span>
    <span class="koboSpan" id="kobo.576.2">
     These are special functions that can only be used inside of React components (or inside of other Hooks, as will be covered in
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.577.1">
      Chapter 12
     </span>
    </em>
    <span class="koboSpan" id="kobo.578.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.579.1">
      Building Custom React Hooks
     </span>
    </em>
    <span class="koboSpan" id="kobo.580.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.580.2">
     Hooks add special features and behaviors to the React components in which they are used.
    </span>
    <span class="koboSpan" id="kobo.580.3">
     For example, the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.581.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.582.1">
     Hook allows a component (and therefore, implicitly React) to set and manage some state that is tied to this component.
    </span>
    <span class="koboSpan" id="kobo.582.2">
     React provides various built-in Hooks, and they are not all focused on state management.
    </span>
    <span class="koboSpan" id="kobo.582.3">
     You will learn about other Hooks and their purposes throughout this book.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.583.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.584.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.585.1">
     Hook is an extremely important and commonly used Hook as it enables you to manage data inside a component, which, when updated, tells React to update the UI accordingly.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.586.1">
     That is the core idea behind state management and this state concept: state is data, which, when changed, should force React to re-evaluate a component and update the UI if needed.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.587.1">
     Using Hooks, such as
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.588.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.589.1">
     , is pretty straightforward: you import them from
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.590.1">
      'react'
     </span>
    </code>
    <span class="koboSpan" id="kobo.591.1">
     and you then call them like a function inside your component function.
    </span>
    <span class="koboSpan" id="kobo.591.2">
     You call them like a function because, as mentioned, React Hooks are functions—just special functions (from React’s perspective).
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-77">
    <span class="koboSpan" id="kobo.592.1">
     A Closer Look at useState()
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.593.1">
     How exactly does the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.594.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.595.1">
     Hook work and what does it do internally?
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.596.1">
     By calling
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.597.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.598.1">
     inside a component
    </span>
    <a id="_idIndexMarker144">
    </a>
    <span class="koboSpan" id="kobo.599.1">
     function, you register some data with React.
    </span>
    <span class="koboSpan" id="kobo.599.2">
     It’s a bit like defining a variable or constant in vanilla JavaScript.
    </span>
    <span class="koboSpan" id="kobo.599.3">
     But there is something special: React will track the registered value internally, and whenever you update it, React will re-evaluate the component function in which the state was registered.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.600.1">
     React does this by checking whether the data used in the component changed.
    </span>
    <span class="koboSpan" id="kobo.600.2">
     Most importantly, React validates whether the UI needs to change because of changed data (for example, because a value is output inside the JSX code).
    </span>
    <span class="koboSpan" id="kobo.600.3">
     If React determines that the UI needs to change, it goes ahead and updates the real DOM in the places where an update is needed (for example, changing some text that’s displayed on the screen).
    </span>
    <span class="koboSpan" id="kobo.600.4">
     If no update is needed, React ends the component re-evaluation without updating the DOM.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.601.1">
     React’s internal workings will be discussed in great detail
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.602.1">
      Chapter 10
     </span>
    </em>
    <span class="koboSpan" id="kobo.603.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.604.1">
      Behind the Scenes of React and Optimization Opportunities
     </span>
    </em>
    <span class="koboSpan" id="kobo.605.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.606.1">
     The entire process starts with calling
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.607.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.608.1">
     inside a component.
    </span>
    <span class="koboSpan" id="kobo.608.2">
     This creates a state value (which will be stored and managed by React) and ties it to a specific component.
    </span>
    <span class="koboSpan" id="kobo.608.3">
     An initial state value is registered by simply passing it as a parameter value to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.609.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.610.1">
     .
    </span>
    <span class="koboSpan" id="kobo.610.2">
     In the preceding example, an empty string (
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.611.1">
      ''
     </span>
    </code>
    <span class="koboSpan" id="kobo.612.1">
     ) is registered as a first value:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.613.1">const</span></span><span class="koboSpan" id="kobo.614.1"> [errorMessage, setErrorMessage] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.615.1">useState</span></span><span class="koboSpan" id="kobo.616.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.617.1">''</span></span><span class="koboSpan" id="kobo.618.1">);
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.619.1">
     As you can see in the example,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.620.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.621.1">
     does not just accept a parameter value.
    </span>
    <span class="koboSpan" id="kobo.621.2">
     It also returns a value: an array with exactly two elements.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.622.1">
     The preceding example uses
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.623.1">
      array destructuring
     </span>
    </strong>
    <span class="koboSpan" id="kobo.624.1">
     , which is a standard JavaScript feature that allows developers to
    </span>
    <a id="_idIndexMarker145">
    </a>
    <span class="koboSpan" id="kobo.625.1">
     retrieve values from an array and immediately assign them to variables or constants.
    </span>
    <span class="koboSpan" id="kobo.625.2">
     In the example, the two elements that make up the array returned by
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.626.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.627.1">
     are pulled out of that array and stored in two constants (
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.628.1">
      errorMessage
     </span>
    </code>
    <span class="koboSpan" id="kobo.629.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.630.1">
      setErrorMessage
     </span>
    </code>
    <span class="koboSpan" id="kobo.631.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.631.2">
     You don’t have to use array destructuring when working with React or
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.632.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.633.1">
     , though.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.634.1">
     You could also write the code like this instead:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.635.1">const</span></span><span class="koboSpan" id="kobo.636.1"> stateData = </span><span class="hljs-title"><span class="koboSpan" id="kobo.637.1">useState</span></span><span class="koboSpan" id="kobo.638.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.639.1">''</span></span><span class="koboSpan" id="kobo.640.1">);
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.641.1">const</span></span><span class="koboSpan" id="kobo.642.1"> errorMessage = stateData[</span><span class="hljs-number"><span class="koboSpan" id="kobo.643.1">0</span></span><span class="koboSpan" id="kobo.644.1">];
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.645.1">const</span></span><span class="koboSpan" id="kobo.646.1"> setErrorMessage = stateData[</span><span class="hljs-number"><span class="koboSpan" id="kobo.647.1">1</span></span><span class="koboSpan" id="kobo.648.1">];
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.649.1">
     This works absolutely fine, but when using array destructuring, the code stays a bit more concise.
    </span>
    <span class="koboSpan" id="kobo.649.2">
     That’s why you typically see the syntax using array destructuring when browsing React apps and
    </span>
    <a id="_idIndexMarker146">
    </a>
    <span class="koboSpan" id="kobo.650.1">
     examples.
    </span>
    <span class="koboSpan" id="kobo.650.2">
     You also don’t have to use constants; variables (via
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.651.1">
      let
     </span>
    </code>
    <span class="koboSpan" id="kobo.652.1">
     ) would be fine as well.
    </span>
    <span class="koboSpan" id="kobo.652.2">
     As you will see throughout this chapter and the rest of the book, though, the variables won’t be reassigned, so using constants makes sense (but it is not required in any way).
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.653.1">
       Note
      </span>
     </strong>
    </p>
    <p class="normal">
     <span class="koboSpan" id="kobo.654.1">
      If array destructuring or the difference between variables and constants sounds brand new to you, it’s strongly recommended that you refresh your JavaScript basics before progressing with this book.
     </span>
     <span class="koboSpan" id="kobo.654.2">
      As always, MDN provides great resources for that (see
     </span>
     <a href="http://packt.link/3B8Ct">
      <span class="url">
       <span class="koboSpan" id="kobo.655.1">
        http://packt.link/3B8Ct
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.656.1">
      for array destructuring,
     </span>
     <a href="https://packt.link/hGjqL">
      <span class="url">
       <span class="koboSpan" id="kobo.657.1">
        https://packt.link/hGjqL
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.658.1">
      for information on the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.659.1">
       let
      </span>
     </code>
     <span class="koboSpan" id="kobo.660.1">
      variable, and
     </span>
     <a href="https://packt.link/TdPPS">
      <span class="url">
       <span class="koboSpan" id="kobo.661.1">
        https://packt.link/TdPPS
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.662.1">
      for guidance on the use of
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.663.1">
       const
      </span>
     </code>
     <span class="koboSpan" id="kobo.664.1">
      ).
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.665.1">
     As mentioned before,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.666.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.667.1">
     returns an array with exactly two elements.
    </span>
    <span class="koboSpan" id="kobo.667.2">
     It will always be exactly two elements—and always exactly the same kind of elements.
    </span>
    <span class="koboSpan" id="kobo.667.3">
     The first element is always the current state value, and the second element is a function that you can call to set the state to a new value.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.668.1">
     But how do these two values (the state value and the state-updating function) work together?
    </span>
    <span class="koboSpan" id="kobo.668.2">
     What does React do with them internally?
    </span>
    <span class="koboSpan" id="kobo.668.3">
     How are these two array elements used (by React) to update the UI?
    </span>
   </p>
   <h3 class="heading-3" id="_idParaDest-78">
    <span class="koboSpan" id="kobo.669.1">
     A Look Under the Hood of React
    </span>
   </h3>
   <p class="normal">
    <span class="koboSpan" id="kobo.670.1">
     React manages the state values for you, in some internal storage that you, the developer, can’t directly
    </span>
    <a id="_idIndexMarker147">
    </a>
    <span class="koboSpan" id="kobo.671.1">
     access.
    </span>
    <span class="koboSpan" id="kobo.671.2">
     Since you often do need access to a state value (for instance, some entered email address, as in the preceding example), React provides a way of reading state values: the first element in the array returned by
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.672.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.673.1">
     .
    </span>
    <span class="koboSpan" id="kobo.673.2">
     The first element of the returned array holds the current state value.
    </span>
    <span class="koboSpan" id="kobo.673.3">
     You can therefore use this element in any place where you need to work with the state value (for example, in the JSX code to output it there).
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.674.1">
     In addition, you often also need to update the state—for example, because a user entered a new email address.
    </span>
    <span class="koboSpan" id="kobo.674.2">
     Since you don’t manage the state value yourself, React gives you a function that you can call to inform React about the new state value.
    </span>
    <span class="koboSpan" id="kobo.674.3">
     That’s the second element in the returned array.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.675.1">
     In the example shown before, you call
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.676.1">
      setErrorMessage('Error!')
     </span>
    </code>
    <span class="koboSpan" id="kobo.677.1">
     to set the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.678.1">
      errorMessage
     </span>
    </code>
    <span class="koboSpan" id="kobo.679.1">
     state value to a new string (
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.680.1">
      'Error!'
     </span>
    </code>
    <span class="koboSpan" id="kobo.681.1">
     ).
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.682.1">
     But why is this managed like this?
    </span>
    <span class="koboSpan" id="kobo.682.2">
     Why not just use a standard JavaScript variable that you can assign and reassign as needed?
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.683.1">
     Because React
    </span>
    <a id="_idIndexMarker148">
    </a>
    <span class="koboSpan" id="kobo.684.1">
     must be informed whenever there’s a state that impacts the UI changes.
    </span>
    <span class="koboSpan" id="kobo.684.2">
     Otherwise, the visible UI doesn’t change at all, even in cases where it should.
    </span>
    <span class="koboSpan" id="kobo.684.3">
     React does not track regular variables and changes to their values, so they have no influence on the state of the UI.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.685.1">
     The state-updating function exposed by React (that second array element returned by
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.686.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.687.1">
     )
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.688.1">
      does
     </span>
    </em>
    <span class="koboSpan" id="kobo.689.1">
     trigger some internal UI-updating effect though.
    </span>
    <span class="koboSpan" id="kobo.689.2">
     This state-updating function does more than set a new value; it also informs React that a state value changed and that the UI might therefore be in need of an update.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.690.1">
     So, whenever you call
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.691.1">
      setErrorMessage('Error!')
     </span>
    </code>
    <span class="koboSpan" id="kobo.692.1">
     , React does not just update the value that it stores internally; it also checks the UI and updates it when needed.
    </span>
    <span class="koboSpan" id="kobo.692.2">
     UI updates can involve anything from simple text changes up to the complete removal and addition of various DOM elements.
    </span>
    <span class="koboSpan" id="kobo.692.3">
     Anything is possible there!
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.693.1">
     React determines the new target UI by rerunning (also called re-evaluating) any component functions that are affected by a state change.
    </span>
    <span class="koboSpan" id="kobo.693.2">
     That includes the component function that executed the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.694.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.695.1">
     function that returned the state-updating function that was called.
    </span>
    <span class="koboSpan" id="kobo.695.2">
     But it also includes any child components, since an update in a parent component could lead to new state data that’s also used by some child components (the state value could be passed to child components via props).
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.696.1">
     If you need a visual of how all this fits together, consider the following diagram:
    </span>
   </p>
   <figure class="mediaobject">
    <span class="koboSpan" id="kobo.697.1">
     <img alt="A diagram of a system  Description automatically generated" src="image/B31339_04_02.png"/>
    </span>
   </figure>
   <p class="packt_figref">
    <span class="koboSpan" id="kobo.698.1">
     Figure 4.2: React state updating flow
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.699.1">
     It’s important to understand and keep in mind that React will re-execute (re-evaluate) a component function if a state-updating function is called in the component function or some parent component function.
    </span>
    <span class="koboSpan" id="kobo.699.2">
     This also explains why the state value returned by
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.700.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.701.1">
     (that is, the first array element) can be a constant, even though you can assign new values by
    </span>
    <a id="_idIndexMarker149">
    </a>
    <span class="koboSpan" id="kobo.702.1">
     calling the state-updating function (the second array element).
    </span>
    <span class="koboSpan" id="kobo.702.2">
     Since the entire component function is re-executed,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.703.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.704.1">
     is also called again (because all the component function code is executed again) and hence a new array with two new elements is returned by React.
    </span>
    <span class="koboSpan" id="kobo.704.2">
     The first array element is still the current state value.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.705.1">
     However, as the component function was called because of a state update, the current state value is now the updated value.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.706.1">
     This can be a bit tricky to wrap your head around, but it is how React works internally.
    </span>
    <span class="koboSpan" id="kobo.706.2">
     In the end, it’s just about component functions being called multiple times by React, just as any JavaScript function can be called multiple times.
    </span>
   </p>
   <h4 class="heading-4">
    <span class="koboSpan" id="kobo.707.1">
     Naming Conventions
    </span>
   </h4>
   <p class="normal">
    <span class="koboSpan" id="kobo.708.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.709.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.710.1">
     Hook is typically used in
    </span>
    <a id="_idIndexMarker150">
    </a>
    <span class="koboSpan" id="kobo.711.1">
     combination with array destructuring, like this:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.712.1">const</span></span><span class="koboSpan" id="kobo.713.1"> [enteredEmail, setEnteredEmail] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.714.1">useState</span></span><span class="koboSpan" id="kobo.715.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.716.1">''</span></span><span class="koboSpan" id="kobo.717.1">);
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.718.1">
     But when using array destructuring, the names of the variables or constants (
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.719.1">
      enteredEmail
     </span>
    </code>
    <span class="koboSpan" id="kobo.720.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.721.1">
      setEnteredEmail
     </span>
    </code>
    <span class="koboSpan" id="kobo.722.1">
     , in this case) are up to you, the developer.
    </span>
    <span class="koboSpan" id="kobo.722.2">
     Therefore, a valid question is how you should name these variables or constants.
    </span>
    <span class="koboSpan" id="kobo.722.3">
     Fortunately, there is a clear convention when it comes to React and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.723.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.724.1">
     , and these variable or constant names.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.725.1">
     The
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.726.1">
      first element
     </span>
    </strong>
    <span class="koboSpan" id="kobo.727.1">
     (that is, the current
    </span>
    <a id="_idIndexMarker151">
    </a>
    <span class="koboSpan" id="kobo.728.1">
     state value) should be named such that it describes what the state value is all about.
    </span>
    <span class="koboSpan" id="kobo.728.2">
     Examples would be
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.729.1">
      enteredEmail
     </span>
    </code>
    <span class="koboSpan" id="kobo.730.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.731.1">
      userEmail
     </span>
    </code>
    <span class="koboSpan" id="kobo.732.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.733.1">
      providedEmail
     </span>
    </code>
    <span class="koboSpan" id="kobo.734.1">
     , just
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.735.1">
      email
     </span>
    </code>
    <span class="koboSpan" id="kobo.736.1">
     , or similar names.
    </span>
    <span class="koboSpan" id="kobo.736.2">
     You should avoid generic names such as
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.737.1">
      a
     </span>
    </code>
    <span class="koboSpan" id="kobo.738.1">
     or
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.739.1">
      value
     </span>
    </code>
    <span class="koboSpan" id="kobo.740.1">
     or misleading names such as
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.741.1">
      setValue
     </span>
    </code>
    <span class="koboSpan" id="kobo.742.1">
     (which sounds like it is a function—but it isn’t).
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.743.1">
     The
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.744.1">
      second element
     </span>
    </strong>
    <span class="koboSpan" id="kobo.745.1">
     (that is, the state-updating function) should be named such that it becomes clear that it is a function and that it does what it does.
    </span>
    <span class="koboSpan" id="kobo.745.2">
     Examples would be
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.746.1">
      setEnteredEmail
     </span>
    </code>
    <span class="koboSpan" id="kobo.747.1">
     or
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.748.1">
      setEmail
     </span>
    </code>
    <span class="koboSpan" id="kobo.749.1">
     .
    </span>
    <span class="koboSpan" id="kobo.749.2">
     In general, the convention for this function is to name it
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.750.1">
      setXYZ
     </span>
    </code>
    <span class="koboSpan" id="kobo.751.1">
     , where
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.752.1">
      XYZ
     </span>
    </code>
    <span class="koboSpan" id="kobo.753.1">
     is the name you chose for the first element, the current state value variable.
    </span>
    <span class="koboSpan" id="kobo.753.2">
     (Note, though, that you start with an uppercase character, as in
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.754.1">
      setEnteredEmail
     </span>
    </code>
    <span class="koboSpan" id="kobo.755.1">
     , not
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.756.1">
      setenteredEmail
     </span>
    </code>
    <span class="koboSpan" id="kobo.757.1">
     .)
    </span>
   </p>
   <h4 class="heading-4">
    <span class="koboSpan" id="kobo.758.1">
     Allowed State Value Types
    </span>
   </h4>
   <p class="normal">
    <span class="koboSpan" id="kobo.759.1">
     Managing entered email addresses (or user input in general) is indeed a common use case and example for working with state.
    </span>
    <span class="koboSpan" id="kobo.759.2">
     However, you’re not limited to this scenario and value type.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.760.1">
     In the case of entered user
    </span>
    <a id="_idIndexMarker152">
    </a>
    <span class="koboSpan" id="kobo.761.1">
     input, you will often deal with string values such as email addresses, passwords, blog posts, or similar values.
    </span>
    <span class="koboSpan" id="kobo.761.2">
     But any valid JavaScript value type can be managed with the help of
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.762.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.763.1">
     .
    </span>
    <span class="koboSpan" id="kobo.763.2">
     You could, for example, manage the total sum of multiple shopping cart items—that is, a number—or a Boolean value (for example,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.764.1">
      “Did a user confirm the terms of use?”
     </span>
    </em>
    <span class="koboSpan" id="kobo.765.1">
     ).
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.766.1">
     Besides managing primitive value types, you can also store and update reference data types such as objects and arrays.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.767.1">
       Note
      </span>
     </strong>
    </p>
    <p class="normal">
     <span class="koboSpan" id="kobo.768.1">
      If the difference between primitive and reference data types is not entirely clear, it’s strongly recommended that you dive into this core JavaScript concept before proceeding with this book through the following link:
     </span>
     <a href="https://academind.com/tutorials/reference-vs-primitive-values">
      <span class="url">
       <span class="koboSpan" id="kobo.769.1">
        https://academind.com/tutorials/reference-vs-primitive-values
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.770.1">
      .
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.771.1">
     React gives you the
    </span>
    <a id="_idIndexMarker153">
    </a>
    <span class="koboSpan" id="kobo.772.1">
     flexibility of managing all these value types as state.
    </span>
    <span class="koboSpan" id="kobo.772.2">
     You can even switch the value type at runtime (just as you can in vanilla JavaScript).
    </span>
    <span class="koboSpan" id="kobo.772.3">
     It is absolutely fine to store a number as the initial state value and update it to a string at a later point in time.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.773.1">
     Just as with vanilla JavaScript, you should, of course, ensure that your program deals with this behavior appropriately, though there’s nothing technically wrong with switching types.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-79">
    <span class="koboSpan" id="kobo.774.1">
     Working with Multiple State Values
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.775.1">
     When building anything but very simple web apps or UIs, you will need multiple state values.
    </span>
    <span class="koboSpan" id="kobo.775.2">
     Maybe users can not only enter their email but also a username or their address.
    </span>
    <span class="koboSpan" id="kobo.775.3">
     Maybe you also need to track some
    </span>
    <a id="_idIndexMarker154">
    </a>
    <span class="koboSpan" id="kobo.776.1">
     error state or save shopping cart items.
    </span>
    <span class="koboSpan" id="kobo.776.2">
     Maybe users can click a “like” button whose state should be saved and reflected in the UI.
    </span>
    <span class="koboSpan" id="kobo.776.3">
     There are many values that change frequently and whose changes should be reflected in the UI.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.777.1">
     Consider this concrete scenario: you have a component that needs to manage both the value entered by a user into an email input field and the value that was inserted into a password field.
    </span>
    <span class="koboSpan" id="kobo.777.2">
     Each value should be captured once a field loses focus.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.778.1">
     Since you have two input fields that hold different values, you have two state values: the entered email and the entered password.
    </span>
    <span class="koboSpan" id="kobo.778.2">
     Even though you might use both values together at some point (for example, to log a user in), the values are not provided simultaneously.
    </span>
    <span class="koboSpan" id="kobo.778.3">
     In addition, you might also need every value to stand alone, since you use it to show potential error messages (for example,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.779.1">
      “password too short”
     </span>
    </em>
    <span class="koboSpan" id="kobo.780.1">
     ) while the user is entering data.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.781.1">
     Scenarios like this are very common, and therefore, you can also manage multiple state values with the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.782.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.783.1">
     Hook.
    </span>
    <span class="koboSpan" id="kobo.783.2">
     There are two main ways of doing that:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.784.1">
      Use multiple
     </span>
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.785.1">
       state slices
      </span>
     </strong>
     <span class="koboSpan" id="kobo.786.1">
      (multiple state values)
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.787.1">
      Using one single,
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.788.1">
       big
      </span>
     </em>
     <span class="koboSpan" id="kobo.789.1">
      state object
     </span>
    </li>
   </ol>
   <h2 class="heading-2" id="_idParaDest-80">
    <span class="koboSpan" id="kobo.790.1">
     Using Multiple State Slices
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.791.1">
     You can manage multiple state values (also
    </span>
    <a id="_idIndexMarker155">
    </a>
    <span class="koboSpan" id="kobo.792.1">
     often called
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.793.1">
      state slices
     </span>
    </strong>
    <span class="koboSpan" id="kobo.794.1">
     ) by simply calling
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.795.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.796.1">
     multiple times in
    </span>
    <a id="_idIndexMarker156">
    </a>
    <span class="koboSpan" id="kobo.797.1">
     your component function.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.798.1">
     For the example described previously, a (simplified) component function could look like this:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.799.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.800.1">LoginForm</span></span><span class="koboSpan" id="kobo.801.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.802.1">const</span></span><span class="koboSpan" id="kobo.803.1"> [enteredEmail, setEnteredEmail] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.804.1">useState</span></span><span class="koboSpan" id="kobo.805.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.806.1">''</span></span><span class="koboSpan" id="kobo.807.1">); 
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.808.1">const</span></span><span class="koboSpan" id="kobo.809.1"> [enteredPassword, setEnteredPassword] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.810.1">useState</span></span><span class="koboSpan" id="kobo.811.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.812.1">''</span></span><span class="koboSpan" id="kobo.813.1">);
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.814.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.815.1">handleUpdateEmail</span></span><span class="koboSpan" id="kobo.816.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.817.1">event</span></span><span class="koboSpan" id="kobo.818.1">) {
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.819.1">setEnteredEmail</span></span><span class="koboSpan" id="kobo.820.1">(event.</span><span class="hljs-property"><span class="koboSpan" id="kobo.821.1">target</span></span><span class="koboSpan" id="kobo.822.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.823.1">value</span></span><span class="koboSpan" id="kobo.824.1">);
  };
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.825.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.826.1">handleUpdatePassword</span></span><span class="koboSpan" id="kobo.827.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.828.1">event</span></span><span class="koboSpan" id="kobo.829.1">) {
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.830.1">setEnteredPassword</span></span><span class="koboSpan" id="kobo.831.1">(event.</span><span class="hljs-property"><span class="koboSpan" id="kobo.832.1">target</span></span><span class="koboSpan" id="kobo.833.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.834.1">value</span></span><span class="koboSpan" id="kobo.835.1">);
  };
  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.836.1">// Below, props are split across multiple lines for better readability</span></span>
  <span class="hljs-comment"><span class="koboSpan" id="kobo.837.1">// This is allowed when using JSX, just as it is allowed in standard HTML</span></span>
  <span class="hljs-keyword"><span class="koboSpan" id="kobo.838.1">return</span></span><span class="koboSpan" id="kobo.839.1"> (
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.840.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.841.1">form</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.842.1">&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.843.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.844.1">input</span></span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.845.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.846.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.847.1">"email"</span></span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.848.1">placeholder</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.849.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.850.1">"</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.851.1">Your email"</span></span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.852.1">onBlur</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.853.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.854.1">{handleUpdateEmail}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.855.1"> /&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.856.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.857.1">input</span></span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.858.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.859.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.860.1">"password"</span></span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.861.1">placeholder</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.862.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.863.1">"Your password"</span></span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.864.1">onBlur</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.865.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.866.1">{handleUpdatePassword}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.867.1"> /&gt;</span></span>
<span class="language-xml">    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.868.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.869.1">form</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.870.1">&gt;</span></span><span class="koboSpan" id="kobo.871.1">
  );
};
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.872.1">
     In this example, two state slices are managed by calling
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.873.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.874.1">
     twice.
    </span>
    <span class="koboSpan" id="kobo.874.2">
     Therefore, React registers and manages two state values internally.
    </span>
    <span class="koboSpan" id="kobo.874.3">
     These two values can be read and updated independently from each other.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.875.1">
       Note
      </span>
     </strong>
    </p>
    <p class="normal">
     <span class="koboSpan" id="kobo.876.1">
      In the example, the functions that are triggered upon events start with
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.877.1">
       handle
      </span>
     </code>
     <span class="koboSpan" id="kobo.878.1">
      (
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.879.1">
       handleUpdateEmail
      </span>
     </code>
     <span class="koboSpan" id="kobo.880.1">
      and
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.881.1">
       handleUpdatePassword
      </span>
     </code>
     <span class="koboSpan" id="kobo.882.1">
      ).
     </span>
     <span class="koboSpan" id="kobo.882.2">
      This is a convention used by some React developers.
     </span>
     <span class="koboSpan" id="kobo.882.3">
      Event handler functions start with
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.883.1">
       handle…
      </span>
     </code>
     <span class="koboSpan" id="kobo.884.1">
      to make it clear that these functions handle certain (user-triggered) events.
     </span>
     <span class="koboSpan" id="kobo.884.2">
      This is not a convention you have to follow.
     </span>
     <span class="koboSpan" id="kobo.884.3">
      The functions could have also been named
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.885.1">
       updateEmail
      </span>
     </code>
     <span class="koboSpan" id="kobo.886.1">
      ,
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.887.1">
       updatePassword
      </span>
     </code>
     <span class="koboSpan" id="kobo.888.1">
      ,
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.889.1">
       emailUpdateHandler
      </span>
     </code>
     <span class="koboSpan" id="kobo.890.1">
      ,
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.891.1">
       passwordUpdateHandler
      </span>
     </code>
     <span class="koboSpan" id="kobo.892.1">
      , or anything else.
     </span>
     <span class="koboSpan" id="kobo.892.2">
      If the name is meaningful and follows some stringent convention, it’s a valid choice.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.893.1">
     You can register as many state slices (by calling
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.894.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.895.1">
     multiple times) as you need in a component.
    </span>
    <span class="koboSpan" id="kobo.895.2">
     You could have one state value, but you could also have dozens or even hundreds.
    </span>
    <span class="koboSpan" id="kobo.895.3">
     Typically, though, you
    </span>
    <a id="_idIndexMarker157">
    </a>
    <span class="koboSpan" id="kobo.896.1">
     will only have a couple of state slices per component since you should try to split bigger components (which might be doing lots of different things) into multiple smaller components to keep them manageable.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.897.1">
     The advantage of managing multiple state values like this is that you can update them independently.
    </span>
    <span class="koboSpan" id="kobo.897.2">
     If the user enters a new email address, you only need to update that email state value.
    </span>
    <span class="koboSpan" id="kobo.897.3">
     The password state value doesn’t matter for your purposes.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.898.1">
     A possible disadvantage could be that multiple state slices—and therefore multiple
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.899.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.900.1">
     calls—lead to lots of lines of code that might bloat your component.
    </span>
    <span class="koboSpan" id="kobo.900.2">
     As mentioned before, though, you typically should try to break up big components (that handle lots of different slices of state) into multiple smaller components anyway.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.901.1">
     Still, there is an alternative to managing multiple state values like this: you can also manage a single,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.902.1">
      merged
     </span>
    </em>
    <span class="koboSpan" id="kobo.903.1">
     state value object.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-81">
    <span class="koboSpan" id="kobo.904.1">
     Managing Merged State Objects
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.905.1">
     Instead of calling
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.906.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.907.1">
     for every single
    </span>
    <a id="_idIndexMarker158">
    </a>
    <span class="koboSpan" id="kobo.908.1">
     state slice, you can go for one
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.909.1">
      big
     </span>
    </em>
    <span class="koboSpan" id="kobo.910.1">
     state object that combines all the different state values:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.911.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.912.1">LoginForm</span></span><span class="koboSpan" id="kobo.913.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.914.1">const</span></span><span class="koboSpan" id="kobo.915.1"> [userData, setUserData] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.916.1">useState</span></span><span class="koboSpan" id="kobo.917.1">({
    </span><span class="hljs-attr"><span class="koboSpan" id="kobo.918.1">email</span></span><span class="koboSpan" id="kobo.919.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.920.1">''</span></span><span class="koboSpan" id="kobo.921.1">,
    </span><span class="hljs-attr"><span class="koboSpan" id="kobo.922.1">password</span></span><span class="koboSpan" id="kobo.923.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.924.1">''</span></span><span class="koboSpan" id="kobo.925.1">
  }); 
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.926.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.927.1">handleUpdateEmail</span></span><span class="koboSpan" id="kobo.928.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.929.1">event</span></span><span class="koboSpan" id="kobo.930.1">) {
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.931.1">setUserData</span></span><span class="koboSpan" id="kobo.932.1">({
      </span><span class="hljs-attr"><span class="koboSpan" id="kobo.933.1">email</span></span><span class="koboSpan" id="kobo.934.1">: event.</span><span class="hljs-property"><span class="koboSpan" id="kobo.935.1">target</span></span><span class="koboSpan" id="kobo.936.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.937.1">value</span></span><span class="koboSpan" id="kobo.938.1">,
      </span><span class="hljs-attr"><span class="koboSpan" id="kobo.939.1">password</span></span><span class="koboSpan" id="kobo.940.1">: userData.</span><span class="hljs-property"><span class="koboSpan" id="kobo.941.1">password</span></span><span class="koboSpan" id="kobo.942.1">
    });
  };
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.943.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.944.1">handleUpdatePassword</span></span><span class="koboSpan" id="kobo.945.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.946.1">event</span></span><span class="koboSpan" id="kobo.947.1">) {
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.948.1">setUserData</span></span><span class="koboSpan" id="kobo.949.1">({
      </span><span class="hljs-attr"><span class="koboSpan" id="kobo.950.1">email</span></span><span class="koboSpan" id="kobo.951.1">: userData.</span><span class="hljs-property"><span class="koboSpan" id="kobo.952.1">email</span></span><span class="koboSpan" id="kobo.953.1">,
      </span><span class="hljs-attr"><span class="koboSpan" id="kobo.954.1">password</span></span><span class="koboSpan" id="kobo.955.1">: event.</span><span class="hljs-property"><span class="koboSpan" id="kobo.956.1">target</span></span><span class="koboSpan" id="kobo.957.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.958.1">value</span></span><span class="koboSpan" id="kobo.959.1">
    });
  };
  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.960.1">// ... </span><span class="koboSpan" id="kobo.960.2">code omitted, because the returned JSX code is the same as before</span></span><span class="koboSpan" id="kobo.961.1">
};
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.962.1">
     In this example,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.963.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.964.1">
     is called only once (i.e., there’s only one state slice), and the initial value passed to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.965.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.966.1">
     is a JavaScript object.
    </span>
    <span class="koboSpan" id="kobo.966.2">
     The object contains two properties:
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.967.1">
      email
     </span>
    </code>
    <span class="koboSpan" id="kobo.968.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.969.1">
      password
     </span>
    </code>
    <span class="koboSpan" id="kobo.970.1">
     .
    </span>
    <span class="koboSpan" id="kobo.970.2">
     The property names are up to you, but they should describe the values that will be stored in the properties.
    </span>
   </p>
   <p class="normal">
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.971.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.972.1">
     still returns an array
    </span>
    <a id="_idIndexMarker159">
    </a>
    <span class="koboSpan" id="kobo.973.1">
     with exactly two elements.
    </span>
    <span class="koboSpan" id="kobo.973.2">
     That the initial value is an object does not change anything about that.
    </span>
    <span class="koboSpan" id="kobo.973.3">
     The first element of the returned array is now just an object instead of a string (as it was in the examples shown earlier).
    </span>
    <span class="koboSpan" id="kobo.973.4">
     As mentioned before, any valid JavaScript value type can be used when working with
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.974.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.975.1">
     .
    </span>
    <span class="koboSpan" id="kobo.975.2">
     Primitive value types such as strings or numbers can be used just as you would reference value types such as objects or arrays (which, technically, are objects of course).
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.976.1">
     The state-updating function (
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.977.1">
      setUserData
     </span>
    </code>
    <span class="koboSpan" id="kobo.978.1">
     , in the preceding example) is still a function created by React that you can call to set the state to a new value.
    </span>
    <span class="koboSpan" id="kobo.978.2">
     Also, you wouldn’t have to set it to an object again, though that is typically the default.
    </span>
    <span class="koboSpan" id="kobo.978.3">
     You don’t change value types when updating state unless you have a good reason for doing so (though, technically, you are allowed to switch to a different type at any time).
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.979.1">
       Note
      </span>
     </strong>
    </p>
    <p class="normal">
     <span class="koboSpan" id="kobo.980.1">
      In the preceding example, the way the state-updating function is used is not entirely correct.
     </span>
     <span class="koboSpan" id="kobo.980.2">
      It would work but it does violate recommended best practices.
     </span>
     <span class="koboSpan" id="kobo.980.3">
      You will learn later in this chapter why this is the case and how you should use the state-updating function instead.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.981.1">
     When managing state objects as shown in the preceding example, there’s one crucial thing you should keep in mind: you must always set all properties the object contains, even the ones that didn’t change.
    </span>
    <span class="koboSpan" id="kobo.981.2">
     This is required because, when calling the state-updating function, you
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.982.1">
      tell
     </span>
    </em>
    <span class="koboSpan" id="kobo.983.1">
     React which new state value should be stored internally.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.984.1">
     Thus, any value you pass as an
    </span>
    <a id="_idIndexMarker160">
    </a>
    <span class="koboSpan" id="kobo.985.1">
     argument to the state-updating function will overwrite the previously stored value.
    </span>
    <span class="koboSpan" id="kobo.985.2">
     If you provide an object that contains only the properties that changed, all other properties will be lost since the previous state object is replaced by the new one, which contains fewer properties.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.986.1">
     This is a common pitfall and therefore something you must pay attention to.
    </span>
    <span class="koboSpan" id="kobo.986.2">
     For this reason, in the example shown previously, the property that is not changed is set to the previous state value—for example,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.987.1">
      email: userData.email
     </span>
    </code>
    <span class="koboSpan" id="kobo.988.1">
     , where
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.989.1">
      userData
     </span>
    </code>
    <span class="koboSpan" id="kobo.990.1">
     is the current state snapshot and the first element of the array returned by
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.991.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.992.1">
     , while setting
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.993.1">
      password
     </span>
    </code>
    <span class="koboSpan" id="kobo.994.1">
     to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.995.1">
      event.target.value
     </span>
    </code>
    <span class="koboSpan" id="kobo.996.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.997.1">
     It is totally up to you whether you prefer to manage one state value (that is, an object grouping together multiple values) or multiple state slices (that is, multiple
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.998.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.999.1">
     calls) instead.
    </span>
    <span class="koboSpan" id="kobo.999.2">
     There is no right or wrong way and both approaches have their advantages and disadvantages.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1000.1">
     However, it is worth noting that you should typically try to break up
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1001.1">
      big
     </span>
    </em>
    <span class="koboSpan" id="kobo.1002.1">
     components into smaller ones.
    </span>
    <span class="koboSpan" id="kobo.1002.2">
     Just as regular JavaScript functions shouldn’t do too much work in a single function (it is considered a good practice to have separate functions for different tasks), components should focus on one or only a few tasks per component as well.
    </span>
    <span class="koboSpan" id="kobo.1002.3">
     Instead of having a huge
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1003.1">
      &lt;App /&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.1004.1">
     component that handles multiple forms, user authentication, and a shopping cart directly in one component, it would be preferable to split the code of that component into multiple smaller components that are then combined to build the overall app.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1005.1">
     When following that advice, most components shouldn’t have too much state to manage anyway, since managing many state values is an indicator of a component doing
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1006.1">
      too much work
     </span>
    </em>
    <span class="koboSpan" id="kobo.1007.1">
     .
    </span>
    <span class="koboSpan" id="kobo.1007.2">
     That’s why you might end up using a few state slices per component, instead of large state objects.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-82">
    <span class="koboSpan" id="kobo.1008.1">
     Updating State Based on Previous State Correctly
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.1009.1">
     When learning about objects as state values, you learned that it’s easy to accidentally overwrite (and lose) data
    </span>
    <a id="_idIndexMarker161">
    </a>
    <span class="koboSpan" id="kobo.1010.1">
     because you might set the new state to an object that contains only the properties that changed—not the ones that didn’t.
    </span>
    <span class="koboSpan" id="kobo.1010.2">
     That’s why, when working with objects or arrays as state values, it’s important to always add the existing properties and elements to the new state value.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1011.1">
     Also, in general, setting a state value to a new value that is (at least partially) based on the previous state is a common task.
    </span>
    <span class="koboSpan" id="kobo.1011.2">
     You might set
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1012.1">
      password
     </span>
    </code>
    <span class="koboSpan" id="kobo.1013.1">
     to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1014.1">
      event.target.value
     </span>
    </code>
    <span class="koboSpan" id="kobo.1015.1">
     but also set
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1016.1">
      email
     </span>
    </code>
    <span class="koboSpan" id="kobo.1017.1">
     to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1018.1">
      userData.email
     </span>
    </code>
    <span class="koboSpan" id="kobo.1019.1">
     to ensure that the stored email address is not lost due to updating a part of the overall state (that is, because of updating the password to the newly entered value).
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1020.1">
     That’s not the only scenario where the new state value could be based on the previous one, though.
    </span>
    <span class="koboSpan" id="kobo.1020.2">
     Another example would be a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1021.1">
      counter
     </span>
    </code>
    <span class="koboSpan" id="kobo.1022.1">
     component—for example, a component like this:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1023.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1024.1">Counter</span></span><span class="koboSpan" id="kobo.1025.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1026.1">const</span></span><span class="koboSpan" id="kobo.1027.1"> [counter, setCounter] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.1028.1">useState</span></span><span class="koboSpan" id="kobo.1029.1">(</span><span class="hljs-number"><span class="koboSpan" id="kobo.1030.1">0</span></span><span class="koboSpan" id="kobo.1031.1">);
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1032.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1033.1">handleIncrement</span></span><span class="koboSpan" id="kobo.1034.1">() {
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.1035.1">setCounter</span></span><span class="koboSpan" id="kobo.1036.1">(counter + </span><span class="hljs-number"><span class="koboSpan" id="kobo.1037.1">1</span></span><span class="koboSpan" id="kobo.1038.1">);
  };
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1039.1">return</span></span><span class="koboSpan" id="kobo.1040.1"> (
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1041.1">&lt;&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1042.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1043.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1044.1">&gt;</span></span><span class="language-xml"><span class="koboSpan" id="kobo.1045.1">Counter Value: {counter}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1046.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1047.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1048.1">&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1049.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1050.1">button</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1051.1">onClick</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1052.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1053.1">{handleIncrement}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1054.1">&gt;</span></span><span class="language-xml"><span class="koboSpan" id="kobo.1055.1">Increment</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1056.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1057.1">button</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1058.1">&gt;</span></span>
<span class="language-xml">    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1059.1">&lt;/&gt;</span></span><span class="koboSpan" id="kobo.1060.1">
  );
};
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1061.1">
     In this example, a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1062.1">
      click
     </span>
    </code>
    <span class="koboSpan" id="kobo.1063.1">
     event handler is registered for
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1064.1">
      &lt;button&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.1065.1">
     (via the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1066.1">
      onClick
     </span>
    </code>
    <span class="koboSpan" id="kobo.1067.1">
     prop).
    </span>
    <span class="koboSpan" id="kobo.1067.2">
     Upon every click, the counter state value is incremented by
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1068.1">
      1
     </span>
    </code>
    <span class="koboSpan" id="kobo.1069.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1070.1">
     This component would work, but the code shown in the example snippet is actually violating an important best practice and recommendation: state updates that depend on some previous state should be performed with the help of a function that’s passed to the state-updating function.
    </span>
    <span class="koboSpan" id="kobo.1070.2">
     To be precise, the example should be rewritten like this:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1071.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1072.1">Counter</span></span><span class="koboSpan" id="kobo.1073.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1074.1">const</span></span><span class="koboSpan" id="kobo.1075.1"> [counter, setCounter] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.1076.1">useState</span></span><span class="koboSpan" id="kobo.1077.1">(</span><span class="hljs-number"><span class="koboSpan" id="kobo.1078.1">0</span></span><span class="koboSpan" id="kobo.1079.1">);
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1080.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1081.1">handleIncrement</span></span><span class="koboSpan" id="kobo.1082.1">() {
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.1083.1">setCounter</span></span><span class="koboSpan" id="kobo.1084.1">(</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1085.1">function</span></span><span class="koboSpan" id="kobo.1086.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1087.1">prevCounter</span></span><span class="koboSpan" id="kobo.1088.1">) { </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1089.1">return</span></span><span class="koboSpan" id="kobo.1090.1"> prevCounter + </span><span class="hljs-number"><span class="koboSpan" id="kobo.1091.1">1</span></span><span class="koboSpan" id="kobo.1092.1">; });
    </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1093.1">// alternatively, JS arrow functions could be used:</span></span>
    <span class="hljs-comment"><span class="koboSpan" id="kobo.1094.1">// setCounter(prevCounter =&gt; prevCounter + 1);</span></span><span class="koboSpan" id="kobo.1095.1">
  };
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1096.1">return</span></span><span class="koboSpan" id="kobo.1097.1"> (
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1098.1">&lt;&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1099.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1100.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1101.1">&gt;</span></span><span class="language-xml"><span class="koboSpan" id="kobo.1102.1">Counter Value: {counter}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1103.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1104.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1105.1">&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1106.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1107.1">button</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1108.1">onClick</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1109.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1110.1">{handleIncrement}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1111.1">&gt;</span></span><span class="language-xml"><span class="koboSpan" id="kobo.1112.1">Increment</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1113.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1114.1">button</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1115.1">&gt;</span></span>
<span class="language-xml">    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1116.1">&lt;/&gt;</span></span><span class="koboSpan" id="kobo.1117.1">
  );
};
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1118.1">
     This might look a bit strange.
    </span>
    <span class="koboSpan" id="kobo.1118.2">
     It might seem like a function is now passed as the new state value to the state-updating
    </span>
    <a id="_idIndexMarker162">
    </a>
    <span class="koboSpan" id="kobo.1119.1">
     function (that is, the number stored in
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1120.1">
      counter
     </span>
    </code>
    <span class="koboSpan" id="kobo.1121.1">
     is replaced with a function).
    </span>
    <span class="koboSpan" id="kobo.1121.2">
     But, indeed, that is not the case.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1122.1">
     Technically, a function
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1123.1">
      is
     </span>
    </em>
    <span class="koboSpan" id="kobo.1124.1">
     passed as an argument to the state-updating function, but React won’t store that function as the new state value.
    </span>
    <span class="koboSpan" id="kobo.1124.2">
     Instead, when receiving a function as a new state value in the state-updating function, React will call that function for you and pass the latest state value to that function.
    </span>
    <span class="koboSpan" id="kobo.1124.3">
     Therefore, you should provide a function that accepts at least one parameter: the previous state value.
    </span>
    <span class="koboSpan" id="kobo.1124.4">
     This value will be passed into the function automatically by React when React executes the function (which it will do internally).
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1125.1">
     The function should then also return a value—the new state value that should be stored by React.
    </span>
    <span class="koboSpan" id="kobo.1125.2">
     Also, since the function receives the previous state value, you can now derive the new state value based on the previous state value (for example, by adding the number 1 to it, but any operation could be performed here).
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1126.1">
     Why is this required if the app worked fine before this change as well?
    </span>
    <span class="koboSpan" id="kobo.1126.2">
     It’s required because, in more complex React applications and UIs, React could be processing many state updates simultaneously—potentially triggered from different sources at different times.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1127.1">
     When
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1128.1">
      not
     </span>
    </em>
    <span class="koboSpan" id="kobo.1129.1">
     using the approach discussed in the last paragraphs, the order of state updates might not be the expected one and bugs could be introduced into the app.
    </span>
    <span class="koboSpan" id="kobo.1129.2">
     Even if you know that your use case won’t be affected and the app does its job without issue, it is recommended to simply adhere to the discussed best practice and pass a function to the state-updating function if the new state depends on the previous state.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1130.1">
     With this newly gained
    </span>
    <a id="_idIndexMarker163">
    </a>
    <span class="koboSpan" id="kobo.1131.1">
     knowledge in mind, take another look at an earlier code example:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1132.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1133.1">LoginForm</span></span><span class="koboSpan" id="kobo.1134.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1135.1">const</span></span><span class="koboSpan" id="kobo.1136.1"> [userData, setUserData] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.1137.1">useState</span></span><span class="koboSpan" id="kobo.1138.1">({
    </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1139.1">email</span></span><span class="koboSpan" id="kobo.1140.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.1141.1">''</span></span><span class="koboSpan" id="kobo.1142.1">,
    </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1143.1">password</span></span><span class="koboSpan" id="kobo.1144.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.1145.1">''</span></span><span class="koboSpan" id="kobo.1146.1">
  }); 
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1147.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1148.1">handleUpdateEmail</span></span><span class="koboSpan" id="kobo.1149.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1150.1">event</span></span><span class="koboSpan" id="kobo.1151.1">) {
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.1152.1">setUserData</span></span><span class="koboSpan" id="kobo.1153.1">({
      </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1154.1">email</span></span><span class="koboSpan" id="kobo.1155.1">: event.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1156.1">target</span></span><span class="koboSpan" id="kobo.1157.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1158.1">value</span></span><span class="koboSpan" id="kobo.1159.1">,
      </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1160.1">password</span></span><span class="koboSpan" id="kobo.1161.1">: userData.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1162.1">password</span></span><span class="koboSpan" id="kobo.1163.1">
    });
  };
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1164.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1165.1">handleUpdatePassword</span></span><span class="koboSpan" id="kobo.1166.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1167.1">event</span></span><span class="koboSpan" id="kobo.1168.1">) {
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.1169.1">setUserData</span></span><span class="koboSpan" id="kobo.1170.1">({
      </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1171.1">email</span></span><span class="koboSpan" id="kobo.1172.1">: userData.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1173.1">email</span></span><span class="koboSpan" id="kobo.1174.1">,
      </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1175.1">password</span></span><span class="koboSpan" id="kobo.1176.1">: event.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1177.1">target</span></span><span class="koboSpan" id="kobo.1178.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1179.1">value</span></span><span class="koboSpan" id="kobo.1180.1">
    });
  };
  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1181.1">// ... </span><span class="koboSpan" id="kobo.1181.2">code omitted, because the returned JSX code is the same as before</span></span><span class="koboSpan" id="kobo.1182.1">
};
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1183.1">
     Can you spot the error in this code?
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1184.1">
     It’s not a technical error; the code will execute fine, and the app will work as expected.
    </span>
    <span class="koboSpan" id="kobo.1184.2">
     But there is a problem with this code nonetheless.
    </span>
    <span class="koboSpan" id="kobo.1184.3">
     It violates the discussed best practice.
    </span>
    <span class="koboSpan" id="kobo.1184.4">
     In the code snippet, the state in both handler functions is updated by referring to the current state snapshot via
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1185.1">
      userData.password
     </span>
    </code>
    <span class="koboSpan" id="kobo.1186.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1187.1">
      userData.email
     </span>
    </code>
    <span class="koboSpan" id="kobo.1188.1">
     , respectively.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1189.1">
     The code snippet should be rewritten like this:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1190.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1191.1">LoginForm</span></span><span class="koboSpan" id="kobo.1192.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1193.1">const</span></span><span class="koboSpan" id="kobo.1194.1"> [userData, setUserData] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.1195.1">useState</span></span><span class="koboSpan" id="kobo.1196.1">({
    </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1197.1">email</span></span><span class="koboSpan" id="kobo.1198.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.1199.1">''</span></span><span class="koboSpan" id="kobo.1200.1">,
    </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1201.1">password</span></span><span class="koboSpan" id="kobo.1202.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.1203.1">''</span></span><span class="koboSpan" id="kobo.1204.1">
  }); 
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1205.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1206.1">handleUpdateEmail</span></span><span class="koboSpan" id="kobo.1207.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1208.1">event</span></span><span class="koboSpan" id="kobo.1209.1">) {
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.1210.1">setUserData</span></span><span class="koboSpan" id="kobo.1211.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1212.1">prevData</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.1213.1"> =&gt;</span></span><span class="koboSpan" id="kobo.1214.1"> ({
      </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1215.1">email</span></span><span class="koboSpan" id="kobo.1216.1">: event.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1217.1">target</span></span><span class="koboSpan" id="kobo.1218.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1219.1">value</span></span><span class="koboSpan" id="kobo.1220.1">,
      </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1221.1">password</span></span><span class="koboSpan" id="kobo.1222.1">: prevData.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1223.1">password</span></span><span class="koboSpan" id="kobo.1224.1">
    }));
  };
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1225.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1226.1">handleUpdatePassword</span></span><span class="koboSpan" id="kobo.1227.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1228.1">event</span></span><span class="koboSpan" id="kobo.1229.1">) {
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.1230.1">setUserData</span></span><span class="koboSpan" id="kobo.1231.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1232.1">prevData</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.1233.1"> =&gt;</span></span><span class="koboSpan" id="kobo.1234.1"> ({
      </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1235.1">email</span></span><span class="koboSpan" id="kobo.1236.1">: prevData.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1237.1">email</span></span><span class="koboSpan" id="kobo.1238.1">,
      </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1239.1">password</span></span><span class="koboSpan" id="kobo.1240.1">: event.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1241.1">target</span></span><span class="koboSpan" id="kobo.1242.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1243.1">value</span></span><span class="koboSpan" id="kobo.1244.1">
    }));
  };
  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1245.1">// ... </span><span class="koboSpan" id="kobo.1245.2">code omitted, because the returned JSX code is the same as before</span></span>
  <span class="hljs-comment"><span class="koboSpan" id="kobo.1246.1">// userData is not actively used here, hence you could get a warning</span></span>
  <span class="hljs-comment"><span class="koboSpan" id="kobo.1247.1">// regarding that. </span><span class="koboSpan" id="kobo.1247.2">Simply ignore it or start using userData</span></span>
  <span class="hljs-comment"><span class="koboSpan" id="kobo.1248.1">// (e.g., via console.log(userData))</span></span><span class="koboSpan" id="kobo.1249.1">
};
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1250.1">
     By passing an arrow
    </span>
    <a id="_idIndexMarker164">
    </a>
    <span class="koboSpan" id="kobo.1251.1">
     function as an argument to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1252.1">
      setUserData
     </span>
    </code>
    <span class="koboSpan" id="kobo.1253.1">
     , you allow React to call that function.
    </span>
    <span class="koboSpan" id="kobo.1253.2">
     React will do this automatically (that is, if it receives a function in this place, React will call it) and it will provide the previous state (
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1254.1">
      prevState
     </span>
    </code>
    <span class="koboSpan" id="kobo.1255.1">
     ) automatically.
    </span>
    <span class="koboSpan" id="kobo.1255.2">
     The returned value (the object that stores the updated
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1256.1">
      email
     </span>
    </code>
    <span class="koboSpan" id="kobo.1257.1">
     or
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1258.1">
      password
     </span>
    </code>
    <span class="koboSpan" id="kobo.1259.1">
     and the currently stored
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1260.1">
      email
     </span>
    </code>
    <span class="koboSpan" id="kobo.1261.1">
     or
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1262.1">
      password
     </span>
    </code>
    <span class="koboSpan" id="kobo.1263.1">
     ) is then set as the new state.
    </span>
    <span class="koboSpan" id="kobo.1263.2">
     The result, in this case, might be the same as before, but now the code adheres to recommended best practices.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.1264.1">
       Note
      </span>
     </strong>
    </p>
    <p class="normal">
     <span class="koboSpan" id="kobo.1265.1">
      In the previous example, an arrow function was used instead of a “regular” function.
     </span>
     <span class="koboSpan" id="kobo.1265.2">
      Both approaches are fine, though.
     </span>
     <span class="koboSpan" id="kobo.1265.3">
      You can use either of the two function types; the result will be the same.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.1266.1">
     In summary, you should always pass a function to the state-updating function if the new state depends on the previous state.
    </span>
    <span class="koboSpan" id="kobo.1266.2">
     Otherwise, if the new state depends on some other value (for instance, user input), directly passing the new state value as a function argument is absolutely fine and recommended.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-83">
    <span class="koboSpan" id="kobo.1267.1">
     Two-Way Binding
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.1268.1">
     There is one special usage
    </span>
    <a id="_idIndexMarker165">
    </a>
    <span class="koboSpan" id="kobo.1269.1">
     of React’s state concept that is worth discussing:
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.1270.1">
      two-way binding
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1271.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1272.1">
     Two-way binding is a concept that is
    </span>
    <a id="_idIndexMarker166">
    </a>
    <span class="koboSpan" id="kobo.1273.1">
     used if you have an input source (typically an
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1274.1">
      &lt;input&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.1275.1">
     element) that sets some state upon user input (for instance, upon the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1276.1">
      change
     </span>
    </code>
    <span class="koboSpan" id="kobo.1277.1">
     event) and outputs the input at the same time.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1278.1">
     Here’s an example:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1279.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1280.1">NewsletterField</span></span><span class="koboSpan" id="kobo.1281.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1282.1">const</span></span><span class="koboSpan" id="kobo.1283.1"> [email, setEmail] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.1284.1">useState</span></span><span class="koboSpan" id="kobo.1285.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.1286.1">''</span></span><span class="koboSpan" id="kobo.1287.1">);
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1288.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1289.1">handleUpdateEmail</span></span><span class="koboSpan" id="kobo.1290.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1291.1">event</span></span><span class="koboSpan" id="kobo.1292.1">) {
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.1293.1">setEmail</span></span><span class="koboSpan" id="kobo.1294.1">(event.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1295.1">target</span></span><span class="koboSpan" id="kobo.1296.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1297.1">value</span></span><span class="koboSpan" id="kobo.1298.1">);
  };
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1299.1">return</span></span><span class="koboSpan" id="kobo.1300.1"> (
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1301.1">&lt;&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1302.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1303.1">input</span></span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1304.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1305.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1306.1">"email"</span></span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1307.1">placeholder</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1308.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1309.1">"Your email address"</span></span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1310.1">value</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1311.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1312.1">{email}</span></span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1313.1">onChange</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1314.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1315.1">{handleUpdateEmail}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1316.1"> /&gt;</span></span>
<span class="language-xml">    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1317.1">&lt;/&gt;</span></span><span class="koboSpan" id="kobo.1318.1">    
  );
};
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1319.1">
     Compared to the other code snippets and examples, the difference here is that the component does not just store the user input (upon the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1320.1">
      change
     </span>
    </code>
    <span class="koboSpan" id="kobo.1321.1">
     event, in this case) but that the entered value is also output in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1322.1">
      &lt;input&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.1323.1">
     element (via the default
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1324.1">
      value
     </span>
    </code>
    <span class="koboSpan" id="kobo.1325.1">
     prop) thereafter.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1326.1">
     This might look like an infinite loop, but React deals with this and ensures that it doesn’t become one.
    </span>
    <span class="koboSpan" id="kobo.1326.2">
     Instead, this is what’s commonly referred to as two-way binding as a value is both set and read from the same source.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1327.1">
     You may wonder why this is being discussed here, but it is important to know that it is perfectly valid to write code like this.
    </span>
    <span class="koboSpan" id="kobo.1327.2">
     Also, this kind of code could be necessary if you don’t just want to set a value (in this case, the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1328.1">
      email
     </span>
    </code>
    <span class="koboSpan" id="kobo.1329.1">
     value) upon user input in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1330.1">
      &lt;input&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.1331.1">
     field but also from other sources.
    </span>
    <span class="koboSpan" id="kobo.1331.2">
     For example, you might have a button in the component that, when clicked, should clear the entered email address.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1332.1">
     It might look like this:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1333.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1334.1">NewsletterField</span></span><span class="koboSpan" id="kobo.1335.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1336.1">const</span></span><span class="koboSpan" id="kobo.1337.1"> [email, setEmail] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.1338.1">useState</span></span><span class="koboSpan" id="kobo.1339.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.1340.1">''</span></span><span class="koboSpan" id="kobo.1341.1">);
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1342.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1343.1">handleUpdateEmail</span></span><span class="koboSpan" id="kobo.1344.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1345.1">event</span></span><span class="koboSpan" id="kobo.1346.1">) {
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.1347.1">setEmail</span></span><span class="koboSpan" id="kobo.1348.1">(event.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1349.1">target</span></span><span class="koboSpan" id="kobo.1350.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1351.1">value</span></span><span class="koboSpan" id="kobo.1352.1">);
  };
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1353.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1354.1">handleClearInput</span></span><span class="koboSpan" id="kobo.1355.1">() {
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.1356.1">setEmail</span></span><span class="koboSpan" id="kobo.1357.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.1358.1">''</span></span><span class="koboSpan" id="kobo.1359.1">); </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1360.1">// reset email input (back to an empty string)</span></span><span class="koboSpan" id="kobo.1361.1">
  };
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1362.1">return</span></span><span class="koboSpan" id="kobo.1363.1"> (
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1364.1">&lt;&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1365.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1366.1">input</span></span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1367.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1368.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1369.1">"email"</span></span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1370.1">placeholder</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1371.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1372.1">"Your email address"</span></span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1373.1">value</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1374.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1375.1">{email}</span></span>
<span class="hljs-tag">        </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1376.1">onChange</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1377.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1378.1">{handleUpdateEmail}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1379.1"> /&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1380.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1381.1">button</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1382.1">onClick</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1383.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1384.1">{handleClearInput}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1385.1">&gt;</span></span><span class="language-xml"><span class="koboSpan" id="kobo.1386.1">Reset</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1387.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1388.1">button</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1389.1">&gt;</span></span>
<span class="language-xml">    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1390.1">&lt;/&gt;</span></span><span class="koboSpan" id="kobo.1391.1">
  );
};
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1392.1">
     In this updated example, the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1393.1">
      handleClearInput
     </span>
    </code>
    <span class="koboSpan" id="kobo.1394.1">
     function is executed when
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1395.1">
      &lt;button&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.1396.1">
     is clicked.
    </span>
    <span class="koboSpan" id="kobo.1396.2">
     Inside the function, the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1397.1">
      email
     </span>
    </code>
    <span class="koboSpan" id="kobo.1398.1">
     state is
    </span>
    <a id="_idIndexMarker167">
    </a>
    <span class="koboSpan" id="kobo.1399.1">
     set back to an empty string.
    </span>
    <span class="koboSpan" id="kobo.1399.2">
     Without two-way binding, the state
    </span>
    <a id="_idIndexMarker168">
    </a>
    <span class="koboSpan" id="kobo.1400.1">
     would be updated, but the change would not be reflected in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1401.1">
      &lt;input&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.1402.1">
     element.
    </span>
    <span class="koboSpan" id="kobo.1402.2">
     There, the user would still see their last input.
    </span>
    <span class="koboSpan" id="kobo.1402.3">
     The state reflected on the UI (the website) and the state managed internally by React would be different—a bug you absolutely must avoid.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-84">
    <span class="koboSpan" id="kobo.1403.1">
     Deriving Values from State
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.1404.1">
     As you can probably tell by now, state is a key concept in React.
    </span>
    <span class="koboSpan" id="kobo.1404.2">
     State allows you to manage data that, when changed, forces React to re-evaluate a component and, ultimately, the UI.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1405.1">
     As a developer, you can use state
    </span>
    <a id="_idIndexMarker169">
    </a>
    <span class="koboSpan" id="kobo.1406.1">
     values anywhere in your component (and in your child components, by passing state to them via props).
    </span>
    <span class="koboSpan" id="kobo.1406.2">
     You could, for example, repeat what a user entered like this:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1407.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1408.1">Repeater</span></span><span class="koboSpan" id="kobo.1409.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1410.1">const</span></span><span class="koboSpan" id="kobo.1411.1"> [userInput, setUserInput] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.1412.1">useState</span></span><span class="koboSpan" id="kobo.1413.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.1414.1">''</span></span><span class="koboSpan" id="kobo.1415.1">);
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1416.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1417.1">handleChange</span></span><span class="koboSpan" id="kobo.1418.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1419.1">event</span></span><span class="koboSpan" id="kobo.1420.1">) {
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.1421.1">setUserInput</span></span><span class="koboSpan" id="kobo.1422.1">(event.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1423.1">target</span></span><span class="koboSpan" id="kobo.1424.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1425.1">value</span></span><span class="koboSpan" id="kobo.1426.1">);
  };
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1427.1">return</span></span><span class="koboSpan" id="kobo.1428.1"> (
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1429.1">&lt;&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1430.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1431.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1432.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1433.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1434.1">"text"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1435.1">onChange</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1436.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1437.1">{handleChange}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1438.1"> /&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1439.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1440.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1441.1">&gt;</span></span><span class="language-xml"><span class="koboSpan" id="kobo.1442.1">You entered: {userInput}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1443.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1444.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1445.1">&gt;</span></span>
<span class="language-xml">    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1446.1">&lt;/&gt;</span></span><span class="koboSpan" id="kobo.1447.1">
  );
};
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1448.1">
     This component might not be
    </span>
    <a id="_idIndexMarker170">
    </a>
    <span class="koboSpan" id="kobo.1449.1">
     too useful, but it will work, and it does use state.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1450.1">
     Often, in order to do more useful things, you will need to use a state value as a basis to derive a new (often more complex) value.
    </span>
    <span class="koboSpan" id="kobo.1450.2">
     For example, instead of simply repeating what the user entered, you could count the number of entered characters and show that information to the user:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1451.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1452.1">CharCounter</span></span><span class="koboSpan" id="kobo.1453.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1454.1">const</span></span><span class="koboSpan" id="kobo.1455.1"> [userInput, setUserInput] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.1456.1">useState</span></span><span class="koboSpan" id="kobo.1457.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.1458.1">''</span></span><span class="koboSpan" id="kobo.1459.1">);
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1460.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1461.1">handleChange</span></span><span class="koboSpan" id="kobo.1462.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1463.1">event</span></span><span class="koboSpan" id="kobo.1464.1">) {
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.1465.1">setUserInput</span></span><span class="koboSpan" id="kobo.1466.1">(event.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1467.1">target</span></span><span class="koboSpan" id="kobo.1468.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1469.1">value</span></span><span class="koboSpan" id="kobo.1470.1">);
  };
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1471.1">const</span></span><span class="koboSpan" id="kobo.1472.1"> numChars = userInput.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1473.1">length</span></span><span class="koboSpan" id="kobo.1474.1">;
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1475.1">return</span></span><span class="koboSpan" id="kobo.1476.1"> (
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1477.1">&lt;&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1478.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1479.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1480.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1481.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1482.1">"text"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1483.1">onChange</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1484.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1485.1">{handleChange}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1486.1"> /&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1487.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1488.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1489.1">&gt;</span></span><span class="language-xml"><span class="koboSpan" id="kobo.1490.1">Characters entered: {numChars}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1491.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1492.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1493.1">&gt;</span></span>
<span class="language-xml">    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1494.1">&lt;/&gt;</span></span><span class="koboSpan" id="kobo.1495.1">
  );
};
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1496.1">
     Note the addition of the new
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1497.1">
      numChars
     </span>
    </code>
    <span class="koboSpan" id="kobo.1498.1">
     constant (it could also be a variable, via
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1499.1">
      let
     </span>
    </code>
    <span class="koboSpan" id="kobo.1500.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.1500.2">
     This constant is derived from the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1501.1">
      userInput
     </span>
    </code>
    <span class="koboSpan" id="kobo.1502.1">
     state by accessing the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1503.1">
      length
     </span>
    </code>
    <span class="koboSpan" id="kobo.1504.1">
     property on the string value that’s stored in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1505.1">
      userInput
     </span>
    </code>
    <span class="koboSpan" id="kobo.1506.1">
     state.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1507.1">
     This is important!
    </span>
    <span class="koboSpan" id="kobo.1507.2">
     You’re not limited to working with state values only.
    </span>
    <span class="koboSpan" id="kobo.1507.3">
     You can manage some key value as state (that is, the value that will change) and derive other values based on that state value—such as, in this case, the number of characters entered by the user.
    </span>
    <span class="koboSpan" id="kobo.1507.4">
     Indeed, this is something you will do frequently as a React developer.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1508.1">
     You might also be wondering
    </span>
    <a id="_idIndexMarker171">
    </a>
    <span class="koboSpan" id="kobo.1509.1">
     why
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1510.1">
      numChars
     </span>
    </code>
    <span class="koboSpan" id="kobo.1511.1">
     is a constant and outside of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1512.1">
      handleChange
     </span>
    </code>
    <span class="koboSpan" id="kobo.1513.1">
     function.
    </span>
    <span class="koboSpan" id="kobo.1513.2">
     After all, that is the function that is executed upon user input (that is, upon every keystroke the user makes).
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1514.1">
     Keep in mind what you learned about how React handles state internally.
    </span>
    <span class="koboSpan" id="kobo.1514.2">
     When you call the state-updating function (
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1515.1">
      setUserInput
     </span>
    </code>
    <span class="koboSpan" id="kobo.1516.1">
     , in this case), React will re-evaluate the component to which the state belongs.
    </span>
    <span class="koboSpan" id="kobo.1516.2">
     This means that the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1517.1">
      CharCounter
     </span>
    </code>
    <span class="koboSpan" id="kobo.1518.1">
     component function will be called again by React.
    </span>
    <span class="koboSpan" id="kobo.1518.2">
     All the code in that function is therefore executed again.
    </span>
   </p>
   <figure class="mediaobject">
    <span class="koboSpan" id="kobo.1519.1">
     <img alt="A diagram of a component  Description automatically generated" src="image/B31339_04_03.png"/>
    </span>
   </figure>
   <p class="packt_figref">
    <span class="koboSpan" id="kobo.1520.1">
     Figure 4.3: The numChars value is derived from state when the component function executes again
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1521.1">
     React does re-execute component functions to determine what the UI should look like after the state update; and, if it detects any differences compared to the currently rendered UI, React will go
    </span>
    <a id="_idIndexMarker172">
    </a>
    <span class="koboSpan" id="kobo.1522.1">
     ahead and update the browser UI (that is, the DOM) accordingly.
    </span>
    <span class="koboSpan" id="kobo.1522.2">
     Otherwise, nothing will happen.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1523.1">
     Since React calls the component function again,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1524.1">
      useState()
     </span>
    </code>
    <span class="koboSpan" id="kobo.1525.1">
     will yield its array of values (current state value and state-updating function).
    </span>
    <span class="koboSpan" id="kobo.1525.2">
     The current state value will be the state to which it was set when
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1526.1">
      setUserInput
     </span>
    </code>
    <span class="koboSpan" id="kobo.1527.1">
     was called.
    </span>
    <span class="koboSpan" id="kobo.1527.2">
     Therefore, this new
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1528.1">
      userInput
     </span>
    </code>
    <span class="koboSpan" id="kobo.1529.1">
     value can be used to perform other calculations anywhere in the component function—such as deriving
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1530.1">
      numChars
     </span>
    </code>
    <span class="koboSpan" id="kobo.1531.1">
     by accessing the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1532.1">
      length
     </span>
    </code>
    <span class="koboSpan" id="kobo.1533.1">
     property of
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1534.1">
      userInput
     </span>
    </code>
    <span class="koboSpan" id="kobo.1535.1">
     (as shown in
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1536.1">
      Figure 4.3
     </span>
    </em>
    <span class="koboSpan" id="kobo.1537.1">
     ).
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1538.1">
     That’s why
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1539.1">
      numChars
     </span>
    </code>
    <span class="koboSpan" id="kobo.1540.1">
     can be a constant.
    </span>
    <span class="koboSpan" id="kobo.1540.2">
     For this component execution, it won’t be re-assigned.
    </span>
    <span class="koboSpan" id="kobo.1540.3">
     A new value might only be derived when the component function is executed again in the future (that is if
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1541.1">
      setUserInput
     </span>
    </code>
    <span class="koboSpan" id="kobo.1542.1">
     is called again).
    </span>
    <span class="koboSpan" id="kobo.1542.2">
     In that case, a brand-new
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1543.1">
      numChars
     </span>
    </code>
    <span class="koboSpan" id="kobo.1544.1">
     constant would be created (and the old one would be discarded).
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-85">
    <span class="koboSpan" id="kobo.1545.1">
     Working with Forms and Form Submission
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.1546.1">
     State is commonly used when
    </span>
    <a id="_idIndexMarker173">
    </a>
    <span class="koboSpan" id="kobo.1547.1">
     working with forms and user input.
    </span>
    <span class="koboSpan" id="kobo.1547.2">
     Indeed, most examples in this chapter dealt with some form of user input.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1548.1">
     Up to this point, all examples
    </span>
    <a id="_idIndexMarker174">
    </a>
    <span class="koboSpan" id="kobo.1549.1">
     focused on listening to user events that are directly attached to individual input elements.
    </span>
    <span class="koboSpan" id="kobo.1549.2">
     That makes sense because you will often want to listen to events such as keystrokes or an input losing focus.
    </span>
    <span class="koboSpan" id="kobo.1549.3">
     Especially when adding input validation (that is, checking entered values), you might want to use input events to give website users useful feedback while they’re typing.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1550.1">
     But it’s also quite common to react to the overall form submission.
    </span>
    <span class="koboSpan" id="kobo.1550.2">
     For example, the goal could be to combine the input from various input fields and send the data to some backend server.
    </span>
    <span class="koboSpan" id="kobo.1550.3">
     How could you achieve this?
    </span>
    <span class="koboSpan" id="kobo.1550.4">
     How can you listen and react to the submission of a form?
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1551.1">
     You can do all these things with the help of standard JavaScript events and the appropriate event handler props provided by React.
    </span>
    <span class="koboSpan" id="kobo.1551.2">
     Specifically, the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1552.1">
      onSubmit
     </span>
    </code>
    <span class="koboSpan" id="kobo.1553.1">
     prop can be added to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1554.1">
      &lt;form&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.1555.1">
     elements to assign a function that should be executed once a form is submitted.
    </span>
    <span class="koboSpan" id="kobo.1555.2">
     To then handle the submission with React and JavaScript, you must ensure that the browser won’t do its default thing and generate (and send) an HTTP request automatically.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1556.1">
     As in vanilla JavaScript, this
    </span>
    <a id="_idIndexMarker175">
    </a>
    <span class="koboSpan" id="kobo.1557.1">
     can be achieved by calling the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1558.1">
      preventDefault()
     </span>
    </code>
    <span class="koboSpan" id="kobo.1559.1">
     method
    </span>
    <a id="_idIndexMarker176">
    </a>
    <span class="koboSpan" id="kobo.1560.1">
     on the automatically generated event object.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1561.1">
     Here’s a full example:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1562.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1563.1">NewsletterSignup</span></span><span class="koboSpan" id="kobo.1564.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1565.1">const</span></span><span class="koboSpan" id="kobo.1566.1"> [email, setEmail] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.1567.1">useState</span></span><span class="koboSpan" id="kobo.1568.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.1569.1">''</span></span><span class="koboSpan" id="kobo.1570.1">);
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1571.1">const</span></span><span class="koboSpan" id="kobo.1572.1"> [agreed, setAgreed] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.1573.1">useState</span></span><span class="koboSpan" id="kobo.1574.1">(</span><span class="hljs-literal"><span class="koboSpan" id="kobo.1575.1">false</span></span><span class="koboSpan" id="kobo.1576.1">);
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1577.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1578.1">handleUpdateEmail</span></span><span class="koboSpan" id="kobo.1579.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1580.1">event</span></span><span class="koboSpan" id="kobo.1581.1">) {
    </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1582.1">// could add email validation here</span></span>
    <span class="hljs-title"><span class="koboSpan" id="kobo.1583.1">setEmail</span></span><span class="koboSpan" id="kobo.1584.1">(event.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1585.1">target</span></span><span class="koboSpan" id="kobo.1586.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1587.1">value</span></span><span class="koboSpan" id="kobo.1588.1">);
  };
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1589.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1590.1">handleUpdateAgreement</span></span><span class="koboSpan" id="kobo.1591.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1592.1">event</span></span><span class="koboSpan" id="kobo.1593.1">) {
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.1594.1">setAgreed</span></span><span class="koboSpan" id="kobo.1595.1">(event.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1596.1">target</span></span><span class="koboSpan" id="kobo.1597.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1598.1">checked</span></span><span class="koboSpan" id="kobo.1599.1">); </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1600.1">// checked is a default JS boolean property</span></span><span class="koboSpan" id="kobo.1601.1">
  };
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1602.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1603.1">handleSignup</span></span><span class="koboSpan" id="kobo.1604.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1605.1">event</span></span><span class="koboSpan" id="kobo.1606.1">) {
    event.</span><span class="hljs-title"><span class="koboSpan" id="kobo.1607.1">preventDefault</span></span><span class="koboSpan" id="kobo.1608.1">(); </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1609.1">// prevent browser default of sending a Http request</span></span>
    <span class="hljs-keyword"><span class="koboSpan" id="kobo.1610.1">const</span></span><span class="koboSpan" id="kobo.1611.1"> userData = {</span><span class="hljs-attr"><span class="koboSpan" id="kobo.1612.1">userEmail</span></span><span class="koboSpan" id="kobo.1613.1">: email, </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1614.1">userAgrees</span></span><span class="koboSpan" id="kobo.1615.1">: agreed};
    </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1616.1">// doWhateverYouWant(userData);</span></span><span class="koboSpan" id="kobo.1617.1">
  };
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1618.1">return</span></span><span class="koboSpan" id="kobo.1619.1"> (
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1620.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1621.1">form</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1622.1">onSubmit</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1623.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1624.1">{handleSignup}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1625.1">&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1626.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1627.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1628.1">&gt;</span></span>
<span class="language-xml">        </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1629.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1630.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1631.1">htmlFor</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1632.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1633.1">"email"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1634.1">&gt;</span></span><span class="language-xml"><span class="koboSpan" id="kobo.1635.1">Your email</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1636.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1637.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1638.1">&gt;</span></span>
<span class="language-xml">        </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1639.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1640.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1641.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1642.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1643.1">"email"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1644.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1645.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1646.1">"email"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1647.1">onChange</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1648.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1649.1">{handleUpdateEmail}/</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1650.1">&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1651.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1652.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1653.1">&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1654.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1655.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1656.1">&gt;</span></span>
<span class="language-xml">        </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1657.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1658.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1659.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1660.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1661.1">"checkbox"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1662.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1663.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1664.1">"agree"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1665.1">onChange</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1666.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1667.1">{handleUpdateAgreement}/</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1668.1">&gt;</span></span>
<span class="language-xml">        </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1669.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1670.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1671.1">htmlFor</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1672.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1673.1">"agree"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1674.1">&gt;</span></span><span class="language-xml"><span class="koboSpan" id="kobo.1675.1">Agree to terms and conditions</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1676.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1677.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1678.1">&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1679.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1680.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1681.1">&gt;</span></span>
<span class="language-xml">    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1682.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1683.1">form</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1684.1">&gt;</span></span><span class="koboSpan" id="kobo.1685.1">
  );
};
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1686.1">
     This code snippet handles form submission via the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1687.1">
      handleSignup()
     </span>
    </code>
    <span class="koboSpan" id="kobo.1688.1">
     function that’s assigned to the built-in
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1689.1">
      onSubmit
     </span>
    </code>
    <span class="koboSpan" id="kobo.1690.1">
     prop.
    </span>
    <span class="koboSpan" id="kobo.1690.2">
     User input is still
    </span>
    <a id="_idIndexMarker177">
    </a>
    <span class="koboSpan" id="kobo.1691.1">
     fetched with the help of two state slices (
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1692.1">
      email
     </span>
    </code>
    <span class="koboSpan" id="kobo.1693.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1694.1">
      agreed
     </span>
    </code>
    <span class="koboSpan" id="kobo.1695.1">
     ), which
    </span>
    <a id="_idIndexMarker178">
    </a>
    <span class="koboSpan" id="kobo.1696.1">
     are updated upon the inputs’ change events.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.1697.1">
       Note
      </span>
     </strong>
    </p>
    <p class="normal">
     <span class="koboSpan" id="kobo.1698.1">
      In the preceding code example, you might’ve noticed a new prop that wasn’t used before in this book:
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1699.1">
       htmlFor
      </span>
     </code>
     <span class="koboSpan" id="kobo.1700.1">
      .
     </span>
     <span class="koboSpan" id="kobo.1700.2">
      This is a special prop, built into React and the core JSX elements it provides.
     </span>
     <span class="koboSpan" id="kobo.1700.3">
      It can be added to
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1701.1">
       &lt;label&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.1702.1">
      elements in order to set the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1703.1">
       for
      </span>
     </code>
     <span class="koboSpan" id="kobo.1704.1">
      attribute for these elements.
     </span>
     <span class="koboSpan" id="kobo.1704.2">
      The reason it is called
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1705.1">
       htmlFor
      </span>
     </code>
     <span class="koboSpan" id="kobo.1706.1">
      instead of just
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1707.1">
       for
      </span>
     </code>
     <span class="koboSpan" id="kobo.1708.1">
      is that, as explained earlier in the book, JSX looks like HTML but isn’t HTML.
     </span>
     <span class="koboSpan" id="kobo.1708.2">
      It’s JavaScript under the hood.
     </span>
     <span class="koboSpan" id="kobo.1708.3">
      In JavaScript,
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1709.1">
       for
      </span>
     </code>
     <span class="koboSpan" id="kobo.1710.1">
      is a reserved keyword for
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1711.1">
       for
      </span>
     </code>
     <span class="koboSpan" id="kobo.1712.1">
      loops.
     </span>
     <span class="koboSpan" id="kobo.1712.2">
      To prevent problems, the prop is therefore named
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1713.1">
       htmlFor
      </span>
     </code>
     <span class="koboSpan" id="kobo.1714.1">
      .
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.1715.1">
     Using
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1716.1">
      onSubmit
     </span>
    </code>
    <span class="koboSpan" id="kobo.1717.1">
     (combined with
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1718.1">
      preventDefault()
     </span>
    </code>
    <span class="koboSpan" id="kobo.1719.1">
     ) for handling form submissions is a very common way of dealing with user input and forms in React.
    </span>
    <span class="koboSpan" id="kobo.1719.2">
     But when working on projects that use React 19 or higher, you can also use an alternative way for handling form submissions: you can use a
    </span>
    <a id="_idIndexMarker179">
    </a>
    <span class="koboSpan" id="kobo.1720.1">
     React feature called
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.1721.1">
      Form Actions
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1722.1">
     , which will be covered in great detail in
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1723.1">
      Chapter 9
     </span>
    </em>
    <span class="koboSpan" id="kobo.1724.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1725.1">
      Handling User Input &amp; Forms with Form Actions
     </span>
    </em>
    <span class="koboSpan" id="kobo.1726.1">
     .
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-86">
    <span class="koboSpan" id="kobo.1727.1">
     Lifting State Up
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.1728.1">
     Here’s a common scenario and problem: you have two components in your React app and a change or event in
    </span>
    <a id="_idIndexMarker180">
    </a>
    <span class="koboSpan" id="kobo.1729.1">
     component A should change the state in component B.
    </span>
    <span class="koboSpan" id="kobo.1729.2">
     To make this less abstract, consider the following simple example:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1730.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1731.1">SearchBar</span></span><span class="koboSpan" id="kobo.1732.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1733.1">const</span></span><span class="koboSpan" id="kobo.1734.1"> [searchTerm, setSearchTerm] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.1735.1">useState</span></span><span class="koboSpan" id="kobo.1736.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.1737.1">''</span></span><span class="koboSpan" id="kobo.1738.1">);
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1739.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1740.1">handleUpdateSearchTerm</span></span><span class="koboSpan" id="kobo.1741.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1742.1">event</span></span><span class="koboSpan" id="kobo.1743.1">) {
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.1744.1">setSearchTerm</span></span><span class="koboSpan" id="kobo.1745.1">(event.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1746.1">target</span></span><span class="koboSpan" id="kobo.1747.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1748.1">value</span></span><span class="koboSpan" id="kobo.1749.1">);
  };
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1750.1">return</span></span> <span class="hljs-tag"><span class="koboSpan" id="kobo.1751.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1752.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1753.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1754.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1755.1">"search"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1756.1">onChange</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1757.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1758.1">{handleUpdateSearchTerm}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1759.1"> /&gt;</span></span><span class="koboSpan" id="kobo.1760.1">;
};
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1761.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1762.1">Overview</span></span><span class="koboSpan" id="kobo.1763.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1764.1">return</span></span> <span class="hljs-tag"><span class="koboSpan" id="kobo.1765.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1766.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1767.1">&gt;</span></span><span class="language-xml"><span class="koboSpan" id="kobo.1768.1">Currently searching for {searchTerm}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1769.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1770.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1771.1">&gt;</span></span><span class="koboSpan" id="kobo.1772.1">;
};
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1773.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1774.1">App</span></span><span class="koboSpan" id="kobo.1775.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1776.1">return</span></span><span class="koboSpan" id="kobo.1777.1"> (
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1778.1">&lt;&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1779.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1780.1">SearchBar</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1781.1"> /&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1782.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1783.1">Overview</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1784.1"> /&gt;</span></span>
<span class="language-xml">    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1785.1">&lt;/&gt;</span></span><span class="koboSpan" id="kobo.1786.1">
  );
};
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1787.1">
     In this example, the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1788.1">
      Overview
     </span>
    </code>
    <span class="koboSpan" id="kobo.1789.1">
     component should output the entered search term.
    </span>
    <span class="koboSpan" id="kobo.1789.2">
     However, the search term is actually managed in another component—namely, the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1790.1">
      SearchBar
     </span>
    </code>
    <span class="koboSpan" id="kobo.1791.1">
     component.
    </span>
    <span class="koboSpan" id="kobo.1791.2">
     In this simple example, the two components could of course be merged into one single component, and the problem would be solved.
    </span>
    <span class="koboSpan" id="kobo.1791.3">
     But it’s very likely that when building more realistic apps, you’ll face similar scenarios but with way more complex components.
    </span>
    <span class="koboSpan" id="kobo.1791.4">
     Breaking
    </span>
    <a id="_idIndexMarker181">
    </a>
    <span class="koboSpan" id="kobo.1792.1">
     components up into smaller pieces is considered a good practice since it keeps the individual components manageable.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1793.1">
     Having multiple components depend on some shared piece of state is therefore a scenario you will face frequently when working with React.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1794.1">
     This problem can be solved by
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1795.1">
      lifting state up
     </span>
    </em>
    <span class="koboSpan" id="kobo.1796.1">
     .
    </span>
    <span class="koboSpan" id="kobo.1796.2">
     When lifting state up, the state is not managed in either of the two components that use it—neither in
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1797.1">
      Overview
     </span>
    </code>
    <span class="koboSpan" id="kobo.1798.1">
     , which reads the state, nor in
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1799.1">
      SearchBar
     </span>
    </code>
    <span class="koboSpan" id="kobo.1800.1">
     , which sets the state—but in a shared ancestor component instead.
    </span>
    <span class="koboSpan" id="kobo.1800.2">
     To be precise, it is managed in the
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.1801.1">
      closest
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1802.1">
     shared ancestor component.
    </span>
    <span class="koboSpan" id="kobo.1802.2">
     Keep in mind that components are nested into each other and thus a “tree of components” (with the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1803.1">
      App
     </span>
    </code>
    <span class="koboSpan" id="kobo.1804.1">
     component as the root component) is built up in the end.
    </span>
   </p>
   <figure class="mediaobject">
    <span class="koboSpan" id="kobo.1805.1">
     <img alt="img" src="image/B31339_04_04.jpg"/>
    </span>
   </figure>
   <p class="packt_figref">
    <span class="koboSpan" id="kobo.1806.1">
     Figure 4.4: An example component tree
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1807.1">
     In the previous simple code example, the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1808.1">
      App
     </span>
    </code>
    <span class="koboSpan" id="kobo.1809.1">
     component is the closest (and, in this case, only) ancestor component of both
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1810.1">
      SearchBar
     </span>
    </code>
    <span class="koboSpan" id="kobo.1811.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1812.1">
      Overview
     </span>
    </code>
    <span class="koboSpan" id="kobo.1813.1">
     .
    </span>
    <span class="koboSpan" id="kobo.1813.2">
     If the app was structured as shown in the figure, with state set in one of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1814.1">
      Product
     </span>
    </code>
    <span class="koboSpan" id="kobo.1815.1">
     components and used in
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1816.1">
      Cart
     </span>
    </code>
    <span class="koboSpan" id="kobo.1817.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1818.1">
      Products
     </span>
    </code>
    <span class="koboSpan" id="kobo.1819.1">
     would be the closest
    </span>
    <a id="_idIndexMarker182">
    </a>
    <span class="koboSpan" id="kobo.1820.1">
     ancestor component.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1821.1">
     State is lifted by using props in the components that need to manipulate (that is, set) or read state, and by registering state in the ancestor component that is shared by the two other components.
    </span>
    <span class="koboSpan" id="kobo.1821.2">
     Here’s the updated example from previously:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1822.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1823.1">SearchBar</span></span><span class="koboSpan" id="kobo.1824.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1825.1">{onUpdateSearch}</span></span><span class="koboSpan" id="kobo.1826.1">) {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1827.1">return</span></span> <span class="hljs-tag"><span class="koboSpan" id="kobo.1828.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1829.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1830.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1831.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1832.1">"search"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1833.1">onChange</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1834.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1835.1">{onUpdateSearch}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1836.1"> /&gt;</span></span><span class="koboSpan" id="kobo.1837.1">;
};
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1838.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1839.1">Overview</span></span><span class="koboSpan" id="kobo.1840.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1841.1">{currentTerm}</span></span><span class="koboSpan" id="kobo.1842.1">) {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1843.1">return</span></span> <span class="hljs-tag"><span class="koboSpan" id="kobo.1844.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1845.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1846.1">&gt;</span></span><span class="language-xml"><span class="koboSpan" id="kobo.1847.1">Currently searching for {currentTerm}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1848.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1849.1">p</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1850.1">&gt;</span></span><span class="koboSpan" id="kobo.1851.1">;
};
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1852.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1853.1">App</span></span><span class="koboSpan" id="kobo.1854.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1855.1">const</span></span><span class="koboSpan" id="kobo.1856.1"> [searchTerm, setSearchTerm] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.1857.1">useState</span></span><span class="koboSpan" id="kobo.1858.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.1859.1">''</span></span><span class="koboSpan" id="kobo.1860.1">);
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1861.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1862.1">handleUpdateSearchTerm</span></span><span class="koboSpan" id="kobo.1863.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1864.1">event</span></span><span class="koboSpan" id="kobo.1865.1">) {
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.1866.1">setSearchTerm</span></span><span class="koboSpan" id="kobo.1867.1">(event.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1868.1">target</span></span><span class="koboSpan" id="kobo.1869.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1870.1">value</span></span><span class="koboSpan" id="kobo.1871.1">);
  };
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1872.1">return</span></span><span class="koboSpan" id="kobo.1873.1"> (
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1874.1">&lt;&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1875.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1876.1">SearchBar</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1877.1">onUpdateSearch</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1878.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1879.1">{handleUpdateSearchTerm}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1880.1"> /&gt;</span></span>
<span class="language-xml">      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1881.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1882.1">Overview</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1883.1">currentTerm</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1884.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1885.1">{searchTerm}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1886.1"> /&gt;</span></span>
<span class="language-xml">    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1887.1">&lt;/&gt;</span></span><span class="koboSpan" id="kobo.1888.1">
  );
};
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1889.1">
     The code didn’t actually change that much; it mostly moved around a bit.
    </span>
    <span class="koboSpan" id="kobo.1889.2">
     The state is now managed inside of the shared ancestor and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1890.1">
      App
     </span>
    </code>
    <span class="koboSpan" id="kobo.1891.1">
     component, and the two other components get access to it via
    </span>
    <a id="_idIndexMarker183">
    </a>
    <span class="koboSpan" id="kobo.1892.1">
     props.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1893.1">
     Three key things are happening in this example:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.1894.1">
      The
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1895.1">
       SearchBar
      </span>
     </code>
     <span class="koboSpan" id="kobo.1896.1">
      component receives a prop called
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1897.1">
       onUpdateSearch
      </span>
     </code>
     <span class="koboSpan" id="kobo.1898.1">
      , whose value is a function—a function created in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1899.1">
       App
      </span>
     </code>
     <span class="koboSpan" id="kobo.1900.1">
      component and passed down to
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1901.1">
       SearchBar
      </span>
     </code>
     <span class="koboSpan" id="kobo.1902.1">
      from
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1903.1">
       App
      </span>
     </code>
     <span class="koboSpan" id="kobo.1904.1">
      .
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.1905.1">
      The
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1906.1">
       onUpdateSearch
      </span>
     </code>
     <span class="koboSpan" id="kobo.1907.1">
      prop is then set as a value to the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1908.1">
       onChange
      </span>
     </code>
     <span class="koboSpan" id="kobo.1909.1">
      prop on the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1910.1">
       &lt;input&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.1911.1">
      element inside of the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1912.1">
       SearchBar
      </span>
     </code>
     <span class="koboSpan" id="kobo.1913.1">
      component.
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.1914.1">
      The
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1915.1">
       searchTerm
      </span>
     </code>
     <span class="koboSpan" id="kobo.1916.1">
      state (that is, its current value) is passed from
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1917.1">
       App
      </span>
     </code>
     <span class="koboSpan" id="kobo.1918.1">
      to
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1919.1">
       Overview
      </span>
     </code>
     <span class="koboSpan" id="kobo.1920.1">
      via a prop named
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1921.1">
       currentTerm
      </span>
     </code>
     <span class="koboSpan" id="kobo.1922.1">
      .
     </span>
    </li>
   </ol>
   <p class="normal">
    <span class="koboSpan" id="kobo.1923.1">
     The first two points could be confusing.
    </span>
    <span class="koboSpan" id="kobo.1923.2">
     But keep in mind that, in JavaScript, functions are first-class objects and regular values.
    </span>
    <span class="koboSpan" id="kobo.1923.3">
     You can store functions in variables and, when using React, pass functions as values for props.
    </span>
    <span class="koboSpan" id="kobo.1923.4">
     Indeed, you could already see that in action at the very beginning of this chapter.
    </span>
    <span class="koboSpan" id="kobo.1923.5">
     When introducing events and event handling, functions were provided as values to all these
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1924.1">
      onXYZ
     </span>
    </code>
    <span class="koboSpan" id="kobo.1925.1">
     props (
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1926.1">
      onChange
     </span>
    </code>
    <span class="koboSpan" id="kobo.1927.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1928.1">
      onBlur
     </span>
    </code>
    <span class="koboSpan" id="kobo.1929.1">
     , and so on).
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1930.1">
     In this code snippet, a function is passed as a value for a custom prop (that is, a prop expected in a component created by you, not built into React).
    </span>
    <span class="koboSpan" id="kobo.1930.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1931.1">
      onUpdateSearch
     </span>
    </code>
    <span class="koboSpan" id="kobo.1932.1">
     prop expects a function as a value because the prop is then itself being used as a value for the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1933.1">
      onChange
     </span>
    </code>
    <span class="koboSpan" id="kobo.1934.1">
     prop on the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1935.1">
      &lt;input&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.1936.1">
     element.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1937.1">
     The prop is named
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1938.1">
      onUpdateSearch
     </span>
    </code>
    <span class="koboSpan" id="kobo.1939.1">
     to make it clear that it expects a function as a value and that it will be connected to an event.
    </span>
    <span class="koboSpan" id="kobo.1939.2">
     Any name could’ve been chosen though; it doesn’t have to start with
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1940.1">
      on
     </span>
    </code>
    <span class="koboSpan" id="kobo.1941.1">
     .
    </span>
    <span class="koboSpan" id="kobo.1941.2">
     But it’s a common convention to name props that expect functions as values and that are intended to be connected to events like this.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1942.1">
     Of course,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1943.1">
      updateSearch
     </span>
    </code>
    <span class="koboSpan" id="kobo.1944.1">
     is not a default event, but since the function will effectively be called upon the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1945.1">
      change
     </span>
    </code>
    <span class="koboSpan" id="kobo.1946.1">
     event of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1947.1">
      &lt;input&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.1948.1">
     element, the prop acts like a custom event.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1949.1">
     With this structure, the state was lifted up to the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1950.1">
      App
     </span>
    </code>
    <span class="koboSpan" id="kobo.1951.1">
     component.
    </span>
    <span class="koboSpan" id="kobo.1951.2">
     This component registers and manages the state.
    </span>
    <span class="koboSpan" id="kobo.1951.3">
     However, it also exposes the state-updating function (indirectly, in this case, as it is wrapped by the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1952.1">
      handleUpdateSearchTerm
     </span>
    </code>
    <span class="koboSpan" id="kobo.1953.1">
     function) to the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1954.1">
      SearchBar
     </span>
    </code>
    <span class="koboSpan" id="kobo.1955.1">
     component.
    </span>
    <span class="koboSpan" id="kobo.1955.2">
     It also provides the current state value (
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1956.1">
      searchTerm
     </span>
    </code>
    <span class="koboSpan" id="kobo.1957.1">
     ) to the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1958.1">
      Overview
     </span>
    </code>
    <span class="koboSpan" id="kobo.1959.1">
     component via the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1960.1">
      currentTerm
     </span>
    </code>
    <span class="koboSpan" id="kobo.1961.1">
     prop.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1962.1">
     Since the child and descendent components are also re-evaluated by React when state changes in a component, changes in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1963.1">
      App
     </span>
    </code>
    <span class="koboSpan" id="kobo.1964.1">
     component will also lead to the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1965.1">
      SearchBar
     </span>
    </code>
    <span class="koboSpan" id="kobo.1966.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1967.1">
      Overview
     </span>
    </code>
    <span class="koboSpan" id="kobo.1968.1">
     components
    </span>
    <a id="_idIndexMarker184">
    </a>
    <span class="koboSpan" id="kobo.1969.1">
     being re-evaluated.
    </span>
    <span class="koboSpan" id="kobo.1969.2">
     Therefore, the new prop value for
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1970.1">
      searchTerm
     </span>
    </code>
    <span class="koboSpan" id="kobo.1971.1">
     will be picked up, and the UI will be updated by React.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1972.1">
     No new React features are needed for this.
    </span>
    <span class="koboSpan" id="kobo.1972.2">
     It’s only a combination of state and props.
    </span>
    <span class="koboSpan" id="kobo.1972.3">
     However, depending on how these features are connected and where they are used, both simple and more complex app patterns can be achieved.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-87">
    <span class="koboSpan" id="kobo.1973.1">
     Summary and Key Takeaways
    </span>
   </h1>
   <ul>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.1974.1">
      Event handlers can be added to JSX elements via
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1975.1">
       on[EventName]
      </span>
     </code>
     <span class="koboSpan" id="kobo.1976.1">
      props (for example,
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1977.1">
       onClick
      </span>
     </code>
     <span class="koboSpan" id="kobo.1978.1">
      ,
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1979.1">
       onChange
      </span>
     </code>
     <span class="koboSpan" id="kobo.1980.1">
      ).
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.1981.1">
      Any function can be executed upon (user) events.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.1982.1">
      In order to force React to re-evaluate components and (possibly) update the rendered UI, state must be used.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.1983.1">
      State refers to data managed internally by React, and a state value can be defined via the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1984.1">
       useState()
      </span>
     </code>
     <span class="koboSpan" id="kobo.1985.1">
      Hook.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.1986.1">
      React Hooks are JavaScript functions that add special features to React components (for example, the state feature, in this chapter).
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1987.1">
       useState()
      </span>
     </code>
     <span class="koboSpan" id="kobo.1988.1">
      always returns an array with exactly two elements:
     </span>
     <ul>
      <li class="bulletList level-2">
       <span class="koboSpan" id="kobo.1989.1">
        The
       </span>
       <strong class="keyWord">
        <span class="koboSpan" id="kobo.1990.1">
         first element
        </span>
       </strong>
       <span class="koboSpan" id="kobo.1991.1">
        is the current state value.
       </span>
      </li>
      <li class="bulletList level-2">
       <span class="koboSpan" id="kobo.1992.1">
        The
       </span>
       <strong class="keyWord">
        <span class="koboSpan" id="kobo.1993.1">
         second element
        </span>
       </strong>
       <span class="koboSpan" id="kobo.1994.1">
        is a function to set the state to a new value (the
       </span>
       <em class="italic">
        <span class="koboSpan" id="kobo.1995.1">
         state-updating function
        </span>
       </em>
       <span class="koboSpan" id="kobo.1996.1">
        ).
       </span>
      </li>
     </ul>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.1997.1">
      When setting the state to a new value that depends on the previous value, a function should be passed to the state-updating function.
     </span>
     <span class="koboSpan" id="kobo.1997.2">
      This function then receives the previous state as a parameter (which will be provided automatically by React) and returns the new state that should be set.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.1998.1">
      Any valid JavaScript value can be set as state—besides primitive values such as strings or numbers.
     </span>
     <span class="koboSpan" id="kobo.1998.2">
      This also includes reference values such as objects and arrays.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.1999.1">
      If state needs to change because of some event that occurs in another component, you should
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.2000.1">
       lift the state up
      </span>
     </em>
     <span class="koboSpan" id="kobo.2001.1">
      and manage it on a higher, shared level (that is, a common ancestor component).
     </span>
    </li>
   </ul>
   <h2 class="heading-2" id="_idParaDest-88">
    <span class="koboSpan" id="kobo.2002.1">
     What’s Next?
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.2003.1">
     State is an extremely important building block because it enables you to build truly dynamic applications.
    </span>
    <span class="koboSpan" id="kobo.2003.2">
     With this key concept out of the way, the next chapter will dive into utilizing state (and other concepts learned thus far) to render content conditionally and to render lists of content.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.2004.1">
     These are common tasks that are required in almost any UI or web app you’re building, no matter whether it’s about showing a warning overlay or displaying a list of products.
    </span>
    <span class="koboSpan" id="kobo.2004.2">
     The next chapter will help you add such features to your React apps.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-89">
    <span class="koboSpan" id="kobo.2005.1">
     Test Your Knowledge!
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.2006.1">
     Test your knowledge about the concepts covered in this chapter by answering the following questions.
    </span>
    <span class="koboSpan" id="kobo.2006.2">
     You can then compare your answers to examples that can be found at
    </span>
    <a href="https://github.com/mschwarzmueller/book-react-key-concepts-e2/blob/04-state-events/exercises/questions-answers.md">
     <span class="url">
      <span class="koboSpan" id="kobo.2007.1">
       https://github.com/mschwarzmueller/book-react-key-concepts-e2/blob/04-state-events/exercises/questions-answers.md
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.2008.1">
     .
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.2009.1">
      Which “problem” does state solve?
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2010.1">
      What’s the difference between props and state?
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2011.1">
      How is state registered in a component?
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2012.1">
      Which values does the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2013.1">
       useState()
      </span>
     </code>
     <span class="koboSpan" id="kobo.2014.1">
      Hook provide?
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2015.1">
      How many state values can be registered for a single component?
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2016.1">
      Does state affect other components (than the component in which it was registered) as well?
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2017.1">
      How should state be updated if the new state depends on the previous state?
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2018.1">
      How can state be shared across multiple components?
     </span>
    </li>
   </ol>
   <h1 class="heading-1" id="_idParaDest-90">
    <span class="koboSpan" id="kobo.2019.1">
     Apply What You Learned
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.2020.1">
     With the new knowledge gained in this chapter, you are finally able to build truly dynamic UIs and React applications.
    </span>
    <span class="koboSpan" id="kobo.2020.2">
     Instead of being limited to hardcoded, static content and pages, you can now use state to set and update values and force React to re-evaluate components and the UI.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.2021.1">
     Here, you will find an activity that allows you to apply all the knowledge, including this new state knowledge, you have acquired up to this point.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-91">
    <span class="koboSpan" id="kobo.2022.1">
     Activity 4.1: Building a Simple Calculator
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.2023.1">
     In this activity, you’ll build a very basic
    </span>
    <a id="_idIndexMarker185">
    </a>
    <span class="koboSpan" id="kobo.2024.1">
     calculator that allows users to add, subtract, multiply, and divide two numbers with each other.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.2025.1">
     The steps are as follows:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.2026.1">
      Build the UI by using React components.
     </span>
     <span class="koboSpan" id="kobo.2026.2">
      Be sure to build four separate components for the four math operations, even though lots of code could be reused.
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2027.1">
      Collect the user input and update the result whenever the user enters a value into one of the two related input fields.
     </span>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.2028.1">
     Note that when working with numbers and getting those numbers from user input, you will need to ensure that the entered values are treated as numbers and not as strings.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.2029.1">
     The final result and UI of the calculator should look like this:
    </span>
   </p>
   <figure class="mediaobject">
    <span class="koboSpan" id="kobo.2030.1">
     <img alt="img" src="image/B31339_04_05.png"/>
    </span>
   </figure>
   <p class="packt_figref">
    <span class="koboSpan" id="kobo.2031.1">
     Figure 4.5: Calculator UI
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.2032.1">
       Note
      </span>
     </strong>
    </p>
    <p class="normal">
     <span class="koboSpan" id="kobo.2033.1">
      Styling will, of course, differ.
     </span>
     <span class="koboSpan" id="kobo.2033.2">
      To get the same styling as shown in the screenshot, use my prepared starting project, which you can find here:
     </span>
     <a href="https://github.com/mschwarzmueller/book-react-key-concepts-e2/tree/04-state-events/activities/practice-1-start">
      <span class="url">
       <span class="koboSpan" id="kobo.2034.1">
        https://github.com/mschwarzmueller/book-react-key-concepts-e2/tree/04-state-events/activities/practice-1-start
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.2035.1">
      .
     </span>
    </p>
    <p class="normal">
     <span class="koboSpan" id="kobo.2036.1">
      Analyze the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2037.1">
       index.css
      </span>
     </code>
     <span class="koboSpan" id="kobo.2038.1">
      file in that project to determine how to structure your JSX code to apply the styles.
     </span>
    </p>
   </div>
   <div class="note">
    <p class="normal">
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.2039.1">
       Note
      </span>
     </strong>
    </p>
    <p class="normal">
     <span class="koboSpan" id="kobo.2040.1">
      You’ll find the full
     </span>
     <a id="_idIndexMarker186">
     </a>
     <span class="koboSpan" id="kobo.2041.1">
      example solution here:
     </span>
     <a href="https://github.com/mschwarzmueller/book-react-key-concepts-e2/tree/04-state-events/activities/practice-1">
      <span class="url">
       <span class="koboSpan" id="kobo.2042.1">
        https://github.com/mschwarzmueller/book-react-key-concepts-e2/tree/04-state-events/activities/practice-1
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.2043.1">
      .
     </span>
    </p>
   </div>
   <h2 class="heading-2" id="_idParaDest-92">
    <span class="koboSpan" id="kobo.2044.1">
     Activity 4.2: Enhancing the Calculator
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.2045.1">
     In this activity, you’ll build upon
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.2046.1">
      Activity 4.1
     </span>
    </em>
    <span class="koboSpan" id="kobo.2047.1">
     to make the calculator built there slightly more complex.
    </span>
    <span class="koboSpan" id="kobo.2047.2">
     The goal is to reduce the number of components and build one single component in which users can select the mathematical operation via a drop-down element.
    </span>
    <span class="koboSpan" id="kobo.2047.3">
     In addition, the result
    </span>
    <a id="_idIndexMarker187">
    </a>
    <span class="koboSpan" id="kobo.2048.1">
     should be output in a different component—that is, not in the component where the user input is gathered.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.2049.1">
     The steps are as follows:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.2050.1">
      Remove three of the four components from the previous activity and use one single component for all mathematical operations.
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2051.1">
      Add a drop-down element (
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2052.1">
       &lt;select&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.2053.1">
      element) to that remaining component (between the two inputs) and add the four math operations as options (
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2054.1">
       &lt;option&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.2055.1">
      elements) to it.
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2056.1">
      Use state to gather both the numbers entered by the user and the math operation chosen via the drop-down (it’s up to you whether you prefer one single state object or multiple state slices).
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2057.1">
      Output the result in another component.
     </span>
     <span class="koboSpan" id="kobo.2057.2">
      (Hint: choose a good place for registering and managing the state.)
     </span>
    </li>
   </ol>
   <p class="normal">
    <span class="koboSpan" id="kobo.2058.1">
     The result and UI of the calculator should look like this:
    </span>
   </p>
   <figure class="mediaobject">
    <span class="koboSpan" id="kobo.2059.1">
     <img alt="img" src="image/B31339_04_06.png"/>
    </span>
   </figure>
   <p class="packt_figref">
    <span class="koboSpan" id="kobo.2060.1">
     Figure 4.6: UI of the enhanced calculator
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.2061.1">
       Note
      </span>
     </strong>
    </p>
    <p class="normal">
     <span class="koboSpan" id="kobo.2062.1">
      You’ll find the full example
     </span>
     <a id="_idIndexMarker188">
     </a>
     <span class="koboSpan" id="kobo.2063.1">
      solution here:
     </span>
     <a href="https://github.com/mschwarzmueller/book-react-key-concepts-e2/tree/04-state-events/activities/practice-2">
      <span class="url">
       <span class="koboSpan" id="kobo.2064.1">
        https://github.com/mschwarzmueller/book-react-key-concepts-e2/tree/04-state-events/activities/practice-2
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.2065.1">
      .
     </span>
    </p>
   </div>
  </div>
 </body></html>