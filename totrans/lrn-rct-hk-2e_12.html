<html><head></head><body>
<div id="_idContainer174">
<h1 class="chapterNumber"><a id="_idTextAnchor250"/><span class="koboSpan" id="kobo.1.1">10</span></h1>
<h1 class="chapterTitle" id="_idParaDest-226"><a id="_idTextAnchor251"/><span class="koboSpan" id="kobo.2.1">Using Community Hooks</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.3.1">In the previous chapter, we learned about the various built-in React Hooks.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.4.1">In this chapter, we are going to learn about various Hooks provided by the community. </span><span class="koboSpan" id="kobo.4.2">First, we are going to learn about using Hooks to manage application state. </span><span class="koboSpan" id="kobo.4.3">Then, we will implement </span><strong class="keyWord"><span class="koboSpan" id="kobo.5.1">debouncing</span></strong><span class="koboSpan" id="kobo.6.1"> using</span><a id="_idIndexMarker509"/><span class="koboSpan" id="kobo.7.1"> Hooks. </span><span class="koboSpan" id="kobo.7.2">Next, we will learn about various utility Hooks. </span><span class="koboSpan" id="kobo.7.3">Finally, we are going to learn where to find more community Hooks.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.8.1">The following topics will be covered in this chapter:</span></p>
<ul>
<li class="bulletList"><span class="koboSpan" id="kobo.9.1">Using Hooks to manage application state</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.10.1">Debouncing with Hooks</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.11.1">Learning about various utility Hooks</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.12.1">Finding more community Hooks</span></li>
</ul>
<h1 class="heading-1" id="_idParaDest-227"><a id="_idTextAnchor252"/><span class="koboSpan" id="kobo.13.1">Technical requirements</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.14.1">A fairly recent version of Node.js should already be installed. </span><span class="koboSpan" id="kobo.14.2">The Node Package Manager (</span><code class="inlineCode"><span class="koboSpan" id="kobo.15.1">npm</span></code><span class="koboSpan" id="kobo.16.1">) also needs to be installed (it should come with Node.js). </span><span class="koboSpan" id="kobo.16.2">For more information on how to install Node.js, please check out their official website: </span><a href="https://nodejs.org/"><span class="url"><span class="koboSpan" id="kobo.17.1">https://nodejs.org/</span></span></a><span class="koboSpan" id="kobo.18.1">.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.19.1">We are going to use </span><strong class="keyWord"><span class="koboSpan" id="kobo.20.1">Visual Studio Code</span></strong><span class="koboSpan" id="kobo.21.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.22.1">VS Code</span></strong><span class="koboSpan" id="kobo.23.1">) for the guides in this book, but everything should work similarly in any other editor. </span><span class="koboSpan" id="kobo.23.2">For more information on how to install VS Code, please refer to their official website: </span><a href="https://code.visualstudio.com"><span class="url"><span class="koboSpan" id="kobo.24.1">https://code.visualstudio.com</span></span></a></p>
<p class="normal"><span class="koboSpan" id="kobo.25.1">In this book, we use the following versions:</span></p>
<ul>
<li class="bulletList"><span class="koboSpan" id="kobo.26.1">Node.js v22.14.0</span></li>
<li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.27.1">npm</span></code><span class="koboSpan" id="kobo.28.1"> v10.9.2</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.29.1">Visual Studio Code v1.97.2</span></li>
</ul>
<p class="normal"><span class="koboSpan" id="kobo.30.1">The versions mentioned in the preceding list are the ones used in the book. </span><span class="koboSpan" id="kobo.30.2">While installing a newer version should not be an issue, please note that certain steps might work differently on a newer version. </span><span class="koboSpan" id="kobo.30.3">If you are having an issue with the code and steps provided in this book, please try using the mentioned versions.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.31.1">You can find the code for this chapter on GitHub: </span><a href="https://github.com/PacktPublishing/Learn-React-Hooks-Second-Edition/tree/main/Chapter10"><span class="url"><span class="koboSpan" id="kobo.32.1">https://github.com/PacktPublishing/Learn-React-Hooks-Second-Edition/tree/main/Chapter10</span></span></a></p>
<div class="note">
<p class="normal"><span class="koboSpan" id="kobo.33.1">It is highly recommended that you write the code on your own. </span><span class="koboSpan" id="kobo.33.2">Do not simply run the code examples that are provided with the book. </span><span class="koboSpan" id="kobo.33.3">It is important to write the code yourself to be able to learn and understand it properly. </span><span class="koboSpan" id="kobo.33.4">However, if you run into any issues, you can always refer to the code example.</span></p>
</div>
<h1 class="heading-1" id="_idParaDest-228"><a id="_idTextAnchor253"/><span class="koboSpan" id="kobo.34.1">Using Hooks to manage application state</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.35.1">In this section we</span><a id="_idIndexMarker510"/><span class="koboSpan" id="kobo.36.1"> are going to learn about various community Hooks that help you manage application state. </span><span class="koboSpan" id="kobo.36.2">These Hooks are provided by </span><a href="https://www.useHooks.com"><span class="url"><span class="koboSpan" id="kobo.37.1">useHooks.com</span></span></a><span class="koboSpan" id="kobo.38.1">, which is a collection of various useful Hooks packaged in a single library.</span></p>
<h2 class="heading-2" id="_idParaDest-229"><a id="_idTextAnchor254"/><span class="koboSpan" id="kobo.39.1">useLocalStorage</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.40.1">The </span><strong class="keyWord"><span class="koboSpan" id="kobo.41.1">Local Storage Hook</span></strong><span class="koboSpan" id="kobo.42.1"> allows</span><a id="_idIndexMarker511"/><span class="koboSpan" id="kobo.43.1"> you to store</span><a id="_idIndexMarker512"/><span class="koboSpan" id="kobo.44.1"> and retrieve data using the browser’s </span><strong class="keyWord"><span class="koboSpan" id="kobo.45.1">LocalStorage API</span></strong><span class="koboSpan" id="kobo.46.1">. </span><span class="koboSpan" id="kobo.46.2">The LocalStorage API is </span><a id="_idIndexMarker513"/><span class="koboSpan" id="kobo.47.1">a way to persistently store information in the user’s browser. </span><span class="koboSpan" id="kobo.47.2">We can use this to, for example, store information about the currently logged in user.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.48.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.49.1">useLocalStorage</span></code><span class="koboSpan" id="kobo.50.1"> function has the following signature:</span></p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.51.1">const</span></span><span class="koboSpan" id="kobo.52.1"> [data, saveData] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.53.1">useLocalStorage</span></span><span class="koboSpan" id="kobo.54.1">(key, initialValue)
</span></code></pre>
<p class="normal"><span class="koboSpan" id="kobo.55.1">As we can see, the Local Storage Hook accepts a key (which is used to identify the data in local storage) and an initial value (which is a fallback used when there is no item with the given key in local storage). </span><span class="koboSpan" id="kobo.55.2">It then returns an API similar to the </span><strong class="keyWord"><span class="koboSpan" id="kobo.56.1">State Hook</span></strong><span class="koboSpan" id="kobo.57.1">: The data itself, and a function to update data in local storage.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.58.1">In our case, we are simply going to store the username in local storage.</span></p>
<div class="note">
<p class="normal"><span class="koboSpan" id="kobo.59.1">In a real application you should instead store a token, such</span><a id="_idIndexMarker514"/><span class="koboSpan" id="kobo.60.1"> as a </span><strong class="keyWord"><span class="koboSpan" id="kobo.61.1">JSON Web Token</span></strong><span class="koboSpan" id="kobo.62.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.63.1">JWT</span></strong><span class="koboSpan" id="kobo.64.1">), and ideally store it in a Cookie instead of local storage. </span><span class="koboSpan" id="kobo.64.2">However, this would require a server and some full-stack knowledge. </span><span class="koboSpan" id="kobo.64.3">To learn more about full-stack projects with React including real-world authentication, please refer to my book: </span><em class="italic"><span class="koboSpan" id="kobo.65.1">Modern Full-Stack React Projects</span></em><span class="koboSpan" id="kobo.66.1">.</span></p>
</div>
<p class="normal"><span class="koboSpan" id="kobo.67.1">Follow these steps to get started storing the username in local storage:</span></p>
<ol>
<li class="numberedList" value="1"><span class="koboSpan" id="kobo.68.1">Copy the </span><code class="inlineCode"><span class="koboSpan" id="kobo.69.1">Chapter09_1</span></code><span class="koboSpan" id="kobo.70.1"> folder to a new </span><code class="inlineCode"><span class="koboSpan" id="kobo.71.1">Chapter10_1</span></code><span class="koboSpan" id="kobo.72.1"> folder by executing the following command:
        </span><pre class="programlisting con-one"><code class="hljs-con"><span class="koboSpan" id="kobo.73.1">$ cp -R Chapter09_1 Chapter10_1
</span></code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.74.1">Open the new </span><code class="inlineCode"><span class="koboSpan" id="kobo.75.1">Chapter10_1</span></code><span class="koboSpan" id="kobo.76.1"> folder in VS Code.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.77.1">Install the </span><code class="inlineCode"><span class="koboSpan" id="kobo.78.1">useHooks</span></code><span class="koboSpan" id="kobo.79.1"> library, as follo</span><a id="_idTextAnchor255"/><span class="koboSpan" id="kobo.80.1">ws:
        </span><pre class="programlisting con-one"><code class="hljs-con"><span class="koboSpan" id="kobo.81.1">$ npm install --save-exact @uidotdev/usehooks@2.4.1
</span></code></pre>
</li>
<li class="numberedList"><em class="italic"><span class="koboSpan" id="kobo.82.1">Remov</span><a id="_idTextAnchor256"/><span class="koboSpan" id="kobo.83.1">e</span></em><span class="koboSpan" id="kobo.84.1"> the </span><code class="inlineCode"><span class="koboSpan" id="kobo.85.1">src/contexts/UserContext.js</span></code><span class="koboSpan" id="kobo.86.1"> file. </span><span class="koboSpan" id="kobo.86.2">We are going to replace the </span><code class="inlineCode"><span class="koboSpan" id="kobo.87.1">UserContext</span></code><span class="koboSpan" id="kobo.88.1"> with local storage now.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.89.1">Edit </span><code class="inlineCode"><span class="koboSpan" id="kobo.90.1">src/App.jsx</span></code><span class="koboSpan" id="kobo.91.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.92.1">remove</span></em><span class="koboSpan" id="kobo.93.1"> the following imports:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.94.1">import</span></span><span class="koboSpan" id="kobo.95.1"> { useState } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.96.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.97.1">'react'</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.98.1">import</span></span><span class="koboSpan" id="kobo.99.1"> { </span><span class="hljs-title"><span class="koboSpan" id="kobo.100.1">UserContext</span></span><span class="koboSpan" id="kobo.101.1"> } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.102.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.103.1">'./contexts/UserContext.js'</span></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.104.1">Instead, </span><em class="italic"><span class="koboSpan" id="kobo.105.1">replace</span></em><span class="koboSpan" id="kobo.106.1"> them with the following import:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.107.1">import</span></span><span class="koboSpan" id="kobo.108.1"> { useLocalStorage } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.109.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.110.1">'@uidotdev/usehooks'</span></span>
</code></pre>
</li>
<li class="numberedList"><em class="italic"><span class="koboSpan" id="kobo.111.1">Remove</span></em><span class="koboSpan" id="kobo.112.1"> the following State Hook:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.113.1">export</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.114.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.115.1">App</span></span><span class="koboSpan" id="kobo.116.1">() {
</span><span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-keyword-slc"><span class="koboSpan" id="kobo.117.1">const</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.118.1"> [username, setUsername] = </span></strong><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.119.1">useState</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.120.1">(</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.121.1">''</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.122.1">)</span></strong></span>
</code></pre>
</li>
<li class="numberedList"><em class="italic"><span class="koboSpan" id="kobo.123.1">Replace</span></em><span class="koboSpan" id="kobo.124.1"> it with a Local Storage Hook:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.125.1">export</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.126.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.127.1">App</span></span><span class="koboSpan" id="kobo.128.1">() {
</span><span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-keyword-slc"><span class="koboSpan" id="kobo.129.1">const</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.130.1"> [username] = </span></strong><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.131.1">useLocalStorage</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.132.1">(</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.133.1">'username'</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.134.1">, </span></strong><strong class="hljs-literal-slc"><span class="koboSpan" id="kobo.135.1">null</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.136.1">)</span></strong></span>
</code></pre>
</li>
<li class="numberedList"><em class="italic"><span class="koboSpan" id="kobo.137.1">Remove</span></em><span class="koboSpan" id="kobo.138.1"> the </span><code class="inlineCode"><span class="koboSpan" id="kobo.139.1">UserContext</span></code><span class="koboSpan" id="kobo.140.1"> by </span><a id="_idIndexMarker515"/><span class="koboSpan" id="kobo.141.1">deleting</span><a id="_idIndexMarker516"/><span class="koboSpan" id="kobo.142.1"> the following highlighted lines:
        </span><pre class="programlisting code-one"><code class="hljs-code"> <span class="hljs-keyword"><span class="koboSpan" id="kobo.143.1">return</span></span><span class="koboSpan" id="kobo.144.1"> (
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.145.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.146.1">QueryClientProvider</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.147.1">client</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.148.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.149.1">{queryClient}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.150.1">&gt;</span></span>
<span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.151.1">&lt;</span></strong><strong class="hljs-name-slc"><span class="koboSpan" id="kobo.152.1">UserContext.Provider</span></strong><strong class="hljs-tag-slc"> </strong><strong class="hljs-attr-slc"><span class="koboSpan" id="kobo.153.1">value</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.154.1">=</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.155.1">{[username,</span></strong><strong class="hljs-tag-slc"> </strong><strong class="hljs-attr-slc"><span class="koboSpan" id="kobo.156.1">setUsername</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.157.1">]}&gt;</span></strong></span><span class="koboSpan" id="kobo.158.1">
        …
</span><span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.159.1">&lt;/</span></strong><strong class="hljs-name-slc"><span class="koboSpan" id="kobo.160.1">UserContext.Provider</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.161.1">&gt;</span></strong></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.162.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.163.1">QueryClientProvider</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.164.1">&gt;</span></span><span class="koboSpan" id="kobo.165.1">
  )
}
</span></code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.166.1">Edit </span><code class="inlineCode"><span class="koboSpan" id="kobo.167.1">src/components/user/UserBar.jsx</span></code><span class="koboSpan" id="kobo.168.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.169.1">remove</span></em><span class="koboSpan" id="kobo.170.1"> the following imports:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.171.1">import</span></span><span class="koboSpan" id="kobo.172.1"> { useContext } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.173.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.174.1">'react'</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.175.1">import</span></span><span class="koboSpan" id="kobo.176.1"> { </span><span class="hljs-title"><span class="koboSpan" id="kobo.177.1">UserContext</span></span><span class="koboSpan" id="kobo.178.1"> } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.179.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.180.1">'@/contexts/UserContext.js'</span></span>
</code></pre>
</li>
<li class="numberedList"><em class="italic"><span class="koboSpan" id="kobo.181.1">Replace</span></em><span class="koboSpan" id="kobo.182.1"> them with an import to the </span><code class="inlineCode"><span class="koboSpan" id="kobo.183.1">useLocalStorage</span></code><span class="koboSpan" id="kobo.184.1"> function:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.185.1">import</span></span><span class="koboSpan" id="kobo.186.1"> { useLocalStorage } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.187.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.188.1">'@uidotdev/usehooks'</span></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.189.1">Then, replace the Context Hook with a Local Storage Hook, as follows:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.190.1">export</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.191.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.192.1">UserBar</span></span><span class="koboSpan" id="kobo.193.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.194.1">const</span></span><span class="koboSpan" id="kobo.195.1"> [username] = </span><span class="code-highlight"><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.196.1">useLocalStorage</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.197.1">(</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.198.1">'username'</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.199.1">, </span></strong><strong class="hljs-literal-slc"><span class="koboSpan" id="kobo.200.1">null</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.201.1">)</span></strong></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.202.1">Edit </span><code class="inlineCode"><span class="koboSpan" id="kobo.203.1">src/components/user/Register.jsx</span></code><span class="koboSpan" id="kobo.204.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.205.1">replace</span></em><span class="koboSpan" id="kobo.206.1"> all imports with the following:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.207.1">import</span></span><span class="koboSpan" id="kobo.208.1"> { useState } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.209.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.210.1">'react'</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.211.1">import</span></span><span class="koboSpan" id="kobo.212.1"> { useLocalStorage } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.213.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.214.1">'@uidotdev/usehooks'</span></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.215.1">Now, </span><em class="italic"><span class="koboSpan" id="kobo.216.1">replace</span></em><span class="koboSpan" id="kobo.217.1"> the </span><a id="_idIndexMarker517"/><span class="koboSpan" id="kobo.218.1">Context Hook with a </span><a id="_idIndexMarker518"/><span class="koboSpan" id="kobo.219.1">Local Storage Hook:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.220.1">export</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.221.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.222.1">Register</span></span><span class="koboSpan" id="kobo.223.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.224.1">const</span></span><span class="koboSpan" id="kobo.225.1"> [, setUsername] = </span><span class="code-highlight"><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.226.1">useLocalStorage</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.227.1">(</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.228.1">'username'</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.229.1">, </span></strong><strong class="hljs-literal-slc"><span class="koboSpan" id="kobo.230.1">null</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.231.1">)</span></strong></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.232.1">Edit </span><code class="inlineCode"><span class="koboSpan" id="kobo.233.1">src/components/user/Login.jsx</span></code><span class="koboSpan" id="kobo.234.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.235.1">replace</span></em><span class="koboSpan" id="kobo.236.1"> all imports with the following:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.237.1">import</span></span><span class="koboSpan" id="kobo.238.1"> { useLocalStorage } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.239.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.240.1">'</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.241.1">@uidotdev/usehooks'</span></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.242.1">Next, </span><em class="italic"><span class="koboSpan" id="kobo.243.1">replace</span></em><span class="koboSpan" id="kobo.244.1"> the Context Hook with a Local Storage Hook:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.245.1">export</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.246.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.247.1">Login</span></span><span class="koboSpan" id="kobo.248.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.249.1">const</span></span><span class="koboSpan" id="kobo.250.1"> [, setUsername] = </span><span class="code-highlight"><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.251.1">useLocalStorage</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.252.1">(</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.253.1">'username'</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.254.1">, </span></strong><strong class="hljs-literal-slc"><span class="koboSpan" id="kobo.255.1">null</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.256.1">)</span></strong></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.257.1">Edit </span><code class="inlineCode"><span class="koboSpan" id="kobo.258.1">src/components/user/Logout.jsx</span></code><span class="koboSpan" id="kobo.259.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.260.1">replace</span></em><span class="koboSpan" id="kobo.261.1"> all imports with the following:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.262.1">import</span></span><span class="koboSpan" id="kobo.263.1"> { useState, useEffect } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.264.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.265.1">'react'</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.266.1">import</span></span><span class="koboSpan" id="kobo.267.1"> { useLocalStorage } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.268.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.269.1">'@uidotdev/usehooks'</span></span>
</code></pre>
</li>
<li class="numberedList"><em class="italic"><span class="koboSpan" id="kobo.270.1">Replace</span></em><span class="koboSpan" id="kobo.271.1"> the Context Hook with a Local Storage Hook:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.272.1">export</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.273.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.274.1">Logout</span></span><span class="koboSpan" id="kobo.275.1">() {
</span><span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-keyword-slc"><span class="koboSpan" id="kobo.276.1">const</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.277.1"> [username, setUsername] = </span></strong><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.278.1">useLocalStorage</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.279.1">(</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.280.1">'username'</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.281.1">, </span></strong><strong class="hljs-literal-slc"><span class="koboSpan" id="kobo.282.1">null</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.283.1">)</span></strong></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.284.1">Edit </span><code class="inlineCode"><span class="koboSpan" id="kobo.285.1">src/components/post/CreatePost.jsx</span></code><span class="koboSpan" id="kobo.286.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.287.1">remove</span></em><span class="koboSpan" id="kobo.288.1"> the </span><code class="inlineCode"><span class="koboSpan" id="kobo.289.1">useContext</span></code><span class="koboSpan" id="kobo.290.1"> import:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.291.1">import</span></span><span class="koboSpan" id="kobo.292.1"> { </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.293.1">useContext</span></strong></span><span class="koboSpan" id="kobo.294.1">, useActionState } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.295.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.296.1">'</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.297.1">react'</span></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.298.1">Then, </span><em class="italic"><span class="koboSpan" id="kobo.299.1">remove</span></em><span class="koboSpan" id="kobo.300.1"> the</span><a id="_idIndexMarker519"/><span class="koboSpan" id="kobo.301.1"> following </span><a id="_idIndexMarker520"/><span class="koboSpan" id="kobo.302.1">import:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.303.1">import</span></span><span class="koboSpan" id="kobo.304.1"> { </span><span class="hljs-title"><span class="koboSpan" id="kobo.305.1">UserContext</span></span><span class="koboSpan" id="kobo.306.1"> } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.307.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.308.1">'@/contexts/UserContext.js'</span></span>
</code></pre>
</li>
<li class="numberedList"><em class="italic"><span class="koboSpan" id="kobo.309.1">Replace</span></em><span class="koboSpan" id="kobo.310.1"> it with an import of </span><code class="inlineCode"><span class="koboSpan" id="kobo.311.1">useLocalStorage</span></code><span class="koboSpan" id="kobo.312.1">:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.313.1">import</span></span><span class="koboSpan" id="kobo.314.1"> { useLocalStorage } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.315.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.316.1">'@uidotdev/usehooks'</span></span>
</code></pre>
</li>
<li class="numberedList"><em class="italic"><span class="koboSpan" id="kobo.317.1">Replace</span></em><span class="koboSpan" id="kobo.318.1"> the Context Hook with a Local Storage Hook:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.319.1">export</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.320.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.321.1">CreatePost</span></span><span class="koboSpan" id="kobo.322.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.323.1">const</span></span><span class="koboSpan" id="kobo.324.1"> [username] = </span><span class="code-highlight"><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.325.1">useLocalStorage</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.326.1">(</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.327.1">'username'</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.328.1">, </span></strong><strong class="hljs-literal-slc"><span class="koboSpan" id="kobo.329.1">null</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.330.1">)</span></strong></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.331.1">Edit </span><code class="inlineCode"><span class="koboSpan" id="kobo.332.1">src/components/comment/CreateComment.jsx</span></code><span class="koboSpan" id="kobo.333.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.334.1">replace</span></em><span class="koboSpan" id="kobo.335.1"> all imports with the following:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.336.1">import</span></span><span class="koboSpan" id="kobo.337.1"> { useLocalStorage } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.338.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.339.1">'@uidotdev/usehooks'</span></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.340.1">Then, </span><em class="italic"><span class="koboSpan" id="kobo.341.1">replace</span></em><span class="koboSpan" id="kobo.342.1"> the Context Hook with a Local Storage Hook:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.343.1">export</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.344.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.345.1">CreateComment</span></span><span class="koboSpan" id="kobo.346.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.347.1">{ addComment }</span></span><span class="koboSpan" id="kobo.348.1">) {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.349.1">const</span></span><span class="koboSpan" id="kobo.350.1"> [username] = </span><span class="code-highlight"><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.351.1">useLocalStorage</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.352.1">(</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.353.1">'username'</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.354.1">, </span></strong><strong class="hljs-literal-slc"><span class="koboSpan" id="kobo.355.1">null</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.356.1">)</span></strong></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.357.1">Edit </span><code class="inlineCode"><span class="koboSpan" id="kobo.358.1">src/components/comment/CommentList.jsx</span></code><span class="koboSpan" id="kobo.359.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.360.1">remove</span></em><span class="koboSpan" id="kobo.361.1"> the </span><code class="inlineCode"><span class="koboSpan" id="kobo.362.1">useContext</span></code><span class="koboSpan" id="kobo.363.1"> import:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.364.1">import</span></span><span class="koboSpan" id="kobo.365.1"> { useContext, useState, useOptimistic } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.366.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.367.1">'react'</span></span>
</code></pre>
</li>
<li class="numberedList"><em class="italic"><span class="koboSpan" id="kobo.368.1">Remove</span></em><span class="koboSpan" id="kobo.369.1"> the following import:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.370.1">import</span></span><span class="koboSpan" id="kobo.371.1"> { </span><span class="code-highlight"><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.372.1">UserContext</span></strong></span><span class="koboSpan" id="kobo.373.1"> } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.374.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.375.1">'@/contexts/UserContext.js'</span></span>
</code></pre>
</li>
<li class="numberedList"><em class="italic"><span class="koboSpan" id="kobo.376.1">Replace</span></em><span class="koboSpan" id="kobo.377.1"> it with an import of </span><code class="inlineCode"><span class="koboSpan" id="kobo.378.1">useLocalStorage</span></code><span class="koboSpan" id="kobo.379.1">:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.380.1">import</span></span><span class="koboSpan" id="kobo.381.1"> { useLocalStorage } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.382.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.383.1">'@uidotdev/usehooks'</span></span>
</code></pre>
</li>
<li class="numberedList"><em class="italic"><span class="koboSpan" id="kobo.384.1">Replace</span></em><span class="koboSpan" id="kobo.385.1"> the Context Hook with a Local Storage Hook:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.386.1">export</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.387.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.388.1">CommentList</span></span><span class="koboSpan" id="kobo.389.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.390.1">const</span></span><span class="koboSpan" id="kobo.391.1"> [username] = </span><span class="code-highlight"><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.392.1">useLocalStorage</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.393.1">(</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.394.1">'username'</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.395.1">, </span></strong><strong class="hljs-literal-slc"><span class="koboSpan" id="kobo.396.1">null</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.397.1">)</span></strong></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.398.1">Now, run </span><a id="_idIndexMarker521"/><span class="koboSpan" id="kobo.399.1">the blog app, as</span><a id="_idIndexMarker522"/><span class="koboSpan" id="kobo.400.1"> follows:
        </span><pre class="programlisting con-one"><code class="hljs-con"><span class="koboSpan" id="kobo.401.1">$ npm run dev
</span></code></pre>
</li>
</ol>
<p class="normal"><span class="koboSpan" id="kobo.402.1">You will see that the registration, login and logout still work the same way as before, but there is now an added advantage: When refreshing the page, the user stays logged in until they press the </span><strong class="screenText"><span class="koboSpan" id="kobo.403.1">Logout</span></strong><span class="koboSpan" id="kobo.404.1"> button!</span></p>
<p class="normal"><span class="koboSpan" id="kobo.405.1">As you can see, the </span><a id="_idIndexMarker523"/><span class="koboSpan" id="kobo.406.1">Local Storage Hook is a great </span><a id="_idIndexMarker524"/><span class="koboSpan" id="kobo.407.1">way to persistently store information in the browser!</span></p>
<h2 class="heading-2" id="_idParaDest-230"><a id="_idTextAnchor257"/><span class="koboSpan" id="kobo.408.1">useHistoryState</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.409.1">The </span><strong class="keyWord"><span class="koboSpan" id="kobo.410.1">History State Hook</span></strong><span class="koboSpan" id="kobo.411.1"> is </span><a id="_idIndexMarker525"/><span class="koboSpan" id="kobo.412.1">an extended version of </span><a id="_idIndexMarker526"/><span class="koboSpan" id="kobo.413.1">the State Hook, adding functionality to undo / redo changes to the state. </span><span class="koboSpan" id="kobo.413.2">It has the following signature:</span></p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.414.1">const</span></span><span class="koboSpan" id="kobo.415.1"> { state, set, undo, redo, clear, canUndo, canRedo } = </span><span class="hljs-title"><span class="koboSpan" id="kobo.416.1">useHistoryState</span></span><span class="koboSpan" id="kobo.417.1">(initialState)
</span></code></pre>
<p class="normal"><span class="koboSpan" id="kobo.418.1">We provide an initial state to it, and it returns the current </span><code class="inlineCode"><span class="koboSpan" id="kobo.419.1">state</span></code><span class="koboSpan" id="kobo.420.1">, a function to </span><code class="inlineCode"><span class="koboSpan" id="kobo.421.1">set</span></code><span class="koboSpan" id="kobo.422.1"> the state, an </span><code class="inlineCode"><span class="koboSpan" id="kobo.423.1">undo</span></code><span class="koboSpan" id="kobo.424.1"> function to undo changes to the state, a </span><code class="inlineCode"><span class="koboSpan" id="kobo.425.1">redo</span></code><span class="koboSpan" id="kobo.426.1"> function to redo changes, a </span><code class="inlineCode"><span class="koboSpan" id="kobo.427.1">clear</span></code><span class="koboSpan" id="kobo.428.1"> function to reset the state to the initial state, and </span><code class="inlineCode"><span class="koboSpan" id="kobo.429.1">canUndo</span></code><span class="koboSpan" id="kobo.430.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.431.1">canRedo</span></code><span class="koboSpan" id="kobo.432.1"> flags to tell whether it is possible to undo/redo the state.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.433.1">The best way to understand this Hook is to try it out, so let’s get started implementing undo/redo functionality for our </span><code class="inlineCode"><span class="koboSpan" id="kobo.434.1">CreatePost</span></code><span class="koboSpan" id="kobo.435.1"> component:</span></p>
<ol>
<li class="numberedList" value="1"><span class="koboSpan" id="kobo.436.1">Edit </span><code class="inlineCode"><span class="koboSpan" id="kobo.437.1">src/components/post/CreatePost.jsx</span></code><span class="koboSpan" id="kobo.438.1"> and import the </span><code class="inlineCode"><span class="koboSpan" id="kobo.439.1">useHistoryState</span></code><span class="koboSpan" id="kobo.440.1"> function:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.441.1">import</span></span><span class="koboSpan" id="kobo.442.1"> { useLocalStorage, </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.443.1">useHistoryState</span></strong></span><span class="koboSpan" id="kobo.444.1"> } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.445.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.446.1">'@uidotdev/usehooks'</span></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.447.1">Define a History State Hook for the post content, as follows:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.448.1">export</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.449.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.450.1">CreatePost</span></span><span class="koboSpan" id="kobo.451.1">() {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.452.1">const</span></span><span class="koboSpan" id="kobo.453.1"> [username] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.454.1">useLocalStorage</span></span><span class="koboSpan" id="kobo.455.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.456.1">'username'</span></span><span class="koboSpan" id="kobo.457.1">, </span><span class="hljs-literal"><span class="koboSpan" id="kobo.458.1">null</span></span><span class="koboSpan" id="kobo.459.1">)
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.460.1">const</span></span><span class="koboSpan" id="kobo.461.1"> navigate = </span><span class="hljs-title"><span class="koboSpan" id="kobo.462.1">useNavigate</span></span><span class="koboSpan" id="kobo.463.1">()
</span><span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-keyword-slc"><span class="koboSpan" id="kobo.464.1">const</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.465.1"> { state, set, undo, redo, clear, canUndo, canRedo } =</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.466.1">useHistoryState</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.467.1">(</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.468.1">''</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.469.1">)</span></strong></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.470.1">Define a handler function for when the content is changed by the user:
        </span><pre class="programlisting code-one"><code class="hljs-code"> <span class="hljs-keyword"><span class="koboSpan" id="kobo.471.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.472.1">handleContentChange</span></span><span class="koboSpan" id="kobo.473.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.474.1">e</span></span><span class="koboSpan" id="kobo.475.1">) {
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.476.1">const</span></span><span class="koboSpan" id="kobo.477.1"> { value } = e.</span><span class="hljs-property"><span class="koboSpan" id="kobo.478.1">target</span></span>
<span class="hljs-title"><span class="koboSpan" id="kobo.479.1">set</span></span><span class="koboSpan" id="kobo.480.1">(value)
  }
</span></code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.481.1">Define buttons</span><a id="_idIndexMarker527"/><span class="koboSpan" id="kobo.482.1"> to undo/redo </span><a id="_idIndexMarker528"/><span class="koboSpan" id="kobo.483.1">and clear the content:
        </span><pre class="programlisting code-one"><code class="hljs-code"> <span class="hljs-tag"><span class="koboSpan" id="kobo.484.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.485.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.486.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.487.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.488.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.489.1">htmlFor</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.490.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.491.1">'create-title'</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.492.1">&gt;</span></span><span class="koboSpan" id="kobo.493.1">Title:</span><span class="hljs-tag"><span class="koboSpan" id="kobo.494.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.495.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.496.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.497.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.498.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.499.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.500.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.501.1">'text'</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.502.1">name</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.503.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.504.1">'</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.505.1">title'</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.506.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.507.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.508.1">'create-title'</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.509.1"> /&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.510.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.511.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.512.1">&gt;</span></span>
<span class="code-highlight"><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.513.1">&lt;</span></strong><strong class="hljs-name-slc"><span class="koboSpan" id="kobo.514.1">div</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.515.1">&gt;</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.516.1">&lt;</span></strong><strong class="hljs-name-slc"><span class="koboSpan" id="kobo.517.1">button</span></strong><strong class="hljs-tag-slc"> </strong><strong class="hljs-attr-slc"><span class="koboSpan" id="kobo.518.1">type</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.519.1">=</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.520.1">'</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.521.1">button'</span></strong><strong class="hljs-tag-slc"> </strong><strong class="hljs-attr-slc"><span class="koboSpan" id="kobo.522.1">disabled</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.523.1">=</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.524.1">{!canUndo}</span></strong><strong class="hljs-tag-slc"> </strong><strong class="hljs-attr-slc"><span class="koboSpan" id="kobo.525.1">onClick</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.526.1">=</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.527.1">{undo}</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.528.1">&gt;</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.529.1">          Undo</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.530.1">&lt;/</span></strong><strong class="hljs-name-slc"><span class="koboSpan" id="kobo.531.1">button</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.532.1">&gt;</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.533.1">&lt;</span></strong><strong class="hljs-name-slc"><span class="koboSpan" id="kobo.534.1">button</span></strong><strong class="hljs-tag-slc"> </strong><strong class="hljs-attr-slc"><span class="koboSpan" id="kobo.535.1">type</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.536.1">=</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.537.1">'</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.538.1">button'</span></strong><strong class="hljs-tag-slc"> </strong><strong class="hljs-attr-slc"><span class="koboSpan" id="kobo.539.1">disabled</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.540.1">=</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.541.1">{!canRedo}</span></strong><strong class="hljs-tag-slc"> </strong><strong class="hljs-attr-slc"><span class="koboSpan" id="kobo.542.1">onClick</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.543.1">=</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.544.1">{redo}</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.545.1">&gt;</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.546.1">          Redo</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.547.1">&lt;/</span></strong><strong class="hljs-name-slc"><span class="koboSpan" id="kobo.548.1">button</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.549.1">&gt;</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.550.1">&lt;</span></strong><strong class="hljs-name-slc"><span class="koboSpan" id="kobo.551.1">button</span></strong><strong class="hljs-tag-slc"> </strong><strong class="hljs-attr-slc"><span class="koboSpan" id="kobo.552.1">type</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.553.1">=</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.554.1">'</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.555.1">button'</span></strong><strong class="hljs-tag-slc"> </strong><strong class="hljs-attr-slc"><span class="koboSpan" id="kobo.556.1">onClick</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.557.1">=</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.558.1">{clear}</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.559.1">&gt;</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.560.1">          Clear</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.561.1">&lt;/</span></strong><strong class="hljs-name-slc"><span class="koboSpan" id="kobo.562.1">button</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.563.1">&gt;</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.564.1">&lt;/</span></strong><strong class="hljs-name-slc"><span class="koboSpan" id="kobo.565.1">div</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.566.1">&gt;</span></strong></span>
</code></pre>
</li>
</ol>
<div class="note-one">
<p class="normal"><span class="koboSpan" id="kobo.567.1">It is important to add </span><code class="inlineCode"><span class="koboSpan" id="kobo.568.1">type='button'</span></code><span class="koboSpan" id="kobo.569.1"> to all the buttons here. </span><span class="koboSpan" id="kobo.569.2">Otherwise, pressing those buttons will submit the form.</span></p>
</div>
<ol>
<li class="numberedList" value="5"><span class="koboSpan" id="kobo.570.1">Make the </span><code class="inlineCode"><span class="koboSpan" id="kobo.571.1">&lt;textarea&gt;</span></code><span class="koboSpan" id="kobo.572.1"> a controlled element by providing the </span><code class="inlineCode"><span class="koboSpan" id="kobo.573.1">value</span></code><span class="koboSpan" id="kobo.574.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.575.1">onChange</span></code><span class="koboSpan" id="kobo.576.1"> handler:
        </span><pre class="programlisting code-one"><code class="hljs-code"> <span class="hljs-tag"><span class="koboSpan" id="kobo.577.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.578.1">textarea</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.579.1">name</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.580.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.581.1">'content'</span></span><span class="hljs-tag"> </span><span class="code-highlight"><strong class="hljs-attr-slc"><span class="koboSpan" id="kobo.582.1">value</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.583.1">=</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.584.1">{state}</span></strong></span>
<span class="hljs-tag"> </span><span class="code-highlight"><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.585.1">onChange</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.586.1">=</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.587.1">{</span></strong><strong class="hljs-attr-slc"><span class="koboSpan" id="kobo.588.1">handleContentChange</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.589.1">} /&gt;</span></strong></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.590.1">Lastly, inside the Action State Hook, call the </span><code class="inlineCode"><span class="koboSpan" id="kobo.591.1">clear</span></code><span class="koboSpan" id="kobo.592.1"> function after the post was successfully created:
        </span><pre class="programlisting code-one"><code class="hljs-code"> <span class="hljs-keyword"><span class="koboSpan" id="kobo.593.1">const</span></span><span class="koboSpan" id="kobo.594.1"> [error, submitAction, isPending] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.595.1">useActionState</span></span><span class="koboSpan" id="kobo.596.1">(
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.597.1">async</span></span><span class="koboSpan" id="kobo.598.1"> (currentState, formData) =&gt; {
      </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.599.1">const</span></span><span class="koboSpan" id="kobo.600.1"> title = formData.</span><span class="hljs-title"><span class="koboSpan" id="kobo.601.1">get</span></span><span class="koboSpan" id="kobo.602.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.603.1">'title'</span></span><span class="koboSpan" id="kobo.604.1">)
      </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.605.1">const</span></span><span class="koboSpan" id="kobo.606.1"> content = formData.</span><span class="hljs-title"><span class="koboSpan" id="kobo.607.1">get</span></span><span class="koboSpan" id="kobo.608.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.609.1">'content'</span></span><span class="koboSpan" id="kobo.610.1">)
      </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.611.1">const</span></span><span class="koboSpan" id="kobo.612.1"> post = { title, content, </span><span class="hljs-attr"><span class="koboSpan" id="kobo.613.1">author</span></span><span class="koboSpan" id="kobo.614.1">: username, </span><span class="hljs-attr"><span class="koboSpan" id="kobo.615.1">featured</span></span><span class="koboSpan" id="kobo.616.1">:           </span><span class="hljs-literal"><span class="koboSpan" id="kobo.617.1">false</span></span><span class="koboSpan" id="kobo.618.1"> }
      </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.619.1">try</span></span><span class="koboSpan" id="kobo.620.1"> {
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.621.1">const</span></span><span class="koboSpan" id="kobo.622.1"> result = </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.623.1">await</span></span><span class="koboSpan" id="kobo.624.1"> createPostMutation.</span><span class="hljs-title"><span class="koboSpan" id="kobo.625.1">mutateAsync</span></span><span class="koboSpan" id="kobo.626.1">(post)
        </span><span class="code-highlight"><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.627.1">clear</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.628.1">()</span></strong></span>
<span class="hljs-title"><span class="koboSpan" id="kobo.629.1">navigate</span></span><span class="koboSpan" id="kobo.630.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.631.1">`/post/</span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.632.1">${result.id}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.633.1">`</span></span><span class="koboSpan" id="kobo.634.1">)
      } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.635.1">catch</span></span><span class="koboSpan" id="kobo.636.1"> (err) {
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.637.1">return</span></span><span class="koboSpan" id="kobo.638.1"> err
      }
    },
  )
</span></code></pre>
</li>
</ol>
<p class="normal-one"><span class="koboSpan" id="kobo.639.1">As we are</span><a id="_idIndexMarker529"/><span class="koboSpan" id="kobo.640.1"> dealing with a controlled </span><a id="_idIndexMarker530"/><span class="koboSpan" id="kobo.641.1">element now, we need to clear its content ourselves. </span><span class="koboSpan" id="kobo.641.2">It is not done automatically on form submission anymore.</span></p>
<ol>
<li class="numberedList" value="7"><span class="koboSpan" id="kobo.642.1">Start the blog app, as follows:
        </span><pre class="programlisting con-one"><code class="hljs-con"><span class="koboSpan" id="kobo.643.1">$ npm run dev
</span></code></pre>
</li>
</ol>
<p class="normal"><span class="koboSpan" id="kobo.644.1">You will see that there are now three new buttons, as shown in the following screenshot:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.645.1"><img alt="Figure 10.1 – Providing undo/redo/clear buttons when creating a post" src="../Images/B31327_10_01.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.646.1">Figure 10.1 – Providing undo/redo/clear buttons when creating a post</span></p>
<p class="normal"><span class="koboSpan" id="kobo.647.1">Try typing in some text into the field, and you will be able to undo/redo changes made to it! </span><span class="koboSpan" id="kobo.647.2">However, you may have noticed that only a single character at a time is undone/redone. </span><span class="koboSpan" id="kobo.647.3">Next, we are going to implement debouncing, which means that our changes will only be added to the undo/redo </span><a id="_idIndexMarker531"/><span class="koboSpan" id="kobo.648.1">history after a certain amount of</span><a id="_idIndexMarker532"/><span class="koboSpan" id="kobo.649.1"> time, not after every character that we entered.</span></p>
<div class="note">
<p class="normal"><strong class="keyWord"><span class="koboSpan" id="kobo.650.1">Example code</span></strong></p>
<p class="normal"><span class="koboSpan" id="kobo.651.1">The example code for this section can be found in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.652.1">Chapter10/Chapter10_1</span></code><span class="koboSpan" id="kobo.653.1"> folder. </span><span class="koboSpan" id="kobo.653.2">Check the </span><code class="inlineCode"><span class="koboSpan" id="kobo.654.1">README.md</span></code><span class="koboSpan" id="kobo.655.1"> file inside the folder for instructions on how to set up and run the example.</span></p>
</div>
<h1 class="heading-1" id="_idParaDest-231"><a id="_idTextAnchor258"/><span class="koboSpan" id="kobo.656.1">Debouncing with Hooks</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.657.1">As we have seen in the </span><a id="_idIndexMarker533"/><span class="koboSpan" id="kobo.658.1">previous section, when we press undo it undoes a single character at a time. </span><span class="koboSpan" id="kobo.658.2">Sometimes, we do not want to store every change in our undo history. </span><span class="koboSpan" id="kobo.658.3">To avoid storing every change, we need to implement debouncing, which means that the function that stores the </span><code class="inlineCode"><span class="koboSpan" id="kobo.659.1">content</span></code><span class="koboSpan" id="kobo.660.1"> to the history state is only called after there are no changes for a certain amount of time.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.661.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.662.1">use-debounce</span></code><span class="koboSpan" id="kobo.663.1"> library</span><a id="_idIndexMarker534"/><span class="koboSpan" id="kobo.664.1"> provides a </span><strong class="keyWord"><span class="koboSpan" id="kobo.665.1">Debounce Hook</span></strong><span class="koboSpan" id="kobo.666.1">, which can be used, as follows, for simple values:</span></p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.667.1">const</span></span><span class="koboSpan" id="kobo.668.1"> [text, setText] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.669.1">useState</span></span><span class="koboSpan" id="kobo.670.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.671.1">''</span></span><span class="koboSpan" id="kobo.672.1">)
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.673.1">const</span></span><span class="koboSpan" id="kobo.674.1"> [value] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.675.1">useDebounce</span></span><span class="koboSpan" id="kobo.676.1">(text, </span><span class="hljs-number"><span class="koboSpan" id="kobo.677.1">1000</span></span><span class="koboSpan" id="kobo.678.1">)
</span></code></pre>
<p class="normal"><span class="koboSpan" id="kobo.679.1">Now, if we change the text via </span><code class="inlineCode"><span class="koboSpan" id="kobo.680.1">setText</span></code><span class="koboSpan" id="kobo.681.1">, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.682.1">text</span></code><span class="koboSpan" id="kobo.683.1"> value will be updated instantly, but the </span><code class="inlineCode"><span class="koboSpan" id="kobo.684.1">value</span></code><span class="koboSpan" id="kobo.685.1"> variable will only be updated after 1000 ms (1 second).</span></p>
<p class="normal"><span class="koboSpan" id="kobo.686.1">However, for our use case, this is not enough. </span><span class="koboSpan" id="kobo.686.2">We are going to need debounced callbacks in order to implement debouncing in combination with the History State Hook. </span><span class="koboSpan" id="kobo.686.3">Thankfully, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.687.1">use-debounce</span></code><span class="koboSpan" id="kobo.688.1"> library also provides the Debounced Callback Hook, which can be used as follows:</span></p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.689.1">const</span></span><span class="koboSpan" id="kobo.690.1"> [text, setText] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.691.1">useState</span></span><span class="koboSpan" id="kobo.692.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.693.1">''</span></span><span class="koboSpan" id="kobo.694.1">)
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.695.1">const</span></span><span class="koboSpan" id="kobo.696.1"> [debouncedSet, cancelDebounce] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.697.1">useDebouncedCallback</span></span><span class="koboSpan" id="kobo.698.1">(
  </span><span class="hljs-function"><span class="koboSpan" id="kobo.699.1">(</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.700.1">value</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.701.1">) =&gt;</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.702.1">setText</span></span><span class="koboSpan" id="kobo.703.1">(value),
  </span><span class="hljs-number"><span class="koboSpan" id="kobo.704.1">1000</span></span><span class="koboSpan" id="kobo.705.1">
)
</span></code></pre>
<p class="normal"><span class="koboSpan" id="kobo.706.1">Now, if we call </span><code class="inlineCode"><span class="koboSpan" id="kobo.707.1">debouncedSet('text')</span></code><span class="koboSpan" id="kobo.708.1">, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.709.1">text</span></code><span class="koboSpan" id="kobo.710.1"> value will be updated after 1000 ms (1 second). </span><span class="koboSpan" id="kobo.710.2">If </span><code class="inlineCode"><span class="koboSpan" id="kobo.711.1">debouncedSet</span></code><span class="koboSpan" id="kobo.712.1"> is called multiple times, the timeout will get reset every time, so that only after 1000 ms of no further call to the </span><code class="inlineCode"><span class="koboSpan" id="kobo.713.1">debouncedSet</span></code><span class="koboSpan" id="kobo.714.1"> function, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.715.1">setText</span></code><span class="koboSpan" id="kobo.716.1"> function will be called.</span></p>
<h2 class="heading-2" id="_idParaDest-232"><a id="_idTextAnchor259"/><span class="koboSpan" id="kobo.717.1">Debouncing changes in the post editor</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.718.1">Now that we have </span><a id="_idIndexMarker535"/><span class="koboSpan" id="kobo.719.1">learned about debouncing, we are going to implement it in combination with the History State Hook in our post editor. </span><span class="koboSpan" id="kobo.719.2">Follow these steps to get started:</span></p>
<ol>
<li class="numberedList" value="1"><span class="koboSpan" id="kobo.720.1">Copy the </span><code class="inlineCode"><span class="koboSpan" id="kobo.721.1">Chapter10_1</span></code><span class="koboSpan" id="kobo.722.1"> folder to a new </span><code class="inlineCode"><span class="koboSpan" id="kobo.723.1">Chapter10_2</span></code><span class="koboSpan" id="kobo.724.1"> folder by executing the following command:
        </span><pre class="programlisting con-one"><code class="hljs-con"><span class="koboSpan" id="kobo.725.1">$ cp -R Chapter10_1 Chapter10_2
</span></code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.726.1">Open the new </span><code class="inlineCode"><span class="koboSpan" id="kobo.727.1">Chapter10_2</span></code><span class="koboSpan" id="kobo.728.1"> folder in VS Code.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.729.1">Install the </span><code class="inlineCode"><span class="koboSpan" id="kobo.730.1">use-deboun</span><a id="_idTextAnchor260"/><span class="koboSpan" id="kobo.731.1">ce</span></code><span class="koboSpan" id="kobo.732.1"> library, as follows:
        </span><pre class="programlisting con-one"><code class="hljs-con"><span class="koboSpan" id="kobo.733.1">$ npm install --save-exact use-debounce@10.0.4
</span></code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.734.1">Edit </span><code class="inlineCode"><span class="koboSpan" id="kobo.735.1">src/components/post/CreatePost.jsx</span></code><span class="koboSpan" id="kobo.736.1"> and import the </span><code class="inlineCode"><span class="koboSpan" id="kobo.737.1">useState</span></code><span class="koboSpan" id="kobo.738.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.739.1">useEffect</span></code><span class="koboSpan" id="kobo.740.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.741.1">useDebouncedCallback</span></code><span class="koboSpan" id="kobo.742.1"> functions:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.743.1">import</span></span><span class="koboSpan" id="kobo.744.1"> { useActionState, </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.745.1">useState, useEffect</span></strong></span><span class="koboSpan" id="kobo.746.1"> } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.747.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.748.1">'react'</span></span>
<span class="code-highlight"><strong class="hljs-keyword-slc"><span class="koboSpan" id="kobo.749.1">import</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.750.1"> { useDebouncedCallback } </span></strong><strong class="hljs-keyword-slc"><span class="koboSpan" id="kobo.751.1">from</span></strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.752.1">'use-debounce'</span></strong></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.753.1">Define a new State Hook that will contain the controlled input value:
        </span><pre class="programlisting code-one"><code class="hljs-code"> <span class="hljs-keyword"><span class="koboSpan" id="kobo.754.1">const</span></span><span class="koboSpan" id="kobo.755.1"> { state, set, undo, redo, clear, canUndo, canRedo } =
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.756.1">useHistoryState</span></span><span class="koboSpan" id="kobo.757.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.758.1">''</span></span><span class="koboSpan" id="kobo.759.1">)
</span><span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-keyword-slc"><span class="koboSpan" id="kobo.760.1">const</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.761.1"> [content, setContent] = </span></strong><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.762.1">useState</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.763.1">(</span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.764.1">''</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.765.1">)</span></strong></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.766.1">Then, define</span><a id="_idIndexMarker536"/><span class="koboSpan" id="kobo.767.1"> a </span><strong class="keyWord"><span class="koboSpan" id="kobo.768.1">Debounced Callback Hook</span></strong><span class="koboSpan" id="kobo.769.1">, which will set the History State after 200 ms:
        </span><pre class="programlisting code-one"><code class="hljs-code"> <span class="hljs-keyword"><span class="koboSpan" id="kobo.770.1">const</span></span><span class="koboSpan" id="kobo.771.1"> debounced = </span><span class="hljs-title"><span class="koboSpan" id="kobo.772.1">useDebouncedCallback</span></span><span class="koboSpan" id="kobo.773.1">(</span><span class="hljs-function"><span class="koboSpan" id="kobo.774.1">(</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.775.1">value</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.776.1">) =&gt;</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.777.1">set</span></span><span class="koboSpan" id="kobo.778.1">(value), </span><span class="hljs-number"><span class="koboSpan" id="kobo.779.1">200</span></span><span class="koboSpan" id="kobo.780.1">)
</span></code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.781.1">Next, we have to define an Effect Hook, which will trigger whenever the History State changes, cancel the current debounce, and set the controlled input value to the current value from the History State Hook:
        </span><pre class="programlisting code-one"><code class="hljs-code"> <span class="hljs-title"><span class="koboSpan" id="kobo.782.1">useEffect</span></span><span class="koboSpan" id="kobo.783.1">(</span><span class="hljs-function"><span class="koboSpan" id="kobo.784.1">() =&gt;</span></span><span class="koboSpan" id="kobo.785.1"> {
    debounced.</span><span class="hljs-title"><span class="koboSpan" id="kobo.786.1">cancel</span></span><span class="koboSpan" id="kobo.787.1">()
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.788.1">setContent</span></span><span class="koboSpan" id="kobo.789.1">(state)
  }, [state, debounced])
</span></code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.790.1">Adjust the handler function to trigger the </span><code class="inlineCode"><span class="koboSpan" id="kobo.791.1">setContent</span></code><span class="koboSpan" id="kobo.792.1"> function to update the controlled input value, and the </span><code class="inlineCode"><span class="koboSpan" id="kobo.793.1">debounced</span></code><span class="koboSpan" id="kobo.794.1"> function to update the History State:
        </span><pre class="programlisting code-one"><code class="hljs-code"> <span class="hljs-keyword"><span class="koboSpan" id="kobo.795.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.796.1">handleContentChange</span></span><span class="koboSpan" id="kobo.797.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.798.1">e</span></span><span class="koboSpan" id="kobo.799.1">) {
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.800.1">const</span></span><span class="koboSpan" id="kobo.801.1"> { value } = e.</span><span class="hljs-property"><span class="koboSpan" id="kobo.802.1">target</span></span>
<span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.803.1">setContent</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.804.1">(value)</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.805.1">debounced</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.806.1">(value)</span></strong></span><span class="koboSpan" id="kobo.807.1">
  }
</span></code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.808.1">Finally, adjust the </span><code class="inlineCode"><span class="koboSpan" id="kobo.809.1">textarea</span></code><span class="koboSpan" id="kobo.810.1"> to use </span><code class="inlineCode"><span class="koboSpan" id="kobo.811.1">content</span></code><span class="koboSpan" id="kobo.812.1"> instead of </span><code class="inlineCode"><span class="koboSpan" id="kobo.813.1">state</span></code><span class="koboSpan" id="kobo.814.1"> for its value:
        </span><pre class="programlisting code-one"><code class="hljs-code"> <span class="hljs-tag"><span class="koboSpan" id="kobo.815.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.816.1">textarea</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.817.1">name</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.818.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.819.1">'content'</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.820.1">value</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.821.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.822.1">{</span></span><span class="code-highlight"><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.823.1">content</span></strong></span><span class="hljs-string"><span class="koboSpan" id="kobo.824.1">}</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.825.1">onChange</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.826.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.827.1">{handleContentChange}</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.828.1"> /&gt;</span></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.829.1">Start the blog app, as follows:
        </span><pre class="programlisting con-one"><code class="hljs-con"><span class="koboSpan" id="kobo.830.1">$ npm run dev
</span></code></pre>
</li>
</ol>
<p class="normal"><span class="koboSpan" id="kobo.831.1">We now instantly set the </span><a id="_idIndexMarker537"/><span class="koboSpan" id="kobo.832.1">controlled input value, but we do not store anything to the History State yet. </span><span class="koboSpan" id="kobo.832.2">After the debouncing callback triggers (after 200 ms), we store the current value to the History State. </span><span class="koboSpan" id="kobo.832.3">Whenever the History State updates, for example, when we press the </span><strong class="screenText"><span class="koboSpan" id="kobo.833.1">Undo</span></strong><span class="koboSpan" id="kobo.834.1">/</span><strong class="screenText"><span class="koboSpan" id="kobo.835.1">Redo</span></strong><span class="koboSpan" id="kobo.836.1"> buttons, we cancel the current debouncing to avoid overwriting the value after undoing/redoing. </span><span class="koboSpan" id="kobo.836.2">Then, we set the controlled input value to the new value of the History State Hook.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.837.1">If we now type some text into our editor, we can see that the </span><strong class="screenText"><span class="koboSpan" id="kobo.838.1">Undo</span></strong><span class="koboSpan" id="kobo.839.1"> button only activates after a while. </span><span class="koboSpan" id="kobo.839.2">If we now press the </span><strong class="screenText"><span class="koboSpan" id="kobo.840.1">Undo</span></strong><span class="koboSpan" id="kobo.841.1"> button, we can see that we will not undo character-by-character, but more </span><a id="_idIndexMarker538"/><span class="koboSpan" id="kobo.842.1">text at once. </span><span class="koboSpan" id="kobo.842.2">As we can see, undo/redo works very well together with debouncing!</span></p>
<h2 class="heading-2" id="_idParaDest-233"><a id="_idTextAnchor261"/><span class="koboSpan" id="kobo.843.1">Difference between debounced and deferred values</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.844.1">You may remember </span><a id="_idIndexMarker539"/><span class="koboSpan" id="kobo.845.1">that in </span><a href="Chapter_09.xhtml#_idTextAnchor200"><em class="italic"><span class="koboSpan" id="kobo.846.1">Chapter 9</span></em></a><span class="koboSpan" id="kobo.847.1">, </span><em class="italic"><span class="koboSpan" id="kobo.848.1">Advanced Hooks Provided by React</span></em><span class="koboSpan" id="kobo.849.1">, we used the </span><strong class="keyWord"><span class="koboSpan" id="kobo.850.1">Deferred Value Hook</span></strong><span class="koboSpan" id="kobo.851.1"> to wait for the new search results to come in before showing them, letting us avoid showing a loading screen while waiting for new results. </span><span class="koboSpan" id="kobo.851.2">While we could have used debouncing there as well, there are certain downsides to using debounce for this use case.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.852.1">The main difference between debounced and deferred values is that when debouncing, we define a fixed time interval after which the value is updated. </span><span class="koboSpan" id="kobo.852.2">Deferred values, however, will keep attempting to update after every change (and cancel them if a new change comes in). </span><span class="koboSpan" id="kobo.852.3">Thus, deferred values are not limited to a fixed time interval, but instead limited by the speed at which the requests can be processed.</span></p>
<div class="note">
<p class="normal"><strong class="keyWord"><span class="koboSpan" id="kobo.853.1">Example code</span></strong></p>
<p class="normal"><span class="koboSpan" id="kobo.854.1">The example code for this section can be found in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.855.1">Chapter10/Chapter10_2</span></code><span class="koboSpan" id="kobo.856.1"> folder. </span><span class="koboSpan" id="kobo.856.2">Check the </span><code class="inlineCode"><span class="koboSpan" id="kobo.857.1">README.md</span></code><span class="koboSpan" id="kobo.858.1"> file inside the folder for instructions on how to set up and run the example.</span></p>
</div>
<h1 class="heading-1" id="_idParaDest-234"><a id="_idTextAnchor262"/><span class="koboSpan" id="kobo.859.1">Learning about various utility Hooks</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.860.1">We are now going to learn </span><a id="_idIndexMarker540"/><span class="koboSpan" id="kobo.861.1">about a selection of some useful utility Hooks provided by the useHooks library.</span></p>
<h2 class="heading-2" id="_idParaDest-235"><a id="_idTextAnchor263"/><span class="koboSpan" id="kobo.862.1">useCopyToClipboard</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.863.1">The </span><strong class="keyWord"><span class="koboSpan" id="kobo.864.1">Copy To Clipboard Hook</span></strong><span class="koboSpan" id="kobo.865.1"> makes</span><a id="_idIndexMarker541"/><span class="koboSpan" id="kobo.866.1"> it easy to copy text to the clipboard across</span><a id="_idIndexMarker542"/><span class="koboSpan" id="kobo.867.1"> various browsers. </span><span class="koboSpan" id="kobo.867.2">If available, it uses the modern </span><code class="inlineCode"><span class="koboSpan" id="kobo.868.1">navigator.clipboard.writeText</span></code><span class="koboSpan" id="kobo.869.1"> API. </span><span class="koboSpan" id="kobo.869.2">Otherwise, it falls back to the traditional </span><code class="inlineCode"><span class="koboSpan" id="kobo.870.1">document.execCommand("copy")</span></code><span class="koboSpan" id="kobo.871.1"> method, ensuring that the functionality works for older and newer browsers. </span><span class="koboSpan" id="kobo.871.2">This Hook is also provided by </span><a href="https://www.useHooks.com"><span class="url">
</span></a><span class="koboSpan" id="kobo.872.1">.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.873.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.874.1">useCopyToClipboard</span></code><span class="koboSpan" id="kobo.875.1"> function has the following signature:</span></p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.876.1">const</span></span><span class="koboSpan" id="kobo.877.1"> [copiedText, copyToClipboard] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.878.1">useCopyToClipboard</span></span><span class="koboSpan" id="kobo.879.1">()
</span></code></pre>
<p class="normal"><span class="koboSpan" id="kobo.880.1">It provides a similar API to the State Hook, with a </span><code class="inlineCode"><span class="koboSpan" id="kobo.881.1">copyToClipboard</span></code><span class="koboSpan" id="kobo.882.1"> function that accepts a string and copies it to the clipboard, as well as storing it in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.883.1">copiedText</span></code><span class="koboSpan" id="kobo.884.1"> value. </span><span class="koboSpan" id="kobo.884.2">This value can also be used to check if we successfully copied the text to the clipboard.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.885.1">Let’s now use the Hook to</span><a id="_idIndexMarker543"/><span class="koboSpan" id="kobo.886.1"> implement a way of copying a link to blog </span><a id="_idIndexMarker544"/><span class="koboSpan" id="kobo.887.1">posts:</span></p>
<ol>
<li class="numberedList" value="1"><span class="koboSpan" id="kobo.888.1">Copy the </span><code class="inlineCode"><span class="koboSpan" id="kobo.889.1">Chapter10_2</span></code><span class="koboSpan" id="kobo.890.1"> folder to a new </span><code class="inlineCode"><span class="koboSpan" id="kobo.891.1">Chapter10_3</span></code><span class="koboSpan" id="kobo.892.1"> folder by executing the following command:
        </span><pre class="programlisting con-one"><code class="hljs-con"><span class="koboSpan" id="kobo.893.1">$ cp -R Chapter10_2 Chapter10_3
</span></code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.894.1">Open the new </span><code class="inlineCode"><span class="koboSpan" id="kobo.895.1">Chapter10_3</span></code><span class="koboSpan" id="kobo.896.1"> folder in VS Code.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.897.1">Create a new </span><code class="inlineCode"><span class="koboSpan" id="kobo.898.1">src/components/post/CopyLink.jsx</span></code><span class="koboSpan" id="kobo.899.1"> file.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.900.1">Inside it, import the </span><code class="inlineCode"><span class="koboSpan" id="kobo.901.1">useCopyToClipboard</span></code><span class="koboSpan" id="kobo.902.1"> function:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.903.1">import</span></span><span class="koboSpan" id="kobo.904.1"> { useCopyToClipboard } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.905.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.906.1">'@uidotdev/usehooks'</span></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.907.1">Define a checkmark and link emoji for the copy link button:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.908.1">const</span></span> <span class="hljs-variable"><span class="koboSpan" id="kobo.909.1">CHECKMARK_EMOJI</span></span><span class="koboSpan" id="kobo.910.1"> = </span><span class="hljs-tag"><span class="koboSpan" id="kobo.911.1">&lt;&gt;</span></span><span class="hljs-symbol"><span class="koboSpan" id="kobo.912.1">&amp;#9989;</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.913.1">&lt;/&gt;</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.914.1">const</span></span> <span class="hljs-variable"><span class="koboSpan" id="kobo.915.1">LINK_EMOJI</span></span><span class="koboSpan" id="kobo.916.1"> = </span><span class="hljs-tag"><span class="koboSpan" id="kobo.917.1">&lt;&gt;</span></span><span class="hljs-symbol"><span class="koboSpan" id="kobo.918.1">&amp;#128279;</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.919.1">&lt;/&gt;</span></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.920.1">Then, define a component that accepts a </span><code class="inlineCode"><span class="koboSpan" id="kobo.921.1">url</span></code><span class="koboSpan" id="kobo.922.1">:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.923.1">export</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.924.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.925.1">CopyLink</span></span><span class="koboSpan" id="kobo.926.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.927.1">{ url }</span></span><span class="koboSpan" id="kobo.928.1">) {
</span></code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.929.1">Inside the component, define the Copy To Clipboard Hook, as follows:
        </span><pre class="programlisting code-one"><code class="hljs-code"> <span class="hljs-keyword"><span class="koboSpan" id="kobo.930.1">const</span></span><span class="koboSpan" id="kobo.931.1"> [copiedText, copyToClipboard] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.932.1">useCopyToClipboard</span></span><span class="koboSpan" id="kobo.933.1">()
</span></code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.934.1">Now, render a button that trig</span><a id="_idTextAnchor264"/><span class="koboSpan" id="kobo.935.1">gers the </span><code class="inlineCode"><span class="koboSpan" id="kobo.936.1">copyToClipboard</span></code><span class="koboSpan" id="kobo.937.1"> function:
        </span><pre class="programlisting code-one"><code class="hljs-code"> <span class="hljs-keyword"><span class="koboSpan" id="kobo.938.1">return</span></span><span class="koboSpan" id="kobo.939.1"> (
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.940.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.941.1">button</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.942.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.943.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.944.1">'button'</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.945.1">onClick</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.946.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.947.1">{()</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.948.1"> =&gt;</span></span><span class="koboSpan" id="kobo.949.1"> copyToClipboard(url)}&gt;
</span></code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.950.1">If the link was already copied, show the checkmark symbol, otherwise the link symbol:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="koboSpan" id="kobo.951.1">      {copiedText ? </span><span class="hljs-variable"><span class="koboSpan" id="kobo.952.1">CHECKMARK_EMOJI</span></span><span class="koboSpan" id="kobo.953.1"> : </span><span class="hljs-variable"><span class="koboSpan" id="kobo.954.1">LINK_EMOJI</span></span><span class="koboSpan" id="kobo.955.1">}
    &lt;/</span><span class="hljs-name"><span class="koboSpan" id="kobo.956.1">button</span></span><span class="koboSpan" id="kobo.957.1">&gt;
  )
}
</span></code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.958.1">Edit </span><code class="inlineCode"><span class="koboSpan" id="kobo.959.1">src/components/post/Post.jsx</span></code><span class="koboSpan" id="kobo.960.1"> and import the </span><code class="inlineCode"><span class="koboSpan" id="kobo.961.1">CopyLink</span></code><span class="koboSpan" id="kobo.962.1"> component:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.963.1">import</span></span><span class="koboSpan" id="kobo.964.1"> { </span><span class="hljs-title"><span class="koboSpan" id="kobo.965.1">CopyLink</span></span><span class="koboSpan" id="kobo.966.1"> } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.967.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.968.1">'./CopyLink.jsx'</span></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.969.1">Render</span><a id="_idIndexMarker545"/><span class="koboSpan" id="kobo.970.1"> the component next to the title of the blog post, passing</span><a id="_idIndexMarker546"/><span class="koboSpan" id="kobo.971.1"> the current URL to it:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="koboSpan" id="kobo.972.1">      &lt;h3 style={{ </span><span class="hljs-attr"><span class="koboSpan" id="kobo.973.1">color</span></span><span class="koboSpan" id="kobo.974.1">: theme.</span><span class="hljs-property"><span class="koboSpan" id="kobo.975.1">primaryColor</span></span><span class="koboSpan" id="kobo.976.1"> }}&gt;
        {title} </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.977.1">&lt;</span></strong><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.978.1">CopyLink</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.979.1"> url={</span></strong><strong class="hljs-variable-slc"><span class="koboSpan" id="kobo.980.1">window</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.981.1">.</span></strong><strong class="hljs-property-slc"><span class="koboSpan" id="kobo.982.1">location</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.983.1">.</span></strong><strong class="hljs-property-slc"><span class="koboSpan" id="kobo.984.1">href</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.985.1">} /&gt;</span></strong></span><span class="koboSpan" id="kobo.986.1">
      &lt;/h3&gt;
</span></code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.987.1">Start the blog app, as follows:
        </span><pre class="programlisting con-one"><code class="hljs-con"><span class="koboSpan" id="kobo.988.1">$ npm run dev
</span></code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.989.1">Click on one of the </span><strong class="screenText"><span class="koboSpan" id="kobo.990.1">View post &gt;</span></strong><span class="koboSpan" id="kobo.991.1"> links to go to the single post page. </span><span class="koboSpan" id="kobo.991.2">You will see a button with the link emoji now:</span></li>
</ol>
<figure class="mediaobject"><span class="koboSpan" id="kobo.992.1"><img alt="Figure 10.2 – Showing a “copy link” button next to the blog post title" src="../Images/B31327_10_02.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.993.1">Figure 10.2 – Showing a “copy link” button next to the blog post title</span></p>
<ol>
<li class="numberedList" value="1"><span class="koboSpan" id="kobo.994.1">After</span><a id="_idIndexMarker547"/><span class="koboSpan" id="kobo.995.1"> clicking this button, it will show the checkmark</span><a id="_idIndexMarker548"/><span class="koboSpan" id="kobo.996.1"> emoji and copy the current URL to your clipboard:</span></li>
</ol>
<figure class="mediaobject"><span class="koboSpan" id="kobo.997.1"><img alt="Figure 10.3 – The state of the button after successfully copying the link" src="../Images/B31327_10_03.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.998.1">Figure 10.3 – The state of the button after successfully copying the link</span></p>
<p class="normal"><span class="koboSpan" id="kobo.999.1">Try pasting the link somewhere to see if it worked!</span></p>
<h2 class="heading-2" id="_idParaDest-236"><a id="_idTextAnchor265"/><span class="koboSpan" id="kobo.1000.1">useHover</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.1001.1">The </span><strong class="keyWord"><span class="koboSpan" id="kobo.1002.1">Hover Hook</span></strong><span class="koboSpan" id="kobo.1003.1"> tracks</span><a id="_idIndexMarker549"/><span class="koboSpan" id="kobo.1004.1"> whether an element is being hovered over by the user. </span><span class="koboSpan" id="kobo.1004.2">It </span><a id="_idIndexMarker550"/><span class="koboSpan" id="kobo.1005.1">has the following signature:</span></p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1006.1">const</span></span><span class="koboSpan" id="kobo.1007.1"> [ref, hovering] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.1008.1">useHover</span></span><span class="koboSpan" id="kobo.1009.1">()
</span></code></pre>
<p class="normal"><span class="koboSpan" id="kobo.1010.1">As we can see, it returns a </span><code class="inlineCode"><span class="koboSpan" id="kobo.1011.1">ref</span></code><span class="koboSpan" id="kobo.1012.1">, which we need to pass to the element that we want to track the hover state of. </span><span class="koboSpan" id="kobo.1012.2">It also returns a </span><code class="inlineCode"><span class="koboSpan" id="kobo.1013.1">hovering</span></code><span class="koboSpan" id="kobo.1014.1"> state, which will be </span><code class="inlineCode"><span class="koboSpan" id="kobo.1015.1">true</span></code><span class="koboSpan" id="kobo.1016.1"> if the user is hovering over the element, and </span><code class="inlineCode"><span class="koboSpan" id="kobo.1017.1">false</span></code><span class="koboSpan" id="kobo.1018.1"> if they are not. </span><span class="koboSpan" id="kobo.1018.2">This Hook is also provided by </span><a href="https://www.useHooks.com"><span class="url"><span class="koboSpan" id="kobo.1019.1">useHooks.com</span></span></a><span class="koboSpan" id="kobo.1020.1">.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.1021.1">Let’s now use the Hover Hook to show a hint when the user hovers over the copy link button:</span></p>
<ol>
<li class="numberedList" value="1"><span class="koboSpan" id="kobo.1022.1">Edit </span><code class="inlineCode"><span class="koboSpan" id="kobo.1023.1">src/components/post/CopyLink.jsx</span></code><span class="koboSpan" id="kobo.1024.1"> and import the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1025.1">useHover</span></code><span class="koboSpan" id="kobo.1026.1"> function:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1027.1">import</span></span><span class="koboSpan" id="kobo.1028.1"> { useCopyToClipboard, </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1029.1">useHover</span></strong></span><span class="koboSpan" id="kobo.1030.1"> } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1031.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.1032.1">'@uidotdev/usehooks'</span></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.1033.1">Then, define a Hover Hook:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1034.1">export</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.1035.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1036.1">CopyLink</span></span><span class="koboSpan" id="kobo.1037.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1038.1">{ url }</span></span><span class="koboSpan" id="kobo.1039.1">) {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1040.1">const</span></span><span class="koboSpan" id="kobo.1041.1"> [copiedText, copyToClipboard] = </span><span class="hljs-title"><span class="koboSpan" id="kobo.1042.1">useCopyToClipboard</span></span><span class="koboSpan" id="kobo.1043.1">()
</span><span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-keyword-slc"><span class="koboSpan" id="kobo.1044.1">const</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.1045.1"> [ref, hovering] = </span></strong><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.1046.1">useHover</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.1047.1">()</span></strong></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.1048.1">Create a Fragment, so that we can display a message next to the button:
        </span><pre class="programlisting code-one"><code class="hljs-code"> <span class="hljs-keyword"><span class="koboSpan" id="kobo.1049.1">return</span></span><span class="koboSpan" id="kobo.1050.1"> (
    </span><span class="code-highlight"><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.1051.1">&lt;&gt;</span></strong></span>
</code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.1052.1">Pass the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1053.1">ref</span></code><span class="koboSpan" id="kobo.1054.1"> of the Hover Hook to the button:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="koboSpan" id="kobo.1055.1">      &lt;button </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1056.1">ref={ref}</span></strong></span><span class="koboSpan" id="kobo.1057.1"> type=</span><span class="hljs-string"><span class="koboSpan" id="kobo.1058.1">'button'</span></span><span class="koboSpan" id="kobo.1059.1"> onClick={</span><span class="hljs-function"><span class="koboSpan" id="kobo.1060.1">() =&gt;</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1061.1">copyToClipboard</span></span><span class="koboSpan" id="kobo.1062.1">(url)}&gt;
</span></code></pre>
</li>
<li class="numberedList"><span class="koboSpan" id="kobo.1063.1">If we are hovering over the button, show a small info text, as follows:
        </span><pre class="programlisting code-one"><code class="hljs-code"><span class="koboSpan" id="kobo.1064.1">        {copiedText ? </span><span class="hljs-variable"><span class="koboSpan" id="kobo.1065.1">CHECKMARK_EMOJI</span></span><span class="koboSpan" id="kobo.1066.1"> : </span><span class="hljs-variable"><span class="koboSpan" id="kobo.1067.1">LINK_EMOJI</span></span><span class="koboSpan" id="kobo.1068.1">}
      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1069.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1070.1">button</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1071.1">&gt;</span></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1072.1">      {hovering &amp;&amp; (</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.1073.1">&lt;</span></strong><strong class="hljs-name-slc"><span class="koboSpan" id="kobo.1074.1">small</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.1075.1">&gt;</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.1076.1">&lt;</span></strong><strong class="hljs-name-slc"><span class="koboSpan" id="kobo.1077.1">i</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.1078.1">&gt;</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.1079.1"> {copiedText ? </span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.1080.1">'copied!'</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.1081.1"> : </span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.1082.1">'click to copy a link to the </span></strong></span>
<span class="code-highlight"><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.1083.1">            post'</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.1084.1">}</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.1085.1">&lt;/</span></strong><strong class="hljs-name-slc"><span class="koboSpan" id="kobo.1086.1">i</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.1087.1">&gt;</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.1088.1">&lt;/</span></strong><strong class="hljs-name-slc"><span class="koboSpan" id="kobo.1089.1">small</span></strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.1090.1">&gt;</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1091.1">      )}</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"> </strong><strong class="hljs-tag-slc"><span class="koboSpan" id="kobo.1092.1">&lt;/&gt;</span></strong></span><span class="koboSpan" id="kobo.1093.1">
  )
}
</span></code></pre>
<div class="note">
<p class="normal"><span class="koboSpan" id="kobo.1094.1">In real world projects, most </span><a id="_idIndexMarker551"/><span class="koboSpan" id="kobo.1095.1">hover effects in the UI would be done with CSS. </span><span class="koboSpan" id="kobo.1095.2">A real world example</span><a id="_idIndexMarker552"/><span class="koboSpan" id="kobo.1096.1"> for using the Hover Hook would be to send events to an analytics API on hover. </span><span class="koboSpan" id="kobo.1096.2">However, this would be a significantly longer example than showing a text on hover.</span></p>
</div>
</li>
</ol>
<p class="normal"><span class="koboSpan" id="kobo.1097.1">Try hovering over the copy link button now, and you will see the info text:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.1098.1"><img alt="Figure 10.4 – Showing an info text when hovering over the button" src="../Images/B31327_10_04.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.1099.1">Figure 10.4 – Showing an info text when hovering over the button</span></p>
<div class="note">
<p class="normal"><strong class="keyWord"><span class="koboSpan" id="kobo.1100.1">Example code</span></strong></p>
<p class="normal"><span class="koboSpan" id="kobo.1101.1">The example code for this section can be found in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1102.1">Chapter10/Chapter10_3</span></code><span class="koboSpan" id="kobo.1103.1"> folder. </span><span class="koboSpan" id="kobo.1103.2">Check the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1104.1">README.md</span></code><span class="koboSpan" id="kobo.1105.1"> file</span><a id="_idIndexMarker553"/><span class="koboSpan" id="kobo.1106.1"> inside</span><a id="_idIndexMarker554"/><span class="koboSpan" id="kobo.1107.1"> the folder for instructions on how to set up and run the example.</span></p>
</div>
<h1 class="heading-1" id="_idParaDest-237"><a id="_idTextAnchor266"/><span class="koboSpan" id="kobo.1108.1">Finding more community Hooks</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.1109.1">We have already </span><a id="_idIndexMarker555"/><span class="koboSpan" id="kobo.1110.1">learned about the collection of Hooks provided by </span><a href="https://www.useHooks.com"><span class="url"><span class="koboSpan" id="kobo.1111.1">useHooks.com</span></span></a><span class="koboSpan" id="kobo.1112.1">. </span><span class="koboSpan" id="kobo.1112.2">However, there are many more Hooks that are provided by the community. </span><span class="koboSpan" id="kobo.1112.3">You can find a searchable list of various Hooks on the following page: </span><a href="https://nikgraf.github.io/react-hooks/"><span class="url"><span class="koboSpan" id="kobo.1113.1">https://nikgraf.github.io/react-hooks/</span></span></a><span class="koboSpan" id="kobo.1114.1">.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.1115.1">To give you an idea of which other Hooks are out there, the following features are provided by community Hooks. </span><span class="koboSpan" id="kobo.1115.2">We now list a couple more interesting Hooks provided by the community.</span></p>
<ul>
<li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.1116.1">use-events</span></code><span class="koboSpan" id="kobo.1117.1"> (</span><a href="https://github.com/sandiiarov/use-events"><span class="url"><span class="koboSpan" id="kobo.1118.1">https://github.com/sandiiarov/use-events</span></span></a><span class="koboSpan" id="kobo.1119.1">): Various JavaScript events that have been turned into Hooks, such as mouse position, touch events, clicking outside, and so on.</span></li>
<li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.1120.1">react-use</span></code><span class="koboSpan" id="kobo.1121.1"> (</span><a href="https://github.com/streamich/react-use"><span class="url"><span class="koboSpan" id="kobo.1122.1">https://github.com/streamich/react-use</span></span></a><span class="koboSpan" id="kobo.1123.1">): Various Hooks to deal with sensors (</span><code class="inlineCode"><span class="koboSpan" id="kobo.1124.1">useBattery</span></code><span class="koboSpan" id="kobo.1125.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.1126.1">useIdle</span></code><span class="koboSpan" id="kobo.1127.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.1128.1">useGeolocation</span></code><span class="koboSpan" id="kobo.1129.1">, and so on), UI (</span><code class="inlineCode"><span class="koboSpan" id="kobo.1130.1">useAudio</span></code><span class="koboSpan" id="kobo.1131.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.1132.1">useCss</span></code><span class="koboSpan" id="kobo.1133.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.1134.1">useFullscreen</span></code><span class="koboSpan" id="kobo.1135.1">, and so on), animations (</span><code class="inlineCode"><span class="koboSpan" id="kobo.1136.1">useSpring</span></code><span class="koboSpan" id="kobo.1137.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.1138.1">useTween</span></code><span class="koboSpan" id="kobo.1139.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.1140.1">useRaf</span></code><span class="koboSpan" id="kobo.1141.1">, and so on), and side effects (</span><code class="inlineCode"><span class="koboSpan" id="kobo.1142.1">useAsync</span></code><span class="koboSpan" id="kobo.1143.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.1144.1">useDebounce</span></code><span class="koboSpan" id="kobo.1145.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.1146.1">useFavicon</span></code><span class="koboSpan" id="kobo.1147.1">, and so on)</span></li>
</ul>
<p class="normal"><span class="koboSpan" id="kobo.1148.1">Of course, there are</span><a id="_idIndexMarker556"/><span class="koboSpan" id="kobo.1149.1"> many more Hooks to be found on GitHub and npm.</span></p>
<h1 class="heading-1" id="_idParaDest-238"><a id="_idTextAnchor267"/><span class="koboSpan" id="kobo.1150.1">Summary</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.1151.1">In this chapter, we first learned how to persistently store data in the browser by using the LocalStorage API via the Local Storage Hook. </span><span class="koboSpan" id="kobo.1151.2">Then, we implemented undo/redo functionality in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1152.1">CreatePost</span></code><span class="koboSpan" id="kobo.1153.1"> component using the History State Hook. </span><span class="koboSpan" id="kobo.1153.2">Next, we learned about debouncing and implemented it using the Debounced Callback Hook. </span><span class="koboSpan" id="kobo.1153.3">Then, we learned about some utility Hooks to copy to clipboard and handle hover states. </span><span class="koboSpan" id="kobo.1153.4">Finally, we learned where to find more community Hooks.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.1154.1">In the next chapter, we are going to learn about the rules of Hooks, teaching us the basics we need to know before developing our own custom Hooks.</span></p>
<h1 class="heading-1" id="_idParaDest-239"><a id="_idTextAnchor268"/><span class="koboSpan" id="kobo.1155.1">Questions</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.1156.1">To recap what we have learned in this chapter, try to answer the following questions:</span></p>
<ol>
<li class="numberedList" value="1"><span class="koboSpan" id="kobo.1157.1">Which Hook can we use to persistently store information in the browser?</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.1158.1">Which Hook can we use to implement undo/redo functionality?</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.1159.1">What is debouncing? </span><span class="koboSpan" id="kobo.1159.2">Why do we need to do it?</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.1160.1">Which Hook can we use for debouncing?</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.1161.1">How does debouncing values differ from deferring values?</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.1162.1">Where can we find more Hooks?</span></li>
</ol>
<h1 class="heading-1" id="_idParaDest-240"><a id="_idTextAnchor269"/><span class="koboSpan" id="kobo.1163.1">Further reading</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.1164.1">If you are interested in more information about the concepts that we have learned in this chapter, take a look at the following book and links:</span></p>
<ul>
<li class="bulletList"><em class="italic"><span class="koboSpan" id="kobo.1165.1">Modern Full-Stack React Projects</span></em><span class="koboSpan" id="kobo.1166.1"> by Daniel Bugl</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.1167.1">useHooks website: </span><a href="https://useho﻿oks.com"><span class="url"><span class="koboSpan" id="kobo.1168.1">https://useho</span><span id="_idTextAnchor270"/><span class="koboSpan" id="kobo.1169.1">oks.com</span></span></a></li>
<li class="bulletList"><span class="koboSpan" id="kobo.1170.1">use-debounce library documentation: </span><a href="https://github.com/xnimorz/use-debounce"><span class="url"><span class="koboSpan" id="kobo.1171.1">https://github.com/xnimorz/use-debounce</span></span></a></li>
<li class="bulletList"><span class="koboSpan" id="kobo.1172.1">Collection of React Hooks: </span><a href="https://nikgraf.github.io/react-hooks/"><span class="url"><span class="koboSpan" id="kobo.1173.1">https://nikgraf.github.io/react-hooks/</span></span></a></li>
</ul>
<h1 class="heading-1"><span class="koboSpan" id="kobo.1174.1">Learn more on Discord</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.1175.1">To join the Discord community for this book – where you can share feedback, ask questions to the author, and learn about new releases – follow the QR code below:</span></p>
<p class="normal"><a href="Chapter_10.xhtml"><span class="url"><span class="koboSpan" id="kobo.1176.1">https://packt.link/wnXT0</span></span></a></p>
<p class="normal"><span class="koboSpan" id="kobo.1177.1"><img alt="" src="../Images/image_%283%29.png"/></span></p>
</div>
</body></html>