<html><head></head><body>
		<div id="_idContainer020">
			<h1 id="_idParaDest-15" class="chapter-number"><a id="_idTextAnchor018"/><st c="0">1</st></h1>
			<h1 id="_idParaDest-16"><a id="_idTextAnchor019"/><st c="2">Taking Your First Steps with TDD</st></h1>
			<p><strong class="bold"><st c="34">Test-driven development</st></strong><st c="58"> (</st><strong class="bold"><st c="60">TDD</st></strong><st c="63">) is a</st><a id="_idIndexMarker000"/><st c="70"> software development process that’s widely used in Angular development to ensure code quality and reduce time spent debugging. </st><st c="198">By writing automated tests before writing production code, developers can ensure that their code meets the desired specifications and can be easily modified and maintained </st><span class="No-Break"><st c="370">over time.</st></span></p>
			<p><st c="380">In this chapter, we’ll explore the early stages of TDD in Angular. </st><st c="448">We’ll start by discussing the role of TDD in Angular development and how it can help improve the quality of your code. </st><st c="567">Then, we’ll set up the development environment, which involves installing the necessary tools </st><span class="No-Break"><st c="661">and dependencies.</st></span></p>
			<p><st c="678">Next, we’ll create a new Angular project and explore the various files related to writing tests, including the spec files, which contain the actual tests, and the </st><strong class="source-inline"><st c="842">karma.conf.js</st></strong><st c="855"> file, which is used to configure the </st><span class="No-Break"><st c="893">testing framework.</st></span></p>
			<p><st c="911">Throughout this chapter, I will provide examples and best practices for writing effective tests in Angular, such as using descriptive test names, testing all code paths, and using dummy data to simulate </st><span class="No-Break"><st c="1115">different scenarios.</st></span></p>
			<p><st c="1135">By the end of this chapter, you’ll have a solid understanding of the basics of TDD in Angular and how to start using it. </st><st c="1257">Whether you’re new to TDD or looking to improve your skills, this chapter will provide you with the knowledge and tools you’ll need to create high-quality Angular applications using </st><span class="No-Break"><st c="1439">this approach.</st></span></p>
			<p><st c="1453">We will cover the </st><span class="No-Break"><st c="1472">following topics:</st></span></p>
			<ul>
				<li><st c="1489">Understanding TDD and its role </st><span class="No-Break"><st c="1521">in Angular</st></span></li>
				<li><st c="1531">Setting up the </st><span class="No-Break"><st c="1547">development environment</st></span></li>
				<li><st c="1570">Creating a new </st><span class="No-Break"><st c="1586">Angular project</st></span></li>
				<li><st c="1601">Exploring different files related to </st><span class="No-Break"><st c="1639">writing tests</st></span></li>
			</ul>
			<h1 id="_idParaDest-17"><a id="_idTextAnchor020"/><st c="1652">Technical requirements</st></h1>
			<p><st c="1675">To follow along with the examples and exercises in this chapter, you will need to have a basic understanding of Angular and TypeScript, as well as a code editor, such as Visual Studio Code, installed on </st><span class="No-Break"><st c="1879">your computer</st></span></p>
			<p><st c="1892">All the code files for this chapter can be found </st><span class="No-Break"><st c="1942">at </st></span><a href="https://github.com/PacktPublishing/Mastering-Angular-Test-Driven-Development/tree/main/Chapter%201"><span class="No-Break"><st c="1945">https://github.com/PacktPublishing/Mastering-Angular-Test-Driven-Development/tree/main/Chapter%201</st></span></a><span class="No-Break"><st c="2043">.</st></span></p>
			<h1 id="_idParaDest-18"><a id="_idTextAnchor021"/><st c="2044">Understanding TDD and its role in Angular</st></h1>
			<p><st c="2086">In this section, we will explore</st><a id="_idIndexMarker001"/><st c="2119"> the fundamentals of TDD and its role in Angular development. </st><st c="2181">We’ll start by discussing the benefits of using TDD in general, such </st><a id="_idIndexMarker002"/><st c="2250">as improved code quality, faster development cycles, and reduced debugging time. </st><st c="2331">Then, we’ll look at how TDD fits into the overall Angular development process and how it can be used to create scalable and </st><span class="No-Break"><st c="2455">maintainable applications.</st></span></p>
			<h2 id="_idParaDest-19"><a id="_idTextAnchor022"/><st c="2481">What is Angular and TDD?</st></h2>
			<p><st c="2506">Angular is a popul</st><a id="_idTextAnchor023"/><st c="2525">ar </st><a id="_idIndexMarker003"/><st c="2529">open source JavaScript framework that’s used for building complex web applications. </st><st c="2613">It was developed by Google and is widely used by developers around the </st><a id="_idIndexMarker004"/><st c="2684">world. </st><st c="2691">Angular provides a set of tools and features that make it easy to build dynamic, responsive, and scalable </st><span class="No-Break"><st c="2797">web applications.</st></span></p>
			<p><st c="2814">Angular is a component-based framework that allows developers to build reusable UI components. </st><st c="2910">These components can be combined to create complex user interfaces, making it easy to maintain and extend the application. </st><st c="3033">Angular also provides built-in support for testing, making it easy to write and execute tests for </st><span class="No-Break"><st c="3131">Angular applications.</st></span></p>
			<p><st c="3152">TDD is a dynamic methodology in software development that prioritizes incrementally creating tests before the code is</st><a id="_idIndexMarker005"/><st c="3270"> implemented. </st><st c="3284">The TDD process revolves around a structured sequence known as the </st><strong class="bold"><st c="3351">red-green-refactor</st></strong><st c="3369"> cycle, which consists of the </st><span class="No-Break"><st c="3399">following stages:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="3416">Writing a failing test</st></strong><st c="3439">: Initiate the cycle by crafting a test that intentionally fails. </st><st c="3506">This test serves as a specification for the </st><span class="No-Break"><st c="3550">desired functionality.</st></span></li>
				<li><strong class="bold"><st c="3572">Prohibiting overly complex tests</st></strong><st c="3605">: Emphasize the creation of tests that are only as intricate as necessary. </st><st c="3681">Avoiding unnecessary complexity ensures that tests remain focused on specific functionalities, enhancing clarity </st><span class="No-Break"><st c="3794">and maintainability.</st></span></li>
				<li><strong class="bold"><st c="3814">Minimizing code implementation</st></strong><st c="3845">: Write the minimum code required to pass the failing test. </st><st c="3906">This minimalist approach ensures that code is dedicated to fulfilling the </st><span class="No-Break"><st c="3980">specified requirements.</st></span></li>
			</ul>
			<p><st c="4003">The iterative nature of TDD </st><a id="_idIndexMarker006"/><st c="4032">unfolds as follows: writing a failing test, implementing the code to pass the test, and refactoring the code to enhance code design and maintainability. </st><st c="4185">This </st><a id="_idIndexMarker007"/><st c="4190">iterative loop persists until the entire code base </st><span class="No-Break"><st c="4241">is complete.</st></span></p>
			<p><st c="4253">TDD’s unique approach to writing tests before code execution serves a dual purpose. </st><st c="4338">First, it guarantees code correctness by aligning with predefined test requirements. </st><st c="4423">Second, it fosters the creation of clean, maintainable, and adaptable code. </st><st c="4499">Developers are encouraged to adhere to best practices, resulting in code that is easily comprehensible, modifiable, and extensible throughout the software development </st><span class="No-Break"><st c="4666">life cycle.</st></span></p>
			<p><st c="4677">Now that we know what Angular</st><a id="_idTextAnchor024"/><st c="4707"> is and looked at the benefits of using the TDD approach, let’s understand the </st><span class="No-Break"><st c="4786">red-green-refactor cycle.</st></span></p>
			<h2 id="_idParaDest-20"><a id="_idTextAnchor025"/><st c="4811">The red-green-refactor cycle</st></h2>
			<p><st c="4840">The red-green-refactor cycle is a fundamental concept in TDD. </st><st c="4903">It serves as a robust and systematic methodology in </st><a id="_idIndexMarker008"/><st c="4955">software development that offers developers a structured framework for incremental progress. </st><st c="5048">This approach is designed to break down the development process into discrete, manageable</st><a id="_idIndexMarker009"/><st c="5137"> steps, guaranteeing code correctness and alignment with predefined test requirements. </st><st c="5224">Now, let’s delve into the technical nuances of each phase – red, green, and refactor – within this </st><span class="No-Break"><st c="5323">iterative process:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="5341">Red – writing a </st></strong><span class="No-Break"><strong class="bold"><st c="5358">failing test</st></strong></span><span class="No-Break"><st c="5370">:</st></span><p class="list-inset"><st c="5372">The first step in the red-green-refactor cycle is to write a failing test. </st><st c="5447">The test should define the desired behavior of the code and should be written in a way that it fails initially. </st><st c="5559">This is</st><a id="_idIndexMarker010"/><st c="5566"> called the “red” step because the test is expected </st><span class="No-Break"><st c="5618">to fail.</st></span></p></li>
				<li><strong class="bold"><st c="5626">Green – writing code to pass </st></strong><span class="No-Break"><strong class="bold"><st c="5656">the test</st></strong></span><span class="No-Break"><st c="5664">:</st></span><p class="list-inset"><st c="5666">The second step is to write the code that will make the test pass. </st><st c="5733">The code should be minimal, and it should only be written to make the test pass. </st><st c="5814">This is called the “green” step </st><a id="_idIndexMarker011"/><st c="5846">because the test is expected </st><span class="No-Break"><st c="5875">to pass.</st></span></p></li>
				<li><strong class="bold"><st c="5883">Refactor – improving code without </st></strong><span class="No-Break"><strong class="bold"><st c="5918">changing functionality</st></strong></span><span class="No-Break"><st c="5940">:</st></span><p class="list-inset"><st c="5942">Once the test has passed, the developer can refactor the code to enhance its design, readability, and maintainability by eliminating duplication, simplifying the code, and improving its readability. </st><st c="6141">The key is to make improvements without altering the functionality covered by</st><a id="_idTextAnchor026"/> <span class="No-Break"><st c="6218">the test.</st></span></p></li>
			</ul>
			<p><st c="6228">In the next section, we will take a look at the benefits of the </st><span class="No-Break"><st c="6293">red-green-refactor cycle.</st></span></p>
			<h2 id="_idParaDest-21"><a id="_idTextAnchor027"/><st c="6318">Benefits of the red-green-refactor cycle</st></h2>
			<p><st c="6359">The red-green-refactor cycle has several benefits, including </st><a id="_idIndexMarker012"/><span class="No-Break"><st c="6421">the following:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="6435">Enhanced code quality</st></strong><st c="6457">: The red-green-refactor cycle ensures that the code is correct, reliable, and meets the requirements predefined in </st><span class="No-Break"><st c="6574">the tests</st></span></li>
				<li><strong class="bold"><st c="6583">Accelerated development</st></strong><st c="6607">: The red-green-refactor cycle allows developers to catch errors early in the development process, which saves time and reduces the cost of </st><span class="No-Break"><st c="6748">fixing bugs</st></span></li>
				<li><strong class="bold"><st c="6759">Better collaboration</st></strong><st c="6780">: The red-green-refactor cycle encourages collaboration between developers, testers, and other stakeholders, which improves communication and helps to ensure that everyone is on the </st><span class="No-Break"><st c="6963">same page</st></span></li>
				<li><strong class="bold"><st c="6972">Simplified maintenance</st></strong><st c="6995">: The red-green-refactor cycle produces code that is easier to maintain and extend, which reduces the cost and effort of </st><span class="No-Break"><st c="7117">future development</st></span></li>
			</ul>
			<p><st c="7135">By using the red-green-refactor</st><a id="_idIndexMarker013"/><st c="7167"> cycle, developers can build reliable, maintainable, and scalable </st><span class="No-Break"><st c="7233">software applications.</st></span></p>
			<p><st c="7255">Next, we’ll learn how TDD is an important asset when it’s </st><span class="No-Break"><st c="7314">in use.</st></span></p>
			<h2 id="_idParaDest-22"><a id="_idTextAnchor028"/><st c="7321">The role of TDD in Angular development</st></h2>
			<p><st c="7360">TDD plays a critical role in Angular development. </st><st c="7411">By writing tests first, developers can ensure that the code is correct and meets the requirements defined in the tests. </st><st c="7531">This ensures that the application is reliable </st><a id="_idIndexMarker014"/><st c="7577">and reduces the risk of bugs and errors. </st><st c="7618">TDD also encourages developers to write clean, maintainable code that is easy to modify and extend, making it easier to maintain and update the application</st><a id="_idIndexMarker015"/> <span class="No-Break"><st c="7773">over time.</st></span></p>
			<p><st c="7784">Angular provides built-in support for testing, making it easy to write and execute tests for Angular applications. </st><st c="7900">The Angular testing framework provides a set of tools and features that make it easy to write unit tests, integration tests, and end-to-end tests for Angular applications. </st><st c="8072">These tests can be run automatically as part of the build process, ensuring that the application is always tested </st><span class="No-Break"><st c="8186">and reliable.</st></span></p>
			<p><st c="8199">In the next section, we’ll set up the development environment, which involves preparing the tools and resources needed to develop </st><span class="No-Break"><st c="8330">the project.</st></span></p>
			<h1 id="_idParaDest-23"><a id="_idTextAnchor029"/><st c="8342">Setting up the development environment</st></h1>
			<p><st c="8381">With a theoretical </st><a id="_idIndexMarker016"/><st c="8401">understanding of TDD and its role in Angular application development, the next step is to configure our development environment so that we can apply TDD principles in Angular. </st><st c="8577">To do this, we need to install the required tools to create an Angular project. </st><st c="8657">By following the right steps, we can create a development environment that promotes effective and efficient development using TDD principles </st><span class="No-Break"><st c="8798">in Angular.</st></span></p>
			<p><st c="8809">Setting up a development environment for Angular can be a bit more complex than setting up a general development environment. </st><st c="8936">However, with the right guidance, it can be a straightforward process. </st><st c="9007">Here, we </st><a id="_idIndexMarker017"/><st c="9016">will go over the steps you need to take to set up your Angular development environment. </st><st c="9104">So, let’s </st><span class="No-Break"><st c="9114">get started.</st></span></p>
			<h2 id="_idParaDest-24"><a id="_idTextAnchor030"/><st c="9126">Installing Node.js on Windows or macOS</st></h2>
			<p><st c="9165">Follow these steps</st><a id="_idIndexMarker018"/><st c="9184"> to install Node.js on </st><a id="_idIndexMarker019"/><st c="9207">Windows </st><span class="No-Break"><st c="9215">or macOS:</st></span></p>
			<ol>
				<li><st c="9224">Go to the official Node.js website (</st><a href="https://nodejs.org/en/"><st c="9261">https://nodejs.org/en/</st></a><st c="9284">) and click on the </st><strong class="bold"><st c="9304">Download</st></strong><st c="9312"> button for the LTS </st><a id="_idIndexMarker020"/><st c="9332">version. </st><st c="9341">This will download the latest</st><a id="_idIndexMarker021"/><st c="9370"> version of Node.js for</st><a id="_idIndexMarker022"/><st c="9393"> Windows </st><span class="No-Break"><st c="9402">or macOS:</st></span></li>
			</ol>
			<div>
				<div id="_idContainer007" class="IMG---Figure">
					<img src="image/B21146_01_01.jpg" alt="Figure 1.1 – Node.js home page"/><st c="9411"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="9542">Figure 1.1 – Node.js home page</st></p>
			<p class="list-inset"><st c="9572">Once the installer has finished downloading, run it by double-clicking on the downloaded file. </st><st c="9668">You should see the Node.js </st><span class="No-Break"><st c="9695">setup wizard:</st></span></p>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer008" class="IMG---Figure">
					<img src="image/B21146_01_02.jpg" alt="Figure 1.2 – Node.js installation – step 1"/><st c="9708"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="9889">Figure 1.2 – Node.js installation – step 1</st></p>
			<ol>
				<li value="2"><st c="9931">Read through the license</st><a id="_idIndexMarker023"/><st c="9956"> agreement and click the </st><strong class="bold"><st c="9981">Agree</st></strong><st c="9986"> button if you agree to </st><span class="No-Break"><st c="10010">the terms:</st></span></li>
			</ol>
			<div>
				<div id="_idContainer009" class="IMG---Figure">
					<img src="image/B21146_01_03.jpg" alt="Figure 1.3 – Node.js installation – step 2"/><st c="10020"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="11349">Figure 1.3 – Node.js installation – step 2</st></p>
			<ol>
				<li value="3"><st c="11391">Next, choose</st><a id="_idIndexMarker024"/><st c="11404"> the location where </st><a id="_idIndexMarker025"/><st c="11424">you want to install Node.js. </st><st c="11453">The</st><a id="_idIndexMarker026"/><st c="11456"> default location</st><a id="_idIndexMarker027"/><st c="11473"> is usually fine, but you can choose a different location if </st><span class="No-Break"><st c="11534">you prefer:</st></span></li>
			</ol>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer010" class="IMG---Figure">
					<img src="image/B21146_01_04.jpg" alt="Figure 1.4 – Node.js installation – step 3"/><st c="11545"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="12028">Figure 1.4 – Node.js installation – step 3</st></p>
			<ol>
				<li value="4"><st c="12070">On the next screen, you’ll be</st><a id="_idIndexMarker028"/><st c="12100"> asked to </st><a id="_idIndexMarker029"/><st c="12110">choose which components to install. </st><st c="12146">The </st><a id="_idIndexMarker030"/><st c="12150">default options are usually fine, but </st><a id="_idIndexMarker031"/><st c="12188">you can choose to add or remove </st><a id="_idIndexMarker032"/><st c="12220">components </st><span class="No-Break"><st c="12231">as needed:</st></span></li>
			</ol>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer011" class="IMG---Figure">
					<img src="image/B21146_01_05.jpg" alt="Figure 1.5 – Node.js installation – step 4"/><st c="12241"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="12521">Figure 1.5 – Node.js installation – step 4</st></p>
			<ol>
				<li value="5"><st c="12563">Choose the folder where you want to create the start menu shortcuts for Node.js. </st><st c="12645">The default folder is</st><a id="_idIndexMarker033"/><st c="12666"> usually fine, but you can choose a different folder if </st><span class="No-Break"><st c="12722">you prefer.</st></span></li>
				<li><st c="12733">Click the </st><strong class="bold"><st c="12744">Install</st></strong><st c="12751"> button to</st><a id="_idIndexMarker034"/><st c="12761"> begin the installation </st><a id="_idIndexMarker035"/><st c="12785">process. </st><st c="12794">This may take a</st><a id="_idIndexMarker036"/><st c="12809"> few minutes to complete, depending </st><a id="_idIndexMarker037"/><st c="12845">on your </st><span class="No-Break"><st c="12853">computer’s speed:</st></span></li>
			</ol>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer012" class="IMG---Figure">
					<img src="image/B21146_01_06.jpg" alt="Figure 1.6 – Node.js installation – step 5"/><st c="12870"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="13053">Figure 1.6 – Node.js installation – step 5</st></p>
			<ol>
				<li value="7"><st c="13095">Once the installation is complete, you should see a message indicating that Node.js has been installed successfully. </st><st c="13213">Click the </st><strong class="bold"><st c="13223">Close</st></strong><st c="13228"> button to close </st><span class="No-Break"><st c="13245">the installer:</st></span></li>
			</ol>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer013" class="IMG---Figure">
					<img src="image/B21146_01_07.jpg" alt="Figure 1.7 – Node.js installation – step 6"/><st c="13259"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="13563">Figure 1.7 – Node.js installation – step 6</st></p>
			<ol>
				<li value="8"><st c="13605">To verify</st><a id="_idIndexMarker038"/><st c="13615"> that Node.js has </st><a id="_idIndexMarker039"/><st c="13633">been installed</st><a id="_idIndexMarker040"/><st c="13647"> correctly, open a comman</st><a id="_idTextAnchor031"/><st c="13672">d prompt </st><a id="_idIndexMarker041"/><st c="13682">and run </st><span class="No-Break"><st c="13690">the </st></span><span class="No-Break"><a id="_idIndexMarker042"/></span><span class="No-Break"><st c="13694">following:</st></span><pre class="source-code">
<strong class="bold"><st c="13704">$ node –v</st></strong></pre><p class="list-inset"><st c="13714">This should display the version number of Node.js that you </st><span class="No-Break"><st c="13774">just installed:</st></span></p></li>			</ol>
			<div>
				<div id="_idContainer014" class="IMG---Figure">
					<img src="image/B21146_01_08.jpg" alt="Figure 1.8 – Checking the npm version"/><st c="13789"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="13791">Figure 1.8 – Checking the npm version</st></p>
			<p><st c="13828">In the </st><a id="_idIndexMarker043"/><st c="13836">next section, we’ll learn</st><a id="_idIndexMarker044"/><st c="13861"> how to</st><a id="_idIndexMarker045"/><st c="13868"> install </st><a id="_idIndexMarker046"/><st c="13877">Node.js </st><span class="No-Break"><st c="13885">on</st></span><span class="No-Break"><a id="_idIndexMarker047"/></span><span class="No-Break"><st c="13887"> Linux.</st></span></p>
			<h2 id="_idParaDest-25"><a id="_idTextAnchor032"/><st c="13894">Installing Node.js on Linux</st></h2>
			<p><st c="13922">Follow these steps</st><a id="_idIndexMarker048"/><st c="13941"> to install Node.js </st><span class="No-Break"><st c="13961">on </st></span><span class="No-Break"><a id="_idIndexMarker049"/></span><span class="No-Break"><st c="13964">Linux:</st></span></p>
			<ol>
				<li><st c="13970">Open your terminal and</st><a id="_idIndexMarker050"/><st c="13993"> run the following command to update the </st><span class="No-Break"><st c="14034">package manager:</st></span><pre class="source-code">
<strong class="bold"><st c="14050">$ sudo apt update</st></strong></pre><p class="list-inset"><st c="14068">The preceding command will give you the </st><span class="No-Break"><st c="14109">following output:</st></span></p></li>			</ol>
			<div>
				<div id="_idContainer015" class="IMG---Figure">
					<img src="image/B21146_01_09.jpg" alt="Figure 1.9 – Updating Ubuntu packages"/><st c="14126"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="16265">Figure 1.9 – Updating Ubuntu packages</st></p>
			<ol>
				<li value="2"><st c="16302">Run the following </st><a id="_idIndexMarker051"/><st c="16321">command to </st><span class="No-Break"><st c="16332">install Node.js:</st></span><pre class="source-code">
<strong class="bold"><st c="16348">$ sudo apt install nodejs</st></strong></pre><p class="list-inset"><st c="16374">The preceding</st><a id="_idIndexMarker052"/><st c="16388"> command will give you</st><a id="_idIndexMarker053"/><st c="16410"> the </st><span class="No-Break"><st c="16415">following output:</st></span></p></li>			</ol>
			<div>
				<div id="_idContainer016" class="IMG---Figure">
					<img src="image/B21146_01_10.jpg" alt=" Figure 1.10 – Node.js installation on Ubuntu"/><st c="16432"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="17692"> Figure 1.10 – Node.js installation on Ubuntu</st></p>
			<ol>
				<li value="3"><st c="17736">To verify that Node.js has been installed</st><a id="_idTextAnchor033"/><st c="17778"> correctly, run the </st><span class="No-Break"><st c="17798">following command:</st></span><pre class="source-code">
<strong class="bold"><st c="17816">$ node –v</st></strong></pre><p class="list-inset"><st c="17826">This should display </st><a id="_idIndexMarker054"/><st c="17847">the version</st><a id="_idIndexMarker055"/><st c="17858"> number of Node.js that you </st><span class="No-Break"><st c="17886">just installed:</st></span></p></li>			</ol>
			<div>
				<div id="_idContainer017" class="IMG---Figure">
					<img src="image/B21146_01_11.jpg" alt="Figure 1.11 – Node.js version after installing it on Ubuntu"/><st c="17901"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="17921">Figure 1.11 – Node.js version after installing it on Ubuntu</st></p>
			<ol>
				<li value="4"><st c="17980">npm is the package</st><a id="_idIndexMarker056"/><st c="17999"> manager for Node.js. </st><st c="18021">To install it, if you’ve not already installed it with Node.js, run the </st><span class="No-Break"><st c="18093">following command:</st></span><pre class="source-code">
<strong class="bold"><st c="18111">$ sudo apt install npm</st></strong></pre><p class="list-inset"><st c="18134">Here’s </st><span class="No-Break"><st c="18142">the output:</st></span></p></li>			</ol>
			<div>
				<div id="_idContainer018" class="IMG---Figure">
					<img src="image/B21146_01_12.jpg" alt="Figure 1.12 – npm installation on Ubuntu"/><st c="18153"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="20579">Figure 1.12 – npm installation on Ubuntu</st></p>
			<ol>
				<li value="5"><st c="20619">To verify that npm</st><a id="_idIndexMarker057"/><st c="20638"> has been installed </st><a id="_idIndexMarker058"/><st c="20658">correctly, run the </st><span class="No-Break"><st c="20677">following </st></span><span class="No-Break"><a id="_idIndexMarker059"/></span><span class="No-Break"><st c="20687">command:</st></span><pre class="source-code">
<strong class="bold"><st c="20695">$ npm –v</st></strong></pre><p class="list-inset"><st c="20704">You should see the </st><span class="No-Break"><st c="20724">following output:</st></span></p></li>			</ol>
			<div>
				<div id="_idContainer019" class="IMG---Figure">
					<img src="image/B21146_01_13.jpg" alt="Figure 1.﻿13 – npm version after Node.js installation"/><st c="20741"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="20762">Figure 1.13 – npm version after Node.js installation</st></p>
			<p><st c="20814">In the next section, we’ll create a</st><a id="_idIndexMarker060"/><st c="20850"> new </st><span class="No-Break"><st c="20855">Angular project.</st></span></p>
			<h1 id="_idParaDest-26"><a id="_idTextAnchor034"/><st c="20871">Creating a new Angular project</st></h1>
			<p><st c="20902">With our development environment set </st><a id="_idIndexMarker061"/><st c="20940">up and ready, we can create our Angular project. </st><st c="20989">This involves using the Angular CLI to generate the basic structure of our project, including files and folders. </st><st c="21102">Once created, we can begin building our Angular application using the powerful tools and features provided by </st><span class="No-Break"><st c="21212">the framework.</st></span></p>
			<p><st c="21226">After installing the Angular CLI, you can create a new Angular project by running the following command in </st><span class="No-Break"><st c="21334">your terminal:</st></span></p>
			<pre class="console"><st c="21348">
$ ng new getting-started-angular-tdd --routing</st></pre>			<p><st c="21395">This will create a new Angular project called </st><strong class="source-inline"><st c="21442">getting-started-angular-tdd</st></strong><st c="21469"> in the </st><span class="No-Break"><st c="21477">current directory.</st></span></p>
			<p><st c="21495">After creating your </st><a id="_idIndexMarker062"/><st c="21516">Angular project, you can serve it by running the following command in </st><span class="No-Break"><st c="21586">your terminal:</st></span></p>
			<pre class="console"><st c="21600">
$ cd getting-started-angular-tdd
$ ng serve --open</st></pre>			<p><st c="21651">This will start a development server and open your application in your default browser. </st><st c="21740">Here, you can make changes to your code and see the changes live in </st><span class="No-Break"><st c="21808">your browser.</st></span></p>
			<p><st c="21821">Now, it’s time to explore the different files involved in </st><span class="No-Break"><st c="21880">writing tests.</st></span></p>
			<h1 id="_idParaDest-27"><a id="_idTextAnchor035"/><st c="21894">Exploring different files related to writing tests</st></h1>
			<p><st c="21945">Now that we’ve created the </st><a id="_idIndexMarker063"/><st c="21973">Angular project, we will explore the different files related to writing tests in Angular. </st><st c="22063">I will provide insights into their role and best practices for working with them. </st><st c="22145">Let’s </st><span class="No-Break"><st c="22151">get started.</st></span></p>
			<h2 id="_idParaDest-28"><a id="_idTextAnchor036"/><st c="22163">*.spec.ts files</st></h2>
			<p><strong class="source-inline"><st c="22179">*.spec.ts</st></strong><st c="22189"> files contain the </st><a id="_idIndexMarker064"/><st c="22208">actual test cases that will be run against your code. </st><st c="22262">These files are the backbone of testing in Angular as they define the individual test cases that will ensure your code works as</st><a id="_idIndexMarker065"/><st c="22389"> expected. </st><st c="22400">The name of the file should match the name o</st><a id="_idTextAnchor037"/><st c="22444">f the file being tested, and it should be located in the same directory as the file being tested. </st><st c="22543">The tests in these files are organized into te</st><a id="_idTextAnchor038"/><st c="22589">st suites, which are defined using the </st><strong class="source-inline"><st c="22629">describe()</st></strong><st c="22639"> functio</st><a id="_idTextAnchor039"/><st c="22647">n. </st><st c="22651">Each test case is defined using the </st><strong class="source-inline"><st c="22687">it()</st></strong><st c="22691"> function. </st><st c="22702">For example, if you were testing a component named </st><strong class="source-inline"><st c="22753">MyComponent</st></strong><st c="22764">, you would create a file named </st><strong class="source-inline"><st c="22796">my-component.spec.ts</st></strong><st c="22816"> and define the test cases fo</st><a id="_idTextAnchor040"/><st c="22845">r that component within </st><span class="No-Break"><st c="22870">that file.</st></span></p>
			<p><st c="22880">The </st><strong class="source-inline"><st c="22885">describe()</st></strong><st c="22895"> function is used to group related test cases together, and it takes two parameters: a string that describes the test suite and a function that defines</st><a id="_idTextAnchor041"/><st c="23046"> the test cases within that suite. </st><st c="23081">The </st><strong class="source-inline"><st c="23085">it()</st></strong><st c="23089"> function is used to define individual test cases, and it takes two parameters: a</st><a id="_idIndexMarker066"/><st c="23170"> string that describes the test case and a</st><a id="_idIndexMarker067"/><st c="23212"> function that contains the code for the test case. </st><st c="23264">Within</st><a id="_idTextAnchor042"/><st c="23270"> the test case function, you can use the </st><strong class="source-inline"><st c="23311">expect()</st></strong><st c="23319"> function to define the expected behavior of your code. </st><st c="23375">For example, you might use </st><strong class="source-inline"><st c="23402">expect(component.title).toEqual('My Title')</st></strong><st c="23445"> to test that the </st><strong class="source-inline"><st c="23463">title</st></strong><st c="23468"> property of a component has the </st><span class="No-Break"><st c="23501">expected value.</st></span></p>
			<p><strong class="source-inline"><st c="23516">*.spec.ts</st></strong><st c="23526"> files also typically import the component or service being tested, as well as any necessary dependencies. </st><st c="23633">For example, if you were testing a component that used the </st><strong class="source-inline"><st c="23692">HttpClient</st></strong><st c="23702"> service, you would need to import both the component and </st><strong class="source-inline"><st c="23760">HttpClientTestingModule</st></strong> <span class="No-Break"><st c="23783">from </st></span><span class="No-Break"><strong class="source-inline"><st c="23789">@angular/common/http/testing</st></strong></span><span class="No-Break"><st c="23817">.</st></span></p>
			<h2 id="_idParaDest-29"><a id="_idTextAnchor043"/><st c="23818">The karma.conf.js file</st></h2>
			<p><st c="23841">The </st><strong class="source-inline"><st c="23846">karma.conf.js</st></strong><st c="23859"> file is used to </st><a id="_idIndexMarker068"/><st c="23876">configure the Karma test runner, which is used to run your test cases. </st><st c="23947">Karma is a popular test runner for Angular </st><a id="_idIndexMarker069"/><st c="23990">applications, and it provides a simple way to run your tests in a variety of browsers. </st><st c="24077">The </st><strong class="source-inline"><st c="24081">karma.conf.js</st></strong><st c="24094"> file specifies the files that should be included in the test run, as well as the browsers that should be used to run </st><span class="No-Break"><st c="24212">the tests.</st></span></p>
			<p><st c="24222">The </st><strong class="source-inline"><st c="24227">karma.conf.js</st></strong><st c="24240"> file typically exports a configuration object that specifies these settings. </st><st c="24318">The configuration object contains several properties, such as frameworks, files, reporters, and browsers. </st><st c="24424">These properties allow you to configure various aspects of the test run, such as which testing framework to use, which files to include in the test run, which reporters to use to display test results, and which browsers to use to run </st><span class="No-Break"><st c="24658">the tests.</st></span></p>
			<p><st c="24668">For example, a typical </st><strong class="source-inline"><st c="24692">karma.conf.js</st></strong><st c="24705"> file might look </st><span class="No-Break"><st c="24722">like this:</st></span></p>
			<pre class="source-code"><st c="24732">
module.exports = </st><strong class="bold"><st c="24750">function</st></strong><st c="24758">(config) {
  config.set({
    frameworks: ['jasmine', '@angular/cli'],
    files: [
      { pattern: './src/test.ts', watched: false }
    ],
    reporters: ['progress', 'kjhtml'],
    browsers: ['Chrome']
  });
};</st></pre>			<p><st c="24943">The given configuration outlines the utilization of the </st><strong class="source-inline"><st c="25000">Jasmine</st></strong><st c="25007"> and</st><a id="_idTextAnchor044"/> <strong class="source-inline"><st c="25011">@angular/cli</st></strong><st c="25024"> frameworks, the</st><a id="_idIndexMarker070"/><st c="25040"> inclusion of the </st><strong class="source-inline"><st c="25058">./src/test.ts</st></strong><st c="25071"> file during the</st><a id="_idIndexMarker071"/><st c="25087"> test run, the implementation of the </st><strong class="source-inline"><st c="25124">progress</st></strong><st c="25132"> and </st><strong class="source-inline"><st c="25137">kjhtml</st></strong><st c="25143"> reporters to showcase test results, and the execution of the tests in the </st><span class="No-Break"><st c="25218">Chrome browser.</st></span></p>
			<h2 id="_idParaDest-30"><a id="_idTextAnchor045"/><st c="25233">The test.ts file</st></h2>
			<p><st c="25250">The </st><strong class="source-inline"><st c="25255">test.ts</st></strong><st c="25262"> file is the entry point for</st><a id="_idIndexMarker072"/><st c="25290"> your test cases. </st><st c="25308">It sets up the testing environment and loads all of the necessary files for the test run. </st><st c="25398">This file typically imports </st><a id="_idIndexMarker073"/><st c="25426">the </st><strong class="source-inline"><st c="25430">zone.js</st></strong><st c="25437"> library, which is used to handle asynchronous operations in your tests. </st><st c="25510">It also imports the Karma test runner and starts the </st><span class="No-Break"><st c="25563">test run.</st></span></p>
			<p><st c="25572">The </st><strong class="source-inline"><st c="25577">test.ts</st></strong><st c="25584"> file is typically located in the </st><strong class="source-inline"><st c="25618">src</st></strong><st c="25621"> directory of your project, and it is usually generated automatically when you create a new Angular project. </st><st c="25730">This file sets up the testing environment and loads the necessary files for the </st><span class="No-Break"><st c="25810">test run.</st></span></p>
			<p><st c="25819">Here’s an example of what a </st><strong class="source-inline"><st c="25848">test.ts</st></strong><st c="25855"> file might </st><span class="No-Break"><st c="25867">look like:</st></span></p>
			<pre class="source-code"><st c="25877">
// This file is required by karma.conf.js and loads recursively all the .spec and framework files
import 'zone.js/dist/zone-testing';
import { getTestBed } from '@angular/core/testing';
import { BrowserDynamicTestingModule, platformBrowserDynamicTesting } from '@angular/platform-browser-dynamic/testing';
// First, initialize the Angular testing environment
getTestBed().initTestEnvironment(
  BrowserDynamicTestingModule,
  platformBrowserDynamicTesting()
);
// Then, load all the .spec files
const context = require.context('./', true, /\.spec\.ts$/);
context.keys().map(context);</st></pre>			<p><st c="26457">This file initializes the Angular</st><a id="_idIndexMarker074"/><st c="26491"> testing environment using the </st><strong class="source-inline"><st c="26522">getTestBed().initTestEnvironment()</st></strong><st c="26556"> function, which sets up </st><strong class="source-inline"><st c="26581">TestBed</st></strong><st c="26588">. It also</st><a id="_idIndexMarker075"/><st c="26597"> loads all of the </st><strong class="source-inline"><st c="26615">*.spec.ts</st></strong><st c="26624"> files </st><span class="No-Break"><st c="26631">using </st></span><span class="No-Break"><strong class="source-inline"><st c="26637">require.context()</st></strong></span><span class="No-Break"><st c="26654">.</st></span></p>
			<h2 id="_idParaDest-31"><a id="_idTextAnchor046"/><st c="26655">The tsconfig.spec.json file</st></h2>
			<p><st c="26683">The </st><strong class="source-inline"><st c="26688">tsconfig.spec.json</st></strong><st c="26706"> file is used to </st><a id="_idIndexMarker076"/><st c="26723">configure the TypeScript compiler for your test cases. </st><st c="26778">It specifies the compiler options that</st><a id="_idIndexMarker077"/><st c="26816"> should be used when compiling your test files. </st><st c="26864">This file typically extends the main </st><strong class="source-inline"><st c="26901">tsconfig.json</st></strong><st c="26914"> file for your project but may include additional settings specific </st><span class="No-Break"><st c="26982">to testing.</st></span></p>
			<p><st c="26993">Here’s an example of what a </st><strong class="source-inline"><st c="27022">tsconfig.spec.json</st></strong><st c="27040"> file might </st><span class="No-Break"><st c="27052">look like:</st></span></p>
			<pre class="source-code"><st c="27062">
{
  "extends": "./tsconfig.json",
  "compilerOptions": {
    "outDir": "./out-tsc/spec",
    "module": "commonjs",
    "target": "es5",
    "baseUrl": "",
    "types": [
      "jasmine",
      "node"
    ]
  },
  "files": [
    "src/test.ts",
    "src/polyfills.ts"
  ],
  "include": [
    "**/*.spec.ts",
    "**/*.d.ts"
  ]
}</st></pre>			<p><st c="27324">This file extends the </st><a id="_idIndexMarker078"/><st c="27347">main </st><strong class="source-inline"><st c="27352">tsconfig.json</st></strong><st c="27365"> file and</st><a id="_idIndexMarker079"/><st c="27374"> specifies the compiler options that should be used for test files. </st><st c="27442">It also includes the </st><strong class="source-inline"><st c="27463">src/test.ts</st></strong><st c="27474"> and </st><strong class="source-inline"><st c="27479">src/polyfills.ts</st></strong><st c="27495"> files in the </st><span class="No-Break"><st c="27509">test run.</st></span></p>
			<h2 id="_idParaDest-32"><a id="_idTextAnchor047"/><st c="27518">The src/test.ts file</st></h2>
			<p><st c="27539">The </st><strong class="source-inline"><st c="27544">src/test.ts</st></strong><st c="27555"> file is used to</st><a id="_idIndexMarker080"/><st c="27571"> configure the Angular testing environment. </st><st c="27615">It sets up </st><strong class="source-inline"><st c="27626">TestBed</st></strong><st c="27633">, which is used to create</st><a id="_idIndexMarker081"/><st c="27658"> instances of your components and services for testing. </st><st c="27714">It also imports any necessary testing utilities, such as </st><strong class="source-inline"><st c="27771">TestBed</st></strong> <span class="No-Break"><st c="27778">and </st></span><span class="No-Break"><strong class="source-inline"><st c="27783">async</st></strong></span><span class="No-Break"><st c="27788">.</st></span></p>
			<p><st c="27789">Here’s an example of what a </st><strong class="source-inline"><st c="27818">src/test.ts</st></strong><st c="27829"> file might </st><span class="No-Break"><st c="27841">look like:</st></span></p>
			<pre class="source-code"><st c="27851">
import { TestBed } from '@angular/core/testing';
import { BrowserDynamicTestingModule,  platformBrowserDynamicTestingModule } from '@angular/platform-browser-dynamic/testing';
TestBed.initTestEnvironment(
  BrowserDynamicTestingModule,
  platformBrowserDynamicTestingModule()
);</st></pre>			<p><st c="28125">This file sets up </st><strong class="source-inline"><st c="28144">TestBed</st></strong><st c="28151"> using the </st><strong class="source-inline"><st c="28162">TestBed.initTestEnvironment()</st></strong><st c="28191"> function. </st><st c="28202">It specifies the </st><a id="_idIndexMarker082"/><st c="28219">testing module and platform module </st><a id="_idIndexMarker083"/><st c="28254">to use, which are the </st><strong class="source-inline"><st c="28276">BrowserDynamicTestingModule</st></strong><st c="28303"> and </st><span class="No-Break"><strong class="source-inline"><st c="28308">platformBrowserDynamicTestingModule</st></strong></span><span class="No-Break"><st c="28343">, respectively.</st></span></p>
			<h1 id="_idParaDest-33"><a id="_idTextAnchor048"/><st c="28358">Summary</st></h1>
			<p><st c="28366">This chapter covered the basics of TDD and its role in Angular. </st><st c="28431">We explained the benefits of TDD and how it can help developers write high-quality code. </st><st c="28520">Then, we discussed how to set up the development environment for Angular and created a new Angular project using the Angular programming interface. </st><st c="28668">We also explored the various files related to writing tests in Angular, including </st><strong class="source-inline"><st c="28750">*.spec.ts</st></strong><st c="28759">, </st><strong class="source-inline"><st c="28761">karma.conf.js</st></strong><st c="28774">,</st><strong class="source-inline"><st c="28775">tsconfig.spec.json</st></strong><st c="28793">, and </st><strong class="source-inline"><st c="28799">src/test.ts.</st></strong><st c="28811"> We provided detailed explanations of each file and their role in testing Angular applications. </st><st c="28907">By understanding these files and their purpose, developers can write and run tests for their Angular applications more effectively and ensure that their code performs </st><span class="No-Break"><st c="29074">as expected.</st></span></p>
			<p><st c="29086">In the next chapter, we’ll learn about the process of writing and executing unit tests using Jasmine while covering topics such as test suites, test specifications, </st><span class="No-Break"><st c="29252">and matchers.</st></span></p>
		</div>
	<div id="charCountTotal" value="29265"/></body></html>