<html><head></head><body>
		<div id="_idContainer270">
			<h1 id="_idParaDest-166"><em class="italic"><a id="_idTextAnchor167"/>Chapter 9</em>: Let’s Do Some Magic: Integrating Your First Lottie Animation</h1>
			<p>Our app is now ready to display Lottie animations on its screens. In this chapter, we will learn how to integrate a Lottie file, whether downloaded from <a href="https://lottiefiles.com/">https://lottiefiles.com/</a> or generated by us in Adobe <strong class="bold">After Effects</strong> (<strong class="bold">AE</strong>). The requirements to perform this integration successfully are as follows:</p>
			<ul>
				<li>Have a JSON file with the Lottie animation exported from AE using the Bodymovin plugin or downloaded from LottieFiles.</li>
				<li>Have the React Native project ready after having followed the steps described in <a href="B17930_08_ePub.xhtml#_idTextAnchor156"><em class="italic">Chapter 8</em></a>, <em class="italic">Installing lottie-react-native</em>.</li>
			</ul>
			<p>The final result will be our app displaying the provided Lottie animation on the initial screen. The topics we will cover in this chapter are as follows:</p>
			<ul>
				<li>Understanding the Lottie file</li>
				<li>Using a Lottie file in a React Native app</li>
				<li>Using <strong class="source-inline">lottie-react-native</strong> in your TypeScript app</li>
				<li>Finding documentation for <strong class="source-inline">lottie-react-native</strong></li>
				<li>Using remote Lottie files</li>
			</ul>
			<h1 id="_idParaDest-167"><a id="_idTextAnchor168"/>Understanding the Lottie file elements</h1>
			<p>As we saw in previous chapters, Lottie files are JSON representations of our AE animations that <a id="_idIndexMarker547"/>have been transformed and exported using the Bodymovin plugin. As a JSON object, we can open it in a text editor and see that Lottie files are just a collection of keys and values storing the assets that need to be rendered and to which transformations should be applied on each frame of the animation.</p>
			<p>Let's take a look at a sample Lottie file:</p>
			<pre class="source-code">{</pre>
			<pre class="source-code">   "v":"4.8.0",</pre>
			<pre class="source-code">   "meta":{</pre>
			<pre class="source-code">      "g":"LottieFiles AE "</pre>
			<pre class="source-code">   },</pre>
			<pre class="source-code">   "fr":30,</pre>
			<pre class="source-code">   "w":500,</pre>
			<pre class="source-code">   "h":250,</pre>
			<pre class="source-code">   "nm":"Comp 1",</pre>
			<pre class="source-code">   "assets":[],</pre>
			<pre class="source-code">   "layers":[</pre>
			<pre class="source-code">      {</pre>
			<pre class="source-code">        "nm":"Ellipses 3",</pre>
			<pre class="source-code">        "ks":{</pre>
			<pre class="source-code">            ...</pre>
			<pre class="source-code">         },</pre>
			<pre class="source-code">         "shapes":[</pre>
			<pre class="source-code">            {</pre>
			<pre class="source-code">               "ty":"gr",</pre>
			<pre class="source-code">               "nm":"Ellipse 1",</pre>
			<pre class="source-code">               "mn":"ADBE Vector Group",</pre>
			<pre class="source-code">               "hd":false</pre>
			<pre class="source-code">               ...</pre>
			<pre class="source-code">            }</pre>
			<pre class="source-code">         ],</pre>
			<pre class="source-code">         ...</pre>
			<pre class="source-code">      }</pre>
			<pre class="source-code">   ],</pre>
			<pre class="source-code">   "markers":[]</pre>
			<pre class="source-code">}</pre>
			<p>Lottie files are usually much larger than this one, but we have summarized it for educational purposes. Let's now go through the most important values in this sample file:</p>
			<ul>
				<li><strong class="source-inline">"v"</strong>: Specifies which version of the file this one is. It has no direct effect on the animation as it serves as <a id="_idIndexMarker548"/>mere information for developers and designers.</li>
				<li><strong class="source-inline">"meta"</strong>: General information about the file such as name and license, for example.</li>
				<li><strong class="source-inline">"fr"</strong>: Also known as <strong class="bold">frame rate</strong>, this represents the number of frames per second that the animation should be rendered in.</li>
				<li><strong class="source-inline">"w"</strong>: The width of the animation.</li>
				<li><strong class="source-inline">"h"</strong>: The height of the animation.</li>
				<li><strong class="source-inline">"assets"</strong>: A list of external assets that will be shown within the animation.</li>
				<li><strong class="source-inline">"layers"</strong>: Details for each of the AE layers used in our animation.</li>
				<li><strong class="source-inline">"layers/ks"</strong>: Information about how to display a specific layer on a specific frame.</li>
				<li><strong class="source-inline">"layers/shapes"</strong>: Shapes used on each layer, including their metadata and rendering options.</li>
			</ul>
			<p>In general, it's best to modify our Lottie animations on AE, but changing values in the exported Lottie JSON file is possible and may affect the animation itself.</p>
			<h1 id="_idParaDest-168"><a id="_idTextAnchor169"/>Using a Lottie file in a React Native app</h1>
			<p>Once we have our animation exported into a Lottie file, we can integrate it into any React Native app <a id="_idIndexMarker549"/>and start the animation on any iOS or Android <a id="_idIndexMarker550"/>device. In this section, we will show how this is done on the main screen of a sample blank React Native app, but the process can be extrapolated into any screen or component within any React Native app.</p>
			<p>The first thing we have to do is store our Lottie file in a folder inside our app. We need to make sure we can import files from this folder in our React components and screens. For example, we could store our Lottie files in the <strong class="source-inline">assets</strong> folder, where all images used in our app are stored:</p>
			<div>
				<div id="_idContainer268" class="IMG---Figure">
					<img src="image/B17930_09_01.jpg" alt="Figure 9.1 – Storing animation in the app folder structure&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.1 – Storing animation in the app folder structure</p>
			<p>In this case, we stored a JSON file named <strong class="source-inline">myLottieFile.json</strong> inside the <strong class="source-inline">assets/animations</strong> folder so it's accessible through a simple <strong class="source-inline">import</strong> statement: <strong class="source-inline">require('./assets/animations/myLottieFile.json')</strong>.</p>
			<p>Let's now see an <a id="_idIndexMarker551"/>example of how <strong class="source-inline">App.js</strong> would look <a id="_idIndexMarker552"/>using the integrated Lottie file in the proposed folder structure:</p>
			<pre class="source-code">import React from 'react';</pre>
			<pre class="source-code">import LottieView from 'lottie-react-native';</pre>
			<pre class="source-code">import {SafeAreaView, View, StyleSheet} from 'react-native';</pre>
			<pre class="source-code"> </pre>
			<pre class="source-code">const App = () =&gt; {</pre>
			<pre class="source-code">  return (</pre>
			<pre class="source-code">    &lt;SafeAreaView&gt;</pre>
			<pre class="source-code">      &lt;View style={styles.container}&gt;</pre>
			<pre class="source-code">        &lt;LottieView</pre>
			<pre class="source-code">          source={require('./assets/animations/myLottieFile.</pre>
			<pre class="source-code">          json')}</pre>
			<pre class="source-code">          autoPlay</pre>
			<pre class="source-code">          loop</pre>
			<pre class="source-code">        /&gt;</pre>
			<pre class="source-code">      &lt;/View&gt;</pre>
			<pre class="source-code">    &lt;/SafeAreaView&gt;</pre>
			<pre class="source-code">  );</pre>
			<pre class="source-code">};</pre>
			<pre class="source-code"> </pre>
			<pre class="source-code">const styles = StyleSheet.create({</pre>
			<pre class="source-code">  container: {</pre>
			<pre class="source-code">    width: '100%',</pre>
			<pre class="source-code">    height: '100%',</pre>
			<pre class="source-code">    justifyContent: 'center',</pre>
			<pre class="source-code">    alignItems: 'center',</pre>
			<pre class="source-code">  },</pre>
			<pre class="source-code">});</pre>
			<pre class="source-code"> </pre>
			<pre class="source-code">export default App;</pre>
			<p>In this file, we are displaying our Lottie animation on the main screen so users can see it just after opening the app. There are a number of things we should consider about this file:</p>
			<ul>
				<li><strong class="source-inline">SafeAreaView</strong> is used to prevent the animation from going under the notch on notched-screen devices (for example, the iPhone 13).</li>
				<li>Having <strong class="source-inline">LottieView</strong> inside a sized container is important to prevent the animation from resizing or being cropped. That's why we use a <strong class="source-inline">100%</strong> width and height-sized view containing the <strong class="source-inline">LottieView</strong> component.</li>
				<li><strong class="source-inline">LottieView</strong> is a React component that will render the Lottie animation. It requires a source prop to import the JSON file containing the animation. It also accepts a <a id="_idIndexMarker553"/>number of properties to control and <a id="_idIndexMarker554"/>configure the animation. We will take a deeper look into these properties in this chapter.</li>
			</ul>
			<p>The props passed to the <strong class="source-inline">LottieView</strong> components are also worth noting:</p>
			<ul>
				<li><strong class="source-inline">source</strong>: This needs to receive the imported JSON file for the animation. The path for importing the animation, as it works with the <strong class="source-inline">require</strong> statement in JavaScript, can be absolute or relative to the parent component/screen.</li>
				<li><strong class="source-inline">autoPlay</strong>: When specified (or set to <strong class="source-inline">true</strong>), this makes the app start playing right after the component is mounted. This is normally used when the parent component makes sense only when the animation is running.</li>
				<li><strong class="source-inline">loop</strong>: When specified (or set to <strong class="source-inline">true</strong>), this will repeat the animation until the component gets unmounted.</li>
			</ul>
			<p>The former component example is the simplest representation of a Lottie animation being rendered inside a React Native app but it's a good example of how important it is to place the <strong class="source-inline">LottieView</strong> component in a sized container.</p>
			<p>If your app <a id="_idIndexMarker555"/>uses classes instead of functional <a id="_idIndexMarker556"/>components, you should know that <strong class="source-inline">lottie-react-native</strong> can still be imported and used in a very similar fashion.</p>
			<p>Let's see an example of a Lottie file being integrated in to a class-based React native app:</p>
			<pre class="source-code">import React from 'react';</pre>
			<pre class="source-code">import LottieView from 'lottie-react-native';</pre>
			<pre class="source-code">import {SafeAreaView, View, StyleSheet} from 'react-native';</pre>
			<pre class="source-code">export default class App extends React.Component {  render() {    return (</pre>
			<pre class="source-code">      &lt;SafeAreaView&gt;</pre>
			<pre class="source-code">           &lt;View style={styles.container}&gt;</pre>
			<pre class="source-code">                &lt;LottieView source={require('./animation.</pre>
			<pre class="source-code">                json')} autoPlay loop /&gt;;</pre>
			<pre class="source-code">           &lt;/View&gt;</pre>
			<pre class="source-code">      &lt;/SafeAreaView&gt;</pre>
			<pre class="source-code">    )  }}</pre>
			<pre class="source-code">const styles = StyleSheet.create({</pre>
			<pre class="source-code">  container: {</pre>
			<pre class="source-code">    width: '100%',</pre>
			<pre class="source-code">    height: '100%',</pre>
			<pre class="source-code">    justifyContent: 'center',</pre>
			<pre class="source-code">    alignItems: 'center',</pre>
			<pre class="source-code">  },</pre>
			<pre class="source-code">});</pre>
			<p>Similar to the previous example, the main difference in class-based apps is the need to return the rendering component inside the <strong class="source-inline">render</strong> method. One of the basic props (<strong class="source-inline">colorFilters</strong>) allows users to control and change the colors of the layers.</p>
			<p>Let's take a <a id="_idIndexMarker557"/>look at how this prop can be used to <a id="_idIndexMarker558"/>do so:</p>
			<pre class="source-code">import React from 'react';</pre>
			<pre class="source-code">import LottieView from 'lottie-react-native';</pre>
			<pre class="source-code">import {SafeAreaView, View, StyleSheet} from 'react-native';</pre>
			<pre class="source-code"> </pre>
			<pre class="source-code">const App = () =&gt; {</pre>
			<pre class="source-code">  return (</pre>
			<pre class="source-code">    &lt;SafeAreaView&gt;</pre>
			<pre class="source-code">      &lt;View style={styles.container}&gt;</pre>
			<pre class="source-code">        &lt;LottieView</pre>
			<pre class="source-code">          source={require('./assets/animations/myLottieFile.</pre>
			<pre class="source-code">          json')}</pre>
			<pre class="source-code">          autoPlay</pre>
			<pre class="source-code">          loop</pre>
			<pre class="source-code">          colorFilters={[</pre>
			<pre class="source-code">             {</pre>
			<pre class="source-code">               keypath: 'button', color: '#F00000',</pre>
			<pre class="source-code">             },{</pre>
			<pre class="source-code">               keypath: 'Sending Loader',color: '#F00000',</pre>
			<pre class="source-code">    },</pre>
			<pre class="source-code">           ]}</pre>
			<pre class="source-code">        /&gt;</pre>
			<pre class="source-code">      &lt;/View&gt;</pre>
			<pre class="source-code">    &lt;/SafeAreaView&gt;</pre>
			<pre class="source-code">  );</pre>
			<pre class="source-code">};</pre>
			<pre class="source-code"> </pre>
			<pre class="source-code">const styles = StyleSheet.create({</pre>
			<pre class="source-code">  container: {</pre>
			<pre class="source-code">    width: '100%',</pre>
			<pre class="source-code">    height: '100%',</pre>
			<pre class="source-code">    justifyContent: 'center',</pre>
			<pre class="source-code">    alignItems: 'center',</pre>
			<pre class="source-code">  },</pre>
			<pre class="source-code">});</pre>
			<pre class="source-code"> </pre>
			<pre class="source-code">export default App;</pre>
			<p>In this case, the <strong class="source-inline">colorFilters</strong> prop in the <strong class="source-inline">LottieView</strong> component is modifying the colors of two layers (which should have been defined with the same name in AE) to render them as black, no matter which color they were defined as during the animation creation process.</p>
			<p>TypeScript has <a id="_idIndexMarker559"/>become the de facto language for <a id="_idIndexMarker560"/>modern React Native apps. In the previous example, we used plain JavaScript, but the <strong class="source-inline">LottieView</strong> component is TypeScript-ready.</p>
			<p>In the next section, we will show what caveats a user may find when using <strong class="source-inline">lottie-react-native</strong> in their TypeScript applications.</p>
			<h1 id="_idParaDest-169"><a id="_idTextAnchor170"/>Using lottie-react-native in your TypeScript app</h1>
			<p>The <strong class="source-inline">lottie-react-native</strong> library includes types, so <strong class="source-inline">LottieView</strong> components can be easily <a id="_idIndexMarker561"/>integrated with TypeScript applications. These <a id="_idIndexMarker562"/>types are defined in the file found in the <strong class="source-inline">lottie-react-native/src/js/index.d.ts</strong> (type definition file) path inside the library's code. They are also accessible in the library's repository through <a href="https://github.com/lottie-react-native/lottie-react-native/blob/master/src/js/index.d.ts">https://github.com/lottie-react-native/lottie-react-native/blob/master/src/js/index.d.ts</a>.</p>
			<p>Besides the definition of the props and methods applicable to <strong class="source-inline">LottieView</strong>, this file includes types for the following objects:</p>
			<ul>
				<li><strong class="source-inline">AnimationObject</strong>: Types for the Lottie JSON file when it gets translated to a JavaScript object</li>
				<li><strong class="source-inline">ColorFilter</strong>: Types for the filters that can be applied to change colors in the animation</li>
				<li><strong class="source-inline">TextFilterIOS</strong>: Types for the filters that can be applied to change fonts on iOS devices</li>
				<li><strong class="source-inline">TextFilterAndroid</strong>: Types for the filters that can be applied to change fonts on Android devices</li>
			</ul>
			<p>The main caveat when using <strong class="source-inline">lottie-react-native</strong> concerns the way we import the Lottie component (<strong class="source-inline">LottieView</strong>) in our app. Depending on how TypeScript is configured in our project, we would need to import it in a different way:</p>
			<ul>
				<li>If your <strong class="source-inline">tsconfig.json</strong> file defines <strong class="source-inline">"esModuleInterop": false</strong>, you will need to use <strong class="source-inline">require</strong> to import <strong class="source-inline">LottieView</strong> in the following way: <strong class="source-inline">const LottieView = require("lottie-react-native");</strong>.</li>
				<li>If your <strong class="source-inline">tsconfig.json</strong> file defines <strong class="source-inline">"esModuleInterop": true</strong> and <strong class="source-inline">"allowSyntheticDefaultImports": true</strong> (<strong class="source-inline">true</strong> is the default value), you will need to import <strong class="source-inline">LottieView</strong> in the standard ES6 way: <strong class="source-inline">import LottieView from "lottie-react-native";</strong>.</li>
			</ul>
			<p>Let's see how both ways could be implemented in the sample code we developed previously:</p>
			<pre class="source-code">import React from 'react';</pre>
			<pre class="source-code">import {SafeAreaView, View, StyleSheet} from 'react-native';</pre>
			<pre class="source-code">import LottieView from 'lottie-react-native'; // if you have "esModuleInterop": true</pre>
			<pre class="source-code">// import LottieView = require('lottie-react-native'); // otherwise you have "esModuleInterop": false</pre>
			<pre class="source-code"> </pre>
			<pre class="source-code">const App = () =&gt; {</pre>
			<pre class="source-code">  return (</pre>
			<pre class="source-code">    &lt;SafeAreaView&gt;</pre>
			<pre class="source-code">      &lt;View style={styles.container}&gt;</pre>
			<pre class="source-code">        &lt;LottieView</pre>
			<pre class="source-code">          source={require('./assets/animations/myLottieFile.</pre>
			<pre class="source-code">          json')}</pre>
			<pre class="source-code">          autoPlay</pre>
			<pre class="source-code">          loop</pre>
			<pre class="source-code">        /&gt;</pre>
			<pre class="source-code">      &lt;/View&gt;</pre>
			<pre class="source-code">    &lt;/SafeAreaView&gt;</pre>
			<pre class="source-code">  );</pre>
			<pre class="source-code">};</pre>
			<p>In the next section, we <a id="_idIndexMarker563"/>will see where to find the best <a id="_idIndexMarker564"/>resources to work around other caveats when using the <strong class="source-inline">lottie-react-native</strong> library.</p>
			<h1 id="_idParaDest-170"><a id="_idTextAnchor171"/>Finding documentation for lottie-react-native</h1>
			<p>Getting stuck <a id="_idIndexMarker565"/>when using a third-party library might <a id="_idIndexMarker566"/>be a frustrating experience but in the case of <strong class="source-inline">lottie-react-native</strong>, there is a large knowledge base accessible on the public repository of the library: <a href="https://github.com/lottie-react-native/">https://github.com/lottie-react-native/</a>.</p>
			<p>This knowledge base includes the following elements:</p>
			<ul>
				<li><strong class="bold">README</strong> (<a href="https://github.com/lottie-react-native/lottie-react-native/blob/master/README.md">https://github.com/lottie-react-native/lottie-react-native/blob/master/README.md</a>): This is the main source of truth for the library. It includes a <em class="italic">Getting Started</em> guide and code samples to integrate and use <strong class="source-inline">lottie-react-native</strong> (at a basic level). This file serves as a good introduction to the library and should be the first resource to check when looking for help related to library usage.</li>
				<li><strong class="bold">API</strong> (<a href="https://github.com/lottie-react-native/lottie-react-native/blob/master/docs/api.md">https://github.com/lottie-react-native/lottie-react-native/blob/master/docs/api.md</a>): This is a good explanation of all properties and methods that can be used in the <strong class="source-inline">LottieView</strong> component to control the animations in our apps.</li>
				<li><strong class="bold">TypeScript caveats</strong> (<a href="https://github.com/lottie-react-native/lottie-react-native/blob/master/docs/typescript.md">https://github.com/lottie-react-native/lottie-react-native/blob/master/docs/typescript.md</a>): As we saw in the <em class="italic">Using lottie-react-native in your TypeScript app</em> section, TypeScript can be difficult to integrate. This document explains what problems we might run into and how to work around them.</li>
				<li><strong class="bold">Glossary</strong> (<a href="https://github.com/lottie-react-native/lottie-react-native/blob/master/docs/GLOSSARY.md">https://github.com/lottie-react-native/lottie-react-native/blob/master/docs/GLOSSARY.md</a>): A list of specific terms and their definitions related to <strong class="source-inline">lottie-react-native</strong>.</li>
				<li><strong class="bold">CHANGELOG</strong> (<a href="https://github.com/lottie-react-native/lottie-react-native/blob/master/CHANGELOG.md">https://github.com/lottie-react-native/lottie-react-native/blob/master/CHANGELOG.md</a>): A list of the versions released for the library. This document is very useful when having issues with a specific feature or platform so we can revert/update to versions where those issues don't exist.</li>
				<li><strong class="bold">Contributing guide</strong> (<a href="https://github.com/lottie-react-native/lottie-react-native/blob/master/CONTRIBUTING.md">https://github.com/lottie-react-native/lottie-react-native/blob/master/CONTRIBUTING.md</a>): This document explains how to request help or contribute code updates to the open source repository.</li>
				<li><strong class="bold">Pull requests</strong> (<a href="https://github.com/lottie-react-native/lottie-react-native/pulls">https://github.com/lottie-react-native/lottie-react-native/pulls</a>): This is the list of contributions that are proposed to the library. Users can use this list to find out about upcoming fixes or discussions about bugs and features.</li>
				<li><strong class="bold">Issues</strong> (<a href="https://github.com/lottie-react-native/lottie-react-native/issues">https://github.com/lottie-react-native/lottie-react-native/issues</a>): Here, library <a id="_idIndexMarker567"/>users share their <a id="_idIndexMarker568"/>problems, bugs, or questions about the library. This is a good resource to search through when getting problems with library usage or integration.</li>
				<li><strong class="bold">Lottie for iOS repository</strong> (<a href="https://github.com/airbnb/lottie-ios">https://github.com/airbnb/lottie-ios</a>): A source of information for the iOS-specific library for Lottie. This can be used to search for iOS-specific issues or features.</li>
				<li><strong class="bold">Lottie for Android repository</strong> (<a href="https://github.com/airbnb/lottie-android">https://github.com/airbnb/lottie-android</a>): A source of information for the Android-specific library for Lottie. This can be used to search for Android-specific issues or features.</li>
			</ul>
			<p>Now we have all the resources to get started, let's import and use our first Lottie file in our app.</p>
			<h1 id="_idParaDest-171"><a id="_idTextAnchor172"/>Using remote Lottie files</h1>
			<p>For optimal performance, animations should be included locally within the app's folder structure but, in some <a id="_idIndexMarker569"/>cases, it could be useful to use a remote JSON file as a Lottie animation to be rendered in our React Native apps. For these cases, <strong class="source-inline">lottie-react-native</strong> allows us to transparently specify a remote URL as the source of the animation through the source prop passed to <strong class="source-inline">LottieView</strong>.</p>
			<p>Let's see how our initial example would look if we used a remote animation instead of a local one:</p>
			<pre class="source-code">import React from 'react';</pre>
			<pre class="source-code">import LottieView from 'lottie-react-native';</pre>
			<pre class="source-code">import {SafeAreaView, View, StyleSheet} from 'react-native';</pre>
			<pre class="source-code"> </pre>
			<pre class="source-code">const App = () =&gt; {</pre>
			<pre class="source-code">  return (</pre>
			<pre class="source-code">    &lt;SafeAreaView&gt;</pre>
			<pre class="source-code">      &lt;View style={styles.container}&gt;</pre>
			<pre class="source-code">        &lt;LottieView</pre>
			<pre class="source-code">          source={'https://raw.githubusercontent.          com/lottie-react-native/lottie-react-native/          b96fd04c5d92d2acd55e6eb6cb8c3dd119d1a786/example/js/          animations/LottieLogo1.json'}</pre>
			<pre class="source-code">          autoPlay</pre>
			<pre class="source-code">          loop</pre>
			<pre class="source-code">        /&gt;</pre>
			<pre class="source-code">      &lt;/View&gt;</pre>
			<pre class="source-code">    &lt;/SafeAreaView&gt;</pre>
			<pre class="source-code">  );</pre>
			<pre class="source-code">};</pre>
			<pre class="source-code"> </pre>
			<pre class="source-code">const styles = StyleSheet.create({</pre>
			<pre class="source-code">  container: {</pre>
			<pre class="source-code">    width: '100%',</pre>
			<pre class="source-code">    height: '100%',</pre>
			<pre class="source-code">    justifyContent: 'center',</pre>
			<pre class="source-code">    alignItems: 'center',</pre>
			<pre class="source-code">  },</pre>
			<pre class="source-code">});</pre>
			<pre class="source-code"> </pre>
			<pre class="source-code">export default App;</pre>
			<p>As this example shows, only the <strong class="source-inline">source</strong> property needs to change its value. In this case, we replaced the <strong class="source-inline">require</strong> statement with a simple URL that points to a JSON Lottie animation that is hosted on a public server. For external sources, users need to make sure that the <a id="_idIndexMarker570"/>app will always have access to the external file, as failing to reach the remote URL would show an empty space instead of showing the animation itself.</p>
			<p>Assets (such as images) can also be used inside Lottie files and rendered with <strong class="source-inline">lottie-react-native</strong>. Let's take a look at how this behavior can be achieved through code.</p>
			<h2 id="_idParaDest-172"><a id="_idTextAnchor173"/>Using Lottie files with assets</h2>
			<p>Lottie animations may contain external images displayed in them to make richer and more complex <a id="_idIndexMarker571"/>animations. When using AE and the Bodymovin plugin <a id="_idIndexMarker572"/>to create animations, the exported JSON may have various assets to rely on, such as the following:</p>
			<pre class="source-code">...,</pre>
			<pre class="source-code">  "assets": [</pre>
			<pre class="source-code">    {</pre>
			<pre class="source-code">      "id": "image_name",</pre>
			<pre class="source-code">      "w": 200,</pre>
			<pre class="source-code">      "h": 100,</pre>
			<pre class="source-code">      "u": "images/",</pre>
			<pre class="source-code">      "p": "img_name.png"</pre>
			<pre class="source-code">    }</pre>
			<pre class="source-code">  ],</pre>
			<pre class="source-code">  ...</pre>
			<p>In these cases, our app needs to include the files inside its binary, so you will need to add the files to the project and re-build it from scratch running <strong class="source-inline">yarn ios</strong> or <strong class="source-inline">yarn android</strong> so the app <a id="_idIndexMarker573"/>is compiled together with the newly added assets <a id="_idIndexMarker574"/>being used in the animation. Adding the assets to the project differs depending on which platform we are targeting:</p>
			<ul>
				<li><strong class="bold">iOS</strong>: Open <strong class="bold">Xcode</strong>, right-click on the <strong class="source-inline">resources</strong> folder you can find in the right-hand column, and click on <strong class="bold">Add file to "LottieReactNative"…</strong> to select the images required.</li>
			</ul>
			<div>
				<div id="_idContainer269" class="IMG---Figure">
					<img src="image/B17930_09_02.jpg" alt="Figure 9.2 – Adding animation assets in Xcode&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.2 – Adding animation assets in Xcode</p>
			<ul>
				<li><strong class="bold">Android</strong>: Your images should be copied to <strong class="source-inline">[PROJECT FOLDER]/android/app/src/main/assets</strong>. It is a good practice to establish a <strong class="source-inline">lottie</strong> subdirectory and then a folder for each animation. You'll need to refer <a id="_idIndexMarker575"/>to that folder in the <strong class="source-inline">imageAssetsFolder</strong> prop <a id="_idIndexMarker576"/>for the animation, using its relative path.</li>
			</ul>
			<p>Let's take a look at an example of this:</p>
			<p class="source-code">&lt;View style={styles.container}&gt; </p>
			<p class="source-code">  &lt;LottieView </p>
			<p class="source-code">    source={require('./assets/animations/myLottieFile.    json')} </p>
			<p class="source-code">    autoPlay</p>
			<p class="source-code">    loop</p>
			<p class="source-code">    imageAssetsFolder='lottie/animation_name'</p>
			<p class="source-code">  /&gt;</p>
			<p class="source-code">&lt;/View&gt;</p>
			<p>It is possible to rename the assets once you have them in your project, but you will need to modify the <a id="_idIndexMarker577"/>JSON file containing the Lottie animation too in <a id="_idIndexMarker578"/>order to identify the asset file by its new name:</p>
			<pre class="source-code">...,</pre>
			<pre class="source-code">  "assets": [</pre>
			<pre class="source-code">    {</pre>
			<pre class="source-code">      "id": "image_name",</pre>
			<pre class="source-code">      "w": 200,</pre>
			<pre class="source-code">      "h": 100,</pre>
			<pre class="source-code">      "u": "images/",</pre>
			<pre class="source-code">      "p": "new_image_name.png"</pre>
			<pre class="source-code">    }</pre>
			<pre class="source-code">  ],</pre>
			<pre class="source-code">  ...</pre>
			<p>With this, we will have our shiny assets loaded into our animations, making them fully capable of rendering external images.</p>
			<h1 id="_idParaDest-173"><a id="_idTextAnchor174"/>Summary</h1>
			<p>In this chapter, we have learned about the way Lottie animations can be loaded into React Native, using basic integrations such as TypeScript types, and adding external assets into our animations. This gives us the ability to display complex animations inside our React Native apps, but what happens if we need to be in control of the playback (for example, tell the animation to start/stop based on events happening in the app)?</p>
			<p>Let's move on to the next chapter to discover how controlling Lottie animations in <strong class="source-inline">lottie-react-native</strong> is done.</p>
		</div>
	</body></html>