<html><head></head><body>
<div id="_idContainer009">
<h1 class="chapter-number" id="_idParaDest-26"><a id="_idTextAnchor027"/><span class="koboSpan" id="kobo.1.1">2</span></h1>
<h1 id="_idParaDest-27"><a id="_idTextAnchor028"/><span class="koboSpan" id="kobo.2.1">Managing State in a Simple React App</span></h1>
<p><span class="koboSpan" id="kobo.3.1">In the previous chapter, we went over a brief history of web development, </span><strong class="bold"><span class="koboSpan" id="kobo.4.1">JavaScript</span></strong><span class="koboSpan" id="kobo.5.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.6.1">ReactJS</span></strong><span class="koboSpan" id="kobo.7.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.8.1">React Native</span></strong><span class="koboSpan" id="kobo.9.1">. </span><span class="koboSpan" id="kobo.9.2">Even though historical knowledge is not required to write great code, I find it useful. </span><span class="koboSpan" id="kobo.9.3">Once we learn why specific library creators encourage some patterns and discourage others, we can write code that is less error-prone and more performant. </span><span class="koboSpan" id="kobo.9.4">Ah yes! </span><span class="koboSpan" id="kobo.9.5">Writing code! </span><span class="koboSpan" id="kobo.9.6">That’s why you’re here, dear reader, isn’t it? </span><span class="koboSpan" id="kobo.9.7">Well, I have good news. </span><span class="koboSpan" id="kobo.9.8">In this chapter, we will dive into code examples. </span><span class="koboSpan" id="kobo.9.9">We will start by looking at the most basic data and state management strategies in React: using state and props. </span><span class="koboSpan" id="kobo.9.10">We will then dive into a comparison of stateful and stateless components. </span><span class="koboSpan" id="kobo.9.11">Once we have a good understanding of how state works in React applications, we will move on to talking about hooks. </span><span class="koboSpan" id="kobo.9.12">We will finish off this chapter by completing a setup and configuration of our own </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">little app.</span></span></p>
<p><span class="koboSpan" id="kobo.11.1"> Here are the bullet points of what we </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">will cover:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.13.1">What is state and how is it different </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">from props?</span></span></li>
<li><span class="koboSpan" id="kobo.15.1">What are stateful and </span><span class="No-Break"><span class="koboSpan" id="kobo.16.1">stateless components?</span></span></li>
<li><span class="koboSpan" id="kobo.17.1">What are hooks and why </span><span class="No-Break"><span class="koboSpan" id="kobo.18.1">use them?</span></span></li>
<li><span class="koboSpan" id="kobo.19.1">Setting up the </span><span class="No-Break"><span class="koboSpan" id="kobo.20.1">example app</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.21.1">By the end of this chapter, you should feel comfortable with React code. </span><span class="koboSpan" id="kobo.21.2">We will also set up the base for our application. </span><span class="koboSpan" id="kobo.21.3">Even though applications can be very different from one another, this basic setup will remain the same for most of them. </span><span class="koboSpan" id="kobo.21.4">Feel free to reuse it for any other project you may want to </span><span class="No-Break"><span class="koboSpan" id="kobo.22.1">work on.</span></span></p>
<h1 id="_idParaDest-28"><a id="_idTextAnchor029"/><span class="koboSpan" id="kobo.23.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.24.1">If you are familiar with </span><strong class="bold"><span class="koboSpan" id="kobo.25.1">ReactJS</span></strong><span class="koboSpan" id="kobo.26.1"> but you have not worked with </span><strong class="bold"><span class="koboSpan" id="kobo.27.1">React Native</span></strong><span class="koboSpan" id="kobo.28.1"> yet, you will be able to follow along with this section without </span><span class="No-Break"><span class="koboSpan" id="kobo.29.1">any problem.</span></span></p>
<p><span class="koboSpan" id="kobo.30.1">If you have never read or written any </span><strong class="bold"><span class="koboSpan" id="kobo.31.1">ReactJS</span></strong><span class="koboSpan" id="kobo.32.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.33.1">React Native</span></strong><span class="koboSpan" id="kobo.34.1"> code, it’s important that you learn the basic concepts. </span><span class="koboSpan" id="kobo.34.2">Please head over to the official </span><strong class="bold"><span class="koboSpan" id="kobo.35.1">React Native</span></strong><span class="koboSpan" id="kobo.36.1"> documentation at </span><a href="https://reactnative.dev/docs/intro-react"><span class="koboSpan" id="kobo.37.1">https://reactnative.dev/docs/intro-react</span></a><span class="koboSpan" id="kobo.38.1"> and familiarize yourself with key concepts such as </span><strong class="bold"><span class="koboSpan" id="kobo.39.1">components, JSX, state, </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.40.1">and props</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.41.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.42.1">A minimum requirement for this chapter is knowledge of Git, basic knowledge of </span><strong class="bold"><span class="koboSpan" id="kobo.43.1">command-line interfaces</span></strong><span class="koboSpan" id="kobo.44.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.45.1">CLIs</span></strong><span class="koboSpan" id="kobo.46.1">), and a working knowledge </span><span class="No-Break"><span class="koboSpan" id="kobo.47.1">of JavaScript.</span></span></p>
<h1 id="_idParaDest-29"><a id="_idTextAnchor030"/><span class="koboSpan" id="kobo.48.1">What is state and how is it different from props?</span></h1>
<p><span class="koboSpan" id="kobo.49.1">Every </span><strong class="bold"><span class="koboSpan" id="kobo.50.1">React Native</span></strong><span class="koboSpan" id="kobo.51.1"> application is </span><a id="_idIndexMarker048"/><span class="koboSpan" id="kobo.52.1">created to display some sort of data. </span><span class="koboSpan" id="kobo.52.2">It can be weather data, images, market </span><a id="_idIndexMarker049"/><span class="koboSpan" id="kobo.53.1">data, maps… Using </span><strong class="bold"><span class="koboSpan" id="kobo.54.1">React Native</span></strong><span class="koboSpan" id="kobo.55.1">, we manage how this data is displayed on our users’ screens. </span><strong class="bold"><span class="koboSpan" id="kobo.56.1">React Native</span></strong><span class="koboSpan" id="kobo.57.1"> offers robust tools for styling and animating content. </span><span class="koboSpan" id="kobo.57.2">However, in this book, we are concentrating on the raw material of data used in </span><span class="No-Break"><span class="koboSpan" id="kobo.58.1">your app.</span></span></p>
<p><span class="koboSpan" id="kobo.59.1">In order to have a dynamic piece of data, existing </span><strong class="bold"><span class="koboSpan" id="kobo.60.1">automagically</span></strong><span class="koboSpan" id="kobo.61.1"> in sync with our component, we need to declare the list as a </span><span class="No-Break"><span class="koboSpan" id="kobo.62.1">component state.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.63.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.64.1">The most important thing to remember about state is this: state is managed within the component; it is the </span><span class="No-Break"><span class="koboSpan" id="kobo.65.1">component </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.66.1">memory</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.67.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.68.1">Any changes in state will cause your component and all its children to re-render. </span><span class="koboSpan" id="kobo.68.2">This is an expected behavior: if your data changes, you want your UI to change as well. </span><span class="koboSpan" id="kobo.68.3">However, multiple component re-renders may cause your app to encounter </span><span class="No-Break"><span class="koboSpan" id="kobo.69.1">performance issues.</span></span></p>
<p><span class="koboSpan" id="kobo.70.1">Let’s look at an example to better understand state. </span><span class="koboSpan" id="kobo.70.2">We will start off with a very basic component, containing a </span><strong class="source-inline"><span class="koboSpan" id="kobo.71.1">&lt;Text&gt;</span></strong><span class="koboSpan" id="kobo.72.1"> element and a </span><strong class="source-inline"><span class="koboSpan" id="kobo.73.1">&lt;Pressable&gt;</span></strong><span class="koboSpan" id="kobo.74.1"> element. </span><strong class="source-inline"><span class="koboSpan" id="kobo.75.1">&lt;Pressable&gt;</span></strong><span class="koboSpan" id="kobo.76.1"> is the recommended component to use in React Native applications in places where a web developer would use a </span><strong class="source-inline"><span class="koboSpan" id="kobo.77.1">&lt;</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.78.1">button&gt;</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.79.1"> tag:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.80.1">
import React from "react";
import { View, Text, Pressable } from "react-native";
export const ManagedButton = () =&gt; {
  return (
    &lt;View&gt;
        &lt;Text&gt;this text will display the current status&lt;/Text&gt;
        &lt;Pressable onPress=""&gt;
            &lt;Text&gt;Press here to check/uncheck&lt;/Text&gt;
        &lt;/Pressable&gt;
    &lt;/View&gt;
  );
};</span></pre>
<p><span class="koboSpan" id="kobo.81.1">As you can probably observe, dear reader, nothing will happen when the </span><strong class="source-inline"><span class="koboSpan" id="kobo.82.1">&lt;Pressable&gt;</span></strong><span class="koboSpan" id="kobo.83.1"> component is tapped because we haven’t provided an </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.84.1">onPress</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.85.1"> function.</span></span></p>
<p><span class="koboSpan" id="kobo.86.1">We will now add state to this </span><a id="_idIndexMarker050"/><span class="koboSpan" id="kobo.87.1">simple component. </span><span class="koboSpan" id="kobo.87.2">We will set a checked/unchecked text inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.88.1">&lt;Text&gt;</span></strong><span class="koboSpan" id="kobo.89.1"> component, linked to the </span><span class="No-Break"><span class="koboSpan" id="kobo.90.1">component state:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.91.1">
import React, { useState } from "react";
import { View, Text, Pressable } from "react-native";
export const ManagedButton = () =&gt; {
    const [checkedState, setCHeckedState] =      useState("unchecked");
  return (
    &lt;View&gt;
          &lt;Text&gt;this text will display the current status,            which is: {checkedState}&lt;/Text&gt;
        &lt;Pressable onPress=""&gt;
            &lt;Text&gt;Press here to check/uncheck&lt;/Text&gt;
        &lt;/Pressable&gt;
    &lt;/View&gt;
  );
};</span></pre>
<p><span class="koboSpan" id="kobo.92.1">Testing React Native code is a little more complicated than testing code made to run in browsers (as with JavaScript or ReactJS). </span><span class="koboSpan" id="kobo.92.2">Lucky for us, the good people at Expo created an online tool for </span><a id="_idIndexMarker051"/><span class="koboSpan" id="kobo.93.1">testing code snippets. </span><span class="koboSpan" id="kobo.93.2">It’s called Expo Snack and you can use it to </span><a id="_idIndexMarker052"/><span class="koboSpan" id="kobo.94.1">test the preceding code </span><span class="No-Break"><span class="koboSpan" id="kobo.95.1">at </span></span><a href="https://snack.expo.dev/@p-syche/simplifying-state-management---chapter-2-example-1"><span class="No-Break"><span class="koboSpan" id="kobo.96.1">https://snack.expo.dev/@p-syche/simplifying-state-management---chapter-2-example-1</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.97.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.98.1">Let’s walk through the changes one by one. </span><span class="koboSpan" id="kobo.98.2">We start by adding an import of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.99.1">useState</span></strong><span class="koboSpan" id="kobo.100.1"> hook from the React library on the first line. </span><span class="koboSpan" id="kobo.100.2">Then, inside the component, we set </span><span class="No-Break"><span class="koboSpan" id="kobo.101.1">this variable:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.102.1">
const [checkedState, setCheckedState] = useState(“unchecked”);</span></pre>
<p><span class="koboSpan" id="kobo.103.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.104.1">useState</span></strong><span class="koboSpan" id="kobo.105.1"> hook accepts an array, where the first item is the state value, and the second item is the function </span><a id="_idIndexMarker053"/><span class="koboSpan" id="kobo.106.1">that will set the value. </span><span class="koboSpan" id="kobo.106.2">If you will not change the state in your component, you can omit the second argument. </span><span class="koboSpan" id="kobo.106.3">There is no official rule as per the names of the items in the array, but it is an accepted convention to name the setter function similarly to the state value, but with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.107.1">"set"</span></strong><span class="koboSpan" id="kobo.108.1"> keyword. </span><span class="koboSpan" id="kobo.108.2">Last but not least, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.109.1">"unchecked"</span></strong><span class="koboSpan" id="kobo.110.1"> string is passed to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.111.1">useState</span></strong><span class="koboSpan" id="kobo.112.1"> hook. </span><span class="koboSpan" id="kobo.112.2">This is the default value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.113.1">useState</span></strong><span class="koboSpan" id="kobo.114.1"> hook. </span><span class="koboSpan" id="kobo.114.2">If you do not wish to set a default state, you may leave the </span><span class="No-Break"><span class="koboSpan" id="kobo.115.1">parentheses empty.</span></span></p>
<p><span class="koboSpan" id="kobo.116.1">Now that we have the state hook imported and the component state set with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.117.1">useState</span></strong><span class="koboSpan" id="kobo.118.1"> hook, we can use it in our component. </span><span class="koboSpan" id="kobo.118.2">Hence, </span><span class="No-Break"><span class="koboSpan" id="kobo.119.1">this line:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.120.1">
&lt;Text&gt;this text will display the current status, which is: {checkedState}&lt;/Text&gt;</span></pre>
<p><span class="koboSpan" id="kobo.121.1">The curly braces surrounding the state are part of </span><strong class="bold"><span class="koboSpan" id="kobo.122.1">JSX</span></strong><span class="koboSpan" id="kobo.123.1">. </span><strong class="bold"><span class="koboSpan" id="kobo.124.1">JSX</span></strong><span class="koboSpan" id="kobo.125.1"> is a syntax extension to </span><strong class="bold"><span class="koboSpan" id="kobo.126.1">JavaScript</span></strong><span class="koboSpan" id="kobo.127.1">, and it’s the syntax </span><a id="_idIndexMarker054"/><span class="koboSpan" id="kobo.128.1">used to write all </span><strong class="bold"><span class="koboSpan" id="kobo.129.1">React</span></strong><span class="koboSpan" id="kobo.130.1"> components. </span><span class="koboSpan" id="kobo.130.2">"</span><em class="italic"><span class="koboSpan" id="kobo.131.1">What does that mean in regular English?"</span></em><span class="koboSpan" id="kobo.132.1"> you ask, dear reader. </span><span class="koboSpan" id="kobo.132.2">It means that when writing in </span><strong class="bold"><span class="koboSpan" id="kobo.133.1">JSX</span></strong><span class="koboSpan" id="kobo.134.1">, you can write any </span><strong class="bold"><span class="koboSpan" id="kobo.135.1">JavaScript</span></strong><span class="koboSpan" id="kobo.136.1"> code, plus </span><a id="_idIndexMarker055"/><span class="koboSpan" id="kobo.137.1">you can write additional stuff, such as </span><strong class="bold"><span class="koboSpan" id="kobo.138.1">component state</span></strong><span class="koboSpan" id="kobo.139.1"> wrapped in curly braces. </span><span class="koboSpan" id="kobo.139.2">You could look at </span><strong class="bold"><span class="koboSpan" id="kobo.140.1">JSX</span></strong><span class="koboSpan" id="kobo.141.1"> compared to </span><strong class="bold"><span class="koboSpan" id="kobo.142.1">JavaScript</span></strong><span class="koboSpan" id="kobo.143.1"> as if it were a pirate </span><a id="_idIndexMarker056"/><span class="koboSpan" id="kobo.144.1">speaking as compared to plain English. </span><span class="koboSpan" id="kobo.144.2">All English pirates will understand all English phrases, but a regular Englishman will not understand all pirate phrases. </span><span class="koboSpan" id="kobo.144.3">All right, matey? </span><span class="koboSpan" id="kobo.144.4">Let’s move on then, yo </span><span class="No-Break"><span class="koboSpan" id="kobo.145.1">ho ho!</span></span></p>
<p><span class="koboSpan" id="kobo.146.1">We have the state set up, but our </span><strong class="source-inline"><span class="koboSpan" id="kobo.147.1">&lt;Pressable&gt;</span></strong><span class="koboSpan" id="kobo.148.1"> component still doesn’t do anything, does it? </span><span class="koboSpan" id="kobo.148.2">Let’s add an </span><strong class="source-inline"><span class="koboSpan" id="kobo.149.1">onPress</span></strong><span class="koboSpan" id="kobo.150.1"> function, which will set the state. </span><span class="koboSpan" id="kobo.150.2">The simplest way to achieve this is to pass the </span><strong class="source-inline"><span class="koboSpan" id="kobo.151.1">setCheckedState</span></strong><span class="koboSpan" id="kobo.152.1"> function from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.153.1">useState</span></strong><span class="koboSpan" id="kobo.154.1"> hook right into the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.155.1">onPress</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.156.1"> function:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.157.1">
&lt;Pressable onPress={setCheckedState("checked")}&gt;</span></pre>
<p><span class="koboSpan" id="kobo.158.1">Now, when the </span><strong class="source-inline"><span class="koboSpan" id="kobo.159.1">&lt;Pressable&gt;</span></strong><span class="koboSpan" id="kobo.160.1"> button is pressed, it will change the state of the component, which in turn will change the text displayed in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.161.1">&lt;</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.162.1">Text&gt;</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.163.1"> component.</span></span></p>
<p><span class="koboSpan" id="kobo.164.1">There is much more you can achieve with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.165.1">useState</span></strong><span class="koboSpan" id="kobo.166.1"> hook. </span><span class="koboSpan" id="kobo.166.2">You can set it to any value you like, including </span><a id="_idIndexMarker057"/><span class="koboSpan" id="kobo.167.1">an object. </span><span class="koboSpan" id="kobo.167.2">Every component can have multiple pieces of state, as many as you’d like, actually! </span><span class="koboSpan" id="kobo.167.3">If you would like to look at other examples of how state can be implemented in a React component, I invite you to check the first link from the </span><em class="italic"><span class="koboSpan" id="kobo.168.1">Further </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.169.1">reading</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.170.1"> section.</span></span></p>
<p><span class="koboSpan" id="kobo.171.1">Let’s move on to </span><a id="_idIndexMarker058"/><span class="koboSpan" id="kobo.172.1">the second hero of this section: props. </span><span class="koboSpan" id="kobo.172.2">Props is a short name for </span><strong class="bold"><span class="koboSpan" id="kobo.173.1">properties</span></strong><span class="koboSpan" id="kobo.174.1">. </span><span class="koboSpan" id="kobo.174.2">Props are </span><strong class="bold"><span class="koboSpan" id="kobo.175.1">JavaScript</span></strong><span class="koboSpan" id="kobo.176.1"> objects just like state; the biggest difference between them is that props </span><span class="No-Break"><span class="koboSpan" id="kobo.177.1">are read-only.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.178.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.179.1">The most important thing to remember about props is this: props are immutable (</span><span class="No-Break"><span class="koboSpan" id="kobo.180.1">or read-only).</span></span></p>
<p><span class="koboSpan" id="kobo.181.1">A natural flow of a </span><strong class="bold"><span class="koboSpan" id="kobo.182.1">ReactJS</span></strong><span class="koboSpan" id="kobo.183.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.184.1">React Native</span></strong><span class="koboSpan" id="kobo.185.1"> app is to have a parent component with some state—in our </span><a id="_idIndexMarker059"/><span class="koboSpan" id="kobo.186.1">previous code example, it was the </span><strong class="source-inline"><span class="koboSpan" id="kobo.187.1">"checked"</span></strong><span class="koboSpan" id="kobo.188.1">/</span><strong class="source-inline"><span class="koboSpan" id="kobo.189.1">"unchecked"</span></strong><span class="koboSpan" id="kobo.190.1"> state. </span><span class="koboSpan" id="kobo.190.2">The parent component has children: components with images or text, and so on, to whom we pass the state in the form of a prop. </span><span class="koboSpan" id="kobo.190.3">The children can </span><strong class="bold"><span class="koboSpan" id="kobo.191.1">read</span></strong><span class="koboSpan" id="kobo.192.1"> the state: whether the text should be </span><strong class="source-inline"><span class="koboSpan" id="kobo.193.1">"checked"</span></strong><span class="koboSpan" id="kobo.194.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.195.1">"unchecked"</span></strong><span class="koboSpan" id="kobo.196.1">, in this case. </span><span class="koboSpan" id="kobo.196.2">But the children will never </span><strong class="bold"><span class="koboSpan" id="kobo.197.1">change</span></strong><span class="koboSpan" id="kobo.198.1"> the state of the text. </span><span class="koboSpan" id="kobo.198.2">The </span><strong class="bold"><span class="koboSpan" id="kobo.199.1">state</span></strong><span class="koboSpan" id="kobo.200.1"> of the text can only be changed within the parent component where state was declared. </span><span class="koboSpan" id="kobo.200.2">Let’s update our </span><a id="_idIndexMarker060"/><span class="koboSpan" id="kobo.201.1">code example to include a parent and a child component, with state set in the parent and passed to the child </span><span class="No-Break"><span class="koboSpan" id="kobo.202.1">through props:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.203.1">
import React, { useState } from "react";
import { View, Text, Pressable } from "react-native";
const ManagedText = ({checkedState}) =&gt; {
  return (
      &lt;Text&gt;this text will display the current status,        which is: {checkedState}&lt;/Text&gt;
  );
};
export const ParentComponent = () =&gt; {
      const [checkedState, setCheckedState] =        useState("unchecked");
    return (
        &lt;View&gt;
            &lt;ManagedText checkedState={checkedState} /&gt;
              &lt;Pressable onPress={() =&gt;                setCheckedState("checked")}&gt;
              &lt;Text&gt;Press here to check/uncheck&lt;/Text&gt;
            &lt;/Pressable&gt;
      &lt;/View&gt;
    );
  };</span></pre>
<p><span class="koboSpan" id="kobo.204.1">You can find the preceding code in this Expo </span><span class="No-Break"><span class="koboSpan" id="kobo.205.1">Snack: </span></span><a href="https://snack.expo.dev/@p-syche/simplifying-state-management---chapter-2-example-2"><span class="No-Break"><span class="koboSpan" id="kobo.206.1">https://snack.expo.dev/@p-syche/simplifying-state-management---chapter-2-example-2</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.207.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.208.1">Let’s start with what remained the same as in the previous example. </span><span class="koboSpan" id="kobo.208.2">We have our </span><strong class="source-inline"><span class="koboSpan" id="kobo.209.1">&lt;ParentComponent&gt;</span></strong><span class="koboSpan" id="kobo.210.1">, which, OK, was named </span><strong class="source-inline"><span class="koboSpan" id="kobo.211.1">&lt;ManagedButton&gt;</span></strong><span class="koboSpan" id="kobo.212.1"> before. </span><span class="koboSpan" id="kobo.212.2">But let’s be honest, this component didn’t change much from the previous version. </span><span class="koboSpan" id="kobo.212.3">The only change here is that instead of a </span><strong class="source-inline"><span class="koboSpan" id="kobo.213.1">&lt;Text&gt;</span></strong><span class="koboSpan" id="kobo.214.1"> component, we see a </span><strong class="source-inline"><span class="koboSpan" id="kobo.215.1">&lt;ManagedText&gt;</span></strong><span class="koboSpan" id="kobo.216.1"> component, with a mysterious </span><strong class="source-inline"><span class="koboSpan" id="kobo.217.1">checkedState</span></strong><span class="koboSpan" id="kobo.218.1"> property. </span><span class="koboSpan" id="kobo.218.2">This property is passed to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.219.1">&lt;ManagedText&gt;</span></strong><span class="koboSpan" id="kobo.220.1"> component and then to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.221.1">&lt;Text&gt;</span></strong><span class="koboSpan" id="kobo.222.1"> component inside it. </span><span class="koboSpan" id="kobo.222.2">Pressing the </span><strong class="source-inline"><span class="koboSpan" id="kobo.223.1">&lt;Pressable&gt;</span></strong><span class="koboSpan" id="kobo.224.1"> component will change the state of </span><strong class="source-inline"><span class="koboSpan" id="kobo.225.1">&lt;ParentComponent&gt;</span></strong><span class="koboSpan" id="kobo.226.1">, which </span><a id="_idIndexMarker061"/><span class="koboSpan" id="kobo.227.1">will also be reflected in the child component: </span><strong class="source-inline"><span class="koboSpan" id="kobo.228.1">&lt;ManagedText&gt;</span></strong><span class="koboSpan" id="kobo.229.1">. </span><span class="koboSpan" id="kobo.229.2">I believe, dear reader, that the parent/child nomenclature is quite understandable and doesn’t need additional explanations. </span><span class="koboSpan" id="kobo.229.3">As per the </span><strong class="source-inline"><span class="koboSpan" id="kobo.230.1">checkedState</span></strong><span class="koboSpan" id="kobo.231.1"> property, or prop for short, you should know that you can name it whatever you would like; there is no need to set the name of the prop to be the same as its value. </span><span class="koboSpan" id="kobo.231.2">You could write something like this, </span><span class="No-Break"><span class="koboSpan" id="kobo.232.1">for example:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.233.1">
const ManagedText = (fancyComponentStuff) =&gt; {
  return (
      &lt;Text&gt;this text will display the current status,        which is:{fancyComponentStuff}&lt;/Text&gt;
  );
};
export const ParentComponent = () =&gt; {
      const [checkedState, setCheckedState] =        useState("unchecked");
    return (
        &lt;View&gt;
            &lt;ManagedText fancyComponentStuff={checkedState} /&gt;
            &lt;Pressable onPress={setCheckedState("checked")}&gt;
              &lt;Text&gt;Press here to check/uncheck&lt;/Text&gt;
            &lt;/Pressable&gt;
      &lt;/View&gt;
    );
  };</span></pre>
<p><span class="koboSpan" id="kobo.234.1">If you’re curious to learn </span><a id="_idIndexMarker062"/><span class="koboSpan" id="kobo.235.1">more about props and state, you can head over to articles recommended by the official React team. </span><span class="koboSpan" id="kobo.235.2">They are listed in the </span><em class="italic"><span class="koboSpan" id="kobo.236.1">Further </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.237.1">reading</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.238.1"> section.</span></span></p>
<p><span class="koboSpan" id="kobo.239.1">Now that you know what state and props are and how they are different from each other, in the following section, we will look at stateful and </span><span class="No-Break"><span class="koboSpan" id="kobo.240.1">stateless components.</span></span></p>
<h1 id="_idParaDest-30"><a id="_idTextAnchor031"/><span class="koboSpan" id="kobo.241.1">What are stateful and stateless components?</span></h1>
<p><span class="koboSpan" id="kobo.242.1">Whether you’re </span><a id="_idIndexMarker063"/><span class="koboSpan" id="kobo.243.1">completely new to the </span><strong class="bold"><span class="koboSpan" id="kobo.244.1">React</span></strong><span class="koboSpan" id="kobo.245.1"> world, or you’ve been here for a little </span><a id="_idIndexMarker064"/><span class="koboSpan" id="kobo.246.1">while, you have probably heard the terms </span><strong class="bold"><span class="koboSpan" id="kobo.247.1">stateful</span></strong><span class="koboSpan" id="kobo.248.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.249.1">stateless</span></strong><span class="koboSpan" id="kobo.250.1"> components. </span><span class="koboSpan" id="kobo.250.2">These terms were especially useful before the introduction of hooks in </span><strong class="bold"><span class="koboSpan" id="kobo.251.1">ReactJS</span></strong><span class="koboSpan" id="kobo.252.1"> v16.8. </span><span class="koboSpan" id="kobo.252.2">Don’t worry about hooks right now—we’ll get to them toward the end of </span><span class="No-Break"><span class="koboSpan" id="kobo.253.1">this chapter.</span></span></p>
<p><span class="koboSpan" id="kobo.254.1">From a high-level perspective, </span><strong class="bold"><span class="koboSpan" id="kobo.255.1">ReactJS</span></strong><span class="koboSpan" id="kobo.256.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.257.1">React Native</span></strong><span class="koboSpan" id="kobo.258.1"> components are nothing more than </span><strong class="bold"><span class="koboSpan" id="kobo.259.1">JavaScript</span></strong><span class="koboSpan" id="kobo.260.1"> functions. </span><span class="koboSpan" id="kobo.260.2">The </span><strong class="bold"><span class="koboSpan" id="kobo.261.1">React</span></strong><span class="koboSpan" id="kobo.262.1"> library adds some specific features to those functions. </span><span class="koboSpan" id="kobo.262.2">One of </span><a id="_idIndexMarker065"/><span class="koboSpan" id="kobo.263.1">those features is </span><strong class="bold"><span class="koboSpan" id="kobo.264.1">state</span></strong><span class="koboSpan" id="kobo.265.1">, a special kind of component memory that we looked at in the </span><span class="No-Break"><span class="koboSpan" id="kobo.266.1">previous section.</span></span></p>
<p><span class="koboSpan" id="kobo.267.1">A React component that can accept state may look </span><span class="No-Break"><span class="koboSpan" id="kobo.268.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.269.1">
class Welcome extends React.Component {
  constructor(props) {
    super(props);
    this.state = {name: "World"}
  };
  render() {
    return &lt;Text&gt;Hello, {this.state.name}&lt;/Text&gt;;
  }
}</span></pre>
<p><span class="koboSpan" id="kobo.270.1">This type of component is also commonly called a “class component” because of the way it needs to be declared. </span><span class="koboSpan" id="kobo.270.2">Class components, or stateful components, were first-class citizens until </span><strong class="bold"><span class="koboSpan" id="kobo.271.1">ReactJS</span></strong><span class="koboSpan" id="kobo.272.1"> v16.8. </span><span class="koboSpan" id="kobo.272.2">Any developer who needed to do anything with state would use this type of component. </span><span class="koboSpan" id="kobo.272.3">Unfortunately, these types of components had many downsides. </span><span class="koboSpan" id="kobo.272.4">They used </span><strong class="bold"><span class="koboSpan" id="kobo.273.1">“lifecycle methods”</span></strong><span class="koboSpan" id="kobo.274.1">—special functions with very specific names, created to be run in a predetermined sequence. </span><span class="koboSpan" id="kobo.274.2">There are </span><strong class="source-inline"><span class="koboSpan" id="kobo.275.1">componentDidMount()</span></strong><span class="koboSpan" id="kobo.276.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.277.1">componentWillUnmount()</span></strong><span class="koboSpan" id="kobo.278.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.279.1">shouldComponentUpdate()</span></strong><span class="koboSpan" id="kobo.280.1">, and a few others. </span><span class="koboSpan" id="kobo.280.2">These functions were a lifesaver for many developers facing edge cases. </span><span class="koboSpan" id="kobo.280.3">For example, they needed some data to be loaded before the rest of the </span><strong class="bold"><span class="koboSpan" id="kobo.281.1">component</span></strong><span class="koboSpan" id="kobo.282.1">, or maybe they needed to make sure to clean up some side effect functions before the </span><strong class="bold"><span class="koboSpan" id="kobo.283.1">component</span></strong><span class="koboSpan" id="kobo.284.1"> unmounted. </span><span class="koboSpan" id="kobo.284.2">Unfortunately, this also meant that their </span><strong class="bold"><span class="koboSpan" id="kobo.285.1">components</span></strong><span class="koboSpan" id="kobo.286.1"> became increasingly complex logically. </span><span class="koboSpan" id="kobo.286.2">Trying to understand the flow of the code in a file containing multiple </span><strong class="bold"><span class="koboSpan" id="kobo.287.1">“lifecycle methods”</span></strong><span class="koboSpan" id="kobo.288.1"> is a real challenge. </span><span class="koboSpan" id="kobo.288.2">If you would like to learn more about lifecycle methods, please look at the </span><em class="italic"><span class="koboSpan" id="kobo.289.1">Further reading</span></em><span class="koboSpan" id="kobo.290.1"> section, where you will find a link to an article in the ReactJS documentation entitled </span><em class="italic"><span class="koboSpan" id="kobo.291.1">Adding Lifecycle Methods to </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.292.1">a Class</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.293.1">.</span></span></p>
<p><strong class="bold"><span class="koboSpan" id="kobo.294.1">Stateful components</span></strong><span class="koboSpan" id="kobo.295.1"> are also </span><a id="_idIndexMarker066"/><span class="koboSpan" id="kobo.296.1">more difficult to test than </span><strong class="bold"><span class="koboSpan" id="kobo.297.1">stateless components</span></strong><span class="koboSpan" id="kobo.298.1">, plus they compile slower and are bigger </span><span class="No-Break"><span class="koboSpan" id="kobo.299.1">after compilation.</span></span></p>
<p><strong class="bold"><span class="koboSpan" id="kobo.300.1">Stateless components</span></strong><span class="koboSpan" id="kobo.301.1">, also </span><a id="_idIndexMarker067"/><span class="koboSpan" id="kobo.302.1">known as </span><strong class="bold"><span class="koboSpan" id="kobo.303.1">functional components</span></strong><span class="koboSpan" id="kobo.304.1">, are the lightweight brothers </span><a id="_idIndexMarker068"/><span class="koboSpan" id="kobo.305.1">of class components. </span><span class="koboSpan" id="kobo.305.2">Here’s an example of a </span><span class="No-Break"><span class="koboSpan" id="kobo.306.1">stateless component:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.307.1">
const Welcome = (props) =&gt; {
  return &lt;Text&gt;Hello, World! </span><span class="koboSpan" id="kobo.307.2">&lt;/Text&gt;;
}</span></pre>
<p><span class="koboSpan" id="kobo.308.1">Comparing the two example </span><strong class="bold"><span class="koboSpan" id="kobo.309.1">components</span></strong><span class="koboSpan" id="kobo.310.1"> shown in the preceding snippet, you should notice a big difference in the number of lines of code needed to write the given </span><strong class="bold"><span class="koboSpan" id="kobo.311.1">component</span></strong><span class="koboSpan" id="kobo.312.1">. </span><span class="koboSpan" id="kobo.312.2">Our simple stateful </span><strong class="bold"><span class="koboSpan" id="kobo.313.1">component</span></strong><span class="koboSpan" id="kobo.314.1"> needed nine lines for what the </span><strong class="bold"><span class="koboSpan" id="kobo.315.1">functional component</span></strong><span class="koboSpan" id="kobo.316.1"> achieved </span><span class="No-Break"><span class="koboSpan" id="kobo.317.1">in three!</span></span></p>
<p><span class="koboSpan" id="kobo.318.1">This means </span><strong class="bold"><span class="koboSpan" id="kobo.319.1">stateless components</span></strong><span class="koboSpan" id="kobo.320.1"> are easier to write from a developer’s point of view. </span><span class="koboSpan" id="kobo.320.2">They also don’t need magical objects such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.321.1">constructor</span></strong><span class="koboSpan" id="kobo.322.1"> or special </span><strong class="bold"><span class="koboSpan" id="kobo.323.1">lifecycle methods</span></strong><span class="koboSpan" id="kobo.324.1"> such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.325.1">componentDidUpdate</span></strong><span class="koboSpan" id="kobo.326.1">. </span><span class="koboSpan" id="kobo.326.2">They do, of course, have the great downside of not </span><a id="_idIndexMarker069"/><span class="koboSpan" id="kobo.327.1">being able to manage state. </span><span class="koboSpan" id="kobo.327.2">So, an ideal </span><strong class="bold"><span class="koboSpan" id="kobo.328.1">ReactJS</span></strong><span class="koboSpan" id="kobo.329.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.330.1">React Native</span></strong><span class="koboSpan" id="kobo.331.1"> app would </span><a id="_idIndexMarker070"/><span class="koboSpan" id="kobo.332.1">include at least one parent, a stateful component, which then would pass props to all kinds of stateless children components. </span><span class="koboSpan" id="kobo.332.2">However, there are hardly any ideal apps in the real world. </span><span class="koboSpan" id="kobo.332.3">Developers would very often write stateful components and add lifecycle methods to manage when UI updates should and should </span><span class="No-Break"><span class="koboSpan" id="kobo.333.1">not happen.</span></span></p>
<p><span class="koboSpan" id="kobo.334.1">This trend changed with the aforementioned </span><strong class="bold"><span class="koboSpan" id="kobo.335.1">ReactJS</span></strong><span class="koboSpan" id="kobo.336.1"> v16.8 when the concept of hooks was introduced in the </span><strong class="bold"><span class="koboSpan" id="kobo.337.1">ReactJS</span></strong><span class="koboSpan" id="kobo.338.1"> world, which we are going to look at in the </span><span class="No-Break"><span class="koboSpan" id="kobo.339.1">next section.</span></span></p>
<h1 id="_idParaDest-31"><a id="_idTextAnchor032"/><span class="koboSpan" id="kobo.340.1">What are hooks and why use them?</span></h1>
<p><span class="koboSpan" id="kobo.341.1">As I mentioned before, stateless components are generally easier to write and test. </span><span class="koboSpan" id="kobo.341.2">They should be the go-to component of </span><strong class="bold"><span class="koboSpan" id="kobo.342.1">ReactJS</span></strong><span class="koboSpan" id="kobo.343.1"> developers, but they were often overlooked because they </span><a id="_idIndexMarker071"/><span class="koboSpan" id="kobo.344.1">could not manage state. </span><span class="koboSpan" id="kobo.344.2">At the beginning of 2019, the ReactJS team added </span><strong class="bold"><span class="koboSpan" id="kobo.345.1">hooks</span></strong><span class="koboSpan" id="kobo.346.1"> to the library. </span><span class="koboSpan" id="kobo.346.2">Hooks add state functionality to stateless </span><a id="_idIndexMarker072"/><span class="koboSpan" id="kobo.347.1">components (therefore, it is better to only use the term </span><strong class="bold"><span class="koboSpan" id="kobo.348.1">functional components</span></strong><span class="koboSpan" id="kobo.349.1">). </span><span class="koboSpan" id="kobo.349.2">One specific </span><a id="_idIndexMarker073"/><span class="koboSpan" id="kobo.350.1">hook called </span><strong class="source-inline"><span class="koboSpan" id="kobo.351.1">useState</span></strong><span class="koboSpan" id="kobo.352.1"> is a function that returns a stateful value and a function to update it. </span><span class="koboSpan" id="kobo.352.2">You may recognize it from our previous section about state in </span><span class="No-Break"><span class="koboSpan" id="kobo.353.1">React components.</span></span></p>
<p><span class="koboSpan" id="kobo.354.1">Let’s go back to our example of a stateful component, change it to a functional one, and add the </span><strong class="source-inline"><span class="koboSpan" id="kobo.355.1">useState</span></strong><span class="koboSpan" id="kobo.356.1"> hook, </span><span class="No-Break"><span class="koboSpan" id="kobo.357.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.358.1">
import React, {useState} from "react";
import {Text} from "react-native";
const Welcome = () =&gt; {
  const [name, setName] = useState('World!');
  return &lt;Text&gt;Hello, {name}&lt;/Text&gt;;
}</span></pre>
<p><span class="koboSpan" id="kobo.359.1">Ta-da! </span><span class="koboSpan" id="kobo.359.2">It looks so much cleaner than the previous example! </span><span class="koboSpan" id="kobo.359.3">We still have a component capable of holding and </span><a id="_idIndexMarker074"/><span class="koboSpan" id="kobo.360.1">managing state changes, but it’s much shorter than the stateful class component. </span><span class="koboSpan" id="kobo.360.2">I also feel this type of component has a very nice logical flow, where we declare the state value and the state setter function on </span><span class="No-Break"><span class="koboSpan" id="kobo.361.1">one line.</span></span></p>
<p><span class="koboSpan" id="kobo.362.1">If you want to see this </span><a id="_idIndexMarker075"/><span class="koboSpan" id="kobo.363.1">code in action, you can go </span><span class="No-Break"><span class="koboSpan" id="kobo.364.1">to </span></span><a href="https://snack.expo.dev/@p-syche/example-of-functional-component-with-usestate"><span class="No-Break"><span class="koboSpan" id="kobo.365.1">https://snack.expo.dev/@p-syche/example-of-functional-component-with-usestate</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.366.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.367.1">This is an </span><strong class="bold"><span class="koboSpan" id="kobo.368.1">Expo Snack</span></strong><span class="koboSpan" id="kobo.369.1">—an equivalent of code snippets for </span><span class="No-Break"><span class="koboSpan" id="kobo.370.1">web development.</span></span></p>
<h2 id="_idParaDest-32"><a id="_idTextAnchor033"/><span class="koboSpan" id="kobo.371.1">Which hooks should you know?</span></h2>
<p><span class="koboSpan" id="kobo.372.1">The first hook we spoke about was </span><strong class="source-inline"><span class="koboSpan" id="kobo.373.1">useState</span></strong><span class="koboSpan" id="kobo.374.1">, and that one is the absolute first you should familiarize yourself with. </span><span class="koboSpan" id="kobo.374.2">The second most used hook is </span><strong class="source-inline"><span class="koboSpan" id="kobo.375.1">useEffect</span></strong><span class="koboSpan" id="kobo.376.1">. </span><span class="koboSpan" id="kobo.376.2">I also believe </span><a id="_idIndexMarker076"/><span class="koboSpan" id="kobo.377.1">this is one of the best-named hooks. </span><span class="koboSpan" id="kobo.377.2">You can use it to add all sorts of side effects to your components. </span><span class="koboSpan" id="kobo.377.3">"</span><em class="italic"><span class="koboSpan" id="kobo.378.1">What is a side effect?"</span></em><span class="koboSpan" id="kobo.379.1"> you may ask, my dear reader. </span><span class="koboSpan" id="kobo.379.2">Let’s try to grasp this concept using examples: imagine a social media app (much like the app we will be building in this book!). </span><span class="koboSpan" id="kobo.379.3">Now, let’s imagine you are tasked with adding a likes counter. </span><span class="koboSpan" id="kobo.379.4">You have your parent </span><strong class="bold"><span class="koboSpan" id="kobo.380.1">component</span></strong><span class="koboSpan" id="kobo.381.1"> holding the likes button, and a </span><strong class="source-inline"><span class="koboSpan" id="kobo.382.1">&lt;Text&gt;</span></strong> <strong class="bold"><span class="koboSpan" id="kobo.383.1">component</span></strong><span class="koboSpan" id="kobo.384.1"> with a counter. </span><span class="koboSpan" id="kobo.384.2">It would look something </span><span class="No-Break"><span class="koboSpan" id="kobo.385.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.386.1">
const LikesParentComponent = () =&gt; {
    const getCounterNumberFromApi =      someFunctionRetrievingDataFromAPI();
    const [counterNumber, setCounterNumber] =      useState(getCounterNumberFromApi)
  return (
    &lt;LikesComponent counterNumber={counterNumber} /&gt;
  );
};
const LikesComponent = (counterNumber) =&gt; {
      const [likeState, setLikedState] = useState         ("haven't yet liked");
    return (
        &lt;View&gt;
            &lt;Text&gt;you {likeState} this post&lt;/Text&gt;
            &lt;Pressable onPress={setLikedState("liked")}&gt;
              &lt;Text&gt;Press here to check/uncheck&lt;/Text&gt;
            &lt;/Pressable&gt;
              &lt;Text&gt;{counterNumber} other people liked this                 post&lt;/Text&gt;
      &lt;/View&gt;
    );
  };</span></pre>
<p><span class="koboSpan" id="kobo.387.1">We are passing </span><strong class="source-inline"><span class="koboSpan" id="kobo.388.1">counterNumber</span></strong><span class="koboSpan" id="kobo.389.1"> from </span><strong class="source-inline"><span class="koboSpan" id="kobo.390.1">&lt;LikesParentComponent&gt;</span></strong><span class="koboSpan" id="kobo.391.1"> as a prop. </span><span class="koboSpan" id="kobo.391.2">Let’s assume this parent component handles retrieving the number of likes from an API using the very nicely named </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.392.1">someFunctionRetrievingDataFromAPI()</span></strong></span><span class="No-Break"> </span><span class="No-Break"><span class="koboSpan" id="kobo.393.1">function.</span></span></p>
<p><span class="koboSpan" id="kobo.394.1">This is looking pretty good so far, right? </span><span class="koboSpan" id="kobo.394.2">We load our components; they retrieve the likes data from an API and </span><a id="_idIndexMarker077"/><span class="koboSpan" id="kobo.395.1">pass it to our </span><strong class="source-inline"><span class="koboSpan" id="kobo.396.1">&lt;LikesComponent&gt;</span></strong><span class="koboSpan" id="kobo.397.1">, which displays it nicely. </span><span class="koboSpan" id="kobo.397.2">But wait! </span><span class="koboSpan" id="kobo.397.3">What happens if the user touches the </span><strong class="source-inline"><span class="koboSpan" id="kobo.398.1">&lt;Pressable&gt;</span></strong><span class="koboSpan" id="kobo.399.1"> component? </span><span class="koboSpan" id="kobo.399.2">We will set </span><strong class="source-inline"><span class="koboSpan" id="kobo.400.1">&lt;Text&gt;</span></strong><span class="koboSpan" id="kobo.401.1"> to </span><strong class="source-inline"><span class="koboSpan" id="kobo.402.1">liked</span></strong><span class="koboSpan" id="kobo.403.1">, but the counter will not go up! </span><span class="koboSpan" id="kobo.403.2">We simply cannot leave it like this! </span><span class="koboSpan" id="kobo.403.3">This is a classic side effect: a user action requires additional changes in component state. </span><span class="koboSpan" id="kobo.403.4">First of all, we cannot change </span><strong class="source-inline"><span class="koboSpan" id="kobo.404.1">counterNumber</span></strong><span class="koboSpan" id="kobo.405.1"> from within </span><strong class="source-inline"><span class="koboSpan" id="kobo.406.1">&lt;LikesComponent&gt;</span></strong><span class="koboSpan" id="kobo.407.1"> because, as we learned in the previous section on state and props, props are immutable. </span><span class="koboSpan" id="kobo.407.2">What can we do, then? </span><span class="koboSpan" id="kobo.407.3">We can use the state setter function from the parent component. </span><span class="koboSpan" id="kobo.407.4">This function can be passed as a prop. </span><span class="koboSpan" id="kobo.407.5">This means </span><strong class="source-inline"><span class="koboSpan" id="kobo.408.1">&lt;LikesParentComponent&gt;</span></strong><span class="koboSpan" id="kobo.409.1"> will invoke its child, </span><span class="No-Break"><span class="koboSpan" id="kobo.410.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.411.1">
&lt;LikesComponent counterNumber={counterNumber} setCounterNumber={setCounterNumber} /&gt;</span></pre>
<p><span class="koboSpan" id="kobo.412.1">So far, so good. </span><span class="koboSpan" id="kobo.412.2">Now, all we need to do is call this setter function at an appropriate time, which means when the </span><a id="_idIndexMarker078"/><span class="koboSpan" id="kobo.413.1">button is pressed in </span><strong class="source-inline"><span class="koboSpan" id="kobo.414.1">&lt;LikesComponent&gt;</span></strong><span class="koboSpan" id="kobo.415.1">. </span><span class="koboSpan" id="kobo.415.2">This is what it would look like using the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.416.1">useEffect</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.417.1"> hook:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.418.1">
const LikesComponent = (counterNumber, setCountNumber) =&gt; {
      const [likeState, setLikedState] = useState         ("haven't yet liked");
    useEffect(() =&gt; {
        if (likeState === "liked") {
            setCounterNumber(counterNumber++)
        } 
        else {
            setCounterNumber(counterNumber-1)
        }
    }, [likeState])
    return (
        &lt;View&gt;
            &lt;Text&gt;you {likeState} this post&lt;/Text&gt;
            &lt;Pressable onPress={setLikedState("liked")}&gt;
              &lt;Text&gt;Press here to check/uncheck&lt;/Text&gt;
            &lt;/Pressable&gt;
              &lt;Text&gt;{counterNumber} other people liked this                 post&lt;/Text&gt;
      &lt;/View&gt;
    );
  };</span></pre>
<p><span class="koboSpan" id="kobo.419.1">As you may notice, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.420.1">useEffect</span></strong><span class="koboSpan" id="kobo.421.1"> hook looks very different from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.422.1">useState</span></strong><span class="koboSpan" id="kobo.423.1"> hook. </span><span class="koboSpan" id="kobo.423.2">Don’t worry too much about this. </span><span class="koboSpan" id="kobo.423.3">These two hooks are the most used, and you will get used to the way they are conceived </span><span class="No-Break"><span class="koboSpan" id="kobo.424.1">and consumed.</span></span></p>
<p><span class="koboSpan" id="kobo.425.1">The inside of our example </span><strong class="source-inline"><span class="koboSpan" id="kobo.426.1">useEffect</span></strong><span class="koboSpan" id="kobo.427.1"> hook is a common </span><strong class="source-inline"><span class="koboSpan" id="kobo.428.1">if</span></strong><span class="koboSpan" id="kobo.429.1">/</span><strong class="source-inline"><span class="koboSpan" id="kobo.430.1">else</span></strong><span class="koboSpan" id="kobo.431.1"> statement checking whether the value of the state equals </span><strong class="source-inline"><span class="koboSpan" id="kobo.432.1">"liked"</span></strong><span class="koboSpan" id="kobo.433.1"> or not. </span><span class="koboSpan" id="kobo.433.2">The most crucial and interesting part of this hook is the array at the very end. </span><span class="koboSpan" id="kobo.433.3">This array is called a dependency array. </span><span class="koboSpan" id="kobo.433.4">It is used to inform the hook function when it should run. </span><span class="koboSpan" id="kobo.433.5">In our case, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.434.1">useEffect</span></strong><span class="koboSpan" id="kobo.435.1"> hook should run when the value of </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.436.1">likeState</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.437.1"> changes.</span></span></p>
<p><span class="koboSpan" id="kobo.438.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.439.1">useEffect</span></strong><span class="koboSpan" id="kobo.440.1"> hook can be used to update different pieces of the app, to help with data fetching, for user-driven </span><a id="_idIndexMarker079"/><span class="koboSpan" id="kobo.441.1">interactions, and so on. </span><span class="koboSpan" id="kobo.441.2">This hook is very powerful, but it has a very big risk: it can cause many re-renders when </span><span class="No-Break"><span class="koboSpan" id="kobo.442.1">written incorrectly.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.443.1">The most important thing to remember about useEffect</span></p>
<p class="callout"><span class="koboSpan" id="kobo.444.1">Make sure the dependency array of </span><strong class="source-inline"><span class="koboSpan" id="kobo.445.1">useEffect</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.446.1">is correct!</span></span></p>
<p><span class="koboSpan" id="kobo.447.1">As you may find in the official </span><strong class="bold"><span class="koboSpan" id="kobo.448.1">ReactJS</span></strong><span class="koboSpan" id="kobo.449.1"> documentation, the default behavior for effects is to fire the effect after </span><strong class="bold"><span class="koboSpan" id="kobo.450.1">every</span></strong><span class="koboSpan" id="kobo.451.1"> completed render. </span><span class="koboSpan" id="kobo.451.2">This may often be overkill. </span><span class="koboSpan" id="kobo.451.3">In such cases, we can pass an argument to </span><strong class="source-inline"><span class="koboSpan" id="kobo.452.1">useEffect</span></strong><span class="koboSpan" id="kobo.453.1">’s dependency array. </span><span class="koboSpan" id="kobo.453.2">If we set that, our effect will run </span><em class="italic"><span class="koboSpan" id="kobo.454.1">only</span></em><span class="koboSpan" id="kobo.455.1"> if any items in the dependency </span><span class="No-Break"><span class="koboSpan" id="kobo.456.1">array change.</span></span></p>
<p><span class="koboSpan" id="kobo.457.1">There are a few other built-in hooks. </span><span class="koboSpan" id="kobo.457.2">You don’t have to know them all when starting to write </span><strong class="bold"><span class="koboSpan" id="kobo.458.1">React Native</span></strong><span class="koboSpan" id="kobo.459.1"> code. </span><span class="koboSpan" id="kobo.459.2">The two basic hooks—</span><strong class="source-inline"><span class="koboSpan" id="kobo.460.1">useState</span></strong><span class="koboSpan" id="kobo.461.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.462.1">useEffect</span></strong><span class="koboSpan" id="kobo.463.1">—will be enough to get you started. </span><span class="koboSpan" id="kobo.463.2">When you get to a point where those two hooks are not enough, you can go back to the </span><strong class="bold"><span class="koboSpan" id="kobo.464.1">ReactJS</span></strong><span class="koboSpan" id="kobo.465.1"> documentation and read about other hooks. </span><span class="koboSpan" id="kobo.465.2">You can also write your own custom hooks useful for your </span><span class="No-Break"><span class="koboSpan" id="kobo.466.1">particular app.</span></span></p>
<p><span class="koboSpan" id="kobo.467.1">Now that we know what hooks are and why we use them, let’s get started with setting up our </span><span class="No-Break"><span class="koboSpan" id="kobo.468.1">sample app!</span></span></p>
<h1 id="_idParaDest-33"><a id="_idTextAnchor034"/><span class="koboSpan" id="kobo.469.1">Setting up the example app</span></h1>
<p><span class="koboSpan" id="kobo.470.1">Ah! </span><span class="koboSpan" id="kobo.470.2">The moment </span><a id="_idIndexMarker080"/><span class="koboSpan" id="kobo.471.1">you’ve probably been waiting for: actually creating </span><span class="No-Break"><span class="koboSpan" id="kobo.472.1">an app!</span></span></p>
<p><span class="koboSpan" id="kobo.473.1">We will start by preparing our development environment. </span><span class="koboSpan" id="kobo.473.2">You will need an </span><strong class="bold"><span class="koboSpan" id="kobo.474.1">integrated development environment</span></strong><span class="koboSpan" id="kobo.475.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.476.1">IDE</span></strong><span class="koboSpan" id="kobo.477.1">) such as VS Code, Sublime Text, Atom, or anything else you may </span><a id="_idIndexMarker081"/><span class="koboSpan" id="kobo.478.1">prefer. </span><span class="koboSpan" id="kobo.478.2">An IDE is all you need to write </span><strong class="bold"><span class="koboSpan" id="kobo.479.1">React Native</span></strong><span class="koboSpan" id="kobo.480.1"> code. </span><span class="koboSpan" id="kobo.480.2">But we also need a way to see what the code renders, </span><span class="No-Break"><span class="koboSpan" id="kobo.481.1">don’t we?</span></span></p>
<p><span class="koboSpan" id="kobo.482.1">In the case of web development, we would simply use the browser to see and test our code. </span><span class="koboSpan" id="kobo.482.2">However, </span><strong class="bold"><span class="koboSpan" id="kobo.483.1">React Native</span></strong><span class="koboSpan" id="kobo.484.1"> apps cannot be easily tested in a web browser. </span><span class="koboSpan" id="kobo.484.2">They can and should be tested on real or simulated devices. </span><span class="koboSpan" id="kobo.484.3">In an ideal situation, you would have access to multiple </span><a id="_idIndexMarker082"/><span class="koboSpan" id="kobo.485.1">phones, which you would plug into your computer via a USB in order to see your app. </span><span class="koboSpan" id="kobo.485.2">Most of us don’t have multiple phones, though. </span><span class="koboSpan" id="kobo.485.3">That’s why we can use phone simulators. </span><span class="koboSpan" id="kobo.485.4">There are two major players in the mobile world: Android and Apple. </span><span class="koboSpan" id="kobo.485.5">Android simulators are available for virtually any desktop platform thanks to the Android Studio app. </span><span class="koboSpan" id="kobo.485.6">Unfortunately, iPhone simulators can be run exclusively on </span><span class="No-Break"><span class="koboSpan" id="kobo.486.1">Mac computers.</span></span></p>
<p><span class="koboSpan" id="kobo.487.1">Setting up simulators can be a daunting task, but don’t worry too much! </span><span class="No-Break"><span class="koboSpan" id="kobo.488.1">There’s </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.489.1">Expo</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.490.1">!</span></span></p>
<p><span class="koboSpan" id="kobo.491.1">I spoke about </span><strong class="bold"><span class="koboSpan" id="kobo.492.1">Expo</span></strong><span class="koboSpan" id="kobo.493.1"> in the first chapter. </span><span class="koboSpan" id="kobo.493.2">If you skipped that part, let me give you a quick rundown: </span><strong class="bold"><span class="koboSpan" id="kobo.494.1">Expo</span></strong><span class="koboSpan" id="kobo.495.1"> is </span><strong class="bold"><span class="koboSpan" id="kobo.496.1">React Native</span></strong><span class="koboSpan" id="kobo.497.1"> development </span><a id="_idIndexMarker083"/><span class="koboSpan" id="kobo.498.1">tooling. </span><span class="koboSpan" id="kobo.498.2">It makes building, testing, and publishing apps much easier. </span><strong class="bold"><span class="koboSpan" id="kobo.499.1">Expo</span></strong><span class="koboSpan" id="kobo.500.1"> is a wrapper on top of </span><strong class="bold"><span class="koboSpan" id="kobo.501.1">React Native</span></strong><span class="koboSpan" id="kobo.502.1">, aimed at making the developer </span><span class="No-Break"><span class="koboSpan" id="kobo.503.1">experience smoother.</span></span></p>
<h2 id="_idParaDest-34"><a id="_idTextAnchor035"/><span class="koboSpan" id="kobo.504.1">Environment setup</span></h2>
<p><span class="koboSpan" id="kobo.505.1">Let’s make sure your development environment is ready. </span><span class="koboSpan" id="kobo.505.2">As listed on the Expo website, you will need </span><a id="_idIndexMarker084"/><span class="koboSpan" id="kobo.506.1">the latest Node, Git, and Watchman. </span><span class="koboSpan" id="kobo.506.2">Links to all of these can be found in Expo’s documentation at </span><a href="https://docs.expo.dev/get-started/installation/"><span class="koboSpan" id="kobo.507.1">https://docs.expo.dev/get-started/installation/</span></a><span class="koboSpan" id="kobo.508.1">. </span><span class="koboSpan" id="kobo.508.2">We will be using Yarn during development, so please make </span><a id="_idIndexMarker085"/><span class="koboSpan" id="kobo.509.1">sure you have it installed. </span><span class="koboSpan" id="kobo.509.2">You can find detailed instructions here: </span><a href="https://classic.yarnpkg.com/en/docs/install"><span class="koboSpan" id="kobo.510.1">https://classic.yarnpkg.com/en/docs/install</span></a><span class="koboSpan" id="kobo.511.1">. </span><span class="koboSpan" id="kobo.511.2">Once you have gone through the links, follow </span><span class="No-Break"><span class="koboSpan" id="kobo.512.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.513.1">When you’re ready, go ahead and install Expo’s </span><span class="No-Break"><span class="koboSpan" id="kobo.514.1">CLI tools:</span></span><pre class="console">
<strong class="bold"><span class="koboSpan" id="kobo.515.1">$ npm install –global expo-cli</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.516.1">Verify that the installation was successful by running </span><strong class="source-inline"><span class="koboSpan" id="kobo.517.1">expo whoami</span></strong><span class="koboSpan" id="kobo.518.1">. </span><span class="koboSpan" id="kobo.518.2">You’re not logged in yet, so you will see </span><strong class="bold"><span class="koboSpan" id="kobo.519.1">Not logged in</span></strong><span class="koboSpan" id="kobo.520.1">. </span><span class="koboSpan" id="kobo.520.2">You do not need an account to use Expo. </span><span class="koboSpan" id="kobo.520.3">If you want, you can create an account by running </span><strong class="source-inline"><span class="koboSpan" id="kobo.521.1">expo register</span></strong><span class="koboSpan" id="kobo.522.1">, or you can log in to an existing account with </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.523.1">expo login</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.524.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.525.1">The next step is to install the Expo Go app on your phone. </span><span class="koboSpan" id="kobo.525.2">You can find it in the Android Store at </span><a href="https://play.google.com/store/apps/details?id=host.exp.exponent"><span class="koboSpan" id="kobo.526.1">https://play.google.com/store/apps/details?id=host.exp.exponent</span></a><span class="koboSpan" id="kobo.527.1"> and on the App Store </span><span class="No-Break"><span class="koboSpan" id="kobo.528.1">at </span></span><a href="https://apps.apple.com/app/expo-go/id982107779"><span class="No-Break"><span class="koboSpan" id="kobo.529.1">https://apps.apple.com/app/expo-go/id982107779</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.530.1">.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.531.1">Thanks to Expo, it does not matter if you have a Mac computer or a Windows computer and what kind of phone you have. </span><span class="koboSpan" id="kobo.531.2">The </span><strong class="bold"><span class="koboSpan" id="kobo.532.1">Expo Go</span></strong><span class="koboSpan" id="kobo.533.1"> app will “automagically” work on Android and </span><span class="No-Break"><span class="koboSpan" id="kobo.534.1">Apple devices.</span></span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.535.1">We’re all set—it’s time to create the app. </span><span class="koboSpan" id="kobo.535.2">Go to your terminal and run the </span><span class="No-Break"><span class="koboSpan" id="kobo.536.1">following command:</span></span><pre class="console">
<strong class="bold"><span class="koboSpan" id="kobo.537.1">$ npx create-expo-app funbook-app</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.538.1">When prompted about templates, please </span><span class="No-Break"><span class="koboSpan" id="kobo.539.1">choose </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.540.1">blank</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.541.1">.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.542.1">You can choose any name you like for your app. </span><span class="koboSpan" id="kobo.542.2">I suggested using “</span><strong class="source-inline"><span class="koboSpan" id="kobo.543.1">Funbook</span></strong><span class="koboSpan" id="kobo.544.1">” because it </span><a id="_idIndexMarker086"/><span class="koboSpan" id="kobo.545.1">sounds a little like “Facebook” and we’ll be creating a social media app clone. </span><span class="koboSpan" id="kobo.545.2">Sticking with the same name as me will probably make it easier to follow along with </span><span class="No-Break"><span class="koboSpan" id="kobo.546.1">code examples.</span></span></p>
<ol>
<li value="6"><span class="koboSpan" id="kobo.547.1">After app initialization is successfully run, you can go to your app’s folder by running the </span><span class="No-Break"><span class="koboSpan" id="kobo.548.1">following command:</span></span><pre class="console">
<strong class="bold"><span class="koboSpan" id="kobo.549.1">$ cd funbook-app</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.550.1">And run the development server, </span><span class="No-Break"><span class="koboSpan" id="kobo.551.1">like so:</span></span><pre class="console">
<strong class="bold"><span class="koboSpan" id="kobo.552.1">$ expo start</span></strong></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.553.1">Or, if you’re using Yarn, run </span><span class="No-Break"><span class="koboSpan" id="kobo.554.1">this command:</span></span></p>
<pre class="console">
<strong class="bold"><span class="koboSpan" id="kobo.555.1">$ yarn start</span></strong></pre>
<p><span class="koboSpan" id="kobo.556.1">Expo CLI starts Metro Bundler, which is an HTTP server that compiles the JavaScript code of our app. </span><span class="koboSpan" id="kobo.556.2">You should see a QR code that you can now scan using the Expo Go app on your phone. </span><span class="koboSpan" id="kobo.556.3">You can run your Funbook app on as many devices as </span><span class="No-Break"><span class="koboSpan" id="kobo.557.1">you’d like.</span></span></p>
<p><span class="koboSpan" id="kobo.558.1">App development can seem a little daunting at first, but don’t worry if not everything works perfectly on the first try. </span><span class="koboSpan" id="kobo.558.2">There’s a big chance you will find the culprit in your terminal window. </span><span class="koboSpan" id="kobo.558.3">The terminal output is the best source of information </span><span class="No-Break"><span class="koboSpan" id="kobo.559.1">for you.</span></span></p>
<p><span class="koboSpan" id="kobo.560.1">If you see any errors in the terminal, or you feel a little bit lost, make sure to check the Expo installation </span><span class="No-Break"><span class="koboSpan" id="kobo.561.1">documentation: </span></span><a href="https://docs.expo.dev/get-started/create-a-new-app/"><span class="No-Break"><span class="koboSpan" id="kobo.562.1">https://docs.expo.dev/get-started/create-a-new-app/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.563.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.564.1">I set up a public repository that we will use throughout this book. </span><span class="koboSpan" id="kobo.564.2">You can find it </span><span class="No-Break"><span class="koboSpan" id="kobo.565.1">here:</span></span><a href="https://github.com/PacktPublishing/Simplifying-State-Management-in-React-Native"><span class="No-Break"><span class="koboSpan" id="kobo.566.1"> https://github.com/PacktPublishing/Simplifying-State-Management-in-React-Native</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.567.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.568.1">On the </span><strong class="source-inline"><span class="koboSpan" id="kobo.569.1">main</span></strong><span class="koboSpan" id="kobo.570.1"> branch </span><a id="_idIndexMarker087"/><span class="koboSpan" id="kobo.571.1">of this repository, you will find an app that is already set up. </span><span class="koboSpan" id="kobo.571.2">Feel free to clone or fork this repository. </span><span class="koboSpan" id="kobo.571.3">Remember that if you want to run this app on your computer, you will still need to install </span><strong class="bold"><span class="koboSpan" id="kobo.572.1">Expo</span></strong><span class="koboSpan" id="kobo.573.1"> tools and other required libraries (</span><strong class="source-inline"><span class="koboSpan" id="kobo.574.1">node</span></strong><span class="koboSpan" id="kobo.575.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.576.1">watchman</span></strong><span class="koboSpan" id="kobo.577.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.578.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.579.1">yarn</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.580.1">).</span></span></p>
<h2 id="_idParaDest-35"><a id="_idTextAnchor036"/><span class="koboSpan" id="kobo.581.1">App structure</span></h2>
<p><span class="koboSpan" id="kobo.582.1">Let us consider which surfaces and components we will need for a simplistic social media app. </span><span class="koboSpan" id="kobo.582.2">By “surface," I mean </span><a id="_idIndexMarker088"/><span class="koboSpan" id="kobo.583.1">what would be in web development a “page." </span><span class="koboSpan" id="kobo.583.2">That is a big building block of the app, composed of many components, presented together on </span><span class="No-Break"><span class="koboSpan" id="kobo.584.1">the screen.</span></span></p>
<p><span class="koboSpan" id="kobo.585.1">Our app will definitely need a login surface, a social media feed surface, and a personal profile surface. </span><span class="koboSpan" id="kobo.585.2">We will also add a screen containing favorited posts and another one where the user can add their post. </span><span class="koboSpan" id="kobo.585.3">We will use fake data for the feed and profile, and a single username and password for logging in. </span><span class="koboSpan" id="kobo.585.4">We won’t be implementing a registration flow in order to stay on the simple side </span><span class="No-Break"><span class="koboSpan" id="kobo.586.1">of things.</span></span></p>
<p><span class="koboSpan" id="kobo.587.1">We want to concentrate on data flows, so we will use a free social media UI kit to get the design “out of the way," so to speak. </span><span class="koboSpan" id="kobo.587.2">Here’s a link to the design file we will </span><span class="No-Break"><span class="koboSpan" id="kobo.588.1">use: </span></span><a href="https://www.pixeltrue.com/free-ui-kits/social-media-app"><span class="No-Break"><span class="koboSpan" id="kobo.589.1">https://www.pixeltrue.com/free-ui-kits/social-media-app</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.590.1">.</span></span></p>
<h3><span class="koboSpan" id="kobo.591.1">App root</span></h3>
<p><span class="koboSpan" id="kobo.592.1">Our app will consist of at least </span><a id="_idIndexMarker089"/><span class="koboSpan" id="kobo.593.1">five surfaces, which means we need to set up navigation to be able to move between those surfaces. </span><span class="koboSpan" id="kobo.593.2">The user will start off on the login surface. </span><span class="koboSpan" id="kobo.593.3">They will fill in their information and they will be redirected to the social media </span><span class="No-Break"><span class="koboSpan" id="kobo.594.1">feed surface.</span></span></p>
<p><span class="koboSpan" id="kobo.595.1">Obviously, we need a way for our users to move around the app. </span><span class="koboSpan" id="kobo.595.2">One of the most used navigation libraries is called </span><strong class="bold"><span class="koboSpan" id="kobo.596.1">React Navigation</span></strong><span class="koboSpan" id="kobo.597.1">. </span><span class="koboSpan" id="kobo.597.2">This is a library created especially for </span><strong class="bold"><span class="koboSpan" id="kobo.598.1">React Native</span></strong><span class="koboSpan" id="kobo.599.1"> applications. </span><span class="koboSpan" id="kobo.599.2">It provides three </span><a id="_idIndexMarker090"/><span class="koboSpan" id="kobo.600.1">types of navigation out of the box: Drawer navigation, Tab navigation, and Stack navigation. </span><span class="koboSpan" id="kobo.600.2">Drawer navigation is when you </span><a id="_idIndexMarker091"/><span class="koboSpan" id="kobo.601.1">have a little drawer on the side of your app with links to different places in your app. </span><span class="koboSpan" id="kobo.601.2">Tab navigation will display tabs (either bottom or top) with </span><a id="_idIndexMarker092"/><span class="koboSpan" id="kobo.602.1">links to different places. </span><span class="koboSpan" id="kobo.602.2">Stack navigation works like a stack of cards—each screen is a card having the ability to redirect to any other card. </span><span class="koboSpan" id="kobo.602.3">If you </span><a id="_idIndexMarker093"/><span class="koboSpan" id="kobo.603.1">would like to know more about this library, you can find a link to the documentation in the </span><em class="italic"><span class="koboSpan" id="kobo.604.1">Further </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.605.1">reading</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.606.1"> section.</span></span></p>
<p><span class="koboSpan" id="kobo.607.1">There are other navigation libraries out there, but React Navigation is by far the most popular one in the </span><strong class="bold"><span class="koboSpan" id="kobo.608.1">React Native</span></strong><span class="koboSpan" id="kobo.609.1"> community. </span><span class="koboSpan" id="kobo.609.2">It is also actively maintained and updated to work with the newest </span><strong class="bold"><span class="koboSpan" id="kobo.610.1">React </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.611.1">Native</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.612.1"> versions.</span></span></p>
<p><span class="koboSpan" id="kobo.613.1">We need to start by adding the library as a dependency to our project. </span><span class="koboSpan" id="kobo.613.2">To do that, follow </span><span class="No-Break"><span class="koboSpan" id="kobo.614.1">these steps:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.615.1">We can add the library by running the </span><span class="No-Break"><span class="koboSpan" id="kobo.616.1">following command:</span></span><pre class="console">
<strong class="bold"><span class="koboSpan" id="kobo.617.1">$ yarn add @react-navigation/native</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.618.1">If you visit the documentation website, you will notice there are different CLI commands for “</span><strong class="bold"><span class="koboSpan" id="kobo.619.1">Expo</span></strong><span class="koboSpan" id="kobo.620.1"> managed projects” and “bare </span><strong class="bold"><span class="koboSpan" id="kobo.621.1">React Native</span></strong><span class="koboSpan" id="kobo.622.1"> projects." </span><span class="koboSpan" id="kobo.622.2">Make sure to follow the instructions for Expo-managed projects. </span><span class="koboSpan" id="kobo.622.3">In our case, we need to run the </span><span class="No-Break"><span class="koboSpan" id="kobo.623.1">following command:</span></span><pre class="console">
<strong class="bold"><span class="koboSpan" id="kobo.624.1">$ expo install react-native-screens react-native-safe-area-context</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.625.1">We will need to </span><a id="_idIndexMarker094"/><span class="koboSpan" id="kobo.626.1">display a login surface first, which will redirect our users to the main app screen. </span><span class="koboSpan" id="kobo.626.2">In order to do that, we will use a Stack navigator. </span><span class="koboSpan" id="kobo.626.3">Let’s add its dependencies to our project, as listed here </span><span class="No-Break"><span class="koboSpan" id="kobo.627.1">at </span></span><a href="https://reactnavigation.org/docs/stack-navigator/"><span class="No-Break"><span class="koboSpan" id="kobo.628.1">https://reactnavigation.org/docs/stack-navigator/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.629.1">:</span></span><pre class="console">
<strong class="bold"><span class="koboSpan" id="kobo.630.1">$ yarn add @react-navigation/stack</span></strong></pre><pre class="console">
<strong class="bold"><span class="koboSpan" id="kobo.631.1">$ expo install react-native-gesture-handler</span></strong></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.632.1">The last setup step for the stack navigator is importing the gesture handler library at the very top of our </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.633.1">App.js</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.634.1"> file.</span></span></p>
<p><span class="koboSpan" id="kobo.635.1">The stack navigator will be very useful </span><a id="_idIndexMarker095"/><span class="koboSpan" id="kobo.636.1">to manage the login state of our app, but we will also need bottom tab navigation to move between the other screens once the user is logged in. </span><span class="koboSpan" id="kobo.636.2">Tab navigation feels very natural for app users. </span><span class="koboSpan" id="kobo.636.3">It is visible on all screens and makes using the </span><span class="No-Break"><span class="koboSpan" id="kobo.637.1">app easy.</span></span></p>
<p><span class="koboSpan" id="kobo.638.1">As for now, we will only need to run </span><span class="No-Break"><span class="koboSpan" id="kobo.639.1">one command:</span></span></p>
<pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.640.1">$ yarn add @react-navigation/bottom-tabs</span></strong></pre>
<p><span class="koboSpan" id="kobo.641.1">This command adds bottom tab navigation as a dependency to our project so that we will be able to use </span><span class="No-Break"><span class="koboSpan" id="kobo.642.1">it later.</span></span></p>
<p><span class="koboSpan" id="kobo.643.1">You may wonder why we needed to add so many different dependencies separately. </span><span class="koboSpan" id="kobo.643.2">This is caused by how the </span><strong class="bold"><span class="koboSpan" id="kobo.644.1">React Navigation</span></strong><span class="koboSpan" id="kobo.645.1"> authors decided to structure their library. </span><span class="koboSpan" id="kobo.645.2">They were certain most people will not need every kind of navigation in their </span><strong class="bold"><span class="koboSpan" id="kobo.646.1">app</span></strong><span class="koboSpan" id="kobo.647.1">, so why should they include it in their app bundle? </span><span class="koboSpan" id="kobo.647.2">Every library user can decide which part of </span><strong class="bold"><span class="koboSpan" id="kobo.648.1">React Navigation</span></strong><span class="koboSpan" id="kobo.649.1"> will be useful to them and include only </span><span class="No-Break"><span class="koboSpan" id="kobo.650.1">that part.</span></span></p>
<p><span class="koboSpan" id="kobo.651.1">Let’s move on to adding a little bit of structure to our basic app. </span><span class="koboSpan" id="kobo.651.2">Every app is built with at least a couple of different </span><a id="_idIndexMarker096"/><span class="koboSpan" id="kobo.652.1">surfaces, which in turn are built with components. </span><span class="koboSpan" id="kobo.652.2">Our basic social media clone app will need a login surface and a main surface, visible after login. </span><span class="koboSpan" id="kobo.652.3">Since we’re creating a social media app, we will go ahead and call the main surface “</span><strong class="bold"><span class="koboSpan" id="kobo.653.1">Feed</span></strong><span class="koboSpan" id="kobo.654.1">”, since it will house the user’s newsfeed. </span><span class="koboSpan" id="kobo.654.2">As we progress, we will surely add more surfaces, but those two will be a good </span><span class="No-Break"><span class="koboSpan" id="kobo.655.1">starting point.</span></span></p>
<h3><span class="koboSpan" id="kobo.656.1">Setting up surfaces</span></h3>
<p><span class="koboSpan" id="kobo.657.1">The login surface will </span><a id="_idIndexMarker097"/><span class="koboSpan" id="kobo.658.1">need an input field for the username, an input field for the password, and a button to log in. </span><span class="koboSpan" id="kobo.658.2">But for now, we will create a dummy component with </span><span class="No-Break"><span class="koboSpan" id="kobo.659.1">some text.</span></span></p>
<p><span class="koboSpan" id="kobo.660.1">We will start by creating the login surface. </span><span class="koboSpan" id="kobo.660.2">You may wonder what it means to “create a surface." </span><span class="koboSpan" id="kobo.660.3">What I mean by it is that some of the components will be wrappers for entire surfaces of the app. </span><span class="koboSpan" id="kobo.660.4">Some people prefer to call them screens, and in web development, you would call them sites or pages. </span><span class="koboSpan" id="kobo.660.5">From a coding standpoint, they are components just like any other component. </span><span class="koboSpan" id="kobo.660.6">But we decide that, logically, they represent a bigger piece of the app, and we put them in a special folder, </span><span class="No-Break"><span class="koboSpan" id="kobo.661.1">called </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.662.1">surfaces</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.663.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.664.1">Here’s our </span><span class="No-Break"><span class="koboSpan" id="kobo.665.1">login surface:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.666.1">
// ./src/surfaces/Login.js
import React from "react";
import { View, Text } from "react-native";
export const Login = () =&gt; {
  return (
    &lt;View&gt;
      &lt;Text&gt;this will be the login screen&lt;/Text&gt;
    &lt;/View&gt;
  );
};</span></pre>
<p><span class="koboSpan" id="kobo.667.1">As you may notice it is, in fact, a dummy component, named </span><strong class="source-inline"><span class="koboSpan" id="kobo.668.1">Login</span></strong><span class="koboSpan" id="kobo.669.1">, and placed in the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.670.1">surfaces</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.671.1"> folder.</span></span></p>
<p><span class="koboSpan" id="kobo.672.1">Using that same logic, we </span><a id="_idIndexMarker098"/><span class="koboSpan" id="kobo.673.1">will create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.674.1">Feed</span></strong><span class="koboSpan" id="kobo.675.1"> surface, which should be displayed after the users </span><span class="No-Break"><span class="koboSpan" id="kobo.676.1">log in:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.677.1">
// ./src/surfaces/Feed.js
import React from "react";
import { View, Text } from "react-native";
export const Feed = () =&gt; {
  return (
    &lt;View&gt;
      &lt;Text&gt;this will be the feed screen&lt;/Text&gt;
    &lt;/View&gt;
  );
};</span></pre>
<p><span class="koboSpan" id="kobo.678.1">We have the two basic pieces of the app ready; now we need to put them together. </span><span class="koboSpan" id="kobo.678.2">This is where React Navigation comes </span><span class="No-Break"><span class="koboSpan" id="kobo.679.1">into play.</span></span></p>
<p><span class="koboSpan" id="kobo.680.1">Every React Native app needs a root file, just as every website needs an </span><strong class="source-inline"><span class="koboSpan" id="kobo.681.1">index.html</span></strong><span class="koboSpan" id="kobo.682.1"> file at the root. </span><span class="koboSpan" id="kobo.682.2">This root file </span><a id="_idIndexMarker099"/><span class="koboSpan" id="kobo.683.1">is usually called </span><strong class="source-inline"><span class="koboSpan" id="kobo.684.1">App.js</span></strong><span class="koboSpan" id="kobo.685.1">. </span><span class="koboSpan" id="kobo.685.2">This is the </span><strong class="bold"><span class="koboSpan" id="kobo.686.1">source of truth</span></strong><span class="koboSpan" id="kobo.687.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.688.1">SOT</span></strong><span class="koboSpan" id="kobo.689.1">) for displaying anything and everything. </span><span class="koboSpan" id="kobo.689.2">You can think of it as a trunk of </span><a id="_idIndexMarker100"/><span class="koboSpan" id="kobo.690.1">a tree, with many branches sprouting from it. </span><span class="koboSpan" id="kobo.690.2">The branches are different app surfaces in this metaphor. </span><span class="koboSpan" id="kobo.690.3">You got that, right? </span><span class="koboSpan" id="kobo.690.4">I’m sure you did! </span><span class="koboSpan" id="kobo.690.5">You’re smart! </span><span class="koboSpan" id="kobo.690.6">After all, you </span><em class="italic"><span class="koboSpan" id="kobo.691.1">are reading </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.692.1">my</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.693.1"> book.</span></span></p>
<p><span class="koboSpan" id="kobo.694.1">Let’s set up the parent component to display the correct flow—first, the login screen, and then, </span><span class="No-Break"><span class="koboSpan" id="kobo.695.1">the feed:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.696.1">
// ./App.js
import 'react-native-gesture-handler';
import React, { useState } from "react";
import { NavigationContainer } from "@react-navigation/native";
import { createStackNavigator } from "@react-navigation/stack";
import { createBottomTabNavigator } from "@react-navigation/  bottom-tabs";
import { Login } from "./src/surfaces/Login";
import { Feed } from "./src/surfaces/Feed";
const Stack = createStackNavigator();
const Tab = createBottomTabNavigator();
function Home() {
  return (
    &lt;Tab.Navigator&gt;
      &lt;Tab.Screen name="Feed" component={Feed} /&gt;
    &lt;/Tab.Navigator&gt;
  );
}
export default function App() {
  const [userLoggedIn, setIsUserLoggedIn] = useState(true);
  return (
    &lt;NavigationContainer&gt;
      &lt;Stack.Navigator&gt;
        {!userLoggedIn ? </span><span class="koboSpan" id="kobo.696.2">(
          &lt;Stack.Screen name="Login" component={Login} /&gt;
        ) : (
          &lt;Stack.Screen
            name="Home"
            component={Home}
            options={{ headerShown: false }}
          /&gt;
        )}
      &lt;/Stack.Navigator&gt;
    &lt;/NavigationContainer&gt;
  );
}</span></pre>
<p><span class="koboSpan" id="kobo.697.1">You can find the preceding code in this Expo </span><span class="No-Break"><span class="koboSpan" id="kobo.698.1">Snack: </span></span><a href="https://snack.expo.dev/@p-syche/simplifying-state-management---chapter-2-example-3"><span class="No-Break"><span class="koboSpan" id="kobo.699.1">https://snack.expo.dev/@p-syche/simplifying-state-management---chapter-2-example-3</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.700.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.701.1">In the preceding code, you will notice we used the </span><strong class="source-inline"><span class="koboSpan" id="kobo.702.1">useState</span></strong><span class="koboSpan" id="kobo.703.1"> hook. </span><span class="koboSpan" id="kobo.703.2">This way, we easily added state to our functional </span><strong class="source-inline"><span class="koboSpan" id="kobo.704.1">App</span></strong><span class="koboSpan" id="kobo.705.1"> component. </span><span class="koboSpan" id="kobo.705.2">We set up our initial state to be </span><strong class="source-inline"><span class="koboSpan" id="kobo.706.1">false</span></strong><span class="koboSpan" id="kobo.707.1">—users opening the app for the first time are not supposed to be logged in. </span><span class="koboSpan" id="kobo.707.2">When the user logs in, they are redirected to the second “card” in our stack. </span><span class="koboSpan" id="kobo.707.3">This “card” is the </span><strong class="source-inline"><span class="koboSpan" id="kobo.708.1">Home</span></strong><span class="koboSpan" id="kobo.709.1"> component. </span><span class="koboSpan" id="kobo.709.2">This is a wrapper component used to hold the bigger part of our app: all other surfaces besides </span><strong class="source-inline"><span class="koboSpan" id="kobo.710.1">Login</span></strong><span class="koboSpan" id="kobo.711.1"> with tabbed bottom navigation. </span><span class="koboSpan" id="kobo.711.2">As you may notice, the navigators are nested: tabbed navigation is inside the stack navigator. </span><span class="koboSpan" id="kobo.711.3">This is a common and useful practice in </span><strong class="bold"><span class="koboSpan" id="kobo.712.1">React Native</span></strong><span class="koboSpan" id="kobo.713.1"> apps. </span><span class="koboSpan" id="kobo.713.2">You can read more about nesting navigators </span><a id="_idIndexMarker101"/><span class="koboSpan" id="kobo.714.1">in the </span><strong class="bold"><span class="koboSpan" id="kobo.715.1">React Navigation</span></strong><span class="koboSpan" id="kobo.716.1"> documentation </span><span class="No-Break"><span class="koboSpan" id="kobo.717.1">here: </span></span><a href="https://reactnavigation.org/docs/nesting-navigators"><span class="No-Break"><span class="koboSpan" id="kobo.718.1">https://reactnavigation.org/docs/nesting-navigators</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.719.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.720.1">And there we go! </span><span class="koboSpan" id="kobo.720.2">We have set up an app using </span><strong class="bold"><span class="koboSpan" id="kobo.721.1">Expo</span></strong><span class="koboSpan" id="kobo.722.1">. </span><span class="koboSpan" id="kobo.722.2">We added multiple components representing the future surfaces of the app. </span><span class="koboSpan" id="kobo.722.3">We also added and configured the </span><strong class="bold"><span class="koboSpan" id="kobo.723.1">React</span></strong> <strong class="bold"><span class="koboSpan" id="kobo.724.1">Navigation</span></strong><span class="koboSpan" id="kobo.725.1"> library. </span><span class="koboSpan" id="kobo.725.2">Our app is not very pretty right now, but it should work. </span><span class="koboSpan" id="kobo.725.3">You can see it on your phone through the Expo Go app, or in phone simulators on your </span><span class="No-Break"><span class="koboSpan" id="kobo.726.1">computer screen.</span></span></p>
<p><span class="koboSpan" id="kobo.727.1">I set up a public repository </span><a id="_idIndexMarker102"/><span class="koboSpan" id="kobo.728.1">on GitHub so that you, dear reader, can more easily follow along with the code snippets and examples presented in this book. </span><span class="koboSpan" id="kobo.728.2">You can find the repo here: </span><a href="https://github.com/PacktPublishing/Simplifying-State-Management-in-React-Native"><span class="koboSpan" id="kobo.729.1">https://github.com/PacktPublishing/Simplifying-State-Management-in-React-Native</span></a><span class="koboSpan" id="kobo.730.1">. </span><span class="koboSpan" id="kobo.730.2">Feel free to clone or fork it. </span><span class="koboSpan" id="kobo.730.3">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.731.1">main</span></strong><span class="koboSpan" id="kobo.732.1"> branch includes the basic app setup. </span><span class="koboSpan" id="kobo.732.2">Every state management library implementation is on a different branch. </span><span class="koboSpan" id="kobo.732.3">We will discuss the details as we move forward. </span><span class="koboSpan" id="kobo.732.4">If you decide to use this repository, you will notice the styles from the UI kit are implemented. </span><span class="koboSpan" id="kobo.732.5">We will not focus on styling in this book, but it is a nice addition to </span><span class="No-Break"><span class="koboSpan" id="kobo.733.1">any app.</span></span></p>
<h1 id="_idParaDest-36"><a id="_idTextAnchor037"/><span class="koboSpan" id="kobo.734.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.735.1">We have done some really good work here! </span><span class="koboSpan" id="kobo.735.2">We started out by looking at simple code examples necessary to understand some ReactJS coding concepts such as component state and props, lifecycle methods, and hooks. </span><span class="koboSpan" id="kobo.735.3">It is important to understand and internalize the differences between state and props, and stateful and stateless components. </span><span class="koboSpan" id="kobo.735.4">A good grasp of those concepts can determine whether your app will run smoothly </span><span class="No-Break"><span class="koboSpan" id="kobo.736.1">or not.</span></span></p>
<p><span class="koboSpan" id="kobo.737.1">After diving into important React concepts and examples, we moved on to actually setting up our app. </span><span class="koboSpan" id="kobo.737.2">This is a very exciting moment! </span><span class="koboSpan" id="kobo.737.3">We have our foundation, and we are ready to build a real-life social media clone app. </span><span class="koboSpan" id="kobo.737.4">In the next chapter, we will get comfortable previewing and debugging our app. </span><span class="koboSpan" id="kobo.737.5">We will set up all necessary surfaces, we will add example data, and finally, we will style the app. </span><span class="koboSpan" id="kobo.737.6">I </span><span class="No-Break"><span class="koboSpan" id="kobo.738.1">can’t wait!</span></span></p>
<h1 id="_idParaDest-37"><a id="_idTextAnchor038"/><span class="koboSpan" id="kobo.739.1">Further reading</span></h1>
<ul>
<li><span class="koboSpan" id="kobo.740.1">React Native’s documentation—example of components with </span><span class="No-Break"><span class="koboSpan" id="kobo.741.1">state: </span></span><a href="https://reactnative.dev/docs/intro-react#state"><span class="No-Break"><span class="koboSpan" id="kobo.742.1">https://reactnative.dev/docs/intro-react#state.</span></span></a></li>
<li><span class="koboSpan" id="kobo.743.1">State </span><span class="No-Break"><span class="koboSpan" id="kobo.744.1">versus Props:</span></span></li>
</ul>
<p><span class="No-Break"><span class="koboSpan" id="kobo.745.1">https://lucybain.com/blog/2016/react-state-vs-pros/.</span></span></p>
<p><a href="https://github.com/uberVU/react-guide/blob/master/props-vs-state.md"><span class="No-Break"><span class="koboSpan" id="kobo.746.1">https://github.com/uberVU/react-guide/blob/master/props-vs-state.md</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.747.1">.</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.748.1">Adding Lifecycle Methods to a </span><span class="No-Break"><span class="koboSpan" id="kobo.749.1">Class—ReactJS docs:</span></span></li>
</ul>
<p><span class="No-Break"><span class="koboSpan" id="kobo.750.1">https://reactjs.org/docs/state-and-lifecycle.html#adding-lifecycle-methods-to-a-class.</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.751.1">A full blogpost </span><span class="No-Break"><span class="koboSpan" id="kobo.752.1">about hooks:</span></span></li>
</ul>
<p><span class="No-Break"><span class="koboSpan" id="kobo.753.1">https://pl.reactjs.org/blog/2019/02/06/react-v16.8.0.html.</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.754.1">ReactJS documentation </span><span class="No-Break"><span class="koboSpan" id="kobo.755.1">on hooks:</span></span></li>
</ul>
<p><span class="No-Break"><span class="koboSpan" id="kobo.756.1">https://reactjs.org/docs/hooks-reference.html#useeffect.</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.757.1">React </span><span class="No-Break"><span class="koboSpan" id="kobo.758.1">Navigation documentation:</span></span></li>
</ul>
<p><span class="No-Break"><span class="koboSpan" id="kobo.759.1">https://reactnavigation.org/docs/getting-started/.</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.760.1">React Navigation—bottom tab </span><span class="No-Break"><span class="koboSpan" id="kobo.761.1">navigation: </span></span><a href="https://reactnavigation.org/docs/tab-based-navigation"><span class="No-Break"><span class="koboSpan" id="kobo.762.1">https://reactnavigation.org/docs/tab-based-navigation.</span></span></a></li>
<li><span class="koboSpan" id="kobo.763.1">React Navigation guide on authentication </span><span class="No-Break"><span class="koboSpan" id="kobo.764.1">flow: </span></span><a href="https://reactnavigation.org/docs/auth-flow"><span class="No-Break"><span class="koboSpan" id="kobo.765.1">https://reactnavigation.org/docs/auth-flow.</span></span></a></li>
<li><span class="koboSpan" id="kobo.766.1">React Navigation guide on nesting </span><span class="No-Break"><span class="koboSpan" id="kobo.767.1">navigators: </span></span><a href="https://reactnavigation.org/docs/nesting-navigators"><span class="No-Break"><span class="koboSpan" id="kobo.768.1">https://reactnavigation.org/docs/nesting-navigators</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.769.1">.</span></span></li>
</ul>
</div>


<div>
<div class="Basic-Graphics-Frame" id="_idContainer010">
</div>
</div>
<div class="Content" id="_idContainer011">
<h1 id="_idParaDest-38"><a id="_idTextAnchor039"/><span class="koboSpan" id="kobo.1.1">Part 2 – Creating a Real, Working App</span></h1>
<p><span class="koboSpan" id="kobo.2.1">In this part, we will concentrate on building a real, functioning mobile app. </span><span class="koboSpan" id="kobo.2.2">Readers will learn to plan out app features and configure the real setup of the Funbook app; then, they will learn how to style a React Native app so that it matches a given design, and how to pull in </span><span class="No-Break"><span class="koboSpan" id="kobo.3.1">real data.</span></span></p>
<p><span class="koboSpan" id="kobo.4.1">This part includes the </span><span class="No-Break"><span class="koboSpan" id="kobo.5.1">following chapters:</span></span></p>
<ul>
<li><a href="B18396_03.xhtml#_idTextAnchor040"><em class="italic"><span class="koboSpan" id="kobo.6.1">Chapter 3</span></em></a><span class="koboSpan" id="kobo.7.1">, </span><a href="https://epic.packtpub.services/index.php?module=oss_Chapters&amp;action=DetailView&amp;record=552b05fa-8391-bf2a-d8d5-61f378c66211"><em class="italic"><span class="koboSpan" id="kobo.8.1">Planning and Setting Up the Funbook App</span></em></a></li>
<li><a href="B18396_04.xhtml#_idTextAnchor048"><em class="italic"><span class="koboSpan" id="kobo.9.1">Chapter 4</span></em></a><span class="koboSpan" id="kobo.10.1">, </span><a href="https://epic.packtpub.services/index.php?module=oss_Chapters&amp;action=DetailView&amp;record=e4875054-2e9a-297d-67db-61f3786c1c05"><em class="italic"><span class="koboSpan" id="kobo.11.1">Styling and Populating the Funbook App</span></em></a></li>
</ul>
</div>
<div>
<div id="_idContainer012">
</div>
</div>
</body></html>