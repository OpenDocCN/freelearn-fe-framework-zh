# <st c="0">6</st>

# <st c="2">使用 Protractor、Cypress 和 Playwright 探索端到端测试</st>

<st c="71">在软件开发中，**<st c="97">端到端</st>** <st c="107">(</st>**<st c="109">E2E</st>**<st c="112">) 测试在确保应用程序从开始到结束的集成和功能方面发挥着至关重要的作用。</st> <st c="230">端到端测试涵盖了整个应用程序流程，模拟与真实用户的交互，以验证应用程序在各种</st> <st c="390">使用场景中是否按预期工作。</st>

<st c="406">端到端测试提供了许多好处，有助于提高软件应用程序的整体质量和可靠性。</st> <st c="531">端到端测试可以发现并消除可能阻碍用户满意度和采用率的可用性问题。</st>

<st c="633">通过彻底测试应用程序的集成组件，端到端测试减少了在实际使用过程中出现意外错误或中断的可能性。</st> <st c="787">端到端测试能够早期发现缺陷，最大限度地减少在开发周期后期解决问题所需的时间和成本。</st> <st c="937">端到端测试的主动故障检测可以显著降低长期</st> <st c="1015">维护成本。</st>

<st c="1033">有几种强大的工具可用于简化端到端测试，每个工具都有其独特的优势和功能。</st> <st c="1140">我们将探讨三个主要选项：Protractor、Cypress、Playwright。</st>

<st c="1218">在本章中，我们将探讨端到端测试的理论，经过长期和深入的分析后端到端测试的优势，以及一些端到端工具（如 Protractor、Cypress、Playwright）背后的哲学。</st>

<st c="1426">总结，以下是本章将涵盖的主要主题：</st>

+   <st c="1501">发现</st> <st c="1514">端到端测试</st>

+   <st c="1947">分析在</st> <st c="1567">项目中</st> <st c="1525">E2E 测试的优势</st>

+   <st c="1576">探索可用于端到端测试的不同工具，如 Protractor、Cypress、Playwright</st>

# <st c="1683">技术要求</st>

<st c="1706">为了跟随本章中的示例和练习，你需要对 Angular 和 TypeScript 有基本的了解，以及以下</st> <st c="1868">技术要求：</st>

+   <st c="1891">在你的计算机上安装 Node.js 和 npm</st>

+   <st c="1934">全局安装 Angular CLI</st>

+   <st c="1965">在你的计算机上安装代码编辑器，例如 Visual Studio Code</st>

# <st c="2035">理解端到端测试</st>

<st c="2061">端到端测试是一种从用户角度评估整个应用程序流程的软件测试方法，确保所有组件按预期工作，并且软件在现实场景中能够正确运行。</st> <st c="2302">它包括对应用程序的用户界面、后端系统、外部 API 和数据交互的测试，以确保无缝和</st> <st c="2441">一致的用户体验。</st> <st c="2469">与关注单个组件的单元测试不同，端到端测试将整个应用程序作为一个统一的实体来检查，确保所有组件协同工作以提供</st> <st c="2654">所需的功能。</st>

## <st c="2676">发现端到端测试的好处</st>

<st c="2716">端到端测试提供了众多好处，使其成为软件开发团队的无价工具：</st>

+   **<st c="2818">早期发现缺陷</st>**<st c="2845">：端到端测试能够在开发周期的早期发现缺陷，减少后期纠正所需的成本和努力。</st>

+   **<st c="2983">增强用户体验</st>**<st c="3008">：端到端测试是一种确保软件应用从用户角度出发按预期工作的方法。</st> <st c="3124">这种方法提高了整体用户体验并最小化了不满意的风险</st> <st c="3198">。</st>

+   **<st c="3217">提高软件质量信心</st>**<st c="3258">：端到端测试增强了软件质量的信心，降低了生产中意外问题的风险，并保护了软件开发团队的声誉</st> <st c="3415">。</st>

+   **<st c="3432">简化开发流程</st>**<st c="3464">：端到端测试可以自动化，简化开发流程，促进</st> **<st c="3548">持续集成和持续交付</st>** <st c="3594">(</st>**<st c="3596">CI/CD</st>**<st c="3601">)实践，并</st> <st c="3619">使软件能够更快、更高效地发布。</st>

<st c="3680">在下一节中，我们将学习如何实现</st> <st c="3705">端到端测试。</st>

## <st c="3743">探索不同的端到端测试方法</st>

<st c="3789">端到端测试包括两种主要策略：基于脚本的测试和探索性测试。</st> <st c="3881">基于脚本的测试依赖于自动化脚本来执行测试用例，确保测试过程的连贯性、可重复性和</st> <st c="3997">效率。</st> <st c="4029">另一方面，探索性测试是一种实际的方法，涉及在探索不同场景的同时手动测试应用程序。</st> <st c="4176">让我们深入探讨这两种方法中的每一种：</st> <st c="4219">探索不同的端到端测试方法</st>

+   **<st c="4234">基于脚本的测试</st>**<st c="4255">：基于脚本的测试是一种软件测试方法，其中使用自动化脚本来执行测试用例。</st> <st c="4344">这种方法保证了测试流程的一致性、可重复性和效率，使其成为确保软件应用程序平稳运行的可信工具。</st>

    <st c="4543">有几个流行的基于脚本的测试框架，包括 Protractor、Cypress 和 Playwright。</st> <st c="4654">这些框架各有其特点和优势：</st>

    +   **<st c="4713">Protractor</st>** <st c="4724">是一个用于 Angular 和 AngularJS 应用程序的端到端测试框架。</st> <st c="4742">它的目标是简化测试设置过程，使测试更易于阅读，并产生更容易理解的结果。</st>

    +   **<st c="4924">Cypress</st>** <st c="4932">是一款为现代网络设计的下一代前端测试工具。</st> <st c="5005">它提供了一套完整的测试解决方案，包括直接在 JavaScript 中编写测试的能力，无需额外的预处理器或编译器。</st> <st c="5167">Cypress 以其易用性和快速安装而闻名。</st>

    +   **<st c="5230">Playwright</st>**<st c="5241">，由微软开发和维护，是一个开源的基于 Node.js 的端到端测试自动化框架。</st> <st c="5325">它被创建出来是为了满足跨多个浏览器进行自动化端到端测试的需求。</st> <st c="5353">Playwright 的主要目标是运行在主要的浏览器引擎上——Chromium、WebKit 和 Firefox。</st> <st c="5536">它提供了广泛的本地移动测试功能，支持在 Android 和</st> <st c="5645">iOS 平台上的移动自动化测试。</st>

+   **<st c="5659">探索性测试</st>**<st c="5679">：探索性测试是一种动态灵活的软件测试方法，涉及测试人员积极探索应用程序并尝试不同的场景、输入和交互来识别错误和问题。</st> <st c="5774">与基于脚本的测试不同，后者遵循预定义的测试用例和步骤，探索性测试基于测试人员的好奇心、创造力和直觉。</st>

    <st c="6067">这种方法在关于软件确切应该做什么或在实际情况下应该如何表现存在许多未知因素时特别有用。</st> <st c="6211">在现实生活中的情况下。</st>

    <st c="6232">探索性测试通常在应用程序复杂或不断演变时使用。</st> <st c="6323">当需要快速反馈、需求不明确或时间紧迫时，它也非常有用。</st> <st c="6422">的精髓。</st>

    <st c="6434">探索性测试有不同的类型——自由式测试、基于场景的测试和</st> <st c="6534">基于策略的测试：</st>

    +   **<st c="6557">自由式测试</st>**<st c="6576">：这在您需要快速熟悉</st> <st c="6587">应用程序</st> <st c="6645">时很有用</st>

    +   **<st c="6660">基于场景的测试</st>**<st c="6683">：这侧重于</st> <st c="6698">现实世界的</st> <st c="6713">使用场景</st>

    +   **<st c="6728">基于策略的测试</st>**<st c="6751">：这结合了</st> <st c="6768">探索性测试</st> <st c="6768">与</st> <st c="6804">已知的</st> <st c="6804">测试方法</st>

    <st c="6819">探索性测试有时在识别正式测试可能遗漏的更细微的缺陷方面更有用。</st> <st c="6936">然而，它需要高度的专业技能和对</st> <st c="7000">应用程序</st> <st c="7000">的理解。</st>

## <st c="7017">基于脚本的测试和探索性测试的比较</st>

<st c="7081">基于脚本的测试和探索性测试的比较</st> <st c="7167">提供了我们几个</st> <st c="7167">重要的见解：</st>

+   **<st c="7186">一致性和效率</st>**<st c="7213">：基于脚本的测试保证了测试过程的</st> <st c="7281">一致性和可重复性</st> <st c="7311">，这在需要大量测试的大规模项目中至关重要。</st> <st c="7374">它也可以更高效，因为它消除了手动</st> <st c="7442">测试执行</st> <st c="7442">的需要。</st>

+   **<st c="7457">灵活性和发现</st>**<st c="7483">：另一方面，探索性测试提供了更大的灵活性，因为它允许测试人员自由探索应用程序。</st> <st c="7608">这可能导致发现脚本测试可能遗漏的潜在问题，尤其是在复杂应用程序或应用程序频繁更改的情况下。</st> <st c="7776">frequent changes.</st>

+   **<st c="7793">文档</st>**<st c="7807">：两种方法之间的一个显著区别是文档的级别。</st> <st c="7902">基于脚本的测试通常涉及详细的测试用例和步骤的文档，而探索性测试可能涉及较少的文档，这可能导致关键错误</st> <st c="8092">被忽略。</st>

### <st c="8105">基于脚本的测试和探索性测试的限制</st>

<st c="8165">基于脚本的测试和探索性测试方法都有其局限性。</st> <st c="8251">例如，探索性测试</st> <st c="8283">可能受到测试人员偏见的影响，如果测试人员缺乏足够的知识或未能彻底探索，则可能</st> <st c="8333">未能捕获所有潜在问题。</st> <st c="8446">同样，如果测试用例没有涵盖所有</st> <st c="8532">可能场景，脚本测试可能会错过明显的缺陷。</st>

<st c="8551">许多组织更喜欢混合方法，结合基于脚本和探索性测试的元素，以利用每种方法的优势并减轻</st> <st c="8710">它们的弱点。</st>

<st c="8727">了解项目的</st> <st c="8745">上下文，例如，它是一个小型项目</st> <st c="8811">还是更大项目的一部分，可以指导选择基于脚本和</st> <st c="8883">探索性测试之间的选择。</st>

<st c="8903">我们已经查看了一些之前提到的端到端测试工具。</st> <st c="8976">现在我们将更详细地探讨它们。</st> <st c="9004">。</st>

## <st c="9016">利用端到端测试工具的力量</st>

<st c="9058">有多种工具可供使用，以促进端到端测试，使软件开发团队能够有效地实施这一</st> <st c="9187">测试策略。</st>

<st c="9204">让我们更深入地了解一下</st> <st c="9241">这些工具。</st>

### <st c="9253">Selenium – 经证实的 Web 应用程序测试强大工具</st>

**<st c="9305">Selenium</st>** <st c="9314">是一个著名的开源框架，用于自动化 Web 应用程序测试。</st> <st c="9391">其全面的功能集满足广泛的测试需求，包括</st> <st c="9416">功能、集成和跨浏览器测试。</st> <st c="9520">Selenium 支持多种编程语言，包括 Java、Python 和 C#，使测试人员能够选择与他们专业知识和偏好相匹配的语言。</st> <st c="9692">此外，Selenium 与最流行的浏览器具有广泛的兼容性，如 Chrome、Firefox、Safari 和 Edge。</st> <st c="9820">这种广泛的兼容性确保了测试可以在不同的浏览器上运行，消除了浏览器特定的差异，并保证了无缝</st> <st c="9969">的用户体验。</st>

### <st c="9985">Cypress – 简洁和快速进行 Web 测试</st>

**<st c="10032">Cypress</st>** <st c="10040">已经确立了自己</st> <st c="10064">作为基于 JavaScript 的 Web</st> <st c="10111">应用程序测试框架的地位，以其简洁、快速和易用而闻名。</st> <st c="10179">与需要安装二进制驱动程序和配置的 Selenium 不同，Cypress 提供了一个独立的包，简化了安装过程。</st> <st c="10343">基于 Node.js 的 Cypress 架构提供了卓越的性能，使测试能够快速运行，减少测试时间，并提高整体效率。</st> <st c="10500">其直观的 API 和简单的语法</st> <st c="10536">使其对所有级别的测试人员都易于访问，促进了快速测试开发和维护。</st>

### <st c="10633">Appium – 在多个平台上进行移动应用程序测试</st>

**<st c="10691">Appium</st>** <st c="10698">是一个多功能的框架，用于在不同平台上自动化移动应用程序测试，包括 iOS</st> <st c="10796">和 Android。</st> <st c="10809">它使用 Appium 驱动程序与原生移动应用程序通信</st> <st c="10850">，允许测试人员模拟用户交互，如点击、滑动和输入。</st> <st c="10960">Appium 的跨平台兼容性意味着测试可以在真实设备或模拟器上运行，确保应用程序在不同环境中的一致性。</st>

### <st c="11132">Protractor – Angular 应用程序的无缝自动化</st>

**<st c="11190">Protractor</st>**<st c="11201">，专为 Angular 应用程序设计，利用 Selenium 提供完整的测试框架。</st> <st c="11311">它与 Angular 框架组件的集成简化了测试</st> <st c="11377">开发和维护，允许测试人员与元素交互并使用 Angular 特定的功能。</st> <st c="11485">Protractor 对本地和远程测试环境的支持满足广泛的</st> <st c="11567">测试需求。</st>

### <st c="11581">Playwright – 具有性能的跨浏览器测试</st>

**<st c="11633">Playwright</st>**<st c="11644">，由微软开发，已成为跨浏览器测试的强大工具。</st> <st c="11739">它支持</st> <st c="11750">Chromium、WebKit 和 Firefox 浏览器，使得</st> <st c="11799">可以在不同的渲染引擎上执行全面测试。</st> <st c="11870">基于 Node.js 的 Playwright 架构提供了卓越的性能，使得测试可以快速高效地运行。</st> <st c="11991">它的 API 简单直观，使得所有级别的测试人员都能轻松使用。</st>

<st c="12070">端到端测试工具的选择取决于软件开发团队的具体需求和偏好。</st>

<st c="12182">以下是端到端</st> <st c="12217">测试工具</st>的优势：

+   <st c="12231">Selenium 的灵活性和广泛的浏览器兼容性使其成为全面 Web</st> <st c="12332">应用程序测试</st>的可靠选择

+   <st c="12351">Cypress 的简洁和速度吸引了寻求简化</st> <st c="12437">Web 测试</st>方法的团队

+   <st c="12448">Appium 满足移动测试需求，支持在 iOS 和</st> <st c="12499">Android 平台</st>上自动化

+   <st c="12533">量角器简化了</st> <st c="12566">Angular 应用程序的</st> <st c="12580">自动化</st>

+   <st c="12600">Playwright 提供高性能的</st> <st c="12637">跨浏览器测试</st>

<st c="12658">最终，最</st> <st c="12679">有效的工具是那个与团队的专业知识、项目需求和</st> <st c="12767">测试目标相匹配的工具。</st>

在下一节中，我们将分析项目中进行端到端测试的好处。

# 分析项目中进行端到端测试的好处

采用端到端测试作为软件开发项目的一部分揭示了众多好处，这些好处提高了软件产品的**质量和用户体验**。

尽管端到端测试提供了许多优点，但它们的实施并非没有问题。理解这些障碍对于制定克服它们的有效策略至关重要：

+   **<st c="13283">复杂性</st>**：端到端测试通常具有错综复杂的结构，这使得它们难以创建和维护。这种复杂性源于需要测试多个应用程序组件和准确模拟真实用户的行为。

+   **<st c="13522">扩展性</st>**：端到端测试容易不稳定，这种特性表现为间歇性故障，原因难以理解。这种间歇性可能会损害端到端测试结果的可信度。

+   **<st c="13751">缓慢</st>**：由于端到端测试具有全局性质，需要与整个应用程序交互，并可能因等待外部系统响应而出现延迟，因此端到端测试通常运行速度较慢。

尽管存在固有的挑战，但端到端测试仍然是提高软件质量的无价工具。通过采用经过验证的策略，开发人员和测试人员可以有效地应对这些挑战，并收获端到端测试的许多好处：

+   **<st c="14188">尽早参与</st>**：在开发周期早期启动端到端测试至关重要。这种积极主动的方法有助于及早发现缺陷，使缺陷的处理更加容易和成本效益更高。

+   **<st c="14410">利用自动化</st>**：自动化通过简化执行过程和最大限度地减少时间和精力的消耗来加强端到端测试。自动化还便于将端到端测试无缝集成到**CI/CD**管道中。

+   **<st c="14647">细致的测试设计</st>**：对端到端测试的设计进行细致的关注对于确保其有效性和效率至关重要。这意味着专注于测试最关键的用户流程和识别最可能发生故障的点。

+   **<st c="14885">利用专用工具</st>**<st c="14912">：有大量工具可供支持端到端测试。</st> <st c="14978">选择一个符合项目需求并提供</st> <st c="15062">用户友好功能的工具至关重要。</st>

<st c="15090">在下一节中，我们将探讨可用于端到端测试的不同工具，例如 Protractor、Cypress 和 Playwright。</st>

# <st c="15224">探索 Protractor、Cypress 和 Playwright 进行端到端测试</st>

<st c="15286">有众多不同的端到端测试工具可用，选择正确的工具可能很棘手。</st> <st c="15382">本综述将探讨三种流行的工具：Protractor、Cypress 和 Playwright。</st> <st c="15461">我们将发现它们的优点、缺点和理想的使用案例，使您能够为您的</st> <st c="15573">端到端测试选择理想的工具。</st>

## <st c="15583">量角器</st>

<st c="15594">由谷歌的开发者团队制作，Protractor 最初是为 Angular 应用程序设计的，后来作为开源解决方案提供。</st> <st c="15615">今天，它扩展了</st> <st c="15740">其功能，不仅限于 Angular，还适应了非 Angular 应用程序。</st> <st c="15757">它是 WebDriver.js 的增强版本，集成了所有 Selenium WebDriver 功能，并增加了专门用于</st> <st c="15957">Angular 开发的函数。</st>

### <st c="15977">什么是 Protractor？</st>

<st c="15997">Protractor 是一个开源的</st> <st c="16026">测试框架，主要用于 Angular 和 AngularJS 应用程序的端到端测试。</st> <st c="16115">虽然最初是为 Angular 设计的，但它已经发展到支持测试 Angular 和非 Angular 网络应用程序。</st> <st c="16236">它以真实用户的方式工作，在真实网络浏览器中运行测试，从而产生真实的测试场景。</st> <st c="16356">Protractor 是一个 Node.js 应用程序，它使用 WebDriverJS 作为 Selenium WebDriver API 的 JavaScript 绑定，充当 Selenium WebDriver 的包装器。</st> <st c="16523">它可以创建与真实浏览器交互的测试，从而实现</st> <st c="16587">端到端测试。</st>

<st c="16599">它集成了其他技术，如 Node.js、Jasmine、Selenium、Mocha 等。</st> <st c="16693">由于其起源于 Angular 团队，并使用 Angular 特定的定位器来识别 DOM 元素，因此它特别适合 Angular 应用程序。</st> <st c="16854">然而，截至 2022 年 11 月，Protractor 被认为已过时，其开发结束时间定于 2022 年底。</st> <st c="16981">Protractor 背后的团队宣布这一决定是因为网络开发和 JavaScript 语言的变化，这使得 Protractor 与</st> <st c="17138">当代应用程序的兼容性降低。</st>

### <st c="17164">为什么选择 Protractor？</st>

Protractor 提供了一套 Angular 特定的 API，这使得与 Angular 元素交互以及执行等待 Angular 进程完成、处理异步操作和管理与 Angular<st c="17444">事件循环的同步等操作变得更加容易。</st>

您可以模拟真实用户交互，例如点击按钮、填写表单、在页面间导航以及验证 Angular 元素的行为。<st c="17615">这使得 Protractor 成为 Angular 应用程序端到端测试的强大工具。</st>

它会在执行下一步之前自动等待 Angular 进程完成，从而消除了显式等待的需要，并减少了测试中的不可靠性。<st c="17856">这使得它成为测试 Angular 应用程序的可靠选择。</st>

它支持为 Angular 应用程序专门设计的各种定位器，包括模型、绑定、重复器和 CSS 选择器。<st c="18054">这些定位器使得识别和交互 Angular 元素更加容易，这对于测试 Angular 应用程序尤其有用。</st>

它允许您在包括 Chrome、Firefox 和 Safari 在内的多个浏览器中运行测试，从而实现 Angular 应用程序的跨浏览器测试。<st c="18344">这一特性确保了您的 Angular 应用程序在不同浏览器中都能正确运行，这对于良好的用户体验至关重要。</st>

将其与 CI 系统集成后，您可以在每次代码提交时自动执行测试，确保您的 Angular 应用程序保持稳定和功能正常。<st c="18652">这一特性尤其有利于大型团队和项目，其中多个开发者正在同一</st> <st c="18770">代码库上工作。</st>

### Protractor 测试功能

通过提供对异步操作的内置支持，包括回调、承诺和 async/await，Protractor 使开发者能够做到以下事项：<st c="18949">以下是一些 Protractor 测试功能：</st>

+   **<st c="18963">提升测试执行速度</st>**<st c="18990">：实现更快的端到端测试，特别是对于具有动态元素的 Angular Web 应用程序</st> <st c="19058">dynamic elements</st>

+   **<st c="19074">增强测试可读性</st>**<st c="19099">：使用现代异步编程方法编写更干净、更易于维护的测试</st> <st c="19169">programming methods</st>

+   **<st c="19188">提高测试可靠性</st>**<st c="19214">：简化处理动态行为并提高测试稳定性</st><st c="19263">e</st> <st c="19266">test stability</st>

Protractor 的一个关键特性是其<st c="19325">自动等待功能。</st> <st c="19353">以下是它是如何工作的：</st>

+   `<st c="19558">wait</st>` <st c="19562">语句在您的测试中的每个动作之间。</st>

+   **<st c="19609">Angular 同步</st>**<st c="19633">：Protractor 与 Angular 框架集成，以了解应用程序何时完成处理并准备好交互。</st> <st c="19772">这确保了您的测试不会在元素完全加载和可用之前尝试与之交互</st> <st c="19860">。</st>

<st c="19874">虽然 Protractor 可以自动处理大多数等待场景，但仍然存在一些情况，你可能仍然需要</st> <st c="19986">显式</st> <st c="19994">等待：</st>

+   `<st c="20047">ExpectedConditions</st>` <st c="20065">API 用于定义等待的特定条件，例如等待元素可点击或特定文本</st> <st c="20183">出现。</st>

+   **<st c="20193">长时间等待</st>**<st c="20204">：默认的隐式等待时间可能对于某些场景来说太短。</st> <st c="20280">您可以为特定的测试用例配置自定义的等待时间。</st><st c="20296">。</st><st c="20331"></st>

    <st c="20342">Protractor 支持 Angular 和非 Angular 应用程序。</st> <st c="20406">它为使用 AngularJS 构建的 Web 应用程序提供综合的端到端测试。</st> <st c="20483">这使得它成为一个多功能的工具，可以用于测试广泛的</st> <st c="20514">Web 应用程序。</st>

<st c="20559">Protractor 支持页面对象模式，这是一种设计模式，可以增强测试维护并减少代码重复。</st> <st c="20693">使用此模式，您可以创建可重用的页面对象，这些对象可以在</st> <st c="20773">不同的测试中</st> <st c="20769">使用。</st>

## <st c="20789">Cypress</st>

<st c="20797">专为 Web 开发和测试自动化设计，Cypress 是一个基于 JavaScript 的端到端测试框架，它</st> <st c="20905">简化了 Web 和</st> <st c="20930">API 测试。</st>

### <st c="20942">什么是 Cypress？</st>

<st c="20959">Cypress 是一个开源的、基于 JavaScript 的端到端测试框架，专门为现代 Web 应用程序设计。</st> <st c="21077">它提供了一种开发者友好的方法来自动化 Web UI 测试，简化了前端开发人员和</st> <st c="21203">QA 工程师</st> <st c="21269">的流程。</st>

### <st c="21216">为什么选择 Cypress？</st>

<st c="21236">以下是使用 Cypress 进行您的 Web 应用程序测试的一些关键优势：</st> <st c="21269">：</st> <st c="21296"></st>

+   **<st c="21316">简化设置</st>**<st c="21333">：与 Selenium 等其他工具相比，Cypress 需要的最小配置。</st> <st c="21418">通常只需安装包并使用 JavaScript 编写测试</st><st c="21482">。</st>

+   **快速高效**：Cypress 直接在浏览器中运行测试，消除了单独设置 WebDriver 和启动浏览器的需求。<st c="21635">这使得测试执行速度显著提高，改善了开发和</st> <st c="21708">测试工作流程。</st>

+   **自动等待**：Cypress 自动处理等待元素加载和变为交互式的过程。<st c="21830">你不需要在测试中编写显式的等待或暂停，这减少了代码复杂性，并使测试更加健壮。<st c="21938"></st>

+   **易于调试**：Cypress 提供了一个可视化调试器，允许你逐步执行测试，检查元素属性，并快速识别问题。<st c="22125">这简化了调试过程。</st>

+   **时间旅行调试**：使用 Cypress 的时间旅行调试功能，你可以回放或快进测试执行，以确定失败发生的确切时刻，使故障排除更加高效。<st c="22337"></st>

+   **跨浏览器兼容性**：Cypress 支持开箱即用的跨浏览器测试（Chrome、Firefox、Edge 等）。<st c="22480">你可以配置测试在多种浏览器上运行，或使用 CI 平台来自动化浏览器测试。</st>

+   **与开发工具集成**：Cypress 与流行的开发者工具（如 DevTools）无缝集成，允许你在测试环境中利用现有的调试技能。<st c="22757"></st>

+   **活跃的社区和支持**：Cypress 拥有一个庞大且活跃的社区，提供广泛的文档、教程和支持资源。<st c="22973">这使得学习、使用和需要时获得帮助变得更加容易。</st>

### Cypress 测试功能

Cypress 拥有丰富的功能，有助于其在 Web 应用程序测试中的有效性：<st c="23096"></st>

+   **命令链 API**：提供了一种使用 JavaScript 语法编写测试的自然方式，使测试易于阅读和维护。<st c="23221"></st>

+   **自动断言**：简化了对预期元素属性和行为的检查，确保你的测试验证了正确的功能。<st c="23358"></st>

+   **截图和视频录制**：允许在测试期间捕获截图或录制视频，这有助于可视化错误和调试问题。<st c="23527"></st>

+   **<st c="23543">网络模拟</st>**<st c="23559">：允许</st> <st c="23568">模拟服务器响应，便于测试 API 交互、边缘情况和各种</st> <st c="23664">网络场景</st>

+   **<st c="23681">自定义命令</st>**<st c="23697">：授予创建可重用代码块的能力，用于频繁使用的测试操作，促进代码重用和模块化</st> <st c="23814">和模块化</st>

+   **<st c="23828">集成测试</st>**<st c="23848">：Cypress 可用于 Web 应用程序的单元和集成测试，提供全面的</st> <st c="23953">测试覆盖率</st>

<st c="23969">通过利用 Cypress 的优势，您可以构建一个强大且高效的测试套件，有助于确保您</st> <st c="24107">Web 应用程序的质量和可靠性。</st>

## <st c="24124">Playwright</st>

<st c="24135">Playwright 是由 Microsoft 创建的一个现代、多功能且强大的浏览器自动化框架。</st> <st c="24235">它使</st> <st c="24245">开发者能够使用单个 API 编写自动化测试、抓取 Web 数据，并通过多个浏览器（包括 Chrome、Firefox 和</st> <st c="24433">Microsoft Edge）与 Web 应用程序进行交互。</st>

### <st c="24448">什么是 Playwright？</st>

<st c="24468">Playwright 是一个强大的开源 Node.js 库，用于在 Chrome、Firefox、Safari 和 Edge 等各种浏览器上自动化和测试 Web 应用程序。</st> <st c="24630">它还可以自动化浏览器操作，如点击、表单填写和页面导航。</st> <st c="24719">Playwright 是一个直观的平台，支持 JavaScript、TypeScript、Python 和 Java 等多种编程语言。</st> <st c="24846">并行化的定义特征是，您可以在不编写</st> <st c="24975">单独测试的情况下同时测试多个浏览器。</st>

### <st c="24992">为什么选择 Playwright？</st>

<st c="25015">Playwright 支持跨多个浏览器进行测试，包括 Chromium、Firefox 和 WebKit。</st> <st c="25111">这确保了跨浏览器兼容性和一致的</st> <st c="25169">用户体验。</st>

<st c="25185">Playwright 以其</st> <st c="25214">速度和效率</st> 而闻名。其现代架构和高效的浏览器自动化使得与其他框架相比，测试执行速度更快，从而减少了整体测试时间</st> <st c="25387">。</st>

<st c="25398">Playwright 的自动等待 API 和高级选择器引擎显著提高了测试稳定性，减少了测试不稳定性的可能性，并最大限度地减少了手动干预的需求。</st> <st c="25560">。</st>

<st c="25580">Playwright 是为了处理现代</st> <st c="25618">网络技术而构建的，例如</st> **<st c="25644">单页应用程序</st>** <st c="25668">(</st>**<st c="25670">SPAs</st>**<st c="25674">**)，比其他框架做得更好。</st> <st c="25708">它提供了与动态内容交互的原生支持，使得为复杂</st> <st c="25806">应用程序编写测试变得更加容易。</st>

<st c="25826">与其他仅支持特定浏览器的框架不同，Playwright 提供了一个跨多个浏览器的统一 API，确保更广泛的兼容性和更全面的</st> <st c="26022">测试套件。</st>

<st c="26036">Playwright 具有内置的模拟功能，允许你在组件级别编写精简的端到端测试。</st> <st c="26137">这对于测试复杂组件而不必与整个应用程序交互特别有用。</st>

<st c="26255">Playwright 支持强大的伪 CSS 选择器，可以替代 XPath 的唯一用例。</st> <st c="26349">这可以使你的测试更易于阅读</st> <st c="26388">和维护。</st>

<st c="26405">由于 Playwright 能够在 100 毫秒内创建测试上下文，因此在运行相同测试时，它比 Selenium 快约 30%。</st>

<st c="26527">与 Selenium 相比，Playwright 需要更少的依赖，并且安装过程更加简单。</st> <st c="26641">这意味着你可以更快地开始编写测试，并且</st> <st c="26702">更少地遇到麻烦。</st>

### <st c="26714">Playwright 测试的特点</st>

<st c="26745">让我们看看 Playwright 测试的</st> <st c="26776">关键特性</st> <st c="26780">：</st>

+   <st c="26799">Playwright 在不同浏览器之间提供一致和可靠的自动化，确保你的网络应用程序在所有</st> <st c="26930">主要平台上都能良好运行。</st>

+   <st c="26946">Playwright 以其速度和效率而闻名，使其成为测试和自动化</st> <st c="27049">网络交互的绝佳选择。</st>

+   <st c="27066">你可以以无头模式（没有可见的浏览器 UI）运行 Playwright 脚本以实现更快的执行，或者以有头模式进行调试</st> <st c="27201">和交互。</st>

+   <st c="27217">剧本编写者支持流行的编程语言，如 TypeScript、Python 和 Java。</st> <st c="27316">这意味着你可以用你最</st> <st c="27388">舒适的语言编写自动化脚本。</st>

+   <st c="27405">Playwright 使用原生</st> <st c="27429">浏览器自动化 API 准确地模拟用户交互，从而产生更</st> <st c="27513">可靠的测试。</st>

<st c="27528">你可以利用 Playwright 的全部功能来利用浏览器 DevTools，这使得检查、调试和诊断你的</st> <st c="27662">网络应用程序中的问题变得更加容易。</st>

# <st c="27679">总结</st>

<st c="27687">在本章中，我们学习了端到端测试，这是一种确保应用程序从开始到结束完美运行的必要软件开发实践。</st> <st c="27849">端到端测试涉及所有集成系统，无论是内部还是外部，以识别依赖关系并验证信息流的顺畅。</st>

<st c="27989">我们还了解了最常用的端到端测试工具，Protractor、Cypress 和 Playwright。</st> <st c="28084">我们探讨了每个工具的优势：</st>

+   **<st c="28123">Protractor</st>**<st c="28134">: 专为 Angular 应用程序设计，提供用于与元素交互和处理异步操作的 Angular 特定 API</st>

+   **<st c="28269">Cypress</st>**<st c="28277">: 一款用户友好的工具，支持异步/await 语法和并发测试执行（尽管免费版本存在一些限制）</st>

+   **<st c="28416">Playwright</st>**<st c="28427">: 提供了一种现代的异步/await 测试脚本方法，鼓励同时执行测试以加快执行速度，并拥有一个简单的 API 以实现高效的测试开发</st>

<st c="28603">了解这些工具的优势和局限性，使我们作为开发者能够做出明智的决定，并选择最适合项目特定需求、考虑技术栈和团队熟悉度的工具。</st>

<st c="28859">以下章节将更深入地探讨 Cypress 及其在 Web 应用程序端到端测试中的作用。</st> <st c="28966">这个专注的总结强化了章节的关键学习成果，突出了其价值（了解端到端测试和工具），并概述了下一章的主题。</st> <st c="29133"></st>
