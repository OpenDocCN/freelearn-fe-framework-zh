<html><head></head><body>
<div id="_idContainer047">
<h1 class="chapter-number" id="_idParaDest-121"><a id="_idTextAnchor122"/><span class="koboSpan" id="kobo.1.1">10</span></h1>
<h1 id="_idParaDest-122"><a id="_idTextAnchor123"/><span class="koboSpan" id="kobo.2.1">Appendix</span></h1>
<p><span class="koboSpan" id="kobo.3.1">Well, my dear reader, we have reached the last part of this book: the summary. </span><span class="koboSpan" id="kobo.3.2">I sincerely hope you enjoyed reading what I had to say about state management libraries in </span><strong class="bold"><span class="koboSpan" id="kobo.4.1">React Native</span></strong><span class="koboSpan" id="kobo.5.1"> and</span><a id="_idIndexMarker447"/><span class="koboSpan" id="kobo.6.1"> I want to thank you for getting this far. </span><span class="koboSpan" id="kobo.6.2">Let me take you now on a trip down memory lane of everything we talked about in this book. </span><span class="koboSpan" id="kobo.6.3">And if afterward you’re not too tired of my thoughts and ruminations, you will find a bonus section on recruitment interview questions</span><a id="_idIndexMarker448"/><span class="koboSpan" id="kobo.7.1"> related to </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.8.1">state management</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.9.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.10.1">In the first chapters of this book, we looked very broadly at the history of web development. </span><span class="koboSpan" id="kobo.10.2">We saw </span><a id="_idIndexMarker449"/><span class="koboSpan" id="kobo.11.1">the evolution of the internet landscape, which led to the creation of </span><strong class="bold"><span class="koboSpan" id="kobo.12.1">ReactJS</span></strong><span class="koboSpan" id="kobo.13.1">. </span><span class="koboSpan" id="kobo.13.2">Then, we talked about the </span><a id="_idIndexMarker450"/><span class="koboSpan" id="kobo.14.1">evolution of </span><strong class="bold"><span class="koboSpan" id="kobo.15.1">React</span></strong><span class="koboSpan" id="kobo.16.1"> itself, which led to the creation of React Native. </span><span class="koboSpan" id="kobo.16.2">Knowing how close React Native is to ReactJS can be of great help while working on React Native apps. </span><span class="koboSpan" id="kobo.16.3">The ReactJS community is bigger and more mature than its mobile-first cousin. </span><span class="koboSpan" id="kobo.16.4">Many issues that React Native developers face can be solved with ReactJS knowledge. </span><span class="koboSpan" id="kobo.16.5">There’s a notion called the </span><strong class="bold"><span class="koboSpan" id="kobo.17.1">React mindset</span></strong><span class="koboSpan" id="kobo.18.1">, which is</span><a id="_idIndexMarker451"/><span class="koboSpan" id="kobo.19.1"> crucial for writing robust, scalable, and bug-free apps. </span><span class="koboSpan" id="kobo.19.2">There are many great articles on this topic, for example, the </span><em class="italic"><span class="koboSpan" id="kobo.20.1">Thinking in React</span></em><span class="koboSpan" id="kobo.21.1"> article posted inside the official React documentation. </span><span class="koboSpan" id="kobo.21.2">Once we learned how to adopt this mindset, we started building our very own </span><span class="No-Break"><span class="koboSpan" id="kobo.22.1">app: Funbook.</span></span></p>
<p><span class="koboSpan" id="kobo.23.1">Unsurprisingly, the app we created is a social media clone app. </span><span class="koboSpan" id="kobo.23.2">Social media apps are an interesting topic for example code, as most of us are very familiar with how they should work. </span><span class="koboSpan" id="kobo.23.3">At the same time, they are much more complicated than the traditional to-do app, present in most ReactJS tutorials. </span><span class="koboSpan" id="kobo.23.4">Setting up any mobile app is a task on its own. </span><span class="koboSpan" id="kobo.23.5">For all the web developers out there, working on mobile apps is new territory, with its own tooling and processes. </span><span class="koboSpan" id="kobo.23.6">Luckily, we can take </span><a id="_idIndexMarker452"/><span class="koboSpan" id="kobo.24.1">advantage of </span><strong class="bold"><span class="koboSpan" id="kobo.25.1">Expo</span></strong><span class="koboSpan" id="kobo.26.1">, and have a functioning and testable app in minutes. </span><span class="koboSpan" id="kobo.26.2">Once we got comfortable with the basic app setup, we got to coding the real Funbook app. </span><span class="koboSpan" id="kobo.26.3">We added a few surfaces: Feed, Conversations, Liked Images, and Camera. </span><span class="koboSpan" id="kobo.26.4">Then we got to think in React! </span><span class="koboSpan" id="kobo.26.5">We planned and wrote the underlying components of all the surfaces. </span><span class="koboSpan" id="kobo.26.6">We used many modern React features, such as hooks and context. </span><span class="koboSpan" id="kobo.26.7">By the end of </span><a href="B18396_04.xhtml#_idTextAnchor048"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.27.1">Chapter 4</span></em></span></a><span class="koboSpan" id="kobo.28.1">, we had a beautiful, functioning mobile app, which we could test on real devices or on phone simulators on our computer screens. </span><span class="koboSpan" id="kobo.28.2">This may seem like a lot of work, but let me assure you: before React Native, and a few </span><a id="_idIndexMarker453"/><span class="koboSpan" id="kobo.29.1">of its </span><strong class="bold"><span class="koboSpan" id="kobo.30.1">JavaScript</span></strong><span class="koboSpan" id="kobo.31.1"> predecessors, creating mobile apps </span><a id="_idIndexMarker454"/><span class="koboSpan" id="kobo.32.1">working on </span><strong class="bold"><span class="koboSpan" id="kobo.33.1">Android</span></strong><span class="koboSpan" id="kobo.34.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.35.1">iOS</span></strong><span class="koboSpan" id="kobo.36.1"> was a</span><a id="_idIndexMarker455"/><span class="koboSpan" id="kobo.37.1"> lot </span><span class="No-Break"><span class="koboSpan" id="kobo.38.1">more work!</span></span></p>
<p><a href="B18396_05.xhtml#_idTextAnchor056"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.39.1">Chapter 5</span></em></span></a><span class="koboSpan" id="kobo.40.1">, </span><em class="italic"><span class="koboSpan" id="kobo.41.1">Implementing Redux in Our Funbook App, w</span></em><span class="koboSpan" id="kobo.42.1">as the first to talk about external solutions for state management in React Native apps. </span><span class="koboSpan" id="kobo.42.2">The specific solution we talked about was </span><strong class="bold"><span class="koboSpan" id="kobo.43.1">Redux</span></strong><span class="koboSpan" id="kobo.44.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.45.1">Redux Toolkit</span></strong><span class="koboSpan" id="kobo.46.1">. </span><span class="koboSpan" id="kobo.46.2">Redux is the oldest and most widely known and used </span><a id="_idIndexMarker456"/><span class="koboSpan" id="kobo.47.1">state management library in the React community, as of the time of writing this book. </span><span class="koboSpan" id="kobo.47.2">When used wisely, it’s a great tool. </span><span class="koboSpan" id="kobo.47.3">It requires quite a bit of boilerplate, and its creator has doubts</span><a id="_idIndexMarker457"/><span class="koboSpan" id="kobo.48.1"> about how it’s implemented. </span><span class="koboSpan" id="kobo.48.2">However, the team behind Redux Toolkit has made great progress in keeping this library developer-friendly and up to date. </span><span class="koboSpan" id="kobo.48.3">We configured Redux and Redux Toolkit in the Funbook app, and we saw how to use them for managing the list of </span><span class="No-Break"><span class="koboSpan" id="kobo.49.1">liked images.</span></span></p>
<p><span class="koboSpan" id="kobo.50.1">In the next chapter, we talked about a library considered to be the second most popular in the React community: </span><strong class="bold"><span class="koboSpan" id="kobo.51.1">MobX</span></strong><span class="koboSpan" id="kobo.52.1">. </span><span class="koboSpan" id="kobo.52.2">By this </span><a id="_idIndexMarker458"/><span class="koboSpan" id="kobo.53.1">time, we were armed with a sound knowledge of ReactJS, React Native, and some thoughts on how global state could be managed by React alone or with Redux. </span><span class="koboSpan" id="kobo.53.2">MobX invited us to rethink a few preconceptions and look at global state management differently. </span><span class="koboSpan" id="kobo.53.3">Instead of passing props or actions through an intricate web of components, MobX gives us tools to use global state data as any other prop, while only informing components about being observed. </span><span class="koboSpan" id="kobo.53.4">We learned later that this sort of global state management is sometimes called </span><strong class="bold"><span class="koboSpan" id="kobo.54.1">proxy-based</span></strong><span class="koboSpan" id="kobo.55.1">. </span><span class="koboSpan" id="kobo.55.2">The</span><a id="_idIndexMarker459"/><span class="koboSpan" id="kobo.56.1"> state management library stands between the user and the code, managing state in a sort of invisible layer, like a proxy on the web. </span><span class="koboSpan" id="kobo.56.2">MobX is sometimes compared</span><a id="_idIndexMarker460"/><span class="koboSpan" id="kobo.57.1"> to </span><strong class="bold"><span class="koboSpan" id="kobo.58.1">Valtio</span></strong><span class="koboSpan" id="kobo.59.1">, another proxy-based state </span><span class="No-Break"><span class="koboSpan" id="kobo.60.1">management library.</span></span></p>
<p><span class="koboSpan" id="kobo.61.1">After learning about MobX observables, actions, and their approach to deriving state values (which should be done as much as possible), we were ready to use it. </span><span class="koboSpan" id="kobo.61.2">We implemented the same functionality as for Redux – managing the list of liked images. </span><span class="koboSpan" id="kobo.61.3">And once we had that working in </span><a id="_idIndexMarker461"/><span class="koboSpan" id="kobo.62.1">MobX, we moved on to the next state management </span><span class="No-Break"><span class="koboSpan" id="kobo.63.1">library: </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.64.1">XState</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.65.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.66.1">Xstate is less popular than Redux and MobX, but it offers yet another way of looking at global state management. </span><span class="koboSpan" id="kobo.66.2">And even better, it offers a dedicated tool for doing so! </span><span class="koboSpan" id="kobo.66.3">The </span><strong class="bold"><span class="koboSpan" id="kobo.67.1">Xstate visualizer</span></strong><span class="koboSpan" id="kobo.68.1"> is an</span><a id="_idIndexMarker462"/><span class="koboSpan" id="kobo.69.1"> incredible tool that can be used for working in any global state for any app. </span><span class="koboSpan" id="kobo.69.2">Being able to see how different pieces of state relate to each other can come in handy when you’re tasked with creating a new app. </span><span class="koboSpan" id="kobo.69.3">Xstate not only provides this great tool, but its creator invites us also to take a more mathematical approach to state management. </span><span class="koboSpan" id="kobo.69.4">Thanks to him, we can learn what a state machine is and that every part of the global state in an app should always be in a </span><span class="No-Break"><span class="koboSpan" id="kobo.70.1">defined state.</span></span></p>
<p><span class="koboSpan" id="kobo.71.1">After playing around with Xstate, and of course, implementing the list of liked images with it, we were ready to move on. </span><span class="koboSpan" id="kobo.71.2">The next library we looked at </span><span class="No-Break"><span class="koboSpan" id="kobo.72.1">was </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.73.1">Jotai</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.74.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.75.1">Jotai was</span><a id="_idIndexMarker463"/><span class="koboSpan" id="kobo.76.1"> considered the new kid on the block when I started writing this book. </span><span class="koboSpan" id="kobo.76.2">That was many moons ago! </span><span class="koboSpan" id="kobo.76.3">As of the time of writing this summary, there are a few newer state management libraries. </span><span class="koboSpan" id="kobo.76.4">I feared they were not mature enough to be analyzed along with big players such as Redux and MobX. </span><span class="koboSpan" id="kobo.76.5">Jotai, however, has been holding strong over the last few months and getting more and more attention from the community. </span><span class="koboSpan" id="kobo.76.6">Jotai was heavily inspired by </span><strong class="bold"><span class="koboSpan" id="kobo.77.1">Recoil</span></strong><span class="koboSpan" id="kobo.78.1">, a state management library created by the React team at Meta. </span><span class="koboSpan" id="kobo.78.2">Recoil remains </span><a id="_idIndexMarker464"/><span class="koboSpan" id="kobo.79.1">in an experimental state, but Jotai is ready for usage in production apps. </span><span class="koboSpan" id="kobo.79.2">The main concept in Jotai is the use of </span><strong class="bold"><span class="koboSpan" id="kobo.80.1">atoms</span></strong><span class="koboSpan" id="kobo.81.1">. </span><span class="koboSpan" id="kobo.81.2">They are the smallest building block of global state that we can pepper</span><a id="_idIndexMarker465"/><span class="koboSpan" id="kobo.82.1"> around the app – just like we could pepper it with </span><strong class="source-inline"><span class="koboSpan" id="kobo.83.1">useState</span></strong><span class="koboSpan" id="kobo.84.1"> hooks. </span><span class="koboSpan" id="kobo.84.2">The big difference is that Jotai’s atoms will be freely available throughout the app, without unpleasant prop drilling or extensive boilerplate. </span><span class="koboSpan" id="kobo.84.3">Using Jotai for the list of liked images felt, for me, a little bit magical: a minimal configuration and we can access pieces of state wherever </span><span class="No-Break"><span class="koboSpan" id="kobo.85.1">we’d like!</span></span></p>
<p><span class="koboSpan" id="kobo.86.1">Once we used Jotai in the Funbook app, we were ready to abandon it and move on to the next thing. </span><span class="koboSpan" id="kobo.86.2">And the next thing was very different from its predecessors – </span><strong class="bold"><span class="koboSpan" id="kobo.87.1">React</span></strong> <strong class="bold"><span class="koboSpan" id="kobo.88.1">Query</span></strong><span class="koboSpan" id="kobo.89.1">, and the</span><a id="_idIndexMarker466"/><span class="koboSpan" id="kobo.90.1"> notion that we may not need any state management library at all. </span><span class="koboSpan" id="kobo.90.2">React Query is not a state management library; it’s a library created for better data management and synchronization between an app and the server. </span><span class="koboSpan" id="kobo.90.3">It aims at reducing network calls while keeping data relevant. </span><span class="koboSpan" id="kobo.90.4">It is also an incredible solution as far as developer experience is concerned. </span><span class="koboSpan" id="kobo.90.5">The documentation is exhaustive, and it is accompanied by a specialized blog. </span><span class="koboSpan" id="kobo.90.6">Dozens of common developer problems are solved within the library itself. </span><span class="koboSpan" id="kobo.90.7">We used React Query, or </span><strong class="bold"><span class="koboSpan" id="kobo.91.1">TanStack Query</span></strong><span class="koboSpan" id="kobo.92.1">, for fetching</span><a id="_idIndexMarker467"/><span class="koboSpan" id="kobo.93.1"> the list of liked images. </span><span class="koboSpan" id="kobo.93.2">We were, unfortunately, unable to use other features it offers, such as data mutations, as the backend of the Funbook app is </span><span class="No-Break"><span class="koboSpan" id="kobo.94.1">quite minimal.</span></span></p>
<p><span class="koboSpan" id="kobo.95.1">The creators of React Query ask a very good question: do you really need a state management library for your app? </span><span class="koboSpan" id="kobo.95.2">Let’s ask ourselves this same question. </span><span class="koboSpan" id="kobo.95.3">We were able to create the Funbook app using React alone. </span><span class="koboSpan" id="kobo.95.4">We were also able to use React Query mixed with local state. </span><span class="koboSpan" id="kobo.95.5">Does this mean all dedicated state management libraries should be wiped from the earth along with this book? </span><span class="No-Break"><span class="koboSpan" id="kobo.96.1">Certainly not.</span></span></p>
<p><span class="koboSpan" id="kobo.97.1">Choosing a state management library, when choosing from battle-tested solutions, boils down to developer experience. </span><span class="koboSpan" id="kobo.97.2">The end user of your app will not know whether you’re using Jotai or Redux, but your fellow developers may give you an earful about it. </span><span class="koboSpan" id="kobo.97.3">Some developers live and breathe Redux, while others would rather not touch Redux-based projects. </span><span class="koboSpan" id="kobo.97.4">There is a silent global consensus in the community that state management libraries should not be used for fetching and persisting data in apps. </span><span class="koboSpan" id="kobo.97.5">This task should be left for better-suited libraries, such as React Query. </span><span class="koboSpan" id="kobo.97.6">So, maybe the next app you create will use MobX for local state and React Query for fetching data? </span><span class="koboSpan" id="kobo.97.7">Or maybe Xstate for local state, </span><strong class="bold"><span class="koboSpan" id="kobo.98.1">Axios</span></strong><span class="koboSpan" id="kobo.99.1"> for </span><a id="_idIndexMarker468"/><span class="koboSpan" id="kobo.100.1">fetching, and </span><strong class="bold"><span class="koboSpan" id="kobo.101.1">Async Storage</span></strong><span class="koboSpan" id="kobo.102.1"> for persisting state? </span><span class="koboSpan" id="kobo.102.2">Or maybe something else completely. </span><span class="koboSpan" id="kobo.102.3">I believe </span><a id="_idIndexMarker469"/><span class="koboSpan" id="kobo.103.1">every state management library has its strong points, as well as weaknesses. </span><span class="koboSpan" id="kobo.103.2">I also believe discussing which is better is a moot point, as neither is objectively better. </span><span class="koboSpan" id="kobo.103.3">I hope that thanks to this book, you were able to “dip your toe” in a few different solutions and you are more aware of what you personally prefer. </span><span class="koboSpan" id="kobo.103.4">And once you find what you like, have fun working </span><span class="No-Break"><span class="koboSpan" id="kobo.104.1">with it!</span></span></p>
<h2 id="_idParaDest-123"><a id="_idTextAnchor124"/><span class="koboSpan" id="kobo.105.1">Bonus content</span></h2>
<p><span class="koboSpan" id="kobo.106.1">Speaking of work: you may find yourself , my dear reader, going through job interviews where you are asked about React, React Native, and state management solutions. </span><span class="koboSpan" id="kobo.106.2">There are a few questions I have gotten myself that I found were either very common or very interesting. </span><span class="koboSpan" id="kobo.106.3">I’ve compiled a list of those questions in the hope that they facilitate your next recruitment. </span><span class="koboSpan" id="kobo.106.4">Questions regarding React and Redux pop up in most job interviews for roles related to software development with React and React Native. </span><span class="koboSpan" id="kobo.106.5">Questions about other state management libraries may get asked if you specify that you are familiar with the given libraries. </span><span class="koboSpan" id="kobo.106.6">To be honest, 80% of job offers list React and Redux. </span><span class="koboSpan" id="kobo.106.7">I’m hoping this will change in the coming months and years, as other state management libraries offer great solutions. </span><span class="koboSpan" id="kobo.106.8">Here are some common or </span><span class="No-Break"><span class="koboSpan" id="kobo.107.1">interesting questions:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.108.1">In React, what is the difference between </span><strong class="source-inline"><span class="koboSpan" id="kobo.109.1">props</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.110.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.111.1">state</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.112.1">?</span></span></li>
<li><span class="koboSpan" id="kobo.113.1">Is it necessary to use an external state management library in a React </span><span class="No-Break"><span class="koboSpan" id="kobo.114.1">Native app?</span></span></li>
<li><span class="koboSpan" id="kobo.115.1">In Redux, what is a reducer and </span><span class="No-Break"><span class="koboSpan" id="kobo.116.1">an action?</span></span></li>
<li><span class="koboSpan" id="kobo.117.1">In Redux, what is the advantage of </span><span class="No-Break"><span class="koboSpan" id="kobo.118.1">using selectors?</span></span></li>
<li><span class="koboSpan" id="kobo.119.1">In Redux, are you allowed to change state </span><span class="No-Break"><span class="koboSpan" id="kobo.120.1">values directly?</span></span></li>
<li><span class="koboSpan" id="kobo.121.1">In MobX, what is </span><span class="No-Break"><span class="koboSpan" id="kobo.122.1">a model?</span></span></li>
<li><span class="koboSpan" id="kobo.123.1">In MobX, how do you make a component aware of the global </span><span class="No-Break"><span class="koboSpan" id="kobo.124.1">state values?</span></span></li>
<li><span class="koboSpan" id="kobo.125.1">In Xstate, what is a </span><span class="No-Break"><span class="koboSpan" id="kobo.126.1">state machine?</span></span></li>
<li><span class="koboSpan" id="kobo.127.1">In Xstate, how do you pass additional data through the </span><span class="No-Break"><span class="koboSpan" id="kobo.128.1">state machine?</span></span></li>
<li><span class="koboSpan" id="kobo.129.1">In Jotai, what is the name of the most basic piece </span><span class="No-Break"><span class="koboSpan" id="kobo.130.1">of state?</span></span></li>
<li><span class="koboSpan" id="kobo.131.1">Can you replace all state management with React </span><span class="No-Break"><span class="koboSpan" id="kobo.132.1">Query alone?</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.133.1">I’m giving you only the questions because giving you the answers would be a tad too easy, don’t you think? </span><span class="koboSpan" id="kobo.133.2">If you must go back in the book and research the answers, or maybe simply google them, there’s a better chance the information will stick </span><span class="No-Break"><span class="koboSpan" id="kobo.134.1">with you.</span></span></p>
<p><span class="koboSpan" id="kobo.135.1">I sincerely hope you enjoyed reading this book just as much as I enjoyed writing it! </span><span class="koboSpan" id="kobo.135.2">Thank you for sticking around, and feel free to contact me through Twitter (if it still exists by the time this book gets published!). </span><span class="koboSpan" id="kobo.135.3">Good night and </span><span class="No-Break"><span class="koboSpan" id="kobo.136.1">good luck!</span></span></p>
</div>
</body></html>