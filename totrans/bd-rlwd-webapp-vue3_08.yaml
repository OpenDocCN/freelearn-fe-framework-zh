- en: '8'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '8'
- en: Building an Interactive Quiz App
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ„å»ºä¸€ä¸ªäº¤äº’å¼é—®ç­”åº”ç”¨
- en: Weâ€™ll be stepping up the complexity in this chapter by creating a quiz app that
    has an admin panel and a real-time connection among multiple clients through the
    use of WebSockets. WebSockets differ from our usual endpoints by keeping the connection
    open, allowing for continuous updates to be sent from a central socket server
    to one or more clients. Using these features, weâ€™ll build a small-scale Kahoot
    clone.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†é€šè¿‡åˆ›å»ºä¸€ä¸ªå…·æœ‰ç®¡ç†é¢æ¿å’Œé€šè¿‡WebSocketsåœ¨å¤šä¸ªå®¢æˆ·ç«¯ä¹‹é—´å®ç°å®æ—¶è¿æ¥çš„é—®ç­”åº”ç”¨æ¥æé«˜æœ¬ç« çš„å¤æ‚æ€§ã€‚WebSocketsä¸æˆ‘ä»¬çš„å¸¸è§„ç«¯ç‚¹ä¸åŒï¼Œå®ƒä¿æŒè¿æ¥æ‰“å¼€ï¼Œå…è®¸ä»ä¸­å¤®socketæœåŠ¡å™¨å‘ä¸€ä¸ªæˆ–å¤šä¸ªå®¢æˆ·ç«¯å‘é€è¿ç»­æ›´æ–°ã€‚ä½¿ç”¨è¿™äº›åŠŸèƒ½ï¼Œæˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªå°å‹Kahootå…‹éš†ã€‚
- en: For the admin panel, weâ€™ll use Nuxt ([https://nuxt.com/](https://nuxt.com/)).
    Nuxt is a framework that was built as an extension of the Vue philosophy but extended
    with server capabilities. Save for the Electron app in [*Chapter 7*](B19563_07.xhtml#_idTextAnchor204),
    all of our code can run in the browser of the client. Nuxt allows Vue code to
    be executed on a server. On top of that, it has a lot of extra capabilities that
    drastically improve the **developer experience** (**DX**). Weâ€™ll encounter these
    capabilities as we progress through this chapter.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºç®¡ç†é¢æ¿ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Nuxt ([https://nuxt.com/](https://nuxt.com/))ã€‚Nuxtæ˜¯ä¸€ä¸ªä½œä¸ºVueå“²å­¦æ‰©å±•è€Œæ„å»ºçš„æ¡†æ¶ï¼Œä½†å¢åŠ äº†æœåŠ¡å™¨åŠŸèƒ½ã€‚é™¤äº†ç¬¬7ç« ä¸­çš„Electronåº”ç”¨[*ç¬¬7ç« *](B19563_07.xhtml#_idTextAnchor204)ä¹‹å¤–ï¼Œæˆ‘ä»¬æ‰€æœ‰çš„ä»£ç éƒ½å¯ä»¥åœ¨å®¢æˆ·ç«¯çš„æµè§ˆå™¨ä¸­è¿è¡Œã€‚Nuxtå…è®¸Vueä»£ç åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå®ƒè¿˜å…·æœ‰è®¸å¤šé¢å¤–çš„åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½æå¤§åœ°æ”¹å–„äº†**å¼€å‘è€…ä½“éªŒ**ï¼ˆ**DX**ï¼‰ã€‚éšç€æœ¬ç« çš„è¿›å±•ï¼Œæˆ‘ä»¬å°†é‡åˆ°è¿™äº›åŠŸèƒ½ã€‚
- en: 'In this chapter, weâ€™ll cover the following topics:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ¶µç›–ä»¥ä¸‹ä¸»é¢˜ï¼š
- en: Familiarizing yourself with Nuxt and server-side rendering
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç†Ÿæ‚‰Nuxtå’ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“
- en: Understanding the difference between the REST API and WebSockets
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç†è§£REST APIå’ŒWebSocketsä¹‹é—´çš„åŒºåˆ«
- en: Client experience and server roles in complex application architecture
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¤æ‚åº”ç”¨æ¶æ„ä¸­çš„å®¢æˆ·ç«¯ä½“éªŒå’ŒæœåŠ¡å™¨è§’è‰²
- en: Structuring application logic
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åº”ç”¨é€»è¾‘çš„ç»“æ„åŒ–
- en: Using Node.js scripts in development environments
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨Node.jsè„šæœ¬
- en: Weâ€™re going to build three different applications that need to communicate with
    each other to form an interactive quiz.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†æ„å»ºä¸‰ä¸ªä¸åŒçš„åº”ç”¨ï¼Œè¿™äº›åº”ç”¨éœ€è¦ç›¸äº’é€šä¿¡ä»¥å½¢æˆä¸€ä¸ªäº¤äº’å¼é—®ç­”ã€‚
- en: Technical requirements
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æŠ€æœ¯è¦æ±‚
- en: At the heart of our setup lies the **Server Quiz App** (**SQA**), which is scaffolded
    around Nuxt ([https://nuxt.com/](https://nuxt.com/)), Pinia for state management
    ([https://pinia.vuejs.org/](https://pinia.vuejs.org/)), Supabase for managing
    quiz data ([https://supabase.com/](https://supabase.com/)), and Vuetify ([https://vuetifyjs.com/](https://vuetifyjs.com/))
    for rendering a management interface.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬çš„è®¾ç½®ä¸­ï¼Œæ ¸å¿ƒæ˜¯**æœåŠ¡å™¨é—®ç­”åº”ç”¨**ï¼ˆ**SQA**ï¼‰ï¼Œå®ƒå›´ç»•Nuxt ([https://nuxt.com/](https://nuxt.com/))ã€Pinia
    ([https://pinia.vuejs.org/](https://pinia.vuejs.org/))è¿›è¡ŒçŠ¶æ€ç®¡ç†ã€Supabase ([https://supabase.com/](https://supabase.com/))ç®¡ç†é—®ç­”æ•°æ®ä»¥åŠVuetify
    ([https://vuetifyjs.com/](https://vuetifyjs.com/))æ¸²æŸ“ç®¡ç†ç•Œé¢è€Œæ„å»ºã€‚
- en: Weâ€™ll build a standalone `socket.io` server ([https://socket.io/](https://socket.io/))
    to maintain a real-time connection between clients.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªç‹¬ç«‹çš„`socket.io`æœåŠ¡å™¨ ([https://socket.io/](https://socket.io/))ï¼Œä»¥åœ¨å®¢æˆ·ç«¯ä¹‹é—´ä¿æŒå®æ—¶è¿æ¥ã€‚
- en: Lastly, our **Client Quiz App** (**CQA**) will use Vuetify to render the quiz
    elements ([https://vuetifyjs.com/](https://vuetifyjs.com/)).
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åï¼Œæˆ‘ä»¬çš„**å®¢æˆ·ç«¯é—®ç­”åº”ç”¨**ï¼ˆ**CQA**ï¼‰å°†ä½¿ç”¨Vuetifyæ¥æ¸²æŸ“é—®ç­”å…ƒç´  ([https://vuetifyjs.com/](https://vuetifyjs.com/))ã€‚
- en: 'You can find the code complete code for this chapter here: [https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/tree/main/08.quiz](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/tree/main/08.quiz).'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨å¯ä»¥åœ¨æ­¤å¤„æ‰¾åˆ°æœ¬ç« çš„å®Œæ•´ä»£ç ï¼š[https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/tree/main/08.quiz](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/tree/main/08.quiz).
- en: Entities in the quiz app setup
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: é—®ç­”åº”ç”¨è®¾ç½®ä¸­çš„å®ä½“
- en: 'To give you an idea of how our elements will work together, letâ€™s quickly take
    a look at the following figure:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†è®©æ‚¨äº†è§£æˆ‘ä»¬çš„å…ƒç´ å°†å¦‚ä½•ååŒå·¥ä½œï¼Œè®©æˆ‘ä»¬å¿«é€Ÿçœ‹ä¸€ä¸‹ä»¥ä¸‹å›¾ç¤ºï¼š
- en: '![Figure 8.1 â€“ Overview of the entities in the quiz app setup](img/B19563_08_01.jpg)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾8.1 â€“ é—®ç­”åº”ç”¨è®¾ç½®ä¸­çš„å®ä½“æ¦‚è§ˆ](img/B19563_08_01.jpg)'
- en: Figure 8.1 â€“ Overview of the entities in the quiz app setup
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾8.1 â€“ é—®ç­”åº”ç”¨è®¾ç½®ä¸­çš„å®ä½“æ¦‚è§ˆ
- en: The big change concerning our previous projects is that our client (CQA) is
    not directly communicating with the Supabase database anymore. Instead, it connects
    via the SQS, where it retrieves questions and scores and sends its answers back
    to the SQS. The SQS, in turn, communicates with the SQA to retrieve relevant quiz
    information and centralizes the session of a current active quiz between its clients
    (CQAs).
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸æˆ‘ä»¬ä¹‹å‰çš„é¡¹ç›®ç›¸æ¯”ï¼Œä¸€ä¸ªé‡å¤§å˜åŒ–æ˜¯ï¼Œæˆ‘ä»¬çš„å®¢æˆ·ç«¯ï¼ˆCQAï¼‰ä¸å†ç›´æ¥ä¸ Supabase æ•°æ®åº“é€šä¿¡ã€‚ç›¸åï¼Œå®ƒé€šè¿‡ SQS è¿æ¥ï¼Œä»ä¸­æ£€ç´¢é—®é¢˜å’Œåˆ†æ•°ï¼Œå¹¶å°†å…¶ç­”æ¡ˆå‘é€å›
    SQSã€‚SQS ç„¶åï¼Œä¸ SQA é€šä¿¡ä»¥æ£€ç´¢ç›¸å…³çš„æµ‹éªŒä¿¡æ¯ï¼Œå¹¶åœ¨å…¶å®¢æˆ·ç«¯ï¼ˆCQAsï¼‰ä¹‹é—´é›†ä¸­å½“å‰æ´»åŠ¨çš„æµ‹éªŒä¼šè¯ã€‚
- en: The SQA is used to manage the contents of quizzes and interact with the database.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: SQA ç”¨äºç®¡ç†æµ‹éªŒå†…å®¹å’Œä¸æ•°æ®åº“äº¤äº’ã€‚
- en: A word beforehand
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: äº‹å…ˆè¯´ä¸€å¥
- en: Since the setup is fairly complex, this chapter will not focus on, and instead
    leave out, security measures. It is good to realize the limitations of the project
    and donâ€™t treat this as production-ready code. Where possible, weâ€™ll mention implications
    or possible solutions briefly.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºè®¾ç½®ç›¸å½“å¤æ‚ï¼Œæœ¬ç« å°†ä¸ä¼šå…³æ³¨ï¼Œå¹¶ä¸”å°†çœç•¥å®‰å…¨æªæ–½ã€‚äº†è§£é¡¹ç›®çš„å±€é™æ€§ï¼Œä¸è¦å°†å…¶è§†ä¸ºç”Ÿäº§å°±ç»ªä»£ç æ˜¯å¾ˆå¥½çš„ã€‚åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†ç®€è¦æåŠå½±å“æˆ–å¯èƒ½çš„è§£å†³æ–¹æ¡ˆã€‚
- en: Letâ€™s dive in by setting up the database.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬é€šè¿‡è®¾ç½®æ•°æ®åº“æ¥æ·±å…¥äº†è§£ã€‚
- en: Setting up the database
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è®¾ç½®æ•°æ®åº“
- en: As with previous chapters, weâ€™ll start this chapter by setting up our database.
    Weâ€™ll create another project called `quiz`, set a strong database password, and
    select a geographically close region.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸å‰å‡ ç« ä¸€æ ·ï¼Œæˆ‘ä»¬å°†ä»è®¾ç½®æˆ‘ä»¬çš„æ•°æ®åº“å¼€å§‹ã€‚æˆ‘ä»¬å°†åˆ›å»ºå¦ä¸€ä¸ªåä¸º `quiz` çš„é¡¹ç›®ï¼Œè®¾ç½®ä¸€ä¸ªå¼ºå¤§çš„æ•°æ®åº“å¯†ç ï¼Œå¹¶é€‰æ‹©ä¸€ä¸ªåœ°ç†ä½ç½®ç›¸è¿‘çš„åŒºåŸŸã€‚
- en: Remember to note the **Project URL** and **API** **Key** values!
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: è®°å¾—è®°å½•**é¡¹ç›® URL**å’Œ**API å¯†é’¥**å€¼ï¼
- en: Note
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„
- en: The intent of this chapter is not to focus on database management and the following
    settings should not be considered a best practice for a production app!
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ç« çš„ç›®çš„æ˜¯ä¸ä¸“æ³¨äºæ•°æ®åº“ç®¡ç†ï¼Œä»¥ä¸‹è®¾ç½®ä¸åº”è¢«è§†ä¸ºç”Ÿäº§åº”ç”¨ç¨‹åºçš„æœ€ä½³å®è·µï¼
- en: 'Follow these steps to set up the database:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è®¾ç½®æ•°æ®åº“ï¼š
- en: Go to `quiz`.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å‰å¾€ `quiz`ã€‚
- en: Uncheck **Enable Row Level Security (RLS)** and confirm the dialog after reading
    its warning.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å–æ¶ˆé€‰æ‹©**å¯ç”¨è¡Œçº§å®‰å…¨ï¼ˆRLSï¼‰**ï¼Œå¹¶åœ¨é˜…è¯»å…¶è­¦å‘Šåç¡®è®¤å¯¹è¯æ¡†ã€‚
- en: In the **Columns** section, change the type of the **id** field to **uuid**.
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åœ¨**åˆ—**éƒ¨åˆ†ï¼Œå°†**id**å­—æ®µçš„ç±»å‹æ›´æ”¹ä¸º**uuid**ã€‚
- en: Thatâ€™s enough for this table, so click **Save**.
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è¿™ä¸ªè¡¨æ ¼å°±è¶³å¤Ÿäº†ï¼Œæ‰€ä»¥ç‚¹å‡»**ä¿å­˜**ã€‚
- en: We will only use this table as a grouping mechanism for questions, so weâ€™re
    keeping it as simple as possible.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†ä»…ä½¿ç”¨æ­¤è¡¨ä½œä¸ºé—®é¢˜åˆ†ç»„æœºåˆ¶ï¼Œå› æ­¤æˆ‘ä»¬å°†å°½å¯èƒ½ä¿æŒå…¶ç®€å•ã€‚
- en: Now, return to `questions`.*   Again, uncheck `quiz` table and check that the
    **id** column is automatically entered.*   Click **Save** to close the foreign
    key property.*   Create a column called **question** and set its type to **text**.*   Create
    four columns called **answer_1** through **answer_4** with their type set to **text**.*   Create
    a column called **correct** with its type set to **int2**.*   Click **Save** to
    create the table.
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œè¿”å›åˆ° `questions`ã€‚å†æ¬¡å–æ¶ˆé€‰æ‹© `quiz` è¡¨ï¼Œå¹¶ç¡®è®¤**id**åˆ—æ˜¯è‡ªåŠ¨è¾“å…¥çš„ã€‚ç‚¹å‡»**ä¿å­˜**ä»¥å…³é—­å¤–é”®å±æ€§ã€‚åˆ›å»ºä¸€ä¸ªåä¸º**question**çš„åˆ—ï¼Œå¹¶å°†å…¶ç±»å‹è®¾ç½®ä¸º**text**ã€‚åˆ›å»ºå››ä¸ªåä¸º**answer_1**è‡³**answer_4**çš„åˆ—ï¼Œå¹¶å°†å®ƒä»¬çš„ç±»å‹è®¾ç½®ä¸º**text**ã€‚åˆ›å»ºä¸€ä¸ªåä¸º**correct**çš„åˆ—ï¼Œå¹¶å°†å…¶ç±»å‹è®¾ç½®ä¸º**int2**ã€‚ç‚¹å‡»**ä¿å­˜**ä»¥åˆ›å»ºè¡¨ã€‚
- en: Weâ€™re not going to import any preset data since weâ€™ll use our SQA to handle
    insertions for us! Letâ€™s get started by building our first application in this
    project.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä¸ä¼šå¯¼å…¥ä»»ä½•é¢„è®¾æ•°æ®ï¼Œå› ä¸ºæˆ‘ä»¬å°†ä½¿ç”¨æˆ‘ä»¬çš„ SQA æ¥å¤„ç†æ’å…¥æ“ä½œï¼è®©æˆ‘ä»¬ä»è¿™ä¸ªé¡¹ç›®ä¸­æ„å»ºæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªåº”ç”¨ç¨‹åºå¼€å§‹ã€‚
- en: The SQA
  id: totrans-38
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: The SQA
- en: 'To organize all our applications, weâ€™ll create subfolders for every project
    in our chaptersâ€™ root folder. Since this app will run on Nuxt, we can use the
    `Nuxi` CLI to install our project for us. From the root of our project, weâ€™ll
    run the following command in the command line:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ç»„ç»‡æˆ‘ä»¬æ‰€æœ‰çš„åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬å°†åœ¨ç« èŠ‚æ ¹æ–‡ä»¶å¤¹ä¸­ä¸ºæ¯ä¸ªé¡¹ç›®åˆ›å»ºå­æ–‡ä»¶å¤¹ã€‚ç”±äºæ­¤åº”ç”¨ç¨‹åºå°†åœ¨ Nuxt ä¸Šè¿è¡Œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `Nuxi` CLI æ¥ä¸ºæˆ‘ä»¬å®‰è£…é¡¹ç›®ã€‚ä»æˆ‘ä»¬é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œæˆ‘ä»¬å°†åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
- en: '[PRE0]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Weâ€™ll simply pick `npm` as our package manager. Once the installation is done,
    navigate to the `server` folder and run `npm run dev` to start the application.
    By default, it will run on port `3000`. Upon opening the URL in your browser,
    you should see something like this:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†ç®€å•åœ°é€‰æ‹© `npm` ä½œä¸ºæˆ‘ä»¬çš„åŒ…ç®¡ç†å™¨ã€‚ä¸€æ—¦å®‰è£…å®Œæˆï¼Œå¯¼èˆªåˆ° `server` æ–‡ä»¶å¤¹å¹¶è¿è¡Œ `npm run dev` ä»¥å¯åŠ¨åº”ç”¨ç¨‹åºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒå°†åœ¨ç«¯å£
    `3000` ä¸Šè¿è¡Œã€‚åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ URL åï¼Œä½ åº”è¯¥ä¼šçœ‹åˆ°å¦‚ä¸‹å†…å®¹ï¼š
- en: '![Figure 8.2 â€“ The welcome screen of a fresh Nuxt installation](img/B19563_08_02.jpg)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ 8.2 â€“ æ–°é²œ Nuxt å®‰è£…çš„æ¬¢è¿å±å¹•](img/B19563_08_02.jpg)'
- en: Figure 8.2 â€“ The welcome screen of a fresh Nuxt installation
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ 8.2 â€“ æ–°é²œ Nuxt å®‰è£…çš„æ¬¢è¿å±å¹•
- en: While this may not look like much, please inspect the source of this page. Instead
    of rendering a virtual DOM to a `<div id="app" />` element, Nuxt runs as a Node.js
    process, which (among other things) means that it supports server-side rendering
    of Vue components! This can be very beneficial since you donâ€™t have to rely on
    JavaScript being executed in the browser, which positively impacts search engine
    optimization, crawling support, rendering performance, and browser memory usage.
    For more information, please visit the Nuxt official docs ([https://vuejs.org/guide/scaling-up/ssr.html#server-side-rendering-ssr](https://vuejs.org/guide/scaling-up/ssr.html#server-side-rendering-ssr)).
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: è™½ç„¶è¿™çœ‹èµ·æ¥å¯èƒ½ä¸å¤šï¼Œä½†è¯·æ£€æŸ¥è¿™ä¸ªé¡µé¢çš„æºä»£ç ã€‚Nuxtä¸æ˜¯å°†è™šæ‹ŸDOMæ¸²æŸ“åˆ°`<div id="app" />`å…ƒç´ ä¸­ï¼Œè€Œæ˜¯ä½œä¸ºä¸€ä¸ªNode.jsè¿›ç¨‹è¿è¡Œï¼Œè¿™æ„å‘³ç€å®ƒæ”¯æŒVueç»„ä»¶çš„æœåŠ¡ç«¯æ¸²æŸ“ï¼è¿™å¯ä»¥éå¸¸æœ‰ç›Šï¼Œå› ä¸ºä½ ä¸å¿…ä¾èµ–äºJavaScriptåœ¨æµè§ˆå™¨ä¸­æ‰§è¡Œï¼Œè¿™æœ‰åˆ©äºæœç´¢å¼•æ“ä¼˜åŒ–ã€çˆ¬è™«æ”¯æŒã€æ¸²æŸ“æ€§èƒ½å’Œæµè§ˆå™¨å†…å­˜ä½¿ç”¨ã€‚æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®Nuxtå®˜æ–¹æ–‡æ¡£([https://vuejs.org/guide/scaling-up/ssr.html#server-side-rendering-ssr](https://vuejs.org/guide/scaling-up/ssr.html#server-side-rendering-ssr))ã€‚
- en: With our foundation in place, letâ€™s add some extra capabilities using the Nuxt
    module system.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬çš„åŸºç¡€æ­å»ºå¥½ä¹‹åï¼Œè®©æˆ‘ä»¬ä½¿ç”¨Nuxtæ¨¡å—ç³»ç»Ÿæ·»åŠ ä¸€äº›é¢å¤–çš„åŠŸèƒ½ã€‚
- en: Modules and auto-imports
  id: totrans-46
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ¨¡å—å’Œè‡ªåŠ¨å¯¼å…¥
- en: 'Weâ€™ll start by adding Vuetify to our project. Nuxt has a solid community that
    contributes to certain modules for everyone to use. In our case, weâ€™ll use the
    *Nuxt Vuetify Module* ([https://nuxt.com/modules/nuxt-vuetify](https://nuxt.com/modules/nuxt-vuetify)).
    In our `server` folder, run the following command:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†é¦–å…ˆå°†Vuetifyæ·»åŠ åˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­ã€‚Nuxtæœ‰ä¸€ä¸ªç¨³å›ºçš„ç¤¾åŒºï¼Œä¸ºæ¯ä¸ªäººè´¡çŒ®äº†ä¸€äº›æ¨¡å—ã€‚åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨*Nuxt Vuetifyæ¨¡å—*([https://nuxt.com/modules/nuxt-vuetify](https://nuxt.com/modules/nuxt-vuetify))ã€‚åœ¨æˆ‘ä»¬çš„`server`æ–‡ä»¶å¤¹ä¸­ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
- en: '[PRE1]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Nuxt modules can be registered and configured via the `nuxt.config.ts` file
    by changing its contents, as follows:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: Nuxtæ¨¡å—å¯ä»¥é€šè¿‡ä¿®æ”¹`nuxt.config.ts`æ–‡ä»¶æ¥æ³¨å†Œå’Œé…ç½®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
- en: '[PRE2]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: In the `modules` property, we register the module we want to use, and, optionally,
    on the (in this case) `vuetify` property, we configure how the module should behave.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨`modules`å±æ€§ä¸­ï¼Œæˆ‘ä»¬æ³¨å†Œæˆ‘ä»¬æƒ³è¦ä½¿ç”¨çš„æ¨¡å—ï¼Œå¹¶ä¸”å¯é€‰åœ°ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼‰åœ¨`vuetify`å±æ€§ä¸­é…ç½®æ¨¡å—åº”è¯¥å¦‚ä½•è¡Œä¸ºã€‚
- en: Thatâ€™s all we need! We can now use the Vuetify templates in our application.
    Nuxt supports a concept called auto-importing, which means that for commonly used
    scripts, we donâ€™t need to explicitly write the import statement in our script
    block. Nuxt can figure out the required file at runtime! As you will see when
    we start to write our code, this will make our files very clean and readable.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: å°±è¿™äº›äº†ï¼æˆ‘ä»¬ç°åœ¨å¯ä»¥åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨Vuetifyæ¨¡æ¿ã€‚Nuxtæ”¯æŒä¸€ä¸ªç§°ä¸ºè‡ªåŠ¨å¯¼å…¥çš„æ¦‚å¿µï¼Œè¿™æ„å‘³ç€å¯¹äºå¸¸ç”¨è„šæœ¬ï¼Œæˆ‘ä»¬ä¸éœ€è¦åœ¨è„šæœ¬å—ä¸­æ˜¾å¼ç¼–å†™å¯¼å…¥è¯­å¥ã€‚Nuxtå¯ä»¥åœ¨è¿è¡Œæ—¶ç¡®å®šæ‰€éœ€çš„æ–‡ä»¶ï¼å½“æ‚¨å¼€å§‹ç¼–å†™ä»£ç æ—¶ï¼Œè¿™å°†ä½¿æˆ‘ä»¬çš„æ–‡ä»¶éå¸¸å¹²å‡€å’Œæ˜“äºé˜…è¯»ã€‚
- en: File-based routing
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŸºäºæ–‡ä»¶çš„è·¯ç”±
- en: Similar to the automated imports, Nuxt uses our familiar `vue-router` by default,
    and itâ€™s configured to create routes for you, based on a certain file structure
    ([https://nuxt.com/docs/getting-started/routing#routing](https://nuxt.com/docs/getting-started/routing#routing)).
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸è‡ªåŠ¨å¯¼å…¥ç±»ä¼¼ï¼ŒNuxté»˜è®¤ä½¿ç”¨æˆ‘ä»¬ç†Ÿæ‚‰çš„`vue-router`ï¼Œå¹¶ä¸”é…ç½®ä¸ºæ ¹æ®ä¸€å®šçš„æ–‡ä»¶ç»“æ„ä¸ºä½ åˆ›å»ºè·¯ç”±ã€‚[https://nuxt.com/docs/getting-started/routing#routing](https://nuxt.com/docs/getting-started/routing#routing)ã€‚
- en: 'Weâ€™ll start with a default layout by creating a `default.vue` file in the `layouts`
    folder: [https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.1-default.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.1-default.vue).'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†ä»ä¸€ä¸ªé»˜è®¤å¸ƒå±€å¼€å§‹ï¼Œé€šè¿‡åœ¨`layouts`æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª`default.vue`æ–‡ä»¶æ¥å®ç°ï¼š[https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.1-default.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.1-default.vue).
- en: 'As you can see, weâ€™re depending on Vuetify components to create a simple layout
    for us. You can already identify a couple of routes. Weâ€™ll create them in the
    next section. For now, we can use the default layout in our app by updating the
    `app.vue` file in the SQA root folder with the following contents:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æ‚¨æ‰€è§ï¼Œæˆ‘ä»¬ä¾èµ–äºVuetifyç»„ä»¶ä¸ºæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„å¸ƒå±€ã€‚æ‚¨å·²ç»å¯ä»¥è¯†åˆ«å‡ºå‡ ä¸ªè·¯ç”±ã€‚æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­åˆ›å»ºå®ƒä»¬ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ›´æ–°SQAæ ¹æ–‡ä»¶å¤¹ä¸­çš„`app.vue`æ–‡ä»¶æ¥ä½¿ç”¨é»˜è®¤å¸ƒå±€ï¼Œå†…å®¹å¦‚ä¸‹ï¼š
- en: '[PRE3]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'As you can see in the menu, we need a couple of routes: a home route, a route
    to manage quizzes, and a route where we can share a quiz.'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚èœå•æ‰€ç¤ºï¼Œæˆ‘ä»¬éœ€è¦å‡ ä¸ªè·¯ç”±ï¼šä¸€ä¸ªä¸»é¡µè·¯ç”±ï¼Œä¸€ä¸ªç®¡ç†æµ‹éªŒçš„è·¯ç”±ï¼Œä»¥åŠä¸€ä¸ªå¯ä»¥åˆ†äº«æµ‹éªŒçš„è·¯ç”±ã€‚
- en: 'Weâ€™ll start with the home route by creating a `pages` folder in the root of
    the SQA folder and adding an `index.vue` file with the following contents:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†ä»ä¸»é¡µè·¯ç”±å¼€å§‹ï¼Œåœ¨ SQA æ–‡ä»¶å¤¹çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `pages` æ–‡ä»¶å¤¹ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªåŒ…å«ä»¥ä¸‹å†…å®¹çš„ `index.vue` æ–‡ä»¶ï¼š
- en: '[PRE4]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Now, if we flip back to the `app.vue` file and replace the `<NuxtWelcome />`
    component with the `<NuxtPage />` component (notice that we donâ€™t need to import
    these components in our script block to use them?) while the development server
    is active, our home route now opens the contents of `./pages/index.vue` in our
    app!
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬åˆ‡æ¢å› `app.vue` æ–‡ä»¶ï¼Œå¹¶åœ¨å¼€å‘æœåŠ¡å™¨æ¿€æ´»æ—¶ç”¨ `<NuxtPage />` ç»„ä»¶æ›¿æ¢ `<NuxtWelcome />` ç»„ä»¶ï¼ˆæ³¨æ„ï¼Œæˆ‘ä»¬ä¸éœ€è¦åœ¨æˆ‘ä»¬çš„è„šæœ¬å—ä¸­å¯¼å…¥è¿™äº›ç»„ä»¶å°±å¯ä»¥ä½¿ç”¨å®ƒä»¬ï¼Ÿï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„ä¸»é¡µç°åœ¨ä¼šåœ¨æˆ‘ä»¬çš„åº”ç”¨ä¸­æ‰“å¼€
    `./pages/index.vue` çš„å†…å®¹ï¼
- en: So, whatâ€™s happening here? The `NuxtPage` component has some logic built in
    that can read the `pages` folder and dynamically create routes on the vue router
    instance thatâ€™s initialized as a default part of Nuxt. Neat!
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: é‚£ä¹ˆï¼Œè¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ`NuxtPage` ç»„ä»¶å†…ç½®äº†ä¸€äº›é€»è¾‘ï¼Œå¯ä»¥è¯»å– `pages` æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨åˆå§‹åŒ–ä¸º Nuxt é»˜è®¤éƒ¨åˆ†çš„ vue è·¯ç”±å®ä¾‹ä¸ŠåŠ¨æ€åˆ›å»ºè·¯ç”±ã€‚çœŸä¸é”™ï¼
- en: Now, if we want to route to a certain path, we can simply create a new folder
    in the `./pages` folder with a name that matches the route. In our case, weâ€™ll
    create a `quiz` subfolder and add another `index.vue` file in that folder.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦è·¯ç”±åˆ°æŸä¸ªè·¯å¾„ï¼Œæˆ‘ä»¬åªéœ€åœ¨ `./pages` æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªä¸è·¯ç”±åç§°åŒ¹é…çš„æ–°æ–‡ä»¶å¤¹ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª `quiz`
    å­æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨è¯¥æ–‡ä»¶å¤¹ä¸­æ·»åŠ å¦ä¸€ä¸ª `index.vue` æ–‡ä»¶ã€‚
- en: Note
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„
- en: Technically, you could also opt to create a file called `quiz.vue` in the `./pages`
    folder. However, since we will add multiple routes that are part of the `quiz`
    domain, itâ€™s a better practice to group them in their dedicated folder.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: ä»æŠ€æœ¯ä¸Šè®²ï¼Œä½ è¿˜å¯ä»¥é€‰æ‹©åœ¨ `./pages` æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªåä¸º `quiz.vue` çš„æ–‡ä»¶ã€‚ç„¶è€Œï¼Œç”±äºæˆ‘ä»¬å°†æ·»åŠ å¤šä¸ªå±äº `quiz` åŸŸçš„è·¯ç”±ï¼Œå°†å®ƒä»¬åˆ†ç»„åœ¨ä¸“é—¨çš„æ–‡ä»¶å¤¹ä¸­æ˜¯ä¸€ä¸ªæ›´å¥½çš„åšæ³•ã€‚
- en: 'Weâ€™ll begin with a basic file as part of `./pages/quiz/index.vue`:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†ä» `./pages/quiz/index.vue` ä¸­çš„ä¸€ä¸ªåŸºæœ¬æ–‡ä»¶å¼€å§‹ï¼š
- en: '[PRE5]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Now, when navigating to `http://localhost:3000/quiz` in your browser (or using
    the **Manage Quizzes** button in the navigation drawer), you should see the following
    page:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œå½“ä½ åœ¨æµè§ˆå™¨ä¸­å¯¼èˆªåˆ° `http://localhost:3000/quiz`ï¼ˆæˆ–ä½¿ç”¨å¯¼èˆªæŠ½å±‰ä¸­çš„ **ç®¡ç†æµ‹éªŒ** æŒ‰é’®ï¼‰æ—¶ï¼Œä½ åº”è¯¥çœ‹åˆ°ä»¥ä¸‹é¡µé¢ï¼š
- en: '![Figure 8.3 â€“ File-based routing in action](img/B19563_08_03.jpg)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ 8.3 â€“ åŸºäºæ–‡ä»¶çš„è·¯ç”±åœ¨å®é™…ä¸­çš„åº”ç”¨](img/B19563_08_03.jpg)'
- en: Figure 8.3 â€“ File-based routing in action
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ 8.3 â€“ åŸºäºæ–‡ä»¶çš„è·¯ç”±åœ¨å®é™…ä¸­çš„åº”ç”¨
- en: Our static page doesnâ€™t help us that much, so weâ€™ll focus on establishing the
    connection and data from our database in the next section.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„é™æ€é¡µé¢å¯¹æˆ‘ä»¬å¸®åŠ©ä¸å¤§ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†ä¸“æ³¨äºåœ¨ä¸‹ä¸€èŠ‚ä¸­å»ºç«‹ä¸æ•°æ®åº“çš„è¿æ¥å’Œæ•°æ®ã€‚
- en: Reintroducing two familiar friends
  id: totrans-72
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: é‡æ–°ä»‹ç»ä¸¤ä½ç†Ÿæ‚‰çš„æœ‹å‹
- en: As we did in *Chapters 6* and *7*, weâ€™ll depend on the Supabase JS client and
    Pinia. Letâ€™s see how that works.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: æ­£å¦‚æˆ‘ä»¬åœ¨ç¬¬ 6 ç« å’Œç¬¬ 7 ç« ä¸­æ‰€åšçš„é‚£æ ·ï¼Œæˆ‘ä»¬å°†ä¾èµ–äº Supabase JS å®¢æˆ·ç«¯å’Œ Piniaã€‚è®©æˆ‘ä»¬çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚
- en: 'First, weâ€™ll install the Supabase JS Client ([https://www.npmjs.com/package/@supabase/supabase-js](https://www.npmjs.com/package/@supabase/supabase-js))
    with the `npm` command:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ `npm` å‘½ä»¤å®‰è£… Supabase JS å®¢æˆ·ç«¯ï¼ˆ[https://www.npmjs.com/package/@supabase/supabase-js](https://www.npmjs.com/package/@supabase/supabase-js)ï¼‰ï¼š
- en: '[PRE6]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Weâ€™ll also create a `./composables` folder with a `supabase.ts` file that has
    the following contents:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜å°†åˆ›å»ºä¸€ä¸ªåŒ…å« `supabase.ts` æ–‡ä»¶çš„ `./composables` æ–‡ä»¶å¤¹ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š
- en: '[PRE7]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Nuxt is set up to scan the `./composables` folder and extract the exports so
    that it supports auto imports for composables as well! Thereâ€™s one caveat: it
    only scans one level and excludes nested folders.'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: Nuxt å·²ç»è®¾ç½®ä¸ºæ‰«æ `./composables` æ–‡ä»¶å¤¹å¹¶æå–å¯¼å‡ºï¼Œä»¥ä¾¿å®ƒæ”¯æŒå¯¹å¯ç»„åˆç»„ä»¶çš„è‡ªåŠ¨å¯¼å…¥ï¼æœ‰ä¸€ä¸ªæ³¨æ„äº‹é¡¹ï¼šå®ƒåªæ‰«æä¸€ä¸ªå±‚çº§ï¼Œå¹¶æ’é™¤åµŒå¥—æ–‡ä»¶å¤¹ã€‚
- en: 'As you can see, we need to set up a `.env` file in the root of our SQA folder
    with the URL and API key that we received when we created our database. The `.env`
    file has the same setup as in *Chapters 6* and *7*:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æ‚¨æ‰€è§ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æˆ‘ä»¬çš„ SQA æ–‡ä»¶å¤¹çš„æ ¹ç›®å½•ä¸­è®¾ç½®ä¸€ä¸ª `.env` æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«æˆ‘ä»¬åœ¨åˆ›å»ºæ•°æ®åº“æ—¶æ”¶åˆ°çš„ URL å’Œ API å¯†é’¥ã€‚`.env`
    æ–‡ä»¶ä¸ç¬¬ 6 ç« å’Œç¬¬ 7 ç« ä¸­çš„è®¾ç½®ç›¸åŒï¼š
- en: '[PRE8]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'With our client in place, we can add Pinia â€“ this time, as a Nuxt module. Run
    the following command in the terminal to install the packages:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬çš„å®¢æˆ·ç«¯å°±ç»ªåï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ  Pinia â€“ è¿™æ¬¡ï¼Œä½œä¸ºä¸€ä¸ª Nuxt æ¨¡å—ã€‚åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…åŒ…ï¼š
- en: '[PRE9]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: If you run into an `ERESOLVE` error during installation, please look at the
    tip provided in the installation guide ([https://pinia.vuejs.org/ssr/nuxt.html#Installation](https://pinia.vuejs.org/ssr/nuxt.html#Installation)).
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ å®‰è£…è¿‡ç¨‹ä¸­é‡åˆ° `ERESOLVE` é”™è¯¯ï¼Œè¯·æŸ¥çœ‹å®‰è£…æŒ‡å—ä¸­æä¾›çš„æç¤ºï¼ˆ[https://pinia.vuejs.org/ssr/nuxt.html#Installation](https://pinia.vuejs.org/ssr/nuxt.html#Installation)ï¼‰ã€‚
- en: 'Weâ€™ll add the module to the `modules` array on the `nuxt.config.ts` property:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†æŠŠæ¨¡å—æ·»åŠ åˆ° `nuxt.config.ts` å±æ€§çš„ `modules` æ•°ç»„ä¸­ï¼š
- en: '[PRE10]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'For an even better coding experience, we can define the auto imports for Pinia
    functions as well by adding the following property to the Nuxt config:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†è·å¾—æ›´å¥½çš„ç¼–ç ä½“éªŒï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡åœ¨ Nuxt é…ç½®ä¸­æ·»åŠ ä»¥ä¸‹å±æ€§æ¥å®šä¹‰ Pinia å‡½æ•°çš„è‡ªåŠ¨å¯¼å…¥ï¼š
- en: '[PRE11]'
  id: totrans-87
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'The `nuxt.config.ts` file will look like this: [https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.2-nuxt.config.ts](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.2-nuxt.config.ts).
    With Supabase and Pinia now in place, we can create our quiz store!'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '`nuxt.config.ts` æ–‡ä»¶å°†çœ‹èµ·æ¥åƒè¿™æ ·ï¼š[https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.2-nuxt.config.ts](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.2-nuxt.config.ts)ã€‚éšç€
    Supabase å’Œ Pinia çš„éƒ¨ç½²å°±ç»ªï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºæˆ‘ä»¬çš„æµ‹éªŒå­˜å‚¨åº“äº†ï¼'
- en: 'For our stores, weâ€™ll create the `./stores` folder with a `quiz.ts` file that
    has the following contents: [https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.3-quiz.ts](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.3-quiz.ts).'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºæˆ‘ä»¬çš„å­˜å‚¨åº“ï¼Œæˆ‘ä»¬å°†åœ¨ `./pages` æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª `./stores` æ–‡ä»¶å¤¹ï¼Œå¹¶åŒ…å«ä¸€ä¸ª `quiz.ts` æ–‡ä»¶ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š[https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.3-quiz.ts](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.3-quiz.ts)ã€‚
- en: If you compare this store to, for instance, the *User Store* from [*Chapter
    6*](B19563_06.xhtml#_idTextAnchor162), youâ€™ll notice that a lot of imports are
    missing. Thatâ€™s because theyâ€™re being handled by Nuxt! Letâ€™s quickly summarize
    the functionalities of the *Quiz Store* since weâ€™re not going to go in depth.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ å°†è¿™ä¸ªå­˜å‚¨åº“ä¸ï¼Œä¾‹å¦‚ï¼Œ[*ç¬¬ 6 ç« *](B19563_06.xhtml#_idTextAnchor162)ä¸­çš„ *ç”¨æˆ·å­˜å‚¨åº“* è¿›è¡Œæ¯”è¾ƒï¼Œä½ ä¼šæ³¨æ„åˆ°ç¼ºå°‘äº†å¾ˆå¤šå¯¼å…¥ã€‚è¿™æ˜¯å› ä¸ºå®ƒä»¬ç”±
    Nuxt å¤„ç†ï¼æ—¢ç„¶æˆ‘ä»¬ä¸ä¼šæ·±å…¥æ¢è®¨ï¼Œè®©æˆ‘ä»¬å¿«é€Ÿæ€»ç»“ä¸€ä¸‹ *æµ‹éªŒå­˜å‚¨åº“* çš„åŠŸèƒ½ã€‚
- en: Our store exposes a list of all quizzes (*line 7*) and the method for retrieving
    that data from Supabase (*lines 11â€“30*). Our store also exposes the properties
    of a single quiz (*line 8*) and the accompanying method of retrieving quiz data
    from the database (*lines 62â€“82*). For both the quiz and answers to the quiz,
    we expose methods to upsert data and remove data. Thatâ€™s the basic management
    we need to continue with.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„å­˜å‚¨åº“å…¬å¼€äº†ä¸€ä¸ªæ‰€æœ‰æµ‹éªŒçš„åˆ—è¡¨ï¼ˆ*ç¬¬ 7 è¡Œ*ï¼‰ä»¥åŠä» Supabase è·å–è¯¥æ•°æ®çš„æ–¹æ³•ï¼ˆ*ç¬¬ 11-30 è¡Œ*ï¼‰ã€‚æˆ‘ä»¬çš„å­˜å‚¨åº“è¿˜å…¬å¼€äº†å•ä¸ªæµ‹éªŒçš„å±æ€§ï¼ˆ*ç¬¬
    8 è¡Œ*ï¼‰ä»¥åŠä»æ•°æ®åº“è·å–æµ‹éªŒæ•°æ®çš„ç›¸å…³æ–¹æ³•ï¼ˆ*ç¬¬ 62-82 è¡Œ*ï¼‰ã€‚å¯¹äºæµ‹éªŒåŠå…¶ç­”æ¡ˆï¼Œæˆ‘ä»¬å…¬å¼€äº†æ›´æ–°å’Œåˆ é™¤æ•°æ®çš„æ–¹æ³•ã€‚è¿™å°±æ˜¯æˆ‘ä»¬éœ€è¦ç»§ç»­çš„åŸºæœ¬ç®¡ç†ã€‚
- en: 'Weâ€™ll revisit our `./pages/quiz/index.vue` file to add management at the quiz
    level: [https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.4-index.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.4-index.vue).'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†é‡æ–°è®¿é—® `./pages/quiz/index.vue` æ–‡ä»¶ï¼Œä»¥åœ¨æµ‹éªŒçº§åˆ«æ·»åŠ ç®¡ç†ï¼š[https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.4-index.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.4-index.vue)ã€‚
- en: 'When you run the development server, you should be able to add a couple of
    new quizzes and have them show up in this overview, as shown in the following
    screenshot:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½ è¿è¡Œå¼€å‘æœåŠ¡å™¨æ—¶ï¼Œä½ åº”è¯¥èƒ½å¤Ÿæ·»åŠ å‡ ä¸ªæ–°çš„æµ‹éªŒï¼Œå¹¶ä¸”å®ƒä»¬å°†æ˜¾ç¤ºåœ¨è¿™ä¸ªæ¦‚è§ˆä¸­ï¼Œå¦‚ä¸‹é¢çš„æˆªå›¾æ‰€ç¤ºï¼š
- en: "![Figure 8.4 â€“ Our application connected to the database via a Pin\uFEFFia\
    \ store](img/B19563_08_04.jpg)"
  id: totrans-94
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ 8.4 â€“ æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºé€šè¿‡ Pinia å­˜å‚¨è¿æ¥åˆ°æ•°æ®åº“](img/B19563_08_04.jpg)'
- en: Figure 8.4 â€“ Our application connected to the database via a Pinia store
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ 8.4 â€“ æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºé€šè¿‡ Pinia å­˜å‚¨è¿æ¥åˆ°æ•°æ®åº“
- en: 'We can now build a similar overview of quizzes for the `/share` route with
    ease by creating a `./share` subfolder in the `./pages` folder, creating an `index.vue`
    file, and pasting the following contents in that file: [https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.5-index.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.5-index.vue).'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡åœ¨ `./pages` æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª `./share` å­æ–‡ä»¶å¤¹ï¼Œåˆ›å»ºä¸€ä¸ª `index.vue` æ–‡ä»¶ï¼Œå¹¶å°†ä»¥ä¸‹å†…å®¹ç²˜è´´åˆ°è¯¥æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°æ„å»ºä¸€ä¸ªç”¨äº
    `/share` è·¯ç”±çš„ç±»ä¼¼æµ‹éªŒæ¦‚è§ˆï¼š[https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.5-index.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.5-index.vue)ã€‚
- en: Weâ€™re getting there! If you noticed the `<nuxt-link />` component in both pages
    we created, you may have noticed its similarities to `<router-link />`. The `<nuxt-link
    />` component is a wrapper for it but also helps Nuxt in determining a map of
    all possible routes. Together with file-based routing, these occurrences and configuration
    of the `<nuxt-link />` components help in determining the configuration of the
    `vue-router` implementation. You may have also noticed that both components link
    to a dynamic route as a child of `/quiz` and `/share`, respectively. Letâ€™s fix
    those!
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æ­£åœ¨æ¥è¿‘ç›®æ ‡ï¼å¦‚æœä½ æ³¨æ„åˆ°äº†æˆ‘ä»¬åˆ›å»ºçš„ä¸¤ä¸ªé¡µé¢ä¸­çš„ `<nuxt-link />` ç»„ä»¶ï¼Œä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°äº†å®ƒä¸ `<router-link />`
    çš„ç›¸ä¼¼ä¹‹å¤„ã€‚`<nuxt-link />` ç»„ä»¶æ˜¯å®ƒçš„åŒ…è£…å™¨ï¼ŒåŒæ—¶ä¹Ÿå¸®åŠ© Nuxt ç¡®å®šæ‰€æœ‰å¯èƒ½çš„è·¯ç”±æ˜ å°„ã€‚ä¸åŸºäºæ–‡ä»¶çš„è·¯ç”±ä¸€èµ·ï¼Œè¿™äº› `<nuxt-link
    />` ç»„ä»¶çš„å‡ºç°å’Œé…ç½®æœ‰åŠ©äºç¡®å®š `vue-router` å®ç°çš„é…ç½®ã€‚ä½ å¯èƒ½ä¹Ÿæ³¨æ„åˆ°äº†ï¼Œè¿™ä¸¤ä¸ªç»„ä»¶åˆ†åˆ«é“¾æ¥åˆ° `/quiz` å’Œ `/share` çš„åŠ¨æ€è·¯ç”±ã€‚è®©æˆ‘ä»¬æ¥ä¿®å¤è¿™äº›é—®é¢˜ï¼
- en: Dynamic file-based routes
  id: totrans-98
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŠ¨æ€åŸºäºæ–‡ä»¶çš„è·¯ç”±
- en: 'Weâ€™ll start with the `./share` route. As you can see by the markup of the link
    component, weâ€™re targeting a route with a parameter:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†ä» `./share` è·¯ç”±å¼€å§‹ã€‚æ­£å¦‚ä½ é€šè¿‡é“¾æ¥ç»„ä»¶çš„æ ‡è®°æ‰€çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬æ­£åœ¨é’ˆå¯¹ä¸€ä¸ªå¸¦æœ‰å‚æ•°çš„è·¯ç”±ï¼š
- en: '[PRE12]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Normally, weâ€™d configure our Vue router configuration with something like the
    following example entry:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: é€šå¸¸ï¼Œæˆ‘ä»¬ä¼šç”¨ä»¥ä¸‹ç¤ºä¾‹é…ç½®æˆ‘ä»¬çš„ Vue è·¯ç”±é…ç½®ï¼š
- en: '[PRE13]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Using Nuxt, passing a parameter is as simple as marking it in the filename.
    Next to the `index.vue` file, weâ€™ll create a file called `[quiz_id].vue`. This
    is the equivalent result of defining the parameter in a route file. It tells Nuxt
    to instruct the router to create a route with a parameter of `quiz_id`. In the
    file, we can read the parameter by utilizing the `useRoute` composable and accessing
    the `params.quiz_id` property!
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ Nuxtï¼Œä¼ é€’å‚æ•°å°±åƒåœ¨æ–‡ä»¶åä¸­æ ‡è®°å®ƒä¸€æ ·ç®€å•ã€‚åœ¨ `index.vue` æ–‡ä»¶æ—è¾¹ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåä¸º `[quiz_id].vue` çš„æ–‡ä»¶ã€‚è¿™æ˜¯åœ¨è·¯ç”±æ–‡ä»¶ä¸­å®šä¹‰å‚æ•°çš„ç­‰æ•ˆç»“æœã€‚å®ƒå‘Šè¯‰
    Nuxt æŒ‡ç¤ºè·¯ç”±å™¨åˆ›å»ºä¸€ä¸ªå¸¦æœ‰ `quiz_id` å‚æ•°çš„è·¯ç”±ã€‚åœ¨æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ `useRoute` å¯ç»„åˆå‡½æ•°å¹¶è®¿é—® `params.quiz_id`
    å±æ€§æ¥è¯»å–å‚æ•°ï¼
- en: 'In the `[quiz_id].vue` file, weâ€™ll add the following contents: [https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.6-%5Bquiz_id%5D.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.6-%5Bquiz_id%5D.vue).'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ `[quiz_id].vue` æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å°†æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š[https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.6-%5Bquiz_id%5D.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.6-%5Bquiz_id%5D.vue).
- en: 'The page itself is nothing fancy: it just generates an anchor link element
    that points to a URL that we will need to build an app for in the final section
    of this chapter!'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: é¡µé¢æœ¬èº«å¹¶æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«ä¹‹å¤„ï¼šå®ƒåªæ˜¯ç”Ÿæˆä¸€ä¸ªæŒ‡å‘ URL çš„é”šç‚¹é“¾æ¥å…ƒç´ ï¼Œè¿™ä¸ª URL æˆ‘ä»¬å°†åœ¨æœ¬ç« çš„æœ€åéƒ¨åˆ†æ„å»ºä¸€ä¸ªåº”ç”¨ï¼
- en: 'To complete the management interface, weâ€™ll create a page for editing questions
    in a certain quiz. First, as a requirement, weâ€™ll create a `./components` folder
    with a `FormQuestion.vue` file that has the following contents: [https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.7-FormQuestion.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.7-FormQuestion.vue).'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†å®Œæˆç®¡ç†ç•Œé¢çš„æ„å»ºï¼Œæˆ‘ä»¬å°†ä¸ºæŸä¸ªæµ‹éªŒä¸­çš„é—®é¢˜ç¼–è¾‘åˆ›å»ºä¸€ä¸ªé¡µé¢ã€‚é¦–å…ˆï¼Œä½œä¸ºä¸€ä¸ªè¦æ±‚ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª `./components` æ–‡ä»¶å¤¹ï¼Œå¹¶åŒ…å«ä¸€ä¸ª
    `FormQuestion.vue` æ–‡ä»¶ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š[https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.7-FormQuestion.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.7-FormQuestion.vue).
- en: In the file, weâ€™re directly mapping a form to the columns in our database. Itâ€™s
    pretty straightforward to set up, although Iâ€™d like to point out the repeating
    setup for the answers (*lines 33â€“48*) where we use a `v-for` directive to generate
    the four answer fields and map each fieldâ€™s `v-model` using dynamic object keys
    (*line 36*).
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬ç›´æ¥å°†è¡¨å•æ˜ å°„åˆ°æˆ‘ä»¬æ•°æ®åº“ä¸­çš„åˆ—ã€‚è®¾ç½®èµ·æ¥ç›¸å½“ç›´æ¥ï¼Œå°½ç®¡æˆ‘æƒ³æŒ‡å‡ºé‡å¤è®¾ç½®ç­”æ¡ˆï¼ˆ*ç¬¬ 33-48 è¡Œ*ï¼‰çš„åœ°æ–¹ï¼Œæˆ‘ä»¬ä½¿ç”¨ `v-for` æŒ‡ä»¤ç”Ÿæˆå››ä¸ªç­”æ¡ˆå­—æ®µï¼Œå¹¶ä½¿ç”¨åŠ¨æ€å¯¹è±¡é”®æ˜ å°„æ¯ä¸ªå­—æ®µçš„
    `v-model`ï¼ˆ*ç¬¬ 36 è¡Œ*ï¼‰ã€‚
- en: 'Now, weâ€™ll create a dynamic route as a descendant of the `quiz` route by creating
    a `[quiz_id].vue` file in the `./pages/quiz` folder: [https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.8-%5Bquiz_id%5D.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.8-%5Bquiz_id%5D.vue).'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œæˆ‘ä»¬å°†é€šè¿‡åœ¨`./pages/quiz`æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª`[quiz_id].vue`æ–‡ä»¶ï¼Œä½œä¸º`quiz`è·¯ç”±çš„åä»£æ¥åˆ›å»ºä¸€ä¸ªåŠ¨æ€è·¯ç”±ï¼š[https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.8-%5Bquiz_id%5D.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.8-%5Bquiz_id%5D.vue).
- en: With these pages finished, you should be able to create one or two small quizzes
    with multiple-choice questions. Before we continue, we need to have at least one,
    but preferably more quizzes in the database, with a couple of multiple-choice
    questions.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å®Œæˆè¿™äº›é¡µé¢åï¼Œä½ åº”è¯¥èƒ½å¤Ÿåˆ›å»ºä¸€ä¸ªæˆ–ä¸¤ä¸ªåŒ…å«å¤šé¡¹é€‰æ‹©é¢˜çš„å°æµ‹éªŒã€‚åœ¨æˆ‘ä»¬ç»§ç»­ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦è‡³å°‘æœ‰ä¸€ä¸ªï¼Œä½†æœ€å¥½æ˜¯æ›´å¤šçš„æµ‹éªŒåœ¨æ•°æ®åº“ä¸­ï¼Œé™„å¸¦å‡ ä¸ªå¤šé¡¹é€‰æ‹©é¢˜ã€‚
- en: Why donâ€™t you try and create a quiz about the Vue ecosystem?
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ ä¸ºä»€ä¹ˆä¸å°è¯•åˆ›å»ºä¸€ä¸ªå…³äºVueç”Ÿæ€ç³»ç»Ÿçš„æµ‹éªŒå‘¢ï¼Ÿ
- en: Setting up the SQS
  id: totrans-111
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è®¾ç½®SQS
- en: Our next order of business is setting up the server that handles the requests
    from one or more clients. This will be a small standalone application and it will
    get its data from our Nuxt server since that already has a connection with the
    database instance. Creating an endpoint in Nuxt is something we havenâ€™t built
    yet because our Nuxt application is only capable of presenting a management app!
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æ¥ä¸‹æ¥çš„ä»»åŠ¡æ˜¯è®¾ç½®å¤„ç†ä¸€ä¸ªæˆ–å¤šä¸ªå®¢æˆ·ç«¯è¯·æ±‚çš„æœåŠ¡å™¨ã€‚è¿™å°†æ˜¯ä¸€ä¸ªå°å‹ç‹¬ç«‹åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”å®ƒå°†ä»æˆ‘ä»¬çš„NuxtæœåŠ¡å™¨è·å–æ•°æ®ï¼Œå› ä¸ºé‚£å·²ç»ä¸æ•°æ®åº“å®ä¾‹å»ºç«‹äº†è¿æ¥ã€‚åœ¨Nuxtä¸­åˆ›å»ºä¸€ä¸ªç«¯ç‚¹æ˜¯æˆ‘ä»¬åœ¨è¿˜æ²¡æœ‰æ„å»ºçš„ï¼Œå› ä¸ºæˆ‘ä»¬çš„Nuxtåº”ç”¨ç¨‹åºåªèƒ½å±•ç¤ºç®¡ç†åº”ç”¨ç¨‹åºï¼
- en: Nuxt API routes
  id: totrans-113
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Nuxt APIè·¯ç”±
- en: As I mentioned previously, the Nuxt app runs as a Node process. When we request
    pages, it acts as a web server that interprets the Vue components and routes to
    return an HTML response. In addition to that, it can also act as a server at the
    same time! Nuxt uses the Nitro server engine ([https://nuxt.com/docs/guide/directory-structure/server](https://nuxt.com/docs/guide/directory-structure/server))
    to process requests on scripts in the `./server` folder. It also supports file-based
    routing and parameters, similar to the `./``pages` folder.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æˆ‘ä¹‹å‰æåˆ°çš„ï¼ŒNuxtåº”ç”¨ç¨‹åºä½œä¸ºNodeè¿›ç¨‹è¿è¡Œã€‚å½“æˆ‘ä»¬è¯·æ±‚é¡µé¢æ—¶ï¼Œå®ƒå……å½“ä¸€ä¸ªè§£æVueç»„ä»¶å’Œè·¯ç”±ä»¥è¿”å›HTMLå“åº”çš„WebæœåŠ¡å™¨ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå®ƒè¿˜å¯ä»¥åŒæ—¶å……å½“æœåŠ¡å™¨ï¼Nuxtä½¿ç”¨NitroæœåŠ¡å™¨å¼•æ“([https://nuxt.com/docs/guide/directory-structure/server](https://nuxt.com/docs/guide/directory-structure/server))æ¥å¤„ç†`./server`æ–‡ä»¶å¤¹ä¸­çš„è„šæœ¬è¯·æ±‚ã€‚å®ƒè¿˜æ”¯æŒåŸºäºæ–‡ä»¶çš„è·¯ç”±å’Œå‚æ•°ï¼Œç±»ä¼¼äº`./pages`æ–‡ä»¶å¤¹ã€‚
- en: 'To server our quizzes as part of a RESTful API, weâ€™ll create the `./server/api/quiz`
    structure in our Nuxt project. In the `quiz` folder, weâ€™ll create an `index.ts`
    file. This will be available on `/api/quiz` requests to the Nuxt URL:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†å°†æµ‹éªŒä½œä¸ºRESTful APIçš„ä¸€éƒ¨åˆ†æ¥æä¾›ï¼Œæˆ‘ä»¬å°†åœ¨æˆ‘ä»¬çš„Nuxté¡¹ç›®ä¸­åˆ›å»º`./server/api/quiz`ç»“æ„ã€‚åœ¨`quiz`æ–‡ä»¶å¤¹ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª`index.ts`æ–‡ä»¶ã€‚è¿™å°†é€šè¿‡Nuxt
    URLçš„`/api/quiz`è¯·æ±‚å¯ç”¨ï¼š
- en: '[PRE14]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Nothing special is going on here. Weâ€™ve added `console.log` with a ğŸ“¦ emoji,
    which will help us analyze the application flow once itâ€™s been created. If your
    development server is running (a restart might be required when adding new files),
    you should be able to request the quiz information via this URL: [http://localhost:3000/api/quiz](http://localhost:3000/api/quiz)`.`'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ²¡æœ‰å‘ç”Ÿä»€ä¹ˆç‰¹åˆ«çš„äº‹æƒ…ã€‚æˆ‘ä»¬æ·»åŠ äº†å¸¦æœ‰ğŸ“¦è¡¨æƒ…ç¬¦å·çš„`console.log`ï¼Œè¿™æœ‰åŠ©äºæˆ‘ä»¬åˆ†æåˆ›å»ºåçš„åº”ç”¨ç¨‹åºæµç¨‹ã€‚å¦‚æœä½ çš„å¼€å‘æœåŠ¡å™¨æ­£åœ¨è¿è¡Œï¼ˆæ·»åŠ æ–°æ–‡ä»¶æ—¶å¯èƒ½éœ€è¦é‡å¯ï¼‰ï¼Œä½ åº”è¯¥èƒ½å¤Ÿé€šè¿‡æ­¤URLè¯·æ±‚æµ‹éªŒä¿¡æ¯ï¼š[http://localhost:3000/api/quiz](http://localhost:3000/api/quiz)ã€‚
- en: 'If weâ€™ve set up our endpoint correctly, we should see something like this in
    the browser. This is the contents of our quiz table in JSON format:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬æ­£ç¡®è®¾ç½®äº†ç«¯ç‚¹ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„å†…å®¹ã€‚è¿™æ˜¯æˆ‘ä»¬çš„æµ‹éªŒè¡¨å†…å®¹çš„JSONæ ¼å¼ï¼š
- en: '![Figure 8.5 â€“ Example of the quiz API server from Nuxt](img/B19563_08_05.jpg)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾8.5 â€“ Nuxtçš„æµ‹éªŒAPIæœåŠ¡å™¨ç¤ºä¾‹](img/B19563_08_05.jpg)'
- en: Figure 8.5 â€“ Example of the quiz API server from Nuxt
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾8.5 â€“ Nuxtçš„æµ‹éªŒAPIæœåŠ¡å™¨ç¤ºä¾‹
- en: 'Weâ€™ll add another entry point using the parameterized file notation. Weâ€™ll
    create a `[id].ts` file next to the `index.ts` file: [https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.9-%5Bid%5D.ts](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.9-%5Bid%5D.ts).'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†ä½¿ç”¨å‚æ•°åŒ–æ–‡ä»¶è¡¨ç¤ºæ³•æ·»åŠ å¦ä¸€ä¸ªå…¥å£ç‚¹ã€‚æˆ‘ä»¬å°†åœ¨`index.ts`æ–‡ä»¶æ—è¾¹åˆ›å»ºä¸€ä¸ª`[id].ts`æ–‡ä»¶ï¼š[https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.9-%5Bid%5D.ts](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.9-%5Bid%5D.ts).
- en: 'Weâ€™re using this endpoint to quickly retrieve all questions and answers and
    the correct answer to be used in our setup. Now that weâ€™re able to retrieve quizzes
    and their details, we can finally build the next part of our setup: the SQS.'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªç«¯ç‚¹æ¥å¿«é€Ÿæ£€ç´¢æ‰€æœ‰é—®é¢˜å’Œç­”æ¡ˆä»¥åŠç”¨äºæˆ‘ä»¬è®¾ç½®çš„æ­£ç¡®ç­”æ¡ˆã€‚ç°åœ¨æˆ‘ä»¬èƒ½å¤Ÿæ£€ç´¢åˆ°æµ‹éªŒåŠå…¶è¯¦ç»†ä¿¡æ¯ï¼Œæˆ‘ä»¬ç»ˆäºå¯ä»¥æ„å»ºè®¾ç½®çš„ä¸‹ä¸€æ­¥ï¼šSQSã€‚
- en: Setting up a basic Node project
  id: totrans-123
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è®¾ç½®åŸºæœ¬çš„Nodeé¡¹ç›®
- en: 'In this section, we wonâ€™t be using any Vue-related software. This part will
    depend mainly on Express ([https://expressjs.com/](https://expressjs.com/)) and
    Socket.io ([https://socket.io/](https://socket.io/)). This means we canâ€™t rely
    on helpful CLI tools to create our project for us. Luckily, itâ€™s not hard. Navigating
    back to the root of our project, weâ€™ll create a new folder called `./sockets`.
    Via the CLI, weâ€™ll run the `npm init` command to define our project, where weâ€™ll
    simply accept all the defaults. Once done, weâ€™ll install Express and Socket.io
    and some TypeScript tooling packages via the CLI:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä¸ä¼šä½¿ç”¨ä»»ä½•ä¸Vueç›¸å…³çš„è½¯ä»¶ã€‚è¿™éƒ¨åˆ†ä¸»è¦ä¾èµ–äºExpress ([https://expressjs.com/](https://expressjs.com/))
    å’ŒSocket.io ([https://socket.io/](https://socket.io/))ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬ä¸èƒ½ä¾èµ–æœ‰ç”¨çš„CLIå·¥å…·æ¥ä¸ºæˆ‘ä»¬åˆ›å»ºé¡¹ç›®ã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™å¹¶ä¸éš¾ã€‚è¿”å›åˆ°æˆ‘ä»¬é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåä¸º`./sockets`çš„æ–°æ–‡ä»¶å¤¹ã€‚é€šè¿‡CLIï¼Œæˆ‘ä»¬å°†è¿è¡Œ`npm
    init`å‘½ä»¤æ¥å®šä¹‰æˆ‘ä»¬çš„é¡¹ç›®ï¼Œæˆ‘ä»¬å°†ç®€å•åœ°æ¥å—æ‰€æœ‰é»˜è®¤è®¾ç½®ã€‚ä¸€æ—¦å®Œæˆï¼Œæˆ‘ä»¬å°†é€šè¿‡CLIå®‰è£…Expressã€Socket.ioå’Œä¸€äº›TypeScriptå·¥å…·åŒ…ï¼š
- en: '[PRE15]'
  id: totrans-125
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Weâ€™ll also create a `tsconfig.json` file in the `./sockets` folder that contains
    the following configuration:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜å°†åœ¨`./sockets`æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª`tsconfig.json`æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä»¥ä¸‹é…ç½®ï¼š
- en: '[PRE16]'
  id: totrans-127
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'For the game mechanics, Iâ€™ve provided a `Quiz` class that we can implement
    without going into any details. Create a `quiz.ts` file with the following contents:
    [https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.10-quiz.ts](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.10-quiz.ts).'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºæ¸¸æˆæœºåˆ¶ï¼Œæˆ‘æä¾›äº†ä¸€ä¸ª`Quiz`ç±»ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°å®ƒè€Œä¸å¿…æ·±å…¥äº†è§£ç»†èŠ‚ã€‚åˆ›å»ºä¸€ä¸ªåä¸º`quiz.ts`çš„æ–‡ä»¶ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š[https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.10-quiz.ts](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.10-quiz.ts)ã€‚
- en: 'Next, we can work on the socket connection. Weâ€™ll create an `index.ts` file
    in the `./sockets` folder with the following contents:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥å¤„ç†å¥—æ¥å­—è¿æ¥ã€‚æˆ‘ä»¬å°†åœ¨`./sockets`æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªåä¸º`index.ts`çš„æ–‡ä»¶ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š
- en: '[PRE17]'
  id: totrans-130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'This code scaffolds a blank server. As you can see, weâ€™ve imported the `Quiz`
    class and used it to instantiate a game on the server. `clientAppUrl` is important:
    when using sockets, the **Cross-Origin Resource Sharing** (**CORS**; [https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS))
    policy will block incoming traffic coming from localhost, unless its origins are
    provided to the server.'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ®µä»£ç æ„å»ºäº†ä¸€ä¸ªç©ºç™½æœåŠ¡å™¨ã€‚æ­£å¦‚ä½ æ‰€è§ï¼Œæˆ‘ä»¬å·²ç»å¯¼å…¥äº†`Quiz`ç±»ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥åœ¨æœåŠ¡å™¨ä¸Šå®ä¾‹åŒ–ä¸€ä¸ªæ¸¸æˆã€‚`clientAppUrl`å¾ˆé‡è¦ï¼šå½“ä½¿ç”¨å¥—æ¥å­—æ—¶ï¼Œ**è·¨æºèµ„æºå…±äº«**ï¼ˆ**CORS**ï¼›[https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS)ï¼‰ç­–ç•¥å°†é˜»æ­¢æ¥è‡ªlocalhostçš„ä¼ å…¥æµé‡ï¼Œé™¤éå…¶æ¥æºè¢«æä¾›ç»™æœåŠ¡å™¨ã€‚
- en: 'We do have another problem now, though: the `Quiz` class expects data that
    comes from our Nuxt server, remember? We need to have the Nuxt server running
    in tandem with the SQS. We can do this manually, in separate terminal windows,
    but we can also script the boot process for more convenience. After all, once
    our work on the SQS is done, we need to be able to run another app to act as a
    client!'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: å°½ç®¡å¦‚æ­¤ï¼Œæˆ‘ä»¬ç°åœ¨åˆé‡åˆ°äº†å¦ä¸€ä¸ªé—®é¢˜ï¼š`Quiz`ç±»æœŸæœ›ä»æˆ‘ä»¬çš„NuxtæœåŠ¡å™¨è·å–æ•°æ®ï¼Œè®°å¾—å—ï¼Ÿæˆ‘ä»¬éœ€è¦è®©NuxtæœåŠ¡å™¨ä¸SQSåŒæ—¶è¿è¡Œã€‚æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨åœ¨å•ç‹¬çš„ç»ˆç«¯çª—å£ä¸­è¿™æ ·åšï¼Œä½†ä¹Ÿå¯ä»¥ç¼–å†™è„šæœ¬æ¥è‡ªåŠ¨åŒ–å¯åŠ¨è¿‡ç¨‹ï¼Œä»¥ä¾¿æ›´æ–¹ä¾¿ã€‚æ¯•ç«Ÿï¼Œä¸€æ—¦æˆ‘ä»¬å®Œæˆå¯¹SQSçš„å·¥ä½œï¼Œæˆ‘ä»¬éœ€è¦èƒ½å¤Ÿè¿è¡Œå¦ä¸€ä¸ªåº”ç”¨ç¨‹åºæ¥å……å½“å®¢æˆ·ç«¯ï¼
- en: Executing scripts in parallel
  id: totrans-133
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¹¶è¡Œæ‰§è¡Œè„šæœ¬
- en: 'In this section, weâ€™ll focus on the root folder of our project, from where
    weâ€™ll trigger the scripts in sub-folders. Weâ€™ll navigate to the root with the
    terminal and set up another Node project using `npm init`, accepting the defaults.
    Once weâ€™re done, weâ€™ll install some helper packages:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†å…³æ³¨æˆ‘ä»¬é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œä»è¿™é‡Œæˆ‘ä»¬å°†è§¦å‘å­ç›®å½•ä¸­çš„è„šæœ¬ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ç»ˆç«¯å¯¼èˆªåˆ°æ ¹ç›®å½•ï¼Œå¹¶ä½¿ç”¨`npm init`è®¾ç½®å¦ä¸€ä¸ªNodeé¡¹ç›®ï¼Œæ¥å—é»˜è®¤è®¾ç½®ã€‚ä¸€æ—¦å®Œæˆï¼Œæˆ‘ä»¬å°†å®‰è£…ä¸€äº›è¾…åŠ©åŒ…ï¼š
- en: '[PRE18]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Weâ€™ll also create a file called `open.mjs` with the following contents:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜å°†åˆ›å»ºä¸€ä¸ªåä¸º`open.mjs`çš„æ–‡ä»¶ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š
- en: '[PRE19]'
  id: totrans-137
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'In this file, weâ€™re using the `open` package to automatically open a browser
    window. To make the status more recognizable in the console, we use `chalk` to
    add color to certain parts of the logs. Now, when we open `package.json`, we can
    change the `scripts` property so that it matches the following sample:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ `open` åŒ…æ¥è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨çª—å£ã€‚ä¸ºäº†ä½¿æ§åˆ¶å°ä¸­çš„çŠ¶æ€æ›´æ˜“äºè¯†åˆ«ï¼Œæˆ‘ä»¬ä½¿ç”¨ `chalk` ä¸ºæ—¥å¿—çš„æŸäº›éƒ¨åˆ†æ·»åŠ é¢œè‰²ã€‚ç°åœ¨ï¼Œå½“æˆ‘ä»¬æ‰“å¼€
    `package.json` æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ”¹ `scripts` å±æ€§ï¼Œä½¿å…¶ä¸ä»¥ä¸‹ç¤ºä¾‹åŒ¹é…ï¼š
- en: '[PRE20]'
  id: totrans-139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'So, whatâ€™s happening here? The `npm-run-all` command triggers multiple commands
    in parallel mode â€“ in our case, all scripts that are prefixed with `dev`:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: é‚£ä¹ˆï¼Œè¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ`npm-run-all` å‘½ä»¤ä»¥å¹¶è¡Œæ¨¡å¼è§¦å‘å¤šä¸ªå‘½ä»¤â€”â€”åœ¨æˆ‘ä»¬çš„æƒ…å†µä¸‹ï¼Œæ‰€æœ‰ä»¥ `dev` ä¸ºå‰ç¼€çš„è„šæœ¬ï¼š
- en: The `dev:sockets` script uses `nodemon` to run and watch for file changes in
    our socket project folder
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`dev:sockets` è„šæœ¬ä½¿ç”¨ `nodemon` åœ¨æˆ‘ä»¬çš„å¥—æ¥å­—é¡¹ç›®æ–‡ä»¶å¤¹ä¸­è¿è¡Œå¹¶ç›‘è§†æ–‡ä»¶æ›´æ”¹'
- en: The `dev:server` script opens the Nuxt server from its folder
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`dev:server` è„šæœ¬ä»å…¶æ–‡ä»¶å¤¹ä¸­æ‰“å¼€ Nuxt æœåŠ¡å™¨'
- en: The `dev:open` script executes the `open.mjs` script, which, in turn, opens
    a browser window on the predefined URL for the SQA
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`dev:open` è„šæœ¬æ‰§è¡Œ `open.mjs` è„šæœ¬ï¼Œè¯¥è„šæœ¬åè¿‡æ¥ä¼šåœ¨é¢„å®šä¹‰çš„ SQA URL ä¸Šæ‰“å¼€æµè§ˆå™¨çª—å£'
- en: If you donâ€™t want the SQA to open every time you start the script, you could
    remove the `dev:open` script or remove the entry from the `urls` constant in the
    `open.mjs` file.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ ä¸æƒ³æ¯æ¬¡å¯åŠ¨è„šæœ¬æ—¶éƒ½æ‰“å¼€ SQAï¼Œä½ å¯ä»¥åˆ é™¤ `dev:open` è„šæœ¬ï¼Œæˆ–è€…ä» `open.mjs` æ–‡ä»¶ä¸­çš„ `urls` å¸¸é‡ä¸­åˆ é™¤æ¡ç›®ã€‚
- en: At least we can now control the execution of multiple scripts with a single
    command. If we run `npm run dev` from the root of the project, it will automatically
    start the Nuxt server as well as the SQS!
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: è‡³å°‘æˆ‘ä»¬ç°åœ¨å¯ä»¥ç”¨ä¸€ä¸ªå‘½ä»¤æ§åˆ¶å¤šä¸ªè„šæœ¬çš„æ‰§è¡Œã€‚å¦‚æœæˆ‘ä»¬ä»é¡¹ç›®çš„æ ¹ç›®å½•è¿è¡Œ `npm run dev`ï¼Œå®ƒå°†è‡ªåŠ¨å¯åŠ¨ Nuxt æœåŠ¡å™¨ä»¥åŠ SQSï¼
- en: Letâ€™s take a step back and explain why a regular endpoint is not sufficient,
    as well as why weâ€™re building a complete socket server as a layer between the
    server and the client(s).
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬é€€ä¸€æ­¥ï¼Œè§£é‡Šä¸ºä»€ä¹ˆå¸¸è§„ç«¯ç‚¹ä¸è¶³ä»¥æ»¡è¶³éœ€æ±‚ï¼Œä»¥åŠä¸ºä»€ä¹ˆæˆ‘ä»¬æ­£åœ¨æ„å»ºä¸€ä¸ªå®Œæ•´çš„å¥—æ¥å­—æœåŠ¡å™¨ä½œä¸ºæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´çš„å±‚ã€‚
- en: Why sockets?
  id: totrans-147
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä¸ºä»€ä¹ˆä½¿ç”¨å¥—æ¥å­—ï¼Ÿ
- en: Weâ€™re using a socket server to act as the host of our quiz app. Sockets have
    the advantage over RESTful connections in that data transmission is bidirectional
    by default and a socket connection is stateful and persistent. This makes sockets
    ideal for applications that depend on instant updates, such as chat applications
    or, as in our case, online games (especially those that support collaboration
    or competition).
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨å¥—æ¥å­—æœåŠ¡å™¨ä½œä¸ºæˆ‘ä»¬çš„æµ‹éªŒåº”ç”¨ç¨‹åºçš„ä¸»æœºã€‚ä¸ RESTful è¿æ¥ç›¸æ¯”ï¼Œå¥—æ¥å­—çš„ä¼˜åŠ¿åœ¨äºæ•°æ®ä¼ è¾“é»˜è®¤æ˜¯åŒå‘çš„ï¼Œå¥—æ¥å­—è¿æ¥æ˜¯æœ‰çŠ¶æ€çš„å’ŒæŒä¹…çš„ã€‚è¿™ä½¿å¾—å¥—æ¥å­—éå¸¸é€‚åˆä¾èµ–äºå³æ—¶æ›´æ–°çš„åº”ç”¨ç¨‹åºï¼Œä¾‹å¦‚èŠå¤©åº”ç”¨ç¨‹åºï¼Œæˆ–è€…åœ¨æˆ‘ä»¬çš„æƒ…å†µä¸‹ï¼Œåœ¨çº¿æ¸¸æˆï¼ˆå°¤å…¶æ˜¯é‚£äº›æ”¯æŒåä½œæˆ–ç«äº‰çš„æ¸¸æˆï¼‰ã€‚
- en: Weâ€™re starting a socket server where clients can connect to. A handshake takes
    place between the server and client on connecting, which establishes the agreements
    and protocol between the two. This handshake allows the server to identify the
    client, which is useful when weâ€™re dealing with multiple clients but want to target
    individuals.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æ­£åœ¨å¯åŠ¨ä¸€ä¸ªå®¢æˆ·ç«¯å¯ä»¥è¿æ¥çš„å¥—æ¥å­—æœåŠ¡å™¨ã€‚åœ¨è¿æ¥æ—¶ï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´è¿›è¡Œæ¡æ‰‹ï¼Œè¿™å»ºç«‹äº†ä¸¤è€…ä¹‹é—´çš„åè®®å’Œçº¦å®šã€‚è¿™ä¸ªæ¡æ‰‹å…è®¸æœåŠ¡å™¨è¯†åˆ«å®¢æˆ·ç«¯ï¼Œè¿™åœ¨å¤„ç†å¤šä¸ªå®¢æˆ·ç«¯ä½†æƒ³è¦é’ˆå¯¹ä¸ªä½“æ—¶éå¸¸æœ‰ç”¨ã€‚
- en: Once the connection has been established, both the client and server can send
    events with context. The server can broadcast to all clients or an individual.
    The clients only send events to the server. Depending on the event and the context,
    we can process the event.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€æ—¦å»ºç«‹äº†è¿æ¥ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½å¯ä»¥å‘é€å¸¦æœ‰ä¸Šä¸‹æ–‡çš„äº‹ä»¶ã€‚æœåŠ¡å™¨å¯ä»¥å‘æ‰€æœ‰å®¢æˆ·ç«¯æˆ–å•ä¸ªå®¢æˆ·ç«¯å¹¿æ’­ã€‚å®¢æˆ·ç«¯åªå‘æœåŠ¡å™¨å‘é€äº‹ä»¶ã€‚æ ¹æ®äº‹ä»¶å’Œä¸Šä¸‹æ–‡ï¼Œæˆ‘ä»¬å¯ä»¥å¤„ç†äº‹ä»¶ã€‚
- en: Using Sockets.io, we can broadcast events using `io.emit('event', context)`
    and listen to events using `io.on('event')`.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ Sockets.ioï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `io.emit('event', context)` å¹¿æ’­äº‹ä»¶ï¼Œå¹¶ä½¿ç”¨ `io.on('event')` ç›‘å¬äº‹ä»¶ã€‚
- en: 'In our application, weâ€™re going to see both methods in action on both the server
    and the client: the server handles the information being sent to clients and receives
    answers given by a client â€“ weâ€™ll even use it to control the navigational state
    of the client app! From the clientâ€™s side, weâ€™ll listen to the sent events and
    use the sockets to send answers to our quizâ€™s answers.'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¸Šä¸¤ç§æ–¹æ³•çš„å®é™…åº”ç”¨ï¼šæœåŠ¡å™¨å¤„ç†å‘é€ç»™å®¢æˆ·ç«¯çš„ä¿¡æ¯ï¼Œå¹¶æ¥æ”¶å®¢æˆ·ç«¯ç»™å‡ºçš„ç­”æ¡ˆâ€”â€”æˆ‘ä»¬ç”šè‡³ä¼šç”¨å®ƒæ¥æ§åˆ¶å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºçš„å¯¼èˆªçŠ¶æ€ï¼ä»å®¢æˆ·ç«¯æ–¹é¢æ¥çœ‹ï¼Œæˆ‘ä»¬å°†ç›‘å¬å‘é€çš„äº‹ä»¶ï¼Œå¹¶ä½¿ç”¨å¥—æ¥å­—å‘æˆ‘ä»¬çš„æµ‹éªŒç­”æ¡ˆå‘é€å›å¤ã€‚
- en: Completing the SQS
  id: totrans-153
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å®ŒæˆSQS
- en: 'We can finalize the SQS by replacing the contents of the `./index.ts` file
    in the `./sockets` folder with the following: [https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.11-index.ts](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.11-index.ts).'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†`./sockets`æ–‡ä»¶å¤¹ä¸­çš„`./index.ts`æ–‡ä»¶çš„å†…å®¹æ›¿æ¢ä¸ºä»¥ä¸‹å†…å®¹æ¥æœ€ç»ˆç¡®å®šSQSï¼š[https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.11-index.ts](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.11-index.ts).
- en: 'Weâ€™ve added the mechanics for communication now. The socket server gets initialized
    on *lines 27â€“76*. In the socket connection event, we have defined all the events
    the server needs to listen to:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å·²ç»æ·»åŠ äº†é€šä¿¡çš„æœºåˆ¶ã€‚å¥—æ¥å­—æœåŠ¡å™¨åœ¨*ç¬¬27-76è¡Œ*åˆå§‹åŒ–ã€‚åœ¨å¥—æ¥å­—è¿æ¥äº‹ä»¶ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†æœåŠ¡å™¨éœ€è¦ç›‘å¬çš„æ‰€æœ‰äº‹ä»¶ï¼š
- en: When a player has joined (*line 17*), the server signals other players with
    the current status (*lines 32,* *130 â€“133*)
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å½“ç©å®¶åŠ å…¥æ—¶ï¼ˆ*ç¬¬17è¡Œ*ï¼‰ï¼ŒæœåŠ¡å™¨é€šè¿‡å½“å‰çŠ¶æ€é€šçŸ¥å…¶ä»–ç©å®¶ï¼ˆ*ç¬¬32è¡Œï¼Œç¬¬130-133è¡Œ*ï¼‰
- en: When a player is ready to start playing (*lines 37â€“41*), a player is added to
    the current game (*line 38*), and the other players are notified
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å½“ç©å®¶å‡†å¤‡å¥½å¼€å§‹æ¸¸æˆæ—¶ï¼ˆ*ç¬¬37-41è¡Œ*ï¼‰ï¼Œç©å®¶è¢«æ·»åŠ åˆ°å½“å‰æ¸¸æˆä¸­ï¼ˆ*ç¬¬38è¡Œ*ï¼‰ï¼Œå¹¶ä¸”é€šçŸ¥å…¶ä»–ç©å®¶
- en: If a player answers a question during a game (*lines 43â€“50*), the answer is
    processed and, if needed, the playerâ€™s score is updated
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœç©å®¶åœ¨æ¸¸æˆè¿‡ç¨‹ä¸­å›ç­”é—®é¢˜ï¼ˆ*ç¬¬43-50è¡Œ*ï¼‰ï¼Œåˆ™å¤„ç†ç­”æ¡ˆï¼Œå¹¶åœ¨éœ€è¦æ—¶æ›´æ–°ç©å®¶çš„åˆ†æ•°
- en: When a player selects a quiz (*lines 55â€“60*), the server queries the Nuxt server
    for the questions and updates it to the current game (*line 59*)
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å½“ç©å®¶é€‰æ‹©æµ‹éªŒæ—¶ï¼ˆ*ç¬¬55-60è¡Œ*ï¼‰ï¼ŒæœåŠ¡å™¨æŸ¥è¯¢NuxtæœåŠ¡å™¨ä»¥è·å–é—®é¢˜ï¼Œå¹¶å°†å…¶æ›´æ–°åˆ°å½“å‰æ¸¸æˆä¸­ï¼ˆ*ç¬¬59è¡Œ*ï¼‰
- en: When the quiz is started (*lines 62â€“66*), the current question is set to the
    first of the collection and the question is sent to the player (*lines 65,* *82â€“88*)
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å½“æµ‹éªŒå¼€å§‹æ—¶ï¼ˆ*ç¬¬62-66è¡Œ*ï¼‰ï¼Œå½“å‰é—®é¢˜è¢«è®¾ç½®ä¸ºé›†åˆä¸­çš„ç¬¬ä¸€ä¸ªï¼Œå¹¶å°†é—®é¢˜å‘é€ç»™ç©å®¶ï¼ˆ*ç¬¬65è¡Œï¼Œç¬¬82-88è¡Œ*ï¼‰
- en: 'We have some options to send players to certain views:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æœ‰ä¸€äº›é€‰é¡¹å¯ä»¥å°†ç©å®¶å‘é€åˆ°ç‰¹å®šçš„è§†å›¾ï¼š
- en: Thereâ€™s a method to send a question to the players (*lines 82â€“88*)
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥å‘ç©å®¶å‘é€é—®é¢˜ï¼ˆ*ç¬¬82-88è¡Œ*ï¼‰
- en: In between every third question, we can show the current score (*lines 114â€“118*)
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨æ¯ç¬¬ä¸‰ä¸ªé—®é¢˜ä¹‹é—´ï¼Œæˆ‘ä»¬å¯ä»¥æ˜¾ç¤ºå½“å‰å¾—åˆ†ï¼ˆ*ç¬¬114-118è¡Œ*ï¼‰
- en: Once the quiz has ended, we direct players to the final score (*lines 120â€“125*)
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸€æ—¦æµ‹éªŒç»“æŸï¼Œæˆ‘ä»¬å°†ç©å®¶å¼•å¯¼åˆ°æœ€ç»ˆå¾—åˆ†ï¼ˆ*ç¬¬120-125è¡Œ*ï¼‰
- en: As part of the game mechanics, answering the questions is time-based. The timer
    runs internally as part of the game, but we emit events once a timer has started
    (*lines 138â€“145*) or when it has ended (*lines 147â€“150*).
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œä¸ºæ¸¸æˆæœºåˆ¶çš„ä¸€éƒ¨åˆ†ï¼Œå›ç­”é—®é¢˜æ˜¯åŸºäºæ—¶é—´çš„ã€‚è®¡æ—¶å™¨ä½œä¸ºæ¸¸æˆçš„ä¸€éƒ¨åˆ†å†…éƒ¨è¿è¡Œï¼Œä½†æˆ‘ä»¬ä¼šåœ¨è®¡æ—¶å™¨å¼€å§‹æ—¶ï¼ˆ*ç¬¬138-145è¡Œ*ï¼‰æˆ–ç»“æŸæ—¶ï¼ˆ*ç¬¬147-150è¡Œ*ï¼‰å‘å‡ºäº‹ä»¶ã€‚
- en: With all of this, we have the basic needs for an interactive quiz. Itâ€™s not
    very robust, mind you, but it functions well enough to get our point across.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡æ‰€æœ‰è¿™äº›ï¼Œæˆ‘ä»¬æœ‰äº†äº¤äº’å¼æµ‹éªŒçš„åŸºæœ¬éœ€æ±‚ã€‚è¯·æ³¨æ„ï¼Œå®ƒå¹¶ä¸éå¸¸å¥å£®ï¼Œä½†è¶³ä»¥æœ‰æ•ˆåœ°ä¼ è¾¾æˆ‘ä»¬çš„è§‚ç‚¹ã€‚
- en: In the final section, weâ€™re going to create an app to complete this whole quiz
    application platform!
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ€åä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºæ¥å®Œæˆæ•´ä¸ªæµ‹éªŒåº”ç”¨å¹³å°ï¼
- en: Creating the CQA
  id: totrans-168
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: åˆ›å»ºCQA
- en: 'To wrap it all up, weâ€™re going to create the client app as a Vuetify project
    in our projectsâ€™ root folder. Letâ€™s navigate to the root folder by using the terminal
    and typing `npm create vuetify` to begin the installation. Weâ€™ll use the following
    settings:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†æ€»ç»“æ‰€æœ‰å†…å®¹ï¼Œæˆ‘ä»¬å°†åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºä½œä¸ºVuetifyé¡¹ç›®ã€‚è®©æˆ‘ä»¬é€šè¿‡ç»ˆç«¯å¯¼èˆªåˆ°æ ¹ç›®å½•ï¼Œå¹¶è¾“å…¥`npm create vuetify`ä»¥å¼€å§‹å®‰è£…ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹è®¾ç½®ï¼š
- en: '`app` as the projectâ€™s name'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`app`ä½œä¸ºé¡¹ç›®çš„åç§°'
- en: For the preset, weâ€™ll choose the default of `Base (``Vuetify, VueRouter)`
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¹äºé¢„è®¾ï¼Œæˆ‘ä»¬å°†é€‰æ‹©é»˜è®¤çš„`Base (Vuetify, VueRouter)`
- en: Weâ€™ll select TypeScript
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†é€‰æ‹©TypeScript
- en: To install dependencies, weâ€™ll select `npm`
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®‰è£…ä¾èµ–é¡¹æ—¶ï¼Œæˆ‘ä»¬å°†é€‰æ‹©`npm`
- en: Once the installation completes, we can open the folder in our IDE to start
    editing.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥æ‰“å¼€æ–‡ä»¶å¤¹å¹¶åœ¨æˆ‘ä»¬çš„IDEä¸­å¼€å§‹ç¼–è¾‘ã€‚
- en: First, weâ€™ll make some changes to the `vite.config.ts` file, which helps our
    app to work in our multi-app environment. Weâ€™ll add a new property called `clearScreen`
    with a value of `false`. This will prevent the process from clearing the logs
    (which will also contain our serversâ€™ logs). We can simply add it at the bottom
    of the file.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œæˆ‘ä»¬å°†å¯¹`vite.config.ts`æ–‡ä»¶è¿›è¡Œä¸€äº›ä¿®æ”¹ï¼Œè¿™æœ‰åŠ©äºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåœ¨å¤šåº”ç”¨ç¯å¢ƒä¸­å·¥ä½œã€‚æˆ‘ä»¬å°†æ·»åŠ ä¸€ä¸ªåä¸º`clearScreen`çš„æ–°å±æ€§ï¼Œå…¶å€¼ä¸º`false`ã€‚è¿™å°†é˜²æ­¢è¿›ç¨‹æ¸…é™¤æ—¥å¿—ï¼ˆå…¶ä¸­ä¹Ÿå°†åŒ…å«æˆ‘ä»¬çš„æœåŠ¡å™¨æ—¥å¿—ï¼‰ã€‚æˆ‘ä»¬åªéœ€åœ¨æ–‡ä»¶åº•éƒ¨ç®€å•æ·»åŠ å³å¯ã€‚
- en: 'Next, weâ€™ll locate the `server` and `port` properties and change `port` to
    the new value â€“ that is, `5173` (this corresponds to the CORS setting of our socket
    server). This prevents the Vuetify application from trying to occupy the same
    port as our Nuxt application! The bottom of the `vite.config.ts` file should resemble
    the following code:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å®šä½`server`å’Œ`port`å±æ€§ï¼Œå¹¶å°†`port`æ›´æ”¹ä¸ºæ–°å€¼â€”â€”å³`5173`ï¼ˆè¿™å¯¹åº”äºæˆ‘ä»¬çš„socketæœåŠ¡å™¨çš„CORSè®¾ç½®ï¼‰ã€‚è¿™é˜²æ­¢äº†Vuetifyåº”ç”¨ç¨‹åºå°è¯•å ç”¨ä¸æˆ‘ä»¬çš„Nuxtåº”ç”¨ç¨‹åºç›¸åŒçš„ç«¯å£ï¼`vite.config.ts`æ–‡ä»¶çš„åº•éƒ¨åº”è¯¥ç±»ä¼¼äºä»¥ä¸‹ä»£ç ï¼š
- en: '[PRE21]'
  id: totrans-177
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'Before we continue working on the app, we will add our client app to our main
    development script. Letâ€™s open the `package.json` file from our projectâ€™s root
    and add a script to run our Vuetify development script:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬ç»§ç»­å¯¹åº”ç”¨ç¨‹åºè¿›è¡Œå·¥ä½œä¹‹å‰ï¼Œæˆ‘ä»¬å°†æŠŠæˆ‘ä»¬çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºæ·»åŠ åˆ°æˆ‘ä»¬çš„ä¸»è¦å¼€å‘è„šæœ¬ä¸­ã€‚è®©æˆ‘ä»¬ä»é¡¹ç›®æ ¹ç›®å½•æ‰“å¼€`package.json`æ–‡ä»¶å¹¶æ·»åŠ ä¸€ä¸ªè¿è¡ŒVuetifyå¼€å‘è„šæœ¬çš„è„šæœ¬ï¼š
- en: '[PRE22]'
  id: totrans-179
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Regarding the `open.mjs` file, we will add a URL that will automatically open
    the browser as well. Weâ€™ll give it a timeout of `5000` milliseconds because it
    needs to wait for Nuxt and the socket server to have been initialized:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: å…³äº`open.mjs`æ–‡ä»¶ï¼Œæˆ‘ä»¬å°†æ·»åŠ ä¸€ä¸ªURLï¼Œè¯¥URLå°†è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ã€‚æˆ‘ä»¬å°†ç»™å®ƒä¸€ä¸ª`5000`æ¯«ç§’çš„è¶…æ—¶æ—¶é—´ï¼Œå› ä¸ºå®ƒéœ€è¦ç­‰å¾…Nuxtå’ŒsocketæœåŠ¡å™¨åˆå§‹åŒ–å®Œæˆï¼š
- en: '[PRE23]'
  id: totrans-181
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: Now, we can boot the app from the projectsâ€™ root by using the `npm run dev:client`
    command. We can also start up all of our scripts at once using the `npm run dev`
    command from the root of the project. This is very handy when working on features
    of the app since the app by itself is very reliant on the other entities running.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨`npm run dev:client`å‘½ä»¤ä»é¡¹ç›®çš„æ ¹ç›®å½•å¯åŠ¨åº”ç”¨ç¨‹åºã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡åœ¨é¡¹ç›®æ ¹ç›®å½•ä½¿ç”¨`npm run dev`å‘½ä»¤ä¸€æ¬¡æ€§å¯åŠ¨æ‰€æœ‰è„šæœ¬ã€‚å½“æˆ‘ä»¬åœ¨åº”ç”¨ç¨‹åºçš„åŠŸèƒ½ä¸Šå·¥ä½œæ—¶ï¼Œè¿™éå¸¸æ–¹ä¾¿ï¼Œå› ä¸ºåº”ç”¨ç¨‹åºæœ¬èº«éå¸¸ä¾èµ–äºå…¶ä»–æ­£åœ¨è¿è¡Œçš„å®ä½“ã€‚
- en: Setting up the app
  id: totrans-183
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è®¾ç½®åº”ç”¨ç¨‹åº
- en: 'Weâ€™ll begin by setting up the routes and views for our app. Weâ€™ll move back
    to our app folder to make some changes to the `./src/router/index.ts` file: [https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.12-index.ts](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.12-index.ts).'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†é¦–å…ˆè®¾ç½®åº”ç”¨ç¨‹åºçš„è·¯ç”±å’Œè§†å›¾ã€‚æˆ‘ä»¬å°†å›åˆ°åº”ç”¨ç¨‹åºæ–‡ä»¶å¤¹ï¼Œå¯¹`./src/router/index.ts`æ–‡ä»¶è¿›è¡Œä¸€äº›ä¿®æ”¹ï¼š[https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.12-index.ts](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.12-index.ts)ã€‚
- en: 'Now, for all those routes, weâ€™ll add a separate view Vue component in the `./src/views`
    folder. Weâ€™ll use the following template as a basis (replace the title in the
    template with a corresponding one for that view):'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œå¯¹äºæ‰€æœ‰è¿™äº›è·¯ç”±ï¼Œæˆ‘ä»¬å°†åœ¨`./src/views`æ–‡ä»¶å¤¹ä¸­æ·»åŠ ä¸€ä¸ªå•ç‹¬çš„è§†å›¾Vueç»„ä»¶ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹æ¨¡æ¿ä½œä¸ºåŸºç¡€ï¼ˆå°†æ¨¡æ¿ä¸­çš„æ ‡é¢˜æ›¿æ¢ä¸ºç›¸åº”è§†å›¾çš„æ ‡é¢˜ï¼‰ï¼š
- en: '[PRE24]'
  id: totrans-186
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'In the end, youâ€™ll end up with the following views:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åï¼Œä½ å°†å¾—åˆ°ä»¥ä¸‹è§†å›¾ï¼š
- en: '![Figure 8.6 â€“ Newly created views to match our routes](img/B19563_08_06.jpg)'
  id: totrans-188
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾8.6 â€“ ä¸æˆ‘ä»¬çš„è·¯ç”±åŒ¹é…çš„æ–°åˆ›å»ºçš„è§†å›¾](img/B19563_08_06.jpg)'
- en: Figure 8.6 â€“ Newly created views to match our routes
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾8.6 â€“ ä¸æˆ‘ä»¬çš„è·¯ç”±åŒ¹é…çš„æ–°åˆ›å»ºçš„è§†å›¾
- en: 'Weâ€™ll also simplify the layout by replacing the contents of `./src/layouts/default.vue`
    with the following:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜å°†é€šè¿‡ç”¨ä»¥ä¸‹å†…å®¹æ›¿æ¢`./src/layouts/default.vue`ä¸­çš„å†…å®¹æ¥ç®€åŒ–å¸ƒå±€ï¼š
- en: '[PRE25]'
  id: totrans-191
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: We can delete the `AppBar.vue` and `View.vue` files from the folder as well.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜å¯ä»¥ä»æ–‡ä»¶å¤¹ä¸­åˆ é™¤`AppBar.vue`å’Œ`View.vue`æ–‡ä»¶ã€‚
- en: In the next step, weâ€™ll work on adding a connection to our server.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¸‹ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬å°†ç€æ‰‹æ·»åŠ åˆ°æˆ‘ä»¬çš„æœåŠ¡å™¨çš„è¿æ¥ã€‚
- en: Adding the socket client
  id: totrans-194
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ·»åŠ socketå®¢æˆ·ç«¯
- en: 'At this point, itâ€™s time to add the socket client to our app project. In the
    `./app` root folder, install the package by typing the following command:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ˜¯æ—¶å€™å°†socketå®¢æˆ·ç«¯æ·»åŠ åˆ°æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºé¡¹ç›®ä¸­äº†ã€‚åœ¨`./app`æ ¹æ–‡ä»¶å¤¹ä¸­ï¼Œé€šè¿‡è¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…åŒ…ï¼š
- en: '[PRE26]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'To use Socket.io in our app, weâ€™ll create a file called `sockets.ts` in the
    `./src` folder with the following contents: [https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.13-sockets.ts](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.13-sockets.ts).'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: è¦åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨Socket.ioï¼Œæˆ‘ä»¬å°†åœ¨`./src`æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªåä¸º`sockets.ts`çš„æ–‡ä»¶ï¼Œå¹¶åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š[https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.13-sockets.ts](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.13-sockets.ts)ã€‚
- en: This file will handle the connection from the socket server and export the connection
    as a constant (*line 6*). In this file, weâ€™ll also store and expose the data weâ€™re
    receiving in a single object (*lines 18â€“29*). Since the object has multiple levels,
    weâ€™ll use `reactive` over `ref` because of its deep reactive model ([https://vuejs.org/api/reactivity-core.html#reactive](https://vuejs.org/api/reactivity-core.html#reactive)).
    This `state` will propagate any changes it receives wherever itâ€™s being used in
    our app.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤æ–‡ä»¶å°†å¤„ç†æ¥è‡ªå¥—æ¥å­—æœåŠ¡å™¨çš„è¿æ¥å¹¶å°†è¿æ¥ä½œä¸ºå¸¸é‡å¯¼å‡ºï¼ˆ*ç¬¬6è¡Œ*ï¼‰ã€‚åœ¨æ­¤æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬è¿˜å°†å­˜å‚¨å¹¶å…¬å¼€æˆ‘ä»¬æ¥æ”¶åˆ°çš„æ•°æ®ï¼Œä½œä¸ºä¸€ä¸ªå•ä¸€çš„å¯¹è±¡ï¼ˆ*ç¬¬18-29è¡Œ*ï¼‰ã€‚ç”±äºå¯¹è±¡å…·æœ‰å¤šä¸ªå±‚çº§ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨`reactive`è€Œä¸æ˜¯`ref`ï¼Œå› ä¸ºå®ƒçš„æ·±åº¦å“åº”æ¨¡å‹ï¼ˆ[https://vuejs.org/api/reactivity-core.html#reactive](https://vuejs.org/api/reactivity-core.html#reactive)ï¼‰ã€‚æ­¤`state`å°†ä¼ æ’­å®ƒåœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çš„ä»»ä½•æ›´æ”¹ã€‚
- en: Listening to socket events
  id: totrans-199
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç›‘å¬å¥—æ¥å­—äº‹ä»¶
- en: 'Now, letâ€™s create a feature where we can start to open a quiz. We expect users
    to enter the app via a link that contains the ID of a quiz. For that, weâ€™ll update
    the `./src/views/Start.vue` file and completely replace its contents with the
    following:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåŠŸèƒ½ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿå¼€å§‹æ‰“å¼€ä¸€ä¸ªæµ‹éªŒã€‚æˆ‘ä»¬æœŸæœ›ç”¨æˆ·é€šè¿‡åŒ…å«æµ‹éªŒIDçš„é“¾æ¥è¿›å…¥åº”ç”¨ç¨‹åºã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†æ›´æ–°`./src/views/Start.vue`æ–‡ä»¶ï¼Œå¹¶å®Œå…¨æ›¿æ¢å…¶å†…å®¹å¦‚ä¸‹ï¼š
- en: '[PRE27]'
  id: totrans-201
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: As you can see, we donâ€™t even need any template here! The component grabs the
    `id` value from the router parameters. The code uses the socket to emit the `quiz:select`
    event and then redirects the user to the `/``lobby` route.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æ‚¨æ‰€è§ï¼Œæˆ‘ä»¬ç”šè‡³ä¸éœ€è¦ä»»ä½•æ¨¡æ¿ï¼ç»„ä»¶ä»è·¯ç”±å‚æ•°ä¸­è·å–`id`å€¼ã€‚ä»£ç ä½¿ç”¨å¥—æ¥å­—æ¥å‘å‡º`quiz:select`äº‹ä»¶ï¼Œç„¶åå°†ç”¨æˆ·é‡å®šå‘åˆ°`/lobby`è·¯ç”±ã€‚
- en: Automated route changes
  id: totrans-203
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è‡ªåŠ¨è·¯ç”±æ›´æ”¹
- en: 'Before we continue to the lobby, weâ€™ll modify the `./src/App.vue` file too
    so that it listens to specific state changes in the quiz and redirects to certain
    routes:'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬ç»§ç»­è¿›å…¥å¤§å…ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜å°†ä¿®æ”¹`./src/App.vue`æ–‡ä»¶ï¼Œä½¿å…¶èƒ½å¤Ÿç›‘å¬æµ‹éªŒä¸­çš„ç‰¹å®šçŠ¶æ€å˜åŒ–å¹¶é‡å®šå‘åˆ°æŸäº›è·¯ç”±ï¼š
- en: '[PRE28]'
  id: totrans-205
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: Here, weâ€™re importing `quizStatus` and watching for changes. Once an updated
    value matches one of our routes, weâ€™ll programmatically update the router with
    the corresponding view. Now, letâ€™s enter the lobby!
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ­£åœ¨å¯¼å…¥`quizStatus`å¹¶ç›‘è§†å…¶å˜åŒ–ã€‚ä¸€æ—¦æ›´æ–°çš„å€¼åŒ¹é…æˆ‘ä»¬çš„å…¶ä¸­ä¸€ä¸ªè·¯ç”±ï¼Œæˆ‘ä»¬å°†ç¨‹åºåŒ–åœ°æ›´æ–°è·¯ç”±å™¨ä»¥æ˜¾ç¤ºç›¸åº”çš„è§†å›¾ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬è¿›å…¥å¤§å…ï¼
- en: Player management in the lobby
  id: totrans-207
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¤§å…ä¸­çš„ç©å®¶ç®¡ç†
- en: 'In the lobby, we want to be able to add ourselves as a player, but we also
    want to see an overview of all currently connected players. To add a player, weâ€™ll
    create a new component in the `./src/components` folder called `PlayerAdd.vue`:
    [https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.14-PlayerAdd.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.14-PlayerAdd.vue).'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å¤§å…ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿå°†è‡ªå·±æ·»åŠ ä¸ºç©å®¶ï¼ŒåŒæ—¶ä¹Ÿæƒ³æŸ¥çœ‹æ‰€æœ‰å½“å‰è¿æ¥çš„ç©å®¶çš„æ¦‚è§ˆã€‚ä¸ºäº†æ·»åŠ ç©å®¶ï¼Œæˆ‘ä»¬å°†åœ¨`./src/components`æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼Œåä¸º`PlayerAdd.vue`ï¼š[https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.14-PlayerAdd.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.14-PlayerAdd.vue)ã€‚
- en: In this case, we will use the socket connection to emit events (*lines 9â€“11,
    25 â€“27*) but we also read from the state to, for instance, only allow a player
    to connect once.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ­¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å¥—æ¥å­—è¿æ¥æ¥å‘å‡ºäº‹ä»¶ï¼ˆ*ç¬¬9-11è¡Œï¼Œç¬¬25-27è¡Œ*ï¼‰ï¼Œä½†æˆ‘ä»¬ä¹Ÿä¼šä»çŠ¶æ€ä¸­è¯»å–ï¼Œä¾‹å¦‚ï¼Œåªå…è®¸ç©å®¶è¿æ¥ä¸€æ¬¡ã€‚
- en: 'Our next component in the folder, called `PlayersOverview.vue`, will complement
    the lobby: [https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.15-PlayersOverview.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.15-PlayersOverview.vue).'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ–‡ä»¶å¤¹ä¸­çš„ä¸‹ä¸€ä¸ªç»„ä»¶ï¼Œåä¸º`PlayersOverview.vue`ï¼Œå°†è¡¥å……å¤§å…ï¼š[https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.15-PlayersOverview.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.15-PlayersOverview.vue)ã€‚
- en: This component only reads from the state and presents the overview in a nicely
    formatted way, with means for a user to identify themselves in the lobby view.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤ç»„ä»¶ä»…ä»çŠ¶æ€ä¸­è¯»å–ï¼Œå¹¶ä»¥è‰¯å¥½çš„æ ¼å¼å±•ç¤ºæ¦‚è§ˆï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿåœ¨å¤§å…è§†å›¾ä¸­è¯†åˆ«è‡ªå·±ã€‚
- en: 'We can now add these two components to the `./src/views/Lobby.vue` file to
    complete this feature:'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç°åœ¨å¯ä»¥å°†è¿™ä¸¤ä¸ªç»„ä»¶æ·»åŠ åˆ°`./src/views/Lobby.vue`æ–‡ä»¶ä¸­ï¼Œä»¥å®Œæˆæ­¤åŠŸèƒ½ï¼š
- en: '[PRE29]'
  id: totrans-213
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'This is our first opportunity to see our sockets in action! So, letâ€™s have
    a look. Once weâ€™ve run the development script, all three of our applications will
    run in parallel. To enter the lobby, we need to access the CQA via the local development
    URL and provide an ID as a parameter to the `/start` route. Remember our admin
    panel? It has a section called `/start/{QUIZ_ID}` route, to the lobby:'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯æˆ‘ä»¬ç¬¬ä¸€æ¬¡çœ‹åˆ°æˆ‘ä»¬çš„socketå®é™…è¿ä½œçš„æœºä¼šï¼æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ã€‚ä¸€æ—¦æˆ‘ä»¬è¿è¡Œäº†å¼€å‘è„šæœ¬ï¼Œæˆ‘ä»¬çš„ä¸‰ä¸ªåº”ç”¨ç¨‹åºå°†å¹¶è¡Œè¿è¡Œã€‚è¦è¿›å…¥å¤§å…ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡æœ¬åœ°å¼€å‘URLè®¿é—®CQAï¼Œå¹¶å°†IDä½œä¸ºå‚æ•°æä¾›ç»™`/start`è·¯ç”±ã€‚è¿˜è®°å¾—æˆ‘ä»¬çš„ç®¡ç†å‘˜é¢æ¿å—ï¼Ÿå®ƒæœ‰ä¸€ä¸ªåä¸º`/start/{QUIZ_ID}`çš„è·¯ç”±ï¼Œç”¨äºå¤§å…ï¼š
- en: '![Figure 8.7 â€“ A player has been added to the lobby](img/B19563_08_07.jpg)'
  id: totrans-215
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾8.7 â€“ å·²å°†ç©å®¶æ·»åŠ åˆ°å¤§å…](img/B19563_08_07.jpg)'
- en: Figure 8.7 â€“ A player has been added to the lobby
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾8.7 â€“ å·²å°†ç©å®¶æ·»åŠ åˆ°å¤§å…
- en: Now, without closing the existing browser window on the lobby, flip back to
    the admin panel and open the same link in a new browser window. You should, again,
    be redirected to the lobby. But in this case, you will enter as a new player.
    You should see the player we added previously in the overview, ready to play!
    If you add a new player name, the new player will be added to both browser windows
    in real time via the socket server!
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œåœ¨ä¸å…³é—­ç°æœ‰å¤§å…æµè§ˆå™¨çª—å£çš„æƒ…å†µä¸‹ï¼Œåˆ‡æ¢å›ç®¡ç†å‘˜é¢æ¿ï¼Œå¹¶åœ¨æ–°æµè§ˆå™¨çª—å£ä¸­æ‰“å¼€ç›¸åŒçš„é“¾æ¥ã€‚ä½ å°†è¢«å†æ¬¡é‡å®šå‘åˆ°å¤§å…ã€‚ä½†åœ¨è¿™ä¸ªæƒ…å†µä¸‹ï¼Œä½ å°†ä»¥æ–°ç©å®¶çš„èº«ä»½è¿›å…¥ã€‚ä½ åº”è¯¥åœ¨æ¦‚è§ˆä¸­çœ‹åˆ°æˆ‘ä»¬ä¹‹å‰æ·»åŠ çš„ç©å®¶ï¼Œå‡†å¤‡å¼€å§‹æ¸¸æˆï¼å¦‚æœä½ æ·»åŠ ä¸€ä¸ªæ–°çš„ç©å®¶åç§°ï¼Œæ–°ç©å®¶å°†é€šè¿‡socketæœåŠ¡å™¨å®æ—¶æ·»åŠ åˆ°ä¸¤ä¸ªæµè§ˆå™¨çª—å£ä¸­ï¼
- en: 'Have a look at the console of our terminal. You will see messages indicating
    that the state of the players has changed:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: çœ‹çœ‹æˆ‘ä»¬çš„ç»ˆç«¯æ§åˆ¶å°ã€‚ä½ ä¼šçœ‹åˆ°æ˜¾ç¤ºç©å®¶çŠ¶æ€å·²æ›´æ”¹çš„æ¶ˆæ¯ï¼š
- en: '![Figure 8.8 â€“ The console indicates the state of the players from the socket
    server](img/B19563_08_08.jpg)'
  id: totrans-219
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾8.8 â€“ æ§åˆ¶å°æ˜¾ç¤ºæ¥è‡ªsocketæœåŠ¡å™¨çš„ç©å®¶çŠ¶æ€](img/B19563_08_08.jpg)'
- en: Figure 8.8 â€“ The console indicates the state of the players from the socket
    server
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾8.8 â€“ æ§åˆ¶å°æ˜¾ç¤ºæ¥è‡ªsocketæœåŠ¡å™¨çš„ç©å®¶çŠ¶æ€
- en: Since weâ€™ve already connected our views and routes, we can trigger the start
    of a quiz. If one of the players hits **Start**, the quiz will automatically iterate
    over all of the questions and eventually end up at the **Final Score** view. Feel
    free to try it out. You will notice that the quiz gets processed by both browser
    windows at the same time!
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºæˆ‘ä»¬å·²ç»è¿æ¥äº†è§†å›¾å’Œè·¯ç”±ï¼Œæˆ‘ä»¬å¯ä»¥è§¦å‘æµ‹éªŒçš„å¼€å§‹ã€‚å¦‚æœç©å®¶ä¹‹ä¸€ç‚¹å‡»**å¼€å§‹**ï¼Œæµ‹éªŒå°†è‡ªåŠ¨éå†æ‰€æœ‰é—®é¢˜ï¼Œå¹¶æœ€ç»ˆç»“æŸåœ¨**æœ€ç»ˆå¾—åˆ†**è§†å›¾ã€‚è¯·éšæ„å°è¯•ã€‚ä½ ä¼šæ³¨æ„åˆ°æµ‹éªŒåŒæ—¶ç”±ä¸¤ä¸ªæµè§ˆå™¨çª—å£å¤„ç†ï¼
- en: We need some answers
  id: totrans-222
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬éœ€è¦ä¸€äº›ç­”æ¡ˆ
- en: 'Alright â€“ itâ€™s time to build on the core of our app: the answering mechanism.
    For this and upcoming sections, I recommend preparing a quiz that has four questions.
    That way, we can test all of the mechanics for a reasonable duration.'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: å¥½çš„â€”â€”ç°åœ¨æ˜¯æ—¶å€™æ„å»ºæˆ‘ä»¬åº”ç”¨ç¨‹åºçš„æ ¸å¿ƒï¼šå›ç­”æœºåˆ¶äº†ã€‚å¯¹äºè¿™ä¸ªå’Œæ¥ä¸‹æ¥çš„éƒ¨åˆ†ï¼Œæˆ‘å»ºè®®å‡†å¤‡ä¸€ä¸ªåŒ…å«å››ä¸ªé—®é¢˜çš„æµ‹éªŒã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åˆç†çš„æ—¶é—´å†…æµ‹è¯•æ‰€æœ‰æœºåˆ¶ã€‚
- en: 'Weâ€™re going to create a new component in the `./components` folder called `QuestionForm.vue`:
    [https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.16-QuestionForm.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.16-QuestionForm.vue).'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†åœ¨`./components`æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼Œåä¸º`QuestionForm.vue`ï¼š[https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.16-QuestionForm.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.16-QuestionForm.vue)ã€‚
- en: Similar to how we are adding and showing players, we are using the socket connection
    to emit our usersâ€™ input (*line 12*), while also reading the actual state and
    presenting it in the UI (*lines 15â€“17*).
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸æˆ‘ä»¬æ·»åŠ å’Œæ˜¾ç¤ºç©å®¶çš„æ–¹å¼ç±»ä¼¼ï¼Œæˆ‘ä»¬ä½¿ç”¨socketè¿æ¥æ¥å‘å°„ç”¨æˆ·çš„è¾“å…¥ï¼ˆ*ç¬¬12è¡Œ*ï¼‰ï¼ŒåŒæ—¶è¯»å–å®é™…çŠ¶æ€å¹¶åœ¨UIä¸­å±•ç¤ºï¼ˆ*ç¬¬15-17è¡Œ*ï¼‰ã€‚
- en: 'In the `./src/views/Question.vue`), weâ€™ll import and display this component
    next to showing the current question as the title of the view:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨`./src/views/Question.vue`ä¸­ï¼Œæˆ‘ä»¬å°†å¯¼å…¥å¹¶æ˜¾ç¤ºæ­¤ç»„ä»¶ï¼Œä½œä¸ºå½“å‰é—®é¢˜çš„æ ‡é¢˜æ˜¾ç¤ºåœ¨è§†å›¾æ—è¾¹ï¼š
- en: '[PRE30]'
  id: totrans-227
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'By adding this component to the view, our users can each try and answer the
    question. And how about we show the user the results as well? Letâ€™s create a new
    component called `AnswerResult.vue`: [https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.17-AnswerResult.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.17-AnswerResult.vue).'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡å°†æ­¤ç»„ä»¶æ·»åŠ åˆ°è§†å›¾ä¸­ï¼Œæˆ‘ä»¬çš„ç”¨æˆ·å¯ä»¥å°è¯•å¹¶å›ç­”é—®é¢˜ã€‚æˆ‘ä»¬æ˜¯å¦ä¹Ÿå‘ç”¨æˆ·å±•ç¤ºç»“æœå‘¢ï¼Ÿè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼Œåä¸º `AnswerResult.vue`ï¼š[https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.17-AnswerResult.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.17-AnswerResult.vue).
- en: In the preceding file, weâ€™re using the state of the quiz coming from the socket
    server to display whether the individual user has answered correctly. As you can
    see, we can perfectly track which user is which and show them a customized interface.
    In this case, weâ€™re doing the filtering on the client app.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å‰é¢çš„æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨æ¥è‡ªsocketæœåŠ¡å™¨çš„æµ‹éªŒçŠ¶æ€æ¥æ˜¾ç¤ºå•ä¸ªç”¨æˆ·æ˜¯å¦å›ç­”æ­£ç¡®ã€‚å¦‚æ‚¨æ‰€è§ï¼Œæˆ‘ä»¬å¯ä»¥å®Œç¾åœ°è¿½è¸ªå“ªä¸ªç”¨æˆ·æ˜¯å“ªä¸ªï¼Œå¹¶å‘ä»–ä»¬å±•ç¤ºå®šåˆ¶çš„ç•Œé¢ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ˜¯åœ¨å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºä¸­è¿›è¡Œè¿‡æ»¤ã€‚
- en: 'Again, we can add this `AnswerResult` component to the correct view â€“ in this
    case, the `Answer.vue` file:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: å†æ¬¡ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ­¤ `AnswerResult` ç»„ä»¶æ·»åŠ åˆ°æ­£ç¡®çš„è§†å›¾ä¸­â€”â€”åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ˜¯ `Answer.vue` æ–‡ä»¶ï¼š
- en: '[PRE31]'
  id: totrans-231
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'At this point, the client application already starts to closely resemble the
    result weâ€™re going for:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºå·²ç»å¼€å§‹éå¸¸æ¥è¿‘æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼š
- en: '![Figure 8.9 â€“ Example of the quizâ€™s state when answered correctly!](img/B19563_08_09.jpg)'
  id: totrans-233
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ 8.9 â€“ æµ‹éªŒå›ç­”æ­£ç¡®æ—¶çš„çŠ¶æ€ç¤ºä¾‹ï¼](img/B19563_08_09.jpg)'
- en: Figure 8.9 â€“ Example of the quizâ€™s state when answered correctly!
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ 8.9 â€“ æµ‹éªŒå›ç­”æ­£ç¡®æ—¶çš„çŠ¶æ€ç¤ºä¾‹ï¼
- en: At this point, our work is getting a bit repetitive, so letâ€™s finalize our app
    by showing intermediate results and the final score!
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬çš„å·¥ä½œå¼€å§‹å˜å¾—æœ‰äº›é‡å¤ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬é€šè¿‡æ˜¾ç¤ºä¸­é—´ç»“æœå’Œæœ€ç»ˆå¾—åˆ†æ¥å®Œå–„æˆ‘ä»¬çš„åº”ç”¨ï¼
- en: Keeping and showing the score
  id: totrans-236
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä¿ç•™å’Œæ˜¾ç¤ºå¾—åˆ†
- en: 'For our scoreboard, weâ€™ll create another component called `ScoreBoard.vue`
    in the components folder: [https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.18-ScoreBoard.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.18-ScoreBoard.vue).'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºæˆ‘ä»¬çš„å¾—åˆ†æ¿ï¼Œæˆ‘ä»¬å°†åœ¨ç»„ä»¶æ–‡ä»¶å¤¹ä¸­åˆ›å»ºå¦ä¸€ä¸ªåä¸º `ScoreBoard.vue` çš„ç»„ä»¶ï¼š[https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.18-ScoreBoard.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.18-ScoreBoard.vue).
- en: 'Weâ€™ll add the component to the **ScoreBoard** view:'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†ç»„ä»¶æ·»åŠ åˆ° `ScoreBoard` è§†å›¾ä¸­ï¼š
- en: '[PRE32]'
  id: totrans-239
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'For the final score, we want to do something extra fun for the winner. Weâ€™ll
    install the *Vue Confetti Explosion* component ([https://github.com/valgeirb/vue-confetti-explosion](https://github.com/valgeirb/vue-confetti-explosion))
    by running the following command in the `./app` folderâ€™s terminal:'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºæœ€ç»ˆå¾—åˆ†ï¼Œæˆ‘ä»¬å¸Œæœ›ä¸ºèµ¢å®¶åšä¸€äº›é¢å¤–æœ‰è¶£çš„äº‹æƒ…ã€‚æˆ‘ä»¬å°†åœ¨ `./app` æ–‡ä»¶å¤¹çš„ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… *Vue Confetti Explosion*
    ç»„ä»¶ï¼ˆ[https://github.com/valgeirb/vue-confetti-explosion](https://github.com/valgeirb/vue-confetti-explosion)ï¼‰ï¼š
- en: '[PRE33]'
  id: totrans-241
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'And for our grand finale, weâ€™ll make sure to include confetti for the quiz
    winner by creating the following contents in a component called `FinalScoreBoard.vue`:
    [https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.19-FinalScoreBoard.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.19-FinalScoreBoard.vue).'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºæˆ‘ä»¬çš„ç››å¤§ç»“å±€ï¼Œæˆ‘ä»¬å°†ç¡®ä¿åœ¨åä¸º `FinalScoreBoard.vue` çš„ç»„ä»¶ä¸­ä¸ºæµ‹éªŒèµ¢å®¶æ·»åŠ å½©å¸¦ï¼Œåˆ›å»ºä»¥ä¸‹å†…å®¹ï¼š[https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.19-FinalScoreBoard.vue](https://github.com/PacktPublishing/Building-Real-world-Web-Applications-with-Vue.js-3/blob/main/08.quiz/.notes/8.19-FinalScoreBoard.vue).
- en: The important bit here is that we identify which user is the winner and shower
    that user with confetti (*lines 6,* *22â€“24, 53â€“55*)!
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œé‡è¦çš„æ˜¯æˆ‘ä»¬è¦è¯†åˆ«å“ªä¸ªç”¨æˆ·æ˜¯èµ¢å®¶ï¼Œå¹¶å‘è¯¥ç”¨æˆ·å±•ç¤ºå½©å¸¦ï¼ˆ*ç¬¬ 6 è¡Œã€* *ç¬¬ 22-24 è¡Œã€ç¬¬ 53-55 è¡Œ*ï¼‰ï¼
- en: 'The `FinalScoreBoard` component also needs to be added to its corresponding
    view file (`./src/views/FinalScore.vue`):'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: '`FinalScoreBoard` ç»„ä»¶ä¹Ÿéœ€è¦æ·»åŠ åˆ°å…¶ç›¸åº”çš„è§†å›¾æ–‡ä»¶ï¼ˆ`./src/views/FinalScore.vue`ï¼‰ä¸­ï¼š'
- en: '[PRE34]'
  id: totrans-245
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'And with that, our app is complete! You should now be able to complete the
    quiz with one or more players at the same time:'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: å°±è¿™æ ·ï¼Œæˆ‘ä»¬çš„åº”ç”¨å°±å®Œæˆäº†ï¼ä½ ç°åœ¨åº”è¯¥èƒ½å¤ŸåŒæ—¶è®©ä¸€ä¸ªæˆ–å¤šä¸ªç©å®¶å®Œæˆæµ‹éªŒï¼š
- en: '![Figure 8.10 â€“ There can be only one winner in this game](img/B19563_08_10.jpg)'
  id: totrans-247
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ 8.10 â€“ è¿™åœºæ¯”èµ›åªèƒ½æœ‰ä¸€ä¸ªèµ¢å®¶](img/B19563_08_10.jpg)'
- en: Figure 8.10 â€“ There can be only one winner in this game
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ 8.10 â€“ è¿™åœºæ¯”èµ›åªèƒ½æœ‰ä¸€ä¸ªèµ¢å®¶
- en: I think itâ€™s brilliant that our client apps have almost no state worth mentioning.
    All of it is handled by the central socket server!
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘è®¤ä¸ºæˆ‘ä»¬çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºå‡ ä¹æ²¡æœ‰å€¼å¾—æåŠçš„çŠ¶æ€ã€‚æ‰€æœ‰è¿™äº›éƒ½ç”±ä¸­å¤®ç½‘ç»œå¥—æ¥å­—æœåŠ¡å™¨å¤„ç†ï¼
- en: Summary
  id: totrans-250
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ‘˜è¦
- en: This was quite a lengthy chapter that covered three different apps. I hope the
    distinct roles of the individual apps are clear. I also hope you appreciate the
    differences between a socket server setup and a RESTful server. Weâ€™ve used both
    in this chapter, each with its strengths.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸€ç« èŠ‚ç›¸å½“é•¿ï¼Œæ¶µç›–äº†ä¸‰ä¸ªä¸åŒçš„åº”ç”¨ç¨‹åºã€‚æˆ‘å¸Œæœ›å„ä¸ªåº”ç”¨ç¨‹åºçš„ç‹¬ç«‹è§’è‰²æ˜¯æ¸…æ™°çš„ã€‚æˆ‘ä¹Ÿå¸Œæœ›ä½ èƒ½æ¬£èµå¥—æ¥å­—æœåŠ¡å™¨è®¾ç½®å’ŒRESTfulæœåŠ¡å™¨ä¹‹é—´çš„å·®å¼‚ã€‚åœ¨è¿™ä¸€ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸¤è€…ï¼Œå„è‡ªéƒ½æœ‰å…¶ä¼˜åŠ¿ã€‚
- en: Also, with the amount of code weâ€™ve written in this chapter, it should be clear
    that this code is not at the level of sturdiness nor as secure as you would realistically
    want it to be when itâ€™s production-ready. I want to stress that this wasnâ€™t the
    focus of this chapter!
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œè€ƒè™‘åˆ°æˆ‘ä»¬åœ¨è¿™ä¸€ç« èŠ‚ä¸­ç¼–å†™çš„ä»£ç é‡ï¼Œåº”è¯¥å¾ˆæ¸…æ¥šï¼Œè¿™äº›ä»£ç åœ¨ç¨³å¥æ€§å’Œå®‰å…¨æ€§æ–¹é¢å¹¶ä¸å¦‚ä½ æœŸæœ›çš„ç”Ÿäº§å°±ç»ªç‰ˆæœ¬é‚£æ ·ã€‚æˆ‘æƒ³å¼ºè°ƒï¼Œè¿™å¹¶ä¸æ˜¯æœ¬ç« çš„é‡ç‚¹ï¼
- en: One of the new concepts that was introduced in this chapter was Nuxt. As you
    may have noticed, it has very powerful capabilities that enhance both the final
    product and the developer experience. You could consider Nuxt a default extension
    of any Vue application. I can get behind the philosophy of making it easy to do
    things right while making it hard to do things wrong. The opinionated setup that
    Nuxt encourages makes it easy to get started with.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸€ç« èŠ‚ä¸­å¼•å…¥çš„æ–°æ¦‚å¿µä¹‹ä¸€æ˜¯Nuxtã€‚æ­£å¦‚ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°çš„ï¼Œå®ƒå…·æœ‰éå¸¸å¼ºå¤§çš„åŠŸèƒ½ï¼Œå¯ä»¥æå‡æœ€ç»ˆäº§å“å’Œå¼€å‘è€…çš„ä½“éªŒã€‚ä½ å¯ä»¥å°†Nuxtè§†ä¸ºä»»ä½•Vueåº”ç”¨çš„é»˜è®¤æ‰©å±•ã€‚æˆ‘æ”¯æŒä½¿å…¶æ˜“äºæ­£ç¡®åšäº‹ï¼ŒåŒæ—¶ä½¿é”™è¯¯åšäº‹å˜å¾—å›°éš¾çš„ç†å¿µã€‚Nuxté¼“åŠ±çš„å…·æœ‰åè§çš„è®¾ç½®ä½¿å…¶å®¹æ˜“ä¸Šæ‰‹ã€‚
- en: The socket server is sort of an odd one between all of our projects. But as
    we can see from the implementation on the client side, its real-time updates fit
    very well with the reactivity model of Vue applications.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: ç½‘ç»œå¥—æ¥å­—æœåŠ¡å™¨åœ¨æˆ‘ä»¬çš„æ‰€æœ‰é¡¹ç›®ä¸­ç®—æ˜¯ä¸€ä¸ªæœ‰ç‚¹ç‰¹åˆ«çš„å­˜åœ¨ã€‚ä½†æ­£å¦‚æˆ‘ä»¬ä»å®¢æˆ·ç«¯çš„å®ç°ä¸­å¯ä»¥çœ‹åˆ°çš„é‚£æ ·ï¼Œå®ƒçš„å®æ—¶æ›´æ–°ä¸Vueåº”ç”¨çš„å“åº”å¼æ¨¡å‹éå¸¸å¥‘åˆã€‚
- en: As a closing remark, weâ€™ve also made some small quality-of-life improvements
    in our development workflow by creating scripts that automate repetitive tasks
    for us. You can consider it as a sort of stepping stone toward workspaces or monorepo
    setups, which expand even further upon managing projects that depend on each other.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œä¸ºç»“æŸè¯­ï¼Œæˆ‘ä»¬è¿˜é€šè¿‡åˆ›å»ºè‡ªåŠ¨åŒ–é‡å¤æ€§ä»»åŠ¡çš„è„šæœ¬ï¼Œåœ¨æˆ‘ä»¬çš„å¼€å‘å·¥ä½œæµç¨‹ä¸­åšäº†ä¸€äº›å°çš„è´¨é‡æå‡ã€‚ä½ å¯ä»¥å°†å…¶è§†ä¸ºä¸€ç§è¿ˆå‘å·¥ä½œç©ºé—´æˆ–å•ä»“åº“è®¾ç½®çš„å«è„šçŸ³ï¼Œè¿™è¿›ä¸€æ­¥æ‰©å±•äº†ç›¸äº’ä¾èµ–çš„é¡¹ç›®ç®¡ç†ã€‚
- en: In the next chapter, weâ€™ll scope down on the number of applications and build
    something fun too by using artificial intelligence and object recognition in a
    Vue app!
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬å°†ç¼©å°åº”ç”¨ç¨‹åºçš„æ•°é‡ï¼Œå¹¶é€šè¿‡åœ¨Vueåº”ç”¨ä¸­ä½¿ç”¨äººå·¥æ™ºèƒ½å’Œå¯¹è±¡è¯†åˆ«æ¥æ„å»ºä¸€äº›æœ‰è¶£çš„ä¸œè¥¿ï¼
