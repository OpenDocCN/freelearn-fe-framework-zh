# 前言

通过将大型、复杂的 Web 应用分解为更小、独立的组件，微前端已成为一种流行的架构模式。这使得开发规模化、加速发布速度和逐步采用新技术变得更加容易。

本书提供了在实践中进行微前端实现的全面指南，从架构原则和模式到使用 React 等框架的动手示例。你将学习如何将单体应用划分为自治的微前端。我们将探讨微前端的一些关键原则和微前端可能或可能不是正确模式的应用场景。

我们将探讨微前端的多种模式，并使用模块联邦为客户端渲染应用和服务器端渲染应用创建微前端。

我们将学习如何在构建微前端时处理诸如路由和状态管理等问题，最后，我们将学习如何使用 Azure 在 Firebase 和 Kubernetes 集群上部署我们的微前端。

# 本书面向对象

本书面向前端和全栈开发者，旨在使用现代 JavaScript 框架（如 React）构建大型、可扩展的 Web 应用。它也将对希望采用微前端架构的解决方案架构师有所帮助。你应该对 JavaScript、React、模块打包和基本 Web 开发概念有良好的理解。

# 本书涵盖内容

*第一章*, *介绍微前端*，介绍了不同的架构模式，例如用于构建微前端的多个 SPA 和微应用模式。

*第二章*, *微前端的核心理念和组件*，涵盖了核心原则，如独立部署性、边界上下文、隔离故障、运行时集成等。

*第三章*, *微前端的多仓库与单仓库对比*，比较了单仓库和多仓库在管理微前端代码库方面的差异，以及为什么单仓库更适合构建微前端。

*第四章*, *为微前端实现多 SPA 模式*，展示了如何将微前端构建为一个单页应用的集合。

*第五章*, *为微前端实现微应用模式*，深入探讨了使用模块联邦构建微前端，并涵盖了关于不同微应用之间路由和状态共享的关键主题。

*第六章*, *服务器端渲染微前端*，展示了如何使用模块联邦构建服务器端渲染的微前端。

*第七章*，*将微前端部署到静态存储*，带我们了解了将我们的微前端部署到静态存储托管服务（如 Firebase）的过程。

*第八章*，*将微前端部署到 Kubernetes*，演示了将微前端部署到 Kubernetes，例如 Azure 上的 AKS。

*第九章*，*在生产中管理微前端*，涵盖了诸如分支策略、版本控制、回滚策略和功能开关等主题，这些对于在生产中管理微前端至关重要。

*第十章*，*构建微前端时避免的常见陷阱*，讨论了一些开发人员和架构师犯的常见错误，这些错误会负面影响我们最初选择微前端的好处。

*第十一章*，*微前端最新趋势*，涵盖了某些新趋势，如 ES 构建、云或边缘函数、岛屿模式和生成式 AI，以及它们如何被用于构建未来的微前端。

# 为了充分利用本书

代码示例使用 React、webpack、Node.js 和 npm。熟悉这些工具将有所帮助。示例可以在任何操作系统上跟随。

本书数字版包含详细的代码示例，可以复制粘贴以快速启动。为了获得最佳学习体验，请尝试从头开始构建示例。

| **本书涵盖的软件/硬件** | **操作系统要求** |
| --- | --- |
| React 18 | Windows、macOS 或 Linux |
| TypeScript 3.7 | Windows、macOS 或 Linux |
| Docker Engine 24 | Windows、macOS 或 Linux |

**如果您正在使用本书的数字版，我们建议您亲自输入代码或从本书的 GitHub 仓库（下一节中有一个链接）获取代码。这样做将有助于您避免与代码复制和粘贴相关的任何潜在错误** **。**

# 下载示例代码文件

您可以从 GitHub（[`github.com/PacktPublishing/Building-Micro-Frontends-with-React-18`](https://github.com/PacktPublishing/Building-Micro-Frontends-with-React-18)）下载本书的示例代码文件。如果代码有更新，它将在 GitHub 仓库中更新。

我们还有其他来自我们丰富的书籍和视频目录的代码包，可在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)找到。查看它们吧！

# 使用的约定

本书使用了多种文本约定。

`文本中的代码`：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。以下是一个示例：“确保我们在`proxy.conf.json`文件中设置了 URL 路由。”

代码块设置如下：

```js
  "scripts": {
    "start": "nx serve",
    "build": "nx build",
    "test": "nx test",
    "serve:all": "nx run-many --target=serve"
  },
```

当我们希望将你的注意力引到代码块中的特定部分时，相关的行或项目将以粗体显示：

```js
pnpm install semantic-ui-react semantic-ui-css
```

任何命令行输入或输出都应如下编写：

```js
pnpm serve:all
```

**粗体**：表示新术语、重要单词或你在屏幕上看到的单词。例如，菜单或对话框中的单词以粗体显示。以下是一个例子：“接下来，我们更新**添加**和**删除**按钮的 onclick 事件，如下所示。”

小贴士或重要注意事项

看起来像这样。

# 联系我们

我们始终欢迎读者的反馈。

**一般反馈**：如果你对这本书的任何方面有疑问，请通过 customercare@packtpub.com 发送电子邮件，并在邮件主题中提及书名。

**勘误**: 尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果你在这本书中发现了错误，我们非常感谢你能向我们报告。请访问 [www.packtpub.com/support/errata](https://www.packtpub.com/support/errata) 并填写表格。

**盗版**: 如果你在网上以任何形式发现了我们作品的非法副本，我们非常感谢你能提供位置地址或网站名称。请通过 copyright@packt.com 联系我们，并提供材料的链接。

**如果你有兴趣成为作者**：如果你在某个领域有专业知识，并且你对撰写或为书籍做出贡献感兴趣，请访问 [authors.packtpub.com](http://authors.packtpub.com)

# 分享你的想法

一旦你阅读了 *Building Micro Frontends with React 18*，我们很乐意听听你的想法！[请点击此处直接进入此书的亚马逊评论页面并分享你的反馈](https://packt.link/r/1-804-61096-8)。

你的评论对我们和科技社区都很重要，并将帮助我们确保我们提供高质量的内容。

# 下载这本书的免费 PDF 副本

感谢你购买这本书！

你喜欢在旅途中阅读，但无法随身携带你的印刷书籍吗？

你的电子书购买是否与你的选择设备不兼容？

不要担心，现在，每当你购买一本 Packt 书籍时，你都可以免费获得该书的 DRM 免费 PDF 版本。

在任何地方、任何设备上阅读。直接从你喜欢的技术书籍中搜索、复制和粘贴代码到你的应用程序中。

优惠不会就此结束，你还可以获得独家折扣、时事通讯和每日免费内容的每日电子邮件。

按照以下简单步骤获取福利：

1.  扫描二维码或访问以下链接

![](img/B18987_QR_Free_PDF.jpg)

[`packt.link/free-ebook/9781804610961`](https://packt.link/free-ebook/9781804610961)

1.  提交你的购买证明

1.  就这样！我们将直接将你的免费 PDF 和其他福利发送到你的电子邮件。

。
