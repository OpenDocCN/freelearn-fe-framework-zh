<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Component Composition with TypeScript</h1>
                </header>
            
            <article>
                
<p class="mce-root">The components you write with TypeScript are at their best when kept short and simple. However, a short and simple component will hardly make a full-blown app. How do you compose components performing specific tasks and combine them to make a usable application? This is what this chapter is all about. We will discuss the following topics:</p>
<ul>
<li>Component hierarchy</li>
<li>Communication between components at different levels</li>
</ul>
<p>We will also see some hands-on examples on how components are composed and how these composed components communicate with each other.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Component composability</h1>
                </header>
            
            <article>
                
<p>Composability is the most outstanding feature and the selling point of components. As a matter of fact, this is what makes components what they are. Not just on the web but whenever an entity is referred to as a component, then it has a tendency to be composed with other components.</p>
<p>While some components can function on their own, most depend <span>implicitly or explicitly </span>on other stand-alone components to achieve a given task. TypeScript and templates greatly simplify composition in Angular, enabling it to put the pieces of our app together in a seamless and an easy-to-maintain way.</p>
<p>Composition happens hierarchically; hence, most component relationships are either parent-to-child or child-to-parent. It is also important to keep in mind that if such a parent-child relationship exists, then some components might be siblings to others, depending on the architecture.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Hierarchical composition</h1>
                </header>
            
            <article>
                
<p>A composed component has a parental relationship with another component, either as the parent or as a child. There is a tendency for a nested chain; hence, nothing stops a child component from having a grandparent or a parent component from having a grandchild component.</p>
<p>The following screenshot illustrates this better:</p>
<div class="mce-root CDPAlignCenter CDPAlign"><img height="288" src="assets/453d62b1-475d-435f-8b61-67100bb55440.png" width="470"/></div>
<p>Here, the entry <kbd>App</kbd> component has two child components: <kbd>CommentList</kbd> and <kbd>CommentForm</kbd>. <kbd>CommentList</kbd> also has a child, <kbd>CommentItem</kbd>. It's okay to say that <kbd>CommentItem</kbd> is the grandchild of <kbd>App</kbd>. It's also okay to say that <kbd>CommentList</kbd> and <kbd>CommentForm</kbd> are siblings.</p>
<p>The thick arrows show how the data flows from the parent components down to the child components, while the dotted arrows show how the data is pushed as events from the child components to the parent components. This illustration of data flowing down and moving up leads us to our next topic for discussion: component communication.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Component communication</h1>
                </header>
            
            <article>
                
<p>Based on the diagram that we saw previously, let's see some examples in action. The recommended place to start is the data flow from parent to child.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Parent-child flow</h1>
                </header>
            
            <article>
                
<p>Jump right in and create a new Angular project using the Angular CLI. With that done, update <kbd>AppComponent</kbd> with the following content:</p>
<pre class="form-control font-rich has-selection"><span class="wmd-input-section"><span class="token p">import { Component } from '@angular/core';</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">@Component({</span><span class="token lf">
</span><span class="token p">  selector: 'app-root',</span><span class="token lf">
</span><span class="token p">  templateUrl: './app.component.html',</span><span class="token lf">
</span><span class="token p">  styleUrls: ['./app.component.css']</span><span class="token lf">
</span><span class="token p">})</span><span class="token lf">
</span><span class="token p">export class AppComponent {</span><span class="token lf">
</span><span class="token p">  title = 'app';</span><span class="token lf">
</span><span class="token p">  comments = [</span><span class="token lf">
</span><span class="token p">    {</span><span class="token lf">
</span><span class="token p">      author: 'Jay Kay',</span><span class="token lf">
</span><span class="token p">      content: 'TypeScript makes Angular awesome'</span><span class="token lf">
</span><span class="token p">    },</span><span class="token lf">
</span><span class="token p">    {</span><span class="token lf">
</span><span class="token p">      author: 'William',</span><span class="token lf">
</span><span class="token p">      content: 'Yeah, right!'</span><span class="token lf">
</span><span class="token p">    },</span><span class="token lf">
</span><span class="token p">    {</span><span class="token lf">
</span><span class="token p">      author: 'Raphael',</span><span class="token lf">
</span><span class="token p">      content: 'Got stuck passing data around'</span><span class="token lf">
</span><span class="token p">    }</span><span class="token lf">
</span><span class="token p">  ]</span><span class="token lf">
</span><span class="token p">}</span></span><span class="token lf">
</span></pre>
<p>The key difference is that I have added an array of comments. These comments are what we intend to pass down to the child component.</p>
<p>Let's create <kbd>CommentListComponent</kbd> using the Angular CLI generate command:</p>
<pre><strong>ng g component comment-list</strong></pre>
<p>The created component is meant to receive a list of comments from the parent component, <kbd>AppComponent</kbd>. When it receives this component, it can iterate over them and print them on the screen:</p>
<pre class="form-control font-rich has-selection"><span class="wmd-input-section"><span class="token p">import { Component, OnInit, Input } from '@angular/core';</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">@Component({</span><span class="token lf">
</span><span class="token p">  selector: 'app-comment-list',</span><span class="token lf">
</span><span class="token p">  templateUrl: './comment-list.component.html',</span><span class="token lf">
</span><span class="token p">  styleUrls: ['./comment-list.component.css']</span><span class="token lf">
</span><span class="token p">})</span><span class="token lf">
</span><span class="token p">export class CommentListComponent implements OnInit {</span><span class="token lf">
<br/></span><span class="token lf">  // Received via Imputs
</span><span class="token p">  @Input() comments;<br/></span><span class="token lf">
</span><span class="token p">  constructor() { }</span><span class="token lf">
</span><span class="token p">  </span><span class="token lf">
</span><span class="token p">  ngOnInit() {</span><span class="token p">}</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">}</span><span class="token lf">
</span></span><span class="token lf">
</span></pre>
<p>The <kbd>Input</kbd> TypeScript decorator is used to specify that a class property will be set by a parent component. Hence, we do not need to set any values on <kbd>CommentListComponent.comments</kbd>, but we need to wait until a value is passed down to it via <kbd>AppComponent</kbd>. Remember <kbd>AppComponent.comments</kbd> exists as well, so we can use property binding to pass <kbd>AppComponent.comments</kbd> to  <kbd>CommentListComponent.comments</kbd> in <kbd>app.component.html</kbd>:</p>
<pre class="form-control font-rich has-selection"><span class="wmd-input-section"><span class="token p"><span class="token tag"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span></span><span class="token lf">
</span><span class="token p">  <span class="token tag"><span class="token punctuation">&lt;</span>h2<span class="token punctuation">&gt;</span></span>Comments<span class="token tag"><span class="token punctuation">&lt;/</span>h2<span class="token punctuation">&gt;</span></span></span><span class="token lf">
</span><span class="token p">  &lt;app-comment-list [comments]="comments"&gt;<span class="token tag"><span class="token punctuation">&lt;/</span>app-comment-list<span class="token punctuation">&gt;</span></span></span><span class="token lf">
</span><span class="token p"><span class="token tag"><span class="token punctuation">&lt;/</span>div<span class="token punctuation">&gt;</span></span></span></span><span class="token lf">
</span></pre>
<p>The <kbd>comments</kbd> array is the value passed to the <kbd>[comments]</kbd> attribute. This attribute is what we created and decorated in the <kbd>CommentListComponent</kbd> component.</p>
<p>Now you have an array of comments on the parent component (<kbd>AppComponent</kbd>); you have passed this component down to the child component (<kbd>CommentListComponent</kbd>) via property binding, and you're receiving the list of comments using the <kbd>Input</kbd> decorator. The next thing you need to do is display the received comments on <kbd>comment-list.component.html</kbd>:</p>
<pre class="form-control font-rich has-selection"><span class="wmd-input-section"><span class="token p"><span class="token tag"><span class="token punctuation">&lt;</span>div <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>comment-box<span class="token punctuation">"</span></span> *<span class="token attr-name">ngFor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>let comment of comments<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></span><span class="token lf">
</span><span class="token p">  <span class="token tag"><span class="token punctuation">&lt;</span>h3<span class="token punctuation">&gt;</span></span>{{comment.author}}<span class="token tag"><span class="token punctuation">&lt;/</span>h3<span class="token punctuation">&gt;</span></span></span><span class="token lf">
</span><span class="token p">  <span class="token tag"><span class="token punctuation">&lt;</span>p<span class="token punctuation">&gt;</span></span>{{comment.content}}<span class="token tag"><span class="token punctuation">&lt;/</span>p<span class="token punctuation">&gt;</span></span></span><span class="token lf">
</span><span class="token p"><span class="token tag"><span class="token punctuation">&lt;/</span>div<span class="token punctuation">&gt;</span></span></span></span><span class="token lf">
</span></pre>
<p>The <kbd>*ngFor</kbd> directive is used to iterate over the comments, get each comment, and display a comment on our view.</p>
<p>This is what the output looks like:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-311 image-border" height="616" src="assets/ba7abb11-cdac-4852-a474-b5a22ea57684.png" width="1237"/></div>
<p>You can go a level deeper to create a comment item component, which just takes a single comment and displays it. Create another component:</p>
<pre><strong>ng g component comment-item</strong></pre>
<p>Add a decorated comment property, which will receive the comment item from the comment list:</p>
<pre class="form-control font-rich has-selection"><span class="wmd-input-section"><span class="token p">import { Component, OnInit, Input } from '@angular/core';</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">@Component({</span><span class="token lf">
</span><span class="token p">  selector: 'app-comment-item',</span><span class="token lf">
</span><span class="token p">  templateUrl: './comment-item.component.html',</span><span class="token lf">
</span><span class="token p">  styleUrls: ['./comment-item.component.css']</span><span class="token lf">
</span><span class="token p">})</span><span class="token lf">
</span><span class="token p">export class CommentItemComponent implements OnInit {</span><span class="token lf">
</span><span class="token p"> <br/>  // Decorated comment </span><span class="token lf">
</span><span class="token p">  @Input() comment;<br/></span><span class="token lf">
</span><span class="token p">  constructor() { }</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">  ngOnInit() {</span><span class="token p">}</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">}</span><span class="token lf">
</span></span><span class="token lf">
</span></pre>
<p>Send the comment down via the <kbd>comment list</kbd> parent component:</p>
<pre class="form-control font-rich has-selection"><span class="wmd-input-section"><span class="token p">&lt;app-comment-item </span><span class="token lf">
</span><span class="token p">  *ngFor="let comment of comments" [comment]="comment"&gt;</span><span class="token lf">
</span><span class="token p"><span class="token tag"><span class="token punctuation">&lt;/</span>app-comment-item<span class="token punctuation">&gt;</span></span></span></span><span class="token lf">
</span></pre>
<p>The <kbd>comment</kbd> template variable doesn't have to exist on the component class. It's procured from the iterator.</p>
<p>Then, you can simply render the comment item on the <kbd>comment-item.component.html</kbd> template:</p>
<pre class="form-control font-rich has-selection"><span class="wmd-input-section"><span class="token p"><span class="token tag"><span class="token punctuation">&lt;</span>h3<span class="token punctuation">&gt;</span></span>{{comment.author}}<span class="token tag"><span class="token punctuation">&lt;/</span>h3<span class="token punctuation">&gt;</span></span></span><span class="token lf">
</span><span class="token p"><span class="token tag"><span class="token punctuation">&lt;</span>p<span class="token punctuation">&gt;</span></span>{{comment.content}}<span class="token tag"><span class="token punctuation">&lt;/</span>p<span class="token punctuation">&gt;</span></span></span></span><span class="token lf">
</span></pre>
<p>Adding another child illustrates nesting. <kbd>App | comment list | comment item</kbd> is the flow. <kbd>App</kbd> is the parent of <kbd>comment list</kbd> and the grandparent of <kbd>comment item</kbd>. <kbd>comment list</kbd> is the parent of <kbd>comment item</kbd>.</p>
<p>Head to the browser and see that, while nothing actually changes, our code is structured better:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-312 image-border" height="985" src="assets/52f7ff63-9805-4065-93e8-79ad575cba53.png" width="1992"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Intercepting property changes</h1>
                </header>
            
            <article>
                
<p>Sometimes, you may want to do some tweaking on the data flowing into a child component from the parent component. You can use getters and setters to intercept the data and manipulate it before setting it on the view. Let's see that in play by capitalizing the author names before they are set:</p>
<pre class="form-control font-rich has-selection"><span class="wmd-input-section"><span class="token p">import { Component, OnInit, Input } from '@angular/core';</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">@Component({</span><span class="token lf">
</span><span class="token p">  selector: 'app-comment-item',</span><span class="token lf">
</span><span class="token p">  templateUrl: './comment-item.component.html',</span><span class="token lf">
</span><span class="token p">  styleUrls: ['./comment-item.component.css']</span><span class="token lf">
</span><span class="token p">})</span><span class="token lf">
</span><span class="token p">export class CommentItemComponent implements OnInit {</span><span class="token lf">
</span><span class="token p">  </span><span class="token lf">
</span><span class="token p">  private _comment;</span><span class="token lf">
</span><span class="token p">  constructor() { }</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">  ngOnInit() {</span><span class="token p">}</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">  @Input()</span><span class="token lf">
</span><span class="token p">  set comment(comment) {</span><span class="token lf">
</span><span class="token p">    this._comment = Object.assign(comment, {<br/>       author: comment.author.toUpperCase()<br/>    });</span><span class="token lf">
</span><span class="token p">  }</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">  get comment() {</span><span class="token lf">
</span><span class="token p">    return this._comment</span><span class="token lf">
</span><span class="token p">  }</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">}</span><span class="token lf">
</span></span><span class="token lf">
</span></pre>
<p>The decorator is no longer set on the value property but on the setter property. This property receives the comment from the comment list—the parent component. It then overrides the author property with an uppercase version of the author's name. The getter just returns the comment, so you can access it from the view.</p>
<p>The following is how it looks in the browser:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-313 image-border" height="1153" src="assets/fb9adce2-7254-4c30-9bbe-d16ff3140fa3.png" width="1995"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Child–parent flow</h1>
                </header>
            
            <article>
                
<p>In this flow, rather than passing data down, the data needs to flow up the chain. Most of the time, the data flows up based on the events triggered on the child by the user and we try to notify the parent about that event. Hence, Angular allows you to listen to the child events on the parent component and to act on the events. These events can be characterized with the data as the payload.</p>
<p>Let's start by registering a double-click event on each comment item via the comment list component:</p>
<pre class="form-control font-rich has-selection"><span class="wmd-input-section"><span class="token p">&lt;app-comment-item </span><span class="token lf">
</span><span class="token p">  *ngFor="let comment of comments" </span><span class="token lf">
</span><span class="token p">  [comment]="comment" </span><span class="token lf">
</span><span class="token p">  (dblclick)="showComment(comment)"&gt;</span><span class="token lf">
</span><span class="token p"><span class="token tag"><span class="token punctuation">&lt;/</span>app-comment-item<span class="token punctuation">&gt;</span></span></span></span><span class="token lf">
</span></pre>
<p>Then, you need to add the <kbd>showComment</kbd> handler on the component class to handle this event:</p>
<pre class="form-control font-rich has-selection"><span class="wmd-input-section"><span class="token p">import { <br/>  Component, <br/>  OnInit, <br/>  Input, <br/>  EventEmitter, <br/>  Output } from '@angular/core';</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">@Component({</span><span class="token lf">
</span><span class="token p">  selector: 'app-comment-list',</span><span class="token lf">
</span><span class="token p">  templateUrl: './comment-list.component.html',</span><span class="token lf">
</span><span class="token p">  styleUrls: ['./comment-list.component.css']</span><span class="token lf">
</span><span class="token p">})</span><span class="token lf">
</span><span class="token p">export class CommentListComponent implements OnInit {</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">  @Input() comments;</span><span class="token lf">
</span><span class="token p">  @Output() onShowComment = new EventEmitter();</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">  constructor() { }</span><span class="token lf">
</span><span class="token p">  </span><span class="token p">ngOnInit() {</span><span class="token p">}</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">  showComment(comment) {</span><span class="token lf">
</span><span class="token p">    this.onShowComment.emit(comment);</span><span class="token lf">
</span><span class="token p">  }</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">}</span><span class="token lf">
</span></span><span class="token lf">
</span></pre>
<p>The handler uses <kbd>onShowComment</kbd>, which is decorated as an output property with the <kbd>Output</kbd> decorator to emit an event of the <kbd>EventEmitter</kbd> type. This emitted event is what the parent component will need to listen to. Note how the comment is passed to the <kbd>emit</kbd> method; this shows how we can pass data from the child to the parent.</p>
<p>Next, we listen to the parent component (<kbd>App</kbd>) for this event to occur:</p>
<pre class="form-control font-rich has-selection"><span class="wmd-input-section"><span class="token p"><span class="token tag"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span></span><span class="token lf">
</span><span class="token p">  <span class="token tag"><span class="token punctuation">&lt;</span>h2<span class="token punctuation">&gt;</span></span>Comments<span class="token tag"><span class="token punctuation">&lt;/</span>h2<span class="token punctuation">&gt;</span></span></span><span class="token lf">
</span><span class="token p">  &lt;app-comment-list <br/>    [comments]="comments" <br/>    (onShowComment)="onShowComment($event)"&gt;<br/><span class="token tag"><span class="token punctuation">  &lt;/</span>app-comment-list<span class="token punctuation">&gt;</span></span></span><span class="token lf">
</span><span class="token p"><span class="token tag"><span class="token punctuation">&lt;/</span>div<span class="token punctuation">&gt;</span></span></span></span><span class="token lf">
</span></pre>
<p>Note that the event binding annotation, <kbd>()</kbd>, is used for events, in this case, <kbd>onShowComment</kbd>. The binding refers to <kbd>EventEmitter</kbd>, while its value refers to the handler method that is yet to be created. The handler method is called, and we pass the value data from the child component as <kbd>$event</kbd>.</p>
<p>Here is the implementation of the handler:</p>
<pre class="form-control font-rich has-selection"><span class="wmd-input-section"><span class="token p">import { Component } from '@angular/core';</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">@Component({</span><span class="token lf">
</span><span class="token p">  selector: 'app-root',</span><span class="token lf">
</span><span class="token p">  templateUrl: './app.component.html',</span><span class="token lf">
</span><span class="token p">  styleUrls: ['./app.component.css']</span><span class="token lf">
</span><span class="token p">})</span><span class="token lf">
</span><span class="token p">export class AppComponent {</span><span class="token lf">
</span><span class="token p">  title = 'app';</span><span class="token lf">
</span><span class="token p">  comments = [</span><span class="token lf">
</span><span class="token p">    {</span><span class="token lf">
</span><span class="token p">      author: 'Jay Kay',</span><span class="token lf">
</span><span class="token p">      content: 'TypeScript makes Angular awesome'</span><span class="token lf">
</span><span class="token p">    },</span><span class="token lf">
</span><span class="token p">    // ...</span><span class="token lf">
</span><span class="token p">  ]</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">  onShowComment(comment) {</span><span class="token lf">
</span><span class="token p">    alert(comment.content);</span><span class="token lf">
</span><span class="token p">  }</span><span class="token lf">
</span><span class="token p">}</span><span class="token lf">
</span></span><span class="token lf">
</span></pre>
<p>The method just alerts the comment as shown in the following screenshot:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-314 image-border" height="1248" src="assets/536c136e-4205-42ba-88e1-03897066c949.png" width="1991"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Accessing properties and methods of a child via a parent component</h1>
                </header>
            
            <article>
                
<p>Other than data flowing in and the event pushed up, there are other strategies for communication. We can access child members from the parent component using template variables. Let's create a counter component to serve as our example:</p>
<pre><strong>ng g component counter</strong></pre>
<p>Now add a counter variable and initialize it to zero:</p>
<p class="mce-root"/>
<p class="mce-root"/>
<pre class="form-control font-rich has-selection"><span class="wmd-input-section"><span class="token p"><span class="token tag"><span class="token punctuation">//counter.component.html<br/>&lt;</span>h5<span class="token punctuation">&gt;</span></span></span><span class="token lf">
</span><span class="token p">  {{counter}}</span><span class="token lf">
</span><span class="token p"><span class="token tag"><span class="token punctuation">&lt;/</span>h5<span class="token punctuation">&gt; <br/></span></span></span></span>//counter.component<span>.ts <br/></span><span class="wmd-input-section"><span class="token p">import { Component, OnInit } from '@angular/core';</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">@Component({</span><span class="token lf">
</span><span class="token p">  selector: 'app-counter',</span><span class="token lf">
</span><span class="token p">  templateUrl: './counter.component.html',</span><span class="token lf">
</span><span class="token p">  styleUrls: ['./counter.component.css']</span><span class="token lf">
</span><span class="token p">})</span><span class="token lf">
</span><span class="token p">export class CounterComponent implements OnInit {</span><span class="token lf">
</span><span class="token p">  </span><span class="token lf">
</span><span class="token p">  counter: number = 0;</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">  increment() {</span><span class="token lf">
</span><span class="token p">    this.counter++</span><span class="token lf">
</span><span class="token p">  }</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">  decrement() {</span><span class="token lf">
</span><span class="token p">    this.counter--</span><span class="token lf">
</span><span class="token p">  }</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">}</span><span class="token lf">
</span></span><span class="token lf">
</span></pre>
<p>Also, there are two methods to just increment or decrement the counter. Note that nothing calls these methods; there are no buttons with an event attached to increment or decrement. What we want to do is access these methods from the parent component.</p>
<p>To do so, add the component to the template with a template variable:</p>
<pre class="form-control font-rich has-selection"><span class="wmd-input-section"><span class="token p"><span class="token tag"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span></span><span class="token lf">
</span><span class="token p">  <span class="token tag"><span class="token punctuation">&lt;</span>h2<span class="token punctuation">&gt;</span></span>Comments<span class="token tag"><span class="token punctuation">&lt;/</span>h2<span class="token punctuation">&gt;</span></span></span><span class="token lf">
</span><span class="token p">  &lt;app-comment-list [comments]="comments" (onShowComment)="onShowComment($event)"&gt;<span class="token tag"><span class="token punctuation">&lt;/</span>app-comment-list<span class="token punctuation">&gt;</span></span></span><span class="token lf">
</span><span class="token p"> <br/>  ...<br/><br/>  <span class="token tag"><span class="token punctuation">&lt;</span>h2<span class="token punctuation">&gt;</span></span>Counter<span class="token tag"><span class="token punctuation">&lt;/</span>h2<span class="token punctuation">&gt;</span></span></span><span class="token lf">
</span><span class="token p">  &lt;app-counter #counter&gt;<span class="token tag"><span class="token punctuation">&lt;/</span>app-counter<span class="token punctuation">&gt;</span></span></span><span class="token lf">
</span><span class="token lf">
</span><span class="token p"><span class="token tag"><span class="token punctuation">&lt;/</span>div<span class="token punctuation">&gt;</span></span></span></span><span class="token lf">
</span></pre>
<p><kbd>#counter</kbd> is a variable that is accessible from anywhere in the template. Hence, you can use it as an object to access the methods and properties of the counter component:</p>
<pre class="form-control font-rich has-selection">&lt;div&gt;
  &lt;h2&gt;Comments&lt;/h2&gt;
  &lt;app-comment-list [comments]="comments" (onShowComment)="onShowComment($event)"&gt;&lt;/app-comment-list&gt;<br/><br/>  ...
  &lt;h2&gt;Counter&lt;/h2&gt;
  &lt;app-counter #counter&gt;&lt;/app-counter&gt;
  &lt;button (click)="counter.increment()"&gt;++&lt;/button&gt;
  &lt;button (click)="counter.decrement()"&gt;--&lt;/button&gt;
&lt;/div&gt;</pre>
<p>This shows a button counter with buttons that we can click to increment or decrement the counter:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-315 image-border" height="1237" src="assets/d175e8fa-a9ae-4ae4-840e-66b381d81a10.png" width="1997"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Accessing child members with ViewChild</h1>
                </header>
            
            <article>
                
<p class="mce-root">If the template variables don't feel natural, you can achieve the same behavior using <kbd>ViewChild</kbd>. This allows you to access the child as a variable on the class and not on the template:</p>
<pre class="form-control font-rich has-selection"><span class="wmd-input-section"><span class="token p">//app.component.ts<br/>import { Component, ViewChild } from '@angular/core';</span><span class="token lf">
</span><span class="token p">import { CounterComponent } from './counter/counter.component'</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">@Component({</span><span class="token lf">
</span><span class="token p">  selector: 'app-root',</span><span class="token lf">
</span><span class="token p">  templateUrl: './app.component.html',</span><span class="token lf">
</span><span class="token p">  styleUrls: ['./app.component.css']</span><span class="token lf">
</span><span class="token p">})</span><span class="token lf">
</span><span class="token p">export class AppComponent {<br/></span><span class="token lf">  
</span><span class="token p">  @ViewChild(CounterComponent)</span><span class="token lf">
</span><span class="token p">  counterComponent: CounterComponent<br/></span><span class="token lf">
</span><span class="token p">  comments = [</span><span class="token lf">
</span><span class="token p">    {&lt;/span&amp;gt;<span class="token lf">
</span><span class="token p">      author: 'Jay Kay',</span><span class="token lf">
</span><span class="token p">      content: 'TypeScript makes Angular awesome'</span><span class="token lf">
</span><span class="token p">    },</span><span class="token lf">
</span><span class="token p">    // ...</span><span class="token lf">
</span><span class="token p">  ]</span><span class="token lf">
</span><span class="token lf">
</span><span class="token p">  onShowComment(comment) {</span><span class="token lf">
</span><span class="token p">    alert(comment.content);</span><span class="token lf">
</span><span class="token p">  }</span><span class="token lf">
</span><span class="token p">  </span><span class="token lf">
</span><span class="token p">}</span><span class="token lf">
</span></span><span class="token lf">
</span></span></pre>
<p>We import the counter component and register it as a child of this component using <kbd>ViewChild</kbd>. We then create a <kbd>counterComponent</kbd> variable of the <kbd>CounterComponent</kbd> type. We can then use this variable in our template:</p>
<pre class="form-control font-rich has-selection"><span class="wmd-input-section"><span class="token p"><span class="token tag"><span class="token punctuation">&lt;</span>app-counter<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token punctuation">&lt;/</span>app-counter<span class="token punctuation">&gt;</span></span></span><span class="token lf">
</span><span class="token p">&lt;button (click)="counterComponent.increment()"&gt;++<span class="token tag"><span class="token punctuation">&lt;/</span>button<span class="token punctuation">&gt;</span></span></span><span class="token lf">
</span><span class="token p">&lt;button (click)="counterComponent.decrement()"&gt;--<span class="token tag"><span class="token punctuation">&lt;/</span>button<span class="token punctuation">&gt;</span></span></span></span><span class="token lf">
</span></pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>Now you can start using components as building blocks by writing small, maintainable components and making them interact with each other using composition. In this chapter, you learned <span>what hierarchical inheritance means in component architectures, </span><span>how data flows up and down hierarchical trees, and </span><span>how components interact with each other.</span></p>
<p>In the next chapter, we will explore a more centric interaction strategy using services. This will help us create logic that components will share, hence keeping our codebase very DRY (Don't Reapeat Yourself).</p>
<p class="mce-root"/>


            </article>

            
        </section>
    </body></html>