- en: Working with Real Hosted Data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Modern web applications are usually data-driven. More often than not, we need
    to CRUD (create, read, update, and delete) data from various resources, or consume
    APIs. Angular makes it easy for us to work with data from external sources for
    use in our components.
  prefs: []
  type: TYPE_NORMAL
- en: 'Angular provides a simple HTTP API that grants our applications HTTP functionality.
    It is built on the native XMLHttpRequest interface exposed by modern browsers,
    and with it, we can carry out any of these HTTP operations:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Get: Requests data from a resource'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Post: Submits data to a resource'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Put: Modifies data in a resource'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Delete: Deletes a specified resource'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In this chapter, we will learn how to work with Angular to consume APIs and
    make our applications data-driven.
  prefs: []
  type: TYPE_NORMAL
- en: Observables
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**Observables**, similar to promises, help handle asynchronous events in an
    application. The key differences between Observables and promises are:'
  prefs: []
  type: TYPE_NORMAL
- en: Observables can handle multiple values over time, while promises are called
    once and return one value
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Observables are cancellable, while promises are not
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: To make use of Observables, Angular utilizes the **Reactive Extensions for JavaScript** (**RxJs**)
    Observables library. Angular makes extensive use of Observables in handling HTTP
    requests and responses; we will learn more about them in this chapter.
  prefs: []
  type: TYPE_NORMAL
- en: The HTTP module
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To get started with using HTTP in your components, you need to install the
    `HttpModule` that provides it in your application module. First, import the module:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'Next, you include the module in the array of imports registered in your application,
    right after `BrowserModule`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: Building a simple todo demo app
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Let us build a simple `todo` app to better understand how to work with data
    in an Angular app.
  prefs: []
  type: TYPE_NORMAL
- en: Angular-CLI will be used to quickly scaffold the application. The API for the
    application will be built with Express.js, and our Angular app will connect to
    this API to CRUD todo data.
  prefs: []
  type: TYPE_NORMAL
- en: Project setup
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To create a new project using the CLI:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: The `ng new` command creates a new angular application
  prefs: []
  type: TYPE_NORMAL
- en: Building the API
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'From the command line, install express, body-parser, and cors as dependencies
    via npm:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: If you use npm 5, you don't need to specify the `-S` or `--save` flag to save
    as a dependency in your `package.json` file.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, we will create a `server.js` file in the root folder of the Angular project
    which will hold all our API logic:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: This file uses new versions of ES6 so you should watch in cases where your code
    editors don't recognize it immediately.
  prefs: []
  type: TYPE_NORMAL
- en: 'The `/api` routes point to the `./routes/index.js` file, but we do not have
    it yet. In this next step, we will create it. Still in the `root` directory, create
    a folder named `routes` and in it a file called `index.js`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: 'To start the server, enter the following command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: 'Here is the output when the server starts running:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/7d5e1721-fed9-4540-80ce-6dc1f3e6d69b.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Here we can see that the server is running and it listens on port 3000.
  prefs: []
  type: TYPE_NORMAL
- en: 'Open up your browser and visit `localhost:3000/api/`:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/2c0f4bae-65a6-4d08-ac67-7d710127414e.jpg)'
  prefs: []
  type: TYPE_IMG
- en: If you can see the response in the preceding image, then the API works. Now
    we can introduce more complex logic so we have actual data to work with.
  prefs: []
  type: TYPE_NORMAL
- en: Installing diskdb
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**Diskdb** is a lightweight disk-based JSON database with a MongoDB-like API
    for Node. We can install diskdb with this command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: Create a `todos.json` file at the root of the directory. This file will serve
    as our database collection where we have our todo items. You can learn more about
    diskdb here [https://www.npmjs.com/package/diskdb](https://www.npmjs.com/package/diskdb).
  prefs: []
  type: TYPE_NORMAL
- en: Updating API endpoints
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Let us update the `routes/index.js` file with the new logic for working with
    our todos:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: In the preceding code, we were able to update our API with `get`, `post`, `put`,
    and `delete` endpoints.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, we will seed our database with some data. Updating the `todos.json` file:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: 'Now we can restart our server and visit `localhost:3000/api/todos` to see our
    API in action:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/981a9500-2ef5-416f-80dd-793714c333e2.jpg)'
  prefs: []
  type: TYPE_IMG
- en: List of Todos from the database.
  prefs: []
  type: TYPE_NORMAL
- en: Creating an Angular component
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Next, we will create a `todo` component. We can easily do that with the Angular-CLI,
    with this command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: 'This generates the following files: `todos.component.ts`, `todos.component.html`,
    and `todos.component.ts`. The todos component is also automatically imported into
    `app.module.ts`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: 'We should be sure to add a `<base href="/">` within the `src/index.html` head
    tag. This is to tell the router how to compose navigation URLs. The `index.html`
    file was created automatically when we used Angular-CLI to generate the angular
    project:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: Creating application routes
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Next, we will create a `/todos` route and have our app redirect to it by default.
  prefs: []
  type: TYPE_NORMAL
- en: 'First, import `RouterModule` from `@angular/router` and add it to the `AppModule`
    imports array:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: 'Create a `ROUTES` array just above `ngModule` declarations and add the following
    route definitions to it:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: 'In the `app.component.html` file, let''s add a router-outlet where we want
    to render the route:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: Creating a todos service
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Next, we will create a service which will handle the calls and connect our
    component to the express API. To generate the service with Angular-CLI:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: The service is created but not registered—to register it in our app, we need
    to add it to the providers section of the main application module.
  prefs: []
  type: TYPE_NORMAL
- en: Angular-CLI does not automatically register services.
  prefs: []
  type: TYPE_NORMAL
- en: 'Add the TodosService to the providers array:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs: []
  type: TYPE_PRE
- en: 'Now, within our service, we will make HTTP calls to the express server to execute
    our CRUD operations. First, we will import `HTTP`, `Headers`, and `rxjs/add/operator/map`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE18]'
  prefs: []
  type: TYPE_PRE
- en: 'Define a constructor and inject the HTTP service:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE19]'
  prefs: []
  type: TYPE_PRE
- en: In the preceding code, we make use of the `HttpModule` to make a simple `get`
    request to our API to retrieve a list of Todos. The response from the request
    is then returned in JSON format.
  prefs: []
  type: TYPE_NORMAL
- en: Next, we will write a method to store todo items, named `addTodos()`. This method
    will be used to make post requests for storing todos.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE20]'
  prefs: []
  type: TYPE_PRE
- en: In the preceding code, we set up new headers and also set `Content-Type` to
    tell the server what type of content it will receive (`'application/json'`).
  prefs: []
  type: TYPE_NORMAL
- en: We made use of the `http.post()` method to make a post request. The parameter,
    `JSON.stringify(todo)` indicates that we want to send the new todo as a JSON encoded
    string. Finally, we can return the response from the API in JSON format.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, we will define a delete method called `deleteTodo()`. This method will
    be used to make delete requests. This enables us to delete todos from the todos
    list. Once again, update `todos.service.ts`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE21]'
  prefs: []
  type: TYPE_PRE
- en: In the preceding code, we defined the `deleteTodo()` method which takes the
    `id` of the post to be deleted as its only parameter. This method makes a delete
    request to the API to remove the specified todo from the database. The response
    from the API is also returned as JSON.
  prefs: []
  type: TYPE_NORMAL
- en: Finally, we will define a method called `updateStatus()`. This method will be
    used to make a `put` request to change the state of a todos item.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE22]'
  prefs: []
  type: TYPE_PRE
- en: In the preceding code, we created an `updateStatus()` method which is similar
    to `addTodos()` method. The difference here is that the `updateStatus()` method
    makes a `put` request. We also concatenated `todo._id` to the API endpoint being
    called. This enables us to modify the state of a single item from the todos list.
  prefs: []
  type: TYPE_NORMAL
- en: 'Remember, we are making use of the HTTP API in our service, hence, we should
    import `HttpModule` in `app.module.ts` and include it in the imports array:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE23]'
  prefs: []
  type: TYPE_PRE
- en: Connecting the service with our todos component
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'First, we have to import todos service in todos component:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE24]'
  prefs: []
  type: TYPE_PRE
- en: 'Then add the `TodosService` class in the component''s constructor:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE25]'
  prefs: []
  type: TYPE_PRE
- en: Now, we will make use of the todo service to `get`, `create`, `delete`, and
    `update` todos.
  prefs: []
  type: TYPE_NORMAL
- en: 'This is what our todos component should look like:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE26]'
  prefs: []
  type: TYPE_PRE
- en: We just enabled communication between the service and the component. The `component.ts`
    file can now make use of the service and the methods in it.
  prefs: []
  type: TYPE_NORMAL
- en: Now that we have connected the service and component, we have to display the
    todos operations in the browser, and this will be done in `todos.component.html`.
  prefs: []
  type: TYPE_NORMAL
- en: Implementing the view
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To display todos, we shall make use of:'
  prefs: []
  type: TYPE_NORMAL
- en: Angular's `*ngFor` directive, which iterates over the todos array and renders
    an instance of this template for each todo in that array
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Angular's interpolation binding syntax, `{{}}`
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Update `todos.component.html`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE27]'
  prefs: []
  type: TYPE_PRE
- en: 'To make our app look better, we will make use of bootstrap. **Bootstrap** is
    a powerful front-end framework for creating web and user interface components
    like forms, modals, accordions, carousels, and tabs:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE28]'
  prefs: []
  type: TYPE_PRE
- en: 'Update `todos.component.html`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE29]'
  prefs: []
  type: TYPE_PRE
- en: Open up a command line/terminal and navigate to the project folder. Run node
    `server.js` to start the server. Open another terminal window in the `project`
    folder and run `ng serve` to serve the Angular app.
  prefs: []
  type: TYPE_NORMAL
- en: 'Open up the browser and visit `localhost:4200`. This is what the result should
    look like the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/06388fbe-6640-4e52-a8a6-d751eca2cb6c.jpg)'
  prefs: []
  type: TYPE_IMG
- en: We have succeeded in creating a todo app by making HTTP requests to the node
    server through the service and then rendering the result to the DOM through the
    component. You can add a todo, delete a todo, get all todos and when you click
    on a todo, the boolean value changes and a strikethrough appears across that particular
    todo. When you reload the browser, you can see that the changes made to the todo
    list persist.
  prefs: []
  type: TYPE_NORMAL
- en: 'Let us take a brief recap of all that we have done:'
  prefs: []
  type: TYPE_NORMAL
- en: First, we created an Angular application using the Angular-CLI
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Then we created a server file, where we required our dependencies, created an
    express app, set our API routes, declared a port for our server to listen to,
    added parsers for post data, and so on
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We then defined our source of data which was a `.json` file of todos communicating
    with **diskdb**
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Created an Angular component
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Created a service with `get`, `post`, `put`, and `delete` methods that communicate
    with the REST API
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Let us look at another example. We'll create a simple app to display a list
    of users together with their emails, and phone numbers. The users will also have
    a true or false state, indicating whether they are available or unavailable.
  prefs: []
  type: TYPE_NORMAL
- en: Build a user directory with Angular
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The application we are about to build will have a REST API which will be created
    during the course of this example. In this simple example, we'll be creating a
    `users` app which will be quite simple. The app will basically be a table which
    contains a list of users together with their email addresses and phone numbers.
    Each user in the table will have an *active* state whose value is a boolean. We
    will be able to change the *active* state of a particular user from false to true
    and vice versa. The app will give us the ability to add new users and also delete
    users from the table. Just like the previous example, diskDB will be used as the
    database for this example. We will have an Angular service which contains methods
    that will be responsible for communicating with the REST end points. These methods
    will be responsible for making `get`, `post`, `put`, and `delete` requests to
    the REST API. The first method in the service will be responsible for making a
    `get` request to the API. This will enable us to retrieve all the users from the
    back end. Next, we will have another method that makes a `post` request to the
    API. This will enable us to add new users to the array of existing users.
  prefs: []
  type: TYPE_NORMAL
- en: The next method we shall have will be responsible for making a `delete` request
    to the API in order to enable the deletion of a user. Finally, we shall have a
    method that makes a `put` request to the API. This will be the method that gives
    us the ability to edit/modify the state of a user. In order to make these requests
    to the REST API, we will have to make use of the HttpModule. The aim of this section
    is to solidify your knowledge of HTTP. As a JavaScript and, in fact, an Angular
    developer, you are bound to make interactions with APIs and web servers almost
    all the time. So much data used by developers today is in form of APIs and in
    order to make interactions with these APIs, we need to constantly make use of
    HTTP requests. As a matter of fact, HTTP is the foundation of data communication
    for the web.
  prefs: []
  type: TYPE_NORMAL
- en: Create a new Angular app
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'As shown previously, to start a new Angular app, run the following command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE30]'
  prefs: []
  type: TYPE_PRE
- en: This creates the Angular 2 user app.
  prefs: []
  type: TYPE_NORMAL
- en: 'Install the following dependencies:'
  prefs: []
  type: TYPE_NORMAL
- en: Express
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Body-parser
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Cors
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE31]'
  prefs: []
  type: TYPE_PRE
- en: Create a Node server
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Create a file called `server.js` at the root of the project directory. This
    will be our node server.
  prefs: []
  type: TYPE_NORMAL
- en: 'Populate `server.js` with the following block of code:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE32]'
  prefs: []
  type: TYPE_PRE
- en: 'What''s going on here is pretty simple:'
  prefs: []
  type: TYPE_NORMAL
- en: We required and made use of the dependencies
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We defined and set the API routes
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We set a port for our server to listen to
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The API routes are being required from `./route`, but this path does not exist
    yet. Let's quickly create it.
  prefs: []
  type: TYPE_NORMAL
- en: At the root of the project directory, create a file called `route.js`. This
    is where the API routes will be made. We need to have a form of a database from
    where we can fetch, post, delete, and modify data.
  prefs: []
  type: TYPE_NORMAL
- en: Just as in the previous example, we will make use of diskdb. The route will
    pretty much have the same pattern as in the first example.
  prefs: []
  type: TYPE_NORMAL
- en: Install diskDB
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Run the following in the project folder to install diskdb:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE33]'
  prefs: []
  type: TYPE_PRE
- en: Create a `users.json` file at the root of the project directory to serve as
    our database collection where we have our users' details.
  prefs: []
  type: TYPE_NORMAL
- en: 'Populate `users.json` with the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE34]'
  prefs: []
  type: TYPE_PRE
- en: Now, update `route.js`.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE35]'
  prefs: []
  type: TYPE_PRE
- en: We've created a REST API with the API routes, using diskDB as the database.
  prefs: []
  type: TYPE_NORMAL
- en: 'Start the server using the following command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE36]'
  prefs: []
  type: TYPE_PRE
- en: The server is running and it is listening to the assigned port. Now, open up
    the browser and go to `http://localhost:3000/api/users`.
  prefs: []
  type: TYPE_NORMAL
- en: Here, we can see the data that we imputed to the `users.json` file. This shows
    that our routes are working and we are getting data from the database.
  prefs: []
  type: TYPE_NORMAL
- en: Create a new component
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Run the following command to create a new component:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE37]'
  prefs: []
  type: TYPE_PRE
- en: 'This creates `user.component.ts`, `user.component.html`, `user.component.css`
    and `user.component.spec.ts` files. `User.component.spec.ts` is used for testing,
    therefore we will not be making use of it in this chapter. The newly created component
    is automatically imported into `app.module.ts`. We have to tell the root component
    about the user component. We''ll do this by importing the selector from `user.component.ts`
    into the root template component (`app.component.html`):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE38]'
  prefs: []
  type: TYPE_PRE
- en: Create a service
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The next step is to create a service that interacts with the API that we created
    earlier:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE39]'
  prefs: []
  type: TYPE_PRE
- en: 'This creates a user service called the `user.service.ts`. Next, import `UserService`
    class into `app.module.ts` and include it to the providers array:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE40]'
  prefs: []
  type: TYPE_PRE
- en: 'Within the service class, write a method that makes a `get` request to fetch
    all users and their details from the API:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE41]'
  prefs: []
  type: TYPE_PRE
- en: 'Write the method that makes a `post` request and creates a new todo:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE42]'
  prefs: []
  type: TYPE_PRE
- en: 'Write another method that makes a `delete` request. This will enable us to
    delete a user from the collection of users:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE43]'
  prefs: []
  type: TYPE_PRE
- en: 'Finally, write a method that makes a `put` request. This method will enable
    us to modify the state of a user:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE44]'
  prefs: []
  type: TYPE_PRE
- en: 'Update `app.module.ts` to import `HttpModule` and `FormsModule` and include
    them to the imports array:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE45]'
  prefs: []
  type: TYPE_PRE
- en: 'The next thing to do is to teach the user component to use the service:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE46]'
  prefs: []
  type: TYPE_PRE
- en: Now, we can make use of the methods from the user service in the user component.
  prefs: []
  type: TYPE_NORMAL
- en: Updating user.component.ts
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Within the `ngOnInit` method, make use of the user service to `get` all users
    from the API:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE47]'
  prefs: []
  type: TYPE_PRE
- en: 'Below the `ngOnInit` method, write a method that makes use of the `post` method
    in the user service to add new users:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE48]'
  prefs: []
  type: TYPE_PRE
- en: 'Let''s make use of the `delete` method from the user service to enable us to delete
    users:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE49]'
  prefs: []
  type: TYPE_PRE
- en: 'Finally, we''ll make use of user service to make `put` requests to the API:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE50]'
  prefs: []
  type: TYPE_PRE
- en: We have all our communication with the API, service, and component. We have
    to update `user.component.html` in order to illustrate all that we have done in
    the browser.
  prefs: []
  type: TYPE_NORMAL
- en: 'We''ll be making use of bootstrap for styling. So, we have to import the bootstrap
    CDN in `index.html`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE51]'
  prefs: []
  type: TYPE_PRE
- en: Updating user.component.html
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Here is the component template for the user component:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE52]'
  prefs: []
  type: TYPE_PRE
- en: 'A lot is going on in the preceding code, let''s drill down into the code block:'
  prefs: []
  type: TYPE_NORMAL
- en: We have a form which takes in three inputs and a submit button which triggers
    the `addUser()` method when clicked
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: There is a delete button which triggers the `delete` method when it is clicked
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: There is also an update status input element that triggers the `updateUser()`
    method when clicked
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We created a table in which our users' details will be displayed utilizing Angular's
    `*ngFor` directive and Angular's interpolation binding syntax, `{{}}`
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Some extra styling will be added to the project. Go to `user.component.css`
    and add the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE53]'
  prefs: []
  type: TYPE_PRE
- en: Running the app
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Open up two command line interfaces/terminals. In both of them, navigate to
    the project directory. Run node `server.js` to start the server in one. Run `ng
    serve` in the other to serve the Angular 2 app.
  prefs: []
  type: TYPE_NORMAL
- en: Open up the browser and go to `localhost:4200`.
  prefs: []
  type: TYPE_NORMAL
- en: In this simple users app, we can perform all CRUD operations. We can create
    new users, get users, delete users, and update the state of users.
  prefs: []
  type: TYPE_NORMAL
- en: By default, a newly added user's active state is false. That can be changed
    by clicking on the change state button.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Working with actual data from a database or from an API is quite important when
    developing any application. HTTP along with observables and Rxjs made it possible
    to work with the desired set of data from an API, and also perform all CRUD operations.
  prefs: []
  type: TYPE_NORMAL
- en: In the next chapter, we'll be taking a look at writing unit tests and debugging.
  prefs: []
  type: TYPE_NORMAL
