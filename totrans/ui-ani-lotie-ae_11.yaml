- en: '*Chapter 8*: Installing lottie-react-native'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*第8章*：安装lottie-react-native'
- en: 'Before using `lottie-react-native`, we need to install the library into our
    React Native project as a node module so we can import it inside the code base
    of our app. To perform this installation, we have two different options:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在使用`lottie-react-native`之前，我们需要将其作为node模块安装到我们的React Native项目中，这样我们就可以在应用程序的代码库中导入它。为了执行此安装，我们有两种不同的选择：
- en: npm
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: npm
- en: Yarn
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yarn
- en: Both tools will result in the same output (`lottie-react-native`) and its dependencies
    will be installed inside the `node_modules` folder inside our React Native project
    folder. Using one tool or another will be up to each developer and should not
    influence the resulting product in any way.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 这两种工具都将产生相同的输出（`lottie-react-native`），并且其依赖项将被安装在我们React Native项目文件夹内的`node_modules`文件夹中。使用哪种工具将由每个开发者自行决定，并且不应以任何方式影响最终产品。
- en: 'The topics we will cover in this chapter are as follows:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 本章我们将讨论以下主题：
- en: Basic installation (using npm or Yarn)
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基本安装（使用npm或Yarn）
- en: Dependencies of `lottie-react-native`
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`lottie-react-native`的依赖项'
- en: iOS requirements when installing `lottie-react-native`
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装`lottie-react-native`时的iOS要求
- en: Android requirements
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装Android所需的版本
- en: Installing previous versions of `lottie-react-native`
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装`lottie-react-native`的早期版本
- en: Basic installation
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 基本安装
- en: 'Installing `lottie-react-native` follows a similar process as any other npm
    library, taking into account that it''s a library that depends on native libraries
    written in Swift and Java. Taking this into account, developers can always read
    about the installation process in the GitHub repository URL: [https://github.com/lottie-react-native/lottie-react-native](https://github.com/lottie-react-native/lottie-react-native).'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 安装`lottie-react-native`的过程与任何其他npm库类似，考虑到它依赖于用Swift和Java编写的本地库。考虑到这一点，开发者可以阅读GitHub仓库中的安装过程：[https://github.com/lottie-react-native/lottie-react-native](https://github.com/lottie-react-native/lottie-react-native)。
- en: When installing `lottie-react-native`, developers should know that, because
    of the way it is built, the iOS native library for Lottie should also be installed
    to enable `lottie-react-native` to render Lottie animations in iOS apps.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 当安装`lottie-react-native`时，开发者应该知道，由于它的构建方式，iOS的Lottie本地库也应该被安装，以便`lottie-react-native`能够在iOS应用程序中渲染Lottie动画。
- en: Let's take a look at the steps we need to follow in order to complete a successful
    installation.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看我们需要遵循哪些步骤才能完成一个成功的安装。
- en: Using npm
  id: totrans-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用npm
- en: 'Follow these steps to install the `lottie-react-native` library using npm:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤使用npm安装`lottie-react-native`库：
- en: 'Navigate to our terminal in the React Native project root folder. Once we are
    there, we should run the following command:'
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到React Native项目根目录的终端。一旦我们到了那里，我们应该运行以下命令：
- en: '[PRE0]'
  id: totrans-18
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'This command will follow four different steps:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 此命令将遵循四个不同的步骤：
- en: Download the source files for the library from the npm repository.
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从npm仓库下载库的源文件。
- en: Create the container folder inside the `node_modules` folder.
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`node_modules`文件夹内创建容器文件夹。
- en: Install the source files in the created container folder.
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在创建的容器文件夹中安装源文件。
- en: Update the `package.json` and `package.json.lock` files to mark the library
    as a dependency of the React Native project.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新`package.json`和`package.json.lock`文件，将库标记为React Native项目的依赖项。
- en: npm detects and installs the latest version of the library from the npm public
    repository, but we could force a specific version of the library by specifying
    it after an `@` sign followed by the version number we would like to install.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: npm从npm公共仓库检测并安装库的最新版本，但我们可以通过在版本号后跟一个`@`符号来强制安装特定版本的库。
- en: 'Once npm is finished installing the library, we need to install its iOS dependency
    if we are going to require our Lottie animations to be rendered on iOS devices:'
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦npm安装完库，如果我们需要在iOS设备上渲染Lottie动画，我们需要安装其iOS依赖项：
- en: '[PRE1]'
  id: totrans-26
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Running this command will trigger the installation of `lottie-ios` on a very
    specific version, 3.2.3, which is the compatible version for `lottie-react-native`
    to work properly on iOS devices.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 运行此命令将触发在非常具体的版本3.2.3上安装`lottie-ios`，这是`lottie-react-native`在iOS设备上正常工作的兼容版本。
- en: 'Once npm finishes installing `lottie-ios`, we need to install its pod dependencies.
    We will do so by going into the `ios` folder inside our React Native project and
    running the following:'
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦npm安装完`lottie-ios`，我们需要安装其pods依赖项。我们将通过进入React Native项目内的`ios`文件夹并运行以下命令来完成此操作：
- en: '[PRE2]'
  id: totrans-29
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: This action will trigger CocoaPods, a dependency management tool for iOS and
    macOS projects that will download and install all the dependencies required by
    `lottie-ios` to function.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 此操作将触发CocoaPods，这是一个用于iOS和macOS项目的依赖项管理工具，它将下载并安装`lottie-ios`运行所需的所有依赖项。
- en: Once all these dependencies are installed, we can start using the `lottie-react-native`
    library inside our React Native app.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦所有这些依赖项都安装完毕，我们就可以开始在React Native应用中使用`lottie-react-native`库。
- en: Using Yarn
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用Yarn
- en: Using Yarn for installing `lottie-react-native` is similar to using npm.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 使用Yarn安装`lottie-react-native`与使用npm类似。
- en: 'Let''s see how to do so:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看如何做到这一点：
- en: 'Navigate from our terminal into our React Native project root folder. Once
    in that folder, we will run the following command:'
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从我们的终端导航到React Native项目根文件夹。进入该文件夹后，我们将运行以下命令：
- en: '[PRE3]'
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'This command will follow four different steps:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 此命令将遵循四个不同的步骤：
- en: Download the source files for the library from the npm public repository.
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从npm公共仓库下载库的源文件。
- en: Create the container folder inside the `node_modules` folder.
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`node_modules`文件夹内创建容器文件夹。
- en: Install the source files in the created container folder.
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在创建的容器文件夹中安装源文件。
- en: Update the `package.json` and `yarn.lock` files to mark the library as a dependency
    of the React Native project.
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更新`package.json`和`yarn.lock`文件，将库标记为React Native项目的依赖项。
- en: Yarn always looks for the latest version of the library in the npm public repository,
    but we could force a specific version of the library by specifying it after an
    `@` sign followed by the version number we would like to install.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: Yarn总是在npm公共仓库中寻找库的最新版本，但我们可以通过在版本号前加上一个`@`符号来强制安装特定版本的库。
- en: 'Once Yarn has finished installing the library, we need to install its iOS dependency
    if we are going to need our Lottie animations to be rendered on iOS devices. We
    can install it by running the following command in our project''s root folder:'
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦Yarn完成库的安装，如果我们需要在iOS设备上渲染Lottie动画，我们需要安装其iOS依赖项。我们可以在项目根目录中运行以下命令来安装它：
- en: '[PRE4]'
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Running this command will install `lottie-ios` on its version number 3.2.3,
    which is the compatible version for `lottie-react-native` to work properly on
    iOS devices.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 运行此命令将在其版本号3.2.3上安装`lottie-ios`，这是`lottie-react-native`在iOS设备上正常工作的兼容版本。
- en: 'Once Yarn finishes installing `lottie-ios`, we need to install its pod dependencies.
    We will do so by going into the `ios` folder inside our React Native project and
    running the following:'
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦Yarn完成`lottie-ios`的安装，我们需要安装其pod依赖项。我们将通过进入React Native项目中的`ios`文件夹并运行以下命令来完成此操作：
- en: '[PRE5]'
  id: totrans-47
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: This action will trigger CocoaPods, a dependency management tool for iOS and
    macOS projects that will download and install all the dependencies required by
    `lottie-ios` to function.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 此操作将触发CocoaPods，这是一个用于iOS和macOS项目的依赖项管理工具，它将下载并安装`lottie-ios`运行所需的所有依赖项。
- en: Once all these dependencies are installed, we can start using the `lottie-react-native`
    library inside our React Native app. This library depends on other packages in
    order to deploy all its functionality. Let's take a look now at these packages.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦所有这些依赖项都安装完毕，我们就可以开始在React Native应用中使用`lottie-react-native`库。这个库依赖于其他包来部署其所有功能。现在让我们看看这些包。
- en: Other dependencies of lottie-react-native
  id: totrans-50
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: lottie-react-native的其他依赖项
- en: 'As with many other libraries, `lottie-react-native` depends on a number of
    libraries that will be automatically installed when running npm or Yarn installations,
    as we did in the previous section of this chapter. The full list of dependencies
    is as follows:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 与许多其他库一样，`lottie-react-native`依赖于一些库，当运行npm或Yarn安装时，这些库会自动安装，正如我们在本章前面的部分所做的那样。依赖项的完整列表如下：
- en: '[PRE6]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '[PRE7]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '[PRE8]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '[PRE9]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '[PRE10]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '[PRE11]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '[PRE12]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '[PRE13]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '[PRE14]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '[PRE15]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'As we can see, `lottie-react-native` needs to run on a project that contains
    at least three dependent libraries: `lottie-ios` (which should be installed using
    npm or Yarn, as we saw in the previous section of this chapter), `react`, and
    `react-native` (version 0.46 or higher).'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 如我们所见，`lottie-react-native`需要在包含至少三个依赖库的项目上运行：`lottie-ios`（应使用npm或Yarn安装，正如我们在本章前面的部分所看到的）、`react`和`react-native`（版本0.46或更高）。
- en: 'On top of those peer dependencies, `lottie-react-native` also requires three
    regular dependencies: `invariant`, `prop-types`, and `react-native-safe-modules`.
    All of them will be installed automatically by npm or Yarn so developers do not
    need to take any manual action to install them.'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这些同级依赖项之外，`lottie-react-native` 还需要三个常规依赖项：`invariant`、`prop-types` 和 `react-native-safe-modules`。所有这些都将由
    npm 或 Yarn 自动安装，因此开发者无需采取任何手动操作来安装它们。
- en: Let's take a look now at the platform-specific requirements that `lottie-react-native`
    has.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们看看 `lottie-react-native` 对平台特定的要求。
- en: Installation requirements
  id: totrans-65
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装要求
- en: Both platforms have specific requirements for `lottie-react-native` to be installed
    properly. Let's take a look now at what those differences are and how we can complete
    the installation in iOS and Android.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 两个平台都对 `lottie-react-native` 的正确安装有特定的要求。现在让我们看看这些差异是什么，以及我们如何在 iOS 和 Android
    上完成安装。
- en: iOS devices
  id: totrans-67
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: iOS 设备
- en: For its iOS version, `lottie-react-native` depends on `lottie-ios`, which is
    a library built by Airbnb in Swift. This means we need to enable our React Native
    app to read and execute Swift code. In order to do so, we need to create a bridging
    header (if we haven't done it yet) so the Objective-C part of our app can communicate
    with the Swift part and therefore, send and receive messages to `lottie-ios`.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 对于其 iOS 版本，`lottie-react-native` 依赖于 `lottie-ios`，这是一个由 Airbnb 用 Swift 编写的库。这意味着我们需要让我们的
    React Native 应用能够读取和执行 Swift 代码。为了做到这一点，我们需要创建一个桥接头（如果我们还没有这样做的话），这样我们的应用 Objective-C
    部分就可以与 Swift 部分通信，从而向 `lottie-ios` 发送和接收消息。
- en: 'If we don''t have a bridging header in our project, we can create one by following
    these steps:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们的项目中没有桥接头，我们可以通过以下步骤创建一个：
- en: 'Open your `<project_name|/ios/<project_name|.xcworkspace` file in Xcode and
    go to **File** | **New** | **File…**:'
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Xcode 中打开您的 `<项目名称|/ios/<项目名称|.xcworkspace` 文件，然后转到 **文件** | **新建** | **文件…**：
- en: '![Figure 8.1 – Creating a new file in your Xcode project'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.1 – 在您的 Xcode 项目中创建新文件](img/Figure_8.1_B17930.jpg)'
- en: '](img/Figure_8.1_B17930.jpg)'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.1_B17930.jpg](img/Figure_8.1_B17930.jpg)'
- en: Figure 8.1 – Creating a new file in your Xcode project
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.1 – 在您的 Xcode 项目中创建新文件
- en: 'Select **Swift File** as the file type:'
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 **Swift 文件** 作为文件类型：
- en: '![Figure 8.2 – Selecting Swift as file type'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.2 – 选择 Swift 作为文件类型](img/Figure_8.2_B17930.jpg)'
- en: '](img/Figure_8.2_B17930.jpg)'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.2 – 选择 Swift 作为文件类型](img/Figure_8.2_B17930.jpg)'
- en: Figure 8.2 – Selecting Swift as file type
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.2 – 选择 Swift 作为文件类型
- en: 'Confirm the creation of a bridging header:'
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认创建桥接头：
- en: '![Figure 8.3 – Confirming creation of bridging header'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.3 – 确认创建桥接头](img/Figure_8.3_B17930.jpg)'
- en: '](img/Figure_8.3_B17930.jpg)'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.3_B17930.jpg](img/Figure_8.3_B17930.jpg)'
- en: Figure 8.3 – Confirming creation of bridging header
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.3 – 确认创建桥接头
- en: Upon finishing these steps, our app should be ready to start using `lottie-react-native`
    on any iOS and macOS device. Let's now prepare our app to run `lottie-react-native`
    on Android devices.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 完成这些步骤后，我们的应用应该准备好在任意的 iOS 和 macOS 设备上使用 `lottie-react-native`。现在让我们准备我们的应用，以便在
    Android 设备上运行 `lottie-react-native`。
- en: Android devices
  id: totrans-83
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Android 设备
- en: 'On some rare occasions, auto-linking may not work properly when installing
    `lottie-react-native` on Android devices. This will result in the app crashing
    when trying to build it. In this case, you would need to follow these steps to
    fix the issue:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 在一些罕见的情况下，当在 Android 设备上安装 `lottie-react-native` 时，自动链接可能无法正常工作。这将导致在尝试构建应用时应用崩溃。在这种情况下，您需要按照以下步骤来修复问题：
- en: 'Make the following changes in `android/app/src/main/java/<project_name|/MainApplication.java`:'
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `android/app/src/main/java/<项目名称|/MainApplication.java` 文件中进行以下更改：
- en: Add `import com.airbnb.android.react.lottie.LottiePackage;` in the `import`
    section.
  id: totrans-86
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `import` 部分添加 `import com.airbnb.android.react.lottie.LottiePackage;`。
- en: Add `packages.add(new LottiePackage());` in `List<ReactPackage| getPackages();`.
  id: totrans-87
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `List<ReactPackage| getPackages();` 中添加 `packages.add(new LottiePackage());`。
- en: 'Make the following change in `android/app/build.gradle`:'
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `android/app/build.gradle` 文件中进行以下更改：
- en: Add `implementation project(':lottie-react-native')` in the dependencies block.
  id: totrans-89
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在依赖项块中添加 `implementation project(':lottie-react-native')`。
- en: 'Add the following lines in `android/settings.gradle`:'
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `android/settings.gradle` 文件中添加以下行：
- en: '[PRE16]'
  id: totrans-91
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: When all these changes are done, rebuild the app for Android devices and check
    whether the crash is fixed. As we have our installation finished, let's move on
    now to see the limitations and possibilities of using the most well-known Lottie
    features.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 当所有这些更改完成后，为 Android 设备重新构建应用并检查崩溃是否已修复。既然我们的安装已完成，现在让我们继续看看使用最著名的 Lottie 功能的限制和可能性。
- en: Limited features of the lottie-react-native library
  id: totrans-93
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: lottie-react-native 库的有限功能
- en: 'Not all Adobe `lottie-react-native`. In fact, Airbnb maintains a list of non-supported
    features on their website: [https://github.com/airbnb/lottie/blob/master/supported-features.md](https://github.com/airbnb/lottie/blob/master/supported-features.md).'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 并非所有 Adobe `lottie-react-native` 都支持。实际上，Airbnb 在他们的网站上维护了一个不支持的功能列表：[https://github.com/airbnb/lottie/blob/master/supported-features.md](https://github.com/airbnb/lottie/blob/master/supported-features.md).
- en: 'The support list for the most common features at the time of writing is as
    follows:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 写作时最常见的功能支持列表如下：
- en: 'Lottie support for basic geometric shapes in AE:'
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lottie 在 AE 中对基本几何形状的支持：
- en: '![Figure 8.4 – Support for shapes features'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.4 – 形状功能支持'
- en: '](img/Figure_8.4_B17930.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.4_B17930.jpg)'
- en: Figure 8.4 – Support for shapes features
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.4 – 形状功能支持
- en: 'Lottie support for basic text effects and formats in AE:'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lottie 在 AE 中对基本文本效果和格式的支持：
- en: '![Figure 8.5 – Support for text features'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.5 – 文本功能支持'
- en: '](img/Figure_8.5_B17930.jpg)'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.5_B17930.jpg)'
- en: Figure 8.5 – Support for text features
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.5 – 文本功能支持
- en: 'Lottie support for masking effects in AE:'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lottie 在 AE 中对遮罩效果的支持：
- en: '![Figure 8.6 – Support for masks features'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.6 – 遮罩功能支持'
- en: '](img/Figure_8.6_B17930.jpg)'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.6_B17930.jpg)'
- en: Figure 8.6 – Support for masks features
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.6 – 遮罩功能支持
- en: 'Lottie support for layer effects in AE:'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lottie 在 AE 中对层效果的支持：
- en: '![Figure 8.7 – Support for layer effects features'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.7 – 层效果功能支持'
- en: '](img/Figure_8.7_B17930.jpg)'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.7_B17930.jpg)'
- en: Figure 8.7 – Support for layer effects features
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.7 – 层效果功能支持
- en: 'Lottie support for shapes and graphics-driven transparencies in AE:'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lottie 在 AE 中对形状和图形驱动透明度的支持：
- en: '![Figure 8.8 – Support for mattes features'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.8 – 遮色片功能支持'
- en: '](img/Figure_8.8_B17930.jpg)'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.8_B17930.jpg)'
- en: Figure 8.8 – Support for mattes features
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.8 – 遮色片功能支持
- en: 'Lottie support for shape combination techniques in AE:'
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lottie 在 AE 中对形状组合技术的支持：
- en: '![Figure 8.9 – Support for merge paths features'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.9 – 合并路径功能支持'
- en: '](img/Figure_8.9_B17930.jpg)'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.9_B17930.jpg)'
- en: Figure 8.9 – Support for merge paths features
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.9 – 合并路径功能支持
- en: 'Lottie support for other effects in AE:'
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lottie 在 AE 中对其他效果的支持：
- en: '![Figure 8.10 – Support for other features'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.10 – 其他功能支持'
- en: '](img/Figure_8.10_B17930.jpg)'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.10_B17930.jpg)'
- en: Figure 8.10 – Support for other features
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.10 – 其他功能支持
- en: Let's now learn how to deal with previous versions of `lottie-react-native`
    in cases when our version of React Native requires a version other than the latest.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们来学习如何在我们的 React Native 版本需要非最新版本的情况下处理 `lottie-react-native` 的早期版本。
- en: Installing previous versions
  id: totrans-125
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装早期版本
- en: 'Depending on which version of React Native we are building our project with,
    we will need to install a specific version or range of versions. The list of versions
    to be installed can be found in the previous chapter, so now we are going to learn
    how to install one of those specific versions:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 根据我们使用哪个版本的 React Native 来构建项目，我们需要安装特定版本或版本范围。要安装的版本列表可以在前一章中找到，因此现在我们将学习如何安装这些特定版本之一：
- en: 'Identify which React Native version our project is using. For this, we can
    check our `package.json` file at the root of our React Native app project. Inside
    this file, look for the `react-native` dependency and note down the version number:'
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 识别我们的项目使用哪个 React Native 版本。为此，我们可以检查我们的 React Native 应用项目根目录下的 `package.json`
    文件。在此文件中，查找 `react-native` 依赖项并记下版本号：
- en: '![Figure 8.11 – Finding out your project''s React Native version'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.11 – 查找您的项目 React Native 版本'
- en: '](img/Figure_8.11_B17930.jpg)'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.11_B17930.jpg)'
- en: Figure 8.11 – Finding out your project's React Native version
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.11 – 查找您的项目 React Native 版本
- en: Look at the `lottie-react-native`/`react-native` compatibility list in the previous
    chapter and select the right `lottie-react-native` for your project.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查看前一章中的 `lottie-react-native`/`react-native` 兼容性列表，并为您的项目选择正确的 `lottie-react-native`。
- en: Install the selected version of `lottie-react-native` using npm or Yarn by specifying
    that version number after an `@` sign, for example, `npm install –save lottie-react-native@4.1.3`
    or `yarn add lottie-react-native@4.1.3`.
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 npm 或 Yarn 安装所选版本的 `lottie-react-native`，通过在 `@` 符号后指定版本号，例如，`npm install
    –save lottie-react-native@4.1.3` 或 `yarn add lottie-react-native@4.1.3`。
- en: As we saw in the previous section, we need to install `lottie-ios` as a dependency;
    the `lottie-react-native`/`lottie-ios` compatibility list can be also found in
    the previous chapter.
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如前所述，我们需要将 `lottie-ios` 作为依赖项安装；`lottie-react-native`/`lottie-ios` 兼容性列表也可以在前一章中找到。
- en: Install the selected version of `lottie-ios` using npm or Yarn by specifying
    that version number after an `@` sign, for example, `npm install –save lottie-ios@3.2.3`
    or `yarn add lottie-ios@3.2.3`.
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 npm 或 Yarn 安装选定的 `lottie-ios` 版本，通过在 `@` 符号后指定版本号，例如，`npm install –save lottie-ios@3.2.3`
    或 `yarn add lottie-ios@3.2.3`。
- en: Summary
  id: totrans-135
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: We now have `lottie-react-native` and its dependencies properly installed and
    ready to be used to render Lottie animations within our React Native app.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们已经正确安装了 `lottie-react-native` 及其依赖项，并准备好在我们的 React Native 应用中使用它来渲染 Lottie
    动画。
- en: Our project can now be successfully built on both iOS and Android devices, so
    let's start the magic and integrate our first Lottie animation. We will cover
    how to do this in the next chapter.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的项目现在可以在 iOS 和 Android 设备上成功构建，因此让我们开始魔法之旅，并集成我们的第一个 Lottie 动画。我们将在下一章中介绍如何做到这一点。
