<html><head></head><body>
<div id="_idContainer083">
<h1 class="chapter-number" id="_idParaDest-54"><a id="_idTextAnchor074"/><span class="koboSpan" id="kobo.1.1">2</span></h1>
<h1 id="_idParaDest-55"><a id="_idTextAnchor075"/><span class="koboSpan" id="kobo.2.1">Working with Data</span></h1>
<p><span class="koboSpan" id="kobo.3.1">In the previous chapter, you learned about the essentials of the Vue API and how to work with single-file Vue components. </span><span class="koboSpan" id="kobo.3.2">Building on these foundations, this chapter further explores different approaches to controlling data within a </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">Vue component.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">You will learn how to utilize Vue’s powerful data reactivity and cache system through computed properties and how to set up advanced watchers to observe the component’s data changes. </span><span class="koboSpan" id="kobo.5.2">You will also learn how to utilize asynchronous methods to fetch and handle data for your Vue components. </span><span class="koboSpan" id="kobo.5.3">By the end of this chapter, you will be able to watch, manage, and manipulate data from various sources in your </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">Vue.js components.</span></span></p>
<p><span class="koboSpan" id="kobo.7.1">So, in this chapter, we will cover the </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">following topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.9.1">Understanding </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">computed properties</span></span></li>
<li><span class="koboSpan" id="kobo.11.1">Understanding </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">computed setters</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.13.1">Exploring watchers</span></span></li>
<li><span class="koboSpan" id="kobo.14.1">Watching </span><span class="No-Break"><span class="koboSpan" id="kobo.15.1">nested properties</span></span></li>
<li><span class="koboSpan" id="kobo.16.1">Exploring async methods and </span><span class="No-Break"><span class="koboSpan" id="kobo.17.1">data fetching</span></span></li>
<li><span class="koboSpan" id="kobo.18.1">Comparing methods, watchers, and </span><span class="No-Break"><span class="koboSpan" id="kobo.19.1">computed props</span></span></li>
</ul>
<h1 id="_idParaDest-56"><a id="_idTextAnchor076"/><span class="koboSpan" id="kobo.20.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.21.1">In this chapter, you need to set up a basic Vue project following the instructions in </span><a href="B18645_01.xhtml#_idTextAnchor015"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.22.1">Chapter 1</span></em></span></a><span class="koboSpan" id="kobo.23.1">, </span><em class="italic"><span class="koboSpan" id="kobo.24.1">Starting Your First Vue Project</span></em><span class="koboSpan" id="kobo.25.1">. </span><span class="koboSpan" id="kobo.25.2">You can create a single file Vue component to easily practice the examples and </span><span class="No-Break"><span class="koboSpan" id="kobo.26.1">concepts mentioned.</span></span></p>
<p><a id="_idTextAnchor077"/><span class="koboSpan" id="kobo.27.1">You can find this chapter’s source code </span><span class="No-Break"><span class="koboSpan" id="kobo.28.1">here: </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter02"><span class="No-Break"><span class="koboSpan" id="kobo.29.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter02</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.30.1">.</span></span></p>
<h1 id="_idParaDest-57"><a id="_idTextAnchor078"/><span class="koboSpan" id="kobo.31.1">Understanding computed properties</span></h1>
<p><strong class="bold"><span class="koboSpan" id="kobo.32.1">Computed properties</span></strong><span class="koboSpan" id="kobo.33.1"> are unique data types that will reactively update only when the source data used within the </span><a id="_idIndexMarker205"/><span class="koboSpan" id="kobo.34.1">property is updated. </span><span class="koboSpan" id="kobo.34.2">By defining a data property as a computed property, we can perform the </span><span class="No-Break"><span class="koboSpan" id="kobo.35.1">following activities:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.36.1">Apply custom logic on</span><a id="_idIndexMarker206"/><span class="koboSpan" id="kobo.37.1"> the original data property to calculate the computed </span><span class="No-Break"><span class="koboSpan" id="kobo.38.1">property’s value</span></span></li>
<li><span class="koboSpan" id="kobo.39.1">Track the changes of the original data property to calculate the updated value of the </span><span class="No-Break"><span class="koboSpan" id="kobo.40.1">computed property</span></span></li>
<li><span class="koboSpan" id="kobo.41.1">Reuse the computed property as local data anywhere within the </span><span class="No-Break"><span class="koboSpan" id="kobo.42.1">Vue component</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.43.1">By default, the Vue engine automatically caches the computed properties, making them more performant at updating the UI than using the property of the returned value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.44.1">data</span></strong><span class="koboSpan" id="kobo.45.1">, or using a Vue </span><span class="No-Break"><span class="koboSpan" id="kobo.46.1">component’s method.</span></span></p>
<p><span class="koboSpan" id="kobo.47.1">The syntax of a computed property is like writing a component method </span><em class="italic"><span class="koboSpan" id="kobo.48.1">with a return value</span></em><span class="koboSpan" id="kobo.49.1">, nested under the computed property of the </span><span class="No-Break"><span class="koboSpan" id="kobo.50.1">Vue component:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.51.1">
export default {
  computed: {
    yourComputedProperty() {
      /* need to have return value */
    }
  }
}</span></pre>
<p><span class="koboSpan" id="kobo.52.1">Within the computed property’s logic, you can access any component’s data property, method, or other computed property using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.53.1">this</span></strong><span class="koboSpan" id="kobo.54.1"> instance, which is the reference to the Vue component instance itself. </span><span class="koboSpan" id="kobo.54.2">An example of using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.55.1">this</span></strong><span class="koboSpan" id="kobo.56.1"> instance is </span><span class="No-Break"><span class="koboSpan" id="kobo.57.1">shown here:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.58.1">
export default {
  data() {
    return {
      yourData: "your data"
    }
  },
  computed: {
    yourComputedProperty() {
      return `${this.yourData}-computed`;
    }
  }
}</span></pre>
<p><span class="koboSpan" id="kobo.59.1">Let’s look at some examples of where you should consider using a </span><span class="No-Break"><span class="koboSpan" id="kobo.60.1">computed property:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.61.1">Form validation</span></strong><span class="koboSpan" id="kobo.62.1">: In the following</span><a id="_idIndexMarker207"/><span class="koboSpan" id="kobo.63.1"> example, we have an </span><strong class="source-inline"><span class="koboSpan" id="kobo.64.1">input</span></strong><span class="koboSpan" id="kobo.65.1"> field, which attaches to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.66.1">name</span></strong><span class="koboSpan" id="kobo.67.1"> data property, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.68.1">error</span></strong><span class="koboSpan" id="kobo.69.1"> is a computed </span><a id="_idIndexMarker208"/><span class="koboSpan" id="kobo.70.1">property. </span><span class="koboSpan" id="kobo.70.2">If </span><strong class="source-inline"><span class="koboSpan" id="kobo.71.1">name</span></strong><span class="koboSpan" id="kobo.72.1"> contains a </span><strong class="source-inline"><span class="koboSpan" id="kobo.73.1">falsy</span></strong><span class="koboSpan" id="kobo.74.1"> value (which means </span><strong class="source-inline"><span class="koboSpan" id="kobo.75.1">name</span></strong><span class="koboSpan" id="kobo.76.1"> is an empty string, </span><strong class="source-inline"><span class="koboSpan" id="kobo.77.1">0</span></strong><span class="koboSpan" id="kobo.78.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.79.1">undefined</span></strong><span class="koboSpan" id="kobo.80.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.81.1">null</span></strong><span class="koboSpan" id="kobo.82.1">, or </span><strong class="source-inline"><span class="koboSpan" id="kobo.83.1">false</span></strong><span class="koboSpan" id="kobo.84.1">), </span><strong class="source-inline"><span class="koboSpan" id="kobo.85.1">error</span></strong><span class="koboSpan" id="kobo.86.1"> will be assigned a value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.87.1">"Name is required"</span></strong><span class="koboSpan" id="kobo.88.1">. </span><span class="koboSpan" id="kobo.88.2">Otherwise, it will be empty. </span><span class="koboSpan" id="kobo.88.3">The component then renders the value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.89.1">error</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.90.1">property accordingly:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.91.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.92.1">
  &lt;input v-model="name"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.93.1">
  &lt;div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.94.1">
    &lt;span&gt;{{ error }}&lt;/span&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.95.1">
  &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.96.1">
&lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.97.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.98.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.99.1">
  data() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.100.1">
    return {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.101.1">
      name: '',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.102.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.103.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.104.1">
  computed: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.105.1">
    error() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.106.1">
      return this.name ? </span><span class="koboSpan" id="kobo.106.2">'' : 'Name is required'</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.107.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.108.1">
  }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.109.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.110.1">
&lt;/script&gt;</span></pre></li>
</ul>
<p><span class="koboSpan" id="kobo.111.1">The error computed </span><a id="_idIndexMarker209"/><span class="koboSpan" id="kobo.112.1">property updates itself </span><a id="_idIndexMarker210"/><span class="koboSpan" id="kobo.113.1">whenever the </span><strong class="source-inline"><span class="koboSpan" id="kobo.114.1">name</span></strong><span class="koboSpan" id="kobo.115.1"> value is modified by the user. </span><span class="koboSpan" id="kobo.115.2">Hence when </span><strong class="source-inline"><span class="koboSpan" id="kobo.116.1">name</span></strong><span class="koboSpan" id="kobo.117.1"> is empty, the output will be </span><span class="No-Break"><span class="koboSpan" id="kobo.118.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer060">
<span class="koboSpan" id="kobo.119.1"><img alt="Figure 2.1 – Output of the error computed property" src="image/B18645_02_01.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.120.1">Figure 2.1 – Output of the error computed property</span></p>
<p><span class="koboSpan" id="kobo.121.1">And when </span><strong class="source-inline"><span class="koboSpan" id="kobo.122.1">name</span></strong><span class="koboSpan" id="kobo.123.1"> is valid, the output will display just the filled </span><span class="No-Break"><span class="koboSpan" id="kobo.124.1">input field:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer061">
<span class="koboSpan" id="kobo.125.1"><img alt="Figure 2.2 – Output of error when name contains a valid value" src="image/B18645_02_02.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.126.1">Figure 2.2 – Output of error when name contains a valid value</span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.127.1">Combining data props</span></strong><span class="koboSpan" id="kobo.128.1">: You can use computed props to combine multiple data properties to</span><a id="_idIndexMarker211"/><span class="koboSpan" id="kobo.129.1"> generate a single computed </span><a id="_idIndexMarker212"/><span class="koboSpan" id="kobo.130.1">property. </span><span class="koboSpan" id="kobo.130.2">Take the following code for instance. </span><span class="koboSpan" id="kobo.130.3">We combine two pieces of data – </span><strong class="source-inline"><span class="koboSpan" id="kobo.131.1">title</span></strong><span class="koboSpan" id="kobo.132.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.133.1">surname</span></strong><span class="koboSpan" id="kobo.134.1"> – into one computed string, </span><strong class="source-inline"><span class="koboSpan" id="kobo.135.1">formalName</span></strong><span class="koboSpan" id="kobo.136.1">, and render its value </span><span class="No-Break"><span class="koboSpan" id="kobo.137.1">using </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.138.1">template</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.139.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.140.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.141.1">
    &lt;div&gt;{{ formalName }}&lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.142.1">
&lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.143.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.144.1">
    export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.145.1">
        data() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.146.1">
            return {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.147.1">
                title: 'Mr.',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.148.1">
                surname: 'Smith'</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.149.1">
            }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.150.1">
        },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.151.1">
        computed: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.152.1">
            formalName() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.153.1">
                return `${this.title}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.154.1">
                  ${this.surname}`;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.155.1">
            }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.156.1">
        }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.157.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.158.1">
&lt;/script&gt;</span></pre></li>
</ul>
<p><span class="koboSpan" id="kobo.159.1">This will generate the </span><span class="No-Break"><span class="koboSpan" id="kobo.160.1">following output:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.161.1">
Mr. </span><a id="_idTextAnchor079"/><a id="_idTextAnchor080"/><a id="_idTextAnchor081"/><span class="koboSpan" id="kobo.162.1">Smith</span></pre>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.163.1">Calculating and displaying complex informa</span><a id="_idTextAnchor082"/><span class="koboSpan" id="kobo.164.1">tion</span></strong><span class="koboSpan" id="kobo.165.1">: Sometimes there is a need to perform an extra calculation or to extract specific information from one large data object source. </span><span class="koboSpan" id="kobo.165.2">Computed properties help to achieve this goal while keeping our </span><span class="No-Break"><span class="koboSpan" id="kobo.166.1">code readable.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.167.1">Take a large data</span><a id="_idIndexMarker213"/><span class="koboSpan" id="kobo.168.1"> object, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.169.1">post</span></strong><span class="koboSpan" id="kobo.170.1">. </span><span class="koboSpan" id="kobo.170.2">This data </span><a id="_idIndexMarker214"/><span class="koboSpan" id="kobo.171.1">object has a nested </span><strong class="source-inline"><span class="koboSpan" id="kobo.172.1">fields</span></strong><span class="koboSpan" id="kobo.173.1"> property, which contains several additional information objects, such as the full name of </span><strong class="source-inline"><span class="koboSpan" id="kobo.174.1">author</span></strong><span class="koboSpan" id="kobo.175.1"> and an array of </span><strong class="source-inline"><span class="koboSpan" id="kobo.176.1">entries</span></strong><span class="koboSpan" id="kobo.177.1"> objects. </span><span class="koboSpan" id="kobo.177.2">Each entry in </span><strong class="source-inline"><span class="koboSpan" id="kobo.178.1">entries</span></strong><span class="koboSpan" id="kobo.179.1"> contains further information, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.180.1">title</span></strong><span class="koboSpan" id="kobo.181.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.182.1">content</span></strong><span class="koboSpan" id="kobo.183.1">, and a </span><strong class="source-inline"><span class="koboSpan" id="kobo.184.1">feature</span></strong><span class="koboSpan" id="kobo.185.1"> flag indicating whether the entry should </span><span class="No-Break"><span class="koboSpan" id="kobo.186.1">be featured:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.187.1">
data() {
  return {
    post: {
      fields: {
        author: {
          firstName: 'John',
          lastName: 'Doe'
        },
        entries: [{
          title: "Entry 1",
          content: "Entry 1's content",
          featured: true
        },
        {
          title: "Entry 2",
          content: "Entry 2's content",
          featured: false
        }]
      }
    }
  }
},</span></pre>
<p><span class="koboSpan" id="kobo.188.1">In this scenario, you need</span><a id="_idIndexMarker215"/><span class="koboSpan" id="kobo.189.1"> to perform the </span><span class="No-Break"><span class="koboSpan" id="kobo.190.1">following steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.191.1">Display the full name of the </span><span class="No-Break"><span class="koboSpan" id="kobo.192.1">post’s </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.193.1">author</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.194.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.195.1">Calculate and display the total number of </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.196.1">entries</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.197.1"> included.</span></span></li>
<li><span class="koboSpan" id="kobo.198.1">Display a list of </span><strong class="source-inline"><span class="koboSpan" id="kobo.199.1">entries</span></strong><span class="koboSpan" id="kobo.200.1"> that have the </span><strong class="source-inline"><span class="koboSpan" id="kobo.201.1">feature</span></strong><span class="koboSpan" id="kobo.202.1"> flag turned on (</span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.203.1">feature: true</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.204.1">).</span></span></li>
<li><span class="koboSpan" id="kobo.205.1">By using computed properties, we can decouple the previous </span><strong class="source-inline"><span class="koboSpan" id="kobo.206.1">post</span></strong><span class="koboSpan" id="kobo.207.1"> object into several computed data properties while keeping the original </span><strong class="source-inline"><span class="koboSpan" id="kobo.208.1">post</span></strong><span class="koboSpan" id="kobo.209.1"> object unchanged, </span><span class="No-Break"><span class="koboSpan" id="kobo.210.1">as follows:</span></span><ul><li><strong class="source-inline"><span class="koboSpan" id="kobo.211.1">fullName</span></strong><span class="koboSpan" id="kobo.212.1"> for combining </span><strong class="source-inline"><span class="koboSpan" id="kobo.213.1">firstName</span></strong><span class="koboSpan" id="kobo.214.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.215.1">lastName</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.216.1">of </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.217.1">post.fields.author</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.218.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.219.1">
fullName() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.220.1">
 const { firstName, lastName } =</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.221.1">
   this.post.fields.author;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.222.1">
 return `${firstName} ${lastName}`</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.223.1">
},</span></pre></li><li><strong class="source-inline"><span class="koboSpan" id="kobo.224.1">totalEntries</span></strong><span class="koboSpan" id="kobo.225.1"> contains the length of the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.226.1">post.fields.entries</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.227.1"> array:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.228.1">
totalEntries () {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.229.1">
  return this.post.fields.entries.length</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.230.1">
},</span></pre></li><li><strong class="source-inline"><span class="koboSpan" id="kobo.231.1">featuredEntries</span></strong><span class="koboSpan" id="kobo.232.1"> contains the filtered list of </span><strong class="source-inline"><span class="koboSpan" id="kobo.233.1">post.fields.entries</span></strong><span class="koboSpan" id="kobo.234.1"> based on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.235.1">feature</span></strong><span class="koboSpan" id="kobo.236.1"> property of each entry, by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.237.1">filter</span></strong><span class="koboSpan" id="kobo.238.1"> built-in </span><span class="No-Break"><span class="koboSpan" id="kobo.239.1">array method:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.240.1">
featuredEntries() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.241.1">
  const { entries } = this.post.fields;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.242.1">
  return entries.filter(entry =&gt; !!entry.featured)</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.243.1">
}</span></pre></li></ul></li>
</ol>
<p><span class="koboSpan" id="kobo.244.1">You then use the</span><a id="_idIndexMarker216"/><span class="koboSpan" id="kobo.245.1"> simplified and semantic computed properties to render the information in your component’s template. </span><span class="koboSpan" id="kobo.245.2">The full code is </span><span class="No-Break"><span class="koboSpan" id="kobo.246.1">shown here:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.247.1">
&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;{{ fullName }}&lt;/p&gt;
    &lt;p&gt;{{ totalEntries }}&lt;/p&gt;
    &lt;p&gt;{{ featuredEntries }}&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
  export default {
    data() {
      return {
        post: {
          fields: {
            author: {
              firstName: 'John',
              lastName: 'Doe'
            },
            entries: [{
              title: "Entry 1",
              content: "Entry 1's content",
              featured: true
            },
            {
              title: "Entry 2",
              content: "Entry 2's content",
              featured: false
            }]
          }
        }
      }
    },
    computed: {
      fullName() {
        const { firstName, lastName } =
          this.post.fields.author;
        return `${firstName} ${lastName}`
      },
      totalEntries () {
        return this.post.fields.entries.length
      },
      featuredEntries() {
        const { entries } = this.post.fields;
        return entries.filter(entry =&gt; !!entry.featured)
      }
    }
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.248.1">This will generate the </span><span class="No-Break"><span class="koboSpan" id="kobo.249.1">following output:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer062">
<span class="koboSpan" id="kobo.250.1"><img alt="Figure 2.3 – The computed name output" src="image/B18645_02_03.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.251.1">Figure 2.3 – The computed name output</span></p>
<p><span class="koboSpan" id="kobo.252.1">Computed properties are very valuable to Vue developers when creating performant components. </span><span class="koboSpan" id="kobo.252.2">In the next</span><a id="_idIndexMarker217"/><span class="koboSpan" id="kobo.253.1"> exercise, we will explore how to use them inside a </span><span class="No-Break"><span class="koboSpan" id="kobo.254.1">Vue c</span><a id="_idTextAnchor083"/><span class="koboSpan" id="kobo.255.1">omponent.</span></span></p>
<h2 id="_idParaDest-58"><a id="_idTextAnchor084"/><span class="koboSpan" id="kobo.256.1">Exercise 2.01 – implementing computed data into a Vue component</span></h2>
<p><span class="koboSpan" id="kobo.257.1">In this exercise, you will use a computed property to help cut down the amount of code you need to write inside </span><a id="_idIndexMarker218"/><span class="koboSpan" id="kobo.258.1">your Vue templates by </span><a id="_idIndexMarker219"/><span class="koboSpan" id="kobo.259.1">concisely outputting </span><span class="No-Break"><span class="koboSpan" id="kobo.260.1">basic data.</span></span></p>
<p><span class="koboSpan" id="kobo.261.1">To access the code for this exercise, refer </span><span class="No-Break"><span class="koboSpan" id="kobo.262.1">to </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter02/Exercise2.01"><span class="No-Break"><span class="koboSpan" id="kobo.263.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter02/Exercise2.01</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.264.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.265.1">We are going to implement a component that receives the user’s first name and last name input, and displays the user’s full name accordingly, by performing the </span><span class="No-Break"><span class="koboSpan" id="kobo.266.1">following steps:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.267.1">Use the application generated with </span><strong class="source-inline"><span class="koboSpan" id="kobo.268.1">npm init vue@3</span></strong><span class="koboSpan" id="kobo.269.1"> as a starting point, or within the root folder of the code repository, navigate to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.270.1">Chapter02/Exercise2.01</span></strong><span class="koboSpan" id="kobo.271.1"> folder, by using the following commands </span><span class="No-Break"><span class="koboSpan" id="kobo.272.1">in order:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.273.1">
&gt; cd Chapter02/Exercise2.01/</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.274.1">
&gt; yarn</span></pre></li>
<li><span class="koboSpan" id="kobo.275.1">Open the exercise project in your </span><strong class="bold"><span class="koboSpan" id="kobo.276.1">Visual Studio</span></strong><span class="koboSpan" id="kobo.277.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.278.1">VS</span></strong><span class="koboSpan" id="kobo.279.1">) Code (by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.280.1">code .</span></strong><span class="koboSpan" id="kobo.281.1"> command within the project directory), or your</span><a id="_idIndexMarker220"/><span class="koboSpan" id="kobo.282.1"> preferred </span><strong class="bold"><span class="koboSpan" id="kobo.283.1">integrated development </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.284.1">environment</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.285.1"> (</span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.286.1">IDE</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.287.1">).</span></span></li>
<li><span class="koboSpan" id="kobo.288.1">Let’s create a new Vue component called </span><strong class="source-inline"><span class="koboSpan" id="kobo.289.1">Exercise2-01</span></strong><span class="koboSpan" id="kobo.290.1"> by adding the </span><strong class="source-inline"><span class="koboSpan" id="kobo.291.1">Exercise2-01.vue</span></strong><span class="koboSpan" id="kobo.292.1"> file to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.293.1">./</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.294.1">src/components/</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.295.1"> folder:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer063">
<span class="koboSpan" id="kobo.296.1"><img alt="Figure 2.4 – The components directory hierarchy" src="image/B18645_02_04.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.297.1">Figure 2.4 – The components directory hierarchy</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.298.1">Open </span><strong class="source-inline"><span class="koboSpan" id="kobo.299.1">Exercise2-01.vue</span></strong><span class="koboSpan" id="kobo.300.1"> and let’s create the code block structure for the Vue component, </span><span class="No-Break"><span class="koboSpan" id="kobo.301.1">as follows:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.302.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.303.1">
&lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.304.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.305.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.306.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.307.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.308.1">In </span><strong class="source-inline"><span class="koboSpan" id="kobo.309.1">&lt;template&gt;</span></strong><span class="koboSpan" id="kobo.310.1">, create an </span><strong class="source-inline"><span class="koboSpan" id="kobo.311.1">input</span></strong><span class="koboSpan" id="kobo.312.1"> field for the first name, and use </span><strong class="source-inline"><span class="koboSpan" id="kobo.313.1">v-model</span></strong><span class="koboSpan" id="kobo.314.1"> to bind the </span><strong class="source-inline"><span class="koboSpan" id="kobo.315.1">data</span></strong><span class="koboSpan" id="kobo.316.1"> prop, </span><strong class="source-inline"><span class="koboSpan" id="kobo.317.1">firstName</span></strong><span class="koboSpan" id="kobo.318.1">, to </span><span class="No-Break"><span class="koboSpan" id="kobo.319.1">this field:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.320.1">
&lt;input v-model="firstName" placeholder="First name" /&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.321.1">Create a </span><a id="_idIndexMarker221"/><span class="koboSpan" id="kobo.322.1">second </span><strong class="source-inline"><span class="koboSpan" id="kobo.323.1">input</span></strong><span class="koboSpan" id="kobo.324.1"> field for the last name, and </span><a id="_idIndexMarker222"/><span class="koboSpan" id="kobo.325.1">use </span><strong class="source-inline"><span class="koboSpan" id="kobo.326.1">v-model</span></strong><span class="koboSpan" id="kobo.327.1"> to bind the </span><strong class="source-inline"><span class="koboSpan" id="kobo.328.1">data</span></strong><span class="koboSpan" id="kobo.329.1"> prop, </span><strong class="source-inline"><span class="koboSpan" id="kobo.330.1">lastName</span></strong><span class="koboSpan" id="kobo.331.1">, to </span><span class="No-Break"><span class="koboSpan" id="kobo.332.1">this field:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.333.1">
&lt;input v-model="lastName" placeholder="Last name" /&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.334.1">Include these new </span><strong class="source-inline"><span class="koboSpan" id="kobo.335.1">v-model</span></strong><span class="koboSpan" id="kobo.336.1"> data props in the Vue instance by returning them in the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.337.1">data()</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.338.1"> function:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.339.1">
data() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.340.1">
    return {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.341.1">
      firstName: '',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.342.1">
      lastName: '',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.343.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.344.1">
  },</span></pre></li>
<li><span class="koboSpan" id="kobo.345.1">Create a computed data variable </span><span class="No-Break"><span class="koboSpan" id="kobo.346.1">called </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.347.1">fullName</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.348.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.349.1">
computed: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.350.1">
    fullName() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.351.1">
      return '${this.firstName} ${this.lastName}'</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.352.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.353.1">
  },</span></pre></li>
<li><span class="koboSpan" id="kobo.354.1">Underneath your </span><strong class="source-inline"><span class="koboSpan" id="kobo.355.1">input</span></strong><span class="koboSpan" id="kobo.356.1"> fields, output the computed data using the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.357.1">h3</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.358.1"> tag:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.359.1">
&lt;h3 class="output"&gt;{{ fullName }}&lt;/h3&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.360.1">Finally, run the</span><a id="_idIndexMarker223"/><span class="koboSpan" id="kobo.361.1"> application using the </span><span class="No-Break"><span class="koboSpan" id="kobo.362.1">following command:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.363.1">
yarn dev</span></pre></li>
<li><span class="koboSpan" id="kobo.364.1">Upon visiting </span><strong class="source-inline"><span class="koboSpan" id="kobo.365.1">http://localhost:3000</span></strong><span class="koboSpan" id="kobo.366.1"> in the browser and keying the input </span><strong class="source-inline"><span class="koboSpan" id="kobo.367.1">John</span></strong><span class="koboSpan" id="kobo.368.1"> for</span><a id="_idIndexMarker224"/><span class="koboSpan" id="kobo.369.1"> first name, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.370.1">Doe</span></strong><span class="koboSpan" id="kobo.371.1"> for last name, the page will generate the </span><span class="No-Break"><span class="koboSpan" id="kobo.372.1">following output:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer064">
<span class="koboSpan" id="kobo.373.1"><img alt="Figure 2.5 – Output of the computed data will show the first and last name" src="image/B18645_02_05.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.374.1">Figure 2.5 – Output of the computed data will show the first and last name</span></p>
<p><span class="koboSpan" id="kobo.375.1">This exercise demonstrates how we can write an expression inside a computed data property using data received from </span><strong class="source-inline"><span class="koboSpan" id="kobo.376.1">v-model</span></strong><span class="koboSpan" id="kobo.377.1">, and then combine the first name and last name into a single output variable with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.378.1">fullName</span></strong><span class="koboSpan" id="kobo.379.1"> computed property that can be reused within </span><span class="No-Break"><span class="koboSpan" id="kobo.380.1">the component.</span></span></p>
<p><span class="koboSpan" id="kobo.381.1">We now understand how a computed property works and how to write a declarative, reusable, and reactive computed property. </span><span class="koboSpan" id="kobo.381.2">Next, we will look at how to intercept the mutation process of a computed property and add additional logic with the computed </span><span class="No-Break"><span class="koboSpan" id="kobo.382.1">setter feature.</span></span></p>
<h1 id="_idParaDest-59"><a id="_idTextAnchor085"/><span class="koboSpan" id="kobo.383.1">Understanding computed setters</span></h1>
<p><span class="koboSpan" id="kobo.384.1">By default, computed </span><a id="_idIndexMarker225"/><span class="koboSpan" id="kobo.385.1">data is a getter only, which means it will only output the outcome of your expression. </span><span class="koboSpan" id="kobo.385.2">In some practical scenarios, when a computed property is mutated, you may need to trigger an external API or mutate the original data elsewhere in the project. </span><span class="koboSpan" id="kobo.385.3">The</span><a id="_idIndexMarker226"/><span class="koboSpan" id="kobo.386.1"> function performing this feature is called </span><span class="No-Break"><span class="koboSpan" id="kobo.387.1">a </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.388.1">setter</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.389.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.390.1">Using a setter in a</span><a id="_idIndexMarker227"/><span class="koboSpan" id="kobo.391.1"> computed property allows you to reactively listen to data and trigger a callback (setter) that contains the returned value from the getter, which can optionally be used in </span><span class="No-Break"><span class="koboSpan" id="kobo.392.1">the setter.</span></span></p>
<p><span class="koboSpan" id="kobo.393.1">But first, let’s look at JavaScript ES5’s getter and setter. </span><span class="koboSpan" id="kobo.393.2">Starting from ES5, you can use the built-in getter and setter to define Object accessors, such as </span><span class="No-Break"><span class="koboSpan" id="kobo.394.1">the following:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.395.1">get</span></strong><span class="koboSpan" id="kobo.396.1"> to bind the Object property to a function that returns a value for that property whenever it is looked up, as </span><span class="No-Break"><span class="koboSpan" id="kobo.397.1">shown here:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.398.1">
const obj  = {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.399.1">
  get example() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.400.1">
    return 'Getter'</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.401.1">
  }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.402.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.403.1">
console.log(obj.example) //Getter</span></pre></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.404.1">set</span></strong><span class="koboSpan" id="kobo.405.1"> to bind the specific Object property to a function whenever that property </span><span class="No-Break"><span class="koboSpan" id="kobo.406.1">is modified:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.407.1">
const obj  = {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.408.1">
  set example(value) {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.409.1">
    this.information.push(value)</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.410.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.411.1">
  information: []</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.412.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.413.1">
obj.example = 'hello'</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.414.1">
obj.example = 'world'</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.415.1">
console.log(obj.information) //['hello', 'world']</span></pre></li>
</ul>
<p><span class="koboSpan" id="kobo.416.1">Based on those features, Vue.js provides us with similar functionalities, </span><strong class="source-inline"><span class="koboSpan" id="kobo.417.1">get()</span></strong><span class="koboSpan" id="kobo.418.1"> as the getter and </span><strong class="source-inline"><span class="koboSpan" id="kobo.419.1">set()</span></strong><span class="koboSpan" id="kobo.420.1"> as the setter, for a specific </span><span class="No-Break"><span class="koboSpan" id="kobo.421.1">computed property:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.422.1">
computed: {
  myComputedDataProp: {
    get() {}
    set(value) {}
  }
}</span></pre>
<p><span class="koboSpan" id="kobo.423.1">To understand how setter and getter work, let’s perform the </span><span class="No-Break"><span class="koboSpan" id="kobo.424.1">following steps:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.425.1">Define the</span><a id="_idIndexMarker228"/><span class="koboSpan" id="kobo.426.1"> returned value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.427.1">myComputedDataProp</span></strong><span class="koboSpan" id="kobo.428.1"> to be </span><strong class="source-inline"><span class="koboSpan" id="kobo.429.1">this.count + 1</span></strong><span class="koboSpan" id="kobo.430.1"> whenever </span><strong class="source-inline"><span class="koboSpan" id="kobo.431.1">myComputedDataProp</span></strong><span class="koboSpan" id="kobo.432.1"> is </span><span class="No-Break"><span class="koboSpan" id="kobo.433.1">looked up:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.434.1">
myComputedDataProp: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.435.1">
  get() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.436.1">
    return this.count + 1</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.437.1">
  }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.438.1">
},</span></pre></li>
<li><span class="koboSpan" id="kobo.439.1">Then, whenever </span><strong class="source-inline"><span class="koboSpan" id="kobo.440.1">myComputedDataProp</span></strong><span class="koboSpan" id="kobo.441.1"> is modified, use the setter to update the </span><strong class="source-inline"><span class="koboSpan" id="kobo.442.1">count</span></strong><span class="koboSpan" id="kobo.443.1"> data prop to its new value, and then call a method within the component called </span><strong class="source-inline"><span class="koboSpan" id="kobo.444.1">callAnotherApi</span></strong><span class="koboSpan" id="kobo.445.1"> with this new </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.446.1">this.count</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.447.1"> value:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.448.1">
myComputedDataProp: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.449.1">
  set(value) {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.450.1">
    this.count = value - 1</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.451.1">
    this.callAnotherApi(this.count)</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.452.1">
},</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.453.1">With </span><strong class="source-inline"><span class="koboSpan" id="kobo.454.1">count</span></strong><span class="koboSpan" id="kobo.455.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.456.1">callAnotherApi</span></strong><span class="koboSpan" id="kobo.457.1"> is the component’s local data and </span><span class="No-Break"><span class="koboSpan" id="kobo.458.1">method, respectively.</span></span></p>
<p><span class="koboSpan" id="kobo.459.1">The full example code is </span><span class="No-Break"><span class="koboSpan" id="kobo.460.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.461.1">
data() {
  return {
    count: 0
  }
},
method: {
  callAnotherApi() { //do something }
},
computed: {
    myComputedDataProp: {
      get() {
        return this.count + 1
      },
      set(value) {
        this.count = value - 1
        this.callAnotherApi(this.count)
      },
    },
  },
}</span></pre>
<p><span class="koboSpan" id="kobo.462.1">Here the</span><a id="_idIndexMarker229"/><span class="koboSpan" id="kobo.463.1"> computed </span><strong class="source-inline"><span class="koboSpan" id="kobo.464.1">myComputedDataProp</span></strong><span class="koboSpan" id="kobo.465.1"> prop will output </span><strong class="source-inline"><span class="koboSpan" id="kobo.466.1">1</span></strong><span class="koboSpan" id="kobo.467.1"> in y</span><a id="_idTextAnchor086"/><span class="koboSpan" id="kobo.468.1">our </span><span class="No-Break"><span class="koboSpan" id="kobo.469.1">Vue component.</span></span></p>
<p><span class="koboSpan" id="kobo.470.1">You will find out exactly how to use computed data as both getters and setters in the </span><span class="No-Break"><span class="koboSpan" id="kobo.471.1">following exercise.</span></span></p>
<h2 id="_idParaDest-60"><a id="_idTextAnchor087"/><span class="koboSpan" id="kobo.472.1">Exercise 2.02 – using computed setters</span></h2>
<p><span class="koboSpan" id="kobo.473.1">In this exercise, you will use a</span><a id="_idIndexMarker230"/><span class="koboSpan" id="kobo.474.1"> computed prop as a setter and a getter, which will both output expressions and set data when triggered by a </span><span class="No-Break"><span class="koboSpan" id="kobo.475.1">user’s input.</span></span></p>
<p><span class="koboSpan" id="kobo.476.1">The complete code can be found </span><span class="No-Break"><span class="koboSpan" id="kobo.477.1">at </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter02/Exercise2.02"><span class="No-Break"><span class="koboSpan" id="kobo.478.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter02/Exercise2.02</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.479.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.480.1">We are going to implement a component that contains an </span><strong class="source-inline"><span class="koboSpan" id="kobo.481.1">input</span></strong><span class="koboSpan" id="kobo.482.1"> field that receives a number from the user, calculate the half value of the input, then display both values on the UI, by performing the </span><span class="No-Break"><span class="koboSpan" id="kobo.483.1">following steps:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.484.1">Use the application generated with </span><strong class="source-inline"><span class="koboSpan" id="kobo.485.1">npm init vue@3</span></strong><span class="koboSpan" id="kobo.486.1"> as a starting point, or within the root folder of the code repository, navigate to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.487.1">Chapter02/Exercise2.02</span></strong><span class="koboSpan" id="kobo.488.1"> folder, by using the following commands </span><span class="No-Break"><span class="koboSpan" id="kobo.489.1">in order:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.490.1">&gt; cd Chapter02/Exercise2.02/</span></strong></pre><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.491.1">&gt; yarn</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.492.1">Open the exercise project in your VS Code (by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.493.1">code .</span></strong><span class="koboSpan" id="kobo.494.1"> command within the project directory), or your </span><span class="No-Break"><span class="koboSpan" id="kobo.495.1">preferred IDE.</span></span></li>
<li><span class="koboSpan" id="kobo.496.1">Let’s create a new Vue component called </span><strong class="source-inline"><span class="koboSpan" id="kobo.497.1">Exercise2-02</span></strong><span class="koboSpan" id="kobo.498.1"> by adding the </span><strong class="source-inline"><span class="koboSpan" id="kobo.499.1">Exercise2-02.vue</span></strong><span class="koboSpan" id="kobo.500.1"> file to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.501.1">./</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.502.1">src/components/</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.503.1"> folder:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer065">
<span class="koboSpan" id="kobo.504.1"><img alt="Figure 2.6 – The components directory hierarchy" src="image/B18645_02_06.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.505.1">Figure 2.6 – The components directory hierarchy</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.506.1">Open </span><strong class="source-inline"><span class="koboSpan" id="kobo.507.1">Exercise2-02.vue</span></strong><span class="koboSpan" id="kobo.508.1"> and let’s create the code block structure for the Vue component, </span><span class="No-Break"><span class="koboSpan" id="kobo.509.1">as follows:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.510.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.511.1">
&lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.512.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.513.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.514.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.515.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.516.1">Create an </span><strong class="source-inline"><span class="koboSpan" id="kobo.517.1">input</span></strong><span class="koboSpan" id="kobo.518.1"> field with a </span><strong class="source-inline"><span class="koboSpan" id="kobo.519.1">v-model</span></strong><span class="koboSpan" id="kobo.520.1"> value bound to a computed data value called </span><strong class="source-inline"><span class="koboSpan" id="kobo.521.1">incrementOne</span></strong><span class="koboSpan" id="kobo.522.1">, return</span><a id="_idIndexMarker231"/><span class="koboSpan" id="kobo.523.1"> the value of a Vue data variable called </span><strong class="source-inline"><span class="koboSpan" id="kobo.524.1">count</span></strong><span class="koboSpan" id="kobo.525.1"> in the getter, and set the </span><strong class="source-inline"><span class="koboSpan" id="kobo.526.1">count</span></strong><span class="koboSpan" id="kobo.527.1"> variable in </span><span class="No-Break"><span class="koboSpan" id="kobo.528.1">the setter:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.529.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.530.1">
  &lt;div class="container"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.531.1">
    &lt;input type="number" v-model="incrementOne" /&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.532.1">
    &lt;h3&gt;Get input: {{ incrementOne }}&lt;/h3&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.533.1">
  &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.534.1">
&lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.535.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.536.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.537.1">
  data() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.538.1">
    return {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.539.1">
      count: -1,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.540.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.541.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.542.1">
  computed: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.543.1">
    incrementOne: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.544.1">
      // getter</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.545.1">
      get() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.546.1">
        return this.count + 1</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.547.1">
      },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.548.1">
      // setter</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.549.1">
      set(val) {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.550.1">
        this.count = val - 1</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.551.1">
      },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.552.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.553.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.554.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.555.1">
&lt;/script&gt;</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.556.1">The output of the</span><a id="_idIndexMarker232"/><span class="koboSpan" id="kobo.557.1"> preceding code will be </span><span class="No-Break"><span class="koboSpan" id="kobo.558.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer066">
<span class="koboSpan" id="kobo.559.1"><img alt="Figure 2.7 – The first steps of a computed setter and getter" src="image/B18645_02_07.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.560.1">Figure 2.7 – The first steps of a computed setter and getter</span></p>
<ol>
<li value="6"><span class="koboSpan" id="kobo.561.1">Next, let’s utilize the setter again. </span><span class="koboSpan" id="kobo.561.2">We will divide whatever the new </span><strong class="source-inline"><span class="koboSpan" id="kobo.562.1">val</span></strong><span class="koboSpan" id="kobo.563.1"> argument is by </span><strong class="source-inline"><span class="koboSpan" id="kobo.564.1">2</span></strong><span class="koboSpan" id="kobo.565.1">, and save that to a new data variable </span><span class="No-Break"><span class="koboSpan" id="kobo.566.1">called </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.567.1">divideByTwo</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.568.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.569.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.570.1">
  &lt;div class="container"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.571.1">
    &lt;input type="number" v-model="incrementOne" /&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.572.1">
    &lt;h3&gt;Get input: {{ incrementOne }}&lt;/h3&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.573.1">
    &lt;h5&gt;Set division: {{ divideByTwo }}&lt;/h5&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.574.1">
  &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.575.1">
&lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.576.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.577.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.578.1">
  data() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.579.1">
    return {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.580.1">
      count: -1,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.581.1">
      divideByTwo: 0,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.582.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.583.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.584.1">
//...</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.585.1">
&lt;/script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.586.1">
//...</span></pre></li>
<li><span class="koboSpan" id="kobo.587.1">Update the setter</span><a id="_idIndexMarker233"/><span class="koboSpan" id="kobo.588.1"> to divide </span><strong class="source-inline"><span class="koboSpan" id="kobo.589.1">val</span></strong><span class="koboSpan" id="kobo.590.1"> by </span><strong class="source-inline"><span class="koboSpan" id="kobo.591.1">2</span></strong><span class="koboSpan" id="kobo.592.1">, and bind this new value to the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.593.1">divideByTwo</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.594.1"> variable:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.595.1">
      set(val) {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.596.1">
        this.count = val - 1</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.597.1">
        this.divideByTwo = val / 2</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.598.1">
      },</span></pre></li>
<li><span class="koboSpan" id="kobo.599.1">Finally, run the application using the </span><span class="No-Break"><span class="koboSpan" id="kobo.600.1">following command:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.601.1">
yarn dev</span></pre></li>
<li><span class="koboSpan" id="kobo.602.1">Upon visiting </span><strong class="source-inline"><span class="koboSpan" id="kobo.603.1">http://localhost:3000</span></strong><span class="koboSpan" id="kobo.604.1"> in the browser, and keying the input as </span><strong class="source-inline"><span class="koboSpan" id="kobo.605.1">1000</span></strong><span class="koboSpan" id="kobo.606.1">, the output of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.607.1">divideByTwo</span></strong><span class="koboSpan" id="kobo.608.1"> value should generate an outcome from the value </span><a id="_idIndexMarker234"/><span class="koboSpan" id="kobo.609.1">entered in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.610.1">input</span></strong><span class="koboSpan" id="kobo.611.1"> field, </span><span class="No-Break"><span class="koboSpan" id="kobo.612.1">as follows:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer067">
<span class="koboSpan" id="kobo.613.1"><img alt="Figure 2.8 – The outcome of the divideByTwo value" src="image/B18645_02_08.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.614.1">Figure 2.8 – The outcome of the divideByTwo value</span></p>
<p><span class="koboSpan" id="kobo.615.1">This exercise demonstrates how we can use computed data to both get and set data reactively in our template by binding computed variables to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.616.1">v-model</span></strong><span class="koboSpan" id="kobo.617.1">. </span><span class="koboSpan" id="kobo.617.2">In the next section, we will explore how we can use watchers to actively listen to changes in component </span><a id="_idTextAnchor088"/><span class="koboSpan" id="kobo.618.1">data or </span><span class="No-Break"><span class="koboSpan" id="kobo.619.1">its property.</span></span></p>
<h1 id="_idParaDest-61"><a id="_idTextAnchor089"/><span class="koboSpan" id="kobo.620.1">Exploring watchers</span></h1>
<p><span class="koboSpan" id="kobo.621.1">Vue </span><strong class="bold"><span class="koboSpan" id="kobo.622.1">watchers</span></strong><span class="koboSpan" id="kobo.623.1"> programmatically observe component data and run whenever a particular property changes. </span><span class="koboSpan" id="kobo.623.2">Watched data can contain two arguments: </span><strong class="source-inline"><span class="koboSpan" id="kobo.624.1">oldVal</span></strong><span class="koboSpan" id="kobo.625.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.626.1">newVal</span></strong><span class="koboSpan" id="kobo.627.1">. </span><span class="koboSpan" id="kobo.627.2">This can help you when writing </span><a id="_idIndexMarker235"/><span class="koboSpan" id="kobo.628.1">expressions to compare data before writing or binding new values. </span><span class="koboSpan" id="kobo.628.2">Watchers can observe objects as well as other types, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.629.1">string</span></strong><span class="koboSpan" id="kobo.630.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.631.1">number</span></strong><span class="koboSpan" id="kobo.632.1">, and </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.633.1">array</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.634.1"> types.</span></span></p>
<p><span class="koboSpan" id="kobo.635.1">In </span><a href="B18645_01.xhtml#_idTextAnchor015"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.636.1">Chapter 1</span></em></span></a><span class="koboSpan" id="kobo.637.1">, </span><em class="italic"><span class="koboSpan" id="kobo.638.1">Starting Your First Vue Project</span></em><span class="koboSpan" id="kobo.639.1">, we introduced life cycle hooks that run at specific times during a component’s lifespan. </span><span class="koboSpan" id="kobo.639.2">If the </span><strong class="source-inline"><span class="koboSpan" id="kobo.640.1">immediate</span></strong><span class="koboSpan" id="kobo.641.1"> key is set to </span><strong class="source-inline"><span class="koboSpan" id="kobo.642.1">true</span></strong><span class="koboSpan" id="kobo.643.1"> on a watcher, then when this component initializes, it will run this watcher on creation. </span><span class="koboSpan" id="kobo.643.2">You can watch all keys inside any given object by including the key and value </span><strong class="source-inline"><span class="koboSpan" id="kobo.644.1">deep: true</span></strong><span class="koboSpan" id="kobo.645.1"> (the default </span><span class="No-Break"><span class="koboSpan" id="kobo.646.1">is </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.647.1">false</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.648.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.649.1">To clean up your watcher code, you can assign a </span><strong class="source-inline"><span class="koboSpan" id="kobo.650.1">handler</span></strong><span class="koboSpan" id="kobo.651.1"> argument to a defined component’s method, which is considered best practice for </span><span class="No-Break"><span class="koboSpan" id="kobo.652.1">large projects.</span></span></p>
<p><span class="koboSpan" id="kobo.653.1">Watchers complement the usage of computed data since they passively observe values and cannot be used as normal Vue data variables, while computed data must always return a value and can be looked up. </span><span class="koboSpan" id="kobo.653.2">Remember </span><em class="italic"><span class="koboSpan" id="kobo.654.1">not</span></em><span class="koboSpan" id="kobo.655.1"> to use arrow functions if you need the Vue context </span><span class="No-Break"><span class="koboSpan" id="kobo.656.1">of </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.657.1">this</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.658.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.659.1">The following example </span><a id="_idIndexMarker236"/><span class="koboSpan" id="kobo.660.1">demonstrates the </span><strong class="source-inline"><span class="koboSpan" id="kobo.661.1">immediate</span></strong><span class="koboSpan" id="kobo.662.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.663.1">deep</span></strong><span class="koboSpan" id="kobo.664.1"> optional keys; if any key inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.665.1">myDataProperty</span></strong><span class="koboSpan" id="kobo.666.1"> object were to change, it would trigger a </span><span class="No-Break"><span class="koboSpan" id="kobo.667.1">console log:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.668.1">
watch: {
    myDataProperty: {
        handler: function(newVal, oldVal) {
          console.log('myDataProperty changed:', newVal,
                       oldVal)
        },
        immediate: true,
        deep: true
    },
}</span></pre>
<p><span class="koboSpan" id="kobo.669.1">Now, let’s set some new values wit</span><a id="_idTextAnchor090"/><span class="koboSpan" id="kobo.670.1">h the help </span><span class="No-Break"><span class="koboSpan" id="kobo.671.1">of watchers.</span></span></p>
<h2 id="_idParaDest-62"><a id="_idTextAnchor091"/><span class="koboSpan" id="kobo.672.1">Exercise 2.03 – using watchers to set new values</span></h2>
<p><span class="koboSpan" id="kobo.673.1">In this exercise, you will use </span><a id="_idIndexMarker237"/><span class="koboSpan" id="kobo.674.1">watcher arguments to watch data properties for changes, then use this watcher to set variables via </span><span class="No-Break"><span class="koboSpan" id="kobo.675.1">a method.</span></span></p>
<p><span class="koboSpan" id="kobo.676.1">You can find the complete code for this exercise </span><span class="No-Break"><span class="koboSpan" id="kobo.677.1">at </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter02/Exercise2.03"><span class="No-Break"><span class="koboSpan" id="kobo.678.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter02/Exercise2.03</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.679.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.680.1">We create a Vue component that displays the shop watcher’s price before and after the discount, with an option to update the discount price, by following </span><span class="No-Break"><span class="koboSpan" id="kobo.681.1">these instructions:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.682.1">Use the application generated with </span><strong class="source-inline"><span class="koboSpan" id="kobo.683.1">npm init vue@3</span></strong><span class="koboSpan" id="kobo.684.1"> as a starting point, or within the root folder of the code repository, navigate to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.685.1">Chapter02/Exercise 2.03</span></strong><span class="koboSpan" id="kobo.686.1"> folder, by using the following commands </span><span class="No-Break"><span class="koboSpan" id="kobo.687.1">in order:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.688.1">&gt; cd Chapter02/Exercise 2.03./</span></strong></pre><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.689.1">&gt; yarn</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.690.1">Open the exercise </span><a id="_idIndexMarker238"/><span class="koboSpan" id="kobo.691.1">project in your VS Code (by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.692.1">code .</span></strong><span class="koboSpan" id="kobo.693.1"> command within the project directory), or your </span><span class="No-Break"><span class="koboSpan" id="kobo.694.1">preferred IDE.</span></span></li>
<li><span class="koboSpan" id="kobo.695.1">Let’s create a new Vue component called </span><strong class="source-inline"><span class="koboSpan" id="kobo.696.1">Exercise2-03</span></strong><span class="koboSpan" id="kobo.697.1"> by adding the </span><strong class="source-inline"><span class="koboSpan" id="kobo.698.1">Exercise2-03.vue</span></strong><span class="koboSpan" id="kobo.699.1"> file to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.700.1">./</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.701.1">src/components/</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.702.1"> folder:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer068">
<span class="koboSpan" id="kobo.703.1"><img alt="Figure 2.9 – The components directory hierarchy" src="image/B18645_02_09.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.704.1">Figure 2.9 – The components directory hierarchy</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.705.1">Open </span><strong class="source-inline"><span class="koboSpan" id="kobo.706.1">Exercise2-03.vue</span></strong><span class="koboSpan" id="kobo.707.1"> and let’s create the code block structure for the Vue component, </span><span class="No-Break"><span class="koboSpan" id="kobo.708.1">as follows:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.709.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.710.1">
&lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.711.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.712.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.713.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.714.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.715.1">Set up the document by adding a </span><strong class="source-inline"><span class="koboSpan" id="kobo.716.1">discount</span></strong><span class="koboSpan" id="kobo.717.1"> and an </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.718.1">oldDiscount</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.719.1"> data:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.720.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.721.1">
  &lt;div class="container"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.722.1">
    &lt;h1&gt;Shop Watcher&lt;/h1&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.723.1">
    &lt;div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.724.1">
      Black Friday sale</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.725.1">
      &lt;strike&gt;Was {{ oldDiscount }}%&lt;/strike&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.726.1">
      &lt;strong&gt; Now {{ discount }}% OFF&lt;/strong&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.727.1">
    &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.728.1">
  &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.729.1">
&lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.730.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.731.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.732.1">
  data() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.733.1">
    return {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.734.1">
      oldDiscount: 0,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.735.1">
      discount: 5,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.736.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.737.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.738.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.739.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.740.1">We want to listen to</span><a id="_idIndexMarker239"/><span class="koboSpan" id="kobo.741.1"> the changes in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.742.1">discount</span></strong><span class="koboSpan" id="kobo.743.1"> property. </span><span class="koboSpan" id="kobo.743.2">This can be achieved by adding it to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.744.1">watch</span></strong><span class="koboSpan" id="kobo.745.1"> object and manually updating the </span><strong class="source-inline"><span class="koboSpan" id="kobo.746.1">oldDiscount</span></strong><span class="koboSpan" id="kobo.747.1"> value to </span><strong class="source-inline"><span class="koboSpan" id="kobo.748.1">oldValue</span></strong><span class="koboSpan" id="kobo.749.1"> received </span><span class="No-Break"><span class="koboSpan" id="kobo.750.1">as follows:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.751.1">
watch: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.752.1">
    discount(newValue, oldValue) {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.753.1">
      this.oldDiscount = oldValue</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.754.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.755.1">
  },</span></pre></li>
<li><span class="koboSpan" id="kobo.756.1">Now let’s add a component method called </span><strong class="source-inline"><span class="koboSpan" id="kobo.757.1">updateDiscount</span></strong><span class="koboSpan" id="kobo.758.1">. </span><span class="koboSpan" id="kobo.758.2">Inside the method, set the </span><strong class="source-inline"><span class="koboSpan" id="kobo.759.1">oldDiscount</span></strong><span class="koboSpan" id="kobo.760.1"> data prop to </span><strong class="source-inline"><span class="koboSpan" id="kobo.761.1">this.discount + </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.762.1">5</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.763.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.764.1">
methods: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.765.1">
    updateDiscount() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.766.1">
      this.discount = this.discount + 5</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.767.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.768.1">
  },</span></pre></li>
<li><span class="koboSpan" id="kobo.769.1">Then bind this method to </span><strong class="source-inline"><span class="koboSpan" id="kobo.770.1">button</span></strong><span class="koboSpan" id="kobo.771.1"> using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.772.1">@click</span></strong><span class="koboSpan" id="kobo.773.1"> directive to trigger this method whenever</span><a id="_idIndexMarker240"/><span class="koboSpan" id="kobo.774.1"> the user clicks on the button and respectively trigger </span><span class="No-Break"><span class="koboSpan" id="kobo.775.1">the watcher:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.776.1">
&lt;button @click="updateDiscount"&gt;Increase Discount!&lt;/button&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.777.1">Add some CSS stylings to make our component </span><span class="No-Break"><span class="koboSpan" id="kobo.778.1">look pretty:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.779.1">
&lt;style scoped&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.780.1">
.container {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.781.1">
  margin: 0 auto;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.782.1">
  padding: 30px;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.783.1">
  max-width: 600px;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.784.1">
  font-family: 'Avenir', Helvetica, Arial, sans-serif;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.785.1">
  margin: 0;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.786.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.787.1">
button {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.788.1">
  display: inline-block;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.789.1">
  background: rgb(235, 50, 50);</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.790.1">
  border-radius: 10px;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.791.1">
  font-size: 14px;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.792.1">
  color: white;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.793.1">
  padding: 10px 20px;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.794.1">
  text-decoration: none;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.795.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.796.1">
&lt;/style&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.797.1">Finally, run the</span><a id="_idIndexMarker241"/><span class="koboSpan" id="kobo.798.1"> application using the </span><span class="No-Break"><span class="koboSpan" id="kobo.799.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.800.1">yarn dev</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.801.1">Upon visiting </span><strong class="source-inline"><span class="koboSpan" id="kobo.802.1">http://localhost:3000</span></strong><span class="koboSpan" id="kobo.803.1"> in the browser, the output of the preceding command will be </span><span class="No-Break"><span class="koboSpan" id="kobo.804.1">as follows:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer069">
<span class="koboSpan" id="kobo.805.1"><img alt="Figure 2.10 – An example output of the shop watcher page" src="image/B18645_02_10.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.806.1">Figure 2.10 – An example output of the shop watcher page</span></p>
<p><span class="koboSpan" id="kobo.807.1">In this exercise, we explored how we can use watchers to observe and dynamically manipulate data when it is changed by triggering other methods in the </span><span class="No-Break"><span class="koboSpan" id="kobo.808.1">Vue component.</span></span></p>
<p><span class="koboSpan" id="kobo.809.1">Next, we will learn how to actively watch a specific nested property within a data object through </span><span class="No-Break"><span class="koboSpan" id="kobo.810.1">deep watching.</span></span></p>
<h1 id="_idParaDest-63"><a id="_idTextAnchor092"/><span class="koboSpan" id="kobo.811.1">Watching nested properties</span></h1>
<p><span class="koboSpan" id="kobo.812.1">When using Vue.js to watch a</span><a id="_idIndexMarker242"/><span class="koboSpan" id="kobo.813.1"> data property, you can observe changes belonging to nested keys of an object, rather than observing the changes to the </span><span class="No-Break"><span class="koboSpan" id="kobo.814.1">object itself.</span></span></p>
<p><span class="koboSpan" id="kobo.815.1">This is done by setting the optional </span><strong class="source-inline"><span class="koboSpan" id="kobo.816.1">deep</span></strong><span class="koboSpan" id="kobo.817.1"> property </span><span class="No-Break"><span class="koboSpan" id="kobo.818.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.819.1">true</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.820.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.821.1">
data() {
  return {
      organization: {
        name: 'ABC',
        employees: [
            'Jack', 'Jill'
        ]
      }
  }
},
watch: {
    organization: {
      handler(v) {
        this.sendIntercomData()
      },
      deep: true,
      immediate: true,
    },
  },</span></pre>
<p><span class="koboSpan" id="kobo.822.1">This code example demonstrates how we watch all available keys inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.823.1">organization</span></strong><span class="koboSpan" id="kobo.824.1"> data object for changes. </span><span class="koboSpan" id="kobo.824.2">If the </span><strong class="source-inline"><span class="koboSpan" id="kobo.825.1">name</span></strong><span class="koboSpan" id="kobo.826.1"> property inside </span><strong class="source-inline"><span class="koboSpan" id="kobo.827.1">organization</span></strong><span class="koboSpan" id="kobo.828.1"> changes, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.829.1">organization</span></strong><span class="koboSpan" id="kobo.830.1"> watcher </span><span class="No-Break"><span class="koboSpan" id="kobo.831.1">will trigger.</span></span></p>
<p><span class="koboSpan" id="kobo.832.1">If you do not need to observe every key inside an object, it is more performant to assign a watcher to a specific key by specifying it following the syntax </span><strong class="source-inline"><span class="koboSpan" id="kobo.833.1">&lt;object&gt;.&lt;key&gt;</span></strong><span class="koboSpan" id="kobo.834.1"> string. </span><span class="koboSpan" id="kobo.834.2">For example, you</span><a id="_idIndexMarker243"/><span class="koboSpan" id="kobo.835.1"> may allow a user to edit their company name and trigger an API call when that specific key’s value has </span><span class="No-Break"><span class="koboSpan" id="kobo.836.1">been modified.</span></span></p>
<p><span class="koboSpan" id="kobo.837.1">In the following example, the watcher is explicitly observing the </span><strong class="source-inline"><span class="koboSpan" id="kobo.838.1">name</span></strong><span class="koboSpan" id="kobo.839.1"> key of the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.840.1">organization</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.841.1"> object:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.842.1">
data() {
  return {
      organization: {
        name: 'ABC',
        employees: [
            'Jack', 'Jill'
        ]
      }
  }
},
watch: {
    'organization.name': {
      handler: function(v) {
        this.sendIntercomData()
      },
      immediate: true,
    },
  },</span></pre>
<p><span class="koboSpan" id="kobo.843.1">We have seen how deep watching works. </span><span class="koboSpan" id="kobo.843.2">Now, let’s try the next exercise and watch the nested </span><a id="_idTextAnchor093"/><span class="koboSpan" id="kobo.844.1">properties of a </span><a id="_idIndexMarker244"/><span class="No-Break"><span class="koboSpan" id="kobo.845.1">data object.</span></span></p>
<h2 id="_idParaDest-64"><a id="_idTextAnchor094"/><span class="koboSpan" id="kobo.846.1">Exercise 2.04 – watching nested properties of a data object</span></h2>
<p><span class="koboSpan" id="kobo.847.1">In this exercise, you will use </span><a id="_idIndexMarker245"/><span class="koboSpan" id="kobo.848.1">watchers to observe keys within an object, which will update when a user triggers a method within </span><span class="No-Break"><span class="koboSpan" id="kobo.849.1">the UI.</span></span></p>
<p><span class="koboSpan" id="kobo.850.1">The complete code for the exercise can be found </span><span class="No-Break"><span class="koboSpan" id="kobo.851.1">at </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter02/Exercise2.04"><span class="No-Break"><span class="koboSpan" id="kobo.852.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter02/Exercise2.04</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.853.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.854.1">Follow the instructions to create a component that displays a product’s label and price, and dynamically modifies the </span><span class="No-Break"><span class="koboSpan" id="kobo.855.1">discount price:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.856.1">Use the application generated with </span><strong class="source-inline"><span class="koboSpan" id="kobo.857.1">npm init vue@3</span></strong><span class="koboSpan" id="kobo.858.1"> as a starting point, or within the root folder of the code repository, navigate to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.859.1">Chapter02/Exercise2.04</span></strong><span class="koboSpan" id="kobo.860.1"> folder, by using the following commands </span><span class="No-Break"><span class="koboSpan" id="kobo.861.1">in order:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.862.1">&gt; cd Chapter02/Exercise2.04/</span></strong></pre><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.863.1">&gt; yarn</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.864.1">Open the exercise project in your VS Code (by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.865.1">code .</span></strong><span class="koboSpan" id="kobo.866.1"> command within the project directory), or your </span><span class="No-Break"><span class="koboSpan" id="kobo.867.1">preferred IDE.</span></span></li>
<li><span class="koboSpan" id="kobo.868.1">Let’s create a new Vue component called </span><strong class="source-inline"><span class="koboSpan" id="kobo.869.1">Exercise2-04</span></strong><span class="koboSpan" id="kobo.870.1"> by adding the </span><strong class="source-inline"><span class="koboSpan" id="kobo.871.1">Exercise2-04.vue</span></strong><span class="koboSpan" id="kobo.872.1"> file to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.873.1">./</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.874.1">src/components/</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.875.1"> folder:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer070">
<span class="koboSpan" id="kobo.876.1"><img alt="Figure 2.11 – The components directory hierarchy" src="image/B18645_02_11.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.877.1">Figure 2.11 – The components directory hierarchy</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.878.1">In </span><strong class="source-inline"><span class="koboSpan" id="kobo.879.1">Exercise2-04.vue</span></strong><span class="koboSpan" id="kobo.880.1">, let’s start by defining a </span><strong class="source-inline"><span class="koboSpan" id="kobo.881.1">product</span></strong><span class="koboSpan" id="kobo.882.1"> object that contains </span><strong class="source-inline"><span class="koboSpan" id="kobo.883.1">price</span></strong><span class="koboSpan" id="kobo.884.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.885.1">label</span></strong><span class="koboSpan" id="kobo.886.1">, and </span><a id="_idIndexMarker246"/><span class="koboSpan" id="kobo.887.1">a </span><strong class="source-inline"><span class="koboSpan" id="kobo.888.1">discount</span></strong><span class="koboSpan" id="kobo.889.1"> key. </span><span class="koboSpan" id="kobo.889.2">Output these values into </span><span class="No-Break"><span class="koboSpan" id="kobo.890.1">the template:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.891.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.892.1">
  &lt;div class="container"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.893.1">
    &lt;h1&gt;Deep Watcher&lt;/h1&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.894.1">
    &lt;div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.895.1">
        &lt;h4&gt;{{ product.label }}&lt;/h4&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.896.1">
        &lt;h5&gt;${{ product.price }} (${{ discount }}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.897.1">
          Off)&lt;/h5&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.898.1">
    &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.899.1">
  &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.900.1">
&lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.901.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.902.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.903.1">
  data() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.904.1">
    return {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.905.1">
      discount: 0,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.906.1">
      product: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.907.1">
        price: 25,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.908.1">
        label: 'Blue juice',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.909.1">
      },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.910.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.911.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.912.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.913.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.914.1">Add CSS styling to</span><a id="_idIndexMarker247"/> <span class="No-Break"><span class="koboSpan" id="kobo.915.1">our component:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.916.1">
&lt;style scoped&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.917.1">
.container {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.918.1">
  margin: 0 auto;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.919.1">
  padding: 30px;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.920.1">
  max-width: 600px;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.921.1">
  font-family: 'Avenir', Helvetica, sans-serif;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.922.1">
  margin: 0;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.923.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.924.1">
button {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.925.1">
  display: inline-block;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.926.1">
  background: rgb(235, 50, 50);</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.927.1">
  border-radius: 10px;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.928.1">
  font-size: 14px;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.929.1">
  color: white;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.930.1">
  padding: 10px 20px;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.931.1">
  text-decoration: none;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.932.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.933.1">
&lt;/style&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.934.1">Run the application using the following command and visit </span><strong class="source-inline"><span class="koboSpan" id="kobo.935.1">http://localhost:3000</span></strong><span class="koboSpan" id="kobo.936.1"> in the browser to view the </span><span class="No-Break"><span class="koboSpan" id="kobo.937.1">component rendered.</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.938.1">yarn dev</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.939.1">Now let’s set up a button that will modify the price of the product. </span><span class="koboSpan" id="kobo.939.2">We achieve this by adding a </span><strong class="source-inline"><span class="koboSpan" id="kobo.940.1">button</span></strong><span class="koboSpan" id="kobo.941.1"> element</span><a id="_idIndexMarker248"/><span class="koboSpan" id="kobo.942.1"> with a </span><strong class="source-inline"><span class="koboSpan" id="kobo.943.1">click</span></strong><span class="koboSpan" id="kobo.944.1"> event bound to an </span><strong class="source-inline"><span class="koboSpan" id="kobo.945.1">updatePrice</span></strong><span class="koboSpan" id="kobo.946.1"> method that decrements the value of </span><span class="No-Break"><span class="koboSpan" id="kobo.947.1">the price:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.948.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.949.1">
//…</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.950.1">
    &lt;button @click="updatePrice"&gt;Reduce Price!&lt;/button&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.951.1">
//...</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.952.1">
&lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.953.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.954.1">
//...</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.955.1">
  methods: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.956.1">
    updatePrice() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.957.1">
      if (this.product.price &lt; 1) return</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.958.1">
      this.product.price--</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.959.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.960.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.961.1">
//...</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.962.1">
&lt;/script&gt;</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.963.1">When you click the button, it should reduce the price, as seen in the </span><span class="No-Break"><span class="koboSpan" id="kobo.964.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer071">
<span class="koboSpan" id="kobo.965.1"><img alt="Figure 2.12 – Screen displaying the reduced price of Blue juice" src="image/B18645_02_12.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.966.1">Figure 2.12 – Screen displaying the reduced price of Blue juice</span></p>
<ol>
<li value="8"><span class="koboSpan" id="kobo.967.1">Time for the nested </span><a id="_idIndexMarker249"/><span class="koboSpan" id="kobo.968.1">watcher. </span><span class="koboSpan" id="kobo.968.2">We will watch the </span><strong class="source-inline"><span class="koboSpan" id="kobo.969.1">product</span></strong><span class="koboSpan" id="kobo.970.1"> object’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.971.1">price</span></strong><span class="koboSpan" id="kobo.972.1">, and increment the </span><strong class="source-inline"><span class="koboSpan" id="kobo.973.1">discount</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.974.1">data prop:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.975.1">
  watch: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.976.1">
    'product.price'() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.977.1">
      this.discount++</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.978.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.979.1">
  },</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.980.1">Now, as you reduce </span><strong class="source-inline"><span class="koboSpan" id="kobo.981.1">price</span></strong><span class="koboSpan" id="kobo.982.1">, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.983.1">discount</span></strong><span class="koboSpan" id="kobo.984.1"> value will go up because of </span><span class="No-Break"><span class="koboSpan" id="kobo.985.1">the watcher:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer072">
<span class="koboSpan" id="kobo.986.1"><img alt="Figure 2.13 – Output displaying an increased discount value" src="image/B18645_02_13.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.987.1">Figure 2.13 – Output displaying an increased discount value</span></p>
<p><span class="koboSpan" id="kobo.988.1">In this exercise, we used watchers to observe a key inside an object and then set new data with or without using </span><a id="_idIndexMarker250"/><span class="koboSpan" id="kobo.989.1">the optional arguments parsed by </span><span class="No-Break"><span class="koboSpan" id="kobo.990.1">the watcher.</span></span></p>
<p><span class="koboSpan" id="kobo.991.1">In the next section, we will explore how to fetch and handle data using the Vue component’s </span><span class="No-Break"><span class="koboSpan" id="kobo.992.1">async methods.</span></span></p>
<h1 id="_idParaDest-65"><a id="_idTextAnchor095"/><span class="koboSpan" id="kobo.993.1">Exploring async methods and data fetching</span></h1>
<p><span class="koboSpan" id="kobo.994.1">Asynchronous functions in JavaScript are defined by the </span><strong class="source-inline"><span class="koboSpan" id="kobo.995.1">async</span></strong><span class="koboSpan" id="kobo.996.1"> syntax and return a Promise. </span><span class="koboSpan" id="kobo.996.2">These functions</span><a id="_idIndexMarker251"/><span class="koboSpan" id="kobo.997.1"> operate asynchronously via the Event loop, using an implicit promise, which is an object that may return a result in </span><span class="No-Break"><span class="koboSpan" id="kobo.998.1">the future.</span></span></p>
<p><span class="koboSpan" id="kobo.999.1">As part of the JavaScript language, you can declare asynchronous blocks of code inside a Vue component’s method by including the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1000.1">async</span></strong><span class="koboSpan" id="kobo.1001.1"> keyword in front of </span><span class="No-Break"><span class="koboSpan" id="kobo.1002.1">a method.</span></span></p>
<p><span class="koboSpan" id="kobo.1003.1">You can use Promise chaining methods, such as the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1004.1">then()</span></strong><span class="koboSpan" id="kobo.1005.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1006.1">catch()</span></strong><span class="koboSpan" id="kobo.1007.1"> functions or try the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1008.1">await</span></strong><span class="koboSpan" id="kobo.1009.1"> syntax of ES6 inside these Vue methods and return the </span><span class="No-Break"><span class="koboSpan" id="kobo.1010.1">results accordingly.</span></span></p>
<p><span class="koboSpan" id="kobo.1011.1">Here is an example using the</span><a id="_idIndexMarker252"/><span class="koboSpan" id="kobo.1012.1"> built-in </span><strong class="source-inline"><span class="koboSpan" id="kobo.1013.1">fetch</span></strong><span class="koboSpan" id="kobo.1014.1"> API to fetch data inside a component method as an asynchronous function with </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1015.1">async/await</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1016.1"> keywords:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1017.1">
export default {
  methods: {
    async getAdvice() {
      const response =
        await fetch('https://api.adviceslip.com/advice')
      return response;
    },
  },
}</span></pre>
<p><strong class="bold"><span class="koboSpan" id="kobo.1018.1">Axios</span></strong><span class="koboSpan" id="kobo.1019.1"> is a popular</span><a id="_idIndexMarker253"/><span class="koboSpan" id="kobo.1020.1"> JavaScript library that</span><a id="_idIndexMarker254"/><span class="koboSpan" id="kobo.1021.1"> allows you to make external requests for data using Node.js. </span><span class="koboSpan" id="kobo.1021.2">It has wide browser support making it a versatile library when making HTTP or API requests. </span><span class="koboSpan" id="kobo.1021.3">We will be usin</span><a id="_idTextAnchor096"/><span class="koboSpan" id="kobo.1022.1">g this library in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1023.1">next exercise.</span></span></p>
<h2 id="_idParaDest-66"><a id="_idTextAnchor097"/><span class="koboSpan" id="kobo.1024.1">Exercise 2.05 – using asynchronous methods to retrieve data from an API</span></h2>
<p><span class="koboSpan" id="kobo.1025.1">In this exercise, you will asynchronously </span><a id="_idIndexMarker255"/><span class="koboSpan" id="kobo.1026.1">fetch data from an </span><a id="_idIndexMarker256"/><span class="koboSpan" id="kobo.1027.1">external API source and display it on the frontend using </span><span class="No-Break"><span class="koboSpan" id="kobo.1028.1">computed props.</span></span></p>
<p><span class="koboSpan" id="kobo.1029.1">You can find the complete code for this exercise </span><span class="No-Break"><span class="koboSpan" id="kobo.1030.1">at </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter02/Exercise2.05"><span class="No-Break"><span class="koboSpan" id="kobo.1031.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter02/Exercise2.05</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.1032.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1033.1">We will create a component that will fetch quotes from an external data source and display a quote on the UI by following </span><span class="No-Break"><span class="koboSpan" id="kobo.1034.1">these instructions:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.1035.1">Use the application generated with </span><strong class="source-inline"><span class="koboSpan" id="kobo.1036.1">npm init vue@3</span></strong><span class="koboSpan" id="kobo.1037.1"> as a starting point, or within the root folder of the code repository, navigate to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1038.1">Chapter02/Exercise2.05</span></strong><span class="koboSpan" id="kobo.1039.1"> folder, by using the following commands </span><span class="No-Break"><span class="koboSpan" id="kobo.1040.1">in order:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.1041.1">&gt; cd Chapter02/Exercise2.05/</span></strong></pre><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.1042.1">&gt; yarn</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.1043.1">Open the exercise project in your VS Code (by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1044.1">code .</span></strong><span class="koboSpan" id="kobo.1045.1"> command within the project directory), or your </span><span class="No-Break"><span class="koboSpan" id="kobo.1046.1">preferred IDE.</span></span></li>
<li><span class="koboSpan" id="kobo.1047.1">Let’s create a new Vue</span><a id="_idIndexMarker257"/><span class="koboSpan" id="kobo.1048.1"> component called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1049.1">Exercise2-05</span></strong><span class="koboSpan" id="kobo.1050.1"> by adding the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1051.1">Exercise2-05.vue</span></strong><span class="koboSpan" id="kobo.1052.1"> file to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1053.1">./</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1054.1">src/components/</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1055.1"> folder:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer073">
<span class="koboSpan" id="kobo.1056.1"><img alt="Figure 2.14 – The components directory hierarchy" src="image/B18645_02_14.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1057.1">Figure 2.14 – The components directory hierarchy</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.1058.1">In </span><strong class="source-inline"><span class="koboSpan" id="kobo.1059.1">Exercise2-05.vue</span></strong><span class="koboSpan" id="kobo.1060.1">, let’s start by importing </span><strong class="source-inline"><span class="koboSpan" id="kobo.1061.1">axios</span></strong><span class="koboSpan" id="kobo.1062.1"> into our component and creating a method called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1063.1">fetchAdvice()</span></strong><span class="koboSpan" id="kobo.1064.1">. </span><span class="koboSpan" id="kobo.1064.2">We use </span><strong class="source-inline"><span class="koboSpan" id="kobo.1065.1">axios</span></strong><span class="koboSpan" id="kobo.1066.1"> to call a response from </span><a href="https://api.adviceslip.com/advice"><span class="koboSpan" id="kobo.1067.1">https://api.adviceslip.com/advice</span></a><span class="koboSpan" id="kobo.1068.1"> and then </span><strong class="source-inline"><span class="koboSpan" id="kobo.1069.1">console.log</span></strong><span class="koboSpan" id="kobo.1070.1"> the result. </span><span class="koboSpan" id="kobo.1070.2">Also, let’s include </span><a id="_idIndexMarker258"/><span class="koboSpan" id="kobo.1071.1">a button that has a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1072.1">click</span></strong><span class="koboSpan" id="kobo.1073.1"> event bound to the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1074.1">fetchAdvice()</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1075.1"> call:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1076.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1077.1">
  &lt;div class="container"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1078.1">
    &lt;h1&gt;Async fetch&lt;/h1&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1079.1">
    &lt;button @click="fetchAdvice()"&gt;Learn something</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1080.1">
      profound&lt;/button&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1081.1">
  &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1082.1">
&lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1083.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1084.1">
import axios from 'axios'</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1085.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1086.1">
  methods: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1087.1">
    async fetchAdvice() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1088.1">
      return   axios.get</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1089.1">
        ('https://api.adviceslip.com/advice').</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1090.1">
        then((response) =&gt; {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1091.1">
        console.log(response)</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1092.1">
      })</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1093.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1094.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1095.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1096.1">
&lt;/script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1097.1">
&lt;style scoped&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1098.1">
.container {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1099.1">
  margin: 0 auto;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1100.1">
  padding: 30px;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1101.1">
  max-width: 600px;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1102.1">
  font-family: 'Avenir', Helvetica, Arial, sans-serif;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1103.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1104.1">
blockquote {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1105.1">
  position: relative;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1106.1">
  width: 100%;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1107.1">
  margin: 50px auto;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1108.1">
  padding: 1.2em 30px 1.2em 30px;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1109.1">
  background: #ededed;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1110.1">
  border-left: 8px solid #78c0a8;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1111.1">
  font-size: 24px;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1112.1">
  color: #555555;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1113.1">
  line-height: 1.6;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1114.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1115.1">
&lt;/style&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.1116.1">Finally, run the</span><a id="_idIndexMarker259"/><span class="koboSpan" id="kobo.1117.1"> application using the </span><span class="No-Break"><span class="koboSpan" id="kobo.1118.1">following</span></span><span class="No-Break"><a id="_idIndexMarker260"/></span><span class="No-Break"><span class="koboSpan" id="kobo.1119.1"> command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.1120.1">yarn dev</span></strong></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.1121.1">Upon visiting </span><strong class="source-inline"><span class="koboSpan" id="kobo.1122.1">http://localhost:3000</span></strong><span class="koboSpan" id="kobo.1123.1"> in the browser, the output of the preceding command will be </span><span class="No-Break"><span class="koboSpan" id="kobo.1124.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer074">
<span class="koboSpan" id="kobo.1125.1"><img alt="Figure 2.15 – Screen displaying a very large object in the console" src="image/B18645_02_15.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1126.1">Figure 2.15 – Screen displaying a very large object in the console</span></p>
<ol>
<li value="6"><span class="koboSpan" id="kobo.1127.1">We are only interested in the data object inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1128.1">response</span></strong><span class="koboSpan" id="kobo.1129.1"> object. </span><span class="koboSpan" id="kobo.1129.2">Assign this data object to a Vue data prop called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1130.1">response</span></strong><span class="koboSpan" id="kobo.1131.1">, which we </span><span class="No-Break"><span class="koboSpan" id="kobo.1132.1">can reuse:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1133.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1134.1">
  data() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1135.1">
    return {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1136.1">
      axiosResponse: {},</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1137.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1138.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1139.1">
  methods: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1140.1">
    async fetchAdvice() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1141.1">
      return axios.get</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1142.1">
        ('https://api.adviceslip.com/advice').</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1143.1">
        then(response =&gt; {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1144.1">
        this.axiosResponse = response.data</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1145.1">
      })</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1146.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1147.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1148.1">
}</span></pre></li>
<li><span class="koboSpan" id="kobo.1149.1">Output </span><strong class="source-inline"><span class="koboSpan" id="kobo.1150.1">quote</span></strong><span class="koboSpan" id="kobo.1151.1"> from inside</span><a id="_idIndexMarker261"/><span class="koboSpan" id="kobo.1152.1"> the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1153.1">response</span></strong><span class="koboSpan" id="kobo.1154.1"> prop object using a computed prop that will update every</span><a id="_idIndexMarker262"/><span class="koboSpan" id="kobo.1155.1"> time the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1156.1">response</span></strong><span class="koboSpan" id="kobo.1157.1"> prop changes. </span><span class="koboSpan" id="kobo.1157.2">Use a ternary operator to perform a conditional statement to check whether the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1158.1">response</span></strong><span class="koboSpan" id="kobo.1159.1"> prop contains the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1160.1">slip</span></strong><span class="koboSpan" id="kobo.1161.1"> object to </span><span class="No-Break"><span class="koboSpan" id="kobo.1162.1">avoid errors:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1163.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1164.1">
  &lt;div class="container"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1165.1">
    &lt;h1&gt;Async fetch&lt;/h1&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1166.1">
    &lt;button @click="fetchAdvice()"&gt;Learn something</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1167.1">
      profound&lt;/button&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1168.1">
    &lt;blockquote v-if="quote"&gt;{{ quote }}&lt;/blockquote&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1169.1">
  &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1170.1">
&lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1171.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1172.1">
import axios from 'axios'</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1173.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1174.1">
  data() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1175.1">
    return {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1176.1">
      axiosResponse: {},</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1177.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1178.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1179.1">
  computed: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1180.1">
    quote() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1181.1">
      return this.axiosResponse &amp;&amp;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1182.1">
        this.axiosResponse.slip</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1183.1">
        ? </span><span class="koboSpan" id="kobo.1183.2">this.axiosResponse.slip.advice</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1184.1">
        : null</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1185.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1186.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1187.1">
  methods: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1188.1">
    async fetchAdvice() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1189.1">
      return axios.get</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1190.1">
        ('https://api.adviceslip.com/advice').</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1191.1">
        then(response =&gt; {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1192.1">
        this.axiosResponse = response.data</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1193.1">
      })</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1194.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1195.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1196.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1197.1">
&lt;/script&gt;</span></pre></li>
</ol>
<p><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1198.1">Figure 2</span></em></span><em class="italic"><span class="koboSpan" id="kobo.1199.1">.16</span></em><span class="koboSpan" id="kobo.1200.1"> displays the output generated by the </span><span class="No-Break"><span class="koboSpan" id="kobo.1201.1">preceding code:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer075">
<span class="koboSpan" id="kobo.1202.1"><img alt="Figure 2.16 – Screen displaying the quote output in your template" src="image/B18645_02_16.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1203.1">Figure 2.16 – Screen displaying the quote output in your template</span></p>
<ol>
<li value="8"><span class="koboSpan" id="kobo.1204.1">As a final touch, include</span><a id="_idIndexMarker263"/><span class="koboSpan" id="kobo.1205.1"> a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1206.1">loading</span></strong><span class="koboSpan" id="kobo.1207.1"> data prop so the user can see when the UI is loading. </span><span class="koboSpan" id="kobo.1207.2">Set </span><strong class="source-inline"><span class="koboSpan" id="kobo.1208.1">loading</span></strong><span class="koboSpan" id="kobo.1209.1"> to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1210.1">false</span></strong><span class="koboSpan" id="kobo.1211.1"> by default. </span><span class="koboSpan" id="kobo.1211.2">Inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1212.1">fetchAdvice</span></strong><span class="koboSpan" id="kobo.1213.1"> method, set </span><strong class="source-inline"><span class="koboSpan" id="kobo.1214.1">loading</span></strong><span class="koboSpan" id="kobo.1215.1"> to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1216.1">true</span></strong><span class="koboSpan" id="kobo.1217.1">. </span><span class="koboSpan" id="kobo.1217.2">When the GET request </span><a id="_idIndexMarker264"/><span class="koboSpan" id="kobo.1218.1">completes (resolve/reject), within the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1219.1">finally()</span></strong><span class="koboSpan" id="kobo.1220.1"> chain, set it back to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1221.1">false</span></strong><span class="koboSpan" id="kobo.1222.1"> after 4 seconds using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1223.1">setTimeout</span></strong><span class="koboSpan" id="kobo.1224.1"> function. </span><span class="koboSpan" id="kobo.1224.2">You can use a ternary operator to change the button text between the loading state and its </span><span class="No-Break"><span class="koboSpan" id="kobo.1225.1">default state:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1226.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1227.1">
  &lt;div class="container"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1228.1">
    &lt;h1&gt;Async fetch&lt;/h1&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1229.1">
    &lt;button @click="fetchAdvice()"&gt;{{</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1230.1">
      loading ? </span><span class="koboSpan" id="kobo.1230.2">'Loading...' </span><span class="koboSpan" id="kobo.1230.3">: 'Learn something</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1231.1">
      profound'</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1232.1">
    }}&lt;/button&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1233.1">
    &lt;blockquote v-if="quote"&gt;{{ quote }}&lt;/blockquote&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1234.1">
  &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1235.1">
&lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1236.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1237.1">
import axios from 'axios'</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1238.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1239.1">
  data() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1240.1">
    return {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1241.1">
      loading: false,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1242.1">
      axiosResponse: {},</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1243.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1244.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1245.1">
  computed: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1246.1">
    quote() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1247.1">
      return this.axiosResponse &amp;&amp;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1248.1">
        this.axiosResponse.slip</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1249.1">
        ? </span><span class="koboSpan" id="kobo.1249.2">this.axiosResponse.slip.advice</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1250.1">
        : null</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1251.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1252.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1253.1">
  methods: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1254.1">
    async fetchAdvice() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1255.1">
      this.loading = true</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1256.1">
try {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1257.1">
        const response = await axios.get</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1258.1">
          (https://api.adviceslip.com/advice);</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1259.1">
        this.axiosResponse = response.data;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1260.1">
      } catch (error) {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1261.1">
        console.log(error);</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1262.1">
      } finally {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1263.1">
        setTimeout(() =&gt; {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1264.1">
          this.loading = false;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1265.1">
        }, 4000);</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1266.1">
      }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1267.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1268.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1269.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1270.1">
&lt;/script&gt;</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.1271.1">The output of the </span><a id="_idIndexMarker265"/><span class="koboSpan" id="kobo.1272.1">preceding code will be </span><span class="No-Break"><span class="koboSpan" id="kobo.1273.1">as</span></span><span class="No-Break"><a id="_idIndexMarker266"/></span><span class="No-Break"><span class="koboSpan" id="kobo.1274.1"> follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer076">
<span class="koboSpan" id="kobo.1275.1"><img alt="Figure 2.17 – Screen displaying the loading button state output in your template" src="image/B18645_02_17.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1276.1">Figure 2.17 – Screen displaying the loading button state output in your template</span></p>
<p><span class="koboSpan" id="kobo.1277.1">In this exercise, we </span><a id="_idIndexMarker267"/><span class="koboSpan" id="kobo.1278.1">saw how we can fetch data from an </span><a id="_idIndexMarker268"/><span class="koboSpan" id="kobo.1279.1">external source, assign it to a computed prop, display it in our template, and apply a loading state to </span><span class="No-Break"><span class="koboSpan" id="kobo.1280.1">our content.</span></span></p>
<p><span class="koboSpan" id="kobo.1281.1">At this point, we have explored the different approaches to working with the local data of a Vue component. </span><span class="koboSpan" id="kobo.1281.2">In the next section, we wi</span><a id="_idTextAnchor098"/><span class="koboSpan" id="kobo.1282.1">ll examine the pros and cons of </span><span class="No-Break"><span class="koboSpan" id="kobo.1283.1">each approach.</span></span></p>
<h1 id="_idParaDest-67"><a id="_idTextAnchor099"/><span class="koboSpan" id="kobo.1284.1">Comparing methods, watchers, and computed properties</span></h1>
<p><span class="koboSpan" id="kobo.1285.1">Methods are best used </span><a id="_idIndexMarker269"/><span class="koboSpan" id="kobo.1286.1">as a handler to an event occurring in the DOM, and in situations where you need to call a function or perform an API call, for example, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1287.1">Date.now()</span></strong><span class="koboSpan" id="kobo.1288.1">. </span><span class="koboSpan" id="kobo.1288.2">All values returned by methods are </span><span class="No-Break"><span class="koboSpan" id="kobo.1289.1">not cached.</span></span></p>
<p><span class="koboSpan" id="kobo.1290.1">For example, you can compose an action denoted by </span><strong class="source-inline"><span class="koboSpan" id="kobo.1291.1">@click</span></strong><span class="koboSpan" id="kobo.1292.1">, and reference </span><span class="No-Break"><span class="koboSpan" id="kobo.1293.1">a method:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1294.1">
&lt;template&gt;
    &lt;button @click="getDate"&gt;Click me&lt;/button&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
    methods: {
        getDate() {
            alert(Date.now())
        }
    }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1295.1">This code block will display an alert bar with the current Unix epoch time whenever a user clicks on the </span><strong class="bold"><span class="koboSpan" id="kobo.1296.1">Click me</span></strong><span class="koboSpan" id="kobo.1297.1"> button. </span><span class="koboSpan" id="kobo.1297.2">Methods </span><a id="_idIndexMarker270"/><span class="koboSpan" id="kobo.1298.1">should not be used to display computed data, since the return value of the method, unlike computed props, is not cached, potentially generating a performance impact on your application </span><span class="No-Break"><span class="koboSpan" id="kobo.1299.1">if misused.</span></span></p>
<p><span class="koboSpan" id="kobo.1300.1">As mentioned, computed props</span><a id="_idIndexMarker271"/><span class="koboSpan" id="kobo.1301.1"> are best used when reacting to data updates or for composing complicated expressions in your template. </span><span class="koboSpan" id="kobo.1301.2">In the following instance, if the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1302.1">animalList</span></strong><span class="koboSpan" id="kobo.1303.1"> data changes, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1304.1">animals</span></strong><span class="koboSpan" id="kobo.1305.1"> computed prop will also update by slicing the second item from the array and returning the </span><span class="No-Break"><span class="koboSpan" id="kobo.1306.1">new value:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1307.1">
&lt;template&gt;
      &lt;div&gt;{{ animals }}&lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
    data() {
        return {
            animalList: ['dog', 'cat']
        }
    },
    computed: {
          animals() {
              return this.animalList.slice(1)
          }
    }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1308.1">Their reactive nature makes computed properties perfect</span><a id="_idIndexMarker272"/><span class="koboSpan" id="kobo.1309.1"> for composing new data variables from existing data, such as when you are referencing specific keys of a larger, more </span><span class="No-Break"><span class="koboSpan" id="kobo.1310.1">complicated object.</span></span></p>
<p><span class="koboSpan" id="kobo.1311.1">Computed properties also help increase the readability of your Vue component’s template and logic. </span><span class="koboSpan" id="kobo.1311.2">In the following example, we output the authors in two different ways, but with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1312.1">authorName</span></strong><span class="koboSpan" id="kobo.1313.1"> computed prop, you can compose conditional logic cleanly without bloating the </span><span class="No-Break"><span class="koboSpan" id="kobo.1314.1">HTML template:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1315.1">
&lt;template&gt;
    &lt;div&gt;
        &lt;p id="not-optimal"&gt;{{ authors[0].bio.name }}&lt;/p&gt;
        &lt;p id="optimal"&gt;{{ authorName }}&lt;/p&gt;
    &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
    data() {
      return {
          authors: [
              {
                bio: {
                    name: 'John',
                    title: 'Dr.',
                }
              }
          ]
      }
    },
    computed: {
        authorName () {
              return this.authors ?
</span><span class="koboSpan" id="kobo.1315.2">                this.authors[0].bio.name :
                'No Name'
        }
    }
}
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1316.1">However, in many cases, using computed props can be overkill, such as when you only want to watch a specific data’s nested property rather than the whole data object. </span><span class="koboSpan" id="kobo.1316.2">Or when you need to listen and perform an action upon any changes of a data property or a specific property key nested inside a data property object, and then perform an action. </span><span class="koboSpan" id="kobo.1316.3">In this case, data watchers should </span><span class="No-Break"><span class="koboSpan" id="kobo.1317.1">be </span></span><span class="No-Break"><a id="_idIndexMarker273"/></span><span class="No-Break"><span class="koboSpan" id="kobo.1318.1">used.</span></span></p>
<p><span class="koboSpan" id="kobo.1319.1">Because of the unique </span><strong class="source-inline"><span class="koboSpan" id="kobo.1320.1">newVal</span></strong><span class="koboSpan" id="kobo.1321.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1322.1">oldVal</span></strong><span class="koboSpan" id="kobo.1323.1"> arguments of a watcher, you can watch a variable’s changes and perform an action only when a certain value </span><span class="No-Break"><span class="koboSpan" id="kobo.1324.1">is reached:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1325.1">
&lt;template&gt;
  &lt;div&gt;
    &lt;button @click="getNewName()"&gt;
      Click to generate name
    &lt;/button&gt;
    &lt;p v-if="author"&gt;{{ author }}&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
    export default {
        data() {
            return {
                data: {},
                author: '',
            }
        },
        watch: {
            data: function(newVal, oldVal) {
                this.author = newVal.first
                alert('Name changed from ${oldVal.first} to
                  ${newVal.first}')
            }
        },
        methods: {
            async getNewName() {
                await fetch('https://randomuser.me/api/').
</span><span class="koboSpan" id="kobo.1325.2">                  then(response =&gt;
                  response.json()).then(data =&gt; {
                    this.data = data.results[0].name
                })
            },
        },
    }
&lt;/script&gt;</span></pre>
<p><span class="koboSpan" id="kobo.1326.1">Based on these examples, we</span><a id="_idIndexMarker274"/><span class="koboSpan" id="kobo.1327.1"> will build a simple search functionality using a method, computed props, and a watcher to achieve a similar</span><a id="_idTextAnchor100"/><span class="koboSpan" id="kobo.1328.1"> outcome and demonstrate the ability of </span><span class="No-Break"><span class="koboSpan" id="kobo.1329.1">each method.</span></span></p>
<h2 id="_idParaDest-68"><a id="_idTextAnchor101"/><span class="koboSpan" id="kobo.1330.1">Exercise 2.06 – handling the search functionality using a Vue method, a watcher, and computed props</span></h2>
<p><span class="koboSpan" id="kobo.1331.1">In this exercise, you will create a </span><a id="_idIndexMarker275"/><span class="koboSpan" id="kobo.1332.1">component that allows users to search data arrays using three different methods in Vue. </span><span class="koboSpan" id="kobo.1332.2">By the end of the exercise, you will be able to see how each different </span><span class="No-Break"><span class="koboSpan" id="kobo.1333.1">method works.</span></span></p>
<p><span class="koboSpan" id="kobo.1334.1">You can find the complete exercise </span><span class="No-Break"><span class="koboSpan" id="kobo.1335.1">at </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter02/Exercise2.06"><span class="No-Break"><span class="koboSpan" id="kobo.1336.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter02/Exercise2.06</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.1337.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1338.1">We will create a component that displays three different filtered lists according to three </span><strong class="source-inline"><span class="koboSpan" id="kobo.1339.1">input</span></strong><span class="koboSpan" id="kobo.1340.1"> fields, each using a different approach discussed in this topic, by following </span><span class="No-Break"><span class="koboSpan" id="kobo.1341.1">these instructions:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.1342.1">Use the application generated with </span><strong class="source-inline"><span class="koboSpan" id="kobo.1343.1">npm init vue@3</span></strong><span class="koboSpan" id="kobo.1344.1"> as a starting point, or within the root folder of the code repository, navigate to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1345.1">Chapter02/Exercise 2.06</span></strong><span class="koboSpan" id="kobo.1346.1"> folder, by using the following commands </span><span class="No-Break"><span class="koboSpan" id="kobo.1347.1">in order:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.1348.1">&gt; cd Chapter02/Exercise 2.06/</span></strong></pre><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.1349.1">&gt; yarn</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.1350.1">Open the exercise project in your VS Code (by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1351.1">code .</span></strong><span class="koboSpan" id="kobo.1352.1"> command within the project directory), or your </span><span class="No-Break"><span class="koboSpan" id="kobo.1353.1">preferred IDE.</span></span></li>
<li><span class="koboSpan" id="kobo.1354.1">Let’s create a new Vue component called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1355.1">Exercise2-06</span></strong><span class="koboSpan" id="kobo.1356.1"> by adding the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1357.1">Exercise2-06.vue</span></strong><span class="koboSpan" id="kobo.1358.1"> file to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1359.1">./</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1360.1">src/components/</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1361.1"> folder:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer077">
<span class="koboSpan" id="kobo.1362.1"><img alt="Figure 2.18 – The components directory hierarchy" src="image/B18645_02_18.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1363.1">Figure 2.18 – The components directory hierarchy</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.1364.1">In </span><strong class="source-inline"><span class="koboSpan" id="kobo.1365.1">Exercise2-06.vue</span></strong><span class="koboSpan" id="kobo.1366.1">, within the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1367.1">data</span></strong><span class="koboSpan" id="kobo.1368.1"> object, add a list of frameworks in an array, and assign it</span><a id="_idIndexMarker276"/><span class="koboSpan" id="kobo.1369.1"> to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1370.1">frameworkList</span></strong><span class="koboSpan" id="kobo.1371.1"> property. </span><span class="koboSpan" id="kobo.1371.2">Also, declare an </span><strong class="source-inline"><span class="koboSpan" id="kobo.1372.1">input</span></strong><span class="koboSpan" id="kobo.1373.1"> property with an empty string and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1374.1">methodFilterList</span></strong><span class="koboSpan" id="kobo.1375.1"> with an initial value of an </span><span class="No-Break"><span class="koboSpan" id="kobo.1376.1">empty array:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1377.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1378.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1379.1">
  data() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1380.1">
    return {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1381.1">
      // Shared</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1382.1">
      frameworkList: [</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1383.1">
        'Vue',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1384.1">
        'React',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1385.1">
        'Backbone',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1386.1">
        'Ember',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1387.1">
        'Knockout',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1388.1">
        'jQuery',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1389.1">
        'Angular',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1390.1">
      ],</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1391.1">
      // Method</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1392.1">
      input: '',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1393.1">
      methodFilterList: [],</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1394.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1395.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1396.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1397.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.1398.1">In the template, include</span><a id="_idIndexMarker277"/><span class="koboSpan" id="kobo.1399.1"> a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1400.1">div</span></strong><span class="koboSpan" id="kobo.1401.1"> container, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1402.1">title</span></strong><span class="koboSpan" id="kobo.1403.1">, and a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1404.1">column</span></strong><span class="koboSpan" id="kobo.1405.1"> container. </span><span class="koboSpan" id="kobo.1405.2">Inside this </span><strong class="source-inline"><span class="koboSpan" id="kobo.1406.1">column</span></strong><span class="koboSpan" id="kobo.1407.1"> container, create an input that is bound to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1408.1">v-model</span></strong><span class="koboSpan" id="kobo.1409.1"> input, and bind the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1410.1">keyup</span></strong><span class="koboSpan" id="kobo.1411.1"> event to the </span><a id="_idIndexMarker278"/><span class="koboSpan" id="kobo.1412.1">input to the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1413.1">searchMethod</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1414.1"> method:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1415.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1416.1">
  &lt;div class="container"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1417.1">
    &lt;h1&gt;Methods vs watchers vs computed props&lt;/h1&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1418.1">
    &lt;div class="col"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1419.1">
      &lt;input</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1420.1">
        type="text"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1421.1">
        placeholder="Search with method"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1422.1">
        v-model="input"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1423.1">
        @keyup="searchMethod"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1424.1">
      /&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1425.1">
      &lt;ul&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1426.1">
        &lt;li v-for="(item, i) in methodFilterList"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1427.1">
          :key="i"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1428.1">
          {{ item }}&lt;/li&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1429.1">
      &lt;/ul&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1430.1">
    &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1431.1">
  &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1432.1">
&lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1433.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1434.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1435.1">
  data() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1436.1">
    return {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1437.1">
      // Shared</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1438.1">
      frameworkList: [</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1439.1">
        'Vue',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1440.1">
        'React',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1441.1">
        'Backbone',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1442.1">
        'Ember',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1443.1">
        'Knockout',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1444.1">
        'jQuery',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1445.1">
        'Angular',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1446.1">
      ],</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1447.1">
      // Method</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1448.1">
      input: '',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1449.1">
      methodFilterList: [],</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1450.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1451.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1452.1">
  methods: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1453.1">
    searchMethod(e) {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1454.1">
    console.log(e)</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1455.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1456.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1457.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1458.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.1459.1">Then add some CSS stylings</span><a id="_idIndexMarker279"/><span class="koboSpan" id="kobo.1460.1"> to make the output</span><a id="_idIndexMarker280"/> <span class="No-Break"><span class="koboSpan" id="kobo.1461.1">look pretty:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1462.1">
&lt;style scoped&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1463.1">
.container {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1464.1">
  margin: 0 auto;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1465.1">
  padding: 30px;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1466.1">
  max-width: 600px;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1467.1">
  font-family: 'Avenir', Helvetica, Arial, sans-serif;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1468.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1469.1">
.col {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1470.1">
  width: 33%;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1471.1">
  height: 100%;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1472.1">
  float: left;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1473.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1474.1">
input {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1475.1">
  padding: 10px 6px;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1476.1">
  margin: 20px 10px 10px 0;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1477.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1478.1">
&lt;/style&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.1479.1">In the terminal, run the application using the </span><span class="No-Break"><span class="koboSpan" id="kobo.1480.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.1481.1">yarn dev</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.1482.1">Upon visiting </span><strong class="source-inline"><span class="koboSpan" id="kobo.1483.1">http://localhost:3000</span></strong><span class="koboSpan" id="kobo.1484.1"> in the browser, the output of the preceding command </span><a id="_idIndexMarker281"/><span class="koboSpan" id="kobo.1485.1">will be </span><span class="No-Break"><span class="koboSpan" id="kobo.1486.1">as follows:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer078">
<span class="koboSpan" id="kobo.1487.1"><img alt="Figure 2.19 – Console output for the key input" src="image/B18645_02_19.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1488.1">Figure 2.19 – Console output for the key input</span></p>
<ol>
<li value="9"><span class="koboSpan" id="kobo.1489.1">Inside our </span><strong class="source-inline"><span class="koboSpan" id="kobo.1490.1">searchMethod</span></strong><span class="koboSpan" id="kobo.1491.1"> method, write a</span><a id="_idIndexMarker282"/><span class="koboSpan" id="kobo.1492.1"> filter expression that binds the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1493.1">methodFilterList</span></strong><span class="koboSpan" id="kobo.1494.1"> data prop to a filtered </span><strong class="source-inline"><span class="koboSpan" id="kobo.1495.1">frameworkList</span></strong><span class="koboSpan" id="kobo.1496.1"> array based on the input value. </span><span class="koboSpan" id="kobo.1496.2">Trigger </span><strong class="source-inline"><span class="koboSpan" id="kobo.1497.1">searchMethod</span></strong><span class="koboSpan" id="kobo.1498.1"> on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1499.1">created()</span></strong><span class="koboSpan" id="kobo.1500.1"> life cycle hook so that when the component loads, a list </span><span class="No-Break"><span class="koboSpan" id="kobo.1501.1">is present:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1502.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1503.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1504.1">
  ...</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1505.1">
  created() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1506.1">
    this.searchMethod()</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1507.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1508.1">
  methods: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1509.1">
    searchMethod() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1510.1">
      this.methodFilterList =</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1511.1">
        this.frameworkList.filter(item =&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1512.1">
          item.toLowerCase().includes(this.input.</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1513.1">
            toLowerCase())</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1514.1">
        )</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1515.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1516.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1517.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1518.1">
&lt;/script&gt;</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.1519.1">On running the </span><a id="_idIndexMarker283"/><span class="koboSpan" id="kobo.1520.1">preceding</span><a id="_idIndexMarker284"/><span class="koboSpan" id="kobo.1521.1"> code, you will be able to filter the list, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1522.1">Figure 2</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1523.1">:20</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1524.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer079">
<span class="koboSpan" id="kobo.1525.1"><img alt="Figure 2.20 – You should be able to filter the list using a Vue method" src="image/B18645_02_20.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1526.1">Figure 2.20 – You should be able to filter the list using a Vue method</span></p>
<ol>
<li value="10"><span class="koboSpan" id="kobo.1527.1">Let’s make a filter </span><a id="_idIndexMarker285"/><span class="koboSpan" id="kobo.1528.1">using computed props. </span><span class="koboSpan" id="kobo.1528.2">Include a new data prop called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1529.1">input2</span></strong><span class="koboSpan" id="kobo.1530.1"> and create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1531.1">computed</span></strong><span class="koboSpan" id="kobo.1532.1"> prop called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1533.1">computedList</span></strong><span class="koboSpan" id="kobo.1534.1"> that returns the same filter as </span><strong class="source-inline"><span class="koboSpan" id="kobo.1535.1">searchMethod</span></strong><span class="koboSpan" id="kobo.1536.1"> but does not need to </span><a id="_idIndexMarker286"/><span class="koboSpan" id="kobo.1537.1">bind to another </span><span class="No-Break"><span class="koboSpan" id="kobo.1538.1">data prop:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1539.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1540.1">
  &lt;div class="container"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1541.1">
  ...</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1542.1">
    &lt;div class="col"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1543.1">
      &lt;input type="text" placeholder=</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1544.1">
        "Search with computed"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1545.1">
        v-model="input2" /&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1546.1">
      &lt;ul&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1547.1">
        &lt;li v-for="(item, i) in computedList"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1548.1">
          :key="i"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1549.1">
          {{ item }}&lt;/li&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1550.1">
      &lt;/ul&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1551.1">
    &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1552.1">
  ...</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1553.1">
  &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1554.1">
&lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1555.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1556.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1557.1">
  data() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1558.1">
    return {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1559.1">
      ...</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1560.1">
      // Computed</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1561.1">
      input2: '',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1562.1">
      ...</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1563.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1564.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1565.1">
...</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1566.1">
  computed: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1567.1">
    computedList() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1568.1">
      return this.frameworkList.filter(item =&gt; {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1569.1">
        return item.toLowerCase()</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1570.1">
          .includes(this.input2.toLowerCase())</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1571.1">
      })</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1572.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1573.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1574.1">
...</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1575.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1576.1">
&lt;/script&gt;</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.1577.1">You should now be able to filter the</span><a id="_idIndexMarker287"/><span class="koboSpan" id="kobo.1578.1"> second column of frameworks with the help of computed props, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1579.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer080">
<span class="koboSpan" id="kobo.1580.1"><img alt="Figure 2.21 – Filtering the second column of frameworks using computed props" src="image/B18645_02_21.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1581.1">Figure 2.21 – Filtering the second column of frameworks using computed props</span></p>
<ol>
<li value="11"><span class="koboSpan" id="kobo.1582.1">Finally, let’s filter the same</span><a id="_idIndexMarker288"/><span class="koboSpan" id="kobo.1583.1"> list using a watcher. </span><span class="koboSpan" id="kobo.1583.2">Include an </span><strong class="source-inline"><span class="koboSpan" id="kobo.1584.1">input3</span></strong><span class="koboSpan" id="kobo.1585.1"> prop with an empty string and a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1586.1">watchFilterList</span></strong><span class="koboSpan" id="kobo.1587.1"> prop with an empty array. </span><span class="koboSpan" id="kobo.1587.2">Also create a third </span><strong class="source-inline"><span class="koboSpan" id="kobo.1588.1">div</span></strong><span class="koboSpan" id="kobo.1589.1"> column, which contains an input bound to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1590.1">input3</span></strong> <strong class="source-inline"><span class="koboSpan" id="kobo.1591.1">v-model</span></strong><span class="koboSpan" id="kobo.1592.1">, and a list outputting the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1593.1">watchFilterList</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1594.1"> array:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1595.1">
&lt;template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1596.1">
  &lt;div class="container"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1597.1">
    …</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1598.1">
    &lt;div class="col"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1599.1">
      &lt;input type="text" placeholder="Search with</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1600.1">
        watcher"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1601.1">
        v-model="input3" /&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1602.1">
      &lt;ul&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1603.1">
        &lt;li v-for="(item, i) in watchFilterList"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1604.1">
          :key="i"&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1605.1">
          {{ item }}&lt;/li&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1606.1">
      &lt;/ul&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1607.1">
    &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1608.1">
  &lt;/div&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1609.1">
&lt;/template&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1610.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1611.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1612.1">
  data() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1613.1">
    return {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1614.1">
      ...</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1615.1">
      // Watcher</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1616.1">
      input3: '',</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1617.1">
      watchFilterList: [],</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1618.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1619.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1620.1">
 ...</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1621.1">
&lt;/script&gt;</span></pre></li>
<li><span class="koboSpan" id="kobo.1622.1">Create a watcher that </span><a id="_idIndexMarker289"/><span class="koboSpan" id="kobo.1623.1">watches </span><a id="_idIndexMarker290"/><span class="koboSpan" id="kobo.1624.1">the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1625.1">input3</span></strong><span class="koboSpan" id="kobo.1626.1"> prop for changes and binds the result of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1627.1">frameworkList</span></strong><span class="koboSpan" id="kobo.1628.1"> filter to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1629.1">watchFilterList</span></strong><span class="koboSpan" id="kobo.1630.1"> array. </span><span class="koboSpan" id="kobo.1630.2">Set the immediate key of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1631.1">input3</span></strong><span class="koboSpan" id="kobo.1632.1"> to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1633.1">true</span></strong><span class="koboSpan" id="kobo.1634.1"> so it will run when the component </span><span class="No-Break"><span class="koboSpan" id="kobo.1635.1">is created:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1636.1">
&lt;script&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1637.1">
export default {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1638.1">
...</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1639.1">
  watch: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1640.1">
    input3: {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1641.1">
      handler() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1642.1">
        this.watchFilterList =</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1643.1">
          this.frameworkList.filter(item =&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1644.1">
            item.toLowerCase()</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1645.1">
              .includes(this.input3.toLowerCase())</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1646.1">
          )</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1647.1">
      },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1648.1">
      immediate: true,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1649.1">
    },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1650.1">
  },</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1651.1">
...</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1652.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.1653.1">
&lt;/script&gt;</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.1654.1">With the</span><a id="_idIndexMarker291"/><span class="koboSpan" id="kobo.1655.1"> help of a watcher, you</span><a id="_idIndexMarker292"/><span class="koboSpan" id="kobo.1656.1"> should now be able to filter the third column, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1657.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer081">
<span class="koboSpan" id="kobo.1658.1"><img alt="Figure 2.22 – Filtering the list using a watcher in the third column" src="image/B18645_02_22.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1659.1">Figure 2.22 – Filtering the list using a watcher in the third column</span></p>
<p><span class="koboSpan" id="kobo.1660.1">In this exercise, we have seen how we can achieve a filtered list using a method, computed props, and </span><span class="No-Break"><span class="koboSpan" id="kobo.1661.1">a </span></span><span class="No-Break"><a id="_idIndexMarker293"/></span><span class="No-Break"><span class="koboSpan" id="kobo.1662.1">watcher.</span></span></p>
<p><span class="koboSpan" id="kobo.1663.1">This section briefly demonstrated </span><a id="_idIndexMarker294"/><span class="koboSpan" id="kobo.1664.1">the three approaches. </span><span class="koboSpan" id="kobo.1664.2">Each approach has its own pros and cons, and choosing the most suitable approach to apply or to combine requires practice and further</span><a id="_idIndexMarker295"/><span class="koboSpan" id="kobo.1665.1"> understanding of each use case or </span><span class="No-Break"><span class="koboSpan" id="kobo.1666.1">project goal.</span></span></p>
<p><span class="koboSpan" id="kobo.1667.1">In the next section, we will apply </span><a id="_idIndexMarker296"/><span class="koboSpan" id="kobo.1668.1">what we have learned so far in this chapter to create a blog list application with compu</span><a id="_idTextAnchor102"/><a id="_idTextAnchor103"/><span class="koboSpan" id="kobo.1669.1">ted properties, methods, and watchers with an external data </span><span class="No-Break"><span class="koboSpan" id="kobo.1670.1">API query.</span></span></p>
<h2 id="_idParaDest-69"><a id="_idTextAnchor104"/><span class="koboSpan" id="kobo.1671.1">Activity 2.01 – creating a blog list using the Contentful API</span></h2>
<p><span class="koboSpan" id="kobo.1672.1">To access the code file for this activity, refer </span><span class="No-Break"><span class="koboSpan" id="kobo.1673.1">to </span></span><a href="https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter02/Activity2.01"><span class="No-Break"><span class="koboSpan" id="kobo.1674.1">https://github.com/PacktPublishing/Frontend-Development-Projects-with-Vue.js-3/tree/v2-edition/Chapter02/Activity2.01</span></span></a></p>
<p><span class="koboSpan" id="kobo.1675.1">This activity aims to leverage your</span><a id="_idIndexMarker297"/><span class="koboSpan" id="kobo.1676.1"> knowledge regarding applying different approaches to working with an external data API source by building a blog that lists articles. </span><span class="koboSpan" id="kobo.1676.2">This application activity will test your knowledge of Vue by using all the basic </span><a id="_idIndexMarker298"/><span class="koboSpan" id="kobo.1677.1">functions of a </span><strong class="bold"><span class="koboSpan" id="kobo.1678.1">Single-File Component</span></strong><span class="koboSpan" id="kobo.1679.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.1680.1">SFC</span></strong><span class="koboSpan" id="kobo.1681.1">) and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1682.1">async</span></strong><span class="koboSpan" id="kobo.1683.1"> methods to fetch remote data from an API and use computed properties to organize deeply nested </span><span class="No-Break"><span class="koboSpan" id="kobo.1684.1">object structures.</span></span></p>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.1685.1">Contentful</span></strong><span class="koboSpan" id="kobo.1686.1"> is a headless </span><strong class="bold"><span class="koboSpan" id="kobo.1687.1">content management system</span></strong><span class="koboSpan" id="kobo.1688.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.1689.1">CMS</span></strong><span class="koboSpan" id="kobo.1690.1">) that allows you to manage content separately from your</span><a id="_idIndexMarker299"/><span class="koboSpan" id="kobo.1691.1"> code repository. </span><span class="koboSpan" id="kobo.1691.2">You can consume this content using the API inside as many code repositories as you need. </span><span class="koboSpan" id="kobo.1691.3">For example, you may have a blog website that acts as a primary source of information, but your clients want a standalone page on a different domain that only pulls in the most recently featured articles. </span><span class="koboSpan" id="kobo.1691.4">Using a headless CMS inherently allows you to develop these two separate code bases and use the same updated </span><span class="No-Break"><span class="koboSpan" id="kobo.1692.1">data source.</span></span></p>
<p><span class="koboSpan" id="kobo.1693.1">This activity will use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1694.1">Contentful</span></strong><span class="koboSpan" id="kobo.1695.1"> headless CMS. </span><span class="koboSpan" id="kobo.1695.2">The access keys and endpoints will be listed in </span><span class="No-Break"><span class="koboSpan" id="kobo.1696.1">the solution.</span></span></p>
<p><span class="koboSpan" id="kobo.1697.1">The following steps will help </span><a id="_idIndexMarker300"/><span class="koboSpan" id="kobo.1698.1">you complete </span><span class="No-Break"><span class="koboSpan" id="kobo.1699.1">the activity:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.1700.1">Create a Vue project using the scaffolding tool with Vite as a bundle </span><span class="No-Break"><span class="koboSpan" id="kobo.1701.1">management tool.</span></span></li>
<li><span class="koboSpan" id="kobo.1702.1">Install the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1703.1">Contentful</span></strong><span class="koboSpan" id="kobo.1704.1"> dependency (</span><a href="https://www.npmjs.com/package/contentful"><span class="koboSpan" id="kobo.1705.1">https://www.npmjs.com/package/contentful</span></a><span class="koboSpan" id="kobo.1706.1">) into your project using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1707.1">yarn add </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1708.1">contentful</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1709.1"> command.</span></span></li>
<li><span class="koboSpan" id="kobo.1710.1">Use computed properties to output the deeply nested data from the </span><span class="No-Break"><span class="koboSpan" id="kobo.1711.1">API response.</span></span></li>
<li><span class="koboSpan" id="kobo.1712.1">Use data props to output the user’s name, job title, </span><span class="No-Break"><span class="koboSpan" id="kobo.1713.1">and description.</span></span></li>
<li><span class="koboSpan" id="kobo.1714.1">Use SCSS to style </span><span class="No-Break"><span class="koboSpan" id="kobo.1715.1">the page.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.1716.1">The expected outcome is </span><span class="No-Break"><span class="koboSpan" id="kobo.1717.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer082">
<span class="koboSpan" id="kobo.1718.1"><img alt="Figure 2.23 – The expected outcome with Contentful blog posts" src="image/B18645_02_23.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1719.1">Figure 2.23 – The expected outcome with Contentful blog posts</span></p>
<p><span class="koboSpan" id="kobo.1720.1">After the activity has been </span><a id="_idIndexMarker301"/><span class="koboSpan" id="kobo.1721.1">completed, you should be able to use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1722.1">async</span></strong><span class="koboSpan" id="kobo.1723.1"> methods to pull remote data from an API source into your Vue components. </span><span class="koboSpan" id="kobo.1723.2">You will find that computed props are a sophisticated w</span><a id="_idTextAnchor105"/><span class="koboSpan" id="kobo.1724.1">ay of breaking down the information into smaller chunks of </span><span class="No-Break"><span class="koboSpan" id="kobo.1725.1">reusable data.</span></span></p>
<h1 id="_idParaDest-70"><a id="_idTextAnchor106"/><span class="koboSpan" id="kobo.1726.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.1727.1">In this chapter, you were introduced to Vue.js computed and watch properties, which allow you to observe and control reactive data. </span><span class="koboSpan" id="kobo.1727.2">You also explored how to use methods to asynchronously fetch data from an API using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1728.1">axios</span></strong><span class="koboSpan" id="kobo.1729.1"> library. </span><span class="koboSpan" id="kobo.1729.2">Then, you learned how to dynamically compose the received data into different outputs within the Vue template using computed props. </span><span class="koboSpan" id="kobo.1729.3">The differences between using methods and computed and watch properties were demonstrated by building search functionality using </span><span class="No-Break"><span class="koboSpan" id="kobo.1730.1">each method.</span></span></p>
<p><span class="koboSpan" id="kobo.1731.1">The next chapter will cover Vite and show you how to use Vue DevTools to manage and debug your Vue.js applications that use these computed properties </span><span class="No-Break"><span class="koboSpan" id="kobo.1732.1">and events.</span></span></p>
</div>
<div>
<div class="IMG---Figure" id="_idContainer084">
</div>
</div>
</body></html>