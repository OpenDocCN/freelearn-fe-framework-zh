<html><head></head><body>
  <div class="Basic-Text-Frame" id="_idContainer263">
   <h1 class="chapterNumber">
    <span class="koboSpan" id="kobo.1.1">
     10
    </span>
   </h1>
   <h1 class="chapterTitle" id="_idParaDest-186">
    <span class="koboSpan" id="kobo.2.1">
     Collecting User Data with Forms
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.3.1">
     Web applications use forms to collect input data from users.
    </span>
    <span class="koboSpan" id="kobo.3.2">
     Use cases vary, from allowing users to log in, fill in payment information, book a flight, or even perform a search.
    </span>
    <span class="koboSpan" id="kobo.3.3">
     Form data can later be persisted on local storage or be sent to a server using a backend API.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.4.1">
     In this chapter, we will cover the following topics about forms:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.5.1">
      Introducing web forms
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.6.1">
      Building template-driven forms
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.7.1">
      Building reactive forms
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.8.1">
      Using a form builder
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.9.1">
      Validating input in forms
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.10.1">
      Manipulating form state
     </span>
    </li>
   </ul>
   <h1 class="heading-1" id="_idParaDest-187">
    <span class="koboSpan" id="kobo.11.1">
     Technical requirements
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.12.1">
     The chapter contains various code samples to walk you through creating and managing forms in Angular.
    </span>
    <span class="koboSpan" id="kobo.12.2">
     You can find the related source code in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.13.1">
      ch10
     </span>
    </code>
    <span class="koboSpan" id="kobo.14.1">
     folder of the following GitHub repository:
    </span>
   </p>
   <p class="normal">
    <a href="https://www.github.com/PacktPublishing/Learning-Angular-Fifth-Edition ">
     <span class="url">
      <span class="koboSpan" id="kobo.15.1">
       https://www.github.com/PacktPublishing/Learning-Angular-Fifth-Edition
      </span>
     </span>
    </a>
   </p>
   <h1 class="heading-1" id="_idParaDest-188">
    <span class="koboSpan" id="kobo.16.1">
     Introducing web forms
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.17.1">
     A form usually
    </span>
    <a id="_idIndexMarker604">
    </a>
    <span class="koboSpan" id="kobo.18.1">
     has the following characteristics that enhance the user experience of a web application:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.19.1">
      Defines different kinds of input fields
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.20.1">
      Sets up different kinds of validations and displays validation errors to the user
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.21.1">
      Supports different strategies for handling data if the form is in an error state
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.22.1">
     The Angular framework provides two approaches to handling forms:
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.23.1">
      template-driven
     </span>
    </strong>
    <span class="koboSpan" id="kobo.24.1">
     and
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.25.1">
      reactive
     </span>
    </strong>
    <span class="koboSpan" id="kobo.26.1">
     .
    </span>
    <span class="koboSpan" id="kobo.26.2">
     Neither approach is considered better; you must choose the one that best suits your scenario.
    </span>
    <span class="koboSpan" id="kobo.26.3">
     The main difference between the two approaches is how they manage data:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.27.1">
       Template-driven forms
      </span>
     </strong>
     <span class="koboSpan" id="kobo.28.1">
      : These
     </span>
     <a id="_idIndexMarker605">
     </a>
     <span class="koboSpan" id="kobo.29.1">
      are easy to set up and add to an Angular application.
     </span>
     <span class="koboSpan" id="kobo.29.2">
      They operate solely on the component template to create elements and configure validation rules; thus, they are not easy to test.
     </span>
     <span class="koboSpan" id="kobo.29.3">
      They also depend on the change detection mechanism of the framework.
     </span>
    </li>
    <li class="bulletList">
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.30.1">
       Reactive forms
      </span>
     </strong>
     <span class="koboSpan" id="kobo.31.1">
      : These are
     </span>
     <a id="_idIndexMarker606">
     </a>
     <span class="koboSpan" id="kobo.32.1">
      more robust when scaling and testing.
     </span>
     <span class="koboSpan" id="kobo.32.2">
      They operate in the component class to manage input controls and set validation rules.
     </span>
     <span class="koboSpan" id="kobo.32.3">
      They also manipulate data using an intermediate form model, maintaining their immutable nature.
     </span>
     <span class="koboSpan" id="kobo.32.4">
      This technique is for you if you use reactive programming techniques extensively or if your Angular application comprises many forms.
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.33.1">
     A form in a web application consists of a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.34.1">
      &lt;form&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.35.1">
     HTML element that contains HTML elements for entering data, such as
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.36.1">
      &lt;input&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.37.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.38.1">
      &lt;select&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.39.1">
     elements, and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.40.1">
      &lt;button&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.41.1">
     elements for interacting with the data.
    </span>
    <span class="koboSpan" id="kobo.41.2">
     The form can retrieve and save data locally or send it to a server for further manipulation.
    </span>
    <span class="koboSpan" id="kobo.41.3">
     The following is an example of a simple form that is used for logging a user into a web application:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag"><span class="koboSpan" id="kobo.42.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.43.1">form</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.44.1">&gt;</span></span> 
  <span class="hljs-tag"><span class="koboSpan" id="kobo.45.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.46.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.47.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.48.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.49.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.50.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.51.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.52.1">"text"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.53.1">name</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.54.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.55.1">"username"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.56.1">placeholder</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.57.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.58.1">"Username"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.59.1"> /&gt;</span></span> 
  <span class="hljs-tag"><span class="koboSpan" id="kobo.60.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.61.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.62.1">&gt;</span></span> 
  <span class="hljs-tag"><span class="koboSpan" id="kobo.63.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.64.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.65.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.66.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.67.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.68.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.69.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.70.1">"password"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.71.1">name</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.72.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.73.1">"password"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.74.1">placeholder</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.75.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.76.1">"Password"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.77.1"> /&gt;</span></span> 
  <span class="hljs-tag"><span class="koboSpan" id="kobo.78.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.79.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.80.1">&gt;</span></span> 
  <span class="hljs-tag"><span class="koboSpan" id="kobo.81.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.82.1">button</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.83.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.84.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.85.1">"submit"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.86.1">&gt;</span></span><span class="koboSpan" id="kobo.87.1">Login</span><span class="hljs-tag"><span class="koboSpan" id="kobo.88.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.89.1">button</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.90.1">&gt;</span></span> 
<span class="hljs-tag"><span class="koboSpan" id="kobo.91.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.92.1">form</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.93.1">&gt;</span></span> 
</code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.94.1">
     The preceding form has two
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.95.1">
      &lt;input&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.96.1">
     elements: one for entering the username and another for entering the password.
    </span>
    <span class="koboSpan" id="kobo.96.2">
     The type of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.97.1">
      password
     </span>
    </code>
    <span class="koboSpan" id="kobo.98.1">
     field is set to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.99.1">
      password
     </span>
    </code>
    <span class="koboSpan" id="kobo.100.1">
     so that the content of the input control is not visible while typing.
    </span>
    <span class="koboSpan" id="kobo.100.2">
     The type of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.101.1">
      &lt;button&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.102.1">
     element is set to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.103.1">
      submit
     </span>
    </code>
    <span class="koboSpan" id="kobo.104.1">
     so that the form can collect data by a user clicking on the button or pressing
    </span>
    <em class="keystroke">
     <span class="koboSpan" id="kobo.105.1">
      Enter
     </span>
    </em>
    <span class="koboSpan" id="kobo.106.1">
     on any input control.
    </span>
   </p>
   <div class="packt_tip">
    <p class="normal">
     <span class="koboSpan" id="kobo.107.1">
      We could add another button with the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.108.1">
       reset
      </span>
     </code>
     <span class="koboSpan" id="kobo.109.1">
      type if we wanted to reset form data.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.110.1">
     Notice that an HTML element must reside inside the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.111.1">
      &lt;form&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.112.1">
     element to be part of it.
    </span>
    <span class="koboSpan" id="kobo.112.2">
     The following screenshot shows what the form looks like when rendered on a page:
    </span>
   </p>
   <figure class="mediaobject">
    <span class="koboSpan" id="kobo.113.1">
     <img alt="Graphical user interface, text, application  Description automatically generated" src="../Images/B21418_10_01.png"/>
    </span>
   </figure>
   <p class="packt_figref">
    <span class="koboSpan" id="kobo.114.1">
     Figure 10.1: Login form
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.115.1">
     Web applications can significantly enhance the user experience by using forms that provide features such as autocomplete in input controls or prompting the user to save sensitive data.
    </span>
    <span class="koboSpan" id="kobo.115.2">
     Now that we
    </span>
    <a id="_idIndexMarker607">
    </a>
    <span class="koboSpan" id="kobo.116.1">
     have understood what a web form looks like, let’s learn how all that fits into the Angular framework.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-189">
    <span class="koboSpan" id="kobo.117.1">
     Building template-driven forms
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.118.1">
     Template-driven forms
    </span>
    <a id="_idIndexMarker608">
    </a>
    <span class="koboSpan" id="kobo.119.1">
     are one of two different ways of integrating forms with Angular.
    </span>
    <span class="koboSpan" id="kobo.119.2">
     These can be powerful in cases where we want to create small and simple forms for our Angular application.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.120.1">
     We learned about data binding in
    </span>
    <em class="chapterRef">
     <span class="koboSpan" id="kobo.121.1">
      Chapter 3
     </span>
    </em>
    <span class="koboSpan" id="kobo.122.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.123.1">
      Structuring User Interfaces with Components
     </span>
    </em>
    <span class="koboSpan" id="kobo.124.1">
     , and how we can use different types to read data from an Angular component and write data to it.
    </span>
    <span class="koboSpan" id="kobo.124.2">
     In that case, binding is either one way or another, called
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.125.1">
      one-way binding
     </span>
    </strong>
    <span class="koboSpan" id="kobo.126.1">
     .
    </span>
    <span class="koboSpan" id="kobo.126.2">
     In
    </span>
    <a id="_idIndexMarker609">
    </a>
    <span class="koboSpan" id="kobo.127.1">
     template-driven forms, we can combine both ways and create a
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.128.1">
      two-way binding
     </span>
    </strong>
    <span class="koboSpan" id="kobo.129.1">
     that
    </span>
    <a id="_idIndexMarker610">
    </a>
    <span class="koboSpan" id="kobo.130.1">
     can read and write data simultaneously.
    </span>
    <span class="koboSpan" id="kobo.130.2">
     Template-driven forms provide the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.131.1">
      ngModel
     </span>
    </code>
    <span class="koboSpan" id="kobo.132.1">
     directive, which we can use in our components to get this behavior.
    </span>
    <span class="koboSpan" id="kobo.132.2">
     To learn more about template-driven forms, we will convert the change price functionality of our product detail component to work with Angular forms.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <span class="koboSpan" id="kobo.133.1">
      You will need the source code of the Angular application we created in
     </span>
     <em class="chapterRef">
      <span class="koboSpan" id="kobo.134.1">
       Chapter 9
      </span>
     </em>
     <span class="koboSpan" id="kobo.135.1">
      ,
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.136.1">
       Navigating through Applications with Routing
      </span>
     </em>
     <span class="koboSpan" id="kobo.137.1">
      , to follow along with the rest of the chapter.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.138.1">
     Let’s get started:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.139.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.140.1">
       product-detail.component.ts
      </span>
     </code>
     <span class="koboSpan" id="kobo.141.1">
      file and add the following
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.142.1">
       import
      </span>
     </code>
     <span class="koboSpan" id="kobo.143.1">
      statement:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.144.1">import</span></span><span class="koboSpan" id="kobo.145.1"> { </span><span class="hljs-title"><span class="koboSpan" id="kobo.146.1">FormsModule</span></span><span class="koboSpan" id="kobo.147.1"> } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.148.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.149.1">'@angular/forms'</span></span><span class="koboSpan" id="kobo.150.1">;
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.151.1">
     We add template-driven forms to an Angular application using the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.152.1">
      FormsModule
     </span>
    </code>
    <span class="koboSpan" id="kobo.153.1">
     class from the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.154.1">
      @angular/forms
     </span>
    </code>
    <span class="koboSpan" id="kobo.155.1">
     npm package.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="2">
     <span class="koboSpan" id="kobo.156.1">
      Add
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.157.1">
       FormsModule
      </span>
     </code>
     <span class="koboSpan" id="kobo.158.1">
      in
     </span>
     <a id="_idIndexMarker611">
     </a>
     <span class="koboSpan" id="kobo.159.1">
      the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.160.1">
       imports
      </span>
     </code>
     <span class="koboSpan" id="kobo.161.1">
      array of the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.162.1">
       @Component
      </span>
     </code>
     <span class="koboSpan" id="kobo.163.1">
      decorator:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-meta"><span class="koboSpan" id="kobo.164.1">@Component</span></span><span class="koboSpan" id="kobo.165.1">({
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.166.1">selector</span></span><span class="koboSpan" id="kobo.167.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.168.1">'app-product-detail'</span></span><span class="koboSpan" id="kobo.169.1">,
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.170.1">imports</span></span><span class="koboSpan" id="kobo.171.1">: [</span><span class="hljs-title"><span class="koboSpan" id="kobo.172.1">CommonModule</span></span><span class="koboSpan" id="kobo.173.1">, </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.174.1">FormsModule</span></strong></span><span class="koboSpan" id="kobo.175.1">],
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.176.1">templateUrl</span></span><span class="koboSpan" id="kobo.177.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.178.1">'./product-detail.component.html'</span></span><span class="koboSpan" id="kobo.179.1">,
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.180.1">styleUrl</span></span><span class="koboSpan" id="kobo.181.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.182.1">'</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.183.1">./product-detail.component.css'</span></span><span class="koboSpan" id="kobo.184.1">
})
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.185.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.186.1">
       product-detail.component.html
      </span>
     </code>
     <span class="koboSpan" id="kobo.187.1">
      file and modify the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.188.1">
       &lt;input&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.189.1">
      element as follows:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="koboSpan" id="kobo.190.1">&lt;input placeholder=</span><span class="hljs-string"><span class="koboSpan" id="kobo.191.1">"New price"</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.192.1">type</span></span><span class="koboSpan" id="kobo.193.1">=</span><span class="hljs-string"><span class="koboSpan" id="kobo.194.1">"number"</span></span><span class="koboSpan" id="kobo.195.1"> name=</span><span class="hljs-string"><span class="koboSpan" id="kobo.196.1">"price"</span></span><span class="koboSpan" id="kobo.197.1"> [(ngModel)]=</span><span class="hljs-string"><span class="koboSpan" id="kobo.198.1">"product.price"</span></span><span class="koboSpan" id="kobo.199.1"> /&gt;
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.200.1">
     In the preceding snippet, we bind the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.201.1">
      price
     </span>
    </code>
    <span class="koboSpan" id="kobo.202.1">
     property of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.203.1">
      product
     </span>
    </code>
    <span class="koboSpan" id="kobo.204.1">
     template variable to the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.205.1">
      ngModel
     </span>
    </code>
    <span class="koboSpan" id="kobo.206.1">
     directive of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.207.1">
      &lt;input&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.208.1">
     element.
    </span>
    <span class="koboSpan" id="kobo.208.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.209.1">
      name
     </span>
    </code>
    <span class="koboSpan" id="kobo.210.1">
     attribute is required so that Angular can internally create a unique form control to distinguish it.
    </span>
   </p>
   <div class="packt_tip-one">
    <p class="normal">
     <span class="koboSpan" id="kobo.211.1">
      The syntax of the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.212.1">
       ngModel
      </span>
     </code>
     <span class="koboSpan" id="kobo.213.1">
      directive is known as a
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.214.1">
       banana in a box
      </span>
     </em>
     <span class="koboSpan" id="kobo.215.1">
      , and we create it in two steps.
     </span>
     <span class="koboSpan" id="kobo.215.2">
      First, we make the
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.216.1">
       banana
      </span>
     </em>
     <span class="koboSpan" id="kobo.217.1">
      by surrounding
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.218.1">
       ngModel
      </span>
     </code>
     <span class="koboSpan" id="kobo.219.1">
      in parentheses
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.220.1">
       ()
      </span>
     </code>
     <span class="koboSpan" id="kobo.221.1">
      .
     </span>
     <span class="koboSpan" id="kobo.221.2">
      Then, we put it
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.222.1">
       in a box
      </span>
     </em>
     <span class="koboSpan" id="kobo.223.1">
      by surrounding it with square brackets
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.224.1">
       [()]
      </span>
     </code>
     <span class="koboSpan" id="kobo.225.1">
      .
     </span>
    </p>
   </div>
   <ol>
    <li class="numberedList" value="4">
     <span class="koboSpan" id="kobo.226.1">
      Modify the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.227.1">
       &lt;button&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.228.1">
      element as follows:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-tag"><span class="koboSpan" id="kobo.229.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.230.1">button</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.231.1">class</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.232.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.233.1">"secondary"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.234.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.235.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.236.1">"submit"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.237.1">&gt;</span></span><span class="koboSpan" id="kobo.238.1">Change</span><span class="hljs-tag"><span class="koboSpan" id="kobo.239.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.240.1">button</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.241.1">&gt;</span></span>
</code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.242.1">
     In the preceding snippet, we remove the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.243.1">
      click
     </span>
    </code>
    <span class="koboSpan" id="kobo.244.1">
     event from the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.245.1">
      &lt;button&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.246.1">
     element because submitting the form will update the price.
    </span>
    <span class="koboSpan" id="kobo.246.2">
     We also add the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.247.1">
      submit
     </span>
    </code>
    <span class="koboSpan" id="kobo.248.1">
     type to indicate that the form submission can happen by a user clicking the button.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="5">
     <span class="koboSpan" id="kobo.249.1">
      Surround
     </span>
     <a id="_idIndexMarker612">
     </a>
     <span class="koboSpan" id="kobo.250.1">
      the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.251.1">
       &lt;input&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.252.1">
      and
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.253.1">
       &lt;button&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.254.1">
      elements with the following
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.255.1">
       &lt;form&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.256.1">
      element:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.257.1">&lt;form (ngSubmit)="changePrice(product)"&gt;</span></strong></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.258.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.259.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.260.1">placeholder</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.261.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.262.1">"New price"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.263.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.264.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.265.1">"number"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.266.1">name</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.267.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.268.1">"price"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.269.1"> [(</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.270.1">ngModel</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.271.1">)]=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.272.1">"product.price"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.273.1"> /&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.274.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.275.1">button</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.276.1">class</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.277.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.278.1">"secondary"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.279.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.280.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.281.1">"submit"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.282.1">&gt;</span></span><span class="koboSpan" id="kobo.283.1">Change</span><span class="hljs-tag"><span class="koboSpan" id="kobo.284.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.285.1">button</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.286.1">&gt;</span></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.287.1">&lt;/form&gt;</span></strong></span>
</code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.288.1">
     In the preceding snippet, we bind the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.289.1">
      changePrice
     </span>
    </code>
    <span class="koboSpan" id="kobo.290.1">
     method to the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.291.1">
      ngSubmit
     </span>
    </code>
    <span class="koboSpan" id="kobo.292.1">
     event of the form.
    </span>
    <span class="koboSpan" id="kobo.292.2">
     The binding will trigger the method execution if we press
    </span>
    <em class="keystroke">
     <span class="koboSpan" id="kobo.293.1">
      Enter
     </span>
    </em>
    <span class="koboSpan" id="kobo.294.1">
     inside the input box or click the button.
    </span>
    <span class="koboSpan" id="kobo.294.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.295.1">
      ngSubmit
     </span>
    </code>
    <span class="koboSpan" id="kobo.296.1">
     event is part of the Angular
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.297.1">
      FormsModule
     </span>
    </code>
    <span class="koboSpan" id="kobo.298.1">
     and hooks on the native
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.299.1">
      submit
     </span>
    </code>
    <span class="koboSpan" id="kobo.300.1">
     event of an HTML form.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="6">
     <span class="koboSpan" id="kobo.301.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.302.1">
       product-detail.component.ts
      </span>
     </code>
     <span class="koboSpan" id="kobo.303.1">
      file and modify the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.304.1">
       changePrice
      </span>
     </code>
     <span class="koboSpan" id="kobo.305.1">
      method as follows:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-title"><span class="koboSpan" id="kobo.306.1">changePrice</span></span><span class="koboSpan" id="kobo.307.1">(</span><span class="hljs-attr"><span class="koboSpan" id="kobo.308.1">product</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.309.1">: </span></span><span class="hljs-title"><span class="koboSpan" id="kobo.310.1">Product</span></span><span class="koboSpan" id="kobo.311.1">) {
  </span><span class="hljs-variable"><span class="koboSpan" id="kobo.312.1">this</span></span><span class="koboSpan" id="kobo.313.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.314.1">productService</span></span><span class="koboSpan" id="kobo.315.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.316.1">updateProduct</span></span><span class="koboSpan" id="kobo.317.1">(
    product.</span><span class="hljs-property"><span class="koboSpan" id="kobo.318.1">id</span></span><span class="koboSpan" id="kobo.319.1">,
    product.</span><span class="hljs-property"><span class="koboSpan" id="kobo.320.1">price</span></span><span class="koboSpan" id="kobo.321.1">
  ).</span><span class="hljs-title"><span class="koboSpan" id="kobo.322.1">subscribe</span></span><span class="koboSpan" id="kobo.323.1">(</span><span class="hljs-function"><span class="koboSpan" id="kobo.324.1">() =&gt;</span></span> <span class="hljs-variable"><span class="koboSpan" id="kobo.325.1">this</span></span><span class="koboSpan" id="kobo.326.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.327.1">router</span></span><span class="koboSpan" id="kobo.328.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.329.1">navigate</span></span><span class="koboSpan" id="kobo.330.1">([</span><span class="hljs-string"><span class="koboSpan" id="kobo.331.1">'/products'</span></span><span class="koboSpan" id="kobo.332.1">]));
}
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.333.1">
      Run the application using the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.334.1">
       ng serve
      </span>
     </code>
     <span class="koboSpan" id="kobo.335.1">
      command and select a product from the list.
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.336.1">
      You will notice that the current product price is already displayed inside the input box.
     </span>
     <span class="koboSpan" id="kobo.336.2">
      Try to change the price, and you will notice that the current price of the product is also changing while you type:
     </span>
    </li>
   </ol>
   <figure class="mediaobject">
    <span class="koboSpan" id="kobo.337.1">
     <img alt="img" src="../Images/B21418_10_02.png"/>
    </span>
   </figure>
   <p class="packt_figref">
    <span class="koboSpan" id="kobo.338.1">
     Figure 10.2: Two-way binding
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.339.1">
     The behavior of our application depicted in the preceding image is the magic behind two-way binding and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.340.1">
      ngModel
     </span>
    </code>
    <span class="koboSpan" id="kobo.341.1">
     .
    </span>
   </p>
   <div class="packt_tip">
    <p class="normal">
     <span class="koboSpan" id="kobo.342.1">
      Two-way binding was the biggest selling point when AngularJS came out in 2010.
     </span>
     <span class="koboSpan" id="kobo.342.2">
      It was complex to achieve that behavior in those days with vanilla JavaScript and jQuery.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.343.1">
     While we type
    </span>
    <a id="_idIndexMarker613">
    </a>
    <span class="koboSpan" id="kobo.344.1">
     inside the input box, the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.345.1">
      ngModel
     </span>
    </code>
    <span class="koboSpan" id="kobo.346.1">
     directive updates the value of the product price.
    </span>
    <span class="koboSpan" id="kobo.346.2">
     The new price is directly reflected in the template because we use Angular interpolation syntax to display its value.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.347.1">
     In our case, updating the current product price while entering a new one is a bad user experience.
    </span>
    <span class="koboSpan" id="kobo.347.2">
     The user should be able to view the current price of the product at all times.
    </span>
    <span class="koboSpan" id="kobo.347.3">
     We will modify the product detail component so that the price is displayed correctly:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.348.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.349.1">
       product-detail.component.ts
      </span>
     </code>
     <span class="koboSpan" id="kobo.350.1">
      file and create a
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.351.1">
       price
      </span>
     </code>
     <span class="koboSpan" id="kobo.352.1">
      property inside the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.353.1">
       ProductDetailComponent
      </span>
     </code>
     <span class="koboSpan" id="kobo.354.1">
      class:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-attr"><span class="koboSpan" id="kobo.355.1">price</span></span><span class="koboSpan" id="kobo.356.1">: </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.357.1">number</span></span><span class="koboSpan" id="kobo.358.1"> | </span><span class="hljs-literal"><span class="koboSpan" id="kobo.359.1">undefined</span></span><span class="koboSpan" id="kobo.360.1">;
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.361.1">
      Modify the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.362.1">
       changePrice
      </span>
     </code>
     <span class="koboSpan" id="kobo.363.1">
      method to use the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.364.1">
       price
      </span>
     </code>
     <span class="koboSpan" id="kobo.365.1">
      component property:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-title"><span class="koboSpan" id="kobo.366.1">changePrice</span></span><span class="koboSpan" id="kobo.367.1">(</span><span class="hljs-attr"><span class="koboSpan" id="kobo.368.1">product</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.369.1">: </span></span><span class="hljs-title"><span class="koboSpan" id="kobo.370.1">Product</span></span><span class="koboSpan" id="kobo.371.1">) {
  </span><span class="hljs-variable"><span class="koboSpan" id="kobo.372.1">this</span></span><span class="koboSpan" id="kobo.373.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.374.1">productService</span></span><span class="koboSpan" id="kobo.375.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.376.1">updateProduct</span></span><span class="koboSpan" id="kobo.377.1">(
    product.</span><span class="hljs-property"><span class="koboSpan" id="kobo.378.1">id</span></span><span class="koboSpan" id="kobo.379.1">,
    </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.380.1">this.price!</span></strong></span><span class="koboSpan" id="kobo.381.1">
  ).</span><span class="hljs-title"><span class="koboSpan" id="kobo.382.1">subscribe</span></span><span class="koboSpan" id="kobo.383.1">(</span><span class="hljs-function"><span class="koboSpan" id="kobo.384.1">() =&gt;</span></span> <span class="hljs-variable"><span class="koboSpan" id="kobo.385.1">this</span></span><span class="koboSpan" id="kobo.386.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.387.1">router</span></span><span class="koboSpan" id="kobo.388.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.389.1">navigate</span></span><span class="koboSpan" id="kobo.390.1">([</span><span class="hljs-string"><span class="koboSpan" id="kobo.391.1">'/products'</span></span><span class="koboSpan" id="kobo.392.1">]));
}
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.393.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.394.1">
       product-detail.component.html
      </span>
     </code>
     <span class="koboSpan" id="kobo.395.1">
      file and replace the binding in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.396.1">
       &lt;input&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.397.1">
      element to use the new component property:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="koboSpan" id="kobo.398.1">&lt;input placeholder=</span><span class="hljs-string"><span class="koboSpan" id="kobo.399.1">"New price"</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.400.1">type</span></span><span class="koboSpan" id="kobo.401.1">=</span><span class="hljs-string"><span class="koboSpan" id="kobo.402.1">"number"</span></span><span class="koboSpan" id="kobo.403.1"> name=</span><span class="hljs-string"><span class="koboSpan" id="kobo.404.1">"price"</span></span><span class="koboSpan" id="kobo.405.1"> [(ngModel)]=</span><span class="hljs-string"><span class="koboSpan" id="kobo.406.1">"</span></span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.407.1">price</span></strong></span><span class="hljs-string"><span class="koboSpan" id="kobo.408.1">"</span></span><span class="koboSpan" id="kobo.409.1"> /&gt;
</span></code></pre>
    </li>
   </ol>
   <p class="normal">
    <span class="koboSpan" id="kobo.410.1">
     If we run the application and try to enter a new price inside the
    </span>
    <strong class="screenText">
     <span class="koboSpan" id="kobo.411.1">
      New price
     </span>
    </strong>
    <span class="koboSpan" id="kobo.412.1">
     input box, we will notice that the current price displayed does not change.
    </span>
    <span class="koboSpan" id="kobo.412.2">
     The functionality of changing the price also works correctly as before.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.413.1">
     We have seen how
    </span>
    <a id="_idIndexMarker614">
    </a>
    <span class="koboSpan" id="kobo.414.1">
     template-driven forms can be useful when creating small and simple forms.
    </span>
    <span class="koboSpan" id="kobo.414.2">
     In the next section, we dive deeper into the alternative approach offered by the Angular framework: reactive forms.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-190">
    <span class="koboSpan" id="kobo.415.1">
     Building reactive forms
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.416.1">
     Reactive forms, as the
    </span>
    <a id="_idIndexMarker615">
    </a>
    <span class="koboSpan" id="kobo.417.1">
     name implies, reactively provide access to web forms.
    </span>
    <span class="koboSpan" id="kobo.417.2">
     They are built with reactivity in mind, where input controls and their values can be manipulated using observable streams.
    </span>
    <span class="koboSpan" id="kobo.417.3">
     They also maintain an immutable state of form data, making them easier to test because we can be sure that the form state can be modified explicitly and consistently.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.418.1">
     Reactive forms have a programmatic approach to creating form elements and setting up validation rules by setting everything up in the component class.
    </span>
    <span class="koboSpan" id="kobo.418.2">
     The Angular key classes involved in this approach are the following:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.419.1">
       FormControl
      </span>
     </code>
     <span class="koboSpan" id="kobo.420.1">
      : Represents an individual form control, such as an
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.421.1">
       &lt;input&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.422.1">
      element.
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.423.1">
       FormGroup
      </span>
     </code>
     <span class="koboSpan" id="kobo.424.1">
      : Represents a collection of form controls.
     </span>
     <span class="koboSpan" id="kobo.424.2">
      The
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.425.1">
       &lt;form&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.426.1">
      element is the topmost
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.427.1">
       FormGroup
      </span>
     </code>
     <span class="koboSpan" id="kobo.428.1">
      in the hierarchy of a reactive form.
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.429.1">
       FormArray
      </span>
     </code>
     <span class="koboSpan" id="kobo.430.1">
      : Represents a collection of form controls, just like
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.431.1">
       FormGroup
      </span>
     </code>
     <span class="koboSpan" id="kobo.432.1">
      , but can be modified at runtime.
     </span>
     <span class="koboSpan" id="kobo.432.2">
      For example, we can add or remove
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.433.1">
       FormControl
      </span>
     </code>
     <span class="koboSpan" id="kobo.434.1">
      objects dynamically as needed.
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.435.1">
     The preceding classes are available from the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.436.1">
      @angular/forms
     </span>
    </code>
    <span class="koboSpan" id="kobo.437.1">
     npm package and contain properties that can be used in the following scenarios:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.438.1">
      To render the UI differently according to the status of a form or control
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.439.1">
      To check if we have interacted with a form or control
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.440.1">
     We will explore each
    </span>
    <a id="_idIndexMarker616">
    </a>
    <span class="koboSpan" id="kobo.441.1">
     form class through an example in our Angular application.
    </span>
    <span class="koboSpan" id="kobo.441.2">
     In the following section, we will introduce reactive forms in our application using the product create component.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-191">
    <span class="koboSpan" id="kobo.442.1">
     Interacting with reactive forms
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.443.1">
     The Angular application
    </span>
    <a id="_idIndexMarker617">
    </a>
    <span class="koboSpan" id="kobo.444.1">
     we have built contains a component to add new products.
    </span>
    <span class="koboSpan" id="kobo.444.2">
     The component uses template reference variables to collect input data.
    </span>
    <span class="koboSpan" id="kobo.444.3">
     We will use the Angular forms API to accomplish the same task using reactive forms:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.445.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.446.1">
       product-create.component.ts
      </span>
     </code>
     <span class="koboSpan" id="kobo.447.1">
      file and add the following
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.448.1">
       import
      </span>
     </code>
     <span class="koboSpan" id="kobo.449.1">
      statement:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.450.1">import</span></span><span class="koboSpan" id="kobo.451.1"> { </span><span class="hljs-title"><span class="koboSpan" id="kobo.452.1">FormControl</span></span><span class="koboSpan" id="kobo.453.1">, </span><span class="hljs-title"><span class="koboSpan" id="kobo.454.1">FormGroup</span></span><span class="koboSpan" id="kobo.455.1">, </span><span class="hljs-title"><span class="koboSpan" id="kobo.456.1">ReactiveFormsModule</span></span><span class="koboSpan" id="kobo.457.1"> } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.458.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.459.1">'@angular/forms'</span></span><span class="koboSpan" id="kobo.460.1">;
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.461.1">
      Add the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.462.1">
       ReactiveFormsModule
      </span>
     </code>
     <span class="koboSpan" id="kobo.463.1">
      class in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.464.1">
       imports
      </span>
     </code>
     <span class="koboSpan" id="kobo.465.1">
      array of the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.466.1">
       @Component
      </span>
     </code>
     <span class="koboSpan" id="kobo.467.1">
      decorator:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-meta"><span class="koboSpan" id="kobo.468.1">@Component</span></span><span class="koboSpan" id="kobo.469.1">({
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.470.1">selector</span></span><span class="koboSpan" id="kobo.471.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.472.1">'app-product-create'</span></span><span class="koboSpan" id="kobo.473.1">,
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.474.1">imports</span></span><span class="koboSpan" id="kobo.475.1">: [</span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.476.1">ReactiveFormsModule</span></strong></span><span class="koboSpan" id="kobo.477.1">],
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.478.1">templateUrl</span></span><span class="koboSpan" id="kobo.479.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.480.1">'./product-create.component.html'</span></span><span class="koboSpan" id="kobo.481.1">,
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.482.1">styleUrl</span></span><span class="koboSpan" id="kobo.483.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.484.1">'./product-create.component.css'</span></span><span class="koboSpan" id="kobo.485.1">
})
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.486.1">
     The Angular forms library provides the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.487.1">
      ReactiveFormsModule
     </span>
    </code>
    <span class="koboSpan" id="kobo.488.1">
     class to create reactive forms in an Angular application.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="3">
     <span class="koboSpan" id="kobo.489.1">
      Define the following
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.490.1">
       productForm
      </span>
     </code>
     <span class="koboSpan" id="kobo.491.1">
      property in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.492.1">
       ProductCreateComponent
      </span>
     </code>
     <span class="koboSpan" id="kobo.493.1">
      class:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="koboSpan" id="kobo.494.1">productForm = </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.495.1">new</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.496.1">FormGroup</span></span><span class="koboSpan" id="kobo.497.1">({
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.498.1">title</span></span><span class="koboSpan" id="kobo.499.1">: </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.500.1">new</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.501.1">FormControl</span></span><span class="koboSpan" id="kobo.502.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.503.1">''</span></span><span class="koboSpan" id="kobo.504.1">, { </span><span class="hljs-attr"><span class="koboSpan" id="kobo.505.1">nonNullable</span></span><span class="koboSpan" id="kobo.506.1">: </span><span class="hljs-literal"><span class="koboSpan" id="kobo.507.1">true</span></span><span class="koboSpan" id="kobo.508.1"> }),
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.509.1">price</span></span><span class="koboSpan" id="kobo.510.1">: </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.511.1">new</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.512.1">FormControl</span></span><span class="koboSpan" id="kobo.513.1">&lt;</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.514.1">number</span></span><span class="koboSpan" id="kobo.515.1"> | </span><span class="hljs-literal"><span class="koboSpan" id="kobo.516.1">undefined</span></span><span class="koboSpan" id="kobo.517.1">&gt;(</span><span class="hljs-literal"><span class="koboSpan" id="kobo.518.1">undefined</span></span><span class="koboSpan" id="kobo.519.1">, { </span><span class="hljs-attr"><span class="koboSpan" id="kobo.520.1">nonNullable</span></span><span class="koboSpan" id="kobo.521.1">: </span><span class="hljs-literal"><span class="koboSpan" id="kobo.522.1">true</span></span><span class="koboSpan" id="kobo.523.1"> }),
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.524.1">category</span></span><span class="koboSpan" id="kobo.525.1">: </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.526.1">new</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.527.1">FormControl</span></span><span class="koboSpan" id="kobo.528.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.529.1">''</span></span><span class="koboSpan" id="kobo.530.1">, { </span><span class="hljs-attr"><span class="koboSpan" id="kobo.531.1">nonNullable</span></span><span class="koboSpan" id="kobo.532.1">: </span><span class="hljs-literal"><span class="koboSpan" id="kobo.533.1">true</span></span><span class="koboSpan" id="kobo.534.1"> })
});
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.535.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.536.1">
      FormGroup
     </span>
    </code>
    <span class="koboSpan" id="kobo.537.1">
     constructor accepts an object that contains key-value pairs of form controls.
    </span>
    <span class="koboSpan" id="kobo.537.2">
     The key is a unique control name, and the value is a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.538.1">
      FormControl
     </span>
    </code>
    <span class="koboSpan" id="kobo.539.1">
     instance.
    </span>
    <span class="koboSpan" id="kobo.539.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.540.1">
      FormControl
     </span>
    </code>
    <span class="koboSpan" id="kobo.541.1">
     constructor accepts the default value of the control in the first parameter.
    </span>
    <span class="koboSpan" id="kobo.541.2">
     For the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.542.1">
      title
     </span>
    </code>
    <span class="koboSpan" id="kobo.543.1">
     and the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.544.1">
      category
     </span>
    </code>
    <span class="koboSpan" id="kobo.545.1">
     controls, we pass an empty string so that we do not set any value initially.
    </span>
    <span class="koboSpan" id="kobo.545.2">
     For the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.546.1">
      price
     </span>
    </code>
    <span class="koboSpan" id="kobo.547.1">
     control, which should accept numbers as values, we set it initially to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.548.1">
      undefined
     </span>
    </code>
    <span class="koboSpan" id="kobo.549.1">
     .
    </span>
    <span class="koboSpan" id="kobo.549.2">
     The second parameter passed in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.550.1">
      FormControl
     </span>
    </code>
    <span class="koboSpan" id="kobo.551.1">
     is an object that sets the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.552.1">
      nonNullable
     </span>
    </code>
    <span class="koboSpan" id="kobo.553.1">
     property to indicate that the control does not accept null values.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="4">
     <span class="koboSpan" id="kobo.554.1">
      After we have created
     </span>
     <a id="_idIndexMarker618">
     </a>
     <span class="koboSpan" id="kobo.555.1">
      the form group and its controls, we need to associate them with the respective HTML elements in the template.
     </span>
     <span class="koboSpan" id="kobo.555.2">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.556.1">
       product-create.component.html
      </span>
     </code>
     <span class="koboSpan" id="kobo.557.1">
      file and surround the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.558.1">
       &lt;input&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.559.1">
      ,
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.560.1">
       &lt;select&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.561.1">
      , and
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.562.1">
       &lt;button&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.563.1">
      HTML elements with the following
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.564.1">
       &lt;form&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.565.1">
      element:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.566.1">&lt;form [formGroup]="productForm"&gt;</span></strong></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.567.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.568.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.569.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.570.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.571.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.572.1">for</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.573.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.574.1">"title"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.575.1">&gt;</span></span><span class="koboSpan" id="kobo.576.1">Title</span><span class="hljs-tag"><span class="koboSpan" id="kobo.577.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.578.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.579.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.580.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.581.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.582.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.583.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.584.1">"title"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.585.1"> #</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.586.1">title</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.587.1"> /&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.588.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.589.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.590.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.591.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.592.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.593.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.594.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.595.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.596.1">for</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.597.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.598.1">"price"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.599.1">&gt;</span></span><span class="koboSpan" id="kobo.600.1">Price</span><span class="hljs-tag"><span class="koboSpan" id="kobo.601.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.602.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.603.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.604.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.605.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.606.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.607.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.608.1">"price"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.609.1"> #</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.610.1">price</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.611.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.612.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.613.1">"number"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.614.1"> /&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.615.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.616.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.617.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.618.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.619.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.620.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.621.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.622.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.623.1">for</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.624.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.625.1">"category"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.626.1">&gt;</span></span><span class="koboSpan" id="kobo.627.1">Category</span><span class="hljs-tag"><span class="koboSpan" id="kobo.628.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.629.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.630.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.631.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.632.1">select</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.633.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.634.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.635.1">"category"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.636.1"> #</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.637.1">category</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.638.1">&gt;</span></span>
      <span class="hljs-tag"><span class="koboSpan" id="kobo.639.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.640.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.641.1">&gt;</span></span><span class="koboSpan" id="kobo.642.1">Select a category</span><span class="hljs-tag"><span class="koboSpan" id="kobo.643.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.644.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.645.1">&gt;</span></span>
      <span class="hljs-tag"><span class="koboSpan" id="kobo.646.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.647.1">option</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.648.1">value</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.649.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.650.1">"electronics"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.651.1">&gt;</span></span><span class="koboSpan" id="kobo.652.1">Electronics</span><span class="hljs-tag"><span class="koboSpan" id="kobo.653.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.654.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.655.1">&gt;</span></span>
      <span class="hljs-tag"><span class="koboSpan" id="kobo.656.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.657.1">option</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.658.1">value</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.659.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.660.1">"jewelery"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.661.1">&gt;</span></span><span class="koboSpan" id="kobo.662.1">Jewelery</span><span class="hljs-tag"><span class="koboSpan" id="kobo.663.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.664.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.665.1">&gt;</span></span>
      <span class="hljs-tag"><span class="koboSpan" id="kobo.666.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.667.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.668.1">&gt;</span></span><span class="koboSpan" id="kobo.669.1">Other</span><span class="hljs-tag"><span class="koboSpan" id="kobo.670.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.671.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.672.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.673.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.674.1">select</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.675.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.676.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.677.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.678.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.679.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.680.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.681.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.682.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.683.1">button</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.684.1"> (</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.685.1">click</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.686.1">)=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.687.1">"</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.688.1">createProduct(title.value, price.value, category.value)"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.689.1">&gt;</span></span><span class="koboSpan" id="kobo.690.1">Create</span><span class="hljs-tag"><span class="koboSpan" id="kobo.691.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.692.1">button</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.693.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.694.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.695.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.696.1">&gt;</span></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.697.1">&lt;/form&gt;</span></strong></span>
</code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.698.1">
     In the preceding template, we use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.699.1">
      formGroup
     </span>
    </code>
    <span class="koboSpan" id="kobo.700.1">
     directive, exported from the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.701.1">
      ReactiveFormsModule
     </span>
    </code>
    <span class="koboSpan" id="kobo.702.1">
     class, to connect a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.703.1">
      FormGroup
     </span>
    </code>
    <span class="koboSpan" id="kobo.704.1">
     instance to a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.705.1">
      &lt;form&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.706.1">
     element.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="5">
     <span class="koboSpan" id="kobo.707.1">
      The
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.708.1">
       ReactiveFormsModule
      </span>
     </code>
     <span class="koboSpan" id="kobo.709.1">
      class also exports the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.710.1">
       formControlName
      </span>
     </code>
     <span class="koboSpan" id="kobo.711.1">
      directive, which we use to connect a
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.712.1">
       FormControl
      </span>
     </code>
     <span class="koboSpan" id="kobo.713.1">
      instance to an HTML element.
     </span>
     <span class="koboSpan" id="kobo.713.2">
      Modify the form HTML elements as follows:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-tag"><span class="koboSpan" id="kobo.714.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.715.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.716.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.717.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.718.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.719.1">for</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.720.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.721.1">"title"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.722.1">&gt;</span></span><span class="koboSpan" id="kobo.723.1">Title</span><span class="hljs-tag"><span class="koboSpan" id="kobo.724.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.725.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.726.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.727.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.728.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.729.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.730.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.731.1">"title"</span></span><span class="hljs-tag"> </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.732.1">formControlName="title"</span></strong></span><span class="hljs-tag"><span class="koboSpan" id="kobo.733.1"> /&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.734.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.735.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.736.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.737.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.738.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.739.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.740.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.741.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.742.1">for</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.743.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.744.1">"price"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.745.1">&gt;</span></span><span class="koboSpan" id="kobo.746.1">Price</span><span class="hljs-tag"><span class="koboSpan" id="kobo.747.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.748.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.749.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.750.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.751.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.752.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.753.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.754.1">"price"</span></span><span class="hljs-tag"> </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.755.1">formControlName="price"</span></strong></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.756.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.757.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.758.1">"</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.759.1">number"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.760.1"> /&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.761.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.762.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.763.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.764.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.765.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.766.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.767.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.768.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.769.1">for</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.770.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.771.1">"category"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.772.1">&gt;</span></span><span class="koboSpan" id="kobo.773.1">Category</span><span class="hljs-tag"><span class="koboSpan" id="kobo.774.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.775.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.776.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.777.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.778.1">select</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.779.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.780.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.781.1">"category"</span></span><span class="hljs-tag"> </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.782.1">formControlName="category"</span></strong></span><span class="hljs-tag"><span class="koboSpan" id="kobo.783.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.784.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.785.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.786.1">&gt;</span></span><span class="koboSpan" id="kobo.787.1">Select a category</span><span class="hljs-tag"><span class="koboSpan" id="kobo.788.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.789.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.790.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.791.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.792.1">option</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.793.1">value</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.794.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.795.1">"electronics"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.796.1">&gt;</span></span><span class="koboSpan" id="kobo.797.1">Electronics</span><span class="hljs-tag"><span class="koboSpan" id="kobo.798.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.799.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.800.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.801.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.802.1">option</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.803.1">value</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.804.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.805.1">"jewelery"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.806.1">&gt;</span></span><span class="koboSpan" id="kobo.807.1">Jewelery</span><span class="hljs-tag"><span class="koboSpan" id="kobo.808.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.809.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.810.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.811.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.812.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.813.1">&gt;</span></span><span class="koboSpan" id="kobo.814.1">Other</span><span class="hljs-tag"><span class="koboSpan" id="kobo.815.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.816.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.817.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.818.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.819.1">select</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.820.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.821.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.822.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.823.1">&gt;</span></span>
</code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.824.1">
     In the preceding
    </span>
    <a id="_idIndexMarker619">
    </a>
    <span class="koboSpan" id="kobo.825.1">
     snippet, we set the value of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.826.1">
      formControlName
     </span>
    </code>
    <span class="koboSpan" id="kobo.827.1">
     directive to the name of the respective
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.828.1">
      FormControl
     </span>
    </code>
    <span class="koboSpan" id="kobo.829.1">
     instance.
    </span>
    <span class="koboSpan" id="kobo.829.2">
     We also remove the template reference variables because we can get their values directly from the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.830.1">
      FormGroup
     </span>
    </code>
    <span class="koboSpan" id="kobo.831.1">
     instance.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="6">
     <span class="koboSpan" id="kobo.832.1">
      Modify the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.833.1">
       createProduct
      </span>
     </code>
     <span class="koboSpan" id="kobo.834.1">
      method in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.835.1">
       product-create.component.ts
      </span>
     </code>
     <span class="koboSpan" id="kobo.836.1">
      file accordingly:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-title"><span class="koboSpan" id="kobo.837.1">createProduct</span></span><span class="koboSpan" id="kobo.838.1">() {
  </span><span class="hljs-variable"><span class="koboSpan" id="kobo.839.1">this</span></span><span class="koboSpan" id="kobo.840.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.841.1">productsService</span></span><span class="koboSpan" id="kobo.842.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.843.1">addProduct</span></span><span class="koboSpan" id="kobo.844.1">(</span><span class="hljs-variable"><span class="koboSpan" id="kobo.845.1">this</span></span><span class="koboSpan" id="kobo.846.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.847.1">productForm</span></span><span class="koboSpan" id="kobo.848.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.849.1">value</span></span><span class="koboSpan" id="kobo.850.1">).</span><span class="hljs-title"><span class="koboSpan" id="kobo.851.1">subscribe</span></span><span class="koboSpan" id="kobo.852.1">(</span><span class="hljs-function"><span class="koboSpan" id="kobo.853.1">() =&gt;</span></span><span class="koboSpan" id="kobo.854.1"> {
    </span><span class="hljs-variable"><span class="koboSpan" id="kobo.855.1">this</span></span><span class="koboSpan" id="kobo.856.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.857.1">router</span></span><span class="koboSpan" id="kobo.858.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.859.1">navigate</span></span><span class="koboSpan" id="kobo.860.1">([</span><span class="hljs-string"><span class="koboSpan" id="kobo.861.1">'/products'</span></span><span class="koboSpan" id="kobo.862.1">]);
  });
}
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.863.1">
     In the preceding method, we use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.864.1">
      value
     </span>
    </code>
    <span class="koboSpan" id="kobo.865.1">
     property of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.866.1">
      FormGroup
     </span>
    </code>
    <span class="koboSpan" id="kobo.867.1">
     class to get the form value.
    </span>
   </p>
   <div class="note-one">
    <p class="normal">
     <span class="koboSpan" id="kobo.868.1">
      Note that the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.869.1">
       value
      </span>
     </code>
     <span class="koboSpan" id="kobo.870.1">
      property does not include values from disabled fields of a form.
     </span>
     <span class="koboSpan" id="kobo.870.2">
      Instead, we can use the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.871.1">
       getRawValue
      </span>
     </code>
     <span class="koboSpan" id="kobo.872.1">
      method to return values from all fields.
     </span>
    </p>
   </div>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.873.1">
     In this case, we can use the form value because the form model is identical to the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.874.1">
      Product
     </span>
    </code>
    <span class="koboSpan" id="kobo.875.1">
     interface.
    </span>
   </p>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.876.1">
     If it was different, we could use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.877.1">
      controls
     </span>
    </code>
    <span class="koboSpan" id="kobo.878.1">
     property of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.879.1">
      FormGroup
     </span>
    </code>
    <span class="koboSpan" id="kobo.880.1">
     class to get form
    </span>
    <a id="_idIndexMarker620">
    </a>
    <span class="koboSpan" id="kobo.881.1">
     control values individually as follows:
    </span>
   </p>
   <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-title"><span class="koboSpan" id="kobo.882.1">createProduct</span></span><span class="koboSpan" id="kobo.883.1">() {
  </span><span class="hljs-variable"><span class="koboSpan" id="kobo.884.1">this</span></span><span class="koboSpan" id="kobo.885.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.886.1">productsService</span></span><span class="koboSpan" id="kobo.887.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.888.1">addProduct</span></span><span class="koboSpan" id="kobo.889.1">({
    </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.890.1">title: this.productForm.controls.title.value,</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.891.1">    price: this.productForm.controls.price.value,</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.892.1">    category: this.productForm.controls.category.value</span></strong></span><span class="koboSpan" id="kobo.893.1">
  }).</span><span class="hljs-title"><span class="koboSpan" id="kobo.894.1">subscribe</span></span><span class="koboSpan" id="kobo.895.1">(</span><span class="hljs-function"><span class="koboSpan" id="kobo.896.1">() =&gt;</span></span><span class="koboSpan" id="kobo.897.1"> {
    </span><span class="hljs-variable"><span class="koboSpan" id="kobo.898.1">this</span></span><span class="koboSpan" id="kobo.899.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.900.1">router</span></span><span class="koboSpan" id="kobo.901.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.902.1">navigate</span></span><span class="koboSpan" id="kobo.903.1">([</span><span class="hljs-string"><span class="koboSpan" id="kobo.904.1">'/products'</span></span><span class="koboSpan" id="kobo.905.1">]);
  });
}
</span></code></pre>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.906.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.907.1">
      FormControl
     </span>
    </code>
    <span class="koboSpan" id="kobo.908.1">
     class contains a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.909.1">
      value
     </span>
    </code>
    <span class="koboSpan" id="kobo.910.1">
     property that returns the value of a form control.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="7">
     <span class="koboSpan" id="kobo.911.1">
      Modify the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.912.1">
       &lt;form&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.913.1">
      element in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.914.1">
       product-create.component.html
      </span>
     </code>
     <span class="koboSpan" id="kobo.915.1">
      file so that we create a new product upon form submission:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-tag"><span class="koboSpan" id="kobo.916.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.917.1">form</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.918.1"> [</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.919.1">formGroup</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.920.1">]=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.921.1">"productForm"</span></span><span class="hljs-tag"> </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.922.1">(ngSubmit)="createProduct()"</span></strong></span><span class="hljs-tag"><span class="koboSpan" id="kobo.923.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.924.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.925.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.926.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.927.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.928.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.929.1">for</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.930.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.931.1">"</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.932.1">title"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.933.1">&gt;</span></span><span class="koboSpan" id="kobo.934.1">Title</span><span class="hljs-tag"><span class="koboSpan" id="kobo.935.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.936.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.937.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.938.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.939.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.940.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.941.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.942.1">"title"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.943.1">formControlName</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.944.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.945.1">"title"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.946.1"> /&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.947.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.948.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.949.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.950.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.951.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.952.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.953.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.954.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.955.1">for</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.956.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.957.1">"price"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.958.1">&gt;</span></span><span class="koboSpan" id="kobo.959.1">Price</span><span class="hljs-tag"><span class="koboSpan" id="kobo.960.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.961.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.962.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.963.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.964.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.965.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.966.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.967.1">"price"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.968.1">formControlName</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.969.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.970.1">"price"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.971.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.972.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.973.1">"number"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.974.1"> /&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.975.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.976.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.977.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.978.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.979.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.980.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.981.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.982.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.983.1">for</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.984.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.985.1">"category"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.986.1">&gt;</span></span><span class="koboSpan" id="kobo.987.1">Category</span><span class="hljs-tag"><span class="koboSpan" id="kobo.988.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.989.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.990.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.991.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.992.1">select</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.993.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.994.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.995.1">"</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.996.1">category"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.997.1">formControlName</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.998.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.999.1">"category"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1000.1">&gt;</span></span>
      <span class="hljs-tag"><span class="koboSpan" id="kobo.1001.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1002.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1003.1">&gt;</span></span><span class="koboSpan" id="kobo.1004.1">Select a category</span><span class="hljs-tag"><span class="koboSpan" id="kobo.1005.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1006.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1007.1">&gt;</span></span>
      <span class="hljs-tag"><span class="koboSpan" id="kobo.1008.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1009.1">option</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1010.1">value</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1011.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1012.1">"</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1013.1">electronics"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1014.1">&gt;</span></span><span class="koboSpan" id="kobo.1015.1">Electronics</span><span class="hljs-tag"><span class="koboSpan" id="kobo.1016.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1017.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1018.1">&gt;</span></span>
      <span class="hljs-tag"><span class="koboSpan" id="kobo.1019.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1020.1">option</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1021.1">value</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1022.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1023.1">"jewelery"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1024.1">&gt;</span></span><span class="koboSpan" id="kobo.1025.1">Jewelery</span><span class="hljs-tag"><span class="koboSpan" id="kobo.1026.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1027.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1028.1">&gt;</span></span>
      <span class="hljs-tag"><span class="koboSpan" id="kobo.1029.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1030.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1031.1">&gt;</span></span><span class="koboSpan" id="kobo.1032.1">Other</span><span class="hljs-tag"><span class="koboSpan" id="kobo.1033.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1034.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1035.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.1036.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1037.1">select</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1038.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.1039.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1040.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1041.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.1042.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1043.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1044.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.1045.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1046.1">button</span></span><span class="hljs-tag"> </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1047.1">type="submit"</span></strong></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1048.1">&gt;</span></span><span class="koboSpan" id="kobo.1049.1">Create</span><span class="hljs-tag"><span class="koboSpan" id="kobo.1050.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1051.1">button</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1052.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.1053.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1054.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1055.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.1056.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1057.1">form</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1058.1">&gt;</span></span>
</code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.1059.1">
      Open the global
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1060.1">
       styles.css
      </span>
     </code>
     <span class="koboSpan" id="kobo.1061.1">
      file and add the following CSS style:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-selector-tag"><span class="koboSpan" id="kobo.1062.1">label</span></span><span class="koboSpan" id="kobo.1063.1"> {
  </span><span class="hljs-attribute"><span class="koboSpan" id="kobo.1064.1">margin-bottom</span></span><span class="koboSpan" id="kobo.1065.1">: </span><span class="hljs-number"><span class="koboSpan" id="kobo.1066.1">4px</span></span><span class="koboSpan" id="kobo.1067.1">;
  </span><span class="hljs-attribute"><span class="koboSpan" id="kobo.1068.1">display</span></span><span class="koboSpan" id="kobo.1069.1">: block;
}
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.1070.1">
     We want the preceding styles to be available globally because we will use them in the cart component later in the chapter.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="9">
     <span class="koboSpan" id="kobo.1071.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1072.1">
       product-create.component.css
      </span>
     </code>
     <span class="koboSpan" id="kobo.1073.1">
      file and remove the style for the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1074.1">
       &lt;label&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.1075.1">
      tag.
     </span>
    </li>
   </ol>
   <p class="normal">
    <span class="koboSpan" id="kobo.1076.1">
     If we run the
    </span>
    <a id="_idIndexMarker621">
    </a>
    <span class="koboSpan" id="kobo.1077.1">
     application, we will see that the functionality of adding a new product still works as expected.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1078.1">
     We learned that the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1079.1">
      FormGroup
     </span>
    </code>
    <span class="koboSpan" id="kobo.1080.1">
     class groups a collection of form controls.
    </span>
    <span class="koboSpan" id="kobo.1080.2">
     A form control can be a single form control or another form group, as we will see in the following section.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-192">
    <span class="koboSpan" id="kobo.1081.1">
     Creating nesting form hierarchies
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.1082.1">
     The product create
    </span>
    <a id="_idIndexMarker622">
    </a>
    <span class="koboSpan" id="kobo.1083.1">
     component consists of a single form group with three form controls.
    </span>
    <span class="koboSpan" id="kobo.1083.2">
     Some use cases in enterprise applications require more advanced forms that involve creating nested hierarchies of form groups.
    </span>
    <span class="koboSpan" id="kobo.1083.3">
     Consider the following form, which is used to add a new product along with additional details:
    </span>
   </p>
   <figure class="mediaobject">
    <span class="koboSpan" id="kobo.1084.1">
     <img alt="Εικόνα που περιέχει κείμενο, στιγμιότυπο οθόνης, γραμματοσειρά, αριθμός  Περιγραφή που δημιουργήθηκε αυτόματα" src="../Images/B21418_10_03.png"/>
    </span>
   </figure>
   <p class="packt_figref">
    <span class="koboSpan" id="kobo.1085.1">
     Figure 10.3: New product form with additional information
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1086.1">
     The preceding form may look like a single form group, but if we take a deeper look at the component class, we will see that the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1087.1">
      productForm
     </span>
    </code>
    <span class="koboSpan" id="kobo.1088.1">
     consists of two
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1089.1">
      FormGroup
     </span>
    </code>
    <span class="koboSpan" id="kobo.1090.1">
     instances, one nested inside the other:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="koboSpan" id="kobo.1091.1">productForm = </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1092.1">new</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1093.1">FormGroup</span></span><span class="koboSpan" id="kobo.1094.1">({
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1095.1">title</span></span><span class="koboSpan" id="kobo.1096.1">: </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1097.1">new</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1098.1">FormControl</span></span><span class="koboSpan" id="kobo.1099.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.1100.1">''</span></span><span class="koboSpan" id="kobo.1101.1">, { </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1102.1">nonNullable</span></span><span class="koboSpan" id="kobo.1103.1">: </span><span class="hljs-literal"><span class="koboSpan" id="kobo.1104.1">true</span></span><span class="koboSpan" id="kobo.1105.1"> }),
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1106.1">price</span></span><span class="koboSpan" id="kobo.1107.1">: </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1108.1">new</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1109.1">FormControl</span></span><span class="koboSpan" id="kobo.1110.1">&lt;</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1111.1">number</span></span><span class="koboSpan" id="kobo.1112.1"> | </span><span class="hljs-literal"><span class="koboSpan" id="kobo.1113.1">undefined</span></span><span class="koboSpan" id="kobo.1114.1">&gt;(</span><span class="hljs-literal"><span class="koboSpan" id="kobo.1115.1">undefined</span></span><span class="koboSpan" id="kobo.1116.1">, { </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1117.1">nonNullable</span></span><span class="koboSpan" id="kobo.1118.1">: </span><span class="hljs-literal"><span class="koboSpan" id="kobo.1119.1">true</span></span><span class="koboSpan" id="kobo.1120.1"> }),
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1121.1">category</span></span><span class="koboSpan" id="kobo.1122.1">: </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1123.1">new</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1124.1">FormControl</span></span><span class="koboSpan" id="kobo.1125.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.1126.1">''</span></span><span class="koboSpan" id="kobo.1127.1">, { </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1128.1">nonNullable</span></span><span class="koboSpan" id="kobo.1129.1">: </span><span class="hljs-literal"><span class="koboSpan" id="kobo.1130.1">true</span></span><span class="koboSpan" id="kobo.1131.1"> }),
  </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1132.1">extra: new FormGroup({</span></strong></span>
    <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1133.1">image: new FormControl(''),</span></strong></span>
    <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1134.1">description: new FormControl('')</span></strong></span>
  <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1135.1">})</span></strong></span><span class="koboSpan" id="kobo.1136.1">
});
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1137.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1138.1">
      productForm
     </span>
    </code>
    <span class="koboSpan" id="kobo.1139.1">
     property is the parent form group, while
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1140.1">
      extra
     </span>
    </code>
    <span class="koboSpan" id="kobo.1141.1">
     is its child.
    </span>
    <span class="koboSpan" id="kobo.1141.2">
     A parent form group can have
    </span>
    <a id="_idIndexMarker623">
    </a>
    <span class="koboSpan" id="kobo.1142.1">
     as many children form groups as it needs.
    </span>
    <span class="koboSpan" id="kobo.1142.2">
     If we take a look at the component template, we will see that the child form group is defined differently from the parent one:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag"><span class="koboSpan" id="kobo.1143.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1144.1">form</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1145.1"> [</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.1146.1">formGroup</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1147.1">]=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1148.1">"productForm"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1149.1"> (</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.1150.1">ngSubmit</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1151.1">)=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1152.1">"createProduct()"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1153.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.1154.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1155.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1156.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.1157.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1158.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1159.1">for</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1160.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1161.1">"title"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1162.1">&gt;</span></span><span class="koboSpan" id="kobo.1163.1">Title</span><span class="hljs-tag"><span class="koboSpan" id="kobo.1164.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1165.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1166.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.1167.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1168.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1169.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1170.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1171.1">"title"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1172.1">formControlName</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1173.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1174.1">"title"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1175.1"> /&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.1176.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1177.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1178.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.1179.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1180.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1181.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.1182.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1183.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1184.1">for</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1185.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1186.1">"price"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1187.1">&gt;</span></span><span class="koboSpan" id="kobo.1188.1">Price</span><span class="hljs-tag"><span class="koboSpan" id="kobo.1189.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1190.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1191.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.1192.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1193.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1194.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1195.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1196.1">"price"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1197.1">formControlName</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1198.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1199.1">"price"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1200.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1201.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1202.1">"number"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1203.1"> /&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.1204.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1205.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1206.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.1207.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1208.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1209.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.1210.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1211.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1212.1">for</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1213.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1214.1">"category"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1215.1">&gt;</span></span><span class="koboSpan" id="kobo.1216.1">Category</span><span class="hljs-tag"><span class="koboSpan" id="kobo.1217.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1218.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1219.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.1220.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1221.1">select</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1222.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1223.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1224.1">"category"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1225.1">formControlName</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1226.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1227.1">"category"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1228.1">&gt;</span></span>
      <span class="hljs-tag"><span class="koboSpan" id="kobo.1229.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1230.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1231.1">&gt;</span></span><span class="koboSpan" id="kobo.1232.1">Select a category</span><span class="hljs-tag"><span class="koboSpan" id="kobo.1233.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1234.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1235.1">&gt;</span></span>
      <span class="hljs-tag"><span class="koboSpan" id="kobo.1236.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1237.1">option</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1238.1">value</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1239.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1240.1">"electronics"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1241.1">&gt;</span></span><span class="koboSpan" id="kobo.1242.1">Electronics</span><span class="hljs-tag"><span class="koboSpan" id="kobo.1243.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1244.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1245.1">&gt;</span></span>
      <span class="hljs-tag"><span class="koboSpan" id="kobo.1246.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1247.1">option</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1248.1">value</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1249.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1250.1">"jewelery"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1251.1">&gt;</span></span><span class="koboSpan" id="kobo.1252.1">Jewelery</span><span class="hljs-tag"><span class="koboSpan" id="kobo.1253.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1254.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1255.1">&gt;</span></span>
      <span class="hljs-tag"><span class="koboSpan" id="kobo.1256.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1257.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1258.1">&gt;</span></span><span class="koboSpan" id="kobo.1259.1">Other</span><span class="hljs-tag"><span class="koboSpan" id="kobo.1260.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1261.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1262.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.1263.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1264.1">select</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1265.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.1266.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1267.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1268.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.1269.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1270.1">h2</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1271.1">&gt;</span></span><span class="koboSpan" id="kobo.1272.1">Additional details</span><span class="hljs-tag"><span class="koboSpan" id="kobo.1273.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1274.1">h2</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1275.1">&gt;</span></span>
  <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1276.1">&lt;form formGroupName="extra"&gt;</span></strong></span>
    <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1277.1">&lt;div&gt;</span></strong></span>
      <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1278.1">&lt;label for="descr"&gt;Description&lt;/label&gt;</span></strong></span>
      <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1279.1">&lt;input id="descr" formControlName="description" /&gt;</span></strong></span>
    <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1280.1">&lt;/div&gt;</span></strong></span>
    <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1281.1">&lt;div&gt;</span></strong></span>
      <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1282.1">&lt;label for="photo"&gt;Photo URL&lt;/label&gt;</span></strong></span>
      <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1283.1">&lt;input id="photo" formControlName="image" /&gt;</span></strong></span>
    <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1284.1">&lt;/div&gt;</span></strong></span>
  <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1285.1">&lt;/form&gt;</span></strong></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.1286.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1287.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1288.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.1289.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1290.1">button</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1291.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1292.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1293.1">"submit"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1294.1">&gt;</span></span><span class="koboSpan" id="kobo.1295.1">Create</span><span class="hljs-tag"><span class="koboSpan" id="kobo.1296.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1297.1">button</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1298.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.1299.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1300.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1301.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.1302.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1303.1">form</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1304.1">&gt;</span></span>
</code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1305.1">
     In the preceding HTML template, we use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1306.1">
      formGroupName
     </span>
    </code>
    <span class="koboSpan" id="kobo.1307.1">
     directive to bind the inner form element to the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1308.1">
      extra
     </span>
    </code>
    <span class="koboSpan" id="kobo.1309.1">
     property.
    </span>
   </p>
   <div class="packt_tip">
    <p class="normal">
     <span class="koboSpan" id="kobo.1310.1">
      You may have expected to bind it directly to the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1311.1">
       productForm.extra
      </span>
     </code>
     <span class="koboSpan" id="kobo.1312.1">
      property, but Angular is pretty smart because it understands that
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1313.1">
       extra
      </span>
     </code>
     <span class="koboSpan" id="kobo.1314.1">
      is a child form group of
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1315.1">
       productForm
      </span>
     </code>
     <span class="koboSpan" id="kobo.1316.1">
      .
     </span>
     <span class="koboSpan" id="kobo.1316.2">
      It can deduce this information because the form element related to
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1317.1">
       extra
      </span>
     </code>
     <span class="koboSpan" id="kobo.1318.1">
      is inside the form element that binds to the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1319.1">
       productForm
      </span>
     </code>
     <span class="koboSpan" id="kobo.1320.1">
      property.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.1321.1">
     The value of a child form group is shared with its parent in a nested form hierarchy.
    </span>
    <span class="koboSpan" id="kobo.1321.2">
     In our case, the value of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1322.1">
      extra
     </span>
    </code>
    <span class="koboSpan" id="kobo.1323.1">
     form group will be included in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1324.1">
      productForm
     </span>
    </code>
    <span class="koboSpan" id="kobo.1325.1">
     group, thereby maintaining a consistent form model.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1326.1">
     We have already
    </span>
    <a id="_idIndexMarker624">
    </a>
    <span class="koboSpan" id="kobo.1327.1">
     covered the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1328.1">
      FormGroup
     </span>
    </code>
    <span class="koboSpan" id="kobo.1329.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1330.1">
      FormControl
     </span>
    </code>
    <span class="koboSpan" id="kobo.1331.1">
     classes.
    </span>
    <span class="koboSpan" id="kobo.1331.2">
     In the following section, we will learn how to use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1332.1">
      FormArray
     </span>
    </code>
    <span class="koboSpan" id="kobo.1333.1">
     class to interact with dynamic forms.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-193">
    <span class="koboSpan" id="kobo.1334.1">
     Modifying forms dynamically
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.1335.1">
     Consider the
    </span>
    <a id="_idIndexMarker625">
    </a>
    <span class="koboSpan" id="kobo.1336.1">
     scenario where we have added some products to the shopping cart of our e-shop application and want to update their quantities before checking out the order.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1337.1">
     Currently, our application does not have any functionality for a shopping cart, so we will now add one:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.1338.1">
      Run the following command to create a
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1339.1">
       Cart
      </span>
     </code>
     <span class="koboSpan" id="kobo.1340.1">
      interface:
     </span>
     <pre class="programlisting con-one"><code class="hljs-con"><span class="koboSpan" id="kobo.1341.1">ng generate interface Cart
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.1342.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1343.1">
       cart.ts
      </span>
     </code>
     <span class="koboSpan" id="kobo.1344.1">
      file and modify the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1345.1">
       Cart
      </span>
     </code>
     <span class="koboSpan" id="kobo.1346.1">
      interface as follows:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1347.1">export</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.1348.1">interface</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1349.1">Cart</span></span><span class="koboSpan" id="kobo.1350.1"> {
</span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1351.1">  id: number;</span></strong></span>
  <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1352.1">products: { productId :number }[];</span></strong></span><span class="koboSpan" id="kobo.1353.1">
}
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.1354.1">
     In the preceding snippet, the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1355.1">
      products
     </span>
    </code>
    <span class="koboSpan" id="kobo.1356.1">
     property will contain the product IDs that belong to the current cart.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="3">
     <span class="koboSpan" id="kobo.1357.1">
      Create a new service to manage the shopping cart by running the following Angular CLI command:
     </span>
     <pre class="programlisting con-one"><code class="hljs-con"><span class="koboSpan" id="kobo.1358.1">ng generate service cart
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.1359.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1360.1">
       cart.service.ts
      </span>
     </code>
     <span class="koboSpan" id="kobo.1361.1">
      file and modify the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1362.1">
       import
      </span>
     </code>
     <span class="koboSpan" id="kobo.1363.1">
      statements as follows:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1364.1">import</span></span><span class="koboSpan" id="kobo.1365.1"> { </span><span class="hljs-title"><span class="koboSpan" id="kobo.1366.1">Injectable</span></span><span class="koboSpan" id="kobo.1367.1">, </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1368.1">inject</span></strong></span><span class="koboSpan" id="kobo.1369.1"> } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1370.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.1371.1">'@angular/core'</span></span><span class="koboSpan" id="kobo.1372.1">;
</span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1373.1">import { HttpClient } from '@angular/common/http';</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1374.1">import { Observable, defer, map } from 'rxjs';</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1375.1">import { Cart } from './cart';</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1376.1">import { APP_SETTINGS } from './app.settings';</span></strong></span>
</code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.1377.1">
      Create the
     </span>
     <a id="_idIndexMarker626">
     </a>
     <span class="koboSpan" id="kobo.1378.1">
      following properties in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1379.1">
       CartService
      </span>
     </code>
     <span class="koboSpan" id="kobo.1380.1">
      class:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-attr"><span class="koboSpan" id="kobo.1381.1">cart</span></span><span class="koboSpan" id="kobo.1382.1">: </span><span class="hljs-title"><span class="koboSpan" id="kobo.1383.1">Cart</span></span><span class="koboSpan" id="kobo.1384.1"> | </span><span class="hljs-literal"><span class="koboSpan" id="kobo.1385.1">undefined</span></span><span class="koboSpan" id="kobo.1386.1">;
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1387.1">private</span></span><span class="koboSpan" id="kobo.1388.1"> cartUrl = </span><span class="hljs-title"><span class="koboSpan" id="kobo.1389.1">inject</span></span><span class="koboSpan" id="kobo.1390.1">(</span><span class="hljs-variable"><span class="koboSpan" id="kobo.1391.1">APP_SETTINGS</span></span><span class="koboSpan" id="kobo.1392.1">).</span><span class="hljs-property"><span class="koboSpan" id="kobo.1393.1">apiUrl</span></span><span class="koboSpan" id="kobo.1394.1"> + </span><span class="hljs-string"><span class="koboSpan" id="kobo.1395.1">'/carts'</span></span><span class="koboSpan" id="kobo.1396.1">;
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.1397.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1398.1">
      cartUrl
     </span>
    </code>
    <span class="koboSpan" id="kobo.1399.1">
     property is used for the cart endpoint of the Fake Store API and the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1400.1">
      cart
     </span>
    </code>
    <span class="koboSpan" id="kobo.1401.1">
     property to keep a local cache of the user cart.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="6">
     <span class="koboSpan" id="kobo.1402.1">
      Inject the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1403.1">
       HttpClient
      </span>
     </code>
     <span class="koboSpan" id="kobo.1404.1">
      service in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1405.1">
       constructor
      </span>
     </code>
     <span class="koboSpan" id="kobo.1406.1">
      :
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-title"><span class="koboSpan" id="kobo.1407.1">constructor</span></span><span class="koboSpan" id="kobo.1408.1">(</span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1409.1">private http: HttpClient</span></strong></span><span class="koboSpan" id="kobo.1410.1">) { }
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.1411.1">
      Add the following method to add a product to the cart:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-title"><span class="koboSpan" id="kobo.1412.1">addProduct</span></span><span class="koboSpan" id="kobo.1413.1">(</span><span class="hljs-attr"><span class="koboSpan" id="kobo.1414.1">id</span></span><span class="koboSpan" id="kobo.1415.1">: </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1416.1">number</span></span><span class="koboSpan" id="kobo.1417.1">): </span><span class="hljs-title"><span class="koboSpan" id="kobo.1418.1">Observable</span></span><span class="koboSpan" id="kobo.1419.1">&lt;</span><span class="hljs-title"><span class="koboSpan" id="kobo.1420.1">Cart</span></span><span class="koboSpan" id="kobo.1421.1">&gt; {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1422.1">const</span></span><span class="koboSpan" id="kobo.1423.1"> cartProduct = { </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1424.1">productId</span></span><span class="koboSpan" id="kobo.1425.1">: id, </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1426.1">quantity</span></span><span class="koboSpan" id="kobo.1427.1">: </span><span class="hljs-number"><span class="koboSpan" id="kobo.1428.1">1</span></span><span class="koboSpan" id="kobo.1429.1"> };
  
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1430.1">return</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1431.1">defer</span></span><span class="koboSpan" id="kobo.1432.1">(</span><span class="hljs-function"><span class="koboSpan" id="kobo.1433.1">() =&gt;</span></span><span class="koboSpan" id="kobo.1434.1">
    !</span><span class="hljs-variable"><span class="koboSpan" id="kobo.1435.1">this</span></span><span class="koboSpan" id="kobo.1436.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1437.1">cart</span></span><span class="koboSpan" id="kobo.1438.1">
    ? </span><span class="hljs-variable"><span class="koboSpan" id="kobo.1439.1">this</span></span><span class="koboSpan" id="kobo.1440.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1441.1">http</span></span><span class="koboSpan" id="kobo.1442.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1443.1">post</span></span><span class="koboSpan" id="kobo.1444.1">&lt;</span><span class="hljs-title"><span class="koboSpan" id="kobo.1445.1">Cart</span></span><span class="koboSpan" id="kobo.1446.1">&gt;(</span><span class="hljs-variable"><span class="koboSpan" id="kobo.1447.1">this</span></span><span class="koboSpan" id="kobo.1448.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1449.1">cartUrl</span></span><span class="koboSpan" id="kobo.1450.1">, { </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1451.1">products</span></span><span class="koboSpan" id="kobo.1452.1">: [cartProduct] })
    : </span><span class="hljs-variable"><span class="koboSpan" id="kobo.1453.1">this</span></span><span class="koboSpan" id="kobo.1454.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1455.1">http</span></span><span class="koboSpan" id="kobo.1456.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1457.1">put</span></span><span class="koboSpan" id="kobo.1458.1">&lt;</span><span class="hljs-title"><span class="koboSpan" id="kobo.1459.1">Cart</span></span><span class="koboSpan" id="kobo.1460.1">&gt;(</span><span class="hljs-string"><span class="koboSpan" id="kobo.1461.1">`</span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.1462.1">${</span></span><span class="hljs-variable"><span class="koboSpan" id="kobo.1463.1">this</span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.1464.1">.cartUrl}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1465.1">/</span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.1466.1">${</span></span><span class="hljs-variable"><span class="koboSpan" id="kobo.1467.1">this</span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.1468.1">.cart.id}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1469.1">`</span></span><span class="koboSpan" id="kobo.1470.1">, {
      </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1471.1">products</span></span><span class="koboSpan" id="kobo.1472.1">: [
        ...</span><span class="hljs-variable"><span class="koboSpan" id="kobo.1473.1">this</span></span><span class="koboSpan" id="kobo.1474.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1475.1">cart</span></span><span class="koboSpan" id="kobo.1476.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1477.1">products</span></span><span class="koboSpan" id="kobo.1478.1">,
        cartProduct
      ]
    })
  ).</span><span class="hljs-title"><span class="koboSpan" id="kobo.1479.1">pipe</span></span><span class="koboSpan" id="kobo.1480.1">(</span><span class="hljs-title"><span class="koboSpan" id="kobo.1481.1">map</span></span><span class="koboSpan" id="kobo.1482.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1483.1">cart</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.1484.1"> =&gt;</span></span> <span class="hljs-variable"><span class="koboSpan" id="kobo.1485.1">this</span></span><span class="koboSpan" id="kobo.1486.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1487.1">cart</span></span><span class="koboSpan" id="kobo.1488.1"> = cart));
}
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.1489.1">
     In the preceding method, we use a new RxJS operator called
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1490.1">
      defer
     </span>
    </code>
    <span class="koboSpan" id="kobo.1491.1">
     .
    </span>
    <span class="koboSpan" id="kobo.1491.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1492.1">
      defer
     </span>
    </code>
    <span class="koboSpan" id="kobo.1493.1">
     operator works as an if/else statement for observables.
    </span>
   </p>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.1494.1">
     If the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1495.1">
      cart
     </span>
    </code>
    <span class="koboSpan" id="kobo.1496.1">
     property has not been initialized, which means that our cart is currently empty, we initiate a POST request to the API passing the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1497.1">
      cartProduct
     </span>
    </code>
    <span class="koboSpan" id="kobo.1498.1">
     variable as a parameter.
    </span>
    <span class="koboSpan" id="kobo.1498.2">
     Otherwise, we initiate a PATCH request passing the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1499.1">
      cartProduct
     </span>
    </code>
    <span class="koboSpan" id="kobo.1500.1">
     along with the existing products from the cart.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1501.1">
     We have completed the setup of our service so that it can communicate with the Fake Store API.
    </span>
    <span class="koboSpan" id="kobo.1501.2">
     Now, we
    </span>
    <a id="_idIndexMarker627">
    </a>
    <span class="koboSpan" id="kobo.1502.1">
     need to connect the service with the respective component:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.1503.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1504.1">
       product-detail.component.ts
      </span>
     </code>
     <span class="koboSpan" id="kobo.1505.1">
      file and add the following
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1506.1">
       import
      </span>
     </code>
     <span class="koboSpan" id="kobo.1507.1">
      statement:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1508.1">import</span></span><span class="koboSpan" id="kobo.1509.1"> { </span><span class="hljs-title"><span class="koboSpan" id="kobo.1510.1">CartService</span></span><span class="koboSpan" id="kobo.1511.1"> } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1512.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.1513.1">'../cart.service'</span></span><span class="koboSpan" id="kobo.1514.1">;
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.1515.1">
      Inject
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1516.1">
       CartService
      </span>
     </code>
     <span class="koboSpan" id="kobo.1517.1">
      in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1518.1">
       ProductDetailComponent
      </span>
     </code>
     <span class="koboSpan" id="kobo.1519.1">
      class:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-title"><span class="koboSpan" id="kobo.1520.1">constructor</span></span><span class="koboSpan" id="kobo.1521.1">(
</span><span class="hljs-params">  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1522.1">private</span></span><span class="hljs-params"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1523.1">productService</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.1524.1">: </span></span><span class="hljs-title"><span class="koboSpan" id="kobo.1525.1">ProductsService</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.1526.1">,</span></span>
<span class="hljs-params">  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1527.1">public</span></span><span class="hljs-params"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1528.1">authService</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.1529.1">: </span></span><span class="hljs-title"><span class="koboSpan" id="kobo.1530.1">AuthService</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.1531.1">,</span></span>
<span class="hljs-params">  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1532.1">private</span></span><span class="hljs-params"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1533.1">route</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.1534.1">: </span></span><span class="hljs-title"><span class="koboSpan" id="kobo.1535.1">ActivatedRoute</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.1536.1">,</span></span>
<span class="hljs-params">  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1537.1">private</span></span><span class="hljs-params"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1538.1">router</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.1539.1">: </span></span><span class="hljs-title"><span class="koboSpan" id="kobo.1540.1">Router</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.1541.1">,</span></span>
<span class="hljs-params">  </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1542.1">private cartService: CartService</span></strong></span><span class="koboSpan" id="kobo.1543.1">
) { }
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.1544.1">
      Modify the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1545.1">
       addToCart
      </span>
     </code>
     <span class="koboSpan" id="kobo.1546.1">
      method so that it calls the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1547.1">
       addProduct
      </span>
     </code>
     <span class="koboSpan" id="kobo.1548.1">
      method of the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1549.1">
       CartService
      </span>
     </code>
     <span class="koboSpan" id="kobo.1550.1">
      class:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-title"><span class="koboSpan" id="kobo.1551.1">addToCart</span></span><span class="koboSpan" id="kobo.1552.1">(</span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1553.1">id: number</span></strong></span><span class="koboSpan" id="kobo.1554.1">) {
  </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1555.1">this.cartService.addProduct(id).subscribe();</span></strong></span><span class="koboSpan" id="kobo.1556.1">
}
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.1557.1">
      Finally, open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1558.1">
       product-detail.component.html
      </span>
     </code>
     <span class="koboSpan" id="kobo.1559.1">
      file and modify the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1560.1">
       click
      </span>
     </code>
     <span class="koboSpan" id="kobo.1561.1">
      event of the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1562.1">
       Add to cart
      </span>
     </code>
     <span class="koboSpan" id="kobo.1563.1">
      button:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-tag"><span class="koboSpan" id="kobo.1564.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1565.1">button</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1566.1"> (</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.1567.1">click</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1568.1">)=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1569.1">"addToCart(</span></span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1570.1">product.id</span></strong></span><span class="hljs-string"><span class="koboSpan" id="kobo.1571.1">)"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1572.1">&gt;</span></span><span class="koboSpan" id="kobo.1573.1">Add to cart</span><span class="hljs-tag"><span class="koboSpan" id="kobo.1574.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1575.1">button</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1576.1">&gt;</span></span>
</code></pre>
    </li>
   </ol>
   <p class="normal">
    <span class="koboSpan" id="kobo.1577.1">
     We have implemented the basic functionality for storing the selected products that users want to buy.
    </span>
    <span class="koboSpan" id="kobo.1577.2">
     Now, we must modify the cart component to display the cart items:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.1578.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1579.1">
       cart.component.ts
      </span>
     </code>
     <span class="koboSpan" id="kobo.1580.1">
      file and modify the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1581.1">
       import
      </span>
     </code>
     <span class="koboSpan" id="kobo.1582.1">
      statements as follows:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1583.1">import</span></span><span class="koboSpan" id="kobo.1584.1"> { </span><span class="hljs-title"><span class="koboSpan" id="kobo.1585.1">Component</span></span><span class="koboSpan" id="kobo.1586.1">, </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1587.1">OnInit</span></strong></span><span class="koboSpan" id="kobo.1588.1"> } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1589.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.1590.1">'@angular/core'</span></span><span class="koboSpan" id="kobo.1591.1">;
</span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1592.1">import {</span></strong></span>
  <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1593.1">FormArray,</span></strong></span>
  <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1594.1">FormControl,</span></strong></span>
  <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1595.1">FormGroup,</span></strong></span>
  <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1596.1">ReactiveFormsModule</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1597.1">} from '@angular/forms';</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1598.1">import { Product } from '../product';</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1599.1">import { CartService } from '../cart.service';</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1600.1">import { ProductsService } from '../products.service';</span></strong></span>
</code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.1601.1">
      Add
     </span>
     <a id="_idIndexMarker628">
     </a>
     <span class="koboSpan" id="kobo.1602.1">
      the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1603.1">
       ReactiveFormsModule
      </span>
     </code>
     <span class="koboSpan" id="kobo.1604.1">
      class in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1605.1">
       imports
      </span>
     </code>
     <span class="koboSpan" id="kobo.1606.1">
      array of the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1607.1">
       @Component
      </span>
     </code>
     <span class="koboSpan" id="kobo.1608.1">
      decorator:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-meta"><span class="koboSpan" id="kobo.1609.1">@Component</span></span><span class="koboSpan" id="kobo.1610.1">({
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1611.1">selector</span></span><span class="koboSpan" id="kobo.1612.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.1613.1">'</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1614.1">app-cart'</span></span><span class="koboSpan" id="kobo.1615.1">,
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1616.1">imports</span></span><span class="koboSpan" id="kobo.1617.1">: [</span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1618.1">ReactiveFormsModule</span></strong></span><span class="koboSpan" id="kobo.1619.1">],
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1620.1">templateUrl</span></span><span class="koboSpan" id="kobo.1621.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.1622.1">'./cart.component.html'</span></span><span class="koboSpan" id="kobo.1623.1">,
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1624.1">styleUrl</span></span><span class="koboSpan" id="kobo.1625.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.1626.1">'./cart.component.css'</span></span><span class="koboSpan" id="kobo.1627.1">
})
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.1628.1">
      Add the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1629.1">
       OnInit
      </span>
     </code>
     <span class="koboSpan" id="kobo.1630.1">
      interface to the list of implemented interfaces of the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1631.1">
       CartComponent
      </span>
     </code>
     <span class="koboSpan" id="kobo.1632.1">
      class:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1633.1">export</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.1634.1">class</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1635.1">CartComponent</span></span> <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1636.1">implements OnInit</span></strong></span>
</code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.1637.1">
      Create the following properties in the TypeScript class:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="koboSpan" id="kobo.1638.1">cartForm = </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1639.1">new</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1640.1">FormGroup</span></span><span class="koboSpan" id="kobo.1641.1">({
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1642.1">products</span></span><span class="koboSpan" id="kobo.1643.1">: </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1644.1">new</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1645.1">FormArray</span></span><span class="koboSpan" id="kobo.1646.1">&lt;</span><span class="hljs-title"><span class="koboSpan" id="kobo.1647.1">FormControl</span></span><span class="koboSpan" id="kobo.1648.1">&lt;</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1649.1">number</span></span><span class="koboSpan" id="kobo.1650.1">&gt;&gt;([])
});
</span><span class="hljs-attr"><span class="koboSpan" id="kobo.1651.1">products</span></span><span class="koboSpan" id="kobo.1652.1">: </span><span class="hljs-title"><span class="koboSpan" id="kobo.1653.1">Product</span></span><span class="koboSpan" id="kobo.1654.1">[] = [];
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.1655.1">
     In the preceding snippet, we created a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1656.1">
      FormGroup
     </span>
    </code>
    <span class="koboSpan" id="kobo.1657.1">
     object containing a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1658.1">
      products
     </span>
    </code>
    <span class="koboSpan" id="kobo.1659.1">
     property.
    </span>
    <span class="koboSpan" id="kobo.1659.2">
     We set the value of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1660.1">
      products
     </span>
    </code>
    <span class="koboSpan" id="kobo.1661.1">
     property to an instance of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1662.1">
      FormArray
     </span>
    </code>
    <span class="koboSpan" id="kobo.1663.1">
     class.
    </span>
    <span class="koboSpan" id="kobo.1663.2">
     The constructor of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1664.1">
      FormArray
     </span>
    </code>
    <span class="koboSpan" id="kobo.1665.1">
     class accepts a list of
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1666.1">
      FormControl
     </span>
    </code>
    <span class="koboSpan" id="kobo.1667.1">
     instances with the type
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1668.1">
      number
     </span>
    </code>
    <span class="koboSpan" id="kobo.1669.1">
     as a parameter.
    </span>
    <span class="koboSpan" id="kobo.1669.2">
     The list is empty for now since the cart has no products.
    </span>
    <span class="koboSpan" id="kobo.1669.3">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1670.1">
      products
     </span>
    </code>
    <span class="koboSpan" id="kobo.1671.1">
     property outside the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1672.1">
      FormGroup
     </span>
    </code>
    <span class="koboSpan" id="kobo.1673.1">
     instance will be used for lookup reasons to display the title of each product in the cart.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="5">
     <span class="koboSpan" id="kobo.1674.1">
      Add a
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1675.1">
       constructor
      </span>
     </code>
     <span class="koboSpan" id="kobo.1676.1">
      to inject the following services:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-title"><span class="koboSpan" id="kobo.1677.1">constructor</span></span><span class="koboSpan" id="kobo.1678.1">(
</span><span class="hljs-params">  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1679.1">private</span></span><span class="hljs-params"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1680.1">cartService</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.1681.1">: </span></span><span class="hljs-title"><span class="koboSpan" id="kobo.1682.1">CartService</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.1683.1">,</span></span>
<span class="hljs-params">  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1684.1">private</span></span><span class="hljs-params"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1685.1">productsService</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.1686.1">: </span></span><span class="hljs-title"><span class="koboSpan" id="kobo.1687.1">ProductsService</span></span><span class="koboSpan" id="kobo.1688.1">
) {}
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.1689.1">
      Create the
     </span>
     <a id="_idIndexMarker629">
     </a>
     <span class="koboSpan" id="kobo.1690.1">
      following method to get products from the cart:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1691.1">private</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1692.1">getProducts</span></span><span class="koboSpan" id="kobo.1693.1">() {
  </span><span class="hljs-variable"><span class="koboSpan" id="kobo.1694.1">this</span></span><span class="koboSpan" id="kobo.1695.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1696.1">productsService</span></span><span class="koboSpan" id="kobo.1697.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.1698.1">getProducts</span></span><span class="koboSpan" id="kobo.1699.1">().</span><span class="hljs-title"><span class="koboSpan" id="kobo.1700.1">subscribe</span></span><span class="koboSpan" id="kobo.1701.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1702.1">products</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.1703.1"> =&gt;</span></span><span class="koboSpan" id="kobo.1704.1"> {
    </span><span class="hljs-variable"><span class="koboSpan" id="kobo.1705.1">this</span></span><span class="koboSpan" id="kobo.1706.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1707.1">cartService</span></span><span class="koboSpan" id="kobo.1708.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1709.1">cart</span></span><span class="koboSpan" id="kobo.1710.1">?.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1711.1">products</span></span><span class="koboSpan" id="kobo.1712.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.1713.1">forEach</span></span><span class="koboSpan" id="kobo.1714.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1715.1">item</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.1716.1"> =&gt;</span></span><span class="koboSpan" id="kobo.1717.1"> {
      </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1718.1">const</span></span><span class="koboSpan" id="kobo.1719.1"> product = products.</span><span class="hljs-title"><span class="koboSpan" id="kobo.1720.1">find</span></span><span class="koboSpan" id="kobo.1721.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.1722.1">p</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.1723.1"> =&gt;</span></span><span class="koboSpan" id="kobo.1724.1"> p.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1725.1">id</span></span><span class="koboSpan" id="kobo.1726.1"> === item.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1727.1">productId</span></span><span class="koboSpan" id="kobo.1728.1">);
      </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1729.1">if</span></span><span class="koboSpan" id="kobo.1730.1"> (product) {
        </span><span class="hljs-variable"><span class="koboSpan" id="kobo.1731.1">this</span></span><span class="koboSpan" id="kobo.1732.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1733.1">products</span></span><span class="koboSpan" id="kobo.1734.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.1735.1">push</span></span><span class="koboSpan" id="kobo.1736.1">(product);
      }
    });
  });
}
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.1737.1">
     In the preceding method, we initially subscribe to the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1738.1">
      getProducts
     </span>
    </code>
    <span class="koboSpan" id="kobo.1739.1">
     method of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1740.1">
      ProductsService
     </span>
    </code>
    <span class="koboSpan" id="kobo.1741.1">
     class to get the available products.
    </span>
    <span class="koboSpan" id="kobo.1741.2">
     Then, for each product in the cart, we extract the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1742.1">
      productId
     </span>
    </code>
    <span class="koboSpan" id="kobo.1743.1">
     property and check if it exists inside the cart.
    </span>
    <span class="koboSpan" id="kobo.1743.2">
     If the product is found, we add it to the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1744.1">
      products
     </span>
    </code>
    <span class="koboSpan" id="kobo.1745.1">
     component property.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="7">
     <span class="koboSpan" id="kobo.1746.1">
      Create another method to build our form:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1747.1">private</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1748.1">buildForm</span></span><span class="koboSpan" id="kobo.1749.1">() {
  </span><span class="hljs-variable"><span class="koboSpan" id="kobo.1750.1">this</span></span><span class="koboSpan" id="kobo.1751.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1752.1">products</span></span><span class="koboSpan" id="kobo.1753.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.1754.1">forEach</span></span><span class="koboSpan" id="kobo.1755.1">(</span><span class="hljs-function"><span class="koboSpan" id="kobo.1756.1">() =&gt;</span></span><span class="koboSpan" id="kobo.1757.1"> {
    </span><span class="hljs-variable"><span class="koboSpan" id="kobo.1758.1">this</span></span><span class="koboSpan" id="kobo.1759.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1760.1">cartForm</span></span><span class="koboSpan" id="kobo.1761.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1762.1">controls</span></span><span class="koboSpan" id="kobo.1763.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.1764.1">products</span></span><span class="koboSpan" id="kobo.1765.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.1766.1">push</span></span><span class="koboSpan" id="kobo.1767.1">(
      </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1768.1">new</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1769.1">FormControl</span></span><span class="koboSpan" id="kobo.1770.1">(</span><span class="hljs-number"><span class="koboSpan" id="kobo.1771.1">1</span></span><span class="koboSpan" id="kobo.1772.1">, { </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1773.1">nonNullable</span></span><span class="koboSpan" id="kobo.1774.1">: </span><span class="hljs-literal"><span class="koboSpan" id="kobo.1775.1">true</span></span><span class="koboSpan" id="kobo.1776.1"> })
    );
  });
}
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.1777.1">
     In the preceding method, we iterate over the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1778.1">
      products
     </span>
    </code>
    <span class="koboSpan" id="kobo.1779.1">
     property and add a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1780.1">
      FormControl
     </span>
    </code>
    <span class="koboSpan" id="kobo.1781.1">
     instance for each one inside the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1782.1">
      products
     </span>
    </code>
    <span class="koboSpan" id="kobo.1783.1">
     form array.
    </span>
    <span class="koboSpan" id="kobo.1783.2">
     We set the value of each form control to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1784.1">
      1
     </span>
    </code>
    <span class="koboSpan" id="kobo.1785.1">
     to indicate that the cart contains one item of each product by default.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="8">
     <span class="koboSpan" id="kobo.1786.1">
      Create the following
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1787.1">
       ngOnInit
      </span>
     </code>
     <span class="koboSpan" id="kobo.1788.1">
      method that combines both methods from
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.1789.1">
       steps 6
      </span>
     </em>
     <span class="koboSpan" id="kobo.1790.1">
      and
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.1791.1">
       7
      </span>
     </em>
     <span class="koboSpan" id="kobo.1792.1">
      :
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-title"><span class="koboSpan" id="kobo.1793.1">ngOnInit</span></span><span class="koboSpan" id="kobo.1794.1">(): </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1795.1">void</span></span><span class="koboSpan" id="kobo.1796.1"> {
  </span><span class="hljs-variable"><span class="koboSpan" id="kobo.1797.1">this</span></span><span class="koboSpan" id="kobo.1798.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.1799.1">getProducts</span></span><span class="koboSpan" id="kobo.1800.1">();
  </span><span class="hljs-variable"><span class="koboSpan" id="kobo.1801.1">this</span></span><span class="koboSpan" id="kobo.1802.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.1803.1">buildForm</span></span><span class="koboSpan" id="kobo.1804.1">();
}
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.1805.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1806.1">
       cart.component.html
      </span>
     </code>
     <span class="koboSpan" id="kobo.1807.1">
      file and replace its HTML template with the following
     </span>
     <a id="_idIndexMarker630">
     </a>
     <span class="koboSpan" id="kobo.1808.1">
      content:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-tag"><span class="koboSpan" id="kobo.1809.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1810.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1811.1"> [</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.1812.1">formGroup</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1813.1">]=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1814.1">"cartForm"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1815.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.1816.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1817.1">div</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1818.1">formArrayName</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1819.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1820.1">"products"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1821.1">&gt;</span></span><span class="koboSpan" id="kobo.1822.1">
    @for(product of cartForm.controls.products.controls; track $index) {
      </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1823.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1824.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1825.1">&gt;</span></span><span class="koboSpan" id="kobo.1826.1">{{products[$index].title}}</span><span class="hljs-tag"><span class="koboSpan" id="kobo.1827.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1828.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1829.1">&gt;</span></span>
      <span class="hljs-tag"><span class="koboSpan" id="kobo.1830.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1831.1">input</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1832.1"> [</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.1833.1">formControlName</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1834.1">]=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1835.1">"$index"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1836.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1837.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.1838.1">"number"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1839.1"> /&gt;</span></span><span class="koboSpan" id="kobo.1840.1">
    }
  </span><span class="hljs-tag"><span class="koboSpan" id="kobo.1841.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1842.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1843.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.1844.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.1845.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.1846.1">&gt;</span></span>
</code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.1847.1">
     In the preceding template, we use a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1848.1">
      @for
     </span>
    </code>
    <span class="koboSpan" id="kobo.1849.1">
     block to iterate over the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1850.1">
      controls
     </span>
    </code>
    <span class="koboSpan" id="kobo.1851.1">
     property of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1852.1">
      products
     </span>
    </code>
    <span class="koboSpan" id="kobo.1853.1">
     form array and create an
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1854.1">
      &lt;input&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.1855.1">
     element for each one.
    </span>
    <span class="koboSpan" id="kobo.1855.2">
     We use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1856.1">
      $index
     </span>
    </code>
    <span class="koboSpan" id="kobo.1857.1">
     keyword of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1858.1">
      @for
     </span>
    </code>
    <span class="koboSpan" id="kobo.1859.1">
     block to give a dynamically created name to each form control using the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1860.1">
      formControlName
     </span>
    </code>
    <span class="koboSpan" id="kobo.1861.1">
     binding.
    </span>
    <span class="koboSpan" id="kobo.1861.2">
     We have also added a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1862.1">
      &lt;label&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.1863.1">
     tag that displays the product title from the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1864.1">
      products
     </span>
    </code>
    <span class="koboSpan" id="kobo.1865.1">
     component property.
    </span>
    <span class="koboSpan" id="kobo.1865.2">
     The product title is fetched using the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1866.1">
      $index
     </span>
    </code>
    <span class="koboSpan" id="kobo.1867.1">
     of the current product in the array.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="10">
     <span class="koboSpan" id="kobo.1868.1">
      Finally, open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1869.1">
       cart.component.css
      </span>
     </code>
     <span class="koboSpan" id="kobo.1870.1">
      files and add the following CSS styles:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-selector-pseudo"><span class="koboSpan" id="kobo.1871.1">:host</span></span><span class="koboSpan" id="kobo.1872.1"> {
  </span><span class="hljs-attribute"><span class="koboSpan" id="kobo.1873.1">width</span></span><span class="koboSpan" id="kobo.1874.1">: </span><span class="hljs-number"><span class="koboSpan" id="kobo.1875.1">500px</span></span><span class="koboSpan" id="kobo.1876.1">;
}
</span><span class="hljs-selector-tag"><span class="koboSpan" id="kobo.1877.1">input</span></span><span class="koboSpan" id="kobo.1878.1"> {
  </span><span class="hljs-attribute"><span class="koboSpan" id="kobo.1879.1">width</span></span><span class="koboSpan" id="kobo.1880.1">: </span><span class="hljs-number"><span class="koboSpan" id="kobo.1881.1">50px</span></span><span class="koboSpan" id="kobo.1882.1">;
}
</span></code></pre>
    </li>
   </ol>
   <p class="normal">
    <span class="koboSpan" id="kobo.1883.1">
     To see the cart component in action, run the application using the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1884.1">
      ng serve
     </span>
    </code>
    <span class="koboSpan" id="kobo.1885.1">
     command and add some products to the cart.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <span class="koboSpan" id="kobo.1886.1">
      Do not forget to log in first because the functionality that adds a product to the cart is available only to authenticated users.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.1887.1">
     After adding some products to the cart, click the
    </span>
    <strong class="screenText">
     <span class="koboSpan" id="kobo.1888.1">
      My Cart
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1889.1">
     link to view your shopping cart.
    </span>
    <span class="koboSpan" id="kobo.1889.2">
     It should
    </span>
    <a id="_idIndexMarker631">
    </a>
    <span class="koboSpan" id="kobo.1890.1">
     look like the following:
    </span>
   </p>
   <figure class="mediaobject">
    <span class="koboSpan" id="kobo.1891.1">
     <img alt="Εικόνα που περιέχει κείμενο, στιγμιότυπο οθόνης, γραμματοσειρά, διάγραμμα  Περιγραφή που δημιουργήθηκε αυτόματα" src="../Images/B21418_10_04.png"/>
    </span>
   </figure>
   <p class="packt_figref">
    <span class="koboSpan" id="kobo.1892.1">
     Figure 10.4: Shopping cart
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1893.1">
     Since we have established the business logic for managing a shopping cart, we can also update the checkout guard we created in the previous chapter:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.1894.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1895.1">
       checkout.guard.ts
      </span>
     </code>
     <span class="koboSpan" id="kobo.1896.1">
      file and add the following
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1897.1">
       import
      </span>
     </code>
     <span class="koboSpan" id="kobo.1898.1">
      statements:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1899.1">import</span></span><span class="koboSpan" id="kobo.1900.1"> { inject } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1901.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.1902.1">'@angular/core'</span></span><span class="koboSpan" id="kobo.1903.1">;
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1904.1">import</span></span><span class="koboSpan" id="kobo.1905.1"> { </span><span class="hljs-title"><span class="koboSpan" id="kobo.1906.1">CartService</span></span><span class="koboSpan" id="kobo.1907.1"> } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1908.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.1909.1">'./cart.service'</span></span><span class="koboSpan" id="kobo.1910.1">;
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.1911.1">
      Inject the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1912.1">
       CartService
      </span>
     </code>
     <span class="koboSpan" id="kobo.1913.1">
      class in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1914.1">
       checkoutGuard
      </span>
     </code>
     <span class="koboSpan" id="kobo.1915.1">
      function using the following statement:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1916.1">const</span></span><span class="koboSpan" id="kobo.1917.1"> cartService = </span><span class="hljs-title"><span class="koboSpan" id="kobo.1918.1">inject</span></span><span class="koboSpan" id="kobo.1919.1">(</span><span class="hljs-title"><span class="koboSpan" id="kobo.1920.1">CartService</span></span><span class="koboSpan" id="kobo.1921.1">);
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.1922.1">
      Modify the remaining body of the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1923.1">
       checkoutGuard
      </span>
     </code>
     <span class="koboSpan" id="kobo.1924.1">
      arrow function so that we display the confirmation dialog only when the cart is not empty:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1925.1">if (cartService.cart) {</span></strong></span>
  <span class="hljs-keyword"><span class="koboSpan" id="kobo.1926.1">const</span></span><span class="koboSpan" id="kobo.1927.1"> confirmation = </span><span class="hljs-title"><span class="koboSpan" id="kobo.1928.1">confirm</span></span><span class="koboSpan" id="kobo.1929.1">(
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.1930.1">'You have pending items in your cart. </span><span class="koboSpan" id="kobo.1930.2">Do you want to continue?'</span></span><span class="koboSpan" id="kobo.1931.1">
  );
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1932.1">return</span></span><span class="koboSpan" id="kobo.1933.1"> confirmation;
</span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1934.1">}</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1935.1">return true;</span></strong></span>
</code></pre>
    </li>
   </ol>
   <p class="normal">
    <span class="koboSpan" id="kobo.1936.1">
     With the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1937.1">
      FormArray
     </span>
    </code>
    <span class="koboSpan" id="kobo.1938.1">
     , we have completed our exploration of the most basic building blocks of an
    </span>
    <a id="_idIndexMarker632">
    </a>
    <span class="koboSpan" id="kobo.1939.1">
     Angular form.
    </span>
    <span class="koboSpan" id="kobo.1939.2">
     We learned how to use Angular forms classes to create structured web forms and collect user input.
    </span>
    <span class="koboSpan" id="kobo.1939.3">
     In the following section, we will learn how to build Angular forms using the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1940.1">
      FormBuilder
     </span>
    </code>
    <span class="koboSpan" id="kobo.1941.1">
     service.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-194">
    <span class="koboSpan" id="kobo.1942.1">
     Using a form builder
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.1943.1">
     Using form classes
    </span>
    <a id="_idIndexMarker633">
    </a>
    <span class="koboSpan" id="kobo.1944.1">
     to build Angular forms can become repetitive and tedious for complex scenarios.
    </span>
    <span class="koboSpan" id="kobo.1944.2">
     The Angular framework provides
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1945.1">
      FormBuilder
     </span>
    </code>
    <span class="koboSpan" id="kobo.1946.1">
     , a built-in service to Angular forms that contains helper methods for building forms.
    </span>
    <span class="koboSpan" id="kobo.1946.2">
     Let’s see how we could use it to build a form for creating new products:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.1947.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1948.1">
       product-create.component.ts
      </span>
     </code>
     <span class="koboSpan" id="kobo.1949.1">
      file and import the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1950.1">
       OnInit
      </span>
     </code>
     <span class="koboSpan" id="kobo.1951.1">
      and
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1952.1">
       FormBuilder
      </span>
     </code>
     <span class="koboSpan" id="kobo.1953.1">
      artifacts:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1954.1">import</span></span><span class="koboSpan" id="kobo.1955.1"> { </span><span class="hljs-title"><span class="koboSpan" id="kobo.1956.1">Component</span></span><span class="koboSpan" id="kobo.1957.1">, </span><span class="code-highlight"><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.1958.1">OnInit</span></strong></span><span class="koboSpan" id="kobo.1959.1"> } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1960.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.1961.1">'@angular/core'</span></span><span class="koboSpan" id="kobo.1962.1">;
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1963.1">import</span></span><span class="koboSpan" id="kobo.1964.1"> { </span><span class="hljs-title"><span class="koboSpan" id="kobo.1965.1">FormControl</span></span><span class="koboSpan" id="kobo.1966.1">, </span><span class="hljs-title"><span class="koboSpan" id="kobo.1967.1">FormGroup</span></span><span class="koboSpan" id="kobo.1968.1">, </span><span class="hljs-title"><span class="koboSpan" id="kobo.1969.1">ReactiveFormsModule</span></span><span class="koboSpan" id="kobo.1970.1">, </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1971.1">FormBuilder</span></strong></span><span class="koboSpan" id="kobo.1972.1"> } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1973.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.1974.1">'@angular/forms'</span></span><span class="koboSpan" id="kobo.1975.1">;
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.1976.1">
      Add
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1977.1">
       OnInit
      </span>
     </code>
     <span class="koboSpan" id="kobo.1978.1">
      to the list of implemented interfaces in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1979.1">
       ProductCreateComponent
      </span>
     </code>
     <span class="koboSpan" id="kobo.1980.1">
      class:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.1981.1">export</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.1982.1">class</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1983.1">ProductCreateComponent</span></span> <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1984.1">implements OnInit</span></strong></span>
</code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.1985.1">
      Inject the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1986.1">
       FormBuilder
      </span>
     </code>
     <span class="koboSpan" id="kobo.1987.1">
      class in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1988.1">
       constructor
      </span>
     </code>
     <span class="koboSpan" id="kobo.1989.1">
      :
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-title"><span class="koboSpan" id="kobo.1990.1">constructor</span></span><span class="koboSpan" id="kobo.1991.1">(
</span><span class="hljs-params">  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1992.1">private</span></span><span class="hljs-params"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1993.1">productsService</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.1994.1">: </span></span><span class="hljs-title"><span class="koboSpan" id="kobo.1995.1">ProductsService</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.1996.1">,</span></span>
<span class="hljs-params">  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1997.1">private</span></span><span class="hljs-params"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.1998.1">router</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.1999.1">: </span></span><span class="hljs-title"><span class="koboSpan" id="kobo.2000.1">Router</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.2001.1">,</span></span>
<span class="hljs-params">  </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2002.1">private builder: FormBuilder</span></strong></span><span class="koboSpan" id="kobo.2003.1">
) {}
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2004.1">
      Modify the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2005.1">
       productForm
      </span>
     </code>
     <span class="koboSpan" id="kobo.2006.1">
      property as follows:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-attr"><span class="koboSpan" id="kobo.2007.1">productForm</span></span><span class="koboSpan" id="kobo.2008.1">: </span><span class="hljs-title"><span class="koboSpan" id="kobo.2009.1">FormGroup</span></span><span class="koboSpan" id="kobo.2010.1">&lt;{
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2011.1">title</span></span><span class="koboSpan" id="kobo.2012.1">: </span><span class="hljs-title"><span class="koboSpan" id="kobo.2013.1">FormControl</span></span><span class="koboSpan" id="kobo.2014.1">&lt;</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.2015.1">string</span></span><span class="koboSpan" id="kobo.2016.1">&gt;,
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2017.1">price</span></span><span class="koboSpan" id="kobo.2018.1">: </span><span class="hljs-title"><span class="koboSpan" id="kobo.2019.1">FormControl</span></span><span class="koboSpan" id="kobo.2020.1">&lt;</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.2021.1">number</span></span><span class="koboSpan" id="kobo.2022.1"> | </span><span class="hljs-literal"><span class="koboSpan" id="kobo.2023.1">undefined</span></span><span class="koboSpan" id="kobo.2024.1">&gt;,
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2025.1">category</span></span><span class="koboSpan" id="kobo.2026.1">: </span><span class="hljs-title"><span class="koboSpan" id="kobo.2027.1">FormControl</span></span><span class="koboSpan" id="kobo.2028.1">&lt;</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.2029.1">string</span></span><span class="koboSpan" id="kobo.2030.1">&gt;
}&gt; | </span><span class="hljs-literal"><span class="koboSpan" id="kobo.2031.1">undefined</span></span><span class="koboSpan" id="kobo.2032.1">;
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.2033.1">
     In the preceding snippet, we define only the structure of the form because it will now be created using the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2034.1">
      FormBuilder
     </span>
    </code>
    <span class="koboSpan" id="kobo.2035.1">
     service.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="5">
     <span class="koboSpan" id="kobo.2036.1">
      Create the
     </span>
     <a id="_idIndexMarker634">
     </a>
     <span class="koboSpan" id="kobo.2037.1">
      following method to build the form:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.2038.1">private</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.2039.1">buildForm</span></span><span class="koboSpan" id="kobo.2040.1">() {
  </span><span class="hljs-variable"><span class="koboSpan" id="kobo.2041.1">this</span></span><span class="koboSpan" id="kobo.2042.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.2043.1">productForm</span></span><span class="koboSpan" id="kobo.2044.1"> = </span><span class="hljs-variable"><span class="koboSpan" id="kobo.2045.1">this</span></span><span class="koboSpan" id="kobo.2046.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.2047.1">builder</span></span><span class="koboSpan" id="kobo.2048.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.2049.1">nonNullable</span></span><span class="koboSpan" id="kobo.2050.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.2051.1">group</span></span><span class="koboSpan" id="kobo.2052.1">({
    </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2053.1">title</span></span><span class="koboSpan" id="kobo.2054.1">: [</span><span class="hljs-string"><span class="koboSpan" id="kobo.2055.1">''</span></span><span class="koboSpan" id="kobo.2056.1">],
    </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2057.1">price</span></span><span class="koboSpan" id="kobo.2058.1">: </span><span class="hljs-variable"><span class="koboSpan" id="kobo.2059.1">this</span></span><span class="koboSpan" id="kobo.2060.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.2061.1">builder</span></span><span class="koboSpan" id="kobo.2062.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.2063.1">nonNullable</span></span><span class="koboSpan" id="kobo.2064.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.2065.1">control</span></span><span class="koboSpan" id="kobo.2066.1">&lt;</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.2067.1">number</span></span><span class="koboSpan" id="kobo.2068.1"> | </span><span class="hljs-literal"><span class="koboSpan" id="kobo.2069.1">undefined</span></span><span class="koboSpan" id="kobo.2070.1">&gt;(</span><span class="hljs-literal"><span class="koboSpan" id="kobo.2071.1">undefined</span></span><span class="koboSpan" id="kobo.2072.1">),
    </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2073.1">category</span></span><span class="koboSpan" id="kobo.2074.1">: [</span><span class="hljs-string"><span class="koboSpan" id="kobo.2075.1">''</span></span><span class="koboSpan" id="kobo.2076.1">]
  });
}
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.2077.1">
     In the preceding method, we use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2078.1">
      nonNullable
     </span>
    </code>
    <span class="koboSpan" id="kobo.2079.1">
     property of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2080.1">
      FormBuilder
     </span>
    </code>
    <span class="koboSpan" id="kobo.2081.1">
     class to create a form group that cannot be null.
    </span>
    <span class="koboSpan" id="kobo.2081.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2082.1">
      group
     </span>
    </code>
    <span class="koboSpan" id="kobo.2083.1">
     method is used to group form controls.
    </span>
    <span class="koboSpan" id="kobo.2083.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2084.1">
      title
     </span>
    </code>
    <span class="koboSpan" id="kobo.2085.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2086.1">
      category
     </span>
    </code>
    <span class="koboSpan" id="kobo.2087.1">
     form controls are created using an empty string as the default value.
    </span>
    <span class="koboSpan" id="kobo.2087.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2088.1">
      price
     </span>
    </code>
    <span class="koboSpan" id="kobo.2089.1">
     form control follows a different approach from the rest because we cannot assign a default value of
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2090.1">
      undefined
     </span>
    </code>
    <span class="koboSpan" id="kobo.2091.1">
     due to TypeScript language limitations.
    </span>
    <span class="koboSpan" id="kobo.2091.2">
     In this case, we use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2092.1">
      control
     </span>
    </code>
    <span class="koboSpan" id="kobo.2093.1">
     method of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2094.1">
      nonNullable
     </span>
    </code>
    <span class="koboSpan" id="kobo.2095.1">
     property to define the form control.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="6">
     <span class="koboSpan" id="kobo.2096.1">
      Add the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2097.1">
       ngOnInit
      </span>
     </code>
     <span class="koboSpan" id="kobo.2098.1">
      lifecycle hook to execute the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2099.1">
       buildForm
      </span>
     </code>
     <span class="koboSpan" id="kobo.2100.1">
      method:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-title"><span class="koboSpan" id="kobo.2101.1">ngOnInit</span></span><span class="koboSpan" id="kobo.2102.1">(): </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.2103.1">void</span></span><span class="koboSpan" id="kobo.2104.1"> {
  </span><span class="hljs-variable"><span class="koboSpan" id="kobo.2105.1">this</span></span><span class="koboSpan" id="kobo.2106.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.2107.1">buildForm</span></span><span class="koboSpan" id="kobo.2108.1">();
}
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2109.1">
      Add the non-null assertion operator when accessing the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2110.1">
       productForm
      </span>
     </code>
     <span class="koboSpan" id="kobo.2111.1">
      property in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2112.1">
       createProduct
      </span>
     </code>
     <span class="koboSpan" id="kobo.2113.1">
      method:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-title"><span class="koboSpan" id="kobo.2114.1">createProduct</span></span><span class="koboSpan" id="kobo.2115.1">() {
  </span><span class="hljs-variable"><span class="koboSpan" id="kobo.2116.1">this</span></span><span class="koboSpan" id="kobo.2117.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.2118.1">productsService</span></span><span class="koboSpan" id="kobo.2119.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.2120.1">addProduct</span></span><span class="koboSpan" id="kobo.2121.1">(</span><span class="hljs-variable"><span class="koboSpan" id="kobo.2122.1">this</span></span><span class="koboSpan" id="kobo.2123.1">.</span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2124.1">productForm!</span></strong></span><span class="koboSpan" id="kobo.2125.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.2126.1">value</span></span><span class="koboSpan" id="kobo.2127.1">).</span><span class="hljs-title"><span class="koboSpan" id="kobo.2128.1">subscribe</span></span><span class="koboSpan" id="kobo.2129.1">(</span><span class="hljs-function"><span class="koboSpan" id="kobo.2130.1">() =&gt;</span></span><span class="koboSpan" id="kobo.2131.1"> {
    </span><span class="hljs-variable"><span class="koboSpan" id="kobo.2132.1">this</span></span><span class="koboSpan" id="kobo.2133.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.2134.1">router</span></span><span class="koboSpan" id="kobo.2135.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.2136.1">navigate</span></span><span class="koboSpan" id="kobo.2137.1">([</span><span class="hljs-string"><span class="koboSpan" id="kobo.2138.1">'/products'</span></span><span class="koboSpan" id="kobo.2139.1">]);
  });
}
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2140.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2141.1">
       product-create.component.html
      </span>
     </code>
     <span class="koboSpan" id="kobo.2142.1">
      file and add the non-null assertion
     </span>
     <a id="_idIndexMarker635">
     </a>
     <span class="koboSpan" id="kobo.2143.1">
      operator in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2144.1">
       &lt;form&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.2145.1">
      HTML element also:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-tag"><span class="koboSpan" id="kobo.2146.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2147.1">form</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2148.1"> [</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.2149.1">formGroup</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2150.1">]=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2151.1">"</span></span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2152.1">productForm!</span></strong></span><span class="hljs-string"><span class="koboSpan" id="kobo.2153.1">"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2154.1"> (</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.2155.1">ngSubmit</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2156.1">)=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2157.1">"createProduct()"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2158.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.2159.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2160.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2161.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.2162.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2163.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2164.1">for</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2165.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2166.1">"title"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2167.1">&gt;</span></span><span class="koboSpan" id="kobo.2168.1">Title</span><span class="hljs-tag"><span class="koboSpan" id="kobo.2169.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2170.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2171.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.2172.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2173.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2174.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2175.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2176.1">"title"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2177.1">formControlName</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2178.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2179.1">"title"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2180.1"> /&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.2181.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2182.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2183.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.2184.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2185.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2186.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.2187.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2188.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2189.1">for</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2190.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2191.1">"price"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2192.1">&gt;</span></span><span class="koboSpan" id="kobo.2193.1">Price</span><span class="hljs-tag"><span class="koboSpan" id="kobo.2194.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2195.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2196.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.2197.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2198.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2199.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2200.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2201.1">"</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2202.1">price"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2203.1">formControlName</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2204.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2205.1">"price"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2206.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2207.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2208.1">"number"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2209.1"> /&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.2210.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2211.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2212.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.2213.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2214.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2215.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.2216.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2217.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2218.1">for</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2219.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2220.1">"category"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2221.1">&gt;</span></span><span class="koboSpan" id="kobo.2222.1">Category</span><span class="hljs-tag"><span class="koboSpan" id="kobo.2223.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2224.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2225.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.2226.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2227.1">select</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2228.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2229.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2230.1">"category"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2231.1">formControlName</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2232.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2233.1">"</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2234.1">category"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2235.1">&gt;</span></span>
      <span class="hljs-tag"><span class="koboSpan" id="kobo.2236.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2237.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2238.1">&gt;</span></span><span class="koboSpan" id="kobo.2239.1">Select a category</span><span class="hljs-tag"><span class="koboSpan" id="kobo.2240.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2241.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2242.1">&gt;</span></span>
      <span class="hljs-tag"><span class="koboSpan" id="kobo.2243.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2244.1">option</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2245.1">value</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2246.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2247.1">"electronics"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2248.1">&gt;</span></span><span class="koboSpan" id="kobo.2249.1">Electronics</span><span class="hljs-tag"><span class="koboSpan" id="kobo.2250.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2251.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2252.1">&gt;</span></span>
      <span class="hljs-tag"><span class="koboSpan" id="kobo.2253.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2254.1">option</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2255.1">value</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2256.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2257.1">"jewelery"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2258.1">&gt;</span></span><span class="koboSpan" id="kobo.2259.1">Jewelery</span><span class="hljs-tag"><span class="koboSpan" id="kobo.2260.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2261.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2262.1">&gt;</span></span>
      <span class="hljs-tag"><span class="koboSpan" id="kobo.2263.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2264.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2265.1">&gt;</span></span><span class="koboSpan" id="kobo.2266.1">Other</span><span class="hljs-tag"><span class="koboSpan" id="kobo.2267.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2268.1">option</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2269.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.2270.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2271.1">select</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2272.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.2273.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2274.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2275.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.2276.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2277.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2278.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.2279.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2280.1">button</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2281.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2282.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2283.1">"</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2284.1">submit"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2285.1">&gt;</span></span><span class="koboSpan" id="kobo.2286.1">Create</span><span class="hljs-tag"><span class="koboSpan" id="kobo.2287.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2288.1">button</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2289.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.2290.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2291.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2292.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.2293.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2294.1">form</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2295.1">&gt;</span></span>
</code></pre>
    </li>
   </ol>
   <p class="normal">
    <span class="koboSpan" id="kobo.2296.1">
     Using the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2297.1">
      FormBuilder
     </span>
    </code>
    <span class="koboSpan" id="kobo.2298.1">
     service to create Angular forms, we don’t have to deal with the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2299.1">
      FormGroup
     </span>
    </code>
    <span class="koboSpan" id="kobo.2300.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2301.1">
      FormControl
     </span>
    </code>
    <span class="koboSpan" id="kobo.2302.1">
     data types explicitly, although that is what is being created under the hood.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.2303.1">
     Run the application using the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2304.1">
      ng serve
     </span>
    </code>
    <span class="koboSpan" id="kobo.2305.1">
     command and verify that the new product creation process works correctly.
    </span>
    <span class="koboSpan" id="kobo.2305.2">
     Try to click the
    </span>
    <strong class="screenText">
     <span class="koboSpan" id="kobo.2306.1">
      Create
     </span>
    </strong>
    <span class="koboSpan" id="kobo.2307.1">
     button without entering any values in the form controls and observe what happens in the product list.
    </span>
    <span class="koboSpan" id="kobo.2307.2">
     The application creates a product with an empty title.
    </span>
    <span class="koboSpan" id="kobo.2307.3">
     It is a situation that we should avoid in a real-world scenario.
    </span>
    <span class="koboSpan" id="kobo.2307.4">
     We should be aware of the status of a form control and take action accordingly.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <span class="koboSpan" id="kobo.2308.1">
      The example code in the rest of the chapter does not use the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2309.1">
       FormBuilder
      </span>
     </code>
     <span class="koboSpan" id="kobo.2310.1">
      service when working with reactive forms.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.2311.1">
     In the following
    </span>
    <a id="_idIndexMarker636">
    </a>
    <span class="koboSpan" id="kobo.2312.1">
     section, we’ll investigate different properties that we can check to get form status and provide feedback to the user.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-195">
    <span class="koboSpan" id="kobo.2313.1">
     Validating input in forms
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.2314.1">
     An Angular form
    </span>
    <a id="_idIndexMarker637">
    </a>
    <span class="koboSpan" id="kobo.2315.1">
     should validate input and provide visual feedback to enhance UX and guide users to complete the form successfully.
    </span>
    <span class="koboSpan" id="kobo.2315.2">
     We will investigate the following ways to validate forms in Angular applications:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.2316.1">
      Global validation with CSS
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.2317.1">
      Validation in the component class
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.2318.1">
      Validation in the component template
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.2319.1">
      Building custom validators
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.2320.1">
     In the following section, we will learn how to apply validation rules globally in an Angular application using CSS styles.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-196">
    <span class="koboSpan" id="kobo.2321.1">
     Global validation with CSS
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.2322.1">
     The Angular
    </span>
    <a id="_idIndexMarker638">
    </a>
    <span class="koboSpan" id="kobo.2323.1">
     framework sets the
    </span>
    <a id="_idIndexMarker639">
    </a>
    <span class="koboSpan" id="kobo.2324.1">
     following CSS classes automatically in a form, template-driven or reactive, that we can use to provide user feedback:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2325.1">
       ng-untouched
      </span>
     </code>
     <span class="koboSpan" id="kobo.2326.1">
      : Indicates that we have not interacted with a form yet
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2327.1">
       ng-touched
      </span>
     </code>
     <span class="koboSpan" id="kobo.2328.1">
      : Indicates that we have interacted with a form
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2329.1">
       ng-dirty
      </span>
     </code>
     <span class="koboSpan" id="kobo.2330.1">
      : Indicates that we have set a value to a form
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2331.1">
       ng-pristine
      </span>
     </code>
     <span class="koboSpan" id="kobo.2332.1">
      : Indicates that we have not modified a form yet
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.2333.1">
     Furthermore, Angular adds the following classes on the HTML element of a form control:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2334.1">
       ng-valid
      </span>
     </code>
     <span class="koboSpan" id="kobo.2335.1">
      : Indicates that the value of a form is valid
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2336.1">
       ng-invalid
      </span>
     </code>
     <span class="koboSpan" id="kobo.2337.1">
      : Indicates that the value of a form is not valid
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.2338.1">
     Angular sets the preceding CSS classes in the form and its controls according to their status.
    </span>
    <span class="koboSpan" id="kobo.2338.2">
     The form status is evaluated according to the status of its controls.
    </span>
    <span class="koboSpan" id="kobo.2338.3">
     For example, if at least one form control is invalid, Angular will set the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2339.1">
      ng-invalid
     </span>
    </code>
    <span class="koboSpan" id="kobo.2340.1">
     CSS class to the form and the corresponding control.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <span class="koboSpan" id="kobo.2341.1">
      In the case of nested form hierarchies, the status of a child form group is bubbled up to the hierarchy and shared with its parent form.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.2342.1">
     We can use the built-in CSS classes and style Angular forms using CSS only.
    </span>
    <span class="koboSpan" id="kobo.2342.2">
     For example, to display a light blue highlighted border in an input control when interacting with that control for the first time, we should add the following style:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-selector-tag"><span class="koboSpan" id="kobo.2343.1">input</span></span><span class="hljs-selector-class"><span class="koboSpan" id="kobo.2344.1">.ng-touched</span></span><span class="koboSpan" id="kobo.2345.1"> {
  </span><span class="hljs-attribute"><span class="koboSpan" id="kobo.2346.1">border</span></span><span class="koboSpan" id="kobo.2347.1">: </span><span class="hljs-number"><span class="koboSpan" id="kobo.2348.1">3px</span></span><span class="koboSpan" id="kobo.2349.1"> solid lightblue;
}
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.2350.1">
     We can also combine CSS classes according to the needs of our application:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.2351.1">
      Open the global
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2352.1">
       styles.css
      </span>
     </code>
     <span class="koboSpan" id="kobo.2353.1">
      file and modify the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2354.1">
       input.valid
      </span>
     </code>
     <span class="koboSpan" id="kobo.2355.1">
      style as follows:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-selector-tag"><span class="koboSpan" id="kobo.2356.1">input</span></span><span class="hljs-selector-class"><span class="koboSpan" id="kobo.2357.1">.valid</span></span><span class="koboSpan" id="kobo.2358.1">, </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2359.1">input.ng-dirty.ng-valid</span></strong></span><span class="koboSpan" id="kobo.2360.1"> {
  </span><span class="hljs-attribute"><span class="koboSpan" id="kobo.2361.1">border</span></span><span class="koboSpan" id="kobo.2362.1">: solid green;
}
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.2363.1">
     The preceding style will display a green border when an input control has a valid value entered by the user.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="2">
     <span class="koboSpan" id="kobo.2364.1">
      Modify the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2365.1">
       input.invalid
      </span>
     </code>
     <span class="koboSpan" id="kobo.2366.1">
      style accordingly:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-selector-tag"><span class="koboSpan" id="kobo.2367.1">input</span></span><span class="hljs-selector-class"><span class="koboSpan" id="kobo.2368.1">.invalid</span></span><span class="koboSpan" id="kobo.2369.1">, </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2370.1">input.ng-dirty.ng-invalid</span></strong></span><span class="koboSpan" id="kobo.2371.1"> {
  </span><span class="hljs-attribute"><span class="koboSpan" id="kobo.2372.1">border</span></span><span class="koboSpan" id="kobo.2373.1">: solid red;
}
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.2374.1">
     The preceding style will display a red border when an input control has an invalid value entered by the user.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="3">
     <span class="koboSpan" id="kobo.2375.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2376.1">
       product-create.component.html
      </span>
     </code>
     <span class="koboSpan" id="kobo.2377.1">
      file and add the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2378.1">
       required
      </span>
     </code>
     <span class="koboSpan" id="kobo.2379.1">
      attribute in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2380.1">
       &lt;input&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.2381.1">
      form controls:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-tag"><span class="koboSpan" id="kobo.2382.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2383.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2384.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.2385.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2386.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2387.1">for</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2388.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2389.1">"title"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2390.1">&gt;</span></span><span class="koboSpan" id="kobo.2391.1">Title</span><span class="hljs-tag"><span class="koboSpan" id="kobo.2392.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2393.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2394.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.2395.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2396.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2397.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2398.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2399.1">"title"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2400.1">formControlName</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2401.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2402.1">"title"</span></span><span class="hljs-tag"> </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2403.1">required</span></strong></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2404.1"> /&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.2405.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2406.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2407.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.2408.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2409.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2410.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.2411.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2412.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2413.1">for</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2414.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2415.1">"price"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2416.1">&gt;</span></span><span class="koboSpan" id="kobo.2417.1">Price</span><span class="hljs-tag"><span class="koboSpan" id="kobo.2418.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2419.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2420.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.2421.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2422.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2423.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2424.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2425.1">"price"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2426.1">formControlName</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2427.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2428.1">"price"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2429.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2430.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2431.1">"number"</span></span><span class="hljs-tag"> </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2432.1">required</span></strong></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2433.1"> /&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.2434.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2435.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2436.1">&gt;</span></span>
</code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2437.1">
      Run the application using the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2438.1">
       ng serve
      </span>
     </code>
     <span class="koboSpan" id="kobo.2439.1">
      command and navigate to
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2440.1">
       http://localhost:4200/products/new
      </span>
     </code>
     <span class="koboSpan" id="kobo.2441.1">
      .
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2442.1">
      Enter some text into the
     </span>
     <strong class="screenText">
      <span class="koboSpan" id="kobo.2443.1">
       Title
      </span>
     </strong>
     <span class="koboSpan" id="kobo.2444.1">
      field and click outside of the input control.
     </span>
     <span class="koboSpan" id="kobo.2444.2">
      Notice that it has a green border.
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2445.1">
      Remove the text from the
     </span>
     <strong class="screenText">
      <span class="koboSpan" id="kobo.2446.1">
       Title
      </span>
     </strong>
     <span class="koboSpan" id="kobo.2447.1">
      field and click outside of the input control.
     </span>
     <span class="koboSpan" id="kobo.2447.2">
      The border should now turn red.
     </span>
    </li>
   </ol>
   <p class="normal">
    <span class="koboSpan" id="kobo.2448.1">
     We learned how to define validation rules in the template using CSS styles.
    </span>
    <span class="koboSpan" id="kobo.2448.2">
     In the following section, we
    </span>
    <a id="_idIndexMarker640">
    </a>
    <span class="koboSpan" id="kobo.2449.1">
     will learn how to
    </span>
    <a id="_idIndexMarker641">
    </a>
    <span class="koboSpan" id="kobo.2450.1">
     define them in template-driven forms and give visual feedback using appropriate messages.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-197">
    <span class="koboSpan" id="kobo.2451.1">
     Validation in template-driven forms
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.2452.1">
     In the preceding
    </span>
    <a id="_idIndexMarker642">
    </a>
    <span class="koboSpan" id="kobo.2453.1">
     section, we
    </span>
    <a id="_idIndexMarker643">
    </a>
    <span class="koboSpan" id="kobo.2454.1">
     learned that Angular adds a collection of built-in CSS classes while validating Angular forms.
    </span>
    <span class="koboSpan" id="kobo.2454.2">
     Each class has a corresponding boolean property in the respective form model, both in template-drive and reactive forms:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2455.1">
       untouched
      </span>
     </code>
     <span class="koboSpan" id="kobo.2456.1">
      : Indicates that we have not interacted with a form yet
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2457.1">
       touched
      </span>
     </code>
     <span class="koboSpan" id="kobo.2458.1">
      : Indicates that we have interacted with a form
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2459.1">
       dirty
      </span>
     </code>
     <span class="koboSpan" id="kobo.2460.1">
      : Indicates that we have set a value to a form
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2461.1">
       pristine
      </span>
     </code>
     <span class="koboSpan" id="kobo.2462.1">
      : Indicates that we have not modified a form yet
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2463.1">
       valid
      </span>
     </code>
     <span class="koboSpan" id="kobo.2464.1">
      : Indicates that the value of a form is valid
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2465.1">
       invalid
      </span>
     </code>
     <span class="koboSpan" id="kobo.2466.1">
      : Indicates that the value of a form is not valid
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.2467.1">
     We can leverage the preceding classes and inform the user about the current form status.
    </span>
    <span class="koboSpan" id="kobo.2467.2">
     First, let’s investigate the behavior of the change price process in the product details component:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.2468.1">
      Run
     </span>
     <a id="_idIndexMarker644">
     </a>
     <span class="koboSpan" id="kobo.2469.1">
      the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2470.1">
       ng serve
      </span>
     </code>
     <span class="koboSpan" id="kobo.2471.1">
      command
     </span>
     <a id="_idIndexMarker645">
     </a>
     <span class="koboSpan" id="kobo.2472.1">
      to start the application and navigate to
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2473.1">
       http://localhost:4200
      </span>
     </code>
     <span class="koboSpan" id="kobo.2474.1">
      .
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2475.1">
      Select a product from the list.
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2476.1">
      Add a value of
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2477.1">
       0
      </span>
     </code>
     <span class="koboSpan" id="kobo.2478.1">
      into the
     </span>
     <strong class="screenText">
      <span class="koboSpan" id="kobo.2479.1">
       New price
      </span>
     </strong>
     <span class="koboSpan" id="kobo.2480.1">
      input box and click the
     </span>
     <strong class="screenText">
      <span class="koboSpan" id="kobo.2481.1">
       Change
      </span>
     </strong>
     <span class="koboSpan" id="kobo.2482.1">
      button.
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2483.1">
      Select the same product from the list and observe the output:
     </span>
    </li>
   </ol>
   <figure class="mediaobject">
    <span class="koboSpan" id="kobo.2484.1">
     <img alt="Εικόνα που περιέχει κείμενο, στιγμιότυπο οθόνης, γραμματοσειρά  Περιγραφή που δημιουργήθηκε αυτόματα" src="../Images/B21418_10_05.png"/>
    </span>
   </figure>
   <p class="packt_figref">
    <span class="koboSpan" id="kobo.2485.1">
     Figure 10.5: Product details
    </span>
   </p>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.2486.1">
     The presentation logic of the component fails to detect that the user can enter
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2487.1">
      0
     </span>
    </code>
    <span class="koboSpan" id="kobo.2488.1">
     for the product price.
    </span>
    <span class="koboSpan" id="kobo.2488.2">
     A product should always have a price.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.2489.1">
     The product details component needs to validate the input of the price value, and if the input is found to be invalid, disable the
    </span>
    <strong class="screenText">
     <span class="koboSpan" id="kobo.2490.1">
      Change
     </span>
    </strong>
    <span class="koboSpan" id="kobo.2491.1">
     button, and display an informational message to the user.
    </span>
   </p>
   <div class="packt_tip">
    <p class="normal">
     <span class="koboSpan" id="kobo.2492.1">
      Handling validation is a matter of personal preference or business specification.
     </span>
     <span class="koboSpan" id="kobo.2492.2">
      In this scenario, we decided to showcase a common validation approach by disabling the button and displaying an appropriate message.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.2493.1">
     Template-driven
    </span>
    <a id="_idIndexMarker646">
    </a>
    <span class="koboSpan" id="kobo.2494.1">
     validation
    </span>
    <a id="_idIndexMarker647">
    </a>
    <span class="koboSpan" id="kobo.2495.1">
     is performed in the component template.
    </span>
    <span class="koboSpan" id="kobo.2495.2">
     Open the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2496.1">
      product-detail.component.html
     </span>
    </code>
    <span class="koboSpan" id="kobo.2497.1">
     file and execute the following steps:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.2498.1">
      Create the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2499.1">
       priceCtrl
      </span>
     </code>
     <span class="koboSpan" id="kobo.2500.1">
      template reference variable and bind it to the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2501.1">
       ngModel
      </span>
     </code>
     <span class="koboSpan" id="kobo.2502.1">
      property:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-tag"><span class="koboSpan" id="kobo.2503.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2504.1">input</span></span>
<span class="hljs-tag">  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2505.1">placeholder</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2506.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2507.1">"New price"</span></span>
<span class="hljs-tag">  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2508.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2509.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2510.1">"number"</span></span>
<span class="hljs-tag">  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2511.1">name</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2512.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2513.1">"price"</span></span>
<span class="hljs-tag">  </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2514.1">#priceCtrl="ngModel"</span></strong></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.2515.1">  [(</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.2516.1">ngModel</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2517.1">)]=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2518.1">"price"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2519.1"> /&gt;</span></span>
</code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.2520.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2521.1">
      ngModel
     </span>
    </code>
    <span class="koboSpan" id="kobo.2522.1">
     property gives us access to the underlying form control model.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="2">
     <span class="koboSpan" id="kobo.2523.1">
      Add the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2524.1">
       required
      </span>
     </code>
     <span class="koboSpan" id="kobo.2525.1">
      and
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2526.1">
       min
      </span>
     </code>
     <span class="koboSpan" id="kobo.2527.1">
      validation attributes to the HTML element:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-tag"><span class="koboSpan" id="kobo.2528.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2529.1">input</span></span>
<span class="hljs-tag">  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2530.1">placeholder</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2531.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2532.1">"New price"</span></span>
<span class="hljs-tag">  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2533.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2534.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2535.1">"number"</span></span>
<span class="hljs-tag">  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2536.1">name</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2537.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2538.1">"price"</span></span>
<span class="hljs-tag">  </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2539.1">required min="1" </span></strong></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.2540.1">  #</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.2541.1">priceCtrl</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2542.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2543.1">"ngModel"</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.2544.1">  [(</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.2545.1">ngModel</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2546.1">)]=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2547.1">"</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2548.1">price"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2549.1"> /&gt;</span></span>
</code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.2550.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2551.1">
      min
     </span>
    </code>
    <span class="koboSpan" id="kobo.2552.1">
     validation attribute can be used only with
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2553.1">
      &lt;input&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.2554.1">
     HTML elements of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2555.1">
      number
     </span>
    </code>
    <span class="koboSpan" id="kobo.2556.1">
     type.
    </span>
    <span class="koboSpan" id="kobo.2556.2">
     It is used to define the minimum value when using the arrows of the numeric control.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="3">
     <span class="koboSpan" id="kobo.2557.1">
      Add the following
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2558.1">
       &lt;span&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.2559.1">
      HTML element underneath the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2560.1">
       &lt;button&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.2561.1">
      element of the form:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="koboSpan" id="kobo.2562.1">@if (priceCtrl.dirty &amp;&amp; (priceCtrl.invalid || priceCtrl.hasError('min'))) {
  </span><span class="hljs-tag"><span class="koboSpan" id="kobo.2563.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2564.1">span</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2565.1">class</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2566.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2567.1">"</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2568.1">help-text"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2569.1">&gt;</span></span><span class="koboSpan" id="kobo.2570.1">Please enter a valid price</span><span class="hljs-tag"><span class="koboSpan" id="kobo.2571.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2572.1">span</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2573.1">&gt;</span></span><span class="koboSpan" id="kobo.2574.1">
}
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.2575.1">
     The preceding HTML element will be displayed when we enter a price value and then either leave it blank or enter a zero.
    </span>
    <span class="koboSpan" id="kobo.2575.2">
     We use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2576.1">
      hasError
     </span>
    </code>
    <span class="koboSpan" id="kobo.2577.1">
     method of the form control model to check if the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2578.1">
      min
     </span>
    </code>
    <span class="koboSpan" id="kobo.2579.1">
     validation throws an error.
    </span>
   </p>
   <div class="note-one">
    <p class="normal">
     <span class="koboSpan" id="kobo.2580.1">
      All validation attributes can be checked using the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2581.1">
       hasError
      </span>
     </code>
     <span class="koboSpan" id="kobo.2582.1">
      method.
     </span>
     <span class="koboSpan" id="kobo.2582.2">
      The validity status of a control is evaluated based on the status of all validation attributes we attach to the HTML element.
     </span>
    </p>
   </div>
   <ol>
    <li class="numberedList" value="4">
     <span class="koboSpan" id="kobo.2583.1">
      Add
     </span>
     <a id="_idIndexMarker648">
     </a>
     <span class="koboSpan" id="kobo.2584.1">
      a
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2585.1">
       priceForm
      </span>
     </code>
     <span class="koboSpan" id="kobo.2586.1">
      template
     </span>
     <a id="_idIndexMarker649">
     </a>
     <span class="koboSpan" id="kobo.2587.1">
      reference variable in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2588.1">
       &lt;form&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.2589.1">
      HTML element and bind it to the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2590.1">
       ngForm
      </span>
     </code>
     <span class="koboSpan" id="kobo.2591.1">
      property:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-tag"><span class="koboSpan" id="kobo.2592.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2593.1">form</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2594.1"> (</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.2595.1">ngSubmit</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2596.1">)=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2597.1">"changePrice(product)"</span></span><span class="hljs-tag"> </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2598.1">#priceForm="ngForm"</span></strong></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2599.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.2600.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2601.1">input</span></span>
<span class="hljs-tag">    </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2602.1">placeholder</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2603.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2604.1">"New price"</span></span>
<span class="hljs-tag">    </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2605.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2606.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2607.1">"number"</span></span>
<span class="hljs-tag">    </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2608.1">name</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2609.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2610.1">"price"</span></span>
<span class="hljs-tag">    </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2611.1">required</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2612.1">min</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2613.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2614.1">"1"</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.2615.1">    #</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.2616.1">priceCtrl</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2617.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2618.1">"ngModel"</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.2619.1">    [(</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.2620.1">ngModel</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2621.1">)]=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2622.1">"price"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2623.1"> /&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.2624.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2625.1">button</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2626.1">class</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2627.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2628.1">"secondary"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2629.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2630.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2631.1">"submit"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2632.1">&gt;</span></span><span class="koboSpan" id="kobo.2633.1">Change</span><span class="hljs-tag"><span class="koboSpan" id="kobo.2634.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2635.1">button</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2636.1">&gt;</span></span><span class="koboSpan" id="kobo.2637.1">
  @if (priceCtrl.dirty &amp;&amp; (priceCtrl.invalid || priceCtrl.hasError('min'))) {
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.2638.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2639.1">span</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2640.1">class</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2641.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2642.1">"help-text"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2643.1">&gt;</span></span><span class="koboSpan" id="kobo.2644.1">Please enter a valid price</span><span class="hljs-tag"><span class="koboSpan" id="kobo.2645.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2646.1">span</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2647.1">&gt;</span></span><span class="koboSpan" id="kobo.2648.1">
  }    
</span><span class="hljs-tag"><span class="koboSpan" id="kobo.2649.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2650.1">form</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2651.1">&gt;</span></span>
</code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.2652.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2653.1">
      ngForm
     </span>
    </code>
    <span class="koboSpan" id="kobo.2654.1">
     property gives us access to the underlying form model.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="5">
     <span class="koboSpan" id="kobo.2655.1">
      Bind the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2656.1">
       disabled
      </span>
     </code>
     <span class="koboSpan" id="kobo.2657.1">
      property of the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2658.1">
       &lt;button&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.2659.1">
      HTML element to the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2660.1">
       invalid
      </span>
     </code>
     <span class="koboSpan" id="kobo.2661.1">
      status of the form model:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-tag"><span class="koboSpan" id="kobo.2662.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2663.1">button</span></span>
<span class="hljs-tag">  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2664.1">class</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2665.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2666.1">"secondary"</span></span>
<span class="hljs-tag">  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2667.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2668.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2669.1">"submit"</span></span>
<span class="hljs-tag">  </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2670.1">[disabled]="priceForm.invalid"&gt;</span></strong></span><span class="koboSpan" id="kobo.2671.1">
  Change
</span><span class="hljs-tag"><span class="koboSpan" id="kobo.2672.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2673.1">button</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2674.1">&gt;</span></span>
</code></pre>
     <div class="note-one">
      <p class="normal">
       <span class="koboSpan" id="kobo.2675.1">
        In the preceding template, we could bind directly to the
       </span>
       <code class="inlineCode">
        <span class="koboSpan" id="kobo.2676.1">
         priceCtrl.invalid
        </span>
       </code>
       <span class="koboSpan" id="kobo.2677.1">
        status since the form has only one control.
       </span>
       <span class="koboSpan" id="kobo.2677.2">
        We choose the form instead for demonstration purposes.
       </span>
      </p>
     </div>
    </li>
   </ol>
   <ol>
    <li class="numberedList" value="6">
     <span class="koboSpan" id="kobo.2678.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2679.1">
       styles.css
      </span>
     </code>
     <span class="koboSpan" id="kobo.2680.1">
      file and add the following CSS styles for the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2681.1">
       &lt;span&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.2682.1">
      tag and
     </span>
     <a id="_idIndexMarker650">
     </a>
     <span class="koboSpan" id="kobo.2683.1">
      the
     </span>
     <a id="_idIndexMarker651">
     </a>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2684.1">
       disabled
      </span>
     </code>
     <span class="koboSpan" id="kobo.2685.1">
      button:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-selector-class"><span class="koboSpan" id="kobo.2686.1">.help-text</span></span><span class="koboSpan" id="kobo.2687.1"> {
  </span><span class="hljs-attribute"><span class="koboSpan" id="kobo.2688.1">display</span></span><span class="koboSpan" id="kobo.2689.1">: flex;
  </span><span class="hljs-attribute"><span class="koboSpan" id="kobo.2690.1">color</span></span><span class="koboSpan" id="kobo.2691.1">: </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.2692.1">var</span></span><span class="koboSpan" id="kobo.2693.1">(--hot-red);
  </span><span class="hljs-attribute"><span class="koboSpan" id="kobo.2694.1">font-size</span></span><span class="koboSpan" id="kobo.2695.1">: </span><span class="hljs-number"><span class="koboSpan" id="kobo.2696.1">0.875rem</span></span><span class="koboSpan" id="kobo.2697.1">;
}
</span><span class="hljs-selector-tag"><span class="koboSpan" id="kobo.2698.1">button</span></span><span class="hljs-selector-pseudo"><span class="koboSpan" id="kobo.2699.1">:disabled</span></span><span class="koboSpan" id="kobo.2700.1"> {
  </span><span class="hljs-attribute"><span class="koboSpan" id="kobo.2701.1">background-color</span></span><span class="koboSpan" id="kobo.2702.1">: lightgrey;
  </span><span class="hljs-attribute"><span class="koboSpan" id="kobo.2703.1">cursor</span></span><span class="koboSpan" id="kobo.2704.1">: not-allowed;
}
</span></code></pre>
    </li>
   </ol>
   <p class="normal">
    <span class="koboSpan" id="kobo.2705.1">
     To verify that the validation works as intended, execute the following steps:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.2706.1">
      Run the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2707.1">
       ng serve
      </span>
     </code>
     <span class="koboSpan" id="kobo.2708.1">
      command to start the application and select a product from the list.
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2709.1">
      Enter
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2710.1">
       0
      </span>
     </code>
     <span class="koboSpan" id="kobo.2711.1">
      in the
     </span>
     <strong class="screenText">
      <span class="koboSpan" id="kobo.2712.1">
       New price
      </span>
     </strong>
     <span class="koboSpan" id="kobo.2713.1">
      input box and observe the output:
     </span>
    </li>
   </ol>
   <figure class="mediaobject">
    <span class="koboSpan" id="kobo.2714.1">
     <img alt="Εικόνα που περιέχει κείμενο, στιγμιότυπο οθόνης, γραμματοσειρά, αριθμός  Περιγραφή που δημιουργήθηκε αυτόματα" src="../Images/B21418_10_06.png"/>
    </span>
   </figure>
   <p class="packt_figref">
    <span class="koboSpan" id="kobo.2715.1">
     Figure 10.6: Validation error
    </span>
   </p>
   <ol>
    <li class="numberedList" value="3">
     <span class="koboSpan" id="kobo.2716.1">
      Enter a valid value and verify that the error message is gone and the
     </span>
     <strong class="screenText">
      <span class="koboSpan" id="kobo.2717.1">
       Change
      </span>
     </strong>
     <span class="koboSpan" id="kobo.2718.1">
      button is enabled.
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2719.1">
      Leave the
     </span>
     <strong class="screenText">
      <span class="koboSpan" id="kobo.2720.1">
       New price
      </span>
     </strong>
     <span class="koboSpan" id="kobo.2721.1">
      input box blank and verify that the error message is displayed again and the
     </span>
     <strong class="screenText">
      <span class="koboSpan" id="kobo.2722.1">
       Change
      </span>
     </strong>
     <span class="koboSpan" id="kobo.2723.1">
      button is disabled.
     </span>
    </li>
   </ol>
   <p class="normal">
    <span class="koboSpan" id="kobo.2724.1">
     Now that
    </span>
    <a id="_idIndexMarker652">
    </a>
    <span class="koboSpan" id="kobo.2725.1">
     we have learned how
    </span>
    <a id="_idIndexMarker653">
    </a>
    <span class="koboSpan" id="kobo.2726.1">
     to accomplish validation in template-driven forms, let’s see how to validate input data in reactive ones.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-198">
    <span class="koboSpan" id="kobo.2727.1">
     Validation in reactive forms
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.2728.1">
     Template-driven
    </span>
    <a id="_idIndexMarker654">
    </a>
    <span class="koboSpan" id="kobo.2729.1">
     forms rely
    </span>
    <a id="_idIndexMarker655">
    </a>
    <span class="koboSpan" id="kobo.2730.1">
     solely on the component template to perform validations.
    </span>
    <span class="koboSpan" id="kobo.2730.2">
     In reactive forms, the source of truth is our form model that resides in the TypeScript class of the component.
    </span>
    <span class="koboSpan" id="kobo.2730.3">
     We define validation rules in reactive forms when building the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2731.1">
      FormGroup
     </span>
    </code>
    <span class="koboSpan" id="kobo.2732.1">
     instance programmatically.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.2733.1">
     To demonstrate validation in reactive forms, we will add validation rules in the product create component:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.2734.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2735.1">
       product-create.component.ts
      </span>
     </code>
     <span class="koboSpan" id="kobo.2736.1">
      file and import the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2737.1">
       Validators
      </span>
     </code>
     <span class="koboSpan" id="kobo.2738.1">
      class from the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2739.1">
       @angular/forms
      </span>
     </code>
     <span class="koboSpan" id="kobo.2740.1">
      npm package:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.2741.1">import</span></span><span class="koboSpan" id="kobo.2742.1"> {
  </span><span class="hljs-title"><span class="koboSpan" id="kobo.2743.1">FormControl</span></span><span class="koboSpan" id="kobo.2744.1">,
  </span><span class="hljs-title"><span class="koboSpan" id="kobo.2745.1">FormGroup</span></span><span class="koboSpan" id="kobo.2746.1">,
  </span><span class="hljs-title"><span class="koboSpan" id="kobo.2747.1">ReactiveFormsModule</span></span><span class="koboSpan" id="kobo.2748.1">,
  </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2749.1">Validators</span></strong></span><span class="koboSpan" id="kobo.2750.1">
} </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.2751.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.2752.1">'@angular/forms'</span></span><span class="koboSpan" id="kobo.2753.1">;
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2754.1">
      Modify the declaration of the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2755.1">
       productForm
      </span>
     </code>
     <span class="koboSpan" id="kobo.2756.1">
      property so that the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2757.1">
       title
      </span>
     </code>
     <span class="koboSpan" id="kobo.2758.1">
      and
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2759.1">
       price
      </span>
     </code>
     <span class="koboSpan" id="kobo.2760.1">
      form controls pass a
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2761.1">
       validators
      </span>
     </code>
     <span class="koboSpan" id="kobo.2762.1">
      property in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2763.1">
       FormControl
      </span>
     </code>
     <span class="koboSpan" id="kobo.2764.1">
      instance:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="koboSpan" id="kobo.2765.1">productForm = </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.2766.1">new</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.2767.1">FormGroup</span></span><span class="koboSpan" id="kobo.2768.1">({
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2769.1">title</span></span><span class="koboSpan" id="kobo.2770.1">: </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.2771.1">new</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.2772.1">FormControl</span></span><span class="koboSpan" id="kobo.2773.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.2774.1">''</span></span><span class="koboSpan" id="kobo.2775.1">, {
    </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2776.1">nonNullable</span></span><span class="koboSpan" id="kobo.2777.1">: </span><span class="hljs-literal"><span class="koboSpan" id="kobo.2778.1">true</span></span><span class="koboSpan" id="kobo.2779.1">,
    </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2780.1">validators: Validators.required</span></strong></span><span class="koboSpan" id="kobo.2781.1">
  }),
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2782.1">price</span></span><span class="koboSpan" id="kobo.2783.1">: </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.2784.1">new</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.2785.1">FormControl</span></span><span class="koboSpan" id="kobo.2786.1">&lt;</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.2787.1">number</span></span><span class="koboSpan" id="kobo.2788.1"> | </span><span class="hljs-literal"><span class="koboSpan" id="kobo.2789.1">undefined</span></span><span class="koboSpan" id="kobo.2790.1">&gt;(</span><span class="hljs-literal"><span class="koboSpan" id="kobo.2791.1">undefined</span></span><span class="koboSpan" id="kobo.2792.1">, {
    </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2793.1">nonNullable</span></span><span class="koboSpan" id="kobo.2794.1">: </span><span class="hljs-literal"><span class="koboSpan" id="kobo.2795.1">true</span></span><span class="koboSpan" id="kobo.2796.1">,
    </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2797.1">validators: [Validators.required, Validators.min(1)]</span></strong></span><span class="koboSpan" id="kobo.2798.1">
  }),
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2799.1">category</span></span><span class="koboSpan" id="kobo.2800.1">: </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.2801.1">new</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.2802.1">FormControl</span></span><span class="koboSpan" id="kobo.2803.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.2804.1">''</span></span><span class="koboSpan" id="kobo.2805.1">, { </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2806.1">nonNullable</span></span><span class="koboSpan" id="kobo.2807.1">: </span><span class="hljs-literal"><span class="koboSpan" id="kobo.2808.1">true</span></span><span class="koboSpan" id="kobo.2809.1"> })
});
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.2810.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2811.1">
      Validators
     </span>
    </code>
    <span class="koboSpan" id="kobo.2812.1">
     class
    </span>
    <a id="_idIndexMarker656">
    </a>
    <span class="koboSpan" id="kobo.2813.1">
     contains
    </span>
    <a id="_idIndexMarker657">
    </a>
    <span class="koboSpan" id="kobo.2814.1">
     a static field for each validation rule available.
    </span>
    <span class="koboSpan" id="kobo.2814.2">
     It contains almost the same validator rules that are available for template-driven forms.
    </span>
    <span class="koboSpan" id="kobo.2814.3">
     We can combine multiple validators by adding them to an array, as indicated by the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2815.1">
      validators
     </span>
    </code>
    <span class="koboSpan" id="kobo.2816.1">
     property in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2817.1">
      price
     </span>
    </code>
    <span class="koboSpan" id="kobo.2818.1">
     form control.
    </span>
   </p>
   <div class="packt_tip-one">
    <p class="normal">
     <span class="koboSpan" id="kobo.2819.1">
      When we add a validator using the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2820.1">
       FormControl
      </span>
     </code>
     <span class="koboSpan" id="kobo.2821.1">
      class, we can remove the respective HTML attribute from the HTML template.
     </span>
     <span class="koboSpan" id="kobo.2821.2">
      However, it is recommended to keep it for accessibility purposes so that screen-reader applications can use it.
     </span>
    </p>
   </div>
   <ol>
    <li class="numberedList" value="3">
     <span class="koboSpan" id="kobo.2822.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2823.1">
       product-create.component.html
      </span>
     </code>
     <span class="koboSpan" id="kobo.2824.1">
      file and use the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2825.1">
       invalid
      </span>
     </code>
     <span class="koboSpan" id="kobo.2826.1">
      property of the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2827.1">
       productForm
      </span>
     </code>
     <span class="koboSpan" id="kobo.2828.1">
      property to disable the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2829.1">
       Create
      </span>
     </code>
     <span class="koboSpan" id="kobo.2830.1">
      button:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-tag"><span class="koboSpan" id="kobo.2831.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2832.1">button</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2833.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2834.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2835.1">"submit"</span></span><span class="hljs-tag"> </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2836.1">[disabled]="productForm.invalid"</span></strong></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2837.1">&gt;</span></span><span class="koboSpan" id="kobo.2838.1">Create</span><span class="hljs-tag"><span class="koboSpan" id="kobo.2839.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2840.1">button</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2841.1">&gt;</span></span>
</code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.2842.1">
      Add a
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2843.1">
       &lt;span&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.2844.1">
      HTML element in each
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2845.1">
       &lt;input&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.2846.1">
      form control to display an error message when the control has been touched, and the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2847.1">
       required
      </span>
     </code>
     <span class="koboSpan" id="kobo.2848.1">
      validation throws an error:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-tag"><span class="koboSpan" id="kobo.2849.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2850.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2851.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.2852.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2853.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2854.1">for</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2855.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2856.1">"title"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2857.1">&gt;</span></span><span class="koboSpan" id="kobo.2858.1">Title</span><span class="hljs-tag"><span class="koboSpan" id="kobo.2859.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2860.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2861.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.2862.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2863.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2864.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2865.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2866.1">"title"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2867.1">formControlName</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2868.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2869.1">"title"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2870.1">required</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2871.1"> /&gt;</span></span>
  <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2872.1">@if (productForm.controls.title.touched &amp;&amp; productForm.controls.title.invalid) {</span></strong></span>
    <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2873.1">&lt;span class="help-text"&gt;Title is required&lt;/span&gt;</span></strong></span>
  <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2874.1">}</span></strong></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.2875.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2876.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2877.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.2878.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2879.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2880.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.2881.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2882.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2883.1">for</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2884.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2885.1">"price"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2886.1">&gt;</span></span><span class="koboSpan" id="kobo.2887.1">Price</span><span class="hljs-tag"><span class="koboSpan" id="kobo.2888.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2889.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2890.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.2891.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2892.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2893.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2894.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2895.1">"price"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2896.1">formControlName</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2897.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2898.1">"price"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2899.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2900.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2901.1">"number"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2902.1">required</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2903.1"> /&gt;</span></span>
  <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2904.1">@if (productForm.controls.price.touched &amp;&amp; productForm.controls.price.invalid) {</span></strong></span>
<code class="codeHighlighted" style="font-weight: bold;">    </code><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2905.1">&lt;span class="help-text"&gt;Price is required&lt;/span&gt;</span></strong></span>
<code class="codeHighlighted" style="font-weight: bold;">  </code><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2906.1">}</span></strong></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.2907.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2908.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2909.1">&gt;</span></span>
</code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.2910.1">
     In the
    </span>
    <a id="_idIndexMarker658">
    </a>
    <span class="koboSpan" id="kobo.2911.1">
     preceding
    </span>
    <a id="_idIndexMarker659">
    </a>
    <span class="koboSpan" id="kobo.2912.1">
     snippet, we use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2913.1">
      controls
     </span>
    </code>
    <span class="koboSpan" id="kobo.2914.1">
     property of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2915.1">
      productForm
     </span>
    </code>
    <span class="koboSpan" id="kobo.2916.1">
     property to get access to the individual form control models and get their statuses.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="5">
     <span class="koboSpan" id="kobo.2917.1">
      It would be nice to display different messages depending on the validation rule.
     </span>
     <span class="koboSpan" id="kobo.2917.2">
      We could display a more specific message when the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2918.1">
       min
      </span>
     </code>
     <span class="koboSpan" id="kobo.2919.1">
      validation of the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2920.1">
       price
      </span>
     </code>
     <span class="koboSpan" id="kobo.2921.1">
      control throws an error, for example.
     </span>
     <span class="koboSpan" id="kobo.2921.2">
      We can use the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2922.1">
       hasError
      </span>
     </code>
     <span class="koboSpan" id="kobo.2923.1">
      method that we saw in the preceding section to display such a message:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-tag"><span class="koboSpan" id="kobo.2924.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2925.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2926.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.2927.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2928.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2929.1">for</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2930.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2931.1">"price"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2932.1">&gt;</span></span><span class="koboSpan" id="kobo.2933.1">Price</span><span class="hljs-tag"><span class="koboSpan" id="kobo.2934.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2935.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2936.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.2937.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2938.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2939.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2940.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2941.1">"price"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2942.1">formControlName</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2943.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2944.1">"price"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2945.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2946.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.2947.1">"number"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.2948.1">required</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2949.1"> /&gt;</span></span>
  <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2950.1">@if (productForm.controls.price.touched &amp;&amp; productForm.controls.price.hasError('required')) {</span></strong></span>
    <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2951.1">&lt;span class="help-text"&gt;Price is required&lt;/span&gt;</span></strong></span>
  <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2952.1">}</span></strong></span>
  <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2953.1">@if (productForm.controls.price.touched &amp;&amp; productForm.controls.price.hasError('min')) {</span></strong></span>
    <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2954.1">&lt;span class="help-text"&gt;Price should be greater than 0&lt;/span&gt;</span></strong></span>
  <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.2955.1">}</span></strong></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.2956.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.2957.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.2958.1">&gt;</span></span>
</code></pre>
    </li>
   </ol>
   <p class="normal">
    <span class="koboSpan" id="kobo.2959.1">
     The Angular framework provides a set of built-in validators that we learned to use in our forms.
    </span>
    <span class="koboSpan" id="kobo.2959.2">
     In the
    </span>
    <a id="_idIndexMarker660">
    </a>
    <span class="koboSpan" id="kobo.2960.1">
     following
    </span>
    <a id="_idIndexMarker661">
    </a>
    <span class="koboSpan" id="kobo.2961.1">
     section, we will learn how to create a custom validator for template-driven and reactive forms to satisfy particular business needs.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-199">
    <span class="koboSpan" id="kobo.2962.1">
     Building custom validators
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.2963.1">
     Built-in validators
    </span>
    <a id="_idIndexMarker662">
    </a>
    <span class="koboSpan" id="kobo.2964.1">
     won’t cover
    </span>
    <a id="_idIndexMarker663">
    </a>
    <span class="koboSpan" id="kobo.2965.1">
     all the scenarios we might encounter in an Angular application; however, writing a custom validator and using it in an Angular form is easy.
    </span>
    <span class="koboSpan" id="kobo.2965.2">
     In our case, we will build a validator to check that the price of a product cannot exceed a specified threshold.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <span class="koboSpan" id="kobo.2966.1">
      We could use the built-in
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2967.1">
       max
      </span>
     </code>
     <span class="koboSpan" id="kobo.2968.1">
      validator to accomplish the same task.
     </span>
     <span class="koboSpan" id="kobo.2968.2">
      However, we will be building the validator function for learning purposes.
     </span>
    </p>
    <p class="normal">
     <span class="koboSpan" id="kobo.2969.1">
      Custom validators are used when we want to validate a form or a control with custom code.
     </span>
     <span class="koboSpan" id="kobo.2969.2">
      For example, to communicate with an API for validating a value, or to perform a complex calculation for validating a value.
     </span>
    </p>
   </div>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.2970.1">
      Create a file named
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2971.1">
       price-maximum.validator.ts
      </span>
     </code>
     <span class="koboSpan" id="kobo.2972.1">
      in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2973.1">
       src\app
      </span>
     </code>
     <span class="koboSpan" id="kobo.2974.1">
      folder and add the following contents:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.2975.1">import</span></span><span class="koboSpan" id="kobo.2976.1"> { </span><span class="hljs-title"><span class="koboSpan" id="kobo.2977.1">ValidatorFn</span></span><span class="koboSpan" id="kobo.2978.1">, </span><span class="hljs-title"><span class="koboSpan" id="kobo.2979.1">AbstractControl</span></span><span class="koboSpan" id="kobo.2980.1">, </span><span class="hljs-title"><span class="koboSpan" id="kobo.2981.1">ValidationErrors</span></span><span class="koboSpan" id="kobo.2982.1"> } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.2983.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.2984.1">'@angular/forms'</span></span><span class="koboSpan" id="kobo.2985.1">;
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.2986.1">export</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.2987.1">function</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.2988.1">priceMaximumValidator</span></span><span class="koboSpan" id="kobo.2989.1">(</span><span class="hljs-attr"><span class="koboSpan" id="kobo.2990.1">price</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.2991.1">: </span></span><span class="hljs-built_in"><span class="koboSpan" id="kobo.2992.1">number</span></span><span class="koboSpan" id="kobo.2993.1">): </span><span class="hljs-title"><span class="koboSpan" id="kobo.2994.1">ValidatorFn</span></span><span class="koboSpan" id="kobo.2995.1"> {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.2996.1">return</span></span><span class="koboSpan" id="kobo.2997.1"> (</span><span class="hljs-attr"><span class="koboSpan" id="kobo.2998.1">control</span></span><span class="koboSpan" id="kobo.2999.1">: </span><span class="hljs-title"><span class="koboSpan" id="kobo.3000.1">AbstractControl</span></span><span class="koboSpan" id="kobo.3001.1">): </span><span class="hljs-title"><span class="koboSpan" id="kobo.3002.1">ValidationErrors</span></span><span class="koboSpan" id="kobo.3003.1"> | </span><span class="hljs-params"><span class="koboSpan" id="kobo.3004.1">null</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.3005.1"> =&gt;</span></span><span class="koboSpan" id="kobo.3006.1"> {
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.3007.1">const</span></span><span class="koboSpan" id="kobo.3008.1"> isMax = control.</span><span class="hljs-property"><span class="koboSpan" id="kobo.3009.1">value</span></span><span class="koboSpan" id="kobo.3010.1"> &lt;= price;
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.3011.1">return</span></span><span class="koboSpan" id="kobo.3012.1"> isMax ? </span><span class="hljs-literal"><span class="koboSpan" id="kobo.3013.1">null</span></span><span class="koboSpan" id="kobo.3014.1"> : { </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3015.1">priceMaximum</span></span><span class="koboSpan" id="kobo.3016.1">: </span><span class="hljs-literal"><span class="koboSpan" id="kobo.3017.1">true</span></span><span class="koboSpan" id="kobo.3018.1"> };
  };
}
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.3019.1">
     A form validator is a function that returns a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3020.1">
      ValidationErrors
     </span>
    </code>
    <span class="koboSpan" id="kobo.3021.1">
     object with the error specified or a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3022.1">
      null
     </span>
    </code>
    <span class="koboSpan" id="kobo.3023.1">
     value.
    </span>
    <span class="koboSpan" id="kobo.3023.2">
     It accepts the form control to which it will be applied as a parameter.
    </span>
    <span class="koboSpan" id="kobo.3023.3">
     In the preceding snippet, if the control value is larger than a specific threshold passed in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3024.1">
      price
     </span>
    </code>
    <span class="koboSpan" id="kobo.3025.1">
     parameter of the exported function, it returns a validation error object.
    </span>
    <span class="koboSpan" id="kobo.3025.2">
     Otherwise, it returns
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3026.1">
      null
     </span>
    </code>
    <span class="koboSpan" id="kobo.3027.1">
     .
    </span>
   </p>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.3028.1">
     The key of the validation error object specifies a descriptive name for the validator error.
    </span>
    <span class="koboSpan" id="kobo.3028.2">
     It is a name we can later check with the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3029.1">
      hasError
     </span>
    </code>
    <span class="koboSpan" id="kobo.3030.1">
     method of the control to find out if it has any errors.
    </span>
    <span class="koboSpan" id="kobo.3030.2">
     The value of the validation error object can be any arbitrary value that we can pass in the error message.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="2">
     <span class="koboSpan" id="kobo.3031.1">
      Open
     </span>
     <a id="_idIndexMarker664">
     </a>
     <span class="koboSpan" id="kobo.3032.1">
      the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3033.1">
       product-create.component.ts
      </span>
     </code>
     <span class="koboSpan" id="kobo.3034.1">
      file and
     </span>
     <a id="_idIndexMarker665">
     </a>
     <span class="koboSpan" id="kobo.3035.1">
      add the following
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3036.1">
       import
      </span>
     </code>
     <span class="koboSpan" id="kobo.3037.1">
      statement:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.3038.1">import</span></span><span class="koboSpan" id="kobo.3039.1"> { priceMaximumValidator } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.3040.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.3041.1">'../price-maximum.validator'</span></span><span class="koboSpan" id="kobo.3042.1">;
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.3043.1">
      Add the validator in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3044.1">
       validators
      </span>
     </code>
     <span class="koboSpan" id="kobo.3045.1">
      array of the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3046.1">
       price
      </span>
     </code>
     <span class="koboSpan" id="kobo.3047.1">
      form control and set the threshold to
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3048.1">
       1000
      </span>
     </code>
     <span class="koboSpan" id="kobo.3049.1">
      :
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-attr"><span class="koboSpan" id="kobo.3050.1">price</span></span><span class="koboSpan" id="kobo.3051.1">: </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.3052.1">new</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.3053.1">FormControl</span></span><span class="koboSpan" id="kobo.3054.1">&lt;</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.3055.1">number</span></span><span class="koboSpan" id="kobo.3056.1"> | </span><span class="hljs-literal"><span class="koboSpan" id="kobo.3057.1">undefined</span></span><span class="koboSpan" id="kobo.3058.1">&gt;(</span><span class="hljs-literal"><span class="koboSpan" id="kobo.3059.1">undefined</span></span><span class="koboSpan" id="kobo.3060.1">, {
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3061.1">nonNullable</span></span><span class="koboSpan" id="kobo.3062.1">: </span><span class="hljs-literal"><span class="koboSpan" id="kobo.3063.1">true</span></span><span class="koboSpan" id="kobo.3064.1">,
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3065.1">validators</span></span><span class="koboSpan" id="kobo.3066.1">: [
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.3067.1">Validators</span></span><span class="koboSpan" id="kobo.3068.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.3069.1">required</span></span><span class="koboSpan" id="kobo.3070.1">,
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.3071.1">Validators</span></span><span class="koboSpan" id="kobo.3072.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.3073.1">min</span></span><span class="koboSpan" id="kobo.3074.1">(</span><span class="hljs-number"><span class="koboSpan" id="kobo.3075.1">1</span></span><span class="koboSpan" id="kobo.3076.1">),
    </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.3077.1">priceMaximumValidator(1000)</span></strong></span><span class="koboSpan" id="kobo.3078.1">
  ]
})
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.3079.1">
      Add a new
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3080.1">
       &lt;span&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.3081.1">
      HTML element for the price form control in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3082.1">
       product-create.component.html
      </span>
     </code>
     <span class="koboSpan" id="kobo.3083.1">
      file:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-tag"><span class="koboSpan" id="kobo.3084.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.3085.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3086.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.3087.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.3088.1">label</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3089.1">for</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3090.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3091.1">"price"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3092.1">&gt;</span></span><span class="koboSpan" id="kobo.3093.1">Price</span><span class="hljs-tag"><span class="koboSpan" id="kobo.3094.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.3095.1">label</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3096.1">&gt;</span></span>
  <span class="hljs-tag"><span class="koboSpan" id="kobo.3097.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.3098.1">input</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3099.1">id</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3100.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3101.1">"price"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3102.1">formControlName</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3103.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3104.1">"price"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3105.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3106.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3107.1">"number"</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3108.1">required</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3109.1"> /&gt;</span></span><span class="koboSpan" id="kobo.3110.1">
  @if (productForm.controls.price.touched &amp;&amp; productForm.controls.price.hasError('required')) {
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.3111.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.3112.1">span</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3113.1">class</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3114.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3115.1">"help-text"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3116.1">&gt;</span></span><span class="koboSpan" id="kobo.3117.1">Price is required</span><span class="hljs-tag"><span class="koboSpan" id="kobo.3118.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.3119.1">span</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3120.1">&gt;</span></span><span class="koboSpan" id="kobo.3121.1">
  }
  @if (productForm.controls.price.touched &amp;&amp; productForm.controls.price.hasError('min')) {
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.3122.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.3123.1">span</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3124.1">class</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3125.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3126.1">"help-text"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3127.1">&gt;</span></span><span class="koboSpan" id="kobo.3128.1">Price should be greater than 0</span><span class="hljs-tag"><span class="koboSpan" id="kobo.3129.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.3130.1">span</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3131.1">&gt;</span></span><span class="koboSpan" id="kobo.3132.1">
  }
  </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.3133.1">@if (productForm.controls.price.touched &amp;&amp; productForm.controls.price.hasError('priceMaximum')) {</span></strong></span>
    <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.3134.1">&lt;span class="help-text"&gt;Price must be smaller or equal to 1000&lt;/span&gt;</span></strong></span><span class="koboSpan" id="kobo.3135.1">
  }
</span><span class="hljs-tag"><span class="koboSpan" id="kobo.3136.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.3137.1">div</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3138.1">&gt;</span></span>
</code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.3139.1">
      Run the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3140.1">
       ng
      </span>
     </code>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3141.1">
       serve
      </span>
     </code>
     <span class="koboSpan" id="kobo.3142.1">
      command
     </span>
     <a id="_idIndexMarker666">
     </a>
     <span class="koboSpan" id="kobo.3143.1">
      to start
     </span>
     <a id="_idIndexMarker667">
     </a>
     <span class="koboSpan" id="kobo.3144.1">
      the application and navigate to
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3145.1">
       http://localhost:4200/products/new
      </span>
     </code>
     <span class="koboSpan" id="kobo.3146.1">
      .
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.3147.1">
      Enter a value of
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3148.1">
       1200
      </span>
     </code>
     <span class="koboSpan" id="kobo.3149.1">
      in the
     </span>
     <strong class="screenText">
      <span class="koboSpan" id="kobo.3150.1">
       Price
      </span>
     </strong>
     <span class="koboSpan" id="kobo.3151.1">
      field, click outside the input box, and observe the output:
     </span>
    </li>
   </ol>
   <figure class="mediaobject">
    <span class="koboSpan" id="kobo.3152.1">
     <img alt="Εικόνα που περιέχει κείμενο, στιγμιότυπο οθόνης, γραμματοσειρά, αριθμός  Περιγραφή που δημιουργήθηκε αυτόματα" src="../Images/B21418_10_07.png"/>
    </span>
   </figure>
   <p class="packt_figref">
    <span class="koboSpan" id="kobo.3153.1">
     Figure 10.7: Validation in reactive forms
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.3154.1">
     To use the price maximum validator in a template-driven form, we must follow a different approach that involves creating an Angular directive:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.3155.1">
      Run the following command to create an Angular directive:
     </span>
     <pre class="programlisting con-one"><code class="hljs-con"><span class="koboSpan" id="kobo.3156.1">ng generate directive price-maximum
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.3157.1">
     The preceding directive will act as a wrapper over the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3158.1">
      priceMaximumValidator
     </span>
    </code>
    <span class="koboSpan" id="kobo.3159.1">
     function we have already created.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="2">
     <span class="koboSpan" id="kobo.3160.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3161.1">
       price-maximum.directive.ts
      </span>
     </code>
     <span class="koboSpan" id="kobo.3162.1">
      file and modify the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3163.1">
       import
      </span>
     </code>
     <span class="koboSpan" id="kobo.3164.1">
      statements as follows:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.3165.1">import</span></span><span class="koboSpan" id="kobo.3166.1"> { </span><span class="hljs-title"><span class="koboSpan" id="kobo.3167.1">Directive</span></span><span class="koboSpan" id="kobo.3168.1">, </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.3169.1">input, numberAttribute</span></strong></span><span class="koboSpan" id="kobo.3170.1"> } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.3171.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.3172.1">'@angular/core'</span></span><span class="koboSpan" id="kobo.3173.1">;
</span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.3174.1">import { AbstractControl, NG_VALIDATORS, ValidationErrors, Validator</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.3175.1">} from '@angular/forms';</span></strong></span> 
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.3176.1">import { priceMaximumValidator } from './price-maximum.validator';</span></strong></span>
</code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.3177.1">
      Add
     </span>
     <a id="_idIndexMarker668">
     </a>
     <span class="koboSpan" id="kobo.3178.1">
      the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3179.1">
       NG_VALIDATORS
      </span>
     </code>
     <span class="koboSpan" id="kobo.3180.1">
      provider
     </span>
     <a id="_idIndexMarker669">
     </a>
     <span class="koboSpan" id="kobo.3181.1">
      in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3182.1">
       @Directive
      </span>
     </code>
     <span class="koboSpan" id="kobo.3183.1">
      decorator:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-meta"><span class="koboSpan" id="kobo.3184.1">@Directive</span></span><span class="koboSpan" id="kobo.3185.1">({
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3186.1">selector</span></span><span class="koboSpan" id="kobo.3187.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.3188.1">'</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3189.1">[appPriceMaximum]'</span></span><span class="koboSpan" id="kobo.3190.1">,
  </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.3191.1">providers: [</span></strong></span>
    <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.3192.1">{</span></strong></span>
      <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.3193.1">provide: NG_VALIDATORS,</span></strong></span>
      <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.3194.1">useExisting: PriceMaximumDirective,</span></strong></span>
      <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.3195.1">multi: true</span></strong></span>
    <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.3196.1">}</span></strong></span>
  <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.3197.1">]</span></strong></span><span class="koboSpan" id="kobo.3198.1">
})
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.3199.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3200.1">
      NG_VALIDATORS
     </span>
    </code>
    <span class="koboSpan" id="kobo.3201.1">
     token is a built-in token of Angular forms that helps us register an Angular directive as a form validator.
    </span>
    <span class="koboSpan" id="kobo.3201.2">
     In the preceding snippet, we use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3202.1">
      multi
     </span>
    </code>
    <span class="koboSpan" id="kobo.3203.1">
     property in the provider configuration because we can register multiple directives with the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3204.1">
      NG_VALIDATORS
     </span>
    </code>
    <span class="koboSpan" id="kobo.3205.1">
     token.
    </span>
   </p>
   <ol>
    <li class="numberedList" value="4">
     <span class="koboSpan" id="kobo.3206.1">
      Add the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3207.1">
       Validator
      </span>
     </code>
     <span class="koboSpan" id="kobo.3208.1">
      interface in the implemented interfaces of the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3209.1">
       PriceMaximumDirective
      </span>
     </code>
     <span class="koboSpan" id="kobo.3210.1">
      class:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.3211.1">export</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.3212.1">class</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.3213.1">PriceMaximumDirective</span></span> <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.3214.1">implements Validator</span></strong></span>
</code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.3215.1">
      Add the following input property that will be used to pass a value for the maximum threshold:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="koboSpan" id="kobo.3216.1">appPriceMaximum = </span><span class="hljs-title"><span class="koboSpan" id="kobo.3217.1">input</span></span><span class="koboSpan" id="kobo.3218.1">(</span><span class="hljs-literal"><span class="koboSpan" id="kobo.3219.1">undefined</span></span><span class="koboSpan" id="kobo.3220.1">, {
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3221.1">alias</span></span><span class="koboSpan" id="kobo.3222.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.3223.1">'threshold'</span></span><span class="koboSpan" id="kobo.3224.1">,
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3225.1">transform</span></span><span class="koboSpan" id="kobo.3226.1">: numberAttribute
});
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.3227.1">
     In the preceding property, we pass a configuration object with two properties as a parameter in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3228.1">
      input
     </span>
    </code>
    <span class="koboSpan" id="kobo.3229.1">
     function.
    </span>
    <span class="koboSpan" id="kobo.3229.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3230.1">
      alias
     </span>
    </code>
    <span class="koboSpan" id="kobo.3231.1">
     property defines the name of the input property that we will use for binding.
    </span>
    <span class="koboSpan" id="kobo.3231.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3232.1">
      transform
     </span>
    </code>
    <span class="koboSpan" id="kobo.3233.1">
     property is used to convert the value of the input property to a different type.
    </span>
    <span class="koboSpan" id="kobo.3233.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3234.1">
      numberAttribute
     </span>
    </code>
    <span class="koboSpan" id="kobo.3235.1">
     is a built-in function of the Angular framework that converts the input property value to a number.
    </span>
   </p>
   <div class="packt_tip-one">
    <p class="normal">
     <span class="koboSpan" id="kobo.3236.1">
      Angular also contains the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3237.1">
       booleanAttribute
      </span>
     </code>
     <span class="koboSpan" id="kobo.3238.1">
      function, which parses an input property value as a boolean.
     </span>
    </p>
   </div>
   <ol>
    <li class="numberedList" value="6">
     <span class="koboSpan" id="kobo.3239.1">
      Implement
     </span>
     <a id="_idIndexMarker670">
     </a>
     <span class="koboSpan" id="kobo.3240.1">
      the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3241.1">
       validate
      </span>
     </code>
     <span class="koboSpan" id="kobo.3242.1">
      method
     </span>
     <a id="_idIndexMarker671">
     </a>
     <span class="koboSpan" id="kobo.3243.1">
      of the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3244.1">
       Validator
      </span>
     </code>
     <span class="koboSpan" id="kobo.3245.1">
      interface as follows:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-title"><span class="koboSpan" id="kobo.3246.1">validate</span></span><span class="koboSpan" id="kobo.3247.1">(</span><span class="hljs-attr"><span class="koboSpan" id="kobo.3248.1">control</span></span><span class="koboSpan" id="kobo.3249.1">: </span><span class="hljs-title"><span class="koboSpan" id="kobo.3250.1">AbstractControl</span></span><span class="koboSpan" id="kobo.3251.1">): </span><span class="hljs-title"><span class="koboSpan" id="kobo.3252.1">ValidationErrors</span></span><span class="koboSpan" id="kobo.3253.1"> | </span><span class="hljs-literal"><span class="koboSpan" id="kobo.3254.1">null</span></span><span class="koboSpan" id="kobo.3255.1"> {
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.3256.1">return</span></span> <span class="hljs-variable"><span class="koboSpan" id="kobo.3257.1">this</span></span><span class="koboSpan" id="kobo.3258.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.3259.1">appPriceMaximum</span></span><span class="koboSpan" id="kobo.3260.1">
    ? </span><span class="hljs-title"><span class="koboSpan" id="kobo.3261.1">priceMaximumValidator</span></span><span class="koboSpan" id="kobo.3262.1">(</span><span class="hljs-variable"><span class="koboSpan" id="kobo.3263.1">this</span></span><span class="koboSpan" id="kobo.3264.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.3265.1">appPriceMaximum</span></span><span class="koboSpan" id="kobo.3266.1">()!)(control)
    : </span><span class="hljs-literal"><span class="koboSpan" id="kobo.3267.1">null</span></span><span class="koboSpan" id="kobo.3268.1">;
}
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.3269.1">
     The signature of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3270.1">
      validate
     </span>
    </code>
    <span class="koboSpan" id="kobo.3271.1">
     method is the same as the function returned from the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3272.1">
      priceMaximumValidator
     </span>
    </code>
    <span class="koboSpan" id="kobo.3273.1">
     function.
    </span>
    <span class="koboSpan" id="kobo.3273.2">
     It checks the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3274.1">
      appPriceMaximum
     </span>
    </code>
    <span class="koboSpan" id="kobo.3275.1">
     input property and accordingly delegates its value to the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3276.1">
      priceMaximumValidator
     </span>
    </code>
    <span class="koboSpan" id="kobo.3277.1">
     function.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.3278.1">
     We will use the new directive we created in the product detail component:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.3279.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3280.1">
       product-detail.component.ts
      </span>
     </code>
     <span class="koboSpan" id="kobo.3281.1">
      file and add the following
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3282.1">
       import
      </span>
     </code>
     <span class="koboSpan" id="kobo.3283.1">
      statement:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.3284.1">import</span></span><span class="koboSpan" id="kobo.3285.1"> { </span><span class="hljs-title"><span class="koboSpan" id="kobo.3286.1">PriceMaximumDirective</span></span><span class="koboSpan" id="kobo.3287.1"> } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.3288.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.3289.1">'../price-maximum.directive'</span></span><span class="koboSpan" id="kobo.3290.1">;
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.3291.1">
      Add the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3292.1">
       PriceMaximumDirective
      </span>
     </code>
     <span class="koboSpan" id="kobo.3293.1">
      class in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3294.1">
       imports
      </span>
     </code>
     <span class="koboSpan" id="kobo.3295.1">
      array of the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3296.1">
       @Component
      </span>
     </code>
     <span class="koboSpan" id="kobo.3297.1">
      decorator:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-meta"><span class="koboSpan" id="kobo.3298.1">@Component</span></span><span class="koboSpan" id="kobo.3299.1">({
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3300.1">selector</span></span><span class="koboSpan" id="kobo.3301.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.3302.1">'app-product-detail'</span></span><span class="koboSpan" id="kobo.3303.1">,
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3304.1">imports</span></span><span class="koboSpan" id="kobo.3305.1">: [
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.3306.1">CommonModule</span></span><span class="koboSpan" id="kobo.3307.1">,
    </span><span class="hljs-title"><span class="koboSpan" id="kobo.3308.1">FormsModule</span></span><span class="koboSpan" id="kobo.3309.1">,
    </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.3310.1">PriceMaximumDirective</span></strong></span><span class="koboSpan" id="kobo.3311.1">
  ],
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3312.1">templateUrl</span></span><span class="koboSpan" id="kobo.3313.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.3314.1">'./product-detail.component.html'</span></span><span class="koboSpan" id="kobo.3315.1">,
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3316.1">styleUrl</span></span><span class="koboSpan" id="kobo.3317.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.3318.1">'./product-detail.component.css'</span></span><span class="koboSpan" id="kobo.3319.1">
})
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.3320.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3321.1">
       product-detail.component.html
      </span>
     </code>
     <span class="koboSpan" id="kobo.3322.1">
      file and add the new validator in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3323.1">
       &lt;input&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.3324.1">
      HTML element:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-tag"><span class="koboSpan" id="kobo.3325.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.3326.1">input</span></span>
<span class="hljs-tag">  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3327.1">placeholder</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3328.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3329.1">"New price"</span></span>
<span class="hljs-tag">  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3330.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3331.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3332.1">"number"</span></span>
<span class="hljs-tag">  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3333.1">name</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3334.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3335.1">"price"</span></span>
<span class="hljs-tag">  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3336.1">required</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3337.1">min</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3338.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3339.1">"1"</span></span>
<span class="hljs-tag">  </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.3340.1">appPriceMaximum threshold="500"</span></strong></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.3341.1">  #</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.3342.1">priceCtrl</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3343.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3344.1">"ngModel"</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.3345.1">  [(</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.3346.1">ngModel</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3347.1">)]=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3348.1">"price"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3349.1"> /&gt;</span></span>
</code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.3350.1">
      Add a
     </span>
     <a id="_idIndexMarker672">
     </a>
     <span class="koboSpan" id="kobo.3351.1">
      new
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3352.1">
       &lt;span&gt;
      </span>
     </code>
     <span class="koboSpan" id="kobo.3353.1">
      HTML element
     </span>
     <a id="_idIndexMarker673">
     </a>
     <span class="koboSpan" id="kobo.3354.1">
      to display a different message when the validator throws an error:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="koboSpan" id="kobo.3355.1">@if (priceCtrl.dirty &amp;&amp; priceCtrl.hasError('priceMaximum')) {
  </span><span class="hljs-tag"><span class="koboSpan" id="kobo.3356.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.3357.1">span</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3358.1">class</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3359.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3360.1">"help-text"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3361.1">&gt;</span></span><span class="koboSpan" id="kobo.3362.1">Price must be smaller or equal to 500</span><span class="hljs-tag"><span class="koboSpan" id="kobo.3363.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.3364.1">span</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3365.1">&gt;</span></span><span class="koboSpan" id="kobo.3366.1">
} 
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.3367.1">
      Run the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3368.1">
       ng serve
      </span>
     </code>
     <span class="koboSpan" id="kobo.3369.1">
      command to start the application and select a product from the list.
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.3370.1">
      Enter the value
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3371.1">
       600
      </span>
     </code>
     <span class="koboSpan" id="kobo.3372.1">
      in the
     </span>
     <strong class="screenText">
      <span class="koboSpan" id="kobo.3373.1">
       New price
      </span>
     </strong>
     <span class="koboSpan" id="kobo.3374.1">
      input box and observe the output:
     </span>
    </li>
   </ol>
   <figure class="mediaobject">
    <span class="koboSpan" id="kobo.3375.1">
     <img alt="Εικόνα που περιέχει κείμενο, στιγμιότυπο οθόνης, γραμματοσειρά  Περιγραφή που δημιουργήθηκε αυτόματα" src="../Images/B21418_10_08.png"/>
    </span>
   </figure>
   <p class="packt_figref">
    <span class="koboSpan" id="kobo.3376.1">
     Figure 10.8: Validation in template-driven forms
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.3377.1">
     Angular custom validations can work synchronously or asynchronously.
    </span>
    <span class="koboSpan" id="kobo.3377.2">
     In this section, we learned how to work with the former.
    </span>
    <span class="koboSpan" id="kobo.3377.3">
     Asynchronous validations are an advanced topic that we will
    </span>
    <a id="_idIndexMarker674">
    </a>
    <span class="koboSpan" id="kobo.3378.1">
     not cover in this
    </span>
    <a id="_idIndexMarker675">
    </a>
    <span class="koboSpan" id="kobo.3379.1">
     book.
    </span>
    <span class="koboSpan" id="kobo.3379.2">
     However, you can learn more at
    </span>
    <a href="https://angular.dev/guide/forms/form-validation#creating-asynchronous-validators">
     <span class="url">
      <span class="koboSpan" id="kobo.3380.1">
       https://angular.dev/guide/forms/form-validation#creating-asynchronous-validators
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.3381.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.3382.1">
     In the following section, we will explore manipulating the state of an Angular form.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-200">
    <span class="koboSpan" id="kobo.3383.1">
     Manipulating form state
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.3384.1">
     The state of an Angular
    </span>
    <a id="_idIndexMarker676">
    </a>
    <span class="koboSpan" id="kobo.3385.1">
     form differs between template-driven and reactive forms.
    </span>
    <span class="koboSpan" id="kobo.3385.2">
     In the former, the state is a plain object, whereas in the latter, it is kept in the form model.
    </span>
    <span class="koboSpan" id="kobo.3385.3">
     In this section, we will learn about the following concepts:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.3386.1">
      Updating form state
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.3387.1">
      Reacting to state changes
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.3388.1">
     We will start by exploring how we can change the form state.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-201">
    <span class="koboSpan" id="kobo.3389.1">
     Updating form state
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.3390.1">
     Working with the form
    </span>
    <a id="_idIndexMarker677">
    </a>
    <span class="koboSpan" id="kobo.3391.1">
     state in template-driven forms is relatively easy.
    </span>
    <span class="koboSpan" id="kobo.3391.2">
     We must interact with the component property bound to the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3392.1">
      ngModel
     </span>
    </code>
    <span class="koboSpan" id="kobo.3393.1">
     directive of a form control.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.3394.1">
     In reactive forms, we can use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3395.1">
      value
     </span>
    </code>
    <span class="koboSpan" id="kobo.3396.1">
     property of a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3397.1">
      FormControl
     </span>
    </code>
    <span class="koboSpan" id="kobo.3398.1">
     instance or the following methods of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3399.1">
      FormGroup
     </span>
    </code>
    <span class="koboSpan" id="kobo.3400.1">
     class to change values in the whole form:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3401.1">
       setValue
      </span>
     </code>
     <span class="koboSpan" id="kobo.3402.1">
      : Replaces values in all controls of the form
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3403.1">
       patchValue
      </span>
     </code>
     <span class="koboSpan" id="kobo.3404.1">
      : Updates values in specific controls of the form
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.3405.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3406.1">
      setValue
     </span>
    </code>
    <span class="koboSpan" id="kobo.3407.1">
     method accepts an object as a parameter that contains key-value pairs for all form controls.
    </span>
    <span class="koboSpan" id="kobo.3407.2">
     If we want to fill in the details of a product in the product create component programmatically, the following snippet serves as an example:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-variable"><span class="koboSpan" id="kobo.3408.1">this</span></span><span class="koboSpan" id="kobo.3409.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.3410.1">productForm</span></span><span class="koboSpan" id="kobo.3411.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.3412.1">setValue</span></span><span class="koboSpan" id="kobo.3413.1">({
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3414.1">title</span></span><span class="koboSpan" id="kobo.3415.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.3416.1">'TV monitor'</span></span><span class="koboSpan" id="kobo.3417.1">,
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3418.1">price</span></span><span class="koboSpan" id="kobo.3419.1">: </span><span class="hljs-number"><span class="koboSpan" id="kobo.3420.1">600</span></span><span class="koboSpan" id="kobo.3421.1">,
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3422.1">category</span></span><span class="koboSpan" id="kobo.3423.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.3424.1">'electronics'</span></span><span class="koboSpan" id="kobo.3425.1">
});
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.3426.1">
     In the preceding snippet, each key of the object passed in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3427.1">
      setValue
     </span>
    </code>
    <span class="koboSpan" id="kobo.3428.1">
     method must match the name of each form control.
    </span>
    <span class="koboSpan" id="kobo.3428.2">
     If we omit one, Angular will throw an error.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.3429.1">
     If we want to fill in some of the details of a product, we can use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3430.1">
      patchValue
     </span>
    </code>
    <span class="koboSpan" id="kobo.3431.1">
     method:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-variable"><span class="koboSpan" id="kobo.3432.1">this</span></span><span class="koboSpan" id="kobo.3433.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.3434.1">productForm</span></span><span class="koboSpan" id="kobo.3435.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.3436.1">patchValue</span></span><span class="koboSpan" id="kobo.3437.1">({
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3438.1">title</span></span><span class="koboSpan" id="kobo.3439.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.3440.1">'TV monitor'</span></span><span class="koboSpan" id="kobo.3441.1">,
  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3442.1">category</span></span><span class="koboSpan" id="kobo.3443.1">: </span><span class="hljs-string"><span class="koboSpan" id="kobo.3444.1">'electronics'</span></span><span class="koboSpan" id="kobo.3445.1">
});
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.3446.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3447.1">
      setValue
     </span>
    </code>
    <span class="koboSpan" id="kobo.3448.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3449.1">
      patchValue
     </span>
    </code>
    <span class="koboSpan" id="kobo.3450.1">
     methods of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3451.1">
      FormGroup
     </span>
    </code>
    <span class="koboSpan" id="kobo.3452.1">
     class help us set data in a form.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.3453.1">
     Another interesting aspect of forms is that we can be notified when these values change, as we will see in the following section.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-202">
    <span class="koboSpan" id="kobo.3454.1">
     Reacting to state changes
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.3455.1">
     A common scenario
    </span>
    <a id="_idIndexMarker678">
    </a>
    <span class="koboSpan" id="kobo.3456.1">
     when working with Angular forms is that we want to trigger a side effect when the value of a form control changes.
    </span>
    <span class="koboSpan" id="kobo.3456.2">
     A side effect can be any of the following:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.3457.1">
      To alter the value of a form control
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.3458.1">
      To initiate an HTTP request to filter the value of a form control
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.3459.1">
      To enable/disable certain parts of the component template
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.3460.1">
     In template-driven forms, we can use an extended version of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3461.1">
      ngModel
     </span>
    </code>
    <span class="koboSpan" id="kobo.3462.1">
     directive to get notified when its value changes.
    </span>
    <span class="koboSpan" id="kobo.3462.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3463.1">
      ngModel
     </span>
    </code>
    <span class="koboSpan" id="kobo.3464.1">
     directive contains the following bindable properties:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3465.1">
       ngModel
      </span>
     </code>
     <span class="koboSpan" id="kobo.3466.1">
      : An input property for passing values to the control
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3467.1">
       ngModelChange
      </span>
     </code>
     <span class="koboSpan" id="kobo.3468.1">
      : An output property for getting notified when the control value changes
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.3469.1">
     We can write the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3470.1">
      ngModel
     </span>
    </code>
    <span class="koboSpan" id="kobo.3471.1">
     binding in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3472.1">
      &lt;input&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.3473.1">
     HTML element of the product detail component in the following alternate way:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag"><span class="koboSpan" id="kobo.3474.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.3475.1">input</span></span>
<span class="hljs-tag">  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3476.1">placeholder</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3477.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3478.1">"</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3479.1">New price"</span></span>
<span class="hljs-tag">  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3480.1">type</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3481.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3482.1">"number"</span></span>
<span class="hljs-tag">  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3483.1">name</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3484.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3485.1">"price"</span></span>
<span class="hljs-tag">  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3486.1">required</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3487.1">min</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3488.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3489.1">"1"</span></span>
<span class="hljs-tag">  </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3490.1">appPriceMaximum</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.3491.1">threshold</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3492.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3493.1">"</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3494.1">500"</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.3495.1">  #</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.3496.1">priceCtrl</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3497.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.3498.1">"ngModel"</span></span>
<span class="hljs-tag">  </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.3499.1">[ngModel]="price"</span></strong></span>
<span class="hljs-tag">  </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.3500.1">(ngModelChange)="price = $event"</span></strong></span><span class="hljs-tag"><span class="koboSpan" id="kobo.3501.1"> /&gt;</span></span>
</code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.3502.1">
     In the preceding snippet, we set the value of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3503.1">
      ngModel
     </span>
    </code>
    <span class="koboSpan" id="kobo.3504.1">
     input property using property binding and the value of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3505.1">
      price
     </span>
    </code>
    <span class="koboSpan" id="kobo.3506.1">
     component property using event binding.
    </span>
    <span class="koboSpan" id="kobo.3506.2">
     Angular triggers the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3507.1">
      ngModelChange
     </span>
    </code>
    <span class="koboSpan" id="kobo.3508.1">
     event automatically and includes the new value of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3509.1">
      &lt;input&gt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.3510.1">
     HTML element in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3511.1">
      $event
     </span>
    </code>
    <span class="koboSpan" id="kobo.3512.1">
     property.
    </span>
    <span class="koboSpan" id="kobo.3512.2">
     We can use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3513.1">
      ngModelChange
     </span>
    </code>
    <span class="koboSpan" id="kobo.3514.1">
     event for any side effects in our component when the value of the price form control changes.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.3515.1">
     In reactive forms, we use an observable-based API to react to state changes.
    </span>
    <span class="koboSpan" id="kobo.3515.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3516.1">
      FormGroup
     </span>
    </code>
    <span class="koboSpan" id="kobo.3517.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3518.1">
      FormControl
     </span>
    </code>
    <span class="koboSpan" id="kobo.3519.1">
     classes contain the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3520.1">
      valueChanges
     </span>
    </code>
    <span class="koboSpan" id="kobo.3521.1">
     observable, which we can use to subscribe and get notified when the value of the form or control changes.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.3522.1">
     We will use it to reset the value of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3523.1">
      price
     </span>
    </code>
    <span class="koboSpan" id="kobo.3524.1">
     form control in the product create component when the category changes:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.3525.1">
      Open the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3526.1">
       product-create.component.ts
      </span>
     </code>
     <span class="koboSpan" id="kobo.3527.1">
      file and import the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3528.1">
       OnInit
      </span>
     </code>
     <span class="koboSpan" id="kobo.3529.1">
      artifact from the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3530.1">
       @angular/core
      </span>
     </code>
     <span class="koboSpan" id="kobo.3531.1">
      npm package:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.3532.1">import</span></span><span class="koboSpan" id="kobo.3533.1"> { </span><span class="hljs-title"><span class="koboSpan" id="kobo.3534.1">Component</span></span><span class="koboSpan" id="kobo.3535.1">, </span><span class="code-highlight"><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.3536.1">OnInit</span></strong></span><span class="koboSpan" id="kobo.3537.1"> } </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.3538.1">from</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.3539.1">'@angular/core'</span></span><span class="koboSpan" id="kobo.3540.1">;
</span></code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.3541.1">
      Add the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3542.1">
       OnInit
      </span>
     </code>
     <span class="koboSpan" id="kobo.3543.1">
      interface to the list of the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3544.1">
       ProductCreateComponent
      </span>
     </code>
     <span class="koboSpan" id="kobo.3545.1">
      class implemented interfaces:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.3546.1">export</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.3547.1">class</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.3548.1">ProductCreateComponent</span></span> <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.3549.1">implements OnInit</span></strong></span>
</code></pre>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.3550.1">
      Create the following
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3551.1">
       ngOnInit
      </span>
     </code>
     <span class="koboSpan" id="kobo.3552.1">
      method to subscribe to the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3553.1">
       valueChanges
      </span>
     </code>
     <span class="koboSpan" id="kobo.3554.1">
      property of the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3555.1">
       category
      </span>
     </code>
     <span class="koboSpan" id="kobo.3556.1">
      form control:
     </span>
     <pre class="programlisting code-one"><code class="hljs-code"><span class="hljs-title"><span class="koboSpan" id="kobo.3557.1">ngOnInit</span></span><span class="koboSpan" id="kobo.3558.1">(): </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.3559.1">void</span></span><span class="koboSpan" id="kobo.3560.1"> {
  </span><span class="hljs-variable"><span class="koboSpan" id="kobo.3561.1">this</span></span><span class="koboSpan" id="kobo.3562.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.3563.1">productForm</span></span><span class="koboSpan" id="kobo.3564.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.3565.1">controls</span></span><span class="koboSpan" id="kobo.3566.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.3567.1">category</span></span><span class="koboSpan" id="kobo.3568.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.3569.1">valueChanges</span></span><span class="koboSpan" id="kobo.3570.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.3571.1">subscribe</span></span><span class="koboSpan" id="kobo.3572.1">(</span><span class="hljs-function"><span class="koboSpan" id="kobo.3573.1">() =&gt;</span></span><span class="koboSpan" id="kobo.3574.1"> {
    </span><span class="hljs-variable"><span class="koboSpan" id="kobo.3575.1">this</span></span><span class="koboSpan" id="kobo.3576.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.3577.1">productForm</span></span><span class="koboSpan" id="kobo.3578.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.3579.1">controls</span></span><span class="koboSpan" id="kobo.3580.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.3581.1">price</span></span><span class="koboSpan" id="kobo.3582.1">.</span><span class="hljs-title"><span class="koboSpan" id="kobo.3583.1">reset</span></span><span class="koboSpan" id="kobo.3584.1">();
  });
}
</span></code></pre>
    </li>
   </ol>
   <p class="normal-one">
    <span class="koboSpan" id="kobo.3585.1">
     In the preceding method, we reset the value of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3586.1">
      price
     </span>
    </code>
    <span class="koboSpan" id="kobo.3587.1">
     form control by using the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3588.1">
      reset
     </span>
    </code>
    <span class="koboSpan" id="kobo.3589.1">
     method of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3590.1">
      FormControl
     </span>
    </code>
    <span class="koboSpan" id="kobo.3591.1">
     class.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <span class="koboSpan" id="kobo.3592.1">
      The
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3593.1">
       valueChanges
      </span>
     </code>
     <span class="koboSpan" id="kobo.3594.1">
      property of the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.3595.1">
       FormControl
      </span>
     </code>
     <span class="koboSpan" id="kobo.3596.1">
      class is a standard observable stream.
     </span>
     <span class="koboSpan" id="kobo.3596.2">
      Do not forget to unsubscribe when the component is destroyed.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.3597.1">
     Of course, there is more that we can do with the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.3598.1">
      valueChanges
     </span>
    </code>
    <span class="koboSpan" id="kobo.3599.1">
     observable; for example, we could check if
    </span>
    <a id="_idIndexMarker679">
    </a>
    <span class="koboSpan" id="kobo.3600.1">
     the product title is already reserved by sending it to a backend API.
    </span>
    <span class="koboSpan" id="kobo.3600.2">
     Hopefully, however, the preceding examples have conveyed how you can take advantage of the reactive nature of forms and respond accordingly.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-203">
    <span class="koboSpan" id="kobo.3601.1">
     Summary
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.3602.1">
     In this chapter, we learned that Angular provides two different flavors for creating forms – template-driven and reactive – and neither approach is better than the other.
    </span>
    <span class="koboSpan" id="kobo.3602.2">
     We explored how to build each form type and perform validations on input data, and covered custom validations for implementing additional validation scenarios.
    </span>
    <span class="koboSpan" id="kobo.3602.3">
     We also learned how to update the state of a form and how to react when the values in the state change.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.3603.1">
     In the following chapter, we will explore various ways of handling application errors.
    </span>
    <span class="koboSpan" id="kobo.3603.2">
     Error handling is a very important feature of an Angular application and can have different sources and reasons, as we will see.
    </span>
   </p>
  </div>
 </body></html>