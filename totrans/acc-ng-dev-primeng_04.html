<html><head></head><body><div id="sbo-rt-content"><div id="_idContainer036">
			<h1 id="_idParaDest-92"><em class="italic"><a id="_idTextAnchor094"/>Chapter 8</em>: Additional Provider Scopes </h1>
			<p>This chapter seeks to explain how to use dependency injection scopes to develop more lean components and features in Angular Ivy. To explore these features, we will learn how to create a non-singleton service and how to reuse dependencies across Angular elements.</p>
			<p>We will introduce the <strong class="source-inline">any</strong> provider scope by revising the theme service so that it can accept specific configurations when used in different scenarios using the <strong class="source-inline">any</strong> provider scope and rewiring the schools and course modules to be lazy loaded.  </p>
			<p>We will then wrap up <em class="italic">Part 2, Build a Real-World Application with the Angular Ivy Features You Learned</em> by building a new login element that shows how to share information across application boundaries by using the platform provider scope for Angular Elements. </p>
			<p>We will cover the following topics in this chapter:</p>
			<ul>
				<li>Revisiting the root provider scope</li>
				<li>Using the any provider scope for a configurable theme service</li>
				<li>Sharing information across application boundaries using the platform provider scope</li>
			</ul>
			<p>Before we dive into the details about the new provider scopes, let's take a moment to reflect on the services we have introduced so far using the root provider scope.</p>
			<h1 id="_idParaDest-93"><a id="_idTextAnchor095"/>Revisiting the root provider scope</h1>
			<p>So far, we have discussed <a id="_idIndexMarker306"/>the following services in the Angular Academy application using the root scope provider:</p>
			<ul>
				<li><strong class="source-inline">SchoolsService</strong>: Retrieve information about the available schools.</li>
				<li><strong class="source-inline">CourseService</strong>: Retrieve information about the course.</li>
				<li><strong class="source-inline">ThemeService</strong>: Set and retrieve information about the current theme.</li>
			</ul>
			<p>These services have served us well as singletons in the app so far – and marking the services for use with <strong class="source-inline">providedIn: 'root'</strong> via the <strong class="source-inline">Injectable</strong> decorator makes it pretty easy to use them for the standard use case. If you have been around since the early days of Angular, then you might have been accustomed to injecting services as dependencies in each specific module – for example, you might have been wondering why <strong class="source-inline">SchoolsService</strong> is not listed in the providers array from the schools module here: </p>
			<p class="source-code">@NgModule({</p>
			<p class="source-code">  declarations: [SchoolsComponent],</p>
			<p class="source-code">  imports: [CommonModule, GoogleMapsModule],</p>
			<p class="source-code">  exports: [SchoolsComponent],</p>
			<p class="source-code">})</p>
			<p class="source-code">export class SchoolsModule {}</p>
			<p>We do not need to insert <a id="_idIndexMarker307"/>explicit providers here as we have had tree-shakable providers since Angular version 6. We can now just rely on the <strong class="source-inline">injectable</strong> decorator. This makes the Angular modules a bit leaner and easier to configure, and we can provide alternative implementations for the service later.</p>
			<p>Providing singleton services on the root scope sounds useful in itself (it worked well in <a href="B16295_06_ePub_RK.xhtml#_idTextAnchor081"><em class="italic">Chapter 6</em></a>, <em class="italic">Using Angular Components</em>). But what if we want to have specific service instances per use case? It turns out that we can do that by using the any provider scope for the theme service and changing the modules to be lazy loaded instead of the default eager loading. Let's dig into the details on how to do that.</p>
			<h1 id="_idParaDest-94"><a id="_idTextAnchor096"/>Using the any provider scope for a configurable ThemeService</h1>
			<p>Let's use the any provider <a id="_idIndexMarker308"/>scope for a configurable <strong class="source-inline">ThemeService</strong> by injecting configurable settings depending on the<a id="_idIndexMarker309"/> use case for each module that we load:</p>
			<p class="source-code">@Injectable({</p>
			<p class="source-code">  providedIn: 'any',</p>
			<p class="source-code">})</p>
			<p class="source-code">export class ThemeService {</p>
			<p class="source-code">  constructor(@Inject(themeToken) private theme: ITheme) {}</p>
			<p class="source-code">  public setSetting(name: string, value: string): void {</p>
			<p class="source-code">    this.setItem(name, value);</p>
			<p class="source-code">  }</p>
			<p class="source-code">  public getSetting(name: string): string {</p>
			<p class="source-code">    switch (name) {</p>
			<p class="source-code">      case 'background':</p>
			<p class="source-code">        return this.getItem(name) ?? this.theme.background;</p>
			<p class="source-code">      case 'tileBackground':</p>
			<p class="source-code">        return this.getItem(name) ?? </p>
			<p class="source-code">         this.theme.tileBackground;</p>
			<p class="source-code">      case 'headerBackground':</p>
			<p class="source-code">        return this.getItem(name) ?? </p>
			<p class="source-code">         this.theme.headerBackground;</p>
			<p class="source-code">      case 'textSize':</p>
			<p class="source-code">        return this.getItem(name) ?? this.theme.textSize;</p>
			<p class="source-code">      case 'videoSize':</p>
			<p class="source-code">        return this.getItem(name) ?? this.theme.videoSize;</p>
			<p class="source-code">    }</p>
			<p class="source-code">    return 'white';</p>
			<p class="source-code">  }</p>
			<p class="source-code">  private setItem(name: string, value: string): void {</p>
			<p class="source-code">    localStorage.setItem(this.prefix(name), value);</p>
			<p class="source-code">  }</p>
			<p class="source-code">  private getItem(name: string): string | null {</p>
			<p class="source-code">    return localStorage.getItem(this.prefix(name));</p>
			<p class="source-code">  }</p>
			<p class="source-code">  private prefix(name: string): string {</p>
			<p class="source-code">    return this.theme.id + '_' + name;</p>
			<p class="source-code">  }</p>
			<p class="source-code">}</p>
			<p>We<a id="_idIndexMarker310"/> introduced the theme service in <a href="B16295_05_ePub_RK.xhtml#_idTextAnchor075"><em class="italic">Chapter 5</em></a><em class="italic">, Using CSS Custom Properties</em>. Let's make that configurable by introducing<a id="_idIndexMarker311"/> an <strong class="source-inline">InjectionToken</strong> instance for the theme:</p>
			<p class="source-code">import { InjectionToken } from '@angular/core';</p>
			<p class="source-code">import { ITheme } from './theme/theme.model';</p>
			<p class="source-code">export const themeToken = new InjectionToken&lt;ITheme&gt;('theme');</p>
			<p>The theme token holds configuration settings that implement the <strong class="source-inline">ITheme</strong> interface:</p>
			<p class="source-code">export interface ITheme {</p>
			<p class="source-code">  id: string;</p>
			<p class="source-code">  background: string;</p>
			<p class="source-code">  headerBackground: string;</p>
			<p class="source-code">  tileBackground: string;</p>
			<p class="source-code">  textSize: string;</p>
			<p class="source-code">  videoSize: string;</p>
			<p class="source-code">}</p>
			<p>We could then use a <strong class="source-inline">green</strong> theme with these values in <strong class="source-inline">AppModule</strong> via the <strong class="source-inline">InjectionToken</strong> token of <strong class="source-inline">theme</strong>:</p>
			<p class="source-code">import { ITheme } from './app/theme/theme.model';</p>
			<p class="source-code">export const theme: ITheme = {</p>
			<p class="source-code">  id: 'green',</p>
			<p class="source-code">  background: '#f8f6f8',</p>
			<p class="source-code">  tileBackground: '#f4ecf4',</p>
			<p class="source-code">  headerBackground: '#00aa00',</p>
			<p class="source-code">  textSize: '3',</p>
			<p class="source-code">  videoSize: '7',</p>
			<p class="source-code">};</p>
			<p>Note that the<a id="_idIndexMarker312"/> configured settings<a id="_idIndexMarker313"/> will only be the starting values. The user can still change them while the system is running.</p>
			<p>Now we can inject the theme settings into the injector scope using the theme service. When we are using the any provider scope, we can obtain an instance for every lazy-loaded module that injects the service. Here is a snippet that shows the relevant parts of how to rewire the modules for lazy loading via an app routing module and while running the <strong class="source-inline">green</strong> theme in the <strong class="source-inline">AppModule</strong>: </p>
			<p class="source-code">// (...)</p>
			<p class="source-code">import { themeToken } from './theme.token';</p>
			<p class="source-code">import { theme } from '../green.theme';</p>
			<p class="source-code">import { AppRoutingModule } from './app-routing.module';</p>
			<p class="source-code">// (...)</p>
			<p class="source-code">@NgModule({</p>
			<p class="source-code">  declarations: [AppComponent],</p>
			<p class="source-code">  imports: [</p>
			<p class="source-code">    // (...)</p>
			<p class="source-code">    AppRoutingModule,</p>
			<p class="source-code">  ],</p>
			<p class="source-code">  providers: [</p>
			<p class="source-code">    {</p>
			<p class="source-code">      provide: themeToken,</p>
			<p class="source-code">      useValue: theme,</p>
			<p class="source-code">    },</p>
			<p class="source-code">  ],</p>
			<p class="source-code">  bootstrap: [AppComponent],</p>
			<p class="source-code">})</p>
			<p class="source-code">export class AppModule {}</p>
			<p>Here we provide <a id="_idIndexMarker314"/>default settings <a id="_idIndexMarker315"/>for <strong class="source-inline">ThemeService</strong> on the application module scope. The dependencies for each module would be dynamically loaded from inside <strong class="source-inline">AppRoutingModule</strong> like this:</p>
			<p class="source-code">const routes: Routes = [</p>
			<p class="source-code">  {path: '', redirectTo: 'login', pathMatch: 'full',},</p>
			<p class="source-code">  {</p>
			<p class="source-code">    path: 'course',</p>
			<p class="source-code">    loadChildren: () =&gt;</p>
			<p class="source-code">      import('./course/course.module').then((m) =&gt; </p>
			<p class="source-code">       m.CourseModule),</p>
			<p class="source-code">  },</p>
			<p class="source-code">  {</p>
			<p class="source-code">    path: 'login',</p>
			<p class="source-code">    loadChildren: () =&gt;</p>
			<p class="source-code">      import('./login/login.module').then((m) =&gt; </p>
			<p class="source-code">       m.LoginModule),</p>
			<p class="source-code">  },</p>
			<p class="source-code">  {</p>
			<p class="source-code">    path: 'schools',</p>
			<p class="source-code">    loadChildren: () =&gt;</p>
			<p class="source-code">      import('./schools/schools.module').then((m) =&gt; </p>
			<p class="source-code">       m.SchoolsModule),</p>
			<p class="source-code">  },</p>
			<p class="source-code">  {</p>
			<p class="source-code">    path: 'theme',</p>
			<p class="source-code">    loadChildren: () =&gt;</p>
			<p class="source-code">      import('./theme/theme.module').then((m) =&gt; </p>
			<p class="source-code">       m.ThemeModule),</p>
			<p class="source-code">  },</p>
			<p class="source-code">];</p>
			<p>Then we need to<a id="_idIndexMarker316"/> establish a routing<a id="_idIndexMarker317"/> module for each module. As an example, the routing module for the course module looks like this:</p>
			<p class="source-code">import { CourseComponent } from './course.component';</p>
			<p class="source-code">const routes: Routes = [{ path: ':id', component: CourseComponent }];</p>
			<p class="source-code">@NgModule({</p>
			<p class="source-code">  imports: [RouterModule.forChild(routes)],</p>
			<p class="source-code">  exports: [RouterModule],</p>
			<p class="source-code">})</p>
			<p class="source-code">export class CourseRoutingModule {}</p>
			<p>We already have the settings defined in the <strong class="source-inline">Provider</strong> scope for the app module that uses the course module, so there is no need to redefine it here if we want the <strong class="source-inline">green</strong> theme for a module. But if we want to use another theme, then we can introduce another theme configuration via the <strong class="source-inline">theme</strong> token like this:</p>
			<p class="source-code">import { ITheme } from './app/theme/theme.model';</p>
			<p class="source-code">export const theme: ITheme = {</p>
			<p class="source-code">  id: 'metallic',</p>
			<p class="source-code">  background: '#ffeeff',</p>
			<p class="source-code">  tileBackground: '#ffefff',</p>
			<p class="source-code">  headerBackground: '#ccbbcc',</p>
			<p class="source-code">  textSize: '3',</p>
			<p class="source-code">  videoSize: '7',</p>
			<p class="source-code">};</p>
			<p>We could then<a id="_idIndexMarker318"/> use the <strong class="source-inline">metallic</strong> theme on<a id="_idIndexMarker319"/> the lazy-loaded <strong class="source-inline">LoginModule</strong> via the platform injector scope like this:</p>
			<p class="source-code">// (...)</p>
			<p class="source-code">import { theme } from '../../metallic.theme'</p>
			<p class="source-code">// (...)</p>
			<p class="source-code">@NgModule({</p>
			<p class="source-code">  declarations: [LoginComponent],</p>
			<p class="source-code">  imports: [</p>
			<p class="source-code">    CommonModule,</p>
			<p class="source-code">    MaterialModule,</p>
			<p class="source-code">    FormsModule,</p>
			<p class="source-code">    ReactiveFormsModule,</p>
			<p class="source-code">    LoginRoutingModule,</p>
			<p class="source-code">  ],</p>
			<p class="source-code">  providers: [</p>
			<p class="source-code">    {</p>
			<p class="source-code">      provide: themeToken,</p>
			<p class="source-code">      useValue: theme,</p>
			<p class="source-code">    },</p>
			<p class="source-code">  ],</p>
			<p class="source-code">})</p>
			<p class="source-code">export class LoginModule {}</p>
			<p>Since we are <a id="_idIndexMarker320"/>lazy loading the login<a id="_idIndexMarker321"/> module, we will now create a new instance of the theme service – so that the <strong class="source-inline">login</strong> component can use the <strong class="source-inline">metallic</strong> theme instead of the <strong class="source-inline">green</strong> theme like the rest of the application. In this way, we can use an instance of the theme service to render the toolbar using the <strong class="source-inline">green</strong> theme and the <strong class="source-inline">login</strong> component using the <strong class="source-inline">metallic</strong> theme, like this:</p>
			<div>
				<div id="_idContainer034" class="IMG---Figure">
					<img src="Images/Figure_8.1_B16295.jpg" alt="Figure 8.1 –  The login screen. Note that the background here is from the metallic theme&#13;&#10;" width="330" height="363"/>
				</div>
			</div>
			<p class="figure-caption">Figure 8.1 –  The login screen. Note that the background here is from the metallic theme</p>
			<p>This will be the first screen you see when you start the Angular Academy application. Note that the metallic card background is set in the <strong class="source-inline">login.component.scss</strong> file using the mechanism you learned about in <a href="B16295_05_ePub_RK.xhtml#_idTextAnchor075"><em class="italic">Chapter 5</em></a><em class="italic">, Using CSS Custom Properties</em>:</p>
			<p class="source-code">.mat-card {</p>
			<p class="source-code">  background: var(--background, green);</p>
			<p class="source-code">}</p>
			<p>The <strong class="source-inline">background</strong> variable<a id="_idIndexMarker322"/> will be set<a id="_idIndexMarker323"/> in <strong class="source-inline">LoginComponent</strong> like this: </p>
			<p class="source-code">@Component({</p>
			<p class="source-code">  selector: 'workspace-login',</p>
			<p class="source-code">  templateUrl: './login.component.html',</p>
			<p class="source-code">  styleUrls: ['./login.component.scss'],</p>
			<p class="source-code">})</p>
			<p class="source-code">export class LoginComponent {</p>
			<p class="source-code">  @HostBinding('style.--background')</p>
			<p class="source-code">  background: string;</p>
			<p class="source-code">  loginForm: FormGroup;</p>
			<p class="source-code">  constructor(</p>
			<p class="source-code">    public fb: FormBuilder,</p>
			<p class="source-code">    public authService: AuthService,</p>
			<p class="source-code">    private themeService: ThemeService</p>
			<p class="source-code">  ) {</p>
			<p class="source-code">    this.background = themeService.getSetting(</p>
			<p class="source-code">     'background');</p>
			<p class="source-code">    this.loginForm = this.fb.group({</p>
			<p class="source-code">      name: [''],</p>
			<p class="source-code">      password: [''],</p>
			<p class="source-code">    });</p>
			<p class="source-code">  }</p>
			<p class="source-code">  loginUser(): void {</p>
			<p class="source-code">    this.authService.login(this.loginForm.value);</p>
			<p class="source-code">  }</p>
			<p class="source-code">}</p>
			<p><strong class="source-inline">LoginComponent</strong> passes<a id="_idIndexMarker324"/> user information <a id="_idIndexMarker325"/>from <strong class="source-inline">loginForm</strong> to <strong class="source-inline">AuthService</strong>:</p>
			<p class="source-code">@Injectable({</p>
			<p class="source-code">  providedIn: 'platform',</p>
			<p class="source-code">})</p>
			<p class="source-code">export class AuthService {</p>
			<p class="source-code">  public loginEvent: EventEmitter&lt;string&gt; = new </p>
			<p class="source-code">   EventEmitter();</p>
			<p class="source-code">  login(user: IUser): void {</p>
			<p class="source-code">    if (user.name === 'demo' &amp;&amp; user.password === 'demo') {</p>
			<p class="source-code">      this.token = 'thisTokenShouldBeProvidedByTheBackend';</p>
			<p class="source-code">      this.loginEvent.emit(this.token);</p>
			<p class="source-code">    }</p>
			<p class="source-code">  }</p>
			<p class="source-code">  logout(): void {</p>
			<p class="source-code">    this.token = '';</p>
			<p class="source-code">  }</p>
			<p class="source-code">  set token(value: string) {</p>
			<p class="source-code">    localStorage.setItem('token', value);</p>
			<p class="source-code">  }</p>
			<p class="source-code">  get token(): string {</p>
			<p class="source-code">    return localStorage.getItem('token') ?? '';</p>
			<p class="source-code">  }</p>
			<p class="source-code">}</p>
			<p>Note that<a id="_idIndexMarker326"/> we are using a very simple<a id="_idIndexMarker327"/> way of obtaining a <strong class="source-inline">login</strong> token for the <strong class="source-inline">demo</strong> user with the password <strong class="source-inline">demo</strong> here. This example could be extended to call the backend of your choice and submit <strong class="source-inline">LoginEvent</strong> after doing so. </p>
			<p>The idea is that we can react to <strong class="source-inline">LoginEvent</strong> like this:</p>
			<p class="source-code">  this.authService.loginEvent.subscribe((token: string) =&gt; {</p>
			<p class="source-code">      const courseId: string | null = </p>
			<p class="source-code">       this.preferenceService.getCourseId();</p>
			<p class="source-code">      if (courseId) {</p>
			<p class="source-code">        router.navigate(['/course', courseId]);</p>
			<p class="source-code">      } else {</p>
			<p class="source-code">        router.navigate(['/schools']);</p>
			<p class="source-code">      }</p>
			<p class="source-code">    });</p>
			<p>By now we hope that you have had the chance to play around with the Angular Academy application to see how things are wired together. Did you notice that you are redirected directly to the course in the Angular Academy application after logging in a second time? The first time you <a id="_idIndexMarker328"/>log in, you should be given <a id="_idIndexMarker329"/>the opportunity to choose a school from a map – and then choose a course from the school. When you choose a course, this will be stored via the preference service. This preference can then be used to redirect users to courses. </p>
			<p>The Angular Academy application uses some fairly complex navigation logic that is only relevant inside the app – but what if we wanted to share information outside of the app? We can do exactly that by using the <strong class="source-inline">platform</strong> provider scope in combination with Angular elements.</p>
			<h1 id="_idParaDest-95"><a id="_idTextAnchor097"/>Sharing information across application boundaries using the platform provider scope</h1>
			<p>We can<a id="_idIndexMarker330"/> demonstrate how to share information outside of the app by creating a tweet button as an Angular element. This Angular element could be used outside of the app as well. Let's dig into the details on how to do that.</p>
			<p>First, we will start by adding Angular elements to the app by running the following command:</p>
			<p class="source-code">ng add i @angular/elements</p>
			<p>Then we include the Twitter widgets SDK within the page like this:</p>
			<p class="source-code">  &lt;script</p>
			<p class="source-code">      src="https://platform.twitter.com/widgets.js"</p>
			<p class="source-code">      type="text/javascript"</p>
			<p class="source-code">    &gt;&lt;/script</p>
			<p>Then we can build a tweet hashtag button using a <strong class="source-inline">TweetCourse</strong> component like this:</p>
			<p class="source-code">&lt;ng-container *ngIf="course$ | async as course"&gt;</p>
			<p class="source-code">  &lt;a</p>
			<p class="source-code">    href="https://twitter.com/intent/tweet?button_hashtag=     {{ course.hashtag }}"</p>
			<p class="source-code">    class="twitter-hashtag-button"</p>
			<p class="source-code">    &gt;Tweet {{ course.hashtag }}&lt;/a</p>
			<p class="source-code">  &gt;</p>
			<p class="source-code">&lt;/ng-container&gt;</p>
			<p>The <strong class="source-inline">TweetCourse</strong> component<a id="_idIndexMarker331"/> uses <strong class="source-inline">CourseService</strong> with the platform provider scope to retrieve data:</p>
			<p class="source-code">@Component({</p>
			<p class="source-code">  selector: 'workspace-tweetcourse',</p>
			<p class="source-code">  templateUrl: './tweetcourse.component.html',</p>
			<p class="source-code">})</p>
			<p class="source-code">export class TweetCourseComponent implements OnInit {</p>
			<p class="source-code">  @Input()</p>
			<p class="source-code">  courseId!: string;</p>
			<p class="source-code">  public course$: Observable&lt;ICourse&gt; | undefined;</p>
			<p class="source-code">  constructor(</p>
			<p class="source-code">    private courseService: CourseService</p>
			<p class="source-code">  ) {</p>
			<p class="source-code">  }</p>
			<p class="source-code">  ngOnInit(): void{</p>
			<p class="source-code">    this.course$ = this.courseService.getCourse(</p>
			<p class="source-code">     this.courseId);</p>
			<p class="source-code">  }</p>
			<p class="source-code">}</p>
			<p>Now, we<a id="_idIndexMarker332"/> register <strong class="source-inline">TweetCourseComponent</strong> as an Angular element like this:</p>
			<p class="source-code">export class AppModule implements DoBootstrap {</p>
			<p class="source-code">  constructor(private injector: Injector) {</p>
			<p class="source-code">    const el = createCustomElement(TweetCourseComponent, {</p>
			<p class="source-code">      injector: this.injector,</p>
			<p class="source-code">    });</p>
			<p class="source-code">    customElements.define('tweet-course', el);</p>
			<p class="source-code">  }</p>
			<p class="source-code">  ngDoBootstrap(): void {}</p>
			<p class="source-code">}</p>
			<p>It can then be used as a web component:</p>
			<p class="source-code">  &lt;tweet-course courseId="1"&gt;&lt;/tweet-course&gt;</p>
			<p>Since <strong class="source-inline">CourseService</strong> is registered on the platform provider scope, we can now use it both from within our new <strong class="source-inline">&lt;tweet-course&gt;</strong> Angular element and inside our Angular Academy application. </p>
			<p>We insert the <strong class="source-inline">&lt;tweet-course&gt;</strong> element inside the navigation bar for the desktop version of the application like this inside the navigation component:</p>
			<p class="source-code">    &lt;mat-nav-list&gt;</p>
			<p class="source-code">      &lt;a *ngIf="!token" mat-list-item </p>
			<p class="source-code">       href="/login"&gt;Login&lt;/a&gt;</p>
			<p class="source-code">      &lt;ng-container *ngIf="token"&gt;</p>
			<p class="source-code">        &lt;a mat-list-item *ngIf="courseId" </p>
			<p class="source-code">         routerLink="course/{{ courseId }}"</p>
			<p class="source-code">          &gt;Follow course&lt;/a</p>
			<p class="source-code">        &gt;</p>
			<p class="source-code">        &lt;a mat-list-item routerLink="/schools"&gt;Find </p>
			<p class="source-code">         school&lt;/a&gt;</p>
			<p class="source-code">        &lt;a mat-list-item routerLink="/theme"&gt;Theme&lt;/a&gt;</p>
			<p class="source-code">        &lt;a *ngIf="token" mat-list-item (click)="logout()" </p>
			<p class="source-code">         href="#"&gt;Logout&lt;/a&gt;</p>
			<p class="source-code">      &lt;/ng-container&gt;</p>
			<p class="source-code">      &lt;ng-container *ngIf="courseId"&gt;</p>
			<p class="source-code">        &lt;tweet-course courseId="courseId"&gt;&lt;/tweet-course&gt;</p>
			<p class="source-code">      &lt;/ng-container&gt;</p>
			<p class="source-code">    &lt;/mat-nav-list&gt;</p>
			<p>Here you <a id="_idIndexMarker333"/>see that the <strong class="source-inline">&lt;tweet-course&gt;</strong> element should be rendered in the sidebar if you have chosen a course (if you have a <strong class="source-inline">courseId</strong> instance). It should look like this:</p>
			<div>
				<div id="_idContainer035" class="IMG---Figure">
					<img src="Images/Figure_8.2_B16295.jpg" alt="Figure 8.2 – Introducing the Tweet #AcceleratingIvy button&#13;&#10;" width="878" height="614"/>
				</div>
			</div>
			<p class="figure-caption">Figure 8.2 – Introducing the Tweet #AcceleratingIvy button</p>
			<p>If you are <a id="_idIndexMarker334"/>logged in to Twitter when you press the <strong class="bold">Tweet #AcceleratingIvy</strong> button, then your Twitter should open and let you tweet using the <strong class="source-inline">#AcceleratingIvy</strong> hashtag. If you register another hashtag for your course in the course service, then this hashtag will be presented. </p>
			<p>Maybe you have other ideas for components that could be used outside of the application? Did you notice that we marked <strong class="source-inline">AuthService</strong> as <strong class="source-inline">providedIn:</strong> <strong class="source-inline">'platform'</strong>? You could export the <strong class="source-inline">Login</strong> component as an Angular element and update it to integrate it into your own application platform to perform single sign-on. </p>
			<h1 id="_idParaDest-96"><a id="_idTextAnchor098"/>Summary</h1>
			<p>In this chapter, we started by expanding on the usage of the root provider scope and introduced the new any and platform provider scopes in the context of the Angular Academy application. We then introduced the any provider scope by applying lazy loading via <strong class="source-inline">AppRoutingModule</strong>, which allowed us to use a separate theme for <strong class="source-inline">LoginModule</strong>. Finally, we saw how to create a Tweet button that can be used with the platform provider scope.</p>
			<p>In the next chapter, we will start on Part 3, Upgrade Your View Engine Application and Development Workflow to Angular Ivy of the book and look into migrations and more practical aspects of using Angular Ivy. </p>
		</div>
	</div></body></html>