<html><head></head><body>
        <section>

            <header>
                <h1 class="header-title">Deploying Your Applications</h1>
            </header>

            <article>
                
<p>Developers publish their apps to different marketplaces in order to distribute them to end users. For iOS, it's the Apple App Store. On Android, the primary choice is the Google Play Store.</p>
<p>If you're new to mobile development thanks to the power of React Native, this will seem like a new world for you. Having a background in the Web, I personally felt lost at first when it came time to publish my first mobile app-after all, we're used to deploying our apps to a server.</p>
<p>In this chapter, you're going to do the following things:</p>
<ul>
<li>Discover the requirements for submitting an app to both the Apple App Store and Google Play</li>
<li>Learn about the importance of app logos and screenshots</li>
<li>Write a description for our application</li>
<li>For iOS, verify our app with Xcode and bundle it for submission to iTunes Connect</li>
<li>Submit the iOS app for review with Apple</li>
<li>Use TestFlight to create internal and external beta tests for users</li>
<li>Use the Developer Console to add and submit our Android application to Google Play</li>
<li>Learn how to send alpha and beta versions of our Android apps to test users</li>
</ul>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Basic requirements</h1>
            </header>

            <article>
                
<p>At a base level, to submit your apps to either the App Store or Google Play, you will need a developer membership for the platform(s) of your choice.</p>
<p>For iOS, you will need an Apple Developer membership. This annual, paid membership gives you the ability to publish on all of Apple's platforms-iOS, macOS, and tvOS. It also grants you the option of sending preproduction versions of your applications to beta testers first.</p>
<p>With distribution to an Android device, the most popular channel is the Google Play Store. It reaches every official, Google-supported Android device and requires a Publisher Account.</p>
<p>For both apps, we also need to provide app icons so that our users don't install a blank icon to their devices, and screenshots so that they have a better idea of what they are downloading in advance.</p>
<p>Before we go any further, it should be stated that the app we've built, with the included screenshots, may not be accepted by an editorial board for sale on either App Store. We're using this project as a means to have a working app for going through the motions of actually submitting an application.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Creating developer memberships</h1>
            </header>

            <article>
                
<p>The process for signing up for a developer membership in either store is different. Since the prerequisites and steps to do so may change at any given time, I will spare you the step-by-step details.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Enrolling in the Apple Developer Program</h1>
            </header>

            <article>
                
<p>To sign up for an Apple Developer account, point your browser to <a href="https://developer.apple.com"><span class="URLPACKT">https://developer.apple.com</span></a>.</p>
<p>Joining the Apple Developer Program requires an Apple ID. As of the publishing of this book, members pay a $99 annual fee for the program.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Signing up for a Google Play Publisher account</h1>
            </header>

            <article>
                
<p>To get started with your Publisher account, point your browser to <a href="https://play.google.com/apps/publish"><span class="URLPACKT">https://play.google.com/apps/publish</span></a>.</p>
<p>To sign up for a Google Play Publisher Account, you will need a Google Account-usually, this is your Gmail address. As of the publishing of this book, the program requires a $25 one-time fee to join.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Making your app look great</h1>
            </header>

            <article>
                
<p>In addition to having membership in the appropriate platforms' developer programs, submitting your application to either store requires that you provide it with an app logo, screenshots of the app, and a description.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Creating an icon</h1>
            </header>

            <article>
                
<p>Icons are the gateway to your application. It's what your users will interact with to access your app. To submit an application to the appropriate marketplace of your choice, it has to have an icon.</p>
<p>Because an icon is your app's brand, it's increasingly not enough to simply create a solid color shade and slap some text on it-users expect more.</p>
<div class="packt_infobox">Personally, I like using Sketch (<a href="https://www.sketchapp.com/"><span class="URLPACKT">https://www.sketchapp.com/</span></a>) to design my app icons. While my design skills are not the greatest, I find it simple and intuitive to use.</div>
<p>There are so many ways you can procure an icon for your application. You could hire someone (either locally or online) to design one, or create one yourself using a plethora of applications.</p>
<div class="packt_infobox">When I need to generate different-sized app icons for submission to the App Store and Google Play, my go-to service is MakeAppIcon (<a href="https://makeappicon.com"><span class="URLPACKT">https://makeappicon.com</span></a>), which is available on the Web as a drag and drop service, as well as a standalone Mac app.</div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Taking app screenshots</h1>
            </header>

            <article>
                
<p>Screenshots give your potential app customers a glimpse into how your application looks.</p>
<p>One quick way to create screenshots is simply to take them on your device or simulator with the application running, and then upload those to the App Store or Google Play.</p>
<p>You can add additional aesthetics to your screenshots using a variety of services. There happens to be one that imposes your screenshot within the photo of an iOS device, giving your potential customers a look at how the app appears on a physical device.</p>
<div class="packt_infobox">To add things such as a device/background to my screenshots, LaunchKit has a great Sketch-to-App-Store plugin (<a href="http://sketchtoappstore.com/"><span class="URLPACKT">http://sketchtoappstore.com/</span></a>) that can help make this happen, though the devices available to impose your screenshots on are a bit dated-the most recent iOS device is an iPhone 6 Plus, and the only available Android device is a Nexus 5.</div>
<p>There are also services that help strip out the status bar in case you don't want it shown in your screenshot--especially important if you're taking that screenshot on a device with a heavily populated status bar or if your screenshots have varying times showing on the bar and you want to present them with a level of consistency.</p>
<div class="packt_infobox">I like using Status Barred from the Mac App Store (<a href="https://itunes.apple.com/us/app/status-barred/id413853485?mt=12">https://itunes.apple.com/us/app/status-barred/id413853485?mt=12</a>) to crop the status bar from my screenshots.</div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Writing a description</h1>
            </header>

            <article>
                
<p>Without a proper description, your potential customers won't know what your application does or have the relevant information to decide whether to install your app or not. Regardless of whether your app is free or paid, the lack of a proper description will be a negative strike against your application.</p>
<p>A simple one-liner won't do it either--you want to convey to your potential customers exactly why they want to download your app. What does it do? What features does it have that will make your users interested in it?</p>
<p>Always take the opportunity to write a detailed description for your application.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Combining it all</h1>
            </header>

            <article>
                
<p>Like it or not, a good description alongside a nice app icon and screenshots does make or break your app when a potential customer decides whether to download it or not.</p>
<p>Once you have a developer membership, an icon, screenshots for your app, and a description, you're ready to start the process of submitting your application for the world to enjoy.</p>
<p>Next, we are going to go through the steps taken to submit <kbd>Friends</kbd>, our Facebook client, over to both the App Store and Google Play.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Apple App Store</h1>
            </header>

            <article>
                
<p>The first thing we need to do is give our app an iOS App ID. In the Apple Developer portal at <a href="https://developer.apple.com"><span class="URLPACKT">https://developer.apple.com</span></a>, select <span class="packt_screen">Certificates, Identifiers &amp; Profiles</span>:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-2291 image-border" height="687" src="assets/Image-1.png" width="554"/><br/></div>
<p>Once you are in the portal to manage your <span class="packt_screen">Certificates, Identifiers, &amp; Profiles</span>, select the option for App IDs, then press the add button in the upper-right corner:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-2293 image-border" height="547" src="assets/Image-2.png" width="502"/></div>
<p>This will take you to a page that allows you to register an App ID. Give it a name (without special characters) and then decide whether you'll give the app an <span class="packt_screen">Explicit App ID</span> or <span class="packt_screen">Wildcard App ID</span>, followed by announcing any services that you intend to enable in your app.</p>
<p>An <span class="packt_screen">Explicit App ID</span> is required if you implement app-specific services such as push notifications, in-app purchases, and Apple Pay.</p>
<p class="CDPAlignLeft CDPAlign">If you don't plan on using any app-specific services, Apple recommends that you use a <span class="packt_screen">Wildcard App ID</span> instead:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-2295 image-border" height="534" src="assets/Image-3.png" width="492"/></div>
<div class="packt_figure CDPAlignCenter CDPAlign"><br/></div>
<p>Once configured, you'll be asked to confirm your App ID. If everything looks right, hit the <span class="packt_screen">Register</span> button to complete registration of your App ID:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-2297 image-border" height="549" src="assets/Image-4.png" width="503"/></div>
<div class="packt_figure CDPAlignCenter CDPAlign"><br/></div>
<p>With an App ID for Friends created, our next step is to open the project in Xcode and make some changes to our project.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Modifying the Bundle ID in Xcode</h1>
            </header>

            <article>
                
<p>Open the folder where your repo for <kbd>Friends</kbd> is located, and go into the <kbd>ios</kbd> folder. Open <kbd>Friends.xcodeproj</kbd>, which will automatically launch in Xcode.</p>
<p>In Xcode, go to the <span class="packt_screen">General</span> tab for your project and select the <span class="packt_screen">Team</span> drop-down menu under <span class="packt_screen">Signing</span>. Sign in with your Apple ID and password. Once you do so, a Signing Certificate should be automatically generated for you.</p>
<p>Then, under <span class="packt_screen">Identity</span>, set your <span class="packt_screen">Bundle Identifier</span> to the App ID you previously added in the Apple Developer Portal. After this, we'll add an icon for the app. I've added icons that you can use for this reason in the repository belonging to this chapter.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Adding app icons in Xcode</h1>
            </header>

            <article>
                
<p>While still in the <span class="packt_screen">General</span> tab, select the arrow to the immediate right of the <span class="packt_screen">App Icons Source</span> drop-down menu:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1861 image-border" height="606" src="assets/Screen_Shot_2016-12-27_at_10_02_00_PM.png" width="723"/></div>
<p>Afterwards, you will be taken to a screen that will let you drag and drop image assets to their corresponding logos. Xcode will provide warnings if you end up adding an incorrectly sized icon to the wrong drop zone:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1862 image-border" height="636" src="assets/Screen-Shot-2016-12-27-at-10.03.18-PM.png" width="2794"/></div>
<p>The text underneath each drop zone's section shows the target resolution for each icon.</p>
<p>Once you have your app icons set up, it's time to create an archive of your application for submission to iTunes Connect.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Creating an archive</h1>
            </header>

            <article>
                
<p>First up, let's make sure that our project's scheme settings are properly archiving the release version of our app and not the debugging one by going into the Mac Toolbar when Xcode is open and selecting <span class="packt_screen">Product</span> | <span class="packt_screen">Scheme</span> | <span class="packt_screen">Edit Scheme</span>:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1458 image-border" height="458" src="assets/image_08_007-2.png" width="265"/></div>
<p>Once this pane has opened, select the <span class="packt_screen">Archive</span> option on the left-hand column and confirm that the <span class="packt_screen">Build Configuration</span> is set to <span class="packt_screen">Release</span>:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="383" src="assets/image_08_008.png" width="679"/></div>
<p>Now, close this and go over to this drop-down menu, which lets you select the device to build and run your app for in Xcode:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1468 image-border" height="114" src="assets/image_08_009-2.png" width="418"/></div>
<p>Xcode will not allow you to create an archive of an app whose target is an iOS Simulator device. If you attempt to do so, the option will simply be grayed out under the <span class="packt_screen">Product</span> menu.</p>
<p>Click on this drop-down menu and select <span class="packt_screen">Generic iOS Device</span>:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1459 image-border" height="330" src="assets/image_08_010-2.png" width="241"/></div>
<p>Finally, go back to the <span class="packt_screen">Product</span> menu in Xcode and select <span class="packt_screen">Archive</span>:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="245" src="assets/image_08_011.png" width="157"/></div>
<p>Xcode will now build and archive your app to get it ready for distribution to iTunes Connect. If everything works great, you'll see the following list of archives with some options on the right-hand side:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-2299 image-border" height="1520" src="assets/Image-5.png" width="2400"/></div>
<p>Keep this screen open, since we will need it in a moment. For now, let's go into iTunes Connect to add the app to our account.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">iTunes Connect</h1>
            </header>

            <article>
                
<p>iTunes Connect is the portal Apple developers use to submit their applications. To get there, point your browser to <a href="https://itunesconnect.apple.com"><span class="URLPACKT">https://itunesconnect.apple.com</span></a> and sign in if needed. You'll land on the iTunes Connect dashboard. On it, select <span class="packt_screen">My Apps</span>, which is the first app on the left in the top row.</p>
<p>Once selected, you'll arrive at a list of apps you have submitted to iTunes Connect, and their statuses.</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-2301 image-border" height="561" src="assets/Image-6.png" width="451"/></div>
<div class="packt_figure CDPAlignCenter CDPAlign"><br/></div>
<p>To submit a new app, choose the add symbol in the top-left corner and select <span class="packt_screen">New App</span>:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-2302 image-border" height="610" src="assets/Image-7.png" width="557"/></div>
<div class="packt_figure CDPAlignCenter CDPAlign"><br/></div>
<p>You'll be asked to fill out some details about your app in the modal that appears. Select your platform (<span class="packt_screen">iOS</span>), give the app a name, primary language, <span class="packt_screen">Bundle ID</span> (mapped to the App ID in the Developer Portal you created, which is also your application's <span class="packt_screen">Bundle ID</span> in Xcode), and a unique <span class="packt_screen">SKU</span>:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="343" src="assets/image_08_015.png" width="310"/></div>
<p>Once you complete this step, you'll be taken to a summary page about your app. Let's skip back to Xcode for now and finish the process of validating and submitting our app to iTunes Connect.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Validating our app in Xcode</h1>
            </header>

            <article>
                
<p>Go ahead and select <span class="packt_screen">Validate</span> in the last screen you were in with Xcode, which should result in this <span class="packt_screen">Summary</span> screen:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="282" src="assets/image_08_016.png" width="459"/></div>
<p>Click on the <span class="packt_screen">Validate</span> button. Let it do its work in communicating with iTunes Connect and, if everything checks out, you'll receive a Validation Successful prompt. If this is the case, hit <span class="packt_screen">Done</span> and let's begin uploading our app.</p>
<p>Pressing the <span class="packt_screen">Upload to App Store</span> button, you will be prompted with a similar request to choose your Development Team and then press <span class="packt_screen">Upload</span>:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="300" src="assets/image_08_017.png" width="494"/></div>
<p>At this point, the archive of your project will begin the process of uploading and verifying its assets with the App Store. Give it some time and, once it's finished, you will see an Upload Successful prompt. Once you do, let's go right back to iTunes Connect.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Submitting our app for review</h1>
            </header>

            <article>
                
<p>We have a few final steps before we can submit our app for review. First, we need to add screenshots to it. In the folder for this chapter, I have added screenshots that you can play around with.</p>
<p>We'll select our app under the label <span class="packt_screen">1.0 Prepare for Submission</span> in the left-hand column, then drag our screenshots to the drop zone:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-2303 image-border" height="591" src="assets/Image-8.png" width="539"/></div>
<div class="packt_figure CDPAlignCenter CDPAlign"><br/></div>
<p>Next, give the app a <span class="packt_screen">Description</span>, some <span class="packt_screen">Keywords</span>, and <span class="packt_screen">Support</span>, and <span class="packt_screen">Marketing</span> URLs. After you've done so, scroll down and select a build to submit--this will be the one we just uploaded to the App Store through Xcode, in the previous section:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-2304 image-border" height="560" src="assets/Image-9.png" width="512"/></div>
<div class="packt_figure CDPAlignCenter CDPAlign"><br/></div>
<p>iTunes Connect automatically scales down images made for a 5.5" display so that smaller display types don't need their own unique images unless you wish to assign them yourself.</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="153" src="assets/image_08_020.png" width="488"/></div>
<p>You'll find that the builds you've uploaded through Xcode are automatically populated in the modal that appears, with its corresponding version and build numbers that you've assigned in Xcode:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="182" src="assets/image_08_021.png" width="499"/></div>
<p>Once selected, the <span class="packt_screen">Build</span> section in iTunes Connect will update with your app's information:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="207" src="assets/image_08_022.png" width="511"/></div>
<p>The next step is to include an app icon of 1024 × 1024 under <span class="packt_screen">General App Information</span> and to populate it with a copyright and your contact information:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="382" src="assets/image_08_023.png" width="571"/></div>
<p>Then, provide your contact information, along with any notes you'd like the App Store reviewers to read, as well as a Demo Account if one is necessary to use all the features of the app.</p>
<p>Finally, decide whether you'd like your app to be released immediately or not once approved by the App Store reviewers:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="527" src="assets/image_08_024.png" width="532"/></div>
<p>When you've filled out all these details, press the <span class="packt_screen">Submit for Review</span> button at the top. That's it, you're done! Pat yourself on the back and wait for Apple's review team to get back to you with either an approval or rejection.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Beta testing iOS apps with TestFlight</h1>
            </header>

            <article>
                
<p>TestFlight is a service Apple acquired a few years ago that is fully integrated with iTunes Connect. It lets you test your iOS apps before you release them on the App Store, with a select group of beta testers.</p>
<p>Beta testing is important because it gives developers the ability to gather feedback on their app as it is being used in real-life situations, and discover bugs they might not have caught otherwise.</p>
<p>There are two kinds of tests you can run with TestFlight: <strong>Internal</strong> and <strong>External</strong> tests.</p>
<p>In an Internal test, users within your team who have been assigned a Developer or Admin role in iTunes Connect can privately test the app, allowing you to gain feedback from them quickly. Up to 25 users can be part of an Internal test.</p>
<p>For External tests, you can invite any users from outside your organization to test your app. Apps made available to an External test can accept up to 2,000 users, and the app must be reviewed by Apple before you can begin testing.</p>
<p>From my experience, the <span class="packt_screen">Beta App Review</span> process takes a significantly shorter period of time than the formal App Review process for publicly releasing your app to all users.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Entering test information</h1>
            </header>

            <article>
                
<p>The first step in making your app available via TestFlight is to log in to iTunes Connect, select one of your apps, and then choose the <span class="packt_screen">TestFlight</span> tab. Then, fill out the <span class="packt_screen">Test Information</span> form to provide some details about your app:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-2305 image-border" height="1138" src="assets/Image-10.png" width="1330"/></div>
<p>Once those details have been saved, you can begin setting up either an Internal or External test.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Creating an Internal beta test with TestFlight</h1>
            </header>

            <article>
                
<p>To create an Internal test, select the <span class="packt_screen">Internal Test</span> option in the sidebar and click on <span class="packt_screen">Select Version to Test</span>, which will make the following modal visible:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-2306 image-border" height="1139" src="assets/Image-11.png" width="1330"/></div>
<p>If you have uploaded multiple builds of your app, you should see them appear here. Select the one you wish to send out to your beta testers and press the <span class="packt_screen">Next</span> button. If your app has not been previously configured to declare its <span class="packt_screen">Export Compliance</span>, you will be brought to a second question on the modal asking if your app is designed to use, contain, or incorporate cryptography.</p>
<p>Next, you can click on the <span class="packt_screen">Internal Testers</span> box to add at least one tester. This list is populated with any users you have added via iTunes Connect. If you have not added anyone to your team so far, you will only see yourself as a listed beta tester.</p>
<p>To change this, go back to the main iTunes Connect portal and select <span class="packt_screen">Users and Roles</span>:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1476 image-border" height="642" src="assets/image_08_027-2.png" width="762"/></div>
<p>Select the + icon to add a user, and fill out the multi-page form to proceed:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="62" src="assets/image_08_028.png" width="172"/></div>
<p>Once you have added the users you wish to send an Internal test to, you can select them in the <span class="packt_screen">Internal Testing</span> section of the <span class="packt_screen">TestFlight</span> tab in the app you wish to beta test. When you have selected everyone, click the <span class="packt_screen">Start Testing</span> button and your users will receive an e-mail notification to join the test!</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Creating an External beta test with TestFlight</h1>
            </header>

            <article>
                
<p>The process for creating an External test has a couple of things that differ from the Internal one. First, you will have to submit your app for review to Apple before it is approved for the External beta. When you click on the <span class="packt_screen">Add Build to Test</span> button for an External test, you will see the following prompt to fill out more details about the app:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="311" src="assets/image_08_029.png" width="422"/></div>
<p>This is for specifying to your users exactly what parts of the app they should be testing, along with a description for them to read. You will also need to provide an e-mail they can send feedback to, along with a marketing URL for your app.</p>
<p>You will then be taken to two more parts of this modal, where you are asked to provide details for the <span class="packt_screen">Beta App Review</span> team. The first part will consist of your <span class="packt_screen">Contact Information</span> in the event Apple would like to get in touch with you regarding your app, along with the ability to add a test account for the <span class="packt_screen">Beta App Review</span> team to use:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="318" src="assets/image_08_030.png" width="443"/></div>
<p>Afterwards, you will be asked to provide a description of the app and what the team should be aware of as they perform a review of your app:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="278" src="assets/image_08_031.png" width="387"/></div>
<p>You will not be able to begin an External test until your app has cleared <span class="packt_screen">Beta App Review</span>:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="67" src="assets/image_08_032.png" width="285"/></div>
<p>In the meantime, you can add users to the test with one of three options:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="106" src="assets/image_08_033.png" width="199"/></div>
<p>The first is to add new testers by entering their name and e-mail address, which will bring up a modal allowing you to do so:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1461 image-border" height="397" src="assets/image_08_034-2.png" width="455"/></div>
<p>The next option lets you add existing External test users that have beta tested any apps of yours in the past. That option will give you a list along with checkboxes for you to select users to add.</p>
<p>The final option is to import a CSV file of your External test users.</p>
<p>Once you have added at least one user and your build has been approved by <span class="packt_screen">Beta App Review</span>, you can submit the app and begin the beta test!</p>
<p>That's everything we are going to cover regarding the iOS App Store and iTunes Connect. In the next section, we will look at what we would do to upload Friends for Android to the Google Play Store.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Google Play Store</h1>
            </header>

            <article>
                
<p>To submit an app to the Google Play Store, we'll have to take the following steps:</p>
<ul>
<li>Add an App Icon</li>
<li>Give our app a unique package identifier</li>
<li>Generate a signed APK file</li>
<li>Upload that APK file to the Google Play developer portal</li>
<li>Add screenshots and a description for our app</li>
</ul>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Adding an app icon for Android</h1>
            </header>

            <article>
                
<p>In order to give your Android app an icon, we're going to navigate to the following folder in our repo: <kbd>android/app/src/main/res</kbd>.</p>
<p>Then, add an icon image renamed <kbd>ic_launcher.png</kbd> to each of the four folders with the corresponding dimensions:</p>
<ul>
<li><kbd>mipmap-hdpi: 72 × 72</kbd></li>
<li><kbd>mipmap-mdpi: 48 × 48</kbd></li>
<li><kbd>mipmap-xhdpi: 96 × 96</kbd></li>
<li><kbd>mipmap-xxhdpi: 144 × 144</kbd></li>
</ul>
<p>Once you've added these images, run the <kbd>react-native run-android</kbd> command to build your app, and you should see the icons updated on the home screen of your Android Virtual Device.</p>
<p>For your convenience, app icons for the Android version of Friends have been made available in the repo pertaining to this chapter's code.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Creating a unique package identifier</h1>
            </header>

            <article>
                
<p>Your APK won't be uploaded to the Google Play Developer Console if its package name is the same as another app that already exists in the Google Play Store. To give it a unique name, we'll first open Android Studio and import the <kbd>Android</kbd> folder of our app to it.</p>
<p>Select <span class="packt_screen">Import Project (Eclipse ADT, Gradle, etc.)</span> from the Android Studio welcome screen. Then navigate to the repository for your project and import just the <kbd>Android</kbd> folder within.</p>
<p>Afterwards, open <kbd>AndroidManifest.xml</kbd> and change the package name on the second line.</p>
<p>Then, right-click on your <kbd>app</kbd> folder that contains the package identifier, and select <span class="packt_screen">Refactor</span> | <span class="packt_screen">Rename</span>. Then, give your package a new name:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="320" src="assets/image_08_035.png" width="552"/></div>
<p>Now open up <kbd>build.gradle</kbd> within the <kbd>android/app</kbd> folder, and replace any instances of your old package identifier with your new one. The changes you've made will be applied automatically.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Generating a Signed APK file</h1>
            </header>

            <article>
                
<p>First, in your terminal, we'll generate a private signing key:</p>
<pre>
    <strong>$ keytool -genkey -v -keystore friends-release-key.keystore -alias <br/>    friends -key-alias -keyalg RSA</strong><br/><strong>-keysize 2048 -validity 10000</strong>
</pre>
<p>You'll set a password for your keystore and key. Your release key will be labeled <kbd>friends-release-key</kbd>, unless you choose otherwise.</p>
<p>The <kbd>validity</kbd> flag in this command sets the validity of the key for <kbd>x</kbd> number of days. In this case, it's <kbd>10000</kbd>, due to our command.</p>
<p>This <kbd>keystore</kbd> file will be located at the directory in which your terminal prompt was when you ran the command. Move it over to <kbd>android/app</kbd> in your Friends app repo.</p>
<div class="packt_infobox">Important! It's not a good idea to commit your <kbd>keystore</kbd> file to Git or any other version control system. Make sure to add this file to <kbd>.gitignore</kbd>.</div>
<p>Then, open up your <kbd>gradle.properties</kbd> file and add the following information:</p>
<pre>
// Friends/android/gradle.properties <br/>MYAPP_RELEASE_STORE_FILE=friends-release-key.keystore <br/>MYAPP_RELEASE_KEY_ALIAS=friends-key-alias <br/>MYAPP_RELEASE_STORE_PASSWORD=YOURPASSWORDHERE <br/>MYAPP_RELEASE_KEY_PASSWORD=YOURPASSWORDHERE
</pre>
<p>Replace <kbd>YOURPASSWORDHERE</kbd> with the password you created for your release store and release key.</p>
<p>Next up, we're going to add the signing configuration to your app's <kbd>build.gradle</kbd> file:</p>
<pre>
// Friends/android/app/build.gradle <br/><br/>... <br/>android { <br/>    ... <br/>    signingConfigs { <br/>      release { <br/>           storeFile file(MYAPP_RELEASE_STORE_FILE) <br/>           storePassword MYAPP_RELEASE_STORE_PASSWORD <br/>        keyAlias MYAPP_RELEASE_KEY_ALIAS <br/>        keyPassword MYAPP_RELEASE_KEY_PASSWORD <br/>      } <br/>    } <br/>    ... <br/>    buildTypes { <br/>        release { <br/>            ... <br/>            signingConfig signingConfigs.release <br/>        } <br/>    } <br/>    ... <br/>} <br/>...
</pre>
<p>Afterwards, let's generate the APK. Back in terminal, change to the <kbd>Android</kbd> directory and run the following:</p>
<pre>
    <strong>./gradlew assembleRelease</strong>
</pre>
<p>The build process can take a few minutes. Once it's finished, you'll find your generated signed APK under <kbd>android/app/build/outputs/apk/app-release.apk</kbd>.</p>
<p>If you'd like to test it out on an Android Virtual Device, simply change your directory back to the root of the project and run the following:</p>
<pre>
    <strong>react-native run-android --variant=release</strong>
</pre>
<p>If everything looks right, then let's go and submit the app to the Google Play Store!</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Submitting to Google Play</h1>
            </header>

            <article>
                
<p>Head over to the Google Play Developer Console at <a href="https://play.google.com/apps/publish"><span class="URLPACKT">https://play.google.com/apps/publish</span></a>.</p>
<p>Once you're signed in with your Google account, select the<span class="packt_screen"> Publish an Android App</span> <span class="packt_screen">on Google Play</span> option, which is the top-left in the quadrant of cards made visible:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-2307 image-border" height="561" src="assets/Image-12.png" width="513"/></div>
<div class="packt_figure CDPAlignCenter CDPAlign"><br/></div>
<p>You'll be prompted to give your app a <span class="packt_screen">Default language</span> and <span class="packt_screen">Title</span>:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="240" src="assets/image_08_037.png" width="455"/></div>
<p>Once you create the app, you'll be taken to a page that allows you to edit the details of your application.</p>
<p>To submit an app, you're going to need to fill out the following information:</p>
<ul>
<li>A high-resolution 512 × 512 icon</li>
<li>A feature graphic</li>
<li>Two screenshots that are not for Android TV</li>
<li>Category and content rating</li>
<li>Short and full description of the app</li>
<li>Upload the APK we created earlier</li>
<li>Target at least one country for distribution</li>
<li>A URL that points to the app's privacy policy</li>
<li>Pricing information</li>
<li>Declaration of whether or not the app contains advertising</li>
</ul>
<p>Use the menu on the left-hand side to navigate between the four required tabs: <span class="packt_screen">Uploading your APK</span>, <span class="packt_screen">the listing on the Play Store</span>, <span class="packt_screen">Content rating</span>, and <span class="packt_screen">Pricing information</span>.</p>
<p>When all of the details have been filled out, let's navigate to the <span class="packt_screen">Manage releases</span> section in the sidebar to begin the process of rolling out your app to the Google Play Store:</p>
<div class="packt_infobox">As of March 2017, Google is planning on deprecating the APK page in the sidebar and encourages everyone to start migrating over to the <span class="packt_screen">Manage releases</span> page instead.</div>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-2310 image-border" height="1417" src="assets/Image-13.png" width="1360"/></div>
<p>Select <span class="packt_screen">Production</span> and you will be taken to the following page:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-2311 image-border" height="1417" src="assets/Image-14.png" width="1360"/></div>
<div class="packt_figure CDPAlignCenter CDPAlign"><br/></div>
<p>In the Google Play Developer Console, if you select your app and go into the <span class="packt_screen">Manage releases</span> option in the sidebar, you will be asked to either upload a new APK or add an existing APK from the library. In this scenario, I chose <span class="packt_screen">Add APK from library</span>, since I had already uploaded the <kbd>Friends APK</kbd> file previously.</p>
<p>Then I was asked to select from my list of existing APKs:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="204" src="assets/image_08_040.png" width="443"/></div>
<p>Afterwards, give the app a <span class="packt_screen">Release Name</span> and a <span class="packt_screen">Description</span> regarding what is new with this release, before pressing the <span class="packt_screen">Review</span> button in the bottom-right corner.</p>
<p>In the next step, you will be asked to review the details of your release before you roll it out to the public. Once you have confirmed the details are correct, press the <span class="packt_screen">Start rollout to production</span> button in the bottom-right corner. You will be prompted for confirmation.</p>
<p>Once you have confirmed, the app will begin rolling out to the Google Play Store!</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-2313 image-border" height="1417" src="assets/Image-15.png" width="1360"/></div>
<div class="packt_figure CDPAlignCenter CDPAlign"><br/></div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Alpha and beta testing Android apps</h1>
            </header>

            <article>
                
<p>In the <span class="packt_screen">Manage releases</span> page, you may have noticed there are buttons to manage alpha and beta releases of your app.</p>
<p>Functionality-wise, there are currently no differences between an alpha and beta test. However, you can test two different versions of your app at the same time by running an alpha test for one version and a beta test for the other.</p>
<p>Each test can be run against one of three different testing methods, available to each track:</p>
<ul>
<li><span class="packt_screen">Open:</span> This lets anyone with an opt-in link subscribe to it</li>
<li><span class="packt_screen">Closed</span>: This is where you have to specifically invite people to the test with their e-mail address</li>
<li><span class="packt_screen">Testing using Google Groups or Google+ Communities</span>: This is where only users in the groups or communities you specify will be allowed to join the test</li>
</ul>
<p>You will also need to create an app release for each test track, which goes through the same workflow as rolling out an app to production.</p>
<p>Once you have created a release for your test, a link will be generated for you to distribute among your testers, so they can install the app on their devices.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Summary</h1>
            </header>

            <article>
                
<p>That's it for this chapter! You've just taken your first step into publishing the apps you build with React Native for both iOS and Android devices.</p>
<p>In this chapter, we learned about the requirements and costs of signing up for developer accounts to publish our apps to the Apple App Store and Google Play Store. Then we looked at the requirements for submitting an app to those marketplaces, including app icons and screenshots.</p>
<p>We also built and uploaded app files for both platforms, generated a signed APK for our Android app, and then submitted the apps for distribution. Finally, we discovered how to make our apps available for prerelease testing with TestFlight for iOS and the Google Developer Console for Android.</p>
<p>In the final chapter, we're going to look at parts of the React Native SDK that we couldn't fit into our three existing projects, and discover how to use them.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </body></html>