<html><head></head><body>
<div id="sbo-rt-content"><div class="Basic-Text-Frame" id="_idContainer075">
<h1 class="chapterNumber">9</h1>
<h1 class="chapterTitle" id="_idParaDest-134">React Router </h1>
<p class="normal">React is a library that provides a lot of useful building blocks for creating web applications, but it doesn’t include everything you might need <em class="italic">out of the box</em>. One key feature that React doesn’t provide is routing, which is the ability to handle URLs and navigate between different pages or views in a single-page application. For that, we turn to third-party libraries, and the most<a id="_idIndexMarker325"/> popular one for React is <strong class="keyWord">React Router</strong>.</p>
<p class="normal">In this chapter, we’ll explore React Router and learn how to use it to create dynamic routes and handle navigation in our React applications. By the end of this chapter, you’ll have a good understanding of how React Router works and how to use it effectively in your own projects.</p>
<p class="normal">In this chapter, we will cover the following topics:</p>
<ul>
<li class="bulletList">Understanding the differences between the <code class="inlineCode">react-router</code>, <code class="inlineCode">react-router-dom</code>, and <code class="inlineCode">react-router-native</code> packages</li>
<li class="bulletList">How to install and configure React Router</li>
<li class="bulletList">Adding the <code class="inlineCode">&lt;Routes&gt;</code> component</li>
<li class="bulletList">Adding parameters to routes</li>
<li class="bulletList">React Router v6.4 and React Router loaders</li>
</ul>
<h1 class="heading-1" id="_idParaDest-135">Technical requirements</h1>
<p class="normal">To complete this chapter, you will need the following:</p>
<ul>
<li class="bulletList">Node.js 19+</li>
<li class="bulletList">Visual Studio Code</li>
</ul>
<p class="normal">You can find the code for this chapter in the book’s GitHub repository at <a href="https://github.com/PacktPublishing/React-18-Design-Patterns-and-Best-Practices-Fourth-Edition/tree/main/Chapter09"><span class="url">https://github.com/PacktPublishing/React-18-Design-Patterns-and-Best-Practices-Fourth-Edition/tree/main/Chapter09</span></a>. </p>
<h1 class="heading-1" id="_idParaDest-136">Installing and configuring React Router</h1>
<p class="normal">After you create a new React<a id="_idIndexMarker326"/> application<a id="_idIndexMarker327"/> using <code class="inlineCode">create-react-app</code>, the first thing<a id="_idIndexMarker328"/> you need to do is to install <strong class="keyWord">React Router v6.x</strong>, using the following command:</p>
<pre class="programlisting con"><code class="hljs-con">npm install react-router-dom @types/react-router-dom
</code></pre>
<p class="normal">You are probably confused about why we are installing <code class="inlineCode">react-router-dom</code> instead of <code class="inlineCode">react-router</code>. React Router contains all the common<a id="_idIndexMarker329"/> components of <code class="inlineCode">react-router-dom</code> and <code class="inlineCode">react-router-native</code>. That means that if you are using React for the web, you should use <code class="inlineCode">react-router-dom</code>, and if you are using React Native, you need to use <code class="inlineCode">react-router-native</code>.</p>
<p class="normal">The <code class="inlineCode">react-router-dom</code> package<a id="_idIndexMarker330"/> was created<a id="_idIndexMarker331"/> originally to contain version<a id="_idIndexMarker332"/> 4 and <code class="inlineCode">react-router</code> uses version 3. The <code class="inlineCode">react-router-dom</code> v6 package has some improvements over <code class="inlineCode">react-router</code>. They are listed here:</p>
<ul>
<li class="bulletList"><strong class="keyWord">Simplified route configuration</strong>: React Router v6 has introduced<a id="_idIndexMarker333"/> a more straightforward route configuration, eliminating the need for <code class="inlineCode">Switch</code> and exact props. Routes are now implicitly prioritized based on their definition order.</li>
<li class="bulletList"><strong class="keyWord">Nested routing</strong>: React Router v6 has improved support for nested routing. The <code class="inlineCode">Outlet</code> component is used to render child routes, allowing for more intuitive and maintainable route structures.</li>
<li class="bulletList"><strong class="keyWord">Simplified navigation</strong>: In v6, the <code class="inlineCode">useNavigate</code> hook has replaced the <code class="inlineCode">useHistory</code> hook, providing a more straightforward and declarative approach to navigation.</li>
<li class="bulletList"><strong class="keyWord">Route relative links and navigation</strong>: With the introduction of the <code class="inlineCode">useLinkProps</code> and <code class="inlineCode">Link</code> components in v6, it’s now easier to create links relative to the current route. This reduces the need to hardcode full paths and simplifies route management.</li>
<li class="bulletList"><strong class="keyWord">Simplified route guards</strong>: React Router v6 introduces a more streamlined approach to route guards using the <code class="inlineCode">useRoutes</code> hook and the <code class="inlineCode">element</code> prop. It allows for easier and more maintainable route protection patterns.</li>
</ul>
<div class="note">
<p class="normal">Since React Router v6.4, the approach to creating routes has changed slightly, but it still supports the “old way.” In our final section, we will convert the same example to the new approach.</p>
</div>
<h1 class="heading-1" id="_idParaDest-137">Creating our sections</h1>
<p class="normal">Let’s create some sections<a id="_idIndexMarker334"/> to test some basic routes. We need to create four stateless components (<code class="inlineCode">About</code>, <code class="inlineCode">Contact</code>, <code class="inlineCode">Home</code>, and <code class="inlineCode">Error404</code>) and name them as <code class="inlineCode">index.tsx</code> in their directories.</p>
<p class="normal">You can add the following to the <code class="inlineCode">src/components/Home.tsx</code> component:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> <span class="hljs-title">Home</span> = () =&gt; (
<span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">className</span><span class="hljs-tag">=</span><span class="hljs-string">"</span><span class="hljs-string">Home"</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">h1</span><span class="hljs-tag">&gt;</span>Home<span class="hljs-tag">&lt;/</span><span class="hljs-name">h1</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">Home</span>
</code></pre>
<p class="normal">The <code class="inlineCode">src/components/About.tsx</code> component can be created with the following:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> <span class="hljs-title">About</span> = () =&gt; (
<span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">className</span><span class="hljs-tag">=</span><span class="hljs-string">"About"</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">h1</span><span class="hljs-tag">&gt;</span>About<span class="hljs-tag">&lt;/</span><span class="hljs-name">h1</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">About</span>
</code></pre>
<p class="normal">The following creates the <code class="inlineCode">src/components/Contact.tsx</code> component:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> <span class="hljs-title">Contact</span> = () =&gt; (
<span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">className</span><span class="hljs-tag">=</span><span class="hljs-string">"Contact"</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">h1</span><span class="hljs-tag">&gt;</span>Contact<span class="hljs-tag">&lt;/</span><span class="hljs-name">h1</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">Contact</span>
</code></pre>
<p class="normal">Finally, the <code class="inlineCode">src/components/Error404.tsx</code> component is created as follows:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> <span class="hljs-title">Error404</span> = () =&gt; (
<span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">className</span><span class="hljs-tag">=</span><span class="hljs-string">"</span><span class="hljs-string">Error404"</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">h1</span><span class="hljs-tag">&gt;</span>Error404<span class="hljs-tag">&lt;/</span><span class="hljs-name">h1</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">Error404</span>
</code></pre>
<p class="normal">After we have created<a id="_idIndexMarker335"/> all the functional components, we need to modify our <code class="inlineCode">index.tsx</code> file to import our route file, which we will create in the next step:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment">// Dependencies</span>
<span class="hljs-keyword">import</span> { createRoot } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom/client'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title">BrowserRouter</span> <span class="hljs-keyword">as</span> <span class="hljs-title">Router</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>
<span class="hljs-comment">// Routes</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">AppRoutes</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./routes'</span>
<span class="hljs-title">createRoot</span>(<span class="hljs-variable">document</span>.<span class="hljs-title">getElementById</span>(<span class="hljs-string">'</span><span class="hljs-string">root'</span>) <span class="hljs-keyword">as</span> <span class="hljs-title">HTMLElement</span>).<span class="hljs-title">render</span>(
<span class="hljs-tag">&lt;</span><span class="hljs-name">Router</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">  &lt;</span><span class="hljs-name">AppRoutes</span><span class="hljs-tag"> /&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">Router</span><span class="hljs-tag">&gt;</span>
)
</code></pre>
<p class="normal">Now, we need to create the <code class="inlineCode">src/routes.tsx</code> file, where we will render our <code class="inlineCode">Home</code> component when the user accesses the root path (<code class="inlineCode">/</code>):</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment">// Dependencies</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title">Routes</span>, <span class="hljs-title">Route</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>
<span class="hljs-comment">// Components</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/Home'</span>
<span class="hljs-keyword">const</span> <span class="hljs-title">AppRoutes</span> = () =&gt; (
<span class="hljs-tag">&lt;</span><span class="hljs-name">App</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;</span><span class="hljs-name">Routes</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"/"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Home</span><span class="hljs-tag"> /&gt;</span>} /&gt;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">Routes</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">App</span><span class="hljs-tag">&gt;</span>
)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">AppRoutes</span>
</code></pre>
<p class="normal">After that, we need to modify our <code class="inlineCode">App.tsx</code> file to render the route components as children:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-variable">FC</span>, <span class="hljs-title">ReactNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./App.css'</span>
type <span class="hljs-title">Props</span> = {
<span class="hljs-attr">children</span>: <span class="hljs-title">ReactNode</span>
}
<span class="hljs-keyword">const</span> <span class="hljs-title">App</span>: <span class="hljs-variable">FC</span>&lt;<span class="hljs-title">Props</span>&gt; = <span class="hljs-function">(</span><span class="hljs-params">{ children }</span><span class="hljs-function">) =&gt;</span> (
<span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">className</span><span class="hljs-tag">=</span><span class="hljs-string">"App"</span><span class="hljs-tag">&gt;</span>
    {children}
<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">App</span>
</code></pre>
<p class="normal">If you run the application, you will see the <code class="inlineCode">Home</code> component in the root (<code class="inlineCode">/</code>):</p>
<figure class="mediaobject"><img alt="" height="187" src="../Images/B18414_09_01.png" width="825"/></figure>
<p class="packt_figref">Figure 9.1: Home page</p>
<p class="normal">Now, let’s add <code class="inlineCode">Error404</code> when the user tries<a id="_idIndexMarker336"/> to access any other route:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment">// Dependencies</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title">Routes</span>, <span class="hljs-title">Route</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>
<span class="hljs-comment">// Components</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/Home'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">Error404</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/Error404'</span>
<span class="hljs-keyword">const</span> <span class="hljs-title">AppRoutes</span> = () =&gt; (
<span class="hljs-tag">&lt;</span><span class="hljs-name">App</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">Routes</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"/"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Home</span><span class="hljs-tag"> /&gt;</span>} /&gt;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"*"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Error404</span><span class="hljs-tag"> /&gt;</span>} /&gt;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">Routes</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">App</span><span class="hljs-tag">&gt;</span>
)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">AppRoutes</span>
</code></pre>
<p class="normal">Now, if you go to <code class="inlineCode">/somefakeurl</code>, you will be able to see the <strong class="screenText">Error404</strong> component:</p>
<figure class="mediaobject"><img alt="" height="182" src="../Images/B18414_09_02.png" width="825"/></figure>
<p class="packt_figref">Figure 9.2: Error 404 page</p>
<p class="normal">Now, we can add our other components (<code class="inlineCode">About</code> and <code class="inlineCode">Contact</code>):</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment">// Dependencies</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title">Routes</span>, <span class="hljs-title">Route</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>
<span class="hljs-comment">// Components</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/About'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">Contact</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/Contact'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/Home'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">Error404</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'</span><span class="hljs-string">./components/Error404'</span>
<span class="hljs-keyword">const</span> <span class="hljs-title">AppRoutes</span> = () =&gt; (
<span class="hljs-tag">&lt;</span><span class="hljs-name">App</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">Routes</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"/"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Home</span><span class="hljs-tag"> /&gt;</span>} /&gt;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"/about"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">About</span><span class="hljs-tag"> /&gt;</span>} /&gt;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"/contact"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Contact</span><span class="hljs-tag"> /&gt;</span>} /&gt;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"*"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Error404</span><span class="hljs-tag"> /&gt;</span>} /&gt;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">Routes</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">App</span><span class="hljs-tag">&gt;</span>
)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">AppRoutes</span>
</code></pre>
<p class="normal">Now, you can visit <code class="inlineCode">/about</code>:</p>
<figure class="mediaobject"><img alt="Graphical user interface, text, application, chat or text message  Description automatically generated" height="184" src="../Images/B18414_09_03.png" width="825"/></figure>
<p class="packt_figref">Figure 9.3: About page</p>
<p class="normal">Alternatively, you can<a id="_idIndexMarker337"/> now visit <code class="inlineCode">/contact</code>:</p>
<figure class="mediaobject"><img alt="" height="241" src="../Images/B18414_09_04.png" width="726"/></figure>
<p class="packt_figref">Figure 9.4: Contact page</p>
<p class="normal">Now that you have implemented your first routes, let’s add some parameters to the routes in the next section.</p>
<h1 class="heading-1" id="_idParaDest-138">Adding parameters to the routes</h1>
<p class="normal">So far, you have learned<a id="_idIndexMarker338"/> how to use React Router for basic routes (one-level routes). Next, I will show you how to add some parameters to the routes and get them into your components.</p>
<p class="normal">For this example, we will create a <code class="inlineCode">Contacts</code> component to display a list of contacts when we visit the <code class="inlineCode">/contacts</code> route, but we will show the contact information (name, phone, and email) when the user visits <code class="inlineCode">/contacts/:contactId</code>.</p>
<p class="normal">The first thing we need to do is to create our <code class="inlineCode">Contacts</code> component. Let’s use the following skeleton: <span class="hljs-keyword">const</span> <span class="hljs-title">Contacts</span> = () =&gt; ( </p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">className</span><span class="hljs-tag">=</span><span class="hljs-string">"Contacts"</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">  &lt;</span><span class="hljs-name">h1</span><span class="hljs-tag">&gt;</span>Contacts<span class="hljs-tag">&lt;/</span><span class="hljs-name">h1</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">Contacts</span>
</code></pre>
<p class="normal">Let’s use these CSS styles:</p>
<pre class="programlisting code"><code class="hljs-code">.<span class="hljs-property">Contacts</span> ul {
  list-<span class="hljs-attr">style</span>: none;
<span class="hljs-attr">  margin</span>: <span class="hljs-number">0</span>;
  margin-<span class="hljs-attr">bottom</span>: 20px;
<span class="hljs-attr">  padding</span>: <span class="hljs-number">0</span>;
}
.<span class="hljs-property">Contacts</span> ul li {
<span class="hljs-attr">  padding</span>: 10px;
}
.<span class="hljs-property">Contacts</span> a {
<span class="hljs-attr">  color</span>: #<span class="hljs-number">555</span>;
  text-<span class="hljs-attr">decoration</span>: none;
}
.<span class="hljs-property">Contacts</span> <span class="hljs-attr">a</span>:hover {
<span class="hljs-attr">  color</span>: #ccc;
  text-<span class="hljs-attr">decoration</span>: none;
}
</code></pre>
<p class="normal">Once you have created the <code class="inlineCode">Contacts</code> component, you need to import it into your route file:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">Routes</span>, <span class="hljs-title">Route</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/About'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">Contact</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/Contact'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/Home'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">Error404</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/Error404'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">Contacts</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/Contacts'</span>
<span class="hljs-keyword">const</span> <span class="hljs-title">AppRoutes</span> = () =&gt; (
<span class="hljs-tag">&lt;</span><span class="hljs-name">App</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;</span><span class="hljs-name">Routes</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">  &lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"/"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Home</span><span class="hljs-tag"> /&gt;</span>} /&gt;
<span class="hljs-tag">  &lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"/about"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">About</span><span class="hljs-tag"> /&gt;</span>} /&gt;
<span class="hljs-tag">  &lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"/contact"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Contact</span><span class="hljs-tag"> /&gt;</span>} /&gt;
<span class="hljs-tag">  &lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"/contacts"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Contacts</span><span class="hljs-tag"> /&gt;</span>} /&gt;
<span class="hljs-tag">  &lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"*"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Error404</span><span class="hljs-tag"> /&gt;</span>} /&gt;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">Routes</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">App</span><span class="hljs-tag">&gt;</span>
)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">AppRoutes</span>
</code></pre>
<p class="normal">Now you will be able to see the <code class="inlineCode">Contacts</code> component if you go to the <code class="inlineCode">/contacts</code> URL:</p>
<figure class="mediaobject"><img alt="Graphical user interface, text, application, chat or text message  Description automatically generated" height="179" src="../Images/B18414_09_05.png" width="609"/></figure>
<p class="packt_figref">Figure 9.5: Contacts page</p>
<p class="normal">Now that the <code class="inlineCode">Contacts</code> component<a id="_idIndexMarker339"/> is connected to React Router, let’s render our contacts as a list:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-variable">FC</span>, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title">Link</span>, useParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./Contacts.css'</span>
type <span class="hljs-title">Contact</span> = {
<span class="hljs-attr">  id</span>: number
<span class="hljs-attr">  name</span>: string
<span class="hljs-attr">  email</span>: string
<span class="hljs-attr">  phone</span>: string
}
<span class="hljs-keyword">const</span> <span class="hljs-attr">data</span>: <span class="hljs-title">Contact</span>[] = [
{
    <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Carlos Santana'</span>,
    <span class="hljs-attr">email</span>: <span class="hljs-string">'carlos.santana@dev.education'</span>,
    <span class="hljs-attr">phone</span>: <span class="hljs-string">'415-307-3112'</span>
},
{
    <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'John Smith'</span>,
    <span class="hljs-attr">email</span>: <span class="hljs-string">'john.smith@dev.education'</span>,
    <span class="hljs-attr">phone</span>: <span class="hljs-string">'223-344-5122'</span>
},
{
    <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Alexis Nelson'</span>,
    <span class="hljs-attr">email</span>: <span class="hljs-string">'alexis.nelson@dev.education'</span>,
    <span class="hljs-attr">phone</span>: <span class="hljs-string">'664-291-4477'</span>
}
]
<span class="hljs-keyword">const</span> <span class="hljs-title">Contacts</span>: <span class="hljs-variable">FC</span> = <span class="hljs-function">() =&gt;</span> {
<span class="hljs-keyword">const</span> { contactId = <span class="hljs-number">0</span> } = <span class="hljs-title">useParams</span>()
<span class="hljs-comment">// For now we are going to add our contacts to our</span>
<span class="hljs-comment">// local state, but normally this should come</span>
<span class="hljs-comment">// from some service.</span>
<span class="hljs-keyword">const</span> [contacts, setContacts] = useState&lt;<span class="hljs-title">Contact</span>[]&gt;(data)
<span class="hljs-keyword">const</span> <span class="hljs-title">renderContacts</span> = () =&gt; (
    <span class="hljs-tag">&lt;</span><span class="hljs-name">ul</span><span class="hljs-tag">&gt;</span>
    {contacts.map((contact: Contact, key) =&gt; (
    <span class="hljs-tag">&lt;</span><span class="hljs-name">li</span><span class="hljs-tag"> </span><span class="hljs-attr">key</span><span class="hljs-tag">=</span><span class="hljs-string">{contact.id}</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">      &lt;</span><span class="hljs-name">Link</span><span class="hljs-tag"> </span><span class="hljs-attr">to</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">`/</span><span class="hljs-attr">contacts</span><span class="hljs-tag">/${</span><span class="hljs-attr">contact.id</span><span class="hljs-tag">}`}&gt;</span>{contact.name}<span class="hljs-tag">&lt;/</span><span class="hljs-name">Link</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>
    ))}
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">ul</span><span class="hljs-tag">&gt;</span>
)
<span class="hljs-keyword">return</span> (
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">className</span><span class="hljs-tag">=</span><span class="hljs-string">"Contacts"</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">h1</span><span class="hljs-tag">&gt;</span>Contacts<span class="hljs-tag">&lt;/</span><span class="hljs-name">h1</span><span class="hljs-tag">&gt;</span>
      {renderContacts()}
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
)
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">Contacts</span>
</code></pre>
<p class="normal">As you can see, we are using the <code class="inlineCode">&lt;Link&gt;</code> component, which will generate an <code class="inlineCode">&lt;a&gt;</code> tag that points to <code class="inlineCode">/contacts/contact.id</code>, and this is because<a id="_idIndexMarker340"/> we will add a new nested route to our route file to match the ID of the contact:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> <span class="hljs-title">AppRoutes</span> = () =&gt; (
<span class="hljs-tag">&lt;</span><span class="hljs-name">App</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;</span><span class="hljs-name">Routes</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">  &lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"/"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Home</span><span class="hljs-tag"> /&gt;</span>} /&gt;
<span class="hljs-tag">  &lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"/about"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">About</span><span class="hljs-tag"> /&gt;</span>} /&gt;
<span class="hljs-tag">  &lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"/contact"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Contact</span><span class="hljs-tag"> /&gt;</span>} /&gt;
<span class="hljs-tag">  &lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"/contacts"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Contacts</span><span class="hljs-tag"> /&gt;</span>}&gt;
<span class="hljs-tag">  &lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"</span><span class="hljs-string">:contactId"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Contacts</span><span class="hljs-tag"> /&gt;</span>} /&gt;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">Route</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">  &lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"*"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Error404</span><span class="hljs-tag"> /&gt;</span>} /&gt;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">Routes</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">App</span><span class="hljs-tag">&gt;</span>
)
</code></pre>
<p class="normal">React Router v6 has a special hook called <code class="inlineCode">useParams</code>, which will give you access to the <code class="inlineCode">contactId</code> parameter:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-variable">FC</span>, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title">Link</span>, useParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./Contacts.css'</span>
<span class="hljs-keyword">const</span> data = [
{ 
<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, 
<span class="hljs-attr">name</span>: <span class="hljs-string">'Carlos Santana'</span>, 
<span class="hljs-attr">email</span>: <span class="hljs-string">'carlos.santana@dev.education'</span>,
<span class="hljs-attr">phone</span>: <span class="hljs-string">'415-307-3112'</span>
},
{
<span class="hljs-attr">  id</span>: <span class="hljs-number">2</span>,
<span class="hljs-attr">  name</span>: <span class="hljs-string">'John Smith'</span>,
<span class="hljs-attr">  email</span>: <span class="hljs-string">'john.smith@dev.education'</span>,
<span class="hljs-attr">  phone</span>: <span class="hljs-string">'223-344-5122'</span>
}, 
{
<span class="hljs-attr">  id</span>: <span class="hljs-number">3</span>,
<span class="hljs-attr">  name</span>: <span class="hljs-string">'</span><span class="hljs-string">Alexis Nelson'</span>,
<span class="hljs-attr">  email</span>: <span class="hljs-string">'alexis.nelson@dev.education'</span>,
<span class="hljs-attr">  phone</span>: <span class="hljs-string">'664-291-4477'</span>
}
]
type <span class="hljs-title">Contact</span> = {
<span class="hljs-attr">  id</span>: number
<span class="hljs-attr">  name</span>: string
<span class="hljs-attr">  email</span>: string
<span class="hljs-attr">  phone</span>: string
}
<span class="hljs-keyword">const</span> <span class="hljs-title">Contacts</span>: <span class="hljs-variable">FC</span>&lt;any&gt; = <span class="hljs-function">() =&gt;</span> {
<span class="hljs-keyword">const</span> { contactId = <span class="hljs-number">0</span> } = <span class="hljs-title">useParams</span>()
<span class="hljs-variable">console</span>.<span class="hljs-title">log</span>(<span class="hljs-string">'contactId'</span>, contactId)
</code></pre>
<p class="normal">For now, we are going to add our contacts<a id="_idIndexMarker341"/> to our local state, but normally this should come from some service:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> [contacts, setContacts] = useState&lt;<span class="hljs-title">Contact</span>[]&gt;(data)
</code></pre>
<p class="normal">By default, our <code class="inlineCode">selectedNote</code> is <code class="inlineCode">false</code>:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> <span class="hljs-attr">selectedContact</span>: any = <span class="hljs-literal">false</span>
<span class="hljs-keyword">if</span> (contactId &gt; <span class="hljs-number">0</span>) {
</code></pre>
<p class="normal">If the <code class="inlineCode">contactId</code> is higher than <code class="inlineCode">0</code>, then we filter it from our <code class="inlineCode">contacts</code> array:</p>
<pre class="programlisting code"><code class="hljs-code">selectedContact = contacts.<span class="hljs-title">filter</span>(<span class="hljs-function">(</span><span class="hljs-params">contact</span><span class="hljs-function">) =&gt;</span> contact.<span class="hljs-property">id</span> === <span class="hljs-title">Number</span>(contactId))[<span class="hljs-number">0</span>]
}
<span class="hljs-keyword">const</span> <span class="hljs-title">renderSingleContact</span> = (<span class="hljs-params">{ name, email, phone }: Contact</span>) =&gt; (
<span class="hljs-tag">&lt;&gt;</span>
<span class="hljs-tag">  &lt;</span><span class="hljs-name">h2</span><span class="hljs-tag">&gt;</span>{name}<span class="hljs-tag">&lt;/</span><span class="hljs-name">h2</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">  &lt;</span><span class="hljs-name">p</span><span class="hljs-tag">&gt;</span>{email}<span class="hljs-tag">&lt;/</span><span class="hljs-name">p</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">  &lt;</span><span class="hljs-name">p</span><span class="hljs-tag">&gt;</span>{phone}<span class="hljs-tag">&lt;/</span><span class="hljs-name">p</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/&gt;</span>
)
<span class="hljs-keyword">const</span> <span class="hljs-title">renderContacts</span> = () =&gt; (
<span class="hljs-tag">&lt;</span><span class="hljs-name">ul</span><span class="hljs-tag">&gt;</span>
 {contacts.map((contact: Contact, key) =&gt; (
<span class="hljs-tag">  &lt;</span><span class="hljs-name">li</span><span class="hljs-tag"> </span><span class="hljs-attr">key</span><span class="hljs-tag">=</span><span class="hljs-string">{key}</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">  &lt;</span><span class="hljs-name">Link</span><span class="hljs-tag"> </span><span class="hljs-attr">to</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">`/</span><span class="hljs-attr">contacts</span><span class="hljs-tag">/${</span><span class="hljs-attr">contact.id</span><span class="hljs-tag">}`}&gt;</span>{contact.name}<span class="hljs-tag">&lt;/</span><span class="hljs-name">Link</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>
))}
<span class="hljs-tag">&lt;/</span><span class="hljs-name">ul</span><span class="hljs-tag">&gt;</span>
)
<span class="hljs-keyword">return</span> (
<span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">className</span><span class="hljs-tag">=</span><span class="hljs-string">"Contacts"</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">  &lt;</span><span class="hljs-name">h1</span><span class="hljs-tag">&gt;</span>Contacts<span class="hljs-tag">&lt;/</span><span class="hljs-name">h1</span><span class="hljs-tag">&gt;</span>
  {/* We render our selectedContact or all the contacts */}
  {selectedContact ? renderSingleContact(selectedContact) :  renderContacts()}
<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
)
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">Contacts</span>
</code></pre>
<p class="normal">As you can see, we are receiving the <code class="inlineCode">contactId</code> parameter with <code class="inlineCode">useParams</code>.</p>
<p class="normal">If you run the application again, you should see your contacts like this:</p>
<figure class="mediaobject"><img alt="Graphical user interface, application  Description automatically generated" height="358" src="../Images/B18414_09_06.png" width="825"/></figure>
<p class="packt_figref">Figure 9.6: Displaying contacts</p>
<p class="normal">If you click on <strong class="screenText">John Smith</strong> (whose <code class="inlineCode">contactId</code> is 2), you will see the contact <a id="_idIndexMarker342"/>information:</p>
<figure class="mediaobject"><img alt="Graphical user interface, application  Description automatically generated" height="326" src="../Images/B18414_09_07.png" width="757"/></figure>
<p class="packt_figref">Figure 9.7: Displaying a specific contact</p>
<p class="normal">After this, you can add a <code class="inlineCode">navbar</code> in the <code class="inlineCode">App</code> component to access all the routes:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">Link</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./App.css'</span>
<span class="hljs-keyword">const</span> <span class="hljs-title">App</span> = (<span class="hljs-params">{ children }</span>) =&gt; (
<span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">className</span><span class="hljs-tag">=</span><span class="hljs-string">"App"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">ul</span><span class="hljs-tag"> </span><span class="hljs-attr">className</span><span class="hljs-tag">=</span><span class="hljs-string">"menu"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;&lt;</span><span class="hljs-name">Link</span><span class="hljs-tag"> </span><span class="hljs-attr">to</span><span class="hljs-tag">=</span><span class="hljs-string">"/"</span><span class="hljs-tag">&gt;</span>Home<span class="hljs-tag">&lt;/</span><span class="hljs-name">Link</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;&lt;</span><span class="hljs-name">Link</span><span class="hljs-tag"> </span><span class="hljs-attr">to</span><span class="hljs-tag">=</span><span class="hljs-string">"/about"</span><span class="hljs-tag">&gt;</span>About<span class="hljs-tag">&lt;/</span><span class="hljs-name">Link</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;&lt;</span><span class="hljs-name">Link</span><span class="hljs-tag"> </span><span class="hljs-attr">to</span><span class="hljs-tag">=</span><span class="hljs-string">"/contacts"</span><span class="hljs-tag">&gt;</span>Contacts<span class="hljs-tag">&lt;/</span><span class="hljs-name">Link</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>
     <span class="hljs-tag">&lt;</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;&lt;</span><span class="hljs-name">Link</span><span class="hljs-tag"> </span><span class="hljs-attr">to</span><span class="hljs-tag">=</span><span class="hljs-string">"/contact"</span><span class="hljs-tag">&gt;</span>Contact<span class="hljs-tag">&lt;/</span><span class="hljs-name">Link</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">ul</span><span class="hljs-tag">&gt;</span>
    {children}
<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">App</span>
</code></pre>
<p class="normal">Now, let’s modify our <code class="inlineCode">App</code> styles:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-selector-class">.App</span> {
<span class="hljs-attribute">  text-align</span>: center;
}
<span class="hljs-selector-class">.App</span> <span class="hljs-selector-tag">ul</span><span class="hljs-selector-class">.menu</span> {
<span class="hljs-attribute">  margin</span>: <span class="hljs-number">50px</span>;
<span class="hljs-attribute">  padding</span>: <span class="hljs-number">0</span>;
<span class="hljs-attribute">  list-style</span>: none;
}
<span class="hljs-selector-class">.App</span> <span class="hljs-selector-tag">ul</span><span class="hljs-selector-class">.menu</span> <span class="hljs-selector-tag">li</span> {
<span class="hljs-attribute">  display</span>: inline-block;
<span class="hljs-attribute">  padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">10px</span>;
}
<span class="hljs-selector-class">.App</span> <span class="hljs-selector-tag">ul</span><span class="hljs-selector-class">.menu</span> <span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">a</span> {
<span class="hljs-attribute">  color</span>: <span class="hljs-number">#333</span>;
<span class="hljs-attribute">  text-decoration</span>: none;
}
<span class="hljs-selector-class">.App</span> <span class="hljs-selector-tag">ul</span><span class="hljs-selector-class">.menu</span> <span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:hover</span> {
<span class="hljs-attribute">  color</span>: <span class="hljs-number">#ccc</span>;
}
</code></pre>
<p class="normal">Finally, you will see something<a id="_idIndexMarker343"/> like this:</p>
<figure class="mediaobject"><img alt="Graphical user interface, application  Description automatically generated" height="436" src="../Images/B18414_09_08.png" width="825"/></figure>
<p class="packt_figref">Figure 9.8: Displaying the menu</p>
<p class="normal">By the end of this section, you’ll know how to add routes with parameters to your application. <em class="italic">This is amazing, right?</em></p>
<h1 class="heading-1" id="_idParaDest-139">React Router v6.4</h1>
<p class="normal">As mentioned at the beginning<a id="_idIndexMarker344"/> of this chapter, <strong class="keyWord">React Router v6.4</strong> introduces a new way of implementing routes.</p>
<p class="normal">Let’s rewrite our last example to explore the differences. The first difference is that instead of using <code class="inlineCode">AppRoutes</code> as we did previously, we will now add our routes directly to our <code class="inlineCode">App.tsx</code> file. Let’s begin by modifying our <code class="inlineCode">main.tsx</code> and removing <code class="inlineCode">AppRoutes</code>:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { createRoot } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom/client'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App'</span>
<span class="hljs-title">createRoot</span>(<span class="hljs-variable">document</span>.<span class="hljs-title">getElementById</span>(<span class="hljs-string">'root'</span>) <span class="hljs-keyword">as</span> <span class="hljs-title">HTMLElement</span>).<span class="hljs-title">render</span>(
<span class="hljs-tag">&lt;</span><span class="hljs-name">App</span><span class="hljs-tag"> /&gt;</span>
)
</code></pre>
<p class="normal">Now, in our <code class="inlineCode">App.tsx</code> file, we need to import some new functions from <code class="inlineCode">react-router-dom</code> and load the components that will be rendered for each URL:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-variable">FC</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { 
  createBrowserRouter, 
  createRoutesFromElements, 
<span class="hljs-title">  Route</span>, 
<span class="hljs-title">  Link</span>, 
<span class="hljs-title">  Outlet</span>, 
<span class="hljs-title">  RouterProvider</span> 
} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/About'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/Home'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">Pokemons</span>, { dataLoader } <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/Pokemons'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">Error404</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/Error404'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./App.css'</span>
</code></pre>
<p class="normal">Afterward, we need to specify our routes by utilizing the <code class="inlineCode">createBrowserRouter</code> and <code class="inlineCode">createRoutesFromElements</code> functions:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> <span class="hljs-title">App</span>: <span class="hljs-variable">FC</span>&lt;any&gt; = <span class="hljs-function">() =&gt;</span> {
<span class="hljs-keyword">const</span> router = <span class="hljs-title">createBrowserRouter</span>(
<span class="hljs-title">createRoutesFromElements</span>(
<span class="hljs-tag">  &lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"/"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Root</span><span class="hljs-tag"> /&gt;</span>}&gt;
<span class="hljs-tag">  &lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">index</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Home</span><span class="hljs-tag"> /&gt;</span>} /&gt;
<span class="hljs-tag">  &lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"/about"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">About</span><span class="hljs-tag"> /&gt;</span>} /&gt;
<span class="hljs-tag">  &lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"*"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Error404</span><span class="hljs-tag"> /&gt;</span>} /&gt;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">Route</span><span class="hljs-tag">&gt;</span>
)
)
}
</code></pre>
<p class="normal">As you can see, we are rendering<a id="_idIndexMarker345"/> the <code class="inlineCode">&lt;Root /&gt;</code> component, and you might be wondering where this component is located. The <code class="inlineCode">&lt;Root /&gt;</code> component serves the purpose of housing our <strong class="screenText">Navigation</strong> menu. Additionally, using the new <code class="inlineCode">&lt;Outlet /&gt;</code> component, we can specify the location where we want to render the content of our routes. To accomplish this, you need to create the <code class="inlineCode">&lt;Root /&gt;</code> component before defining the <code class="inlineCode">App</code> component (at the top):</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> <span class="hljs-title">Root</span> = () =&gt; (
<span class="hljs-tag">&lt;&gt;</span>
<span class="hljs-tag">&lt;</span><span class="hljs-name">ul</span><span class="hljs-tag"> </span><span class="hljs-attr">className</span><span class="hljs-tag">=</span><span class="hljs-string">"menu"</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;&lt;</span><span class="hljs-name">Link</span><span class="hljs-tag"> </span><span class="hljs-attr">to</span><span class="hljs-tag">=</span><span class="hljs-string">"/"</span><span class="hljs-tag">&gt;</span>Home<span class="hljs-tag">&lt;/</span><span class="hljs-name">Link</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">  &lt;</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;&lt;</span><span class="hljs-name">Link</span><span class="hljs-tag"> </span><span class="hljs-attr">to</span><span class="hljs-tag">=</span><span class="hljs-string">"/about"</span><span class="hljs-tag">&gt;</span>About<span class="hljs-tag">&lt;/</span><span class="hljs-name">Link</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">  &lt;</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;&lt;</span><span class="hljs-name">Link</span><span class="hljs-tag"> </span><span class="hljs-attr">to</span><span class="hljs-tag">=</span><span class="hljs-string">"</span><span class="hljs-string">/pokemons"</span><span class="hljs-tag">&gt;</span>Pokemons<span class="hljs-tag">&lt;/</span><span class="hljs-name">Link</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag"> &lt;/</span><span class="hljs-name">ul</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag"> &lt;</span><span class="hljs-name">Outlet</span><span class="hljs-tag"> /&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/&gt;</span>
 )
</code></pre>
<p class="normal">The first route is our <code class="inlineCode">Home</code>, which is why we need to utilize the index prop. Next, we have the <code class="inlineCode">about</code> route where we specify the path as <code class="inlineCode">/about</code>. Lastly, we added an asterisk, which will match any other page that we don’t have, rendering a <strong class="screenText">404 Error page</strong>.</p>
<p class="normal">Once we have created the <code class="inlineCode">Root</code> component<a id="_idIndexMarker346"/> and specified the routes, we need to render the <code class="inlineCode">RouterProvider</code> and pass the created router as a parameter:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">return</span> (
<span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">className</span><span class="hljs-tag">=</span><span class="hljs-string">"App"</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">  &lt;</span><span class="hljs-name">RouterProvider</span><span class="hljs-tag"> </span><span class="hljs-attr">router</span><span class="hljs-tag">=</span><span class="hljs-string">{router}</span><span class="hljs-tag"> /&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
)
</code></pre>
<p class="normal">If you’ve done everything correctly, you should be able to see the <strong class="screenText">Home</strong> and <strong class="screenText">About</strong> pages:</p>
<p class="packt_figref"><img alt="A screenshot of a computer  Description automatically generated" height="285" src="../Images/B18414_09_09.png" width="672"/></p>
<p class="packt_figref">Figure 9.9: Home page</p>
<p class="normal">If you click on <strong class="screenText">About</strong>, you should see the page appear as follows:</p>
<p class="packt_figref"><img alt="A screenshot of a computer  Description automatically generated" height="266" src="../Images/B18414_09_10.png" width="632"/></p>
<p class="packt_figref">Figure 9.10: About page</p>
<p class="normal">With this foundational understanding of the changes in React Router v6.4, we’ll now venture into looking at implementing the new addition of loaders using the <strong class="screenText">Pokemons</strong> page as our working example.</p>
<h2 class="heading-2" id="_idParaDest-140">React Router loaders</h2>
<p class="normal">One of the main changes<a id="_idIndexMarker347"/> in React Router 6.4 is the addition of <strong class="keyWord">loaders</strong>. These loaders provide <a id="_idIndexMarker348"/>a better way to fetch data, eliminating the need for the common pattern of using <code class="inlineCode">useEffect</code> and <code class="inlineCode">fetch</code> within components.</p>
<p class="normal">As you may have noticed in the menu, I have included a <strong class="screenText">Pokemons</strong> page without specifying the route just yet. The reason for this is that I want to demonstrate how to use the new React Router loaders with this page as an example.</p>
<p class="normal">First, let’s create our <code class="inlineCode">Pokemons</code> component by using the <code class="inlineCode">Home</code> component as a template:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> <span class="hljs-title">Pokemons</span> = () =&gt; ( 
<span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">className</span><span class="hljs-tag">=</span><span class="hljs-string">"Pokemons"</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">  &lt;</span><span class="hljs-name">h1</span><span class="hljs-tag">&gt;</span>Pokemons<span class="hljs-tag">&lt;/</span><span class="hljs-name">h1</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">Pokemons</span>
</code></pre>
<p class="normal">Now that we have our base component, we need to create a <code class="inlineCode">dataLoader</code> function that is asynchronous. This function will be responsible for fetching the data:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title">dataLoader</span> = <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title">fetch</span>(<span class="hljs-string">'</span><span class="hljs-string">https://pokeapi.co/api/v2/pokemon?limit=151'</span>)
<span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title">json</span>()
<span class="hljs-keyword">return</span> data.<span class="hljs-property">results</span>
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">Pokemons</span>
</code></pre>
<p class="normal">As you can see, we place the <code class="inlineCode">dataLoader</code> before exporting the <code class="inlineCode">Pokemons</code> component as the default. Once you have created your <code class="inlineCode">dataLoader</code>, you need to import it and specify the route for <code class="inlineCode">Pokemons</code> in the <code class="inlineCode">App.tsx</code> file. Remember to pass the <code class="inlineCode">dataLoader</code> to the loader prop:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> <span class="hljs-title">Pokemons</span>, { dataLoader } <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/Pokemons'</span>
...
<span class="hljs-keyword">const</span> router = <span class="hljs-title">createBrowserRouter</span>(
<span class="hljs-title">createRoutesFromElements</span>(
<span class="hljs-tag">  &lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"/"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Root</span><span class="hljs-tag"> /&gt;</span>}&gt;
<span class="hljs-tag">  &lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">index</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Home</span><span class="hljs-tag"> /&gt;</span>} /&gt;
<span class="hljs-tag">  &lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"/about"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">About</span><span class="hljs-tag"> /&gt;</span>} /&gt;
<span class="hljs-tag">  &lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"/pokemons"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Pokemons</span><span class="hljs-tag"> /&gt;</span>} loader={dataLoader} /&gt;
<span class="hljs-tag">  &lt;</span><span class="hljs-name">Route</span><span class="hljs-tag"> </span><span class="hljs-attr">path</span><span class="hljs-tag">=</span><span class="hljs-string">"*"</span><span class="hljs-tag"> </span><span class="hljs-attr">element</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">&lt;</span><span class="hljs-attr">Error404</span><span class="hljs-tag"> /&gt;</span>} /&gt;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">Route</span><span class="hljs-tag">&gt;</span>
)
)
</code></pre>
<p class="normal">After connecting our <code class="inlineCode">dataLoader</code> to the route, we can now render the data for <code class="inlineCode">Pokemons</code>. To retrieve the data, we will utilize the new <code class="inlineCode">useLoaderData</code> hook. Additionally, we will use the <code class="inlineCode">useNavigation</code> hook to monitor the state of the route, enabling us to determine if the data is still loading. The following is the complete code for the <code class="inlineCode">Pokemons</code> component:</p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { useLoaderData, useNavigation } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>
<span class="hljs-keyword">const</span> <span class="hljs-title">Pokemons</span> = () =&gt; {
<span class="hljs-keyword">const</span> <span class="hljs-attr">pokemons</span>: any = <span class="hljs-title">useLoaderData</span>()
<span class="hljs-keyword">const</span> navigation = <span class="hljs-title">useNavigation</span>()
<span class="hljs-keyword">if</span> (navigation.<span class="hljs-property">state</span> === <span class="hljs-string">'loading'</span>) {
<span class="hljs-keyword">return</span> <span class="hljs-tag">&lt;</span><span class="hljs-name">h1</span><span class="hljs-tag">&gt;</span>Loading...<span class="hljs-tag">&lt;/</span><span class="hljs-name">h1</span><span class="hljs-tag">&gt;</span>
}
<span class="hljs-keyword">const</span> imgUrl = <span class="hljs-string">'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/'</span>
<span class="hljs-keyword">return</span> (
<span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">className</span><span class="hljs-tag">=</span><span class="hljs-string">"Home"</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">  &lt;</span><span class="hljs-name">h1</span><span class="hljs-tag">&gt;</span>Pokemons<span class="hljs-tag">&lt;/</span><span class="hljs-name">h1</span><span class="hljs-tag">&gt;</span>
{pokemons.map((pokemon: any, index: number) =&gt; (
<span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">key</span><span class="hljs-tag">=</span><span class="hljs-string">{pokemon.name}</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">  &lt;</span><span class="hljs-name">h2</span><span class="hljs-tag">&gt;</span>{index + 1} {pokemon.name}<span class="hljs-tag">&lt;/</span><span class="hljs-name">h2</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;</span><span class="hljs-name">img</span><span class="hljs-tag"> </span>
<span class="hljs-attr">src</span><span class="hljs-tag">=</span><span class="hljs-string">{</span><span class="hljs-tag">`${</span><span class="hljs-attr">imgUrl</span><span class="hljs-tag">}/${</span><span class="hljs-attr">pokemon.url.split</span><span class="hljs-tag">('/')</span><span class="hljs-attr">.slice</span><span class="hljs-tag">(</span><span class="hljs-attr">-2</span><span class="hljs-tag">, </span><span class="hljs-attr">-1</span><span class="hljs-tag">)}</span><span class="hljs-attr">.png</span><span class="hljs-tag">`</span><span class="hljs-tag">}</span>
<span class="hljs-attr">alt</span><span class="hljs-tag">=</span><span class="hljs-string">{pokemon.name}</span>
<span class="hljs-tag">/&gt;</span>
 <span class="hljs-tag">&lt;</span><span class="hljs-name">p</span><span class="hljs-tag">&gt;</span>
 <span class="hljs-tag">&lt;</span><span class="hljs-name">a</span><span class="hljs-tag"> </span><span class="hljs-attr">href</span><span class="hljs-tag">=</span><span class="hljs-string">{pokemon.url}</span><span class="hljs-tag"> </span><span class="hljs-attr">target</span><span class="hljs-tag">=</span><span class="hljs-string">"_blank"</span><span class="hljs-tag"> </span><span class="hljs-attr">rel</span><span class="hljs-tag">=</span><span class="hljs-string">"noreferrer"</span><span class="hljs-tag">&gt;</span>
 {pokemon.url}
 <span class="hljs-tag">&lt;/</span><span class="hljs-name">a</span><span class="hljs-tag">&gt;</span>
 <span class="hljs-tag">&lt;/</span><span class="hljs-name">p</span><span class="hljs-tag">&gt;</span>
 <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
 ))}
 <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
)
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title">dataLoader</span> = <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title">fetch</span>(<span class="hljs-string">'https://pokeapi.co/api/v2/pokemon?limit=151'</span>)
<span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title">json</span>()
<span class="hljs-keyword">return</span> data.<span class="hljs-property">results</span>
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">Pokemons</span>
</code></pre>
<p class="normal">Let’s test our <strong class="screenText">Pokemons</strong> page. We<a id="_idIndexMarker349"/> should<a id="_idIndexMarker350"/> see the first 150 <strong class="screenText">Pokemons</strong>:</p>
<figure class="mediaobject"><img alt="A screen shot of a game  Description automatically generated" height="1043" src="../Images/B18414_09_11.png" width="724"/></figure>
<p class="packt_figref">Figure 9.11: Pokemons page</p>
<p class="normal">Through new features like loaders, React Router v6.4 streamlines routing and data fetching in React applications. We created a <strong class="screenText">Pokemons</strong> page using a <code class="inlineCode">dataLoader</code> function, which asynchronously fetched data from an API. We provided a more user-friendly interface by integrating this function into our route configuration and using React Router’s <code class="inlineCode">useLoaderData</code> and <code class="inlineCode">useNavigation</code> hooks. As a result of these<a id="_idIndexMarker351"/> enhancements, React Router v6.4 is now more robust, efficient, and intuitive, enabling developers<a id="_idIndexMarker352"/> to create more complex, data-driven applications with less effort.</p>
<h1 class="heading-1" id="_idParaDest-141">Summary</h1>
<p class="normal">Good job! By navigating React Router, you have acquired essential skills for installing, configuring, and managing routes, as well as incorporating parameters into nested routes. You will be able to create more dynamic and robust web applications using React Router by utilizing these capabilities. In addition, you have learned about the cutting-edge features of React Router v6.4, particularly its innovative use of loaders. </p>
<p class="normal">We are about to embark on the next chapter of this series, where we will explore the exciting new features introduced in React 18. By continuously learning and applying, you will become proficient in React.</p>
<h1 class="heading-1" id="_idParaDest-142">Join our community on Discord</h1>
<p class="normal">Join our community’s Discord space for discussion with the author and other readers:</p>
<p class="normal"><a href="https://packt.link/React18DesignPatterns4e"><span class="url">https://packt.link/React18DesignPatterns4e</span></a></p>
<p class="normal"><img alt="" height="177" src="../Images/QR_Code2450023176943770109.png" width="177"/></p>
</div>
</div></body></html>