<html><head></head><body>
  <div id="_idContainer246">
    <h1 class="chapterNumber">5</h1>
    <h1 class="chapterTitle" id="_idParaDest-147">Delivering High-Quality UX with Material</h1>
    <p class="normal">In <em class="italics">Chapter 4</em>, <em class="italics">Automated Testing, CI, and Release to Production</em>, we mentioned the need to deliver a high-quality application. Currently, the app has a terrible look and feel to it that is only fit for a website created in the late 1990s. The first impression a user or a client gets about your product or your work is very important, so we must be able to create a great-looking application that also delivers a great user experience across mobile and desktop browsers.</p>
    <p class="normal">As full-stack developers, it is difficult to focus on the polish of your application. This often gets worse as the feature set of an application rapidly grows. It is no fun to write great modular code backing your views, but then revert to CSS hacks and inline styles in a rush to improve the look and feel of your application.</p>
    <p class="normal">Developed in close coordination with Angular, Angular Material is amazing. If you learn how to leverage Angular Material effectively, the features you create will look and work great from the get-go, whether you're working on small or large applications.</p>
    <p class="normal">Angular Material will make you a far more effective web developer because it ships with a wide variety of user controls that you can leverage, and you won't have to worry about browser compatibility. As an added bonus, writing custom CSS will become a rarity.</p>
    <div class="packt_tip">
      <p>While this chapter covers how to create an attractive <strong class="bold">user interface</strong> (<strong class="bold">UI</strong>) relying on Angular Material for a decent <strong class="bold">user experience</strong> (<strong class="bold">UX</strong>) out of the box, it is also important to know what not to do. There's a great website called User Interface, which demonstrates UI/UX worst practices, at <a href="https://userinyerface.com"><span class="url">https://userinyerface.com</span></a>.</p>
    </div>
    <p class="normal">In this chapter, you are going to learn about the following:</p>
    <ul>
      <li class="list">Distinguishing aspects of Angular Material as a UI/UX library</li>
      <li class="list">How to configure Angular Material</li>
      <li class="list">Responsive design using Angular Flex Layout</li>
      <li class="list">Upgrade the UX with Angular Material</li>
      <li class="list">Enforcing <a id="_idIndexMarker411"/>accessibility compliance via <strong class="bold">command-line interface</strong> (<strong class="bold">CLI</strong>) tools</li>
      <li class="list">Building an interactive prototype</li>
    </ul>
    <p class="normal">The most up-to-date versions of the sample code for the book are on GitHub at the following repository linked. The repository contains the final and completed state of the code. You can verify your progress at the end of this chapter by looking for the end-of-chapter snapshot of code under the <code class="Code-In-Text--PACKT-">projects</code> folder.</p>
    <p class="normal">For <em class="italics">Chapter 5</em>:</p>
    <ol>
      <li class="list">Clone the repo <a href="https://github.com/duluca/local-weather-app "><span class="url">https://github.com/duluca/local-weather-app</span></a></li>
      <li class="list">Execute <code class="Code-In-Text--PACKT-">npm install</code> on the root folder to install dependencies</li>
      <li class="list">The code sample for this chapter is under the following sub-folder:
        <pre class="programlisting"><code class="hljs">projects/ch5
</code></pre>
      </li>
      <li class="list">To run the Angular app for this chapter, execute:
        <pre class="programlisting"><code class="hljs nginx"><span class="hljs-attribute">npx</span> ng serve ch5
</code></pre>
      </li>
      <li class="list">To run Angular unit tests for this chapter, execute:
        <pre class="programlisting"><code class="hljs bash">npx ng <span class="hljs-built_in">test</span> ch5 --watch=<span class="hljs-literal">false</span>
</code></pre>
      </li>
      <li class="list">To run Angular e2e tests for this chapter, execute:
        <pre class="programlisting"><code class="hljs nginx"><span class="hljs-attribute">npx</span> ng e2e ch5
</code></pre>
      </li>
      <li class="list" value="7">To build a production-ready Angular app for this chapter, execute:
        <pre class="programlisting"><code class="hljs ada">npx ng build ch5 <span class="hljs-comment">--prod</span>
</code></pre>
      </li>
    </ol>
    <div class="packt_tip">
      <p>Note that the <code class="Code-In-Text--PACKT-">dist/ch5</code> folder at the root of the repository will contain the compiled result.</p>
    </div>
    <div class="note">
      <p class="Information-Box--PACKT-">Beware that the source code in the book or on GitHub may not always match the code generated by Angular CLI. There may also be slight differences in implementation between the code in the book and what's on GitHub because the ecosystem is ever-evolving. It is natural for the sample code to change over time. Also on GitHub, expect to find corrections, fixes to support newer versions of libraries, or side-by-side implementations of multiple techniques for you to observe. You are only expected to implement the ideal solution recommended in the book. If you find errors or have questions, please create an issue or submit a pull request on GitHub for the benefit of all readers.</p>
    </div>
    <p class="normal">Let's begin by understanding what makes Angular Material an excellent choice as a UI/UX library. </p>
    <h1 class="title" id="_idParaDest-148">Angular Material</h1>
    <p class="normal">The goal of <a id="_idIndexMarker412"/>an Angular Material project is to provide a collection of useful and standard-setting high-quality UI components. The library implements Google's Material Design specification, which is pervasive in Google's mobile apps, web properties, and the Android operating system. Material Design has a particular digital and boxy look and feel, but it is not just another CSS library like Bootstrap. Consider the login experience coded using Bootstrap here:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_01.png"/></figure>
    <p class="packt_figref">Figure 5.1: Bootstrap login experience</p>
    <p class="normal">Note that input fields and their labels are on separate lines, the checkbox is a small target to hit, the error messages are displayed as an ephemeral toast notification, and the <strong class="screen-text">Submit</strong> button just sits in the corner. Now, consider the following Angular Material sample:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_02.png"/></figure>
    <p class="packt_figref">Figure 5.2: Angular Material login experience</p>
    <p class="normal">The input fields and their labels are initially combined, grabbing the user's attention in a compact form factor. The checkbox is touch-friendly and the <strong class="screen-text">Submit</strong> button stretches to take up the <a id="_idIndexMarker413"/>available space for a more responsive UX by default. Once a user clicks on a field, the label tucks away to the top-left corner of the input field, as shown:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_03.png"/></figure>
    <p class="packt_figref">Figure 5.3: Angular Material animations and error</p>
    <p class="normal">In addition, the validation error messages are shown inline, combined with a color change in the label, keeping the user's attention on the input field.</p>
    <p class="normal">Material Design helps you design a modular UI with your own branding and styling, while also defining animations that allow the user to have a better UX when using your application. The human brain subconsciously keeps track of objects and their locations. Any kind of animation that aids in transitions or reactions to changes that result from human input results in reduced cognitive load on the user, therefore allowing the user to focus on processing the content instead of trying to figure out the quirks of your particular app.</p>
    <p class="normal">A combination of modular UI design and fluid motion creates a great UX. Look at how Angular Material implements a simple button:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_04.png"/></figure>
    <p class="packt_figref">Figure 5.4: Angular Material button animation</p>
    <p class="normal">In the preceding screenshot, note how the click animation on the button originates from the actual <a id="_idIndexMarker414"/>location that the user has clicked on. However subtle, this creates a continuity motion, resulting in an appropriate onscreen reaction to a user's action. This particular effect becomes more pronounced when the button is used on a mobile device, leading to an even more natural human-computer interaction. Most users can't articulate what makes an intuitive UX actually intuitive, and these subtle yet crucial cues in design and experience allow you to make tremendous progress in designing such an experience for your users.</p>
    <p class="normal">Angular Material also aims to become the reference implementation for high-quality UI components for Angular. If you intend to develop your own custom controls, the source code for Angular Material should be your first and foremost resource. The term high quality is used often, and it's really important to quantify what that means. The Angular Material team puts it well on their website:</p>
    <blockquote class="packt_quote">
      <p><strong class="bold">What do we mean by "high quality"?</strong></p>
      <p>Internationalized and accessible so that all users can use them. Straightforward APIs that don't confuse developers and behave as expected across a wide variety of use cases without bugs. Behavior is well tested with both unit and integration tests. Customizable within the bounds of the Material Design specification. Performance cost is minimized. Code is clean and well documented to serve as an example for Angular devs. Browser and screen reader support.</p>
      <p>Angular Material supports the most recent two versions of all major browsers: Chrome (including Android), Firefox, Safari (including iOS), and IE11/Edge.</p>
    </blockquote>
    <p class="normal">Building web applications, especially ones that are also mobile-compatible, is really difficult. There are a lot of nuances that you must be aware of. Angular Material abstracts <a id="_idIndexMarker415"/>away these nuances, including supporting all major browsers, so that you can focus on creating your application. Angular Material is no fad, and it's not to be taken lightly. If used correctly, you can greatly increase your productivity and the perceived quality of your work.</p>
    <div class="packt_tip">
      <p>It won't always be possible to use Angular Material in your projects. I would recommend <a id="_idIndexMarker416"/>either PrimeNG, found at <a href="https://www.primefaces.org/primeng"><span class="url">https://www.primefaces.org/primeng</span></a>, or Clarity, found at <a href="https://vmware.github.io/clarity"><span class="url">https://vmware.github.io/clarity</span></a>, as component toolkits that can satisfy most, if <a id="_idIndexMarker417"/>not all, of your user-control needs. The one thing to avoid here would be to pull dozens of user controls from different sources and end up with a hodgepodge library with hundreds of quirks and bugs to learn, maintain, or work around.</p>
    </div>
    <p class="normal">One of the most significant challenges when working with UI components is the amount of bulk they can add to your app's bundle size. Next, let's see how using a cohesive component library can help keep the performance of your app in tip-top shape and configure Angular Material for your app.</p>
    <h1 class="title" id="_idParaDest-149">Angular Material setup and performance</h1>
    <p class="normal">Angular Material <a id="_idIndexMarker418"/>is configured by default to optimize the package <a id="_idIndexMarker419"/>size of your final deliverable. In Angular JS and Angular Material 1.x, the entire dependent library would be loaded. However, now with Angular Material, we are able to specify only the components that we intend to use, resulting in dramatic performance improvements.</p>
    <p class="normal">In the following table, you can see improvement of the performance characteristics of a typical Angular 1.x + Angular Material 1.x versus an Angular 6 + Material 6 application over a fiber connection with high speed and low latency:</p>
    <table class="No-Table-Style _idGenTablePara-1" id="table001-1">
      <colgroup>
        <col/>
        <col/>
        <col/>
        <col/>
      </colgroup>
      <tbody>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <strong class="heading">Fiber Network</strong>
          </td>
          <td class="No-Table-Style">
            <strong class="heading">Angular 6 + Material 6</strong>
          </td>
          <td class="No-Table-Style">
            <strong class="heading">Angular 1.5 + Material 1.1.5</strong>
          </td>
          <td class="No-Table-Style">
            <strong class="heading">% Diff</strong>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content">First paint (DOMContentLoaded) *</p>
          </td>
          <td class="No-Table-Style">
            <p class="content">0.61 s</p>
          </td>
          <td class="No-Table-Style">
            <p class="content">1.69 s**</p>
          </td>
          <td class="No-Table-Style">
            <p class="content">~2.8x faster</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content">JS bundle size*</p>
          </td>
          <td class="No-Table-Style">
            <p class="content">113 KB</p>
          </td>
          <td class="No-Table-Style">
            <p class="content">1,425 KB</p>
          </td>
          <td class="No-Table-Style">
            <p class="content">12.6x smaller</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="packt_figref">*Images and other media content have not been included in the results for a fair comparison</p>
    <p class="packt_figref">**Average value: Lower quality infrastructure causes a wide range of render times from 0.9s to 2.5s</p>
    <p class="normal">Under the <a id="_idIndexMarker420"/>ideal conditions of a high-speed and low-latency connection, Angular 6 + Material 6 apps load under a second. However, when we switch <a id="_idIndexMarker421"/>over to a more common moderate-speed and high-latency fast 3G mobile network, the differences become more pronounced, as in the following table:</p>
    <table class="No-Table-Style _idGenTablePara-1" id="table002-1">
      <colgroup>
        <col/>
        <col/>
        <col/>
        <col/>
      </colgroup>
      <tbody>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <strong class="heading">Fast 3G Mobile Network</strong>
          </td>
          <td class="No-Table-Style">
            <strong class="heading">Angular 6 + Material 6</strong>
          </td>
          <td class="No-Table-Style">
            <strong class="heading">Angular 1.5 + Material 1.1.5</strong>
          </td>
          <td class="No-Table-Style">
            <strong class="heading">% Diff</strong>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content">First paint*</p>
          </td>
          <td class="No-Table-Style">
            <p class="content">1.94 s</p>
          </td>
          <td class="No-Table-Style">
            <p class="content">11.02 s</p>
          </td>
          <td class="No-Table-Style">
            <p class="content">5.7x faster</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content">JS bundle size*</p>
          </td>
          <td class="No-Table-Style">
            <p class="content">113 KB</p>
          </td>
          <td class="No-Table-Style">
            <p class="content">1,425 KB</p>
          </td>
          <td class="No-Table-Style">
            <p class="content">12.6x smaller</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="packt_figref">*Images or other media content have not been included in the results for a fair comparison</p>
    <p class="normal">Even though the size differences of the apps remain consistent, you can see that the additional latency introduced by a mobile network results in a dramatic slowdown of the legacy Angular application to an unacceptable level.</p>
    <p class="normal">Adding all components to Material will result in about ~1.3 MB of additional payload that will need to be delivered to the user. As you can see from the earlier comparison, this must be avoided at all costs. To deliver the smallest app possible, which is crucial in mobile- and sales-related scenarios, where every 100 ms of load time has an impact on user retention, you may load and include modules individually. Webpack's tree-shaking process will divide modules into different files, trimming down the initial download size.</p>
    <p class="normal">As a real-world example, when you're done building the final version of the LocalCast Weather app, your app's bundle size will come in at around 800 KB, with a first paint happening in just over 2 seconds on a fast 3G connection with Angular 9 + Material 9. A fully-featured multi-page application that leverages lazy loading only loads around ~300 KB of dependencies, while maintaining a sub 2 second first paint.</p>
    <p class="normal">Note that the sample app contains example code that can be trimmed away to make the app even <a id="_idIndexMarker422"/>smaller. This is a testament to how the Angular <a id="_idIndexMarker423"/>ecosystem can deliver a rich and optimized UX.</p>
    <p class="normal">Next, let's set up Angular Material.</p>
    <h2 class="title" id="_idParaDest-150">Installing Angular Material</h2>
    <p class="normal">There are <a id="_idIndexMarker424"/>two ways you can configure Angular Material for your Angular app: </p>
    <ul>
      <li class="list">Automatically using the Angular CLI</li>
      <li class="list">Manually using npm</li>
    </ul>
    <p class="normal">Let's get started with the task and improve the UX of the weather app with Angular Material. Let's move the <strong class="screen-text">Improve the UX of the app</strong> task to <strong class="screen-text">In Progress</strong> on our GitHub project. Here, you can see the status of my Kanban board:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_05.png"/></figure>
    <p class="packt_figref">Figure 5.5: GitHub project Kanban board</p>
    <h3 class="title" id="_idParaDest-151">Automatically</h3>
    <p class="normal">Since Angular 6, you can <a id="_idIndexMarker425"/>automatically add Angular Material to your project, saving a lot of time in the process:</p>
    <ol>
      <li class="list" value="1">Execute the <code class="Code-In-Text--PACKT-">add</code> command, as shown:
        <pre class="programlisting"><code class="hljs dockerfile">$ npx ng <span class="hljs-keyword">add</span><span class="bash"> @angular/material </span>
</code></pre>
      </li>
      <li class="list">Choose the prebuilt theme named <code class="Code-In-Text--PACKT-">indigo-pink</code></li>
      <li class="list">When you get the prompt "<code class="Code-In-Text--PACKT-">Set up global Angular Material typography styles?</code>" enter "<code class="Code-In-Text--PACKT-">no</code>"</li>
      <li class="list">When you get the prompt "<code class="Code-In-Text--PACKT-">Set up browser animations for Angular Material?</code>" enter "<code class="Code-In-Text--PACKT-">yes</code>"</li>
      <li class="list">The output should be similar to the following example:
        <pre class="programlisting"><code class="hljs pgsql">Installing packages <span class="hljs-keyword">for</span> tooling via npm.
Installed packages <span class="hljs-keyword">for</span> tooling via npm.
? Choose a prebuilt theme <span class="hljs-type">name</span>, <span class="hljs-keyword">or</span> "custom" <span class="hljs-keyword">for</span> a custom theme: Indigo/Pink        [ Preview: https://material.angular.io?theme=indigo-pink ]
? <span class="hljs-keyword">Set</span> up <span class="hljs-keyword">global</span> Angular Material typography styles? <span class="hljs-keyword">No</span>
? <span class="hljs-keyword">Set</span> up browser animations <span class="hljs-keyword">for</span> Angular Material? Yes
<span class="hljs-keyword">UPDATE</span> package.json (<span class="hljs-number">1348</span> bytes)
√ Packages installed successfully.
<span class="hljs-keyword">UPDATE</span> src/app/app.module.ts (<span class="hljs-number">423</span> bytes)
<span class="hljs-keyword">UPDATE</span> angular.json (<span class="hljs-number">3740</span> bytes)
<span class="hljs-keyword">UPDATE</span> src/<span class="hljs-keyword">index</span>.html (<span class="hljs-number">487</span> bytes)
<span class="hljs-keyword">UPDATE</span> src/styles.css (<span class="hljs-number">181</span> bytes)
</code></pre>
        <p class="Bullet-Without-Bullet-Within-Bullet--PACKT-">Note <a id="_idIndexMarker426"/>that the <code class="Code-In-Text--PACKT-">index.html</code> file has been modified to add the icons library and the default font, as follows:</p>
        <pre class="programlisting"><code class="hljs xml"><strong>src/index.html</strong>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  ...
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/css?family=Roboto:300,400,500&amp;display=swap"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/icon?family=Material+Icons"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
</code></pre>
        <p class="Bullet-Without-Bullet-Within-Bullet--PACKT-">The <code class="Code-In-Text--PACKT-">angular.json</code> file has been updated to set up the default theme:</p>
        <pre class="programlisting"><code class="hljs prolog"><strong>angular.json</strong>
...
<span class="hljs-string">"styles"</span>: [
  <span class="hljs-string">"./node_modules/@angular/material/prebuilt-themes/indigo-pink.css"</span>,
  <span class="hljs-string">"src/styles.css"</span>
],
...
</code></pre>
        <p class="Bullet-Without-Bullet-Within-Bullet--PACKT-"><code class="Code-In-Text--PACKT-">styles.css</code> has been updated with the default global CSS styles:</p>
        <pre class="programlisting"><code class="hljs stylus"><strong>src/styles<span class="hljs-selector-class">.css</span></strong>
<span class="hljs-selector-tag">html</span>, 
<span class="hljs-selector-tag">body</span> { 
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>; 
}
<span class="hljs-selector-tag">body</span> { 
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>; 
  <span class="hljs-attribute">font-family</span>: Roboto, <span class="hljs-string">"Helvetica Neue"</span>, sans-serif; 
}
</code></pre>
        <p class="Bullet-Without-Bullet-Within-Bullet--PACKT-">Also note that <code class="Code-In-Text--PACKT-">app.module.ts</code> has been updated to import <code class="Code-In-Text--PACKT-">BrowserAnimationsModule</code>, as shown:</p>
        <pre class="programlisting"><code class="hljs coffeescript"><strong>src/app/app.<span class="hljs-built_in">module</span>.ts</strong>
<span class="hljs-keyword">import</span> { BrowserAnimationsModule } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/platform- browser/animations'</span>;
@NgModule({ 
  declarations: [
    AppComponent
  ],
  imports: [
    ...
    BrowserAnimationsModule
  ],
</code></pre>
      </li>
      <li class="list" value="6">Start your app and ensure that it works correctly:
        <pre class="programlisting"><code class="hljs coffeescript">$ <span class="hljs-built_in">npm</span> start
</code></pre>
      </li>
    </ol>
    <p class="normal">With that, you're done. Your app should be configured with Angular Material. You can now <a id="_idIndexMarker427"/>skip over to the <em class="italics">Importing modules</em> section to see how you can import Material modules in a robust manner.</p>
    <div class="note">
      <p class="Information-Box--PACKT-">I strongly recommend skimming over all the manual installation and configuration steps. The more you know!</p>
    </div>
    <p class="normal">It is still important to understand all the various components that make up Angular Material or maybe you dislike automatic things; in the next sections, we will go over the manual installation and configuration steps.</p>
    <h3 class="title" id="_idParaDest-152">Manually</h3>
    <p class="normal">We will begin <a id="_idIndexMarker428"/>by installing all the required libraries. As of Angular 5, the major version of Angular Material should match the version of your Angular installation and with Angular 6, the versions should be synced:</p>
    <ol>
      <li class="list" value="1">In the Terminal, execute <code class="Code-In-Text--PACKT-">npm install @angular/material @angular/cdk</code></li>
      <li class="list">Observe the <code class="Code-In-Text--PACKT-">package.json</code> versions:
        <pre class="programlisting"><code class="hljs perl"><strong>package.json</strong>
 <span class="hljs-string">"dependencies"</span>: { 
    <span class="hljs-string">"@angular/cdk"</span>: <span class="hljs-string">"9.0.0"</span>,
    <span class="hljs-string">"@angular/material"</span>: <span class="hljs-string">"9.0.0"</span>, 
    ...
</code></pre>
      </li>
    </ol>
    <p class="normal">In this case, all libraries have the same major and minor versions. If your major and minor <a id="_idIndexMarker429"/>versions don't match, you can rerun the <code class="Code-In-Text--PACKT-">npm install</code> command to install a specific version or choose to upgrade your version of Angular by appending the server version of the package to the <code class="Code-In-Text--PACKT-">install</code> command:</p>
    <pre class="programlisting"><code class="hljs angelscript">$ npm install @angular/<span class="hljs-symbol">material@</span><span class="hljs-number">9.0</span><span class="hljs-number">.0</span> @angular/<span class="hljs-symbol">cdk@</span><span class="hljs-number">9.0</span><span class="hljs-number">.0</span> 
</code></pre>
    <div class="packt_tip">
      <p>If you are working on a Bash-like shell, you can save some typing by using the bracket syntax to avoid having to repeat portions of the command, in the form of <code class="Code-In-Text--PACKT-">npm install @angular/{material,cdk}@9.0.0</code>.</p>
    </div>
    <p class="normal">If you need to update your version of Angular, refer to the <em class="italics">Updating Angular</em> section in <em class="italics">Appendix C</em>, <em class="italics">Keeping Angular and Tools Evergreen</em>. You can find this appendix online from <a href="https://static.packt-cdn.com/downloads/9781838648800_Appendix_C_Keeping_Angular_and_Tools_Evergreen."><span class="url">https://static.packt-cdn.com/downloads/9781838648800_Appendix_C_Keeping_Angular_and_Tools_Evergreen.pdf</span></a> or at <a href="https://expertlysimple.io/stay-evergreen"><span class="url">https://expertlysimple.io/stay-evergreen</span></a>.</p>
    <h2 class="title" id="_idParaDest-153">Understanding Material's components</h2>
    <p class="normal">Let's look <a id="_idIndexMarker430"/>at what exactly we are installing:</p>
    <ul>
      <li class="list"><code class="Code-In-Text--PACKT-">@angular/material</code> is the official Material library.</li>
      <li class="list"><code class="Code-In-Text--PACKT-">@angular/cdk</code> is a peer dependency, not something you use directly unless you intend to build your own components.</li>
      <li class="list"><code class="Code-In-Text--PACKT-">@angular/animations</code> enables some of the animations for some Material modules. It can be omitted to keep the app size minimal. You may use <code class="Code-In-Text--PACKT-">NoopAnimationsModule</code> to disable animations in the modules that require this dependency. As a result, you will lose some of the UX benefits of Angular Material.</li>
    </ul>
    <h2 class="title" id="_idParaDest-154">Manually configuring Angular Material</h2>
    <p class="normal">Now that the <a id="_idIndexMarker431"/>dependencies are installed, let's configure Angular Material in our Angular app. Note that if you used <code class="Code-In-Text--PACKT-">ng add @angular/material</code> to install Angular Material, some of this work will be done for you.</p>
    <h3 class="title" id="_idParaDest-155">Importing modules</h3>
    <p class="normal">We will <a id="_idIndexMarker432"/>start by creating a separate module file to house all of our Material module imports:</p>
    <ol>
      <li class="list" value="1">Execute the following command in the Terminal to generate <code class="Code-In-Text--PACKT-">material.module.ts</code>:
        <pre class="programlisting"><code class="hljs ada">$ npx ng g m material <span class="hljs-comment">--flat -m app</span>
</code></pre>
        <div class="note">
          <p class="Information-Box--PACKT-">Note the use of the <code class="Code-In-Text--PACKT-">--flat</code> flag, which indicates that an additional directory shouldn't be created for <code class="Code-In-Text--PACKT-">material.module.ts</code>. Also, note that <code class="Code-In-Text--PACKT-">-m</code>, an alias for <code class="Code-In-Text--PACKT-">--module</code>, is specified so that our new module is automatically imported into <code class="Code-In-Text--PACKT-">app.module.ts</code>.</p>
        </div>
      </li>
      <li class="list">Observe the newly created file <code class="Code-In-Text--PACKT-">material.module.ts</code> and remove <code class="Code-In-Text--PACKT-">CommonModule</code>:
        <pre class="programlisting"><code class="hljs coffeescript"><strong>src/app/material.<span class="hljs-built_in">module</span>.ts</strong>
<span class="hljs-keyword">import</span> { NgModule } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span> 
@NgModule({
  imports: [], 
  declarations: [],
})
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MaterialModule</span> {}</span>
</code></pre>
      </li>
      <li class="list">Ensure that the module has been imported into <code class="Code-In-Text--PACKT-">app.module.ts</code>:
        <pre class="programlisting"><code class="hljs coffeescript"><strong>src/app/app.<span class="hljs-built_in">module</span>.ts</strong>
<span class="hljs-keyword">import</span> { MaterialModule } <span class="hljs-keyword">from</span> <span class="hljs-string">'./material.module'</span>
...
@NgModule({
  ...
  imports: [..., MaterialModule],
}
</code></pre>
      </li>
      <li class="list">Add animations and gesture support (if not automatically added):
        <pre class="programlisting"><code class="hljs coffeescript"><strong>src/app/app.<span class="hljs-built_in">module</span>.ts</strong>
<span class="hljs-keyword">import</span> { BrowserAnimationsModule } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/platform-browser/animations'</span>
@NgModule({
  ...
  imports: [..., MaterialModule, BrowserAnimationsModule],
}
</code></pre>
      </li>
      <li class="list">Modify <code class="Code-In-Text--PACKT-">material.module.ts</code> to import and export basic components for <code class="Code-In-Text--PACKT-">MatButton</code>, <code class="Code-In-Text--PACKT-">MatToolbar</code>, and <code class="Code-In-Text--PACKT-">MatIcon</code>:
        <pre class="programlisting"><code class="hljs coffeescript"><strong>src/app/material.<span class="hljs-built_in">module</span>.ts</strong>
<span class="hljs-keyword">import</span> { NgModule } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>
<span class="hljs-keyword">import</span> { MatButtonModule } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/material/button'</span>
<span class="hljs-keyword">import</span> { MatIconModule } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/material/icon'</span>
<span class="hljs-keyword">import</span> { MatToolbarModule } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/material/toolbar'</span>
@NgModule({
  imports: [
    MatButtonModule, MatToolbarModule, MatIconModule
  ], 
  exports: [
    MatButtonModule, MatToolbarModule, MatIconModule
  ],
})
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MaterialModule</span> {}</span>
</code></pre>
      
      <div class="packt_tip">
        <p>The <code class="Code-In-Text--PACKT-">imports</code> and <code class="Code-In-Text--PACKT-">exports</code> arrays can sometimes become long and duplicative. If you miss an element in one of the arrays, you could be chasing bugs for hours. Consider implementing a single array as a constant that you can assign to <code class="Code-In-Text--PACKT-">imports</code> and <code class="Code-In-Text--PACKT-">exports</code> properties for a more reliable configuration. Thanks to Brendon Caulkins for the tip.</p>
      </div></li>
      <li class="list" value="6">Optimize your <a id="_idIndexMarker433"/>code to store your modules in an array and reuse it to import and export:
        <pre class="programlisting"><code class="hljs java"><strong>src/app/material.<span class="hljs-keyword">module</span>.ts</strong>
...
<span class="hljs-keyword">const</span> modules = 
  [MatButtonModule, MatToolbarModule, MatIconModule]
<span class="hljs-meta">@NgModule</span>({
  declarations: [],
  imports: modules,
  <span class="hljs-keyword">exports</span>: modules,
})
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MaterialModule</span> </span>{}
</code></pre>
      </li>
    </ol>
    <p class="normal">Material is now imported into the app; let's now configure a theme and add the necessary CSS to our app.</p>
    <h3 class="title" id="_idParaDest-156">Importing themes</h3>
    <p class="normal">A base theme is necessary in order to use Material components. We already selected a default <a id="_idIndexMarker434"/>theme when installing Angular Material. We can define or change the default theme in <code class="Code-In-Text--PACKT-">angular.json</code>:</p>
    <pre class="programlisting"><code class="hljs prolog"><strong>angular.json</strong>
...
<span class="hljs-string">"styles"</span>: [
  {
    <span class="hljs-string">"input"</span>:
      <span class="hljs-string">"node_modules/@angular/material/prebuilt-themes/indigo-pink.css"</span>
  },
  <span class="hljs-string">"src/styles.css"</span>
],
...
</code></pre>
    <p class="normal">Choose a new option from here:</p>
    <ul>
      <li class="list"><code class="Code-In-Text--PACKT-">deeppurple-amber.css</code></li>
      <li class="list"><code class="Code-In-Text--PACKT-">indigo-pink.css</code></li>
      <li class="list"><code class="Code-In-Text--PACKT-">pink-bluegrey.css</code></li>
      <li class="list"><code class="Code-In-Text--PACKT-">purple-green.css</code></li>
    </ul>
    <p class="normal">Update <code class="Code-In-Text--PACKT-">angular.json</code> to use the new Material theme.</p>
    <div class="note">
      <p class="Information-Box--PACKT-">You may create your own themes as well, which is covered in the <em class="italics">Custom themes</em> section of this chapter. For more information, visit <a href="https://material.angular.io/guide/theming"><span class="url">https://material.angular.io/guide/theming</span></a>.</p>
    </div>
    <p class="normal">Note that <a id="_idIndexMarker435"/>any CSS implemented in <code class="Code-In-Text--PACKT-">styles.css</code> will be globally available throughout the application. That said, do not include view-specific CSS in this file. Every component has its own CSS file for this purpose.</p>
    <h3 class="title" id="_idParaDest-157">Adding the Material Icon font</h3>
    <p class="normal">You can <a id="_idIndexMarker436"/>get access to a good default set of iconography by adding the Material Icon web font to your application. Clocking in at 48 KB in size, this is a very lightweight library.</p>
    <p class="normal">For icon support, import the font in <code class="Code-In-Text--PACKT-">index.html</code>:</p>
    <pre class="programlisting"><code class="hljs xml"><strong>src/index.html</strong>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  ...
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/icon?family=Material+Icons"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
</code></pre>
    <p class="normal">Discover <a id="_idIndexMarker437"/>and search through the icons at <a href="https://material.io/resources/icons"><span class="url">https://material.io/resources/icons</span></a>.</p>
    <div class="packt_tip">
      <p>For a richer set of icons, check out <a href="http://MaterialDesignIcons.com"><span class="url">MaterialDesignIcons.com</span></a>. This icon set contains the base set of Material icons, plus a rich set of third-party icons that contains useful imagery from social media sites for a rich set of actions that cover a lot of ground. This font is 118 KB in size.</p>
    </div>
    <p class="normal">Our UI/UX library for Angular Material is now configured. We also need a layout library that can <a id="_idIndexMarker438"/>make life easier when placing components on the page.</p>
    <p class="normal">Next, let's learn about different layout techniques, from Bootstrap to Flexbox CSS, and why Angular Flex Layout is a great tool to manage your layout. After configuring Angular Flex Layout for our app, we will be ready to implement Material UI components in our app.</p>
    <h1 class="title" id="_idParaDest-158">Angular Flex Layout</h1>
    <p class="normal">Before you can make effective use of Material, you must be aware of its layout engine. If you have <a id="_idIndexMarker439"/>been doing web development for a while, you may have encountered Bootstrap's 12-column layout system. I find it enormously irritating, since it falls foul of a mathematical barrier in my brain, which is wired to divvy things up as parts of 100%. Bootstrap also demands strict adherence to a <code class="Code-In-Text--PACKT-">div</code> column and row hierarchy that must be precisely managed from your top-level HTML to the bottom. This can make for a very frustrating development experience. </p>
    <p class="normal">In the following screenshot, you can see how Bootstrap's 12-column scheme looks:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_06.png"/></figure>
    <p class="packt_figref">Figure 5.6: Bootstrap's 12-column layout scheme</p>
    <p class="normal">Bootstrap's custom grid-layout system was revolutionary for its time, but then CSS3 Flexbox arrived on the scene. In combination with media queries, these two technologies allow for the creation of responsive UIs. However, it is very laborious to <a id="_idIndexMarker440"/>leverage these technologies effectively. As of Angular v4.1, the Angular team introduced its Flex Layout system that just works.</p>
    <p class="normal">The Angular Flex Layout documentation on GitHub aptly explains the following:</p>
    <blockquote class="packt_quote">Angular Flex Layout provides a sophisticated layout API using FlexBox CSS and mediaQuery. This module provides Angular (v4.1 and higher) developers with component layout features using a custom Layout API, mediaQuery observables, and injected DOM flexbox-2016 CSS stylings.</blockquote>
    <p class="normal">Angular's excellent implementation makes it very easy to use Flexbox. As the documentation further explains:</p>
    <blockquote class="packt_quote">The Layout engine intelligently automates the process of applying appropriate FlexBox CSS to browser view hierarchies. This automation also addresses many of the complexities and workarounds encountered with the traditional, manual, CSS-only application of Flexbox CSS.</blockquote>
    <p class="normal">The library is highly capable and can accommodate any kind of grid layout you can imagine, including integration with all CSS features that you would expect, such as the <code class="Code-In-Text--PACKT-">calc()</code> function. In the next illustration, you can see how columns can be described using CSS Flexbox:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_07.png"/></figure>
    <p class="packt_figref">Figure 5.7: Angular Flex Layout scheme</p>
    <p class="normal">The great news is that Angular Flex Layout is in no way coupled with Angular Material and can <a id="_idIndexMarker441"/>be used independently of it. This is a very important decoupling that resolves one of the major pain points of using AngularJS with Material v1, where version updates to Material would often result in bugs in layout.</p>
    <p class="normal">For <a id="_idIndexMarker442"/>more details, check out <a href="https://github.com/angular/flex-layout/wiki"><span class="url">https://github.com/angular/flex-layout/wiki</span></a>.</p>
    <div class="packt_tip">
      <p>You will notice that <code class="Code-In-Text--PACKT-">@angular/flex-layout</code> is installed with a beta tag. This has been the status quo for this library for a very long time. It hasn't been possible for the library to cover every edge case going back to Internet Explorer 11, which prevents it from exiting beta. However, in evergreen browsers, I've found the behavior of the library to reliable and consistent. Further, CSS Grid is poised to supersede CSS Flexbox and as a result, the underlying technology that this library uses may change. My wish is that this library acts as an abstraction layer to the layout engine underneath.</p>
    </div>
    <h2 class="title" id="_idParaDest-159">Responsive layouts</h2>
    <p class="normal">All UIs you design and build should be mobile-first UIs. This is not just to serve mobile phone browsers, but also cases where a laptop user may use your application in a window <a id="_idIndexMarker443"/>side by side with another one. There are many nuances to getting mobile-first design right.</p>
    <p class="normal">The following is the <em class="italics">Mozilla Holy Grail Layout</em>, which demonstrates "the ability to dynamically change the layout for different screen resolutions" while optimizing the display <a id="_idIndexMarker444"/>content for mobile devices.</p>
    <div class="packt_tip">
      <p>You can read more about basic concepts of Flexbox at <a href="https://mzl.la/2vvxj25"><span class="url">https://mzl.la/2vvxj25</span></a>.</p>
    </div>
    <p class="normal">This is a representation of how the UI looks on a large screen:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_08.png"/></figure>
    <p class="packt_figref">Figure 5.8: Mozilla Holy Grail Layout on a large screen</p>
    <p class="normal">The same <a id="_idIndexMarker445"/>layout is represented on a small screen as follows:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_09.png"/></figure>
    <p class="packt_figref">Figure 5.9: Mozilla Holy Grail Layout on a small screen</p>
    <p class="normal">Mozilla's reference implementation takes 85 lines of code to accomplish this kind of responsive UI. Angular Flex <a id="_idIndexMarker446"/>Layout accomplishes the same task with only half the code.</p>
    <h2 class="title" id="_idParaDest-160">Installing Angular Flex Layout</h2>
    <p class="normal">Let's <a id="_idIndexMarker447"/>install and add Angular Flex Layout to our project:</p>
    <ol>
      <li class="list" value="1">In the Terminal, execute <code class="Code-In-Text--PACKT-">npm i @angular/flex-layout</code>
        <div class="note">
          <p class="Information-Box--PACKT-">To get around peer dependency errors, execute <code class="Code-In-Text--PACKT-">npm i @angular/flex-layout@next</code> or <code class="Code-In-Text--PACKT-">npm i @angular/flex-layout --force</code>, as mentioned in <em class="italics">Appendix C</em>, <em class="italics">Keeping Angular and Tools Evergreen</em>. You can find this appendix online from <a href="https://static.packt-cdn.com/downloads/9781838648800_Appendix_C_Keeping_Angular_and_Tools_Evergreen."><span class="url">https://static.packt-cdn.com/downloads/9781838648800_Appendix_C_Keeping_Angular_and_Tools_Evergreen.pdf</span></a> or at <a href="https://expertlysimple.io/stay-evergreen"><span class="url">https://expertlysimple.io/stay-evergreen</span></a>.</p>
        </div>
      </li>
      <li class="list">Update <code class="Code-In-Text--PACKT-">app.module.ts</code>, as shown:
        <pre class="programlisting"><code class="hljs clean"><strong>src/app.<span class="hljs-keyword">module</span>.ts</strong>
<span class="hljs-keyword">import</span> { FlexLayoutModule } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/flex-layout'</span>
imports: [..., <strong>FlexLayoutModule</strong> ], 
</code></pre>
      </li>
    </ol>
    <p class="normal">With Flex Layout installed, let's cover the basics of how the library works.</p>
    <h2 class="title" id="_idParaDest-161">Layout basics</h2>
    <p class="normal">Bootstrap and CSS Flexbox are different beasts than Angular Flex Layout. If you learn Angular Flex Layout, you will find yourself using a lot less layout code, because Angular Material <a id="_idIndexMarker448"/>automatically does the right thing most of the time, but you'll be in for a disappointment once you realize how much more code you have to write to get things working once you leave the protective cocoon of Angular Flex Layout. However, your skills still translate over since the concepts are mostly the same.</p>
    <p class="normal">Let's review the Flex Layout APIs in the following sections.</p>
    <div class="note">
      <p class="Information-Box--PACKT-">If you're new to CSS or even Flexbox, some of the abbreviations used may not make sense. I recommend that you experiment with the live demo app provided in the documentation to get a better sense of the capabilities of the library at a more intuitive level. For more information and a link to the live demo visit <a href="https://github.com/angular/flex-layout/wiki/Declarative-API-Overview"><span class="url">https://github.com/angular/flex-layout/wiki/Declarative-API-Overview</span></a>.</p>
    </div>
    <h3 class="title" id="_idParaDest-162">Flex Layout APIs for DOM containers</h3>
    <p class="normal">These directives can be used on DOM containers such as <code class="Code-In-Text--PACKT-">&lt;div&gt;</code> or <code class="Code-In-Text--PACKT-">&lt;span&gt;</code> to manipulate <a id="_idIndexMarker449"/>their layout direction, alignment, or gaps in between elements.</p>
    <p class="normal">Consider the following example:</p>
    <pre class="programlisting"><code class="hljs routeros">&lt;div <span class="hljs-attribute">fxLayout</span>=<span class="hljs-string">"row"</span> <span class="hljs-attribute">fxLayoutAlign</span>=<span class="hljs-string">"start center"</span> <span class="hljs-attribute">fxLayoutGap</span>=<span class="hljs-string">"15px"</span>&gt;...&lt;/div&gt;
</code></pre>
    <p class="normal">The <code class="Code-In-Text--PACKT-">div</code> is laid out as a row, so multiple <code class="Code-In-Text--PACKT-">div</code>s would be rendered on top of each other, versus a column layout where they would render next to each other.</p>
    <p class="normal">The <code class="Code-In-Text--PACKT-">div</code> is aligned to horizontally left-aligned and vertically centered within its parent container.</p>
    <p class="normal">The <code class="Code-In-Text--PACKT-">div</code> has a 15-px gap between its surrounding elements.</p>
    <p class="normal">Consider the following diagram to map <code class="Code-In-Text--PACKT-">fxLayout</code> terminology spatially:</p>
    <figure class="mediaobject"><img alt="css3-flexbox-model" src="../Images/B14094_05_10.jpg"/></figure>
    <p class="packt_figref">Figure 5.10: Spatial mapping of Angular Flex Layout terminology</p>
    <p class="normal">The full list of options is presented in the following table:</p>
    <table class="No-Table-Style _idGenTablePara-1" id="table003">
      <colgroup>
        <col/>
        <col/>
      </colgroup>
      <tbody>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <strong class="heading">HTML API</strong>
          </td>
          <td class="No-Table-Style">
            <strong class="heading">Allowed values</strong>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">fxLayout</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">&lt;direction&gt;</code> | <code class="Code-In-Text--PACKT-">&lt;direction&gt; &lt;wrap&gt;</code></p>
            <p class="content">Use: row | column | row-reverse | column-reverse</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">fxLayoutAlign</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">&lt;main-axis&gt; &lt;cross-axis&gt;</code></p>
            <p class="content"><code class="Code-In-Text--PACKT-">main-axis</code>: start |center | end | space-around | space-between </p>
            <p class="content"><code class="Code-In-Text--PACKT-">cross-axis</code>: start | center | end | stretch</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">fxLayoutGap</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="content">% | px | vw | vh</p>
          </td>
        </tr>
      </tbody>
    </table>
    <h3 class="title" id="_idParaDest-163">Flex Layout APIs for DOM elements</h3>
    <p class="normal">These <a id="_idIndexMarker450"/>directives influence how DOM elements act within their containers.</p>
    <p class="normal">Consider the following example: </p>
    <pre class="programlisting"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">fxLayout</span>=<span class="hljs-string">"column"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">fxFlex</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
    <p class="normal">The <code class="Code-In-Text--PACKT-">input</code> element will grow to fill all available space that the parent <code class="Code-In-Text--PACKT-">div</code> provides. If <code class="Code-In-Text--PACKT-">fxFlex</code> was set to <code class="Code-In-Text--PACKT-">fxFlex="50%"</code>, it would fill only half of the available space. In this case the <code class="Code-In-Text--PACKT-">fxFlexAlign</code> property could be used to left-, right-, or center-align the element within the <code class="Code-In-Text--PACKT-">div</code>.</p>
    <p class="normal">The full list of options is presented in the following table:</p>
    <table class="No-Table-Style _idGenTablePara-1" id="table004">
      <colgroup>
        <col/>
        <col/>
      </colgroup>
      <tbody>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <strong class="heading">HTML API</strong>
          </td>
          <td class="No-Table-Style">
            <strong class="heading">Allowed values</strong>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">fxFlex</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="content">"" | px | % | vw | vh | <code class="Code-In-Text--PACKT-">&lt;grow&gt; &lt;shrink&gt; &lt;basis&gt;</code></p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">fxFlexOrder</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">int</code></p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">fxFlexOffset</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="content">% | px | vw | vh</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">fxFlexAlign</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="content">start | baseline | center | end</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">fxFlexFill</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="content">none</p>
          </td>
        </tr>
      </tbody>
    </table>
    <figure class="mediaobject"/>
    <h3 class="title" id="_idParaDest-164">Flex Layout APIs for any element</h3>
    <p class="normal">The following <a id="_idIndexMarker451"/>directives can be applied to any HTML element to show, hide, or change the look and feel of these elements.</p>
    <p class="normal">Consider the following example:</p>
    <pre class="programlisting"><code class="hljs gams">&lt;<span class="hljs-built-in">div</span> fxShow fxHide.<span class="hljs-keyword">lt</span>-sm&gt;&lt;/<span class="hljs-built-in">div</span>&gt;
</code></pre>
    <p class="normal"><code class="Code-In-Text--PACKT-">fxShow</code>, set to <code class="Code-In-Text--PACKT-">true</code> by default, will show the <code class="Code-In-Text--PACKT-">div</code> element. Unless the <code class="Code-In-Text--PACKT-">lt-sm</code> condition becomes <code class="Code-In-Text--PACKT-">true</code>, which occurs when the browser window shrinks below the threshold of <em class="italics">small</em>. <em class="italics">Small</em> is defined as a pixel value of 468 px. So, if the width of the browser window shrinks to 467 px or less, <code class="Code-In-Text--PACKT-">fxHide</code> would hide the <code class="Code-In-Text--PACKT-">div</code> element.</p>
    <p class="normal">The full list of options is presented in the following table:</p>
    <table class="No-Table-Style _idGenTablePara-1" id="table005">
      <colgroup>
        <col/>
        <col/>
      </colgroup>
      <tbody>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <strong class="heading">HTML API</strong>
          </td>
          <td class="No-Table-Style">
            <strong class="heading">Allowed values</strong>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">fxHide</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="content">TRUE | FALSE | 0 | ""</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">fxShow</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="content">TRUE | FALSE | 0 | ""</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">ngClass</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">@extends ngClass core</code></p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">ngStyle</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">@extends ngStyle core</code></p>
          </td>
        </tr>
      </tbody>
    </table>
    <div class="note">
      <p class="Information-Box--PACKT-">This section <a id="_idIndexMarker452"/>covers the basics of Static Layouts. You can read more about the Static APIs at <a href="https://github.com/angular/flex-layout/wiki/Declarative-API-Overview"><span class="url">https://github.com/angular/flex-layout/wiki/Declarative-API-Overview</span></a>. We'll cover the Responsive APIs in <em class="italics">Chapter 11</em>, <em class="italics">Recipes – Reusability, Routing, and Caching</em>. You can <a id="_idIndexMarker453"/>read more about the Responsive APIs at <a href="https://github.com/angular/flex-layout/wiki/Responsive-API"><span class="url">https://github.com/angular/flex-layout/wiki/Responsive-API</span></a>.</p>
    </div>
    <p class="normal">Now that <a id="_idIndexMarker454"/>our layout engine is configured and you have a rudimentary understanding of how it works, we can start building the screens for our app.</p>
    <h1 class="title" id="_idParaDest-165">Using Material components</h1>
    <p class="normal">Now that we have all the various dependencies installed, we can start modifying our Angular <a id="_idIndexMarker455"/>app to add Material components. We will add a toolbar and a Material Design card element, and cover accessibility and typography concerns alongside basic layout techniques.</p>
    <h2 class="title" id="_idParaDest-166">Angular Material schematics</h2>
    <p class="normal">Since Angular 6 and the introduction of schematics, libraries like Material can provide their own <a id="_idIndexMarker456"/>code generators. At the time of publication, Angular Material ships with three rudimentary generators to create Angular components <a id="_idIndexMarker457"/>with a side navigation, a dashboard layout, or a data table. You can read more about generator schematics at <a href="https://material.angular.io/guide/schematics"><span class="url">https://material.angular.io/guide/schematics</span></a>.</p>
    <p class="normal">For example, you can create a side navigation layout by executing the following command:</p>
    <pre class="programlisting"><code class="hljs stylus">$ ng generate @angular/material:material-<span class="hljs-selector-tag">nav</span> --name=side-<span class="hljs-selector-tag">nav</span>
CREATE src/app/side-nav/side-<span class="hljs-selector-tag">nav</span><span class="hljs-selector-class">.component</span><span class="hljs-selector-class">.css</span> (<span class="hljs-number">110</span> bytes) CREATE src/app/side-nav/side-<span class="hljs-selector-tag">nav</span><span class="hljs-selector-class">.component</span><span class="hljs-selector-class">.html</span> (<span class="hljs-number">945</span> bytes) CREATE src/app/side-nav/side-<span class="hljs-selector-tag">nav</span><span class="hljs-selector-class">.component</span><span class="hljs-selector-class">.spec</span><span class="hljs-selector-class">.ts</span> (<span class="hljs-number">619</span> bytes) CREATE src/app/side-nav/side-<span class="hljs-selector-tag">nav</span><span class="hljs-selector-class">.component</span><span class="hljs-selector-class">.ts</span> (<span class="hljs-number">489</span> bytes) UPDATE src/app/app<span class="hljs-selector-class">.module</span><span class="hljs-selector-class">.ts</span> (<span class="hljs-number">882</span> bytes)
</code></pre>
    <p class="normal">This command updates <code class="Code-In-Text--PACKT-">app.module.ts</code>, directly importing Material modules into that file, breaking my suggested <code class="Code-In-Text--PACKT-">material.module.ts</code> pattern from earlier. Further, a new <code class="Code-In-Text--PACKT-">SideNavComponent</code> is added to the app as a separate component, but as mentioned in the <em class="italics">Side navigation</em> section in <em class="italics">Chapter 8</em>, <em class="italics">Designing Authentication and Authorization</em>, such a navigation experience needs to be implemented at the very root of your application.</p>
    <p class="normal">In short, Angular Material Schematics makes it a lot less cumbersome to add various Material modules <a id="_idIndexMarker458"/>and components to your Angular app; however, as provided, these schematics are not suitable for creating a flexible, scalable, and well-architected code base, which is the goal pursued by this book.</p>
    <p class="normal">For the time being, I would recommend using these schematics for rapid prototyping or experimentation purposes.</p>
    <p class="normal">Now, let's start manually adding some components to our LocalCast Weather app.</p>
    <h2 class="title" id="_idParaDest-167">Modifying the landing page with Material Toolbar</h2>
    <p class="normal">Before we start making further changes to <code class="Code-In-Text--PACKT-">app.component.ts</code>, let's switch the component <a id="_idIndexMarker459"/>to use inline <a id="_idIndexMarker460"/>templates and inline styles, so we don't have to switch back and forth between files for a relatively simple component:</p>
    <ol>
      <li class="list" value="1">Update <code class="Code-In-Text--PACKT-">app.component.ts</code> to use an inline template. Cut and paste the contents of <code class="Code-In-Text--PACKT-">app.component.html</code> to <code class="Code-In-Text--PACKT-">app.component.ts</code> and remove the <code class="Code-In-Text--PACKT-">styleUrls</code> property as shown below:
        <pre class="programlisting"><code class="hljs coffeescript"><strong>src/app/app.component.ts</strong>
<span class="hljs-keyword">import</span> { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>
@Component({
  selector: <span class="hljs-string">'app-root'</span>, 
<strong>  template: `</strong><span class="javascript">
    &lt;div style=<span class="hljs-string">"text-align:center"</span>&gt;
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>
        LocalCast Weather
      <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Your city, your forecast, right now!<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Current Weather<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">app-current-weather</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-current-weather</span>&gt;</span></span>
    &lt;<span class="hljs-regexp">/div&gt;
  </span></span><strong>`,</strong>
})
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppComponent</span> {}</span>
</code></pre>
      </li>
      <li class="list">Delete the files <code class="Code-In-Text--PACKT-">app.component.html</code> and <code class="Code-In-Text--PACKT-">app.component.css</code>.</li>
      <li class="list">Let's start improving our app by implementing an app-wide toolbar. Observe the <code class="Code-In-Text--PACKT-">h1</code> tag in <code class="Code-In-Text--PACKT-">app.component.ts</code>:
        <pre class="programlisting"><code class="hljs dts"><strong>src<span class="hljs-meta-keyword">/app/</span>app.component.ts</strong>
<span class="hljs-params">&lt;h1&gt;</span>
  LocalCast Weather
<span class="hljs-params">&lt;/h1&gt;</span>
</code></pre>
      </li>
      <li class="list">Update the <code class="Code-In-Text--PACKT-">h1</code> tag with <code class="Code-In-Text--PACKT-">mat-toolbar</code>:
        <pre class="programlisting"><code class="hljs dts"><strong>src<span class="hljs-meta-keyword">/app/</span>app.component.ts</strong>
<strong><span class="hljs-params">&lt;mat-toolbar&gt;</span></strong>
  <span class="hljs-params">&lt;span&gt;</span>LocalCast Weather<span class="hljs-params">&lt;/span&gt;</span>
<strong><span class="hljs-params">&lt;/mat-toolbar&gt;</span></strong>
</code></pre>
      </li>
      <li class="list">Update <code class="Code-In-Text--PACKT-">mat-toolbar</code> with a more attention-grabbing color:
        <pre class="programlisting"><code class="hljs stata"><strong>src/<span class="hljs-keyword">app</span>/<span class="hljs-keyword">app</span>.component.ts</strong>
&lt;<span class="hljs-keyword">mat</span>-toolbar <strong>color=<span class="hljs-string">"primary"</span></strong>&gt;
</code></pre>
      </li>
    </ol>
    <div class="packt_tip">
      <p>Note that your app will fail to compile if you didn't import <code class="Code-In-Text--PACKT-">MatToolbarModule</code> as instructed in the earlier section <em class="italics">Importing modules</em>.</p>
    </div>
    <p class="normal">Note that <a id="_idIndexMarker461"/>Material adds the following style as a global style:</p>
    <pre class="programlisting"><code class="hljs stylus"><strong>src/styles<span class="hljs-selector-class">.css</span></strong>
<span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
}
</code></pre>
    <p class="normal">Having a <code class="Code-In-Text--PACKT-">0</code> margin provides a native app feeling, where the toolbar touches the edges of the browser. This works well both on large- and small-screen formats. When you place clickable <a id="_idIndexMarker462"/>elements such as a hamburger menu or a help button on the far-left or far-right side of the toolbar, you'll avoid the potential that the user will click on empty space. This is why Material buttons actually have a larger hit-area than visually represented. This makes a big difference in crafting frustration-free UXs.</p>
    <p class="normal">Similarly, if you were building an information-dense application, note that your content would go all the way to the edges of the application, making your content more difficult to read, which is not a desirable outcome. In these cases, you should wrap your content area in a <code class="Code-In-Text--PACKT-">div</code> and apply the appropriate margins using CSS, as shown here:</p>
    <pre class="programlisting"><code class="hljs css"><strong><span class="hljs-selector-tag">example</span></strong>
<span class="hljs-selector-class">.content-margin</span> { 
  <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">8px</span>; 
  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">8px</span>;
}
</code></pre>
    <p class="normal">In the <a id="_idIndexMarker463"/>next screenshot, you can see the edge-to-edge toolbar with the primary color applied to it:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_11.png"/></figure>
    <p class="packt_figref">Figure 5.11: LocalCast Weather with improved toolbar</p>
    <p class="normal">Now we <a id="_idIndexMarker464"/>have the toolbar configured, let's move on to making a container for the weather information.</p>
    <h2 class="title" id="_idParaDest-168">Material cards</h2>
    <p class="normal">Material cards are a great container to represent the current weather information. The card element <a id="_idIndexMarker465"/>is surrounded by a drop-shadow that delineates the content from its surroundings:</p>
    <ol>
      <li class="list" value="1">Import <code class="Code-In-Text--PACKT-">MatCardModule</code> in <code class="Code-In-Text--PACKT-">material.module</code>:
        <pre class="programlisting"><code class="hljs livescript"><strong>src/app/material.<span class="hljs-built_in">module</span>.ts</strong>
<span class="hljs-keyword">import</span> { MatCardModule } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/material/card'</span>
...
<span class="hljs-keyword">const</span> modules = […, MatCardModule]
</code></pre>
      </li>
      <li class="list">In AppComponent's template, surround <code class="Code-In-Text--PACKT-">&lt;app-current-weather&gt;</code> with <code class="Code-In-Text--PACKT-">&lt;mat-card&gt;</code>:
        <pre class="programlisting"><code class="hljs xml"><strong>src/app/app.component.ts</strong>
...
  template: `
  ...
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"text-align:center"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">mat-toolbar</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"primary"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>LocalCast Weather<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">mat-toolbar</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Your city, your forecast, right now!<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <strong><span class="hljs-tag">&lt;<span class="hljs-name">mat-card</span>&gt;</span></strong>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Current Weather<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">app-current-weather</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-current-weather</span>&gt;</span>
    <strong><span class="hljs-tag">&lt;/<span class="hljs-name">mat-card</span>&gt;</span></strong>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  ...
  `,
...
</code></pre>
      </li>
      <li class="list">Observe the <a id="_idIndexMarker466"/>barely distinguishable card element with its shadow near the bottom of the screen below:<figure class="mediaobject"><img alt="" src="../Images/B14094_05_12.png"/></figure>
        <p class="packt_figref">Figure 5.12: LocalCast Weather with indistinguishable card element</p>
        <p class="Bullet-Without-Bullet-Within-Bullet--PACKT-">To lay out the screen better, we need to switch to the Flex Layout engine. We'll start by removing the training wheels from the component template.</p>
      </li>
      <li class="list">Remove <code class="Code-In-Text--PACKT-">style="text-align:center"</code> from the outermost <code class="Code-In-Text--PACKT-">&lt;div&gt;</code> element.</li>
      <li class="list">Surround <code class="Code-In-Text--PACKT-">&lt;mat-card&gt;</code> with the following HTML, where the contents of <code class="Code-In-Text--PACKT-">&lt;mat-card&gt;</code> replaces the ellipses in the middle of the code:<p class="Bullet-Without-Bullet-Within-Bullet--PACKT-">To center <a id="_idIndexMarker467"/>an element in a page, we need to create a row, assign a width to the center element, and create two additional columns on either side that can flex to take the empty space, such as this:</p>
        <pre class="programlisting"><code class="hljs applescript"><strong>src/app/app.component.ts</strong>
...
&lt;<span class="hljs-keyword">div</span> fxLayout=<span class="hljs-string">"row"</span>&gt;
  &lt;<span class="hljs-keyword">div</span> fxFlex&gt;&lt;/<span class="hljs-keyword">div</span>&gt;
  &lt;<span class="hljs-keyword">div</span> fxFlex=<span class="hljs-string">"300px"</span>&gt;
      <strong>...</strong>
  &lt;/<span class="hljs-keyword">div</span>&gt;
  &lt;<span class="hljs-keyword">div</span> fxFlex&gt;&lt;/<span class="hljs-keyword">div</span>&gt;
&lt;/<span class="hljs-keyword">div</span>&gt;
...
</code></pre>
      </li>
    </ol>
    <ol>
      <li class="list" value="6">Observe that the <code class="Code-In-Text--PACKT-">mat-card</code> element is properly centered, as follows:</li>
    </ol>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_13.png"/></figure>
    <p class="packt_figref">Figure 5.13: LocalCast Weather with centered card</p>
    <p class="normal">Reading through the card documentation and looking through the examples on Material's <a id="_idIndexMarker468"/>documentation site at <a href="https://material.angular.io/components/card/overview"><span class="url">https://material.angular.io/components/card/overview</span></a>, you'll note that <code class="Code-In-Text--PACKT-">mat-card</code> provides elements to house the title and content. We will implement this in the upcoming sections.</p>
    <div class="note">
      <p class="Information-Box--PACKT-">On <code class="Code-In-Text--PACKT-">material.angular.io</code>, you can view the source code of any example by clicking on the brackets icons or launch a working example in <a href="http://StackBlitz.io"><span class="url">StackBlitz.io</span></a> by clicking on the arrow icon.</p>
    </div>
    <h3 class="title" id="_idParaDest-169">Card header and content</h3>
    <p class="normal">Now, let's <a id="_idIndexMarker469"/>implement the title and content elements of <code class="Code-In-Text--PACKT-">mat-card</code> using <code class="Code-In-Text--PACKT-">mat-card-header</code> and <code class="Code-In-Text--PACKT-">mat-card-content</code>, as shown:</p>
    <pre class="programlisting"><code class="hljs xml"><strong>src/app/app.component.ts</strong>
...
<span class="hljs-tag">&lt;<span class="hljs-name">mat-toolbar</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"primary"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>LocalCast Weather<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">mat-toolbar</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Your city, your forecast, right now!<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">fxLayout</span>=<span class="hljs-string">"row"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">fxFlex</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">fxFlex</span>=<span class="hljs-string">"300px"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">mat-card</span>&gt;</span>
      <strong><span class="hljs-tag">&lt;<span class="hljs-name">mat-card-header</span>&gt;</span></strong>
<strong>        <span class="hljs-tag">&lt;<span class="hljs-name">mat-card-title</span>&gt;</span>Current Weather<span class="hljs-tag">&lt;/<span class="hljs-name">mat-card-title</span>&gt;</span></strong>
<strong>      <span class="hljs-tag">&lt;/<span class="hljs-name">mat-card-header</span>&gt;</span></strong>
<strong>      <span class="hljs-tag">&lt;<span class="hljs-name">mat-card-content</span>&gt;</span></strong>
<strong>        <span class="hljs-tag">&lt;<span class="hljs-name">app-current-weather</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-current-weather</span>&gt;</span></strong>
<strong>      <span class="hljs-tag">&lt;/<span class="hljs-name">mat-card-content</span>&gt;</span></strong>
    <span class="hljs-tag">&lt;/<span class="hljs-name">mat-card</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">fxFlex</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
...
</code></pre>
    <p class="normal">All Material elements have native support for the Flex Layout engine. This allows us to optimize our HTML and merge <code class="Code-In-Text--PACKT-">&lt;div fxFlex="300px"&gt;</code> with <code class="Code-In-Text--PACKT-">&lt;mat-card&gt;</code> and simplify the code:</p>
    <pre class="programlisting"><code class="hljs xml"><strong>src/app/app.component.ts</strong>
...
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">fxLayout</span>=<span class="hljs-string">"row"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">fxFlex</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <strong><span class="hljs-tag">&lt;<span class="hljs-name">mat-card</span> <span class="hljs-attr">fxFlex</span>=<span class="hljs-string">"300px"</span>&gt;</span></strong>
    ...
  <span class="hljs-tag">&lt;/<span class="hljs-name">mat-card</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">fxFlex</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
...
</code></pre>
    <p class="normal">This has tremendous positive implications for maintainability in complicated UIs.</p>
    <div class="packt_tip">
      <p><strong class="screen-text">Don't forget</strong>: With Material, less is always more.</p>
    </div>
    <p class="normal">After <a id="_idIndexMarker470"/>we apply <code class="Code-In-Text--PACKT-">mat-card-header</code> and <code class="Code-In-Text--PACKT-">mat-card-content</code>, you can see this result:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_14.png"/></figure>
    <p class="packt_figref">Figure 5.14: LocalCast Weather card with title and content</p>
    <p class="normal">Note that fonts within the card now match Material's Roboto font. However, <strong class="screen-text">Current Weather</strong> is no longer as attention-grabbing as it was before. If you add back in the <code class="Code-In-Text--PACKT-">h2</code> tag inside <code class="Code-In-Text--PACKT-">mat-card-title</code>, <strong class="screen-text">Current Weather</strong> will visually look bigger; however, the font won't match the rest of your application. To fix this issue, you must understand Material's <a id="_idIndexMarker471"/>typography features.</p>
    <h2 class="title" id="_idParaDest-170">Material typography</h2>
    <p class="normal">Material's documentation aptly puts it as follows:</p>
    <blockquote class="packt_quote">Typography is a way of arranging type to make text legible, readable, and appealing when displayed.</blockquote>
    <p class="normal">Material offers <a id="_idIndexMarker472"/>a different level of typography that has different <code class="Code-In-Text--PACKT-">font-size</code>, <code class="Code-In-Text--PACKT-">line-height</code>, and <code class="Code-In-Text--PACKT-">font-weight</code> characteristics that you can apply to any HTML element, not just the components provided out of the box.</p>
    <p class="normal">In the following table are CSS classes that you can use to apply Material's typography.</p>
    <p class="normal">Consider the following example: </p>
    <pre class="programlisting"><code class="hljs applescript">&lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">"mat-display-4"</span>&gt;Hello, Material world!&lt;/<span class="hljs-keyword">div</span>&gt;
</code></pre>
    <p class="normal">The <code class="Code-In-Text--PACKT-">display-4</code> typography is applied to the <code class="Code-In-Text--PACKT-">div</code> by prepending it with "<code class="Code-In-Text--PACKT-">mat-</code>".</p>
    <p class="normal">See the following table for a full list of typographical styles:</p>
    <table class="No-Table-Style _idGenTablePara-1" id="table006">
      <colgroup>
        <col/>
        <col/>
      </colgroup>
      <tbody>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <strong class="heading">Class Name</strong>
          </td>
          <td class="No-Table-Style">
            <strong class="heading">Usage</strong>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">display-4</code>, <code class="Code-In-Text--PACKT-">display-3</code>, <code class="Code-In-Text--PACKT-">display-2</code>, and <code class="Code-In-Text--PACKT-">display-1</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="content">Large, one-off headers, usually at the top of the page (for example, a hero header)</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">h1</code>, <code class="Code-In-Text--PACKT-">headline</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="content">Section heading corresponding to the <code class="Code-In-Text--PACKT-">&lt;h1&gt;</code> tag</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">h2</code>, <code class="Code-In-Text--PACKT-">title</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="content">Section heading corresponding to the <code class="Code-In-Text--PACKT-">&lt;h2&gt;</code> tag</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">h3</code>, <code class="Code-In-Text--PACKT-">subheading-2</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="content">Section heading corresponding to the <code class="Code-In-Text--PACKT-">&lt;h3&gt;</code> tag</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">h4</code>, <code class="Code-In-Text--PACKT-">subheading-1</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="content">Section heading corresponding to the <code class="Code-In-Text--PACKT-">&lt;h4&gt;</code> tag</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">body-1</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="content">Base body text</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">body-2</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="content">Bolder body text</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">Caption</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="content">Smaller body and hint text</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="content"><code class="Code-In-Text--PACKT-">Button</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="content">Buttons and anchors</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="normal">You can <a id="_idIndexMarker473"/>read more about Material typography at <a href="https://material.angular.io/guide/typography"><span class="url">https://material.angular.io/guide/typography</span></a>.</p>
    <h3 class="title" id="_idParaDest-171">Applying typography</h3>
    <p class="normal">There are <a id="_idIndexMarker474"/>multiple ways to apply typography. One way is to leverage the <code class="Code-In-Text--PACKT-">mat-typography</code> class and use the corresponding HTML tag, such as <code class="Code-In-Text--PACKT-">&lt;h2&gt;</code>:</p>
    <pre class="programlisting"><code class="hljs xml"><strong>example</strong>
<span class="hljs-tag">&lt;<span class="hljs-name">mat-card-header</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mat-typography"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">mat-card-title</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Current Weather<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">mat-card-title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">mat-card-header</span>&gt;</span>
</code></pre>
    <p class="normal">Another way is to apply the specific typography directly on an element, as in <code class="Code-In-Text--PACKT-">class="mat-title"</code>:</p>
    <pre class="programlisting"><code class="hljs xml"><strong>example</strong>
<span class="hljs-tag">&lt;<span class="hljs-name">mat-card-title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mat-title"</span>&gt;</span>Current Weather<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">mat-card-title</span>&gt;</span>
</code></pre>
    <div class="packt_tip">
      <p>Note that <code class="Code-In-Text--PACKT-">class="mat-title"</code> can be applied to <code class="Code-In-Text--PACKT-">div</code>, <code class="Code-In-Text--PACKT-">span</code>, or an <code class="Code-In-Text--PACKT-">h2</code> with the same results.</p>
    </div>
    <p class="normal">As a rule of thumb, it is usually a better idea to implement the more specific and localized option, which is the second implementation here.</p>
    <p class="normal">As we implement Material typography in the upcoming sections, we need to ensure the card title stands out from rest of the elements on the screen. In this context, I prefer the look of the <code class="Code-In-Text--PACKT-">mat-headline</code> typography to achieve this goal, so your implementation should look like:</p>
    <pre class="programlisting"><code class="hljs stata"><strong>src/<span class="hljs-keyword">app</span>/<span class="hljs-keyword">app</span>.component.ts</strong>
&lt;<span class="hljs-keyword">mat</span>-card-title&gt;
  &lt;div <strong><span class="hljs-keyword">class</span>=<span class="hljs-string">"mat-headline"</span></strong>&gt;Current Weather&lt;/div&gt;
&lt;/<span class="hljs-keyword">mat</span>-card-title&gt;
</code></pre>
    <p class="normal">Next, let's see how we can align the other elements on the screen. </p>
    <h2 class="title" id="_idParaDest-172">Flex Layout Align</h2>
    <p class="normal">We can <a id="_idIndexMarker475"/>center the tagline of the application using <code class="Code-In-Text--PACKT-">fxLayoutAlign</code> and give it a subdued look using the <code class="Code-In-Text--PACKT-">mat-caption</code> typography:</p>
    <ol>
      <li class="list" value="1">Center the <code class="Code-In-Text--PACKT-">div</code> containing the tagline using <code class="Code-In-Text--PACKT-">fxLayoutAlign</code>:
        <pre class="programlisting"><code class="hljs livecodeserver"><strong>src/app/app.component.ts</strong>
<strong>&lt;<span class="hljs-keyword">div</span> fxLayoutAlign=<span class="hljs-string">"center"</span>&gt;</strong>
  &lt;<span class="hljs-keyword">div</span>&gt;
    Your city, your forecast, <span class="hljs-literal">right</span> now!
  &lt;/<span class="hljs-keyword">div</span>&gt;
<strong>&lt;/<span class="hljs-keyword">div</span>&gt;</strong>
</code></pre>
      </li>
      <li class="list">Apply the <code class="Code-In-Text--PACKT-">mat-caption</code> typography to the tagline:
        <pre class="programlisting"><code class="hljs stylus"><strong>src/app/app<span class="hljs-selector-class">.component</span><span class="hljs-selector-class">.ts</span></strong>
&lt;<span class="hljs-selector-tag">div</span> <strong>class=<span class="hljs-string">"mat-caption"</span></strong>&gt;
  Your city, your forecast, <span class="hljs-attribute">right</span> now!
&lt;/div&gt;
</code></pre>
      </li>
      <li class="list" value="3">Observe <a id="_idIndexMarker476"/>the results, as shown here:</li>
    </ol>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_15.png"/></figure>
    <p class="packt_figref">Figure 5.15: LocalCast Weather with centered tagline</p>
    <p class="normal">Next, we need to work on laying out the elements to match the design.</p>
    <h2 class="title" id="_idParaDest-173">Flex Layout</h2>
    <p class="normal">There's still <a id="_idIndexMarker477"/>more work to do to make the UI look like the design. Observe the following design of the Current Weather card:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_16.png"/></figure>
    <p class="packt_figref">Figure 5.16: Lo-fi design of Current Weather</p>
    <p class="normal">To design <a id="_idIndexMarker478"/>the layout, we'll leverage Angular Flex.</p>
    <p class="normal">You'll be editing <code class="Code-In-Text--PACKT-">current-weather.component.html</code>, which uses the <code class="Code-In-Text--PACKT-">&lt;div&gt;</code> and <code class="Code-In-Text--PACKT-">&lt;span&gt;</code> tags to establish elements that live on separate lines or on the same line, respectively. With the switch over to Angular Flex, we need to switch all elements to <code class="Code-In-Text--PACKT-">&lt;div&gt;</code> and specify rows and columns using <code class="Code-In-Text--PACKT-">fxLayout</code>.</p>
    <h3 class="title" id="_idParaDest-174">Implementing layout scaﬀolding</h3>
    <p class="normal">We need <a id="_idIndexMarker479"/>to start by implementing the rough scaffolding. Consider the current state of the template:</p>
    <pre class="programlisting"><code class="hljs twig"><strong><span class="xml">src/app/current-weather/current-weather.component.html</span></strong><span class="xml">
</span><strong><span class="xml"> 1</span></strong><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> *<span class="hljs-attr">ngIf</span>=<span class="hljs-string">"!current"</span>&gt;</span>
</span><strong><span class="xml"> 2</span></strong><span class="xml">    no data
</span><strong><span class="xml"> 3</span></strong><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</span><strong><span class="xml"> 4</span></strong><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> *<span class="hljs-attr">ngIf</span>=<span class="hljs-string">"current"</span>&gt;</span>
</span><strong><span class="xml"> 5</span></strong><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
</span><strong><span class="xml"> 6</span></strong><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span></span><span class="hljs-template-variable">{{current.city}}</span><span class="xml">, </span><span class="hljs-template-variable">{{current.country}}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
</span><strong><span class="xml"> 7</span></strong><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span></span><span class="hljs-template-variable">{{current.<span class="hljs-name">date</span> | <span class="hljs-name">date</span>:'fullDate'}}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
</span><strong><span class="xml"> 8</span></strong><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</span><strong><span class="xml"> 9</span></strong><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
</span><strong><span class="xml">10</span></strong><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> [<span class="hljs-attr">src</span>]=<span class="hljs-string">'current.image'</span>&gt;</span>
</span><strong><span class="xml">11</span></strong><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span></span><span class="hljs-template-variable">{{current.temperature | number:'1.0-0'}}</span><span class="xml">˚F<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
</span><strong><span class="xml">12</span></strong><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</span><strong><span class="xml">13</span></strong><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
</span><strong><span class="xml">14</span></strong><span class="xml">      </span><span class="hljs-template-variable">{{current.description}}</span><span class="xml">
</span><strong><span class="xml">15</span></strong><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</span><strong><span class="xml">16</span></strong><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</span></code></pre>
    <p class="normal">Let's go through the file step by step and update it. First let's make the structural changes to support Flex Layout:</p>
    <ol>
      <li class="list" value="1">On lines 6, 7, and 11, update <code class="Code-In-Text--PACKT-">&lt;span&gt;</code> elements to <code class="Code-In-Text--PACKT-">&lt;div&gt;</code> elements.</li>
      <li class="list">On line 10, wrap the <code class="Code-In-Text--PACKT-">&lt;img&gt;</code> element with a <code class="Code-In-Text--PACKT-">&lt;div&gt;</code> element.</li>
      <li class="list">On lines 5 and 9, add the <code class="Code-In-Text--PACKT-">fxLayout="row"</code> property to the outer <code class="Code-In-Text--PACKT-">&lt;div&gt;</code> element that has multiple child elements.</li>
    </ol>
    <p class="normal">Next, apply the <code class="Code-In-Text--PACKT-">fxFlex</code> attribute to <code class="Code-In-Text--PACKT-">div</code> elements to determine how much horizontal space elements should take:</p>
    <ol>
      <li class="list">On line 6, the City and Country column should take roughly ²⁄³ of the screen, so add <code class="Code-In-Text--PACKT-">fxFlex="66%"</code> to the <code class="Code-In-Text--PACKT-">&lt;div&gt;</code> element.</li>
      <li class="list">On line 7, add <code class="Code-In-Text--PACKT-">fxFlex</code> to the <code class="Code-In-Text--PACKT-">&lt;div&gt;</code> element to ensure that it fills up the rest of the horizontal space.</li>
      <li class="list">On line 10, add <code class="Code-In-Text--PACKT-">fxFlex="66%"</code> to the new <code class="Code-In-Text--PACKT-">&lt;div&gt;</code> element, surrounding the <code class="Code-In-Text--PACKT-">&lt;img&gt;</code> element.</li>
      <li class="list">On line 11, add <code class="Code-In-Text--PACKT-">fxFlex</code> to the <code class="Code-In-Text--PACKT-">&lt;div&gt;</code> element.</li>
    </ol>
    <p class="normal">The final <a id="_idIndexMarker480"/>state of the template should look like this:</p>
    <pre class="programlisting"><code class="hljs twig"><strong><span class="xml">src/app/current-weather/current-weather.component.html</span></strong><span class="xml">
</span><strong><span class="xml"> 5</span></strong><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">fxLayout</span>=<span class="hljs-string">"row"</span>&gt;</span>
</span><strong><span class="xml"> 6</span></strong><span class="xml">      </span><strong><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">fxFlex</span>=<span class="hljs-string">"66%"</span>&gt;</span></span></strong><span class="hljs-template-variable">{{current.city}}</span><span class="xml">, ...</span><strong><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></strong><span class="xml">
</span><strong><span class="xml"> 7</span></strong><span class="xml">      </span><strong><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">fxFlex</span>&gt;</span></span></strong><span class="hljs-template-variable">{{current.<span class="hljs-name">date</span> | <span class="hljs-name">date</span>:'fullDate'}}</span><strong><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></strong><span class="xml">
</span><strong><span class="xml"> 8</span></strong><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</span><strong><span class="xml"> 9</span></strong><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> </span></span><strong><span class="xml"><span class="hljs-tag"><span class="hljs-attr">fxLayout</span>=<span class="hljs-string">"row"</span></span></span></strong><span class="xml"><span class="hljs-tag">&gt;</span>
</span><strong><span class="xml">10</span></strong><span class="xml">      </span><strong><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">fxFlex</span>=<span class="hljs-string">"66%"</span>&gt;</span></span></strong><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> [<span class="hljs-attr">src</span>]=<span class="hljs-string">'current.image'</span>&gt;</span></span><strong><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></strong><span class="xml">
</span><strong><span class="xml">11</span></strong><span class="xml">      </span><strong><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">fxFlex</span>&gt;</span></span></strong><span class="hljs-template-variable">{{current.temperature | number:'1.0-0'}}</span><span class="xml">˚F</span><strong><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></strong><span class="xml">
</span><strong><span class="xml">12</span></strong><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</span><strong><span class="xml">13</span></strong><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
</span><strong><span class="xml">14</span></strong><span class="xml">      </span><span class="hljs-template-variable">{{current.description}}</span><span class="xml">
</span><strong><span class="xml">15</span></strong><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</span></code></pre>
    <p class="normal">You can be more verbose in adding Angular Flex attributes; however, the more code you write, the more you'll need to maintain, making future changes more difficult. For example, on line 13, the <code class="Code-In-Text--PACKT-">&lt;div&gt;</code> element doesn't need <code class="Code-In-Text--PACKT-">fxLayout="row"</code>, since a <code class="Code-In-Text--PACKT-">&lt;div&gt;</code> implicitly gets a new line. Similarly, on lines 7 and 11, the right-hand column doesn't need an explicit <code class="Code-In-Text--PACKT-">fxFlex</code> attribute, since the left-hand element automatically squeezes it. However, we are going to keep those <code class="Code-In-Text--PACKT-">fxFlex</code> attributes in.</p>
    <p class="normal">From a grid placement perspective, all your elements are now in the correct <em class="italics">cell</em>, as shown here:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_17.png"/></figure>
    <p class="packt_figref">Figure 5.17: LocalCast Weather with layout scaffolding</p>
    <p class="normal">With a <a id="_idIndexMarker481"/>responsive design implemented, next, let's work on alignment of major elements.</p>
    <h2 class="title" id="_idParaDest-175">Aligning elements with CSS</h2>
    <p class="normal">Now, we need <a id="_idIndexMarker482"/>to align and style each cell to match the design. For this purpose, we rely on CSS over <code class="Code-In-Text--PACKT-">fxLayoutAlign</code>. The date and temperature <a id="_idIndexMarker483"/>need to be right-aligned and the description centered:</p>
    <ol>
      <li class="list" value="1">To right-align the date and temperature, create a new CSS class named <code class="Code-In-Text--PACKT-">.right</code> in <code class="Code-In-Text--PACKT-">current-weather.component.css</code>:
        <pre class="programlisting"><code class="hljs nsis"><strong>src/app/<span class="hljs-literal">current</span>-weather/<span class="hljs-literal">current</span>-weather.component.css</strong>
.<span class="hljs-literal">right</span> {
  text-align: <span class="hljs-literal">right</span>
}
</code></pre>
      </li>
      <li class="list">Add <code class="Code-In-Text--PACKT-">class="right"</code> to the <code class="Code-In-Text--PACKT-">&lt;div&gt;</code> element on lines 7 and 11.</li>
      <li class="list">Center the <code class="Code-In-Text--PACKT-">&lt;div&gt;</code> element for the description in the same way you centered the app's tagline earlier in the chapter. Use a surrounding <code class="Code-In-Text--PACKT-">div</code> with an <code class="Code-In-Text--PACKT-">fxLayoutAlign="center"</code> attribute.</li>
    </ol>
    <ol>
      <li class="list" value="4">Observe that the elements are aligned correctly, as follows:</li>
    </ol>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_18.png"/></figure>
    <p class="packt_figref">Figure 5.18: LocalCast Weather with correct alignments</p>
    <p class="normal">After aligning <a id="_idIndexMarker484"/>the major elements, let's apply the first layer <a id="_idIndexMarker485"/>of styling to every element to match the design.</p>
    <h3 class="title" id="_idParaDest-176">Individually styling elements</h3>
    <p class="normal">Finalizing the styling of elements is usually the most time-consuming part of front-end development. I recommend doing multiple passes to achieve a close-enough version of the design <a id="_idIndexMarker486"/>with minimal effort first and then have your client or team decide whether it's worth the extra resources to spend more time to polish the design:</p>
    <ol>
      <li class="list" value="1">Add a new CSS property:
        <pre class="programlisting"><code class="hljs stylus"><strong>src/app/current-weather/current-weather<span class="hljs-selector-class">.component</span><span class="hljs-selector-class">.css</span></strong>
<span class="hljs-selector-class">.no-margin</span> { 
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0</span>
}
</code></pre>
      </li>
      <li class="list">For the city name, add <code class="Code-In-Text--PACKT-">class="mat-title no-margin"</code>.</li>
      <li class="list">For the date, add <code class="Code-In-Text--PACKT-">"mat-h3 no-margin"</code> to <code class="Code-In-Text--PACKT-">class="right"</code>.</li>
      <li class="list">Change the display format of the date from <code class="Code-In-Text--PACKT-">'fullDate'</code> to <code class="Code-In-Text--PACKT-">'EEEE MMM d'</code> so it matches the design.</li>
      <li class="list">Modify <code class="Code-In-Text--PACKT-">&lt;img&gt;</code> to add <code class="Code-In-Text--PACKT-">style="zoom: 175%"</code>.</li>
      <li class="list">For the temperature, add <code class="Code-In-Text--PACKT-">"mat-display-3 no-margin"</code> to <code class="Code-In-Text--PACKT-">class="right"</code>.</li>
      <li class="list" value="7">For the description, add <code class="Code-In-Text--PACKT-">class="mat-caption"</code>.<p class="Bullet-Without-Bullet-Within-Bullet--PACKT-">This is <a id="_idIndexMarker487"/>the final state of the template:</p>
        <pre class="programlisting"><code class="hljs axapta"><strong>src/app/current-weather/current-weather.component.html</strong>
&lt;<span class="hljs-keyword">div</span> *ngIf=<span class="hljs-string">"!current"</span>&gt;
  no data
&lt;/<span class="hljs-keyword">div</span>&gt;
&lt;<span class="hljs-keyword">div</span> *ngIf=<span class="hljs-string">"current"</span>&gt;
  &lt;<span class="hljs-keyword">div</span> fxLayout=<span class="hljs-string">"row"</span>&gt;
    &lt;<span class="hljs-keyword">div</span> fxFlex=<span class="hljs-string">"66%"</span> <span class="hljs-class"><span class="hljs-keyword">class</span>="<span class="hljs-title">mat</span>-<span class="hljs-title">title</span> <span class="hljs-title">no</span>-<span class="hljs-title">margin</span>"&gt;
      </span>{{current.city}}, {{current.country}}
    &lt;/<span class="hljs-keyword">div</span>&gt;
    &lt;<span class="hljs-keyword">div</span> fxFlex <span class="hljs-class"><span class="hljs-keyword">class</span>="<span class="hljs-title">right</span> <span class="hljs-title">mat</span>-<span class="hljs-title">h3</span> <span class="hljs-title">no</span>-<span class="hljs-title">margin</span>"&gt;
      </span>{{current.<span class="hljs-keyword">date</span> | <span class="hljs-keyword">date</span>:<span class="hljs-string">'EEEE MMM d'</span>}}
    &lt;/<span class="hljs-keyword">div</span>&gt;
  &lt;/<span class="hljs-keyword">div</span>&gt;
  &lt;<span class="hljs-keyword">div</span> fxLayout=<span class="hljs-string">"row"</span>&gt;
    &lt;<span class="hljs-keyword">div</span> fxFlex=<span class="hljs-string">"66%"</span>&gt;
      &lt;img style=<span class="hljs-string">"zoom: 175%"</span> [src]=<span class="hljs-string">'current.image'</span>&gt;
    &lt;/<span class="hljs-keyword">div</span>&gt;
    &lt;<span class="hljs-keyword">div</span> fxFlex <span class="hljs-class"><span class="hljs-keyword">class</span>="<span class="hljs-title">right</span> <span class="hljs-title">mat</span>-<span class="hljs-title">display</span>-3 <span class="hljs-title">no</span>-<span class="hljs-title">margin</span>"&gt;
    </span>{{current.temperature | number:<span class="hljs-string">'1.0-0'</span>}}˚F
  &lt;/<span class="hljs-keyword">div</span>&gt;
&lt;/<span class="hljs-keyword">div</span>&gt;
  &lt;<span class="hljs-keyword">div</span> fxLayoutAlign=<span class="hljs-string">"center"</span>&gt;
    &lt;<span class="hljs-keyword">div</span> <span class="hljs-class"><span class="hljs-keyword">class</span>="<span class="hljs-title">mat</span>-<span class="hljs-title">caption</span>"&gt;
      </span>{{current.description}}
    &lt;/<span class="hljs-keyword">div</span>&gt;
  &lt;/<span class="hljs-keyword">div</span>&gt;
&lt;/<span class="hljs-keyword">div</span>&gt;
</code></pre>
      </li>
      <li class="list">Observe that the styled output of your code changes, as illustrated:
      <figure class="mediaobject"><img alt="" src="../Images/B14094_05_19.png"/></figure>
      <p class="packt_figref">Figure 5.19: LocalCast Weather with styling</p></li>
    </ol>
    <p class="normal">We're done <a id="_idIndexMarker488"/>with adding the first layer of styles for our design. Next, let's fine-tune the spacing and alignment of elements.</p>
    <h3 class="title" id="_idParaDest-177">Fine-tuning styles</h3>
    <p class="normal">The tagline <a id="_idIndexMarker489"/>can benefit from some top and bottom margins. This is common CSS that we're likely to use across the application, so let's put it in <code class="Code-In-Text--PACKT-">styles.css</code>:</p>
    <ol>
      <li class="list" value="1">Implement <code class="Code-In-Text--PACKT-">vertical-margin</code> in the global <code class="Code-In-Text--PACKT-">styles.css</code>:
        <pre class="programlisting"><code class="hljs stylus"><strong>src/styles<span class="hljs-selector-class">.css</span></strong>
<span class="hljs-selector-class">.vertical-margin</span> { 
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">16px</span>; 
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">16px</span>;
}
</code></pre>
      </li>
      <li class="list">In <code class="Code-In-Text--PACKT-">app.component.ts</code>, apply <code class="Code-In-Text--PACKT-">vertical-margin</code> to the app's tagline:
        <pre class="programlisting"><code class="hljs stylus"><strong>src/app/app<span class="hljs-selector-class">.component</span><span class="hljs-selector-class">.ts</span></strong>
&lt;<span class="hljs-selector-tag">div</span> class=<span class="hljs-string">"mat-caption </span><strong><span class="hljs-string">vertical-margin</span></strong><span class="hljs-string">"</span>&gt;
  Your city, your forecast, <span class="hljs-attribute">right</span> now!
&lt;/div&gt;
</code></pre>
      </li>
      <li class="list">In <code class="Code-In-Text--PACKT-">current-weather.component.html</code>, the image and the temperature aren't centered, so add <code class="Code-In-Text--PACKT-">fxLayoutAlign="center center"</code> to the outer <code class="Code-In-Text--PACKT-">div</code> surrounding these elements:
        <pre class="programlisting"><code class="hljs stylus"><strong>src/app/current-weather/current-weather<span class="hljs-selector-class">.component</span><span class="hljs-selector-class">.html</span></strong>
&lt;<span class="hljs-selector-tag">div</span> fxLayout=<span class="hljs-string">"row"</span> <strong>fxLayoutAlign=<span class="hljs-string">"center center</span></strong><span class="hljs-string">"</span>&gt;
  ...
&lt;/div&gt;
</code></pre>
      </li>
      <li class="list">Observe the <a id="_idIndexMarker490"/>finalized layout of your app, which should look like this:
      <figure class="mediaobject"><img alt="" src="../Images/B14094_05_20.png"/></figure>
      <p class="packt_figref">Figure 5.20: LocalCast Weather ﬁnalized layout</p></li>
    </ol>
    <p class="normal">Finally, let's add some more visual flair by tightening up our design, like fixing the missing line break between the day and the month, and adding some nice-to-have features. </p>
    <h3 class="title" id="_idParaDest-178">Tweaking to match design</h3>
    <p class="normal">This is an <a id="_idIndexMarker491"/>area where you may spend a significant amount of time. If we were following the 80-20 principle, pixel-perfect tweaks usually end up being the last 20% that takes 80% of the time to complete. Let's examine the differences between our implementation in the previous figure, and the original design as shown in the following figure, and what it would take to bridge the gap:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_21.png"/></figure>
    <p class="packt_figref">Figure 5.21: LocalCast Weather original design</p>
    <p class="normal">The date <a id="_idIndexMarker492"/>needs further customization. The numeric ordinal <em class="italics">th</em> is missing in our implementation; to accomplish this, we will need to bring in a third-party library such as <code class="Code-In-Text--PACKT-">moment</code> or implement our own solution and bind it next to the date on the template:</p>
    <ol>
      <li class="list" value="1">Implement a <code class="Code-In-Text--PACKT-">getOrdinal</code> function in <code class="Code-In-Text--PACKT-">CurrentWeatherComponent</code>:
        <pre class="programlisting"><code class="hljs angelscript"><strong>src/app/current-weather/current-weather.component.ts</strong>
export <span class="hljs-keyword">class</span> <span class="hljs-symbol">CurrentWeatherComponent</span> <span class="hljs-symbol">implements</span> <span class="hljs-symbol">OnInit</span> {
  ...
  getOrdinal(date: number) {
    <span class="hljs-keyword">const</span> n = new Date(date).getDate()
    <span class="hljs-keyword">return</span> n &gt; <span class="hljs-number">0</span>
      ? [<span class="hljs-string">'th'</span>, <span class="hljs-string">'st'</span>, <span class="hljs-string">'nd'</span>, <span class="hljs-string">'rd'</span>][(n &gt; <span class="hljs-number">3</span> &amp;&amp; n &lt; <span class="hljs-number">21</span>) || 
                                  n % <span class="hljs-number">10</span> &gt; <span class="hljs-number">3</span> ? <span class="hljs-number">0</span> : n % <span class="hljs-number">10</span>]
      : <span class="hljs-string">''</span>
  }
  ...
}
</code></pre>
      </li>
      <li class="list">In the template, update <code class="Code-In-Text--PACKT-">current.date</code> to append an ordinal to it:
        <pre class="programlisting"><code class="hljs axapta"><strong>src/app/current-weather/current-weather.component.html</strong>
&lt;<span class="hljs-keyword">div</span> fxFlex <span class="hljs-class"><span class="hljs-keyword">class</span>="<span class="hljs-title">right</span> <span class="hljs-title">mat</span>-<span class="hljs-title">h3</span> <span class="hljs-title">no</span>-<span class="hljs-title">margin</span>"&gt;
  </span>{{current.<span class="hljs-keyword">date</span> | 
    <span class="hljs-keyword">date</span>:<span class="hljs-string">'EEEE MMM d'</span>}}<strong>{{getOrdinal(current.<span class="hljs-keyword">date</span>)}}</strong>
&lt;/<span class="hljs-keyword">div</span>&gt;
</code></pre>
        <p class="Bullet-Without-Bullet-Within-Bullet--PACKT-">Note that the implementation of <code class="Code-In-Text--PACKT-">getOrdinal</code> boils down to a complicated one-liner that isn't very readable and is very difficult to maintain. Such functions, if critical to your business logic, should be heavily unit tested.</p>
        <p class="Bullet-Without-Bullet-Within-Bullet--PACKT-">Next, let's fix the missing line break between the day of the week and the month. On certain days like Monday Mar 23<sup>rd</sup>, Monday and Mar will be on the first line, leaving 23<sup>rd</sup> by itself on the second line. However, on Tuesday Mar 24<sup>th</sup>, the issue doesn't exist and Mar and 24<sup>th</sup> fall on the same line. Angular, at the time of publishing, doesn't support new line breaks in the date template; ideally, we should be <a id="_idIndexMarker493"/>able to specify the date format as "EEEE\nMMM d" to ensure that the line break is always consistent. We can, however, throw some inefficient code at the problem and enforce the behavior we desire.</p>
      </li>
      <li class="list">Break up the current date into two parts and separate them with the line break tag <code class="Code-In-Text--PACKT-">&lt;br&gt;</code>, then remove the class right from the outer <code class="Code-In-Text--PACKT-">div</code>:
        <pre class="programlisting"><code class="hljs twig"><strong><span class="xml">src/app/current-weather/current-weather.component.html</span></strong><span class="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">fxFlex</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mat-h3 no-margin"</span>&gt;</span>
  </span><span class="hljs-template-variable">{{current.<span class="hljs-name">date</span> | <span class="hljs-name">date</span>:'EEEE'}}</span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
  </span><span class="hljs-template-variable">{{current.<span class="hljs-name">date</span> | <span class="hljs-name">date</span>:'MMM d'}}</span><span class="hljs-template-variable">{{getOrdinal(current.<span class="hljs-name">date</span>)}}</span><span class="xml">
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</span></code></pre>
        <div class="note">
          <p class="Information-Box--PACKT-">Never use <code class="Code-In-Text--PACKT-">&lt;br&gt;</code> for layout purposes. It's acceptable in this limited case, because we're breaking up content within a <code class="Code-In-Text--PACKT-">div</code> or a <code class="Code-In-Text--PACKT-">p</code> tag.</p>
        </div>
        <p class="Bullet-Without-Bullet-Within-Bullet--PACKT-">Now, let's add some visual flair, when displaying the temperature unit. To accomplish this, the temperature implementation needs to separate the digits from the unit with a <code class="Code-In-Text--PACKT-">&lt;span&gt;</code> element, surrounded with a <code class="Code-In-Text--PACKT-">&lt;p&gt;</code> element, so a superscript style can be applied to the unit along the lines of <code class="Code-In-Text--PACKT-">&lt;span class="unit"&gt;</code><code class="Code-In-Text--PACKT-">˚</code><code class="Code-In-Text--PACKT-">F&lt;/span&gt;</code>, where <code class="Code-In-Text--PACKT-">unit</code> is a CSS class that makes its content look like a superscript element.</p>
      </li>
      <li class="list">Implement a <code class="Code-In-Text--PACKT-">unit</code> CSS class:
        <pre class="programlisting"><code class="hljs stylus"><strong>src/app/current-weather/current-weather<span class="hljs-selector-class">.component</span><span class="hljs-selector-class">.css</span></strong>
<span class="hljs-selector-class">.unit</span> {
<span class="hljs-attribute">vertical-align</span>: super;
}
</code></pre>
      </li>
      <li class="list">Reduce the flex on the image to 55%, wrap the temperature and the unit with a <code class="Code-In-Text--PACKT-">p</code> tag and apply <code class="Code-In-Text--PACKT-">mat-display-3</code> on the <code class="Code-In-Text--PACKT-">p</code> tag. Then implement a <code class="Code-In-Text--PACKT-">span</code> around the temperature unit with the <code class="Code-In-Text--PACKT-">p</code> tag, and apply the classes <code class="Code-In-Text--PACKT-">unit</code> and <code class="Code-In-Text--PACKT-">mat-display-1</code> to the <code class="Code-In-Text--PACKT-">span</code>:
        <pre class="programlisting"><code class="hljs xquery"><strong>src/app/current-weather/current-weather.component.html</strong>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">fxFlex</span>=</span></span><strong><span class="xml"><span class="hljs-tag"><span class="hljs-string">"55%"</span></span></span></strong><span class="xml"><span class="hljs-tag">&gt;</span>
  </span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"zoom: 175%"</span> [<span class="hljs-attr">src</span>]=<span class="hljs-string">'current.image'</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><span class="xml">
</span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">fxFlex</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"right no-margin"</span>&gt;</span>
  </span><strong><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mat-display-3"</span>&gt;</span></span></strong><span class="xml">
    </span><span class="xquery">{{current.temperature |<span class="hljs-built_in"> number</span>:<span class="hljs-string">'1.0-0'</span>}</span><span class="xml">}
    </span><strong><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mat-display-1 unit"</span>&gt;</span></span></strong><span class="xml">˚F</span><strong><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span></strong><span class="xml">
  </span><strong><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></strong><span class="xml">
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><span class="xml">
</span></code></pre>
      </li>
    </ol>
    <p class="normal">You usually need to experiment with how much space the forecast image should have by tweaking the <code class="Code-In-Text--PACKT-">fxFlex</code> value on the preceding first line. If it takes too much space, the temperature overflows to the next line. Your settings can further be affected by the size of your <a id="_idIndexMarker494"/>browser window. 60% seems to work well, but when I was coding this sample the current weather was 55˚F, so for entirely poetic reasons I decided to go with 55%. See the polished version of our app here:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_22.png"/></figure>
    <p class="packt_figref">Figure 5.22: LocalCast Weather after tweaks</p>
    <p class="normal">As always, it is possible to further tweak the margins and paddings to further customize the design. However, each deviation from the library will have maintainability consequences down the line. Unless you're truly building a business around displaying weather data, you should defer any further optimizations to the end of the project, if time permits, and if experience is any guide, you will not be making this optimization.</p>
    <p class="normal">With two negative margin-bottom hacks, you can attain a design fairly close to the original, but I will not include those hacks here and leave it as an exercise for the reader to discover <a id="_idIndexMarker495"/>on the GitHub repository. Such hacks are sometimes necessary evils, but in general, they point to a disconnect between design and implementation realities. The solution leading up to the tweaks section is the sweet spot, where Angular Material thrives. Beyond that you're probably wasting your time. I went ahead and wasted my time for you and here's the result:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_23.png"/></figure>
    <p class="packt_figref">Figure 5.23: LocalCast Weather after tweaks and hacks</p>
    <p class="normal">Now that our layout and design is in great shape, let's look into creating a custom theme using Angular Material.</p>
    <h2 class="title" id="_idParaDest-179">Custom themes</h2>
    <p class="normal">As we previously discussed, Material ships with some default themes including <code class="Code-In-Text--PACKT-">deeppurple-amber</code>, <code class="Code-In-Text--PACKT-">indigo-pink</code>, <code class="Code-In-Text--PACKT-">pink-blue-grey</code>, and <code class="Code-In-Text--PACKT-">purple-green</code>. However, your company <a id="_idIndexMarker496"/>or product may have its own color scheme. For this, you can create a custom theme to change the look of your application.</p>
    <p class="normal">In order to create a new theme, you must implement a new SCSS file:</p>
    <ol>
      <li class="list" value="1">Remove all definitions of your default theme from <code class="Code-In-Text--PACKT-">angular.json</code>.</li>
      <li class="list">Re-run the command <code class="Code-In-Text--PACKT-">npx ng add @angular/material</code>.</li>
      <li class="list">This time select <code class="Code-In-Text--PACKT-">Custom</code> as the theme.</li>
      <li class="list">After running the command make sure that your <code class="Code-In-Text--PACKT-">index.html</code> and <code class="Code-In-Text--PACKT-">styles.css</code> files have not been modified. If so, revert the changes.</li>
      <li class="list">This will <a id="_idIndexMarker497"/>create a new file under <code class="Code-In-Text--PACKT-">src</code> called <code class="Code-In-Text--PACKT-">custom-theme.scss.</code> Rename it to <code class="Code-In-Text--PACKT-">localcast-theme.scss</code>, shown as follows:
        <pre class="programlisting"><code class="hljs stata"><strong>src/localcast-theme.scss</strong>
<span class="hljs-comment">// Custom Theming for Angular Material</span>
<span class="hljs-comment">// For more information: https://material.angular.io/guide/theming</span>
@import '~@angular/material/theming';
<span class="hljs-comment">// Plus imports for other components in your app.</span>
<span class="hljs-comment">// Include the common styles for Angular Material.</span>
<span class="hljs-comment">// We include this here so that you only have to</span>
<span class="hljs-comment">// load a single css file for Angular Material in your app.</span>
<span class="hljs-comment">// Be sure that you only ever include this mixin once!</span>
@<span class="hljs-keyword">include</span> <span class="hljs-keyword">mat</span>-core();
<span class="hljs-comment">// Define the palettes for your theme using</span>
<span class="hljs-comment">// the Material Design palettes available in palette.scss</span>
<span class="hljs-comment">// (imported above). For each palette, you can optionally</span>
<span class="hljs-comment">// specify a default, lighter, and darker hue.</span>
<span class="hljs-comment">// Available color palettes: https://material.io/design/color/</span>
<span class="hljs-variable">$local</span>-weather-<span class="hljs-keyword">app</span>-primary: <span class="hljs-keyword">mat</span>-<span class="hljs-keyword">palette</span>(<span class="hljs-variable">$mat</span>-indigo);
<span class="hljs-variable">$local</span>-weather-<span class="hljs-keyword">app</span>-accent: <span class="hljs-keyword">mat</span>-<span class="hljs-keyword">palette</span>(
  <span class="hljs-variable">$mat</span>-pink,
  A200, A100, A400
);
<span class="hljs-comment">// The warn palette is optional (defaults to red).</span>
<span class="hljs-variable">$local</span>-weather-<span class="hljs-keyword">app</span>-warn: <span class="hljs-keyword">mat</span>-<span class="hljs-keyword">palette</span>(<span class="hljs-variable">$mat</span>-red);
<span class="hljs-comment">// Create the theme object (a Sass map containing</span>
<span class="hljs-comment">// all of the palettes).</span>
<span class="hljs-variable">$local</span>-weather-<span class="hljs-keyword">app</span>-theme: <span class="hljs-keyword">mat</span>-light-theme(
  <span class="hljs-variable">$local</span>-weather-<span class="hljs-keyword">app</span>-primary,
  <span class="hljs-variable">$local</span>-weather-<span class="hljs-keyword">app</span>-accent,
  <span class="hljs-variable">$local</span>-weather-<span class="hljs-keyword">app</span>-warn
);
<span class="hljs-comment">// Custom Theming for Angular Material</span>
<span class="hljs-comment">// For more information: https://material.angular.io/guide/theming</span>
@import '~@angular/material/theming';
<span class="hljs-comment">// Plus imports for other components in your app.</span>
<span class="hljs-comment">// Include the common styles for Angular Material.</span>
<span class="hljs-comment">// We include this here so that you only have to</span>
<span class="hljs-comment">// load a single css file for Angular Material in your app.</span>
<span class="hljs-comment">// Be sure that you only ever include this mixin once!</span>
@<span class="hljs-keyword">include</span> <span class="hljs-keyword">mat</span>-core();
<span class="hljs-comment">// Define the palettes for your theme using</span>
<span class="hljs-comment">// the Material Design palettes available in palette.scss</span>
<span class="hljs-comment">// (imported above). For each palette, you can optionally</span>
<span class="hljs-comment">// specify a default, lighter, and darker hue.</span>
<span class="hljs-comment">// Available color palettes: https://material.io/design/color/</span>
<span class="hljs-variable">$local</span>-weather-<span class="hljs-keyword">app</span>-primary: <span class="hljs-keyword">mat</span>-<span class="hljs-keyword">palette</span>(<span class="hljs-variable">$mat</span>-indigo);
<span class="hljs-variable">$local</span>-weather-<span class="hljs-keyword">app</span>-accent: <span class="hljs-keyword">mat</span>-<span class="hljs-keyword">palette</span>(<span class="hljs-variable">$mat</span>-pink, A200, A100, A400);
<span class="hljs-comment">// The warn palette is optional (defaults to red).</span>
<span class="hljs-variable">$local</span>-weather-<span class="hljs-keyword">app</span>-warn: <span class="hljs-keyword">mat</span>-<span class="hljs-keyword">palette</span>(<span class="hljs-variable">$mat</span>-red);
<span class="hljs-comment">// Create the theme object (a Sass map containing</span>
<span class="hljs-comment">// all of the palettes).</span>
<span class="hljs-variable">$local</span>-weather-<span class="hljs-keyword">app</span>-theme: <span class="hljs-keyword">mat</span>-light-theme(
  <span class="hljs-variable">$local</span>-weather-<span class="hljs-keyword">app</span>-primary,
  <span class="hljs-variable">$local</span>-weather-<span class="hljs-keyword">app</span>-accent,
  <span class="hljs-variable">$local</span>-weather-<span class="hljs-keyword">app</span>-warn
);
<span class="hljs-comment">// Include theme styles for core and each component used in</span>
<span class="hljs-comment">// your app. Alternatively, you can import and @include the</span>
<span class="hljs-comment">// theme mixins for each component that you are using.</span>
@<span class="hljs-keyword">include</span> angular-material-theme(<span class="hljs-variable">$local</span>-weather-<span class="hljs-keyword">app</span>-theme);
</code></pre>
        <div class="packt_tip">
          <p>You can <a id="_idIndexMarker498"/>find the Material theme guide at <a href="https://material.angular.io/guide/theming"><span class="url">https://material.angular.io/guide/theming</span></a> for more detailed information.</p>
        </div>
        <div class="note">
          <p class="Information-Box--PACKT-">Note that <code class="Code-In-Text--PACKT-">mat-core()</code> should only be included once in your application; otherwise, you'll introduce unnecessary and duplicated CSS payloads in your application.</p>
        </div>
        <p class="Bullet-Without-Bullet-Within-Bullet--PACKT-"><code class="Code-In-Text--PACKT-">mat-core()</code> contains the necessary SCSS functions to be able to inject your custom <a id="_idIndexMarker499"/>colors into Material, such as <code class="Code-In-Text--PACKT-">mat-palette</code>, <code class="Code-In-Text--PACKT-">mat-light-theme</code>, and <code class="Code-In-Text--PACKT-">mat-dark-theme</code>.</p>
        <p class="Bullet-Without-Bullet-Within-Bullet--PACKT-">At a minimum, we must define a new primary and an accent color. Defining new colors, however, is not a straightforward process. Material requires a palette to be defined through <code class="Code-In-Text--PACKT-">mat-palette</code>, which needs to be seeded by a complicated color object that can't just be overridden by a simple hex value such as <code class="Code-In-Text--PACKT-">#BFB900</code>.</p>
        <p class="Bullet-Without-Bullet-Within-Bullet--PACKT-">To pick <a id="_idIndexMarker500"/>your colors, you can use the Material Design Color Tool, located at <a href="https://material.io/resources/color"><span class="url">https://material.io/resources/color</span></a>. Here's a screenshot of the tool:</p>
        <figure class="mediaobject"><img alt="" src="../Images/B14094_05_24.png"/></figure>
        <p class="packt_figref">Figure 5.24: Material.io Color Tool</p>
      </li>
      <li class="list">Using <strong class="screen-text">Material Palette</strong>, select a <strong class="screen-text">Primary</strong> and a <strong class="screen-text">Secondary</strong> color: <ul>
          <li class="Bullet-Within-Bullet--PACKT-">My primary selection is red with a hue value of <code class="Code-In-Text--PACKT-">500</code>.</li>
          <li class="Bullet-Within-Bullet-End--PACKT-">My secondary <a id="_idIndexMarker501"/>selection is indigo with a hue value of <code class="Code-In-Text--PACKT-">A400</code>.</li>
        </ul>
      </li>
      <li class="list">Observe how your selections would apply to a Material Design app by going through the six prebuilt screens on the left of the page.</li>
      <li class="list">Evaluate the accessibility implications of your selections, as shown:<figure class="mediaobject"><img alt="" src="../Images/B14094_05_25.png"/></figure>
        <p class="packt_figref">Figure 5.25: Material.io Color Tool Accessibility tab</p>
        <div class="note">
          <p class="Information-Box--PACKT-">The tool is warning us that our selections result in illegible text, when white text is used over the primary color. You should either take care to avoid displaying white text over your primary color or change your selection.</p>
        </div>
        <p class="Bullet-Without-Bullet-Within-Bullet--PACKT-">If you want <a id="_idIndexMarker502"/>to create your own palette, then the interface for <code class="Code-In-Text--PACKT-">mat-palette</code> looks like this:</p>
        <pre class="programlisting"><code class="hljs stata"><span class="hljs-keyword">mat</span>-<span class="hljs-keyword">palette</span>(<span class="hljs-variable">$base</span>-<span class="hljs-keyword">palette</span>, <span class="hljs-variable">$default</span>: 500, <span class="hljs-variable">$lighter</span>: 100, <span class="hljs-variable">$darker</span>: 700)
</code></pre>
      </li>
      <li class="list">Define the primary and secondary <code class="Code-In-Text--PACKT-">mat-palette</code> objects using the default hue from the tool:
        <pre class="programlisting"><code class="hljs stata"><strong>src/localcast-theme.scss</strong>
<span class="hljs-variable">$local</span>-weather-<span class="hljs-keyword">app</span>-primary: <span class="hljs-keyword">mat</span>-<span class="hljs-keyword">palette</span>(<span class="hljs-variable">$mat</span>-red, 500);
<span class="hljs-variable">$local</span>-weather-<span class="hljs-keyword">app</span>-accent: <span class="hljs-keyword">mat</span>-<span class="hljs-keyword">palette</span>(<span class="hljs-variable">$mat</span>-indigo, A400);
</code></pre>
      </li>
    </ol>
    <div class="packt_tip">
      <p>Even though your theme is in SCSS, you may continue using CSS in the rest of your application. The Angular CLI supports compiling both SCSS and CSS. If you would like to change the default behavior, you may switch to SCSS altogether by changing the <code class="Code-In-Text--PACKT-">defaults.styleExt</code> property in the <code class="Code-In-Text--PACKT-">angular.json</code> file from CSS to SCSS.</p>
    </div>
    <p class="normal">You may <a id="_idIndexMarker503"/>also choose to eliminate <code class="Code-In-Text--PACKT-">styles.css</code> and merge its contents with <code class="Code-In-Text--PACKT-">localcast-theme.scss</code> or convert <code class="Code-In-Text--PACKT-">styles.css</code> to a SASS file by simply renaming it to <code class="Code-In-Text--PACKT-">styles.scss</code>. If you do this, don't forget to update <code class="Code-In-Text--PACKT-">angular.json</code>.</p>
    <p class="normal">Congratulations! Your application should now bear your trademark color scheme:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_26.png"/></figure>
    <p class="packt_figref">Figure 5.26: LocalCast Weather with custom theme</p>
    <p class="normal">Push your code to GitHub and check out your CircleCI pipeline.</p>
    <h2 class="title" id="_idParaDest-180">Unit testing with Material</h2>
    <p class="normal">Once you commit your code, you will notice that your pipeline is now failing due to failed tests. In order <a id="_idIndexMarker504"/>to keep your unit tests running, you will need to import <code class="Code-In-Text--PACKT-">MaterialModule</code> to any component's <code class="Code-In-Text--PACKT-">spec</code> file that uses Angular Material:</p>
    <pre class="programlisting"><code class="hljs coffeescript"><strong>*.component.spec.ts</strong>
...
  beforeEach(async(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    TestBed.configureTestingModule({
      ...
      imports: [..., MaterialModule],
    }).compileComponents()
  })
)
</code></pre>
    <p class="normal">You will also <a id="_idIndexMarker505"/>need to update any test, including e2e tests, that search for a particular HTML element.</p>
    <p class="normal">For example, since the app's title, LocalCast Weather, is not in an <code class="Code-In-Text--PACKT-">h1</code> tag anymore, you must update the <code class="Code-In-Text--PACKT-">spec</code> file to look for it in a <code class="Code-In-Text--PACKT-">span</code> element:</p>
    <pre class="programlisting"><code class="hljs stylus"><strong>src/app/app<span class="hljs-selector-class">.component</span><span class="hljs-selector-class">.spec</span><span class="hljs-selector-class">.ts</span></strong>
<span class="hljs-function"><span class="hljs-title">expect</span><span class="hljs-params">(compiled.querySelector(<span class="hljs-string">'</span></span></span><strong><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">span</span></span></span></strong><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'</span>)</span></span>.textContent).toContain(<span class="hljs-string">'LocalCast Weather'</span>)
</code></pre>
    <p class="normal">Another example is in the <code class="Code-In-Text--PACKT-">CurrentWeather</code> component, where the surrounding element for <code class="Code-In-Text--PACKT-">city</code> is no longer <code class="Code-In-Text--PACKT-">span</code>, so you can use the <code class="Code-In-Text--PACKT-">mat-title</code> CSS class instead:</p>
    <pre class="programlisting"><code class="hljs stylus"><strong>src/app/current-weather/current-weather<span class="hljs-selector-class">.component</span><span class="hljs-selector-class">.spec</span><span class="hljs-selector-class">.ts</span></strong>
import { By } from <span class="hljs-string">'@angular/platform-browser'</span>
<span class="hljs-comment">// Assert on DOM</span>
const debugEl = fixture<span class="hljs-selector-class">.debugElement</span>
const titleEl: HTMLElement =
  debugEl.query(By.css(<span class="hljs-string">'</span><strong><span class="hljs-string">.mat-title</span></strong><span class="hljs-string">'</span>))<span class="hljs-selector-class">.nativeElement</span>
<span class="hljs-function"><span class="hljs-title">expect</span><span class="hljs-params">(titleEl.textContent)</span></span>.toContain(<span class="hljs-string">'Bethesda'</span>)
</code></pre>
    <p class="normal">Similarly, in e2e tests, you will need to update your page object function to retrieve the text from the correct location:</p>
    <pre class="programlisting"><code class="hljs cs"><strong>src/e2e/app.po.<span class="hljs-function">ts</span></strong><span class="hljs-function">
<span class="hljs-title">getParagraphText</span>(<span class="hljs-params"/>)</span> {
  <span class="hljs-keyword">return</span> element(<span class="hljs-keyword">by</span>.css(<span class="hljs-string">'app-root mat-toolbar span'</span>))
    .getText() <span class="hljs-keyword">as</span> Promise&lt;<span class="hljs-keyword">string</span>&gt;
}
</code></pre>
    <p class="normal">Once your tests are passing, push your code to GitHub again. When your CircleCI pipeline succeeds, ship your app using Vercel Now. Remember, if you don't ship it, it never happened!</p>
    <p class="normal">We can now move the UX task to the <strong class="screen-text">Done</strong> column:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_27.png"/></figure>
    <p class="packt_figref">Figure 5.27: GitHub project Kanban board status</p>
    <p class="normal">In <em class="italics">Chapter 7</em>, <em class="italics">Creating a Router-First Line-of-Business App</em>, you will learn about more sophisticated tools <a id="_idIndexMarker506"/>to be able to further customize the look and feel of your Material theme to create a truly unique experience that fits the brand you're representing.</p>
    <h1 class="title" id="_idParaDest-181">Accessibility</h1>
    <p class="normal">It is important <a id="_idIndexMarker507"/>to be aware of potential accessibility issues with your app. You may familiarize yourself with accessibility concerns by visiting the A11Y project <a id="_idIndexMarker508"/>website at <a href="https://a11yproject.com"><span class="url">https://a11yproject.com</span></a>. Material itself provides additional tooling to help you improve accessibility; you can read about it at <a href="https://material.angular.io/cdk/a11y/overview"><span class="url">https://material.angular.io/cdk/a11y/overview</span></a>.</p>
    <p class="normal">Leveraging such Material features may feel unnecessary; however, you must consider responsiveness, styling, spacing, and accessibility concerns when designing your app. The Material team has put in a lot of effort so that your code works correctly under most circumstances and can serve the largest possible user base with a high-quality UX. This can include visually impaired or keyboard-primary users, who must rely on specialized software or keyboard features such as tabs to navigate your app. Leveraging Material elements provides crucial metadata for these users to be able to navigate your app.</p>
    <p class="normal">Material claims support for the following screen-reader software:</p>
    <ul>
      <li class="list">NVDA and JAWS with Internet Explorer/Firefox/Chrome on Windows </li>
      <li class="list">VoiceOver with Safari on iOS and Safari/Chrome on macOS X</li>
      <li class="list">TalkBack with Chrome on Android</li>
    </ul>
    <p class="normal">Beyond Material, you may be required or have a desire to support specific accessibility standards, like the US-based Section 508 or the W3C-defined <strong class="bold">Web Content Accessibility Guidelines</strong> (<strong class="bold">WCAG</strong>). Claiming official support for such standards requires expensive certifications <a id="_idIndexMarker509"/>and qualified testers to ensure compliance.</p>
    <p class="normal">Consider pa11y, which is a command-line tool that automates accessibility testing. Since it is a CLI tool, you can <a id="_idIndexMarker510"/>easily integrate it with your CI pipeline. Being able to catch accessibility issues automatically and early in the development cycle dramatically decreases the cost of implementing accessibility features in your application.</p>
    <div class="packt_tip">
      <p><strong class="bold">A11y</strong> is short for <strong class="bold">accessibility</strong>, as there are 11 characters between <em class="italics">a</em> and <em class="italics">y</em> in the word accessibility. You may read more about why accessibility support matters at <a href="https://a11yproject.com/"><span class="url">https://a11yproject.com/</span></a>.</p>
    </div>
    <p class="normal">You may <a id="_idIndexMarker511"/>learn more about pa11y at <a href="https://pa11y.org/"><span class="url">https://pa11y.org/</span></a>. Next, let's configure the pa11y CLI tool in our project.</p>
    <h2 class="title" id="_idParaDest-182">Configuring automated pa11y testing</h2>
    <p class="normal">pa11y is an automated accessibility tool that you can execute from the command line to check your <a id="_idIndexMarker512"/>web app against various accessibility rulesets like Section 508 or WCAG 2 AAA. You may configure pa11y to run on your project locally or your CI server. In both cases, you must be running the tests against a deployed version of your application.</p>
    <p class="normal">Let's start with configuring pa11y for a local run:</p>
    <ol>
      <li class="list" value="1">Install the pa11y and pa11y-ci packages with the following command:
        <pre class="programlisting"><code class="hljs axapta">npm i -D pa11y pa11y-ci http-<span class="hljs-keyword">server</span>
</code></pre>
      </li>
      <li class="list">Add <code class="Code-In-Text--PACKT-">npm</code> scripts to execute pa11y for local runs, checking for Section 508 compliance issues:
        <pre class="programlisting"><code class="hljs jboss-cli"><strong>package.json</strong>
<span class="hljs-string">...</span>
<span class="hljs-string">"scripts"</span>: {
  <span class="hljs-string">...</span>
  <span class="hljs-string">"test:a11y"</span>: <span class="hljs-string">"pa11y --standard Section508 http://localhost:5000"</span>
}
</code></pre>
      </li>
      <li class="list">Ensure that the app is running by executing <code class="Code-In-Text--PACKT-">npm start</code>.</li>
      <li class="list">In a new Terminal window, execute <code class="Code-In-Text--PACKT-">npm run test:a11y</code>. The output should be as follows:
        <pre class="programlisting"><code class="hljs livecodeserver">Welcome <span class="hljs-built_in">to</span> Pa11y
 &gt; Running Pa11y <span class="hljs-keyword">on</span> <span class="hljs-title">URL</span> <span class="hljs-title">http</span>://<span class="hljs-title">localhost</span>:<span class="hljs-title">5000</span>
Results <span class="hljs-keyword">for</span> <span class="hljs-built_in">URL</span>: <span class="hljs-keyword">http</span>://localhost:<span class="hljs-number">5000</span>/
 • Error: Img <span class="hljs-keyword">element</span> missing <span class="hljs-keyword">an</span> alt attribute. Use <span class="hljs-keyword">the</span> alt attribute <span class="hljs-built_in">to</span> specify <span class="hljs-keyword">a</span> <span class="hljs-keyword">short</span> <span class="hljs-keyword">text</span> alternative.
   ├── Section508.A.Img.MissingAlt
   ├── html &gt; body &gt; app-root &gt; <span class="hljs-keyword">div</span>:nth-child(<span class="hljs-number">4</span>) &gt; mat-card &gt; mat-card-content &gt; app-current-weather &gt; <span class="hljs-keyword">div</span> &gt; <span class="hljs-keyword">div</span>:nth-child(<span class="hljs-number">2</span>) &gt; <span class="hljs-keyword">div</span>:nth-child(<span class="hljs-number">1</span>) &gt; img
   └── &lt;img <span class="hljs-title">_ngcontent-pbr-c132</span>=<span class="hljs-string">""</span> style=<span class="hljs-string">"margin-bottom:32px; zoom:175%"</span> src=<span class="hljs-string">""</span>&gt;        
<span class="hljs-number">1</span> Errors
</code></pre>
        <p class="Bullet-Without-Bullet-Within-Bullet--PACKT-">Note that <a id="_idIndexMarker513"/>we have one error. The error message indicates that under <code class="Code-In-Text--PACKT-">app-current-weather</code>, the image we display inside <code class="Code-In-Text--PACKT-">mat-card-content</code> is missing an <code class="Code-In-Text--PACKT-">alt</code> attribute. Observe the following line of code that caused the error:</p>
        <pre class="programlisting"><code class="hljs stylus"><strong>src/app/current-weather/current-weather<span class="hljs-selector-class">.component</span><span class="hljs-selector-class">.html</span></strong>
...
&lt;<span class="hljs-selector-tag">img</span> style=<span class="hljs-string">"zoom: 175%"</span> [src]=<span class="hljs-string">"current.image"</span> /&gt;
</code></pre>
        <p class="Bullet-Without-Bullet-Within-Bullet--PACKT-">The preceding code refers to the image that we grab from the OpenWeatherMap API. A visually impaired user, relying on a screen reader, would not be able to determine what the image is for without an <code class="Code-In-Text--PACKT-">alt</code> attribute present. Since this is a dynamic image, a static <code class="Code-In-Text--PACKT-">alt</code> attribute like the <strong class="bold">Current weather icon</strong> would be a disservice to our user. However, it would be appropriate to bind the current weather description value as the attribute. We can fix the accessibility issue as shown:</p>
        <pre class="programlisting"><code class="hljs prolog"><strong>src/app/current-weather/current-weather.component.html</strong>
...
&lt;img style=<span class="hljs-string">"zoom: 175%"</span> [src]=<span class="hljs-string">"current.image"</span> 
 [alt]=<span class="hljs-string">"current.description"</span> /&gt;
</code></pre>
      </li>
      <li class="list" value="5">Re-run pa11y to confirm that the issue has been fixed.</li>
    </ol>
    <p class="normal">Now users relying on screen readers quickly figure out that the image on the page reflects the current weather. In this case, we already have the description on our page. This is a very important issue to fix because it is crucial to avoid having mystery elements on our page that an entire class of users is unable to decipher.</p>
    <p class="normal">Now let's <a id="_idIndexMarker514"/>configure pa11y for our CI pipeline.</p>
    <ol>
      <li class="list" value="1">Create a <code class="Code-In-Text--PACKT-">.pa11yci</code> configuration file in the root of your project:
        <pre class="programlisting"><code class="hljs yaml"><strong><span class="hljs-string">.pa11yci</span></strong>
<span class="hljs-string">{</span>
  <span class="hljs-attr">"default":</span> <span class="hljs-string">{</span>
    <span class="hljs-attr">"timeout":</span> <span class="hljs-number">1000</span><span class="hljs-string">,</span>
    <span class="hljs-attr">"page":</span> <span class="hljs-string">{</span>
      <span class="hljs-attr">"viewport":</span> <span class="hljs-string">{</span>
        <span class="hljs-attr">"width":</span> <span class="hljs-number">320</span><span class="hljs-string">,</span>
        <span class="hljs-attr">"height":</span> <span class="hljs-number">480</span>
      <span class="hljs-string">}</span>
    <span class="hljs-string">}</span>
  <span class="hljs-string">},</span>
  <span class="hljs-attr">"urls":</span> <span class="hljs-string">[</span>
    <span class="hljs-string">"https://localcast-weather.duluca.now.sh/"</span>
  <span class="hljs-string">]</span>
<span class="hljs-string">}</span>
</code></pre>
      </li>
      <li class="list" value="2">Add <code class="Code-In-Text--PACKT-">npm</code> scripts to execute pa11y for local runs, checking for Section 508 compliance issues:
        <pre class="programlisting"><code class="hljs jboss-cli"><strong>package.json</strong>
<span class="hljs-string">...</span>
<span class="hljs-string">"scripts"</span>: {
  <span class="hljs-string">...</span>
  <span class="hljs-string">"test:a11y:ci"</span>: <span class="hljs-string">"pa11y-ci"</span>
}
</code></pre>
      </li>
    </ol>
    <p class="normal">Now we can add the command <code class="Code-In-Text--PACKT-">npm run test:a11y:ci</code> to <code class="Code-In-Text--PACKT-">.circleci/config.yml</code>. However, as you may notice, we would be running the test against the already deployed version of our app. To overcome this challenge, you must create an alternative <code class="Code-In-Text--PACKT-">now:publish</code> command that will deploy our branch to a different URL, update <code class="Code-In-Text--PACKT-">.pa11yci</code> to check against the new URL, and perform a deployment in your pipeline. Since all actions involved here are CLI commands, you may execute them sequentially. I leave this as an exercise for the user to complete.</p>
    <p class="normal">More advanced uses for CircleCI are covered in <em class="italics">Chapter 9</em>, <em class="italics">DevOps Using Docker</em>. Next, we are <a id="_idIndexMarker515"/>going to go over how you can build an interactive prototype to discover UI/UX issues early in development to reduce your development costs.</p>
    <h1 class="title" id="_idParaDest-183">Building an interactive prototype</h1>
    <p class="normal">Appearances do matter. Whether you're working in a development team or as a freelancer, your colleagues, bosses, or clients will always take a well-put-together presentation more seriously. In <em class="italics">Chapter 3</em>, <em class="italics">Creating a Basic Angular App</em>, I mentioned the time <a id="_idIndexMarker516"/>and information management challenges of being a full-stack developer. We must pick a tool that can achieve the best results with the least amount of work. This usually means going down the paid-tool route, but UI/UX design tools are rarely free or cheap.</p>
    <p class="normal">A prototyping tool will help you create a better, more professional-looking, mock-up of the app. Whatever tool you choose should also support the UI framework you choose to use, in this case, Material.</p>
    <p class="normal">If a picture is worth a thousand words, an interactive prototype of your app is worth a thousand lines of code. An interactive mock-up of the app will help you vet ideas before you write a single line of code and save you a lot of code writing.</p>
    <h2 class="title" id="_idParaDest-184">MockFlow WireframePro</h2>
    <p class="normal">I've picked MockFlow WireframePro, available at <a href="https://mockflow.com"><span class="url">https://mockflow.com</span></a>, as an easy-to-use, capable, online <a id="_idIndexMarker517"/>tool that supports Material <a id="_idIndexMarker518"/>Design UI elements and allows you to create multiple pages, which can then be linked together to create the illusion of a working application.</p>
    <p class="normal">Most importantly, at the time of publishing, MockFlow allows one free project forever with the full feature set and capabilities available. This will give you a chance to truly vet the usefulness <a id="_idIndexMarker519"/>of the tool without artificial limits or a trial period that always seems to go by much quicker than you expect.</p>
    <div class="packt_tip">
      <p>Balsamiq (available at <a href="https://balsamiq.com"><span class="url">https://balsamiq.com</span></a>) is a better-known wireframing tool; however, it doesn't offer any free usage. If you are looking for a tool without a monthly cost, I would highly recommend Balsamiq's desktop application Mockups, which has a one-time purchase cost.</p>
    </div>
    <h2 class="title" id="_idParaDest-185">Building a mock-up</h2>
    <p class="normal">We start by adding a new task to create an interactive prototype and at the end of the task, I'll attach all artifacts to this task so that they're stored on GitHub and are accessible to <a id="_idIndexMarker520"/>all team members and can also be linked from the wiki page for persistent documentation.</p>
    <p class="normal">Let's pull this new task to the <strong class="screen-text">In Progress</strong> column and take a look at the status of our Kanban board from Waffle.io:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_28.png"/></figure>
    <p class="packt_figref">Figure 5.28: Current Kanban board status</p>
    <p class="normal">WireframePro is pretty intuitive as a drag and drop design interface, so I won't go into the details of how the tool works, but I will highlight some tips:</p>
    <ol>
      <li class="list" value="1">Create your project</li>
      <li class="list">Select a component pack, either <strong class="screen-text">Hand Drawn UI</strong> or <strong class="screen-text">Material Design</strong></li>
      <li class="list">Add each screen as a new page, as shown in the following screenshot:</li>
    </ol>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_29.png"/></figure>
    <p class="packt_figref">Figure 5.29: MockFlow.com WireFrame Pro</p>
    <p class="normal">I would recommend sticking to the hand-drawn UI look and feel, because it sets the right expectations <a id="_idIndexMarker521"/>for your audience. If you present a very high-quality mock-up on your first meeting with a client, your first demo will be an understatement. You will, at best, merely meet expectations and, at worst, underwhelm your audience.</p>
    <h3 class="title" id="_idParaDest-186">Home screen</h3>
    <p class="normal">Here's the <a id="_idIndexMarker522"/>new mock-up of the home screen that we just created:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_30.png"/></figure>
    <p class="packt_figref">Figure 5.30: LocalCast Weather home screen wireframe</p>
    <p class="normal">You'll note some differences, such as the app toolbar being conflated with the browser bar and <a id="_idIndexMarker523"/>the intentional vagueness of the repeating elements. I have made these choices to reduce the amount of design time I would need to spend on each screen. I simply used horizontal and vertical line objects to create the grid.</p>
    <h3 class="title" id="_idParaDest-187">Search results</h3>
    <p class="normal">The search screen similarly remains intentionally vague to avoid having to maintain any kind of <a id="_idIndexMarker524"/>detailed information. Surprisingly, your audience is far more likely to focus on what your test data is rather than focusing on the design elements.</p>
    <p class="normal">By being vague, we intentionally keep the audience's attention on what matters. Here's the search screen mock-up:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_31.png"/></figure>
    <p class="packt_figref">Figure 5.31: LocalCast Weather search screen wireframe</p>
    <h3 class="title" id="_idParaDest-188">Settings pane</h3>
    <p class="normal">The <strong class="screen-text">Settings</strong> pane is a separate <a id="_idIndexMarker525"/>screen with the elements from the home screen copied over and with 85% opacity applied to create a model-like experience. The <strong class="screen-text">Settings</strong> pane itself is just a rectangle with a black border and a solid white background.</p>
    <p class="normal">Take a look at the following mock-up:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_32.png"/></figure>
    <p class="packt_figref">Figure 5.32: LocalCast Weather settings wireframe</p>
    <h2 class="title" id="_idParaDest-189">Adding interactivity</h2>
    <p class="normal">Being able <a id="_idIndexMarker526"/>to click around a mock-up and get a feel for the navigational workflow is an indispensable tool to get early user feedback. This will save you and your clients a lot of frustration, time, and money.</p>
    <p class="normal">To link elements together, do as follows:</p>
    <ol>
      <li class="list" value="1">Select a clickable element such as the <em class="italics">gear</em> icon on the home screen</li>
      <li class="list">Under the <strong class="screen-text">Link</strong> subheading, click on <strong class="screen-text">Select Page</strong></li>
      <li class="list">On the pop-over window, select <strong class="screen-text">Settings</strong></li>
      <li class="list">Click on <strong class="bold">Create Link</strong>, as shown in this screenshot:</li>
    </ol>
    <figure class="mediaobject"><img alt="" src="../Images/B14094_05_33.png"/></figure>
    <p class="packt_figref">Figure 5.33: Adding a link in Wireframe Pro</p>
    <p class="normal">Now, when you click on the <em class="italics">gear</em> icon, the tool will display the <strong class="screen-text">Settings</strong> page, which will create the <a id="_idIndexMarker527"/>effect of the sidebar actually being displayed on the same page. To go back to the home screen, you can link the <em class="italics">gear</em> icon and the section outside of the sidebar back to that page so that the user can navigate back and forth.</p>
    <h3 class="title" id="_idParaDest-190">Exporting the functional prototype</h3>
    <p class="normal">Once your <a id="_idIndexMarker528"/>prototype is completed, you can export it as various formats:</p>
    <ol>
      <li class="list" value="1">Under the <strong class="screen-text">Project</strong> menu, select the <strong class="screen-text">Export Wireframe</strong> button, as shown:<figure class="mediaobject"><img alt="" src="../Images/B14094_05_34.png"/></figure>
        <p class="packt_figref">Figure 5.34: Wireframe Pro's Export Wireframe menu option</p>
      </li>
      <li class="list">Now <a id="_idIndexMarker529"/>select your file format, as follows:<figure class="mediaobject"><img alt="" src="../Images/B14094_05_35.png"/></figure>
        <p class="packt_figref">Figure 5.35: File formats in Wireframe Pro</p>
        <p class="Bullet-Without-Bullet-Within-Bullet--PACKT-">I prefer <a id="_idIndexMarker530"/>the HTML format for flexibility; however, your workflow and needs will differ.</p>
      </li>
      <li class="list">If you selected HTML, you will get to download a ZIP bundle of all the assets.</li>
      <li class="list">Unzip the bundle and navigate to it using your browser; you should get an interactive version of your wireframe, as illustrated:
      <figure class="mediaobject"><img alt="" src="../Images/B14094_05_36.png"/></figure>
      <p class="packt_figref">Figure 5.36: Interactive wireframe in Wireframe Pro</p></li>
    </ol>
    <div class="note">
      <p class="Information-Box--PACKT-">The interactive elements are highlighted in yellow (light gray in print) and pointed out by the fat arrows in the preceding screenshot. You can enable or disable this behavior with the <strong class="screen-text">Reveal Links</strong> option in the bottom-left corner of the screen.</p>
    </div>
    <p class="normal">Now add <a id="_idIndexMarker531"/>all assets to comment on the GitHub issue, including the ZIP bundle, and we are done. </p>
    <p class="normal">You can also publish your prototype's HTML project using Vercel Now, as discussed in <em class="italics">Chapter 4</em>, <em class="italics">Automated Testing, CI, and Release to Production</em>.</p>
    <h1 class="title" id="_idParaDest-191">Summary</h1>
    <p class="normal">In this chapter, you learned what Angular Material is, how to use the Angular Flex Layout engine, the impact of UI libraries on performance, and how to apply specific Angular Material components to your application. You became aware of pitfalls of over-optimized UI design with individual CSS tweaks and how to add a custom theme to your application. </p>
    <p class="normal">We also went over how you can improve the accessibility of your application and build an interactive prototype to vet your designs before implementing them.</p>
    <p class="normal">In the next chapter, we will update the weather app to respond to user input with reactive forms and keep our components decoupled, while also enabling data exchange between them using <code class="Code-In-Text--PACKT-">BehaviorSubject</code>. After the next chapter, we will be done with the weather app and shift our focus to building larger line-of-business applications.</p>
    <div class="packt_tip">
      <p>See <em class="italics">Appendix C</em>, <em class="italics">Keeping Angular and Tools Evergreen</em>, for information on how you can upgrade Angular Material. You can find this appendix online from <a href="https://static.packt-cdn.com/downloads/9781838648800_Appendix_C_Keeping_Angular_and_Tools_Evergreen."><span class="url">https://static.packt-cdn.com/downloads/9781838648800_Appendix_C_Keeping_Angular_and_Tools_Evergreen.pdf</span></a> or at <a href="https://expertlysimple.io/stay-evergreen"><span class="url">https://expertlysimple.io/stay-evergreen</span></a>.</p>
    </div>
    <h1 class="title" id="_idParaDest-192">Further reading</h1>
    <ul>
      <li class="list"><em class="italics">Insanely Simple: The Obsession That Drives Apple's Success, Ken Segall</em>, 2013</li>
      <li class="list"><em class="italics">Material Design, Google</em>, 2020, at <a href="https://material.io"><span class="url">https://material.io</span></a></li>
      <li class="list"><em class="italics">Pa11y, Team Pa11y</em>, 2020, at <a href="https://pa11y.org"><span class="url">https://pa11y.org</span></a></li>
    </ul>
    <h1 class="title" id="_idParaDest-193">Exercises</h1>
    <p class="normal">Implement pa11y in your CI pipeline by implementing an alternative Now deployment so that you can test against the changes in your branch.</p>
    <h1 class="title" id="_idParaDest-194">Questions</h1>
    <p class="normal">Answer the following questions as best as you can to ensure that you've understood the key concepts from this chapter without Googling. Do you need help answering the questions? See <em class="italics">Appendix D</em>, <em class="italics">Self-Assessment Answers</em> online at <a href="https://static.packt-cdn.com/downloads/9781838648800_Appendix_D_Self-Assessment_Answers.pdf"><span class="url">https://static.packt-cdn.com/downloads/9781838648800_Appendix_D_Self-Assessment_Answers.pdf</span></a> or visit <a href="https://expertlysimple.io/angular-self-assessment"><span class="url">https://expertlysimple.io/angular-self-assessment</span></a>.</p>
    <ol>
      <li class="list">What are the benefits of using Angular Material?</li>
      <li class="list">Which underlying CSS technology does Angular Flex Layout rely on?</li>
      <li class="list">Why is it important to test for accessibility?</li>
      <li class="list">Why should you build an interactive prototype?</li>
    </ol>
  </div>
</body></html>