<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Expansion Panels - Group Content into Panel Sections</h1>
                </header>
            
            <article>
                
<p>In this chapter, you'll learn about the following:</p>
<ul>
<li>Stateful expansion panels</li>
<li>Formatting panel headers</li>
<li>Scrollable panel content</li>
<li>Lazy loading panel content</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Introduction</h1>
                </header>
            
            <article>
                
<p>Expansion <span>panels are containers for your content. Usually, screens in your Material-UI applications are divided into sections so that users can mentally organize the information that they're looking at. The</span> <kbd>ExpansionPanel</kbd> <span>component is one way that you can create these sections. You can even combine expansion panels with other organizational components, such as tabs, to provide a</span> consistent <span>organizational layout for your users.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Stateful expansion panels</h1>
                </header>
            
            <article>
                
<p>You can use component the state to control every aspect of your expansion panels. For example, each panel could be represented as an object in an array, where each object has panel title and panel content properties. There are other aspects you can control, such as visibility and disabled panels.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<p>Let's say that your component has a state for rendering expansion panels. The panels themselves are objects in an array. Here's the code to do this:</p>
<pre>import React, { useState, Fragment } from 'react';<br/><br/>import ExpansionPanel from '@material-ui/core/ExpansionPanel';<br/>import ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';<br/>import ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';<br/>import Typography from '@material-ui/core/Typography';<br/>import ExpandMoreIcon from '@material-ui/icons/ExpandMore';<br/><br/>export default function StatefulExpansionPanels() {<br/>  const [panels] = useState([<br/>    {<br/>      title: 'First Panel Title',<br/>      content: 'First panel content...'<br/>    },<br/>    {<br/>      title: 'Second Panel Title',<br/>      content: 'Second panel content...'<br/>    },<br/>    {<br/>      title: 'Third Panel Title',<br/>      content: 'Third panel content...'<br/>    },<br/>    {<br/>      title: 'Fourth Panel Title',<br/>      content: 'Fourth panel content...'<br/>    }<br/>  ]);<br/><br/>  return (<br/>    &lt;Fragment&gt;<br/>      {panels<br/>        .filter(panel =&gt; !panel.hidden)<br/>        .map((panel, index) =&gt; (<br/>          &lt;ExpansionPanel<br/>            key={index}<br/>            disabled={panel.disabled}<br/>          &gt;<br/>            &lt;ExpansionPanelSummary expandIcon={&lt;ExpandMoreIcon /&gt;}&gt;<br/>              &lt;Typography&gt;{panel.title}&lt;/Typography&gt;<br/>            &lt;/ExpansionPanelSummary&gt;<br/>            &lt;ExpansionPanelDetails&gt;<br/>              &lt;Typography&gt;{panel.content}&lt;/Typography&gt;<br/>            &lt;/ExpansionPanelDetails&gt;<br/>          &lt;/ExpansionPanel&gt;<br/>        ))}<br/>    &lt;/Fragment&gt;<br/>  );<br/>}</pre>
<p>When you load the screen, here's what you'll see:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/619e9f53-4ea0-41f9-9a12-4124bb23069d.png" style="width:36.08em;height:9.08em;"/></p>
<p>Here's what the first two panels look like when they're expanded:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/1db1e8bd-1595-434f-af97-4080b3364142.png" style="width:35.75em;height:18.00em;"/></p>
<p>The third panel cannot be expanded because it's disabled.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>The state defines everything about expansion panels. This includes the panel <kbd>title</kbd>, the panel <kbd>content</kbd> that's displayed when the panel is expanded, the <kbd>disabled</kbd> property, and whether or not the panel is <kbd>hidden</kbd>:</p>
<pre>const [panels] = useState([<br/>  {<br/>    title: 'First Panel Title',<br/>    content: 'First panel content...'<br/>  },<br/>  {<br/>    title: 'Second Panel Title',<br/>    content: 'Second panel content...'<br/>  },<br/>  {<br/>    title: 'Third Panel Title',<br/>    content: 'Third panel content...'<br/>  },<br/>  {<br/>    title: 'Fourth Panel Title',<br/>    content: 'Fourth panel content...'<br/>  }<br/>]);</pre>
<p>The <kbd>disabled</kbd> property marks the panel as disabled. This means that the user can see the panel <kbd>title</kbd>, but it cannot be expanded. It's also visually marked as not being expandable. The <kbd>hidden</kbd> property ensures that the panel isn't rendered at all. This is useful for cases when you don't want the user to know about it at all.</p>
<p>Next, let's look at the code that renders each panel based on the component state:</p>
<pre>{panels<br/>  .filter(panel =&gt; !panel.hidden)<br/>  .map((panel, index) =&gt; (<br/> <br/>      }&gt;<br/>       {panel.title}<br/> <br/> <br/>       {panel.content}<br/> <br/> <br/>   ))}</pre>
<p>The <kbd>filter()</kbd> call removes panels from the array that have the <kbd>hidden</kbd> property set to true.</p>
<p>An alternative to using a <kbd>hidden</kbd> property to hide panels is removing them completely from the array. It really depends on personal preference—toggling a property value versus adding and removing values from an array.</p>
<p>Each panel is mapped to <kbd>ExpansionPanel</kbd> components using <kbd>map()</kbd>. The expansion panel uses an <kbd>ExpansionPanelSummary</kbd> component for the title and the content goes into the <kbd>ExpansionPanelDetails</kbd> component.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>You can also use state to control whether or not a panel is expanded. For example, you can use <kbd>ExpansionPanel</kbd> components to create an <em>accordion</em> widget—there's always one panel open, and opening another panel closes anything that's open.</p>
<p>The first step is to add an <kbd>expanded</kbd> state to determine which panel is open at any given time:</p>
<pre>const [expanded, setExpanded] = useState(0);<br/>const [panels] = useState([<br/>  {<br/>    title: 'First Panel Title',<br/>    content: 'First panel content...'<br/>  },<br/>  {<br/>    title: 'Second Panel Title',<br/>    content: 'Second panel content...'<br/>  },<br/>  {<br/>    title: 'Third Panel Title',<br/>    content: 'Third panel content...'<br/>  },<br/>  {<br/>    title: 'Fourth Panel Title',<br/>    content: 'Fourth panel content...'<br/>  }<br/>]);</pre>
<p>The <kbd>expanded</kbd> state defaults to <kbd>0</kbd>, meaning that the first panel is expanded by default. As the expanded panels change, the <kbd>expanded</kbd> state changes to reflect the index of the expanded panel. Next, you'll add an <kbd>onChange</kbd> handler for the <kbd>ExpansionPanel</kbd> component:</p>
<pre>const onChange = expanded =&gt; () =&gt; {<br/>  setExpanded(expanded);<br/>};</pre>
<p>This is a higher-order function—it takes the index of the panel you want to expand and returns a function that sets the expanded state when the given panel is clicked on. Finally, you can add the new <kbd>expanded</kbd> state and the <kbd>onChange</kbd> handler to the <kbd>ExpansionPanel</kbd> component:</p>
<pre>&lt;ExpansionPanel<br/>  key={index}<br/>  expanded={index === expanded}<br/>  disabled={panel.disabled}<br/>  onChange={onChange(index)}<br/>&gt;<br/>  &lt;ExpansionPanelSummary expandIcon={&lt;ExpandMoreIcon /&gt;}&gt;<br/>    &lt;Typography&gt;{panel.title}&lt;/Typography&gt;<br/>  &lt;/ExpansionPanelSummary&gt;<br/>  &lt;ExpansionPanelDetails&gt;<br/>    &lt;Typography&gt;{panel.content}&lt;/Typography&gt;<br/>  &lt;/ExpansionPanelDetails&gt;<br/>&lt;/ExpansionPanel&gt;</pre>
<p>The <kbd>expanded</kbd> property is based on the index of the current panel, equaling the expanded state of your component. If they're equal, the panel is expanded. The <kbd>onChange</kbd> handler is also assigned to <kbd>ExpansionPanel</kbd>, which changes the expanded state when the panel is clicked on.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">See also</h1>
                </header>
            
            <article>
                
<ul>
<li><kbd>ExpansionPanel</kbd> demos: <a href="https://material-ui.com/demos/expansion-panels/">https://material-ui.com/demos/expansion-panels/</a></li>
<li><kbd>ExpansionPanel</kbd> API documentation: <a href="https://material-ui.com/api/expansion-panel/">https://material-ui.com/api/expansion-panel/</a></li>
<li><kbd>ExpansionPanelSummary</kbd> API documentation: <a href="https://material-ui.com/api/expansion-panel-summary/">https://material-ui.com/api/expansion-panel-summary/</a></li>
<li><kbd>ExpansionPanelDetails</kbd> API documentation: <a href="https://material-ui.com/api/expansion-panel-details/">https://material-ui.com/api/expansion-panel-details/</a></li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Formatting panel headers</h1>
                </header>
            
            <article>
                
<p>Headers in <kbd>ExpansionPanel</kbd> components can be formatted. Typically, the <kbd>Typography</kbd> component is used to render text within an expansion panel header. This means that you can use properties of <kbd>Typography</kbd> to customize the way that your expansion panel headers appear.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<p>Let's say that you want the text within your <kbd>ExpansionPanel</kbd> headers to stand out relative to the text in the content section of each panel. You can change the <kbd>variant</kbd> property of the <kbd>Typography</kbd> component in the <kbd>ExpansionPanelSummary</kbd> component. Here's the code to do it:</p>
<pre>import React, { Fragment } from 'react';<br/><br/>import ExpansionPanel from '@material-ui/core/ExpansionPanel';<br/>import ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';<br/>import ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';<br/>import Typography from '@material-ui/core/Typography';<br/><br/>import ExpandMoreIcon from '@material-ui/icons/ExpandMore';<br/><br/>const FormattingPanelHeaders = () =&gt; (<br/>  &lt;Fragment&gt;<br/>    &lt;ExpansionPanel&gt;<br/>      &lt;ExpansionPanelSummary expandIcon={&lt;ExpandMoreIcon /&gt;}&gt;<br/>        &lt;Typography variant="subtitle1"&gt;Devices&lt;/Typography&gt;<br/>      &lt;/ExpansionPanelSummary&gt;<br/>      &lt;ExpansionPanelDetails&gt;<br/>        &lt;Typography&gt;Devices content...&lt;/Typography&gt;<br/>      &lt;/ExpansionPanelDetails&gt;<br/>    &lt;/ExpansionPanel&gt;<br/>    &lt;ExpansionPanel&gt;<br/>      &lt;ExpansionPanelSummary expandIcon={&lt;ExpandMoreIcon /&gt;}&gt;<br/>        &lt;Typography variant="subtitle1"&gt;Networks&lt;/Typography&gt;<br/>      &lt;/ExpansionPanelSummary&gt;<br/>      &lt;ExpansionPanelDetails&gt;<br/>        &lt;Typography&gt;Networks content...&lt;/Typography&gt;<br/>      &lt;/ExpansionPanelDetails&gt;<br/>    &lt;/ExpansionPanel&gt;<br/>    &lt;ExpansionPanel&gt;<br/>      &lt;ExpansionPanelSummary expandIcon={&lt;ExpandMoreIcon /&gt;}&gt;<br/>        &lt;Typography variant="subtitle1"&gt;Storage&lt;/Typography&gt;<br/>      &lt;/ExpansionPanelSummary&gt;<br/>      &lt;ExpansionPanelDetails&gt;<br/>        &lt;Typography&gt;Storage content...&lt;/Typography&gt;<br/>      &lt;/ExpansionPanelDetails&gt;<br/>    &lt;/ExpansionPanel&gt;<br/>  &lt;/Fragment&gt;<br/>);<br/><br/>export default FormattingPanelHeaders;</pre>
<p>Here's what the panels look like when the screen loads:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-medium wp-image-1265 image-border" src="assets/7614234f-27ac-4805-8210-fee9bd82f5a2.png" style="width:16.50em;height:9.25em;"/></p>
<p>Here's what the panels look like when they're expanded:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/d6aa6746-8f14-4781-94de-356b7f0bfe99.png" style="width:36.25em;height:21.83em;"/></p>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>To make the heading text stand out relative to the text in the <kbd>ExpansionPanelDetails</kbd> component, you only had to change the <kbd>variant</kbd> property of the <kbd>Typography</kbd> component used in the header. In this case, you're using the <kbd>subtitle1</kbd> variant, but there are a number of other variants that you can use here.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>In addition to formatting header text, you can add other components, such as icons. Let's modify the example to include icons for each panel header. First, you'll import the icons that you need:</p>
<pre>import DevicesIcon from 'material-ui/icons/Devices';<br/>import NetworkWifiIcon from 'material-ui/icons/NetworkWifi';<br/>import StorageIcon from '@material-ui/icons/Storage';</pre>
<p class="mce-root"/>
<p>Then, you'll add a new icon style that adds space between the icon and text in the panel header:</p>
<pre>const styles = theme =&gt; ({<br/>  icon: {<br/>    marginRight: theme.spacing(1)<br/>  }<br/>});</pre>
<p>Lastly, here's the markup to include the icons that you've imported in the appropriate panel header:</p>
<pre>&lt;Fragment&gt;<br/>  &lt;ExpansionPanel&gt;<br/>    &lt;ExpansionPanelSummary expandIcon={&lt;ExpandMoreIcon /&gt;}&gt;<br/>      &lt;DevicesIcon className={classes.icon} /&gt;<br/>      &lt;Typography variant="subtitle1"&gt;Devices&lt;/Typography&gt;<br/>    &lt;/ExpansionPanelSummary&gt;<br/>    &lt;ExpansionPanelDetails&gt;<br/>      &lt;Typography&gt;Devices content...&lt;/Typography&gt;<br/>    &lt;/ExpansionPanelDetails&gt;<br/>  &lt;/ExpansionPanel&gt;<br/>  &lt;ExpansionPanel&gt;<br/>    &lt;ExpansionPanelSummary expandIcon={&lt;ExpandMoreIcon /&gt;}&gt;<br/>      &lt;NetworkWifiIcon className={classes.icon} /&gt;<br/>      &lt;Typography variant="subtitle1"&gt;Networks&lt;/Typography&gt;<br/>    &lt;/ExpansionPanelSummary&gt;<br/>    &lt;ExpansionPanelDetails&gt;<br/>      &lt;Typography&gt;Networks content...&lt;/Typography&gt;<br/>    &lt;/ExpansionPanelDetails&gt;<br/>  &lt;/ExpansionPanel&gt;<br/>  &lt;ExpansionPanel&gt;<br/>    &lt;ExpansionPanelSummary expandIcon={&lt;ExpandMoreIcon /&gt;}&gt;<br/>      &lt;StorageIcon className={classes.icon} /&gt;<br/>      &lt;Typography variant="subtitle1"&gt;Storage&lt;/Typography&gt;<br/>    &lt;/ExpansionPanelSummary&gt;<br/>    &lt;ExpansionPanelDetails&gt;<br/>      &lt;Typography&gt;Storage content...&lt;/Typography&gt;<br/>    &lt;/ExpansionPanelDetails&gt;<br/>  &lt;/ExpansionPanel&gt;<br/>&lt;/Fragment&gt;  </pre>
<p>The icon comes before the <kbd>Typography</kbd> component in the <kbd>ExpansionPanelSummary</kbd> component. Here's what the panels look like now:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-medium wp-image-1262 image-border" src="assets/ab4905c1-6cd5-4451-ac16-2255f5424ab6.png" style="width:17.33em;height:9.83em;"/></p>
<p>Here's what they look like when they're expanded:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-medium wp-image-1263 image-border" src="assets/651286e0-c162-4e64-8a73-5ebd5facb047.png" style="width:13.50em;height:20.67em;"/></p>
<p>By combining iconography and typography, you can make the headers of your expansion panels stand out, making your content easier to navigate.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">See also</h1>
                </header>
            
            <article>
                
<ul>
<li><kbd>ExpansionPanel</kbd><span> </span>demos:<span> </span><a href="https://material-ui.com/demos/expansion-panels/">https://material-ui.com/demos/expansion-panels/</a></li>
<li><kbd>ExpansionPanel</kbd><span> </span>API documentation: <a href="https://material-ui.com/api/expansion-panel/">https://material-ui.com/api/expansion-panel/</a></li>
<li><kbd>ExpansionPanelSummary</kbd><span> </span>API documentation: <a href="https://material-ui.com/api/expansion-panel-summary/">https://material-ui.com/api/expansion-panel-summary/</a></li>
<li><kbd>ExpansionPanelDetails</kbd><span> </span>API documentation: <a href="https://material-ui.com/api/expansion-panel-details/">https://material-ui.com/api/expansion-panel-details/</a></li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Scrollable panel content</h1>
                </header>
            
            <article>
                
<p>The height of an <kbd>ExpansionPanel</kbd> component, when expanded, changes so that all of the content is visible on the screen. In cases where you have a lot of content in your panels, this isn't ideal because the panel headers aren't visible to the user. Instead of having to scroll down the entire page, you can make the content within the panel scrollable.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<p>Let's say that you have three panels, each with several paragraphs of text. Rather than having each panel adjust its height to accommodate the content, you can make the panels a fixed height and scrollable. Here's the code:</p>
<pre>import React, { Fragment } from 'react';<br/><br/>import { withStyles } from '@material-ui/core/styles';<br/>import ExpansionPanel from '@material-ui/core/ExpansionPanel';<br/>import ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';<br/>import ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';<br/>import Typography from '@material-ui/core/Typography';<br/><br/>import ExpandMoreIcon from '@material-ui/icons/ExpandMore';<br/><br/>const styles = theme =&gt; ({<br/>  panelDetails: {<br/>    flexDirection: 'column',<br/>    height: 150,<br/>    overflow: 'auto'<br/>  }<br/>});<br/><br/>const IpsumContent = () =&gt; (<br/>  &lt;Fragment&gt;<br/>    &lt;Typography paragraph&gt;<br/>      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer<br/>      ultricies nibh ut ipsum placerat, eget egestas leo imperdiet.<br/>      Etiam consectetur mollis ultrices. Fusce eu eros a dui maximus<br/>      rutrum. Aenean at dolor eu nunc ultricies placerat. Sed finibus<br/>      porta sapien eget euismod. Donec eget tortor non turpis<br/>      hendrerit euismod. Phasellus at commodo augue. Maecenas<br/>      scelerisque augue at mattis pharetra. Aenean fermentum sed neque<br/>      id feugiat.<br/>    &lt;/Typography&gt;<br/><br/>    &lt;Typography paragraph&gt;<br/>      Aliquam erat volutpat. Donec sit amet venenatis leo. Nullam<br/>      tincidunt diam in nisi pretium, sit amet tincidunt nisi aliquet.<br/>      Proin quis justo consectetur, congue nisi nec, pharetra erat. Ut<br/>      volutpat pulvinar neque vitae vestibulum. Phasellus nisl risus,<br/>      dapibus at sapien in, aliquam tempus tellus. Integer accumsan<br/>      tortor id dolor lacinia, et pulvinar est porttitor. Mauris a est<br/>      vitae arcu iaculis dictum. Sed posuere suscipit ultricies.<br/>      Vivamus a lacus in dui vehicula tincidunt.<br/>    &lt;/Typography&gt;<br/><br/>    &lt;Typography paragraph&gt;<br/>      In ut velit laoreet, blandit nisi id, tempus mi. Mauris interdum<br/>      in turpis vel tempor. Vivamus tincidunt turpis vitae porta<br/>      dignissim. Quisque condimentum augue arcu, quis tincidunt erat<br/>      luctus sit amet. Sed quis ligula malesuada, sollicitudin nisl<br/>      nec, molestie tellus. Donec commodo consequat gravida. Mauris in<br/>      rhoncus tellus, eget posuere risus. Pellentesque eget lectus<br/>      lorem. Lorem ipsum dolor sit amet, consectetur adipiscing elit.<br/>      Integer condimentum, sapien varius vulputate lobortis, urna elit<br/>      vestibulum ligula, sit amet interdum lectus augue ac eros.<br/>      Vestibulum lorem ante, tincidunt eget faucibus id, placerat non<br/>      est. Vivamus pretium consectetur nunc at imperdiet. Nullam eu<br/>      elit dui. In imperdiet magna ac dui aliquam gravida. Aenean<br/>      ipsum ex, fermentum eu pretium quis, posuere et velit.<br/>    &lt;/Typography&gt;<br/>  &lt;/Fragment&gt;<br/>);<br/><br/>const ScrollablePanelContent = withStyles(styles)(({ classes }) =&gt; (<br/>  &lt;Fragment&gt;<br/>    &lt;ExpansionPanel&gt;<br/>      &lt;ExpansionPanelSummary expandIcon={&lt;ExpandMoreIcon /&gt;}&gt;<br/>        &lt;Typography&gt;First&lt;/Typography&gt;<br/>      &lt;/ExpansionPanelSummary&gt;<br/>      &lt;ExpansionPanelDetails className={classes.panelDetails}&gt;<br/>        &lt;IpsumContent /&gt;<br/>      &lt;/ExpansionPanelDetails&gt;<br/>    &lt;/ExpansionPanel&gt;<br/>    &lt;ExpansionPanel&gt;<br/>      &lt;ExpansionPanelSummary expandIcon={&lt;ExpandMoreIcon /&gt;}&gt;<br/>        &lt;Typography&gt;Second&lt;/Typography&gt;<br/>      &lt;/ExpansionPanelSummary&gt;<br/>      &lt;ExpansionPanelDetails className={classes.panelDetails}&gt;<br/>        &lt;IpsumContent /&gt;<br/>      &lt;/ExpansionPanelDetails&gt;<br/>    &lt;/ExpansionPanel&gt;<br/>    &lt;ExpansionPanel&gt;<br/>      &lt;ExpansionPanelSummary expandIcon={&lt;ExpandMoreIcon /&gt;}&gt;<br/>        &lt;Typography&gt;Third&lt;/Typography&gt;<br/>      &lt;/ExpansionPanelSummary&gt;<br/>      &lt;ExpansionPanelDetails className={classes.panelDetails}&gt;<br/>        &lt;IpsumContent /&gt;<br/>      &lt;/ExpansionPanelDetails&gt;<br/>    &lt;/ExpansionPanel&gt;<br/>  &lt;/Fragment&gt;<br/>));<br/><br/>export default ScrollablePanelContent;</pre>
<p>The paragraph content in the <kbd>Typography</kbd> components has been truncated for brevity—you can view the full text in the GitHub repository for this book.</p>
<p>Here's what it looks like when the first panel is expanded:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/01b21a70-7e83-4ace-9bb3-029d6f0377d4.png" style="width:34.67em;height:22.75em;"/></p>
<p>If you move your mouse pointer over the content of the expanded panel, you can now scroll the content to the bottom of the paragraph, within the panel. Here's what it looks like when the content has been scrolled to the bottom:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/976b6714-e69e-4fc6-87a9-93d3bffe55e7.png" style="width:34.50em;height:22.67em;"/></p>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>The <kbd>IpsumContent</kbd> component is just a convenience component that holds paragraphs of content so that you don't have to repeat it in every panel. Let's start by looking at the styles used in this example:</p>
<pre>const styles = theme =&gt; ({<br/>  panelDetails: {<br/>    flexDirection: 'column',<br/>    height: 150,<br/>    overflow: 'auto'<br/>  }<br/>});</pre>
<p>Panel content uses flex box styles to lay out its content. It flows according to row direction by default, so you have to set the <kbd>flexDirection</kbd> style to <kbd>column</kbd> if you want the content to flow in a top-down direction. Next, you can set a fixed height for your panel content—in this case, it's <kbd>150px</kbd>. Finally, the <kbd>overflow</kbd> style set to <kbd>auto</kbd> will enable vertical scrolling for the panel content.</p>
<p>You can then apply the <kbd>panelDetails</kbd> class to each of your <kbd>ExpansionPanelContent</kbd> components:</p>
<pre>&lt;ExpansionPanelDetails className={classes.panelDetails}&gt;<br/>  &lt;IpsumContent /&gt;<br/>&lt;/ExpansionPanelDetails&gt;  </pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">See also</h1>
                </header>
            
            <article>
                
<ul>
<li><kbd>ExpansionPanel</kbd><span> </span>demos:<span> </span><a href="https://material-ui.com/demos/expansion-panels/">https://material-ui.com/demos/expansion-panels/</a></li>
<li><kbd>ExpansionPanel</kbd><span> </span>API documentation: <a href="https://material-ui.com/api/expansion-panel/">https://material-ui.com/api/expansion-panel/</a></li>
<li><kbd>ExpansionPanelSummary</kbd><span> </span>API documentation: <a href="https://material-ui.com/api/expansion-panel-summary/">https://material-ui.com/api/expansion-panel-summary/</a></li>
<li><kbd>ExpansionPanelDetails</kbd><span> </span>API documentation: <a href="https://material-ui.com/api/expansion-panel-details/">https://material-ui.com/api/expansion-panel-details/</a></li>
</ul>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Lazy loading panel content</h1>
                </header>
            
            <article>
                
<p>If you're rendering expansion panels that are all collapsed by default, you don't have to populate the <kbd>ExpansionPanelDetails</kbd> component up front. Instead, you can wait for the user to expand the panel—then you can make whatever API calls you need in order to render the content.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<p>Let's say that you have an API function that fetches content based on an index value. For example, if the first panel is expanded, the <kbd>index</kbd> value will be <kbd>0</kbd>. You need to be able to call this function when the panel is expanded, supplying the corresponding <kbd>index</kbd> value. Here's what the code looks like:</p>
<pre>import React, { useState, Fragment } from 'react';<br/><br/>import ExpansionPanel from '@material-ui/core/ExpansionPanel';<br/>import ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';<br/>import ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';<br/>import Typography from '@material-ui/core/Typography';<br/>import ExpandMoreIcon from '@material-ui/icons/ExpandMore';<br/><br/>const fetchPanelContent = index =&gt;<br/>  new Promise(resolve =&gt;<br/>    setTimeout(<br/>      () =&gt;<br/>        resolve(<br/>          [<br/>            'First panel content...',<br/>            'Second panel content...',<br/>            'Third panel content...',<br/>            'Fourth panel content...'<br/>          ][index]<br/>        ),<br/>      1000<br/>    )<br/>  );<br/><br/>export default function LazyLoadingPanelContent() {<br/>  const [panels, setPanels] = useState([<br/>    { title: 'First Panel Title' },<br/>    { title: 'Second Panel Title' },<br/>    { title: 'Third Panel Title' },<br/>    { title: 'Fourth Panel Title' }<br/>  ]);<br/><br/>  const onChange = index =&gt; e =&gt; {<br/>    if (!panels[index].content) {<br/>      fetchPanelContent(index).then(content =&gt; {<br/>        const newPanels = [...panels];<br/>        newPanels[index] = { ...newPanels[index], content };<br/>        setPanels(newPanels);<br/>      });<br/>    }<br/>  };<br/><br/>  return (<br/>    &lt;Fragment&gt;<br/>      {panels.map((panel, index) =&gt; (<br/>        &lt;ExpansionPanel key={index} onChange={onChange(index)}&gt;<br/>          &lt;ExpansionPanelSummary expandIcon={&lt;ExpandMoreIcon /&gt;}&gt;<br/>            &lt;Typography&gt;{panel.title}&lt;/Typography&gt;<br/>          &lt;/ExpansionPanelSummary&gt;<br/>          &lt;ExpansionPanelDetails&gt;<br/>            &lt;Typography&gt;{panel.content}&lt;/Typography&gt;<br/>          &lt;/ExpansionPanelDetails&gt;<br/>        &lt;/ExpansionPanel&gt;<br/>      ))}<br/>    &lt;/Fragment&gt;<br/>  );<br/>}</pre>
<p>Here's what the four panels look like when the screen first loads:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/e4addc49-e236-4575-a1e9-a115afeeb1b2.png" style="width:36.92em;height:13.50em;"/></p>
<p>Try expanding the first panel. It expands right away but, for about one second, there's nothing there. Then the content appears:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/bb74f9d2-2343-4079-a179-753c052f5083.png" style="width:33.33em;height:17.08em;"/></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>Let's start with the <kbd>fetchPanelContent()</kbd> API function:</p>
<pre>const fetchPanelContent = index =&gt;<br/>  new Promise(resolve =&gt;<br/>    setTimeout(<br/>      () =&gt;<br/>        resolve(<br/>          [<br/>            'First panel content...',<br/>            'Second panel content...',<br/>            'Third panel content...',<br/>            'Fourth panel content...'<br/>          ][index]<br/>        ),<br/>      1000<br/>    )<br/>  );</pre>
<p>Since this is just a mock, it returns a promise directly. It uses <kbd>setTimeout()</kbd> to simulate latency, similar to what you would experience using a real API. The promise resolves with the string value that's looked up from an array, based on the <kbd>index</kbd> argument.</p>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mceNonEditable"/>
<p class="mceNonEditable"/>
<p>Next, let's look at the <kbd>onChange</kbd> handler function that's called when <kbd>ExpansionPanel</kbd> expands:</p>
<pre>const onChange = index =&gt; (e) =&gt; {<br/>  if (!panels[index].content) {<br/>    fetchPanelContent(index).then(content =&gt; {<br/>      const newPanels = [...panels];<br/>      newPanels[index] = { ...newPanels[index], content };<br/>      setPanels(newPanels);<br/>    });<br/>  }<br/>};</pre>
<p>First, this function checks if the panel that's expanded has any <kbd>content</kbd> in its state. If not, you know that you have to fetch it by calling <kbd>fetchPanelContent()</kbd>. When the returned promise resolves, you can call <kbd>setPanels()</kbd> to update the panels array and set the content at the appropriate index.</p>
<p>The rest of your component just renders the <kbd>ExpansionPanel</kbd> components based on the panels array, using the <kbd>content</kbd> state as the panel content. When content is updated, it is reflected in the rendered content.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>There are a couple of improvements that you could make with this example. First, you could show a progress indicator within the panel while the content is loading so that the user knows that something is happening. The second improvement can be made both when the panel expands and when it collapses—this should be avoided.</p>
<p>Let's start with the progress indicator. For this, you'll need a utility component and a style for the <kbd>ExpansionPanelDetails</kbd> component:</p>
<pre>const MaybeProgress = ({ loading }) =&gt;<br/>  loading ? &lt;LinearProgress /&gt; : null;<br/><br/>const useStyles = makeStyles(theme =&gt; ({<br/>  panelDetails: { flexDirection: 'column' }<br/>}));</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p>The <kbd>MaybeProgress</kbd> component takes a <kbd>loading</kbd> property that, when true, results in a <kbd>LinearProgress</kbd> component. Otherwise, nothing is rendered. The <kbd>flexDirection</kbd> style is set to <kbd>column</kbd>; otherwise, the <kbd>LinearProgress</kbd> component won't display. Now let's modify the markup rendered by <kbd>LazyLoadingPanelContent</kbd> so it uses these two additions:</p>
<pre>return (<br/>  &lt;Fragment&gt;<br/>    {panels.map((panel, index) =&gt; (<br/>      &lt;ExpansionPanel key={index} onChange={onChange(index)}&gt;<br/>        &lt;ExpansionPanelSummary expandIcon={&lt;ExpandMoreIcon /&gt;}&gt;<br/>          &lt;Typography&gt;{panel.title}&lt;/Typography&gt;<br/>        &lt;/ExpansionPanelSummary&gt;<br/>        &lt;ExpansionPanelDetails className={classes.panelDetails}&gt;<br/>          &lt;MaybeProgress loading={!panel.content} /&gt;<br/>          &lt;Typography&gt;{panel.content}&lt;/Typography&gt;<br/>        &lt;/ExpansionPanelDetails&gt;<br/>      &lt;/ExpansionPanel&gt;<br/>    ))}<br/>  &lt;/Fragment&gt;<br/>);</pre>
<p>The <kbd>panelDetails</kbd> class is now used by the <kbd>ExpansionPanelDetails</kbd> component. The first child of this component is now <kbd>MaybeProgress</kbd>. The loading property is true until the API call populates the content state for the given panel. This means that the progress indicator will be visible until the content loads.</p>
<p>Here's what the first panel looks like when expanded, before the content has loaded:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/ba206350-90d2-44a5-a6b9-e8bdef4a4b5a.png" style="width:33.25em;height:16.08em;"/></p>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p>Once loaded, the content is rendered in place of the progress indicator. Finally, let's make sure that the API call to load content isn't made when the panel is collapsing. This requires an adjustment to the <kbd>onChange()</kbd> handler:</p>
<pre>const onChange = index =&gt; (e, expanded) =&gt; {<br/>  if (!panels[index].content &amp;&amp; expanded) {<br/>    fetchPanelContent(index).then(content =&gt; {<br/>      const newPanels = [...panels];<br/>      newPanels[index] = { ...newPanels[index], content };<br/>      setPanels(newPanels);<br/>    });<br/>  }<br/>};</pre>
<p>The second argument passed to this function, <kbd>expanded</kbd>, tells you whether or not the panel is expanding. If this value is false, you know that the panel is collapsed and that the API call shouldn't be made. This condition has been added to look for content that has already been loaded for the panel.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">See also</h1>
                </header>
            
            <article>
                
<ul>
<li><kbd>ExpansionPanel</kbd><span> </span>demos:<span> </span><a href="https://material-ui.com/demos/expansion-panels/">https://material-ui.com/demos/expansion-panels/</a></li>
<li><kbd>ExpansionPanel</kbd><span> </span>API documentation: <a href="https://material-ui.com/api/expansion-panel/">https://material-ui.com/api/expansion-panel/</a></li>
<li><kbd>ExpansionPanelSummary</kbd><span> </span>API documentation: <a href="https://material-ui.com/api/expansion-panel-summary/">https://material-ui.com/api/expansion-panel-summary/</a></li>
<li><kbd>ExpansionPanelDetails</kbd><span> </span>API documentation: <a href="https://material-ui.com/api/expansion-panel-details/">https://material-ui.com/api/expansion-panel-details/</a></li>
</ul>


            </article>

            
        </section>
    </body></html>