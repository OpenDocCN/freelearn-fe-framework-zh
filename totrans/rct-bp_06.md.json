["```js\nmodule.exports = function () {\n  return 'Hello world!';\n}\n```", "```js\nvar Hello = require(\"./helloworld\");\nconsole.log(Hello());\n```", "```js\nbrowserify entry.js\n\n```", "```js\n(function e(t, n, r) {\n  function s(o, u) {\n    if (!n[o]) {\n      if (!t[o]) {\n        var a = typeof require == \"function\" && require;\n        if (!u && a) return a(o, !0);\n        if (i) return i(o, !0);\n        var f = new Error(\"Cannot find module '\" + o + \"'\");\n        throw f.code = \"MODULE_NOT_FOUND\", f\n      }\n      var l = n[o] = {\n        exports: {}\n      };\n      t[o][0].call(l.exports, function(e) {\n        var n = t[o][1][e];\n        return s(n ? n : e)\n      }, l, l.exports, e, t, n, r)\n    }\n    return n[o].exports\n  }\n  var i = typeof require == \"function\" && require;\n  for (var o = 0; o < r.length; o++) s(r[o]);\n  return s\n})\n```", "```js\n({\n  1: [function(require, module, exports) {\n    var Hello = require(\"./helloworld\");\n    console.log(Hello());\n\n  }, {\n    \"./helloworld\": 2\n  }],\n  2: [function(require, module, exports) {\n    module.exports = (function() {\n      return 'Hello world!';\n    })\n\n  }, {}]\n}, {}, [1]);\n```", "```js\nimport Hello from \"./helloworld\";\nconsole.log(Hello());\n```", "```js\nbrowserify entry.js --transform [babelify --presets [es2015]]\n\n```", "```js\nwebpack helloworld.js --output-filename bundle.js\n\n```", "```js\n(function(modules) { // webpackBootstrap\n  var installedModules = {};\n  function __webpack_require__(moduleId) {\n\n  if(installedModules[moduleId])\n  return installedModules[moduleId].exports;\n\n  var module = installedModules[moduleId] = {\n    exports: {},\n    id: moduleId,\n    loaded: false\n  };\n```", "```js\n  modules[moduleId].call(module.exports, module, module.exports,\n    __webpack_require__);\n  module.loaded = true;\n  return module.exports;\n}\n```", "```js\n__webpack_require__.m = modules;\n__webpack_require__.c = installedModules;\n__webpack_require__.p = \"\";\nreturn __webpack_require__(0);\n})\n```", "```js\n([\n  /* 0 */\n  /***/ function(module, exports, __webpack_require__) {\n\n  var Hello = __webpack_require__(1);\n  console.log(Hello());\n```", "```js\n  /***/ },\n  /* 1 */\n  /***/ function(module, exports) {\n\n  module.exports = (function () {\n    return 'Hello world!';\n    })\n  }\n]);\n```", "```js\nvar webpack = require('webpack');\nmodule.exports = {\n  entry: [\n    './entry'\n  ],\n  output: {\n    path: './',\n    filename: 'bundle.js'\n  }\n};\n```", "```js\nwebpack --config webpack.config.js\n\n```", "```js\nmodule: {\n  loaders: [{\n    test: /.js?$/',\n    loader: 'babel',\n    exclude: /node_modules/,\n    query: {\n      presets: ['es2015','react']\n    }\n  }]\n}\n```", "```js\nnpm i --save-dev babel-core@6.8.0 babel-loader@6.2.4 babel-plugin-react-transform@2.0.2 babel-preset-es2015@6.6.0 babel-preset-react@6.5.0 react@15.0.2 react-dom@15.0.2 react-transform-catch-errors@1.0.2 react-transform-hmr@1.0.4 redbox-react@1.2.4 webpack@1.13.0 webpack-dev-middleware@1.6.1 webpack-hot-middleware@2.10.0 && npm i --save express@4.13.4\n\n```", "```js\nnpm install --production\n\n```", "```js\n{\n  \"name\": \"chapter6\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"babel-core\": \"^6.8.0\",\n    \"babel-loader\": \"^6.2.4\",\n    \"babel-plugin-react-transform\": \"^2.0.2\",\n    \"babel-preset-es2015\": \"^6.6.0\",\n    \"babel-preset-react\": \"^6.5.0\",\n    \"react\": \"^15.0.2\",\n    \"react-dom\": \"^15.0.2\",\n    \"react-transform-catch-errors\": \"^1.0.2\",\n    \"react-transform-hmr\": \"^1.0.4\",\n    \"redbox-react\": \"^1.2.4\",\n    \"webpack\": \"^1.13.0\",\n    \"webpack-dev-middleware\": \"^1.6.1\",\n    \"webpack-hot-middleware\": \"^2.10.0\"\n  },\n  \"dependencies\": {\n    \"express\": \"^4.13.4\"\n  }\n}\n```", "```js\n{\n  \"presets\": [\"react\", \"es2015\"],\n  \"env\": {\n    \"development\": {\n      \"plugins\": [\n        [\"react-transform\", {\n          \"transforms\": [{\n            \"transform\": \"react-transform-hmr\",\n            \"imports\": [\"react\"],\n            \"locals\": [\"module\"]\n          }, {\n            \"transform\": \"react-transform-catch-errors\",\n            \"imports\": [\"react\", \"redbox-react\"]\n          }]\n        }]\n      ]\n    }\n  }\n}\n```", "```js\nvar path = require('path');\nvar webpack = require('webpack');\n\nmodule.exports = {\n  devtool: 'cheap-module-eval-source-map',\n  entry: [\n    'webpack-hot-middleware/client',\n    './source/index'\n  ],\n```", "```js\n  output: {\n    path: path.join(__dirname, 'public'),\n    filename: 'bundle.js',\n    publicPath: '/assets/'\n  },\n```", "```js\n  plugins: [\n    new webpack.optimize.OccurenceOrderPlugin(),\n    new webpack.NoErrorsPlugin(),\n    new webpack.HotModuleReplacementPlugin()\n  ],\n```", "```js\n  module: {\n    loaders: [{\n      tests: /\\.js?$/,\n      loaders: ['babel'],\n      include: path.join(__dirname, 'source')\n    }]\n  },\n```", "```js\n  resolve: {\n    extensions: ['', '.js', '.jsx']\n  }\n};\n```", "```js\nbody {\n  font-family: serif;\n  padding: 50px;\n}\n```", "```js\n<!DOCTYPE html>\n<html>\n  <head>\n    <title>ReactJS + Webpack Scaffold</title>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, \n    initial-scale=1\">\n    <link rel=\"stylesheet\" href=\"app.css\">\n  </head>\n  <body>\n    <div id=\"app\"></div>\n    <script src=\"img/bundle.js\"></script>\n  </body>\n</html>\n```", "```js\nvar path = require('path');\n```", "```js\nvar express = require('express');\nvar webpack = require('webpack');\nvar config = require('./webpack.config');\nvar port = process.env.PORT || 8080;\n```", "```js\nvar app = express();\nvar compiler = webpack(config);\n```", "```js\napp.use('/', express.static(path.join(__dirname, 'assets')));\n```", "```js\napp.use(require('webpack-dev-middleware')(compiler, {\n  quiet: true,\n  noInfo: true,\n  publicPath: config.output.publicPath\n}));\n```", "```js\napp.use(require(\"webpack-hot-middleware\")(compiler, {\n  log: console.log,\n  path: '/__webpack_hmr',\n  heartbeat: 10 * 1000\n}));\n```", "```js\napp.get('*', function(req, res) {\n  res.sendFile(path.join(__dirname, 'index.html'));\n});\n```", "```js\napp.listen(port, 'localhost', function(err) {\n  if (err) {\n    console.log(err);\n    return;\n  }\n```", "```js\n  console.log('Listening at http://localhost:'+port);\n});\n```", "```js\n'use strict';\nimport React, { Component, PropTypes } from 'react';\nimport { render } from 'react-dom';\n\nclass App extends Component {\n  render() {\n    return <div>\n      <h1>ReactJS Blueprints Chapter 6 Webpack scaffold</h1>\n      <div>\n        To use:\n        <p>\n          1\\. Run <strong>npm i</strong> to install\n        </p>\n        <p>\n          2\\. Run <strong>npm start</strong> to run dev server\n        </p>\n        <p>\n          3\\. View results in <strong>http://localhost:8080/\n          </strong>\n        </p>\n        <p>\n          4\\. Success\n        </p>\n      </div>\n\n    </div>\n  }\n```", "```js\n}\n\nrender(\n  <App />,\n  document.getElementById('app')\n);\n```", "```js\n{\n  type: 'UPDATE',\n  payload: {\n    value: \"some value\"\n  }\n}\n```", "```js\nnpm install --save-dev redux@3.5.2 redux-devtools@3.3.1 react-redux@4.4.5 redux-thunk@2.1.0 isomorphic-fetch@2.2.0 react-bootstrap@0.29.4 redux-devtools-dock-monitor@1.1.1 redux-devtools-log-monitor@1.0.11\n\n```", "```js\n\"devDependencies\": {\n  \"react-redux\": \"^4.4.5\",\n  \"redux\": \"^3.5.2\",\n  \"redux-thunk\": \"^2.1.0\",\n  \"redux-devtools\": \"^3.3.1\",\n  \"isomorphic-fetch\": \"^2.2.0\",\n  \"react-bootstrap\": \"^0.29.4\",\n  \"redux-devtools-dock-monitor\": \"^1.1.1\",\n  \"redux-devtools-log-monitor\": \"^1.0.11\"\n}\n```", "```js\n'use strict';\nimport fetch from 'isomorphic-fetch';\n```", "```js\nexport const LOGIN_USER = 'LOGIN_USER';\n```", "```js\nexport function login(userData) {\n```", "```js\n  const body = { username: userData.username,\n    password: userData.password };\n```", "```js\n  const options = {headers: {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'Authorization': 'Bearer 1234567890'\n  },\n  method: 'post',\n  body: JSON.stringify(body)\n}\n```", "```js\n  return dispatch => {\n    return fetch(`http://reactjsblueprints-useradmin.herokuapp.com/v1/login`, options)\n      .then(response => response.json())\n    .then(json => dispatch(setLoginDetails(json)))\n  }\n}\n```", "```js\nfunction setLoginDetails(json) {\n  if(json.length === 0 ) {\n    return {\n      type: LOGIN_FAIL,\n      timestamp: Date.now()\n    }\n  }\n  return {\n    type: LOGIN_USER,\n    loginResponse: json,\n    timestamp: Date.now()\n  }\n}\n```", "```js\n'use strict';\nimport {\n  LOGIN_USER,\n  LOGIN_FAIL\n} from '../actions/login';\nimport { combineReducers } from 'redux'\n```", "```js\nfunction user(state = {\n  message: \"\",\n  userData: {}\n}, action){\n```", "```js\nswitch(action.type) {\n  case LOGIN_USER:\n    return {\n      ...state,\n      userData: action.loginResponse[0],\n      timestamp: action.timestamp\n    };\n```", "```js\nnpm install â€“save-dev babel-preset-stage-2\n\n```", "```js\n\"presets\": [\"react\", \"es2015\", \"stage-2\"]\n```", "```js\n    case LOGIN_FAIL:\n      return {\n        ...state,\n        userData: [],\n        error: \"Invalid login\",\n        timestamp: action.timestamp\n      };\n```", "```js\n      default:\n        return state\n  }\n}\n\nconst rootReducer = combineReducers({user});\n\nexport default rootReducer\n```", "```js\n'use strict';\nimport rootReducer from '../reducers/login';\n```", "```js\nimport { persistState } from 'redux-devtools';\nimport { compose, createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport DevTools from '../devtools';\n```", "```js\nconst configureStore = compose(\n  applyMiddleware(thunk),\n  DevTools.instrument()\n)(createStore);\nconst store = configureStore(rootReducer);\n\nexport default store;\n```", "```js\n'use strict';\nimport React from 'react';\n\nimport { createDevTools } from 'redux-devtools';\n\nimport LogMonitor from 'redux-devtools-log-monitor';\nimport DockMonitor from 'redux-devtools-dock-monitor';\n```", "```js\nconst DevTools = createDevTools(\n```", "```js\n  <DockMonitor toggleVisibilityKey='ctrl-h'\n    changePositionKey='ctrl-q'>\n    <LogMonitor theme='tomorrow' />\n  </DockMonitor>\n);\n\nexport default DevTools;\n```", "```js\nimport React, { Component, PropTypes } from 'react'\nimport { Grid, Row, Col, Button, Input } from 'react-bootstrap';\nimport { render, findDOMNode } from 'react-dom';\nimport store from './stores/store';\nimport { login } from './actions/login'\nimport { Provider } from 'react-redux'\nimport { connect } from 'react-redux'\nimport DevTools from './devtools';\n```", "```js\nclass App extends Component {\n\n  handleSelect() {\n    const { dispatch } = this.props;\n    dispatch(\n    login(\n    {\n      username: findDOMNode(this.refs.username).value,\n      password: findDOMNode(this.refs.password).value\n    }))\n  }\n```", "```js\n  renderWelcomeMessage() {\n    const { user } = this.props;\n    let response;\n    if(user.userData.name) {\n      response = \"Welcome \"+user.userData.name;\n    }\n    else {\n      response = user.error;\n    }\n    return (<div>\n      { response }\n      </div>);\n  }\n```", "```js\n  renderInput() {\n    return <form>\n      <div>\n        <FormGroup>\n          <ControlLabel>Username</ControlLabel>\n          <FormControl type= \"text\"\n            ref = \"username\"\n            placeholder= \"username\"\n          />\n        <FormControl.Feedback />\n        </FormGroup>\n      </div>\n\n      <div>\n        <FormGroup>\n          <ControlLabel>Password</ControlLabel>\n          <FormControl type= \"password\"\n            ref = \"password\"\n            placeholder= \"password\"\n          />\n          <FormControl.Feedback />\n        </FormGroup>\n      </div>\n\n      <Button onClick={this.handleSelect.bind(this)}>Log in</Button>\n    </form>)\n  }\n```", "```js\n  render () {\n    const { user } = this.props;\n    return (\n      <Grid>\n        <DevTools store={store} />\n        <Row>\n          <Col xs={ 12 }>\n            <h3> Please log in </h3>\n          </Col>\n\n          <Col xs={ 12 }>\n            { this.renderInput() }\n          </Col>\n\n          <Col xs={ 12 }>\n            { this.renderWelcomeMessage() }\n          </Col>\n        </Row>\n      </Grid>\n    );\n  }\n};\n```", "```js\nfunction mapStateToProps(state) {\n  const { user } = state;\n  const {\n    message\n  } = user || {\n    message: \"\"\n  }\n\n  return {\n    user\n  }\n}\n```", "```js\nconst LoginApp = connect(mapStateToProps)(App);\n```", "```js\nclass Root extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <LoginApp />\n      </Provider>\n    )\n  }\n}\n```", "```js\nrender(\n  <Root />,\n  document.getElementById('app')\n);\n```", "```js\nexport function setLoginDetails(json) {\n  const loginData = {\n    type: LOGIN_USER,\n    loginResponse: json,\n    timestamp: Date.now()\n  };\n  sessionStorage.setItem('login',JSON.stringify(loginData));\n  return loginData;\n}\n```", "```js\nimport { login, setLoginDetails } from './actions/login'\n```", "```js\ncomponentWillMount() {\n  const { dispatch, } = this.props;\n  let storedSessionLogin = sessionStorage.getItem('login');\n  if(storedSessionLogin){\n    dispatch(\n      setLoginDetails(\n        JSON.parse(storedSessionLogin).loginResponse)\n      );\n    }\n  }\n```", "```js\nnpm install --save body-parser@1.14.1 cors@2.7.1 crypto@0.0.3 express@4.13.3 mongoose@@4.3.0 passport@0.3.2 passport-http-bearer@1.0.1\n\n```", "```js\n{\n  \"name\": \"chapter6_login_api\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Login API for Chapter 6 ReactJS Blueprints\",\n  \"main\": \"index.js\",\n  \"dependencies\": {\n    \"body-parser\": \"^1.14.1\",\n    \"cors\": \"^2.7.1\",\n    \"crypto\": \"0.0.3\",\n    \"express\": \"^4.13.3\",\n    \"mongoose\": \"^4.3.0\",\n    \"passport\": \"^0.3.2\",\n    \"passport-http-bearer\": \"^1.0.1\"\n  },\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\"  \"\n  },\n  \"author\": \"Your name <your@email>\",\n  \"license\": \"ISC\"\n}\n```", "```js\n'use strict';\nvar express = require('express');\nvar bodyparser = require('body-parser');\nvar mongoose = require('mongoose');\nvar cors = require('cors');\nvar passport = require('passport');\nvar Strategy = require('passport-http-bearer').Strategy;\n\nvar app = express();\napp.use(cors({credentials: true, origin: true}));\n```", "```js\nmongoose.connect(process.env.MONGOLAB_URI ||\n  'mongodb://localhost/loginapp/users');\n```", "```js\nvar appToken = '1234567890';\n\npassport.use(new Strategy(\n  function (token, cb) {\n    //console.log(token);\n    if (token === appToken) {\n      return cb(null, true);\n    }\n    return cb(null, false);\n  })\n);\n```", "```js\nvar userSchema = new mongoose.Schema({\n  id: String,\n  username: String,\n  password: String\n});\n\nvar userDb = mongoose.model('users', userSchema);\n```", "```js\nvar crypto = require('crypto'),\n  algorithm = 'aes-256-ctr',\n  password = '2vdbhs4Gttb2';\n```", "```js\nfunction encrypt(text) {\n  var cipher = crypto.createCipher(algorithm,password)\n  var crypted = cipher.update(text,'utf8','hex')\n  crypted += cipher.final('hex');\n  return crypted;\n}\n\nfunction decrypt(text) {\n  var decipher = crypto.createDecipher(algorithm,password)\n  var dec = decipher.update(text,'hex','utf8')\n  dec += decipher.final('utf8');\n  return dec;\n}\n```", "```js\nvar routes = function (app) {\n  app.use(bodyparser.json());\n\n  app.get('/',\n    function (req, res) {\n      res.json(({\"message\":\"The current version of this API is v1.\n        Please access by sending a POST request to /v1/login.\"}));\n    });\n\n  app.get('/login',\n   passport.authenticate('bearer', {session: false}),\n    function (req, res) {\n        res.json(({\"message\":\n          \"GET is not allowed. Please POST request with username\n          and password.\"}));\n    });\n```", "```js\n  app.post('/login',\n  passport.authenticate('bearer', {session: false}),\n  function (req, res) {\n    var username = req.body.username.toLowerCase();\n    var password = req.body.password.toLowerCase();\n\n    userDb.find({login: username,\n      password: encrypt(password)},\n      {password:0},\n      function (err, data) {\n        res.json(data);\n      });\n    });\n}\n```", "```js\nvar router = express.Router();\nroutes(router);\napp.use('/v1', router);\n```", "```js\nvar port = 5000;\napp.listen(process.env.PORT || port, function () {\n  console.log('server listening on port ' + (process.env.PORT || port));\n});\n```"]