<html><head></head><body><div class="chapter" title="Chapter&#xA0;1.&#xA0;Getting Started with React"><div class="titlepage"><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Getting Started with React</h1></div></div></div><p>Web development has <a id="id0" class="indexterm"/>seen a huge advent of <span class="strong"><strong>Single Page Application</strong></span> (<span class="strong"><strong>SPA</strong></span>) in the past couple of years. Early development was simple—reload a complete page to perform a change in the display or perform a user action. The problem with this was a huge round-trip time for the complete request to reach the web server and back to the client.</p><p>Then came AJAX, which sent a request to the server, and could update parts of the page without reloading the current page. Moving in the same direction, we saw the emergence of the SPAs.</p><p>Wrapping up the heavy frontend content and delivering it to the client browser just once, while maintaining a small channel for communication with the server based on any event; this is usually complemented by thin API on the web server.</p><p>The growth in such apps has been complemented by JavaScript libraries and frameworks such as Ext JS, KnockoutJS, BackboneJS, AngularJS, EmberJS, and more recently, React and Polymer.</p><p>Let's take a look at how React fits in this ecosystem and get introduced to it in this chapter.</p><p>In this chapter, we will cover the following topics:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">What is React and why do we use React?</li><li class="listitem" style="list-style-type: disc">Data flows in the component</li><li class="listitem" style="list-style-type: disc">Component displays the view based on state of the component</li><li class="listitem" style="list-style-type: disc">Component defines display of the view, irrespective of data contained, thus reducing the dependency and complexity of state for display</li><li class="listitem" style="list-style-type: disc">User interactions may change state of component from handlers</li><li class="listitem" style="list-style-type: disc">Components are reused and re-rendered</li></ul></div><div class="section" title="What is React?"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec07"/>What is React?</h1></div></div></div><p>ReactJS tries to solve the <a id="id1" class="indexterm"/>problem from the <span class="emphasis"><em>View</em></span> layer. It can very well be defined and used as the <span class="emphasis"><em>V</em></span> in any of the <span class="emphasis"><em>MVC</em></span> frameworks. It's not opinionated about how it should be used. It creates abstract representations of views. It breaks down parts of the view in the <span class="emphasis"><em>Components</em></span>. These components encompass both the logic to handle the display of view and the view itself. It can contain data that it uses to render the state of the app.</p><p>To avoid complexity of interactions and subsequent render processing required, React does a full render of the application. It maintains a simple flow of work.</p><p>React is founded on the idea that DOM manipulation is an expensive operation and should be minimized. It also recognizes that optimizing DOM manipulation by hand will result in a lot of <span class="emphasis"><em>boilerplate</em></span> code, which is error-prone, boring, and repetitive.</p><p>React solves this by giving the developer a virtual DOM to render to instead of the actual DOM. It finds difference between the real DOM and virtual DOM and conducts the minimum number of DOM operations required to achieve the new state.</p><p>React is also declarative. When the data changes, React conceptually hits the refresh button and knows to only update the changed parts.</p><p>This simple flow of data, coupled with dead simple display logic, makes development with ReactJS straightforward and simple to understand.</p><p>Who uses React? If you've used any of the services such as Facebook, Instagram, Netflix, Alibaba, Yahoo, E-Bay, Khan-Academy, AirBnB, Sony, and Atlassian, you've already come across and used React on the Web.</p><p>In just under a year, React has seen adoption from major Internet companies in their core products.</p><p>In its first-ever conference, React also announced the development of React Native. React Native allows the development of mobile applications using React. It transpiles React code to the native application code, such as Objective-C for iOS applications.</p><p>At the time of writing this, Facebook already uses React Native in its Groups and Ads Manager app.</p><p>In this book, we will be following a conversation between two developers, Mike and Shawn. Mike is a senior developer at Adequate Consulting and Shawn has just joined the company. Mike will be mentoring Shawn and conducting pair programming with him.</p></div></div>
<div class="section" title="When Shawn meets Mike and ReactJS"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec08"/>When Shawn meets Mike and ReactJS</h1></div></div></div><p>It's a bright day at Adequate <a id="id2" class="indexterm"/>Consulting. Its' also Shawn's first day at the company. Shawn had joined Adequate to work on its amazing products and also because it uses and develops exciting new technologies.</p><p>After onboarding the company, Shelly, the CTO, introduced Shawn to Mike. Mike, a senior developer at Adequate, is a jolly man, who loves exploring new things.</p><p>"So Shawn, here's Mike", said Shelly. "He'll be mentoring you as well as pairing with you on development. We follow pair programming, so expect a lot of it with him. He's an excellent help."</p><p>With that, Shelly took leave.</p><p>"Hey Shawn!" Mike began, "are you all set to begin?"</p><p>"Yeah, all set! So what are we working on?"</p><p>"Well we are about to start <a id="id3" class="indexterm"/>working on an app using <a class="ulink" href="https://openlibrary.org/">https://openlibrary.org/</a>. Open Library is collection of the world's classic literature. It's an open, editable library catalog for all the books. It's an initiative under <a class="ulink" href="https://archive.org/">https://archive.org/</a> and lists free book titles. We need to build an app to display the most recent changes in the record by Open Library. You can call this the <span class="strong"><strong>Activities</strong></span> page. Many people contribute to Open Library. We want to display the changes made by these users to the books, addition of new books, edits, and so on, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/4730_01_01.jpg" alt="When Shawn meets Mike and ReactJS"/></div><p>"Oh nice! What are we using to build it?"</p><p>"Open Library provides us with a neat REST API that we can consume to fetch the data. We are just going to build a simple page that displays the fetched data and format it for display. I've been experimenting and using ReactJS for this. Have you used it before?"</p><p>"Nope. However, I have heard about it. Isn't it the one from Facebook and Instagram?"</p><p>"That's right. It's an amazing <a id="id4" class="indexterm"/>way to define our UI. As the app isn't going to have much of logic on the server or perform any display, it is an easy option to use it."</p><p>"As you've not used it before, let me provide you a quick introduction."</p><p>"Have you tried services such as JSBin and JSFiddle before?"</p><p>"No, but I have seen them."</p><p>"Cool. We'll be using one of these, therefore, we don't need anything set up on our machines to start with."</p><p>"Let's try on your machine", Mike instructed. "Fire up <a class="ulink" href="http://jsbin.com/?html,output">http://jsbin.com/?html,output</a>"</p><p>"You should see something similar to the tabs and panes to code on and their output in adjacent pane."</p><div class="mediaobject"><img src="graphics/4730_01_02.jpg" alt="When Shawn meets Mike and ReactJS"/></div><p>"Go ahead and make sure that the <span class="strong"><strong>HTML</strong></span>, <span class="strong"><strong>JavaScript</strong></span>, and <span class="strong"><strong>Output</strong></span> tabs are clicked and you can see three frames for them so that we are able to edit HTML and JS and see the corresponding output."</p><p>"That's nice."</p><p>"Yeah, good thing about this is that you don't need to perform any setups. Did you notice the <span class="strong"><strong>Auto-run JS</strong></span> option? Make <a id="id5" class="indexterm"/>sure its selected. This option causes JSBin to reload our code and see its output so that we don't need to keep saying <span class="strong"><strong>Run with JS</strong></span> to execute and see its output."</p><p>"Ok."</p></div>
<div class="section" title="Requiring React library"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec09"/>Requiring React library</h1></div></div></div><p>"Alright then! Let's begin. Go <a id="id6" class="indexterm"/>ahead and change the title of the page, to say, <code class="literal">React JS Example</code>. Next, we need to set up and we require the React library in our file."</p><p>"React's homepage is <a id="id7" class="indexterm"/>located at <a class="ulink" href="http://facebook.github.io/react/">http://facebook.github.io/react/</a>. Here, we'll also locate the downloads available for us so that we can include them in our project. There are different ways to include and use the library.</p><p>We can make use of bower or install via npm. We can also just include it as an individual download, directly available from the fb.me domain. There are development versions that are full version of the library as well as production version which is its minified version. There is also its version of add-on. We'll take a look at this later though."</p><p>"Let's start by using the development version, which is the unminified version of the React source. Add the following to the file header:"</p><div class="informalexample"><pre class="programlisting">&lt;script src="http://fb.me/react-0.13.0.js"&gt;&lt;/script&gt;</pre></div><p>"Done".</p><p>"Awesome, let's <a id="id8" class="indexterm"/>see how this looks."</p><div class="informalexample"><pre class="programlisting">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;script src="http://fb.me/react-0.13.0.js"&gt;&lt;/script&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;React JS Example&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;/body&gt;
&lt;/html&gt;</pre></div></div>
<div class="section" title="Building our first component"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec10"/>Building our first component</h1></div></div></div><p>"So Shawn, we are all <a id="id9" class="indexterm"/>set to begin. Let's build our very first React App. Go ahead and add the following code to the JavaScript section of JSBin:"</p><div class="informalexample"><pre class="programlisting">var App = React.createClass({
  render: function(){
    return(React.createElement("div", null, "Welcome to Adequate, Mike!"));
  }
});

React.render(React.createElement(App), document.body);</pre></div><p>"Here it is. You should see the output section of the page showing something similar to the following:"</p><div class="informalexample"><pre class="programlisting">   Welcome to Adequate, Mike!</pre></div><p>"Nice Mike. I see that we are making use of this React object to create classes?"</p><p>"That's right. We are creating, what are called as Components in React."</p><p>"The entry point to the ReactJS library is the React object. Once the <code class="literal">react.js</code> library is included, it is made available to us in the global JavaScript namespace."</p><p>"<code class="literal">React.createClass</code> creates a component with the given specification. The component must implement the render method that returns a single child element as follows:"</p><div class="informalexample"><pre class="programlisting">var App = React.createClass({
  render: function(){
    return(React.createElement("div", null, "Welcome to Adequate, Mike!"));
  }
});</pre></div><p>React will take care of calling the render method of the component to generate the HTML."</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note02"/>Note</h3><p>Even if the render method needs to return a single child, that single child can have an arbitrarily deep structure to contain full-fledged HTML page parts.</p></div></div><p>"Here, we are making use of <code class="literal">React.createElement</code> to create our content. It's a singleton method that allows us to create a <code class="literal">div</code> element with the "<code class="literal">Welcome to Adequate, Mike!</code> contents. <code class="literal">React.createElement</code> creates a <code class="literal">ReactElement</code>, which is an internal representation of the DOM element used by React. We are passing null as the second argument. This is used to pass and specify attributes for the element. Right now, we are leaving it as blank to create a simple div."</p><p>"The type of <code class="literal">ReactElement</code> <a id="id10" class="indexterm"/>can be either a valid HTML tag name like <code class="literal">span</code>, <code class="literal">div</code>, <code class="literal">h1</code> and so on or a component created by <code class="literal">React.createClass</code> itself."</p><p>"Once we are done creating the component, it can be displayed using the <code class="literal">React.render</code> method as follows:"</p><div class="informalexample"><pre class="programlisting">React.render(React.createElement(App), document.body);</pre></div><p>"Here, a new <code class="literal">ReactElement</code> is created for the <code class="literal">App</code> component that we have created previously and it is then rendered into the HTML element—<code class="literal">document.body</code>. This is called the <code class="literal">mountNode</code>, or mount point for our component, and acts as the root node. Instead of passing <code class="literal">document.body</code> directly as a container for the component, any other DOM element can also be passed."</p><p>"Mike, go ahead and change the text passed to the div as <code class="literal">Hello React World!</code>. We should start seeing the change and it should look something similar to the following:"</p><div class="informalexample"><pre class="programlisting">Hello React World!</pre></div><p>"Nice."</p><p>"Mike, while constructing the first component, we also got an overview of React's top-level API, that is, making use of <code class="literal">React.createClass</code>, <code class="literal">React.createElement</code>, and <code class="literal">React.render</code>."</p><p>"Now, the component that we just built to display this hello message is pretty simple and straightforward. However, the syntax can get challenging and it keeps growing when building complex things. Here's where JSX comes in handy."</p><p>"JSX?"</p><p>"JSX is an XML-like syntax extension to ECMAScript without any defined semantics. It has a concise and familiar syntax with plain HTML and it's familiar for designers or non-programmers. It can also be used directly from our JavaScript file!"</p><p>"What? Isn't it bad?"</p><p>"Well, time to rethink the best practices. That's right, we will be bringing our view and its HTML in the JavaScript file!"</p><p>"Let's see how to start <a id="id11" class="indexterm"/>using it. Go ahead and change the contents of our JavaScript file as follows:"</p><div class="informalexample"><pre class="programlisting">var App = React.createClass({
  render: function(){
    return &lt;div&gt;
     Hello, from Shawn!
    &lt;/div&gt;;
  }
});

React.render(React.createElement(App), document.body);</pre></div><p>"As you can see, what we did here was that instead of using <code class="literal">createElement</code>, we directly wrote the <code class="literal">div</code> tag. This is very similar to writing HTML markup directly. It also works right out of the JavaScript file."</p><p>"Mike, the code is throwing some errors on JSBin."</p><p>"Oh, right. We need to make use of the JSX transformer library so that React and the browser can understand the syntax. In our case, we need to change the type of JavaScript, which we are using, to be used to interpret this code. What we need to do is change from <span class="strong"><strong>JavaScript</strong></span> to <span class="strong"><strong>JSX (React)</strong></span>, from the dropdown on the JavaScript frame header, as follows:"</p><div class="mediaobject"><img src="graphics/4730_01_03.jpg" alt="Building our first component"/></div><p>"That should do it."</p><p>"Looks good, Mike. It's working."</p><p>"Now you will see <a id="id12" class="indexterm"/>something similar to the following:"</p><div class="informalexample"><pre class="programlisting">Hello, from Shawn!</pre></div></div>
<div class="section" title="Back to work"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec11"/>Back to work</h1></div></div></div><p>"That's good to start, Shawn. Let's move back to the task of building our app using Open Library's Recent changes <a id="id13" class="indexterm"/>API now. We already have a basic prototype ready without using ReactJS."</p><p>"We will be slowly replacing parts of it using ReactJS."</p><p>"This is how the information is displayed right now, using server-side logic, as follows:"</p><div class="mediaobject"><img src="graphics/4730_01_04.jpg" alt="Back to work"/></div><p>"First task that we have is to display the information retrieved from the Open Library Recent Changes API in a table using ReactJS similar to how it's displayed right now using server-side."</p><p>"We will be fetching the <a id="id14" class="indexterm"/>data from the Open Library API similar to the following:"</p><div class="informalexample"><pre class="programlisting">var data = [{ "when": "2 minutes ago",
              "who": "Jill Dupre",
              "description": "Created new account"
            },
            {
              "when": "1 hour ago",
              "who": "Lose White",
              "description": "Added fist chapter"
            },
            {
              "when": "2 hours ago",
              "who": "Jordan Whash",
              "description": "Created new account"
            }];</pre></div><p>"Let's use this to prototype our app for now. Before that, let's take a look at the simple HTML version of this app. In our <code class="literal">React.render</code> method, we start returning a table element, as follows:"</p><div class="informalexample"><pre class="programlisting">var App = React.createClass({

  render: function(){
 return &lt;table&gt;
 &lt;thead&gt;
   &lt;th&gt;When&lt;/th&gt;
   &lt;th&gt;Who&lt;/th&gt;
   &lt;th&gt;Description&lt;/th&gt;
 &lt;/thead&gt;  
   &lt;tr&gt;
     &lt;td&gt;2 minutes ago&lt;/td&gt;
     &lt;td&gt;Jill Dupre&lt;/td&gt;
     &lt;td&gt;Created new account&lt;/td&gt;
   &lt;/tr&gt;
   &lt;tr&gt;
     &lt;td&gt;1 hour ago&lt;/td&gt;
     &lt;td&gt;Lose White&lt;/td&gt;
     &lt;td&gt;Added fist chapter&lt;/td&gt;
   &lt;/tr&gt;  
   &lt;tr&gt;
     &lt;td&gt;2 hours ago&lt;/td&gt;
     &lt;td&gt;Jordan Whash&lt;/td&gt;
     &lt;td&gt;Created new account&lt;/td&gt;
   &lt;/tr&gt;  
 &lt;/table&gt;
  }
});</pre></div><p>"This should start <a id="id15" class="indexterm"/>displaying our table with three rows. Now, go ahead and add a heading at top of this table from the <code class="literal">React App</code>, as follows:"</p><div class="informalexample"><pre class="programlisting">…
return &lt;h1&gt;Recent Changes&lt;/h1&gt;
           &lt;table&gt;
          ….
          &lt;/table&gt;
…</pre></div><p>"There, something like that?" asked Shawn. "Oh, that didn't work."</p><p>"That's because React expends our render method to always return a single HTML element. In this case, after you added the <code class="literal">h1</code> heading, our app started returning two elements, which is wrong. There'll be many cases when you will come across this. To avoid this, just wrap the elements in a <code class="literal">div</code> or <code class="literal">span</code> tag. The main idea is that we just want to return a single element from the render method."</p><p>"Got it. Something like this?"</p><div class="informalexample"><pre class="programlisting">…
return &lt;div&gt;
         &lt;h1&gt;Recent Changes&lt;/h1&gt;
           &lt;table&gt;
          ….
          &lt;/table&gt;
         &lt;/div&gt;
…</pre></div></div>
<div class="section" title="Displaying static data"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec12"/>Displaying static data</h1></div></div></div><p>"Awesome! Looks good. Now, let's change our table that is displaying static information, to start fetching and <a id="id16" class="indexterm"/>displaying this information in the rows from the JSON data that we had before."</p><p>"We'll define this data in the render method itself and see how we would be using it to create our table. We'll basically just be looping over the data and creating elements, that is, table rows in our case, for the individual data set of events. Something like this:"</p><div class="informalexample"><pre class="programlisting">…
  var data = [{ "when": "2 minutes ago",
              "who": "Jill Dupre",
              "description": "Created new account"
            },
            {
              "when": "1 hour ago",
              "who": "Lose White",
              "description": "Added fist chapter"
            },
            {
              "when": "2 hours ago",
              "who": "Jordan Whash",
              "description": "Created new account"
            }];

  var rows = data.map(function(row){
  return  &lt;tr&gt;
     &lt;td&gt;{row.when}&lt;/td&gt;
     &lt;td&gt;{row.who}&lt;/td&gt;
     &lt;td&gt;{row.description}&lt;/td&gt;
   &lt;/tr&gt;
  });
…</pre></div><p>"Notice how we are using <code class="literal">{}</code> here. <code class="literal">{}</code> is used in JSX to embed dynamic information in our view template. We can use it to embed the JavaScript objects in our views, for example, the name of a person or heading of this table. As you can see, what we are doing here is using the <code class="literal">map</code> function to loop over the dataset that we have. Then, we are returning a table row, constructed from the information available from the row object – the details about when the event was created, who created it and event description."</p><p>"We are using JSX syntax here to construct the rows of table. However, it is not used as the final return value from render function."</p><p>"That's correct, Shawn. React with JSX allows us to arbitrarily create elements to be used in our views, in our case, creating it dynamically from the dataset that we have. The rows variable now contains a part of view that we had used at a different place. We can also build another component of the view on top of it."</p><p>"That's the beauty of it. React allows us to dynamically create, use, and reuse the parts of views. This is helpful to <a id="id17" class="indexterm"/>build our views, part by part, in a systematic way."</p><p>"Now, after we are done with building our rows, we can use them in our final render call."</p><p>"So now, the return statement will look something similar to the following:"</p><div class="informalexample"><pre class="programlisting">…
 return &lt;table&gt;
 &lt;thead&gt;
   &lt;th&gt;When&lt;/th&gt;
   &lt;th&gt;Who&lt;/th&gt;
   &lt;th&gt;Description&lt;/th&gt;
 &lt;/thead&gt;  
{rows} 
 &lt;/table&gt;
…</pre></div><p>"Here's how the complete render method now looks after building up rows with static data:"</p><div class="informalexample"><pre class="programlisting">  render: function(){
  var data = [{ "when": "2 minutes ago",
              "who": "Jill Dupre",
              "description": "Created new account"
            },
            {
              "when": "1 hour ago",
              "who": "Lose White",
              "description": "Added fist chapter"
            },
            {
              "when": "2 hours ago",
              "who": "Jordan Whash",
              "description": "Created new account"
            }];

  var rows = data.map(function(row){
  return  &lt;tr&gt;
     &lt;td&gt;{row.when}&lt;/td&gt;
     &lt;td&gt;{row.who}&lt;/td&gt;
     &lt;td&gt;{row.description}&lt;/td&gt;
   &lt;/tr&gt;
  })
 return &lt;table&gt;
 &lt;thead&gt;
   &lt;th&gt;When&lt;/th&gt;
   &lt;th&gt;Who&lt;/th&gt;
   &lt;th&gt;Description&lt;/th&gt;
 &lt;/thead&gt;
{rows}
&lt;/table&gt;}</pre></div><div class="mediaobject"><img src="graphics/4730_01_05.jpg" alt="Displaying static data"/></div><p>"That's starting to look <a id="id18" class="indexterm"/>like where we want to reach."</p></div>
<div class="section" title="Passing data to components"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec13"/>Passing data to components</h1></div></div></div><p>"Do we define our data <a id="id19" class="indexterm"/>and everything else in the render method?"</p><p>"I was just getting to that. Our <a id="id20" class="indexterm"/>component should not contain this information. The information should be passed as a parameter to it."</p><p>"React allows us to pass the JavaScript objects to components. These objects would be passed when we call the <code class="literal">React.render</code> method and create an instance of the <code class="literal">&lt;App&gt;</code> component. The following is how we can pass objects to it:"</p><div class="informalexample"><pre class="programlisting">React.render(&lt;App title='Recent  Changes'/&gt;, document.body);</pre></div><p>"Notice how are using the <code class="literal">&lt;App/&gt;</code> syntax here, instead of <code class="literal">createElement</code>. As I mentioned previously, we can create elements from our components and represent them using JSX as done earlier."</p><div class="informalexample"><pre class="programlisting">React.render(React.createElement(App), document.body)</pre></div><p>"The preceding code becomes the following:"</p><div class="informalexample"><pre class="programlisting">React.render(&lt;App/&gt;, document.body)</pre></div><p>"That looks even more cleaner", said Shawn.</p><p>"As you can see, we are passing the title for our table as the <code class="literal">title</code> parameter, followed by the contents of the title. React makes this data passed to the component as something called <code class="literal">props</code>. The <code class="literal">props</code>, short for properties, are a component's configuration options that are passed to the component when initializing it."</p><p>"These <code class="literal">props</code> are just plain <a id="id21" class="indexterm"/>JavaScript objects. They are made accessible to us <a id="id22" class="indexterm"/>within our component via the <code class="literal">this.props</code> method. Let's try accessing this from the <code class="literal">render</code> method, as follows:"</p><div class="informalexample"><pre class="programlisting">…
  render: function(){
   console.log(this.props.title);
  }
…</pre></div><p>"That should start logging the title that we passed to the component to the console."</p><p>"Now, let's try to abstract the headings as well as the JSON data out of the <code class="literal">render</code> method and start passing them to the component, as follows:"</p><div class="informalexample"><pre class="programlisting">       var data = [{ "when": "2 minutes ago",
                           "who": "Jill Dupre",
                           "description": "Created new account"
                         },
                         ….
                        }];  
var headings = ['When', 'Who', 'Description']
&lt;App headings = {headings} data = {data} /&gt;</pre></div><p>"There. We pulled the data out of the <code class="literal">render</code> method and are now passing it to our component."</p><p>"We defined the dynamic headers for our table that we will start using in the component."</p><p>"Here the curly braces, used to pass the parameters to our component, are used to specify the JavaScript expressions that will be evaluated and then used as attribute values."</p><p>"For example, the preceding JSX code will get translated into JavaScript by React, as follows:"</p><div class="informalexample"><pre class="programlisting">React.createElement(App, { headings: headings, data: data });</pre></div><p>"We will revisit <code class="literal">props</code> later. However, right now, let's move on to complete our component."</p><p>"Now, using the passed data and headings via <code class="literal">props</code>, we need to generate the table structure in the app's <code class="literal">render</code> method."</p><p>"Let's generate the headings first, as follows:"</p><div class="informalexample"><pre class="programlisting">var App = React.createClass({

  render: function(){
      var headings = this.props.headings.map(function(heading) {
          return(&lt;th&gt;
                 {heading}
                 &lt;/th&gt;);
      });
  }
});</pre></div><p>"Notice, how we are using <code class="literal">this.props.headings</code> to access the passed information about headings. Now let's <a id="id23" class="indexterm"/>create rows of the table similar to what we <a id="id24" class="indexterm"/>were doing earlier:"</p><div class="informalexample"><pre class="programlisting">var App = React.createClass({

  render: function(){
      var headings = this.props.headings.map(function(heading) {
          return(&lt;th&gt;
                 {heading}
                 &lt;/th&gt;);
      });

      var rows = this.props.data.map(function(change) {
          return(&lt;tr&gt;
                   &lt;td&gt; { change.when } &lt;/td&gt;
                   &lt;td&gt; { change.who } &lt;/td&gt;
                   &lt;td&gt; { change.description } &lt;/td&gt;
                 &lt;/tr&gt;);
      });
  }
});</pre></div><p>"Finally, let's put the headings and rows together in our table."</p><div class="informalexample"><pre class="programlisting">var App = React.createClass({

  render: function(){
      var headings = this.props.headings.map(function(heading) {
          return(&lt;th&gt;
                 {heading}
                 &lt;/th&gt;);
      });

      var rows = this.props.data.map(function(change) {
          return(&lt;tr&gt;
                   &lt;td&gt; {change.when} &lt;/td&gt;
                   &lt;td&gt; {change.who} &lt;/td&gt;
                   &lt;td&gt; {change.description} &lt;/td&gt;
                 &lt;/tr&gt;);
      });

      return(&lt;table&gt;
               {headings}
               {rows}
             &lt;/table&gt;);
  }
});

React.render(&lt;App headings = {headings} data = {data} /&gt;,
                      document.body);</pre></div><p>"The table is now displayed with the passed dynamic headers and JSON data."</p><p>"The headings can be changed to <code class="literal">["Last change at", "By Author", "Summary"]</code> and the table in our view will get updated automatically."</p><p>"Alright, Shawn, go <a id="id25" class="indexterm"/>ahead and add a title to our table. Make sure to pass <a id="id26" class="indexterm"/>it from the props."</p><p>"Ok," said Shawn.</p><p>"Now, the render method will be changed to the following:"</p><div class="informalexample"><pre class="programlisting">…
 return &lt;div&gt;
               &lt;h1&gt;
                 {this.props.title}
               &lt;/h1&gt;
               &lt;table&gt;
                 &lt;thead&gt;
                   {headings}
                 &lt;/thead&gt;  
                 {rows} 
                &lt;/table&gt;
            &lt;/div&gt;
…</pre></div><p>"While the call to <code class="literal">React.render</code> will change to the following:"</p><div class="informalexample"><pre class="programlisting">var title =  'Recent Changes';
React.render(&lt;App headings={headings} data={data} title={title}/&gt;, document.body);</pre></div><p>"Awesome. You are <a id="id27" class="indexterm"/>starting to get a hang of it. Let's see how this looks in <a id="id28" class="indexterm"/>completion shall we?"</p><div class="informalexample"><pre class="programlisting">var App = React.createClass({
  render: function(){
      var headings = this.props.headings.map(function(heading) {
          return(&lt;th&gt;
                 {heading}
                 &lt;/th&gt;);
      });

  var rows = this.props.data.map(function(row){
  return  &lt;tr&gt;
     &lt;td&gt;{row.when}&lt;/td&gt;
     &lt;td&gt;{row.who}&lt;/td&gt;
     &lt;td&gt;{row.description}&lt;/td&gt;
   &lt;/tr&gt;

  })
 return &lt;div&gt;&lt;h1&gt;{this.props.title}&lt;/h1&gt;&lt;table&gt;
 &lt;thead&gt;
{headings}
 &lt;/thead&gt;  
{rows} 
 &lt;/table&gt;&lt;/div&gt;
  }
});
  var data = [{ "when": "2 minutes ago",
              "who": "Jill Dupre",
              "description": "Created new account"
            },
            {
              "when": "1 hour ago",
              "who": "Lose White",
              "description": "Added fist chapter"
            },
            {
              "when": "2 hours ago",
              "who": "Jordan Whash",
              "description": "Created new account"
            }];

var headings = ["Last updated at", "By Author", "Summary"]
var title = "Recent Changes";
React.render(&lt;App headings={headings} data={data} title={title}/&gt;, document.body);</pre></div><p>"We should again start <a id="id29" class="indexterm"/>seeing something as follows:"</p><div class="mediaobject"><img src="graphics/4730_01_06.jpg" alt="Passing data to components"/></div><p>"Here we have it, Shawn. Our <a id="id30" class="indexterm"/>very first component using React!", said Mike.</p><p>"This looks amazing. I can't wait to try out more things in React!", exclaimed Shawn.</p></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec14"/>Summary</h1></div></div></div><p>In this chapter, we started with React and built our first component. In the process, we studied the top-level API of React to construct components and elements. We used JSX to construct the components. We saw how to display static information using React and then gradually replaced all the static information with dynamic information using props. In the end, we were able to tie all ends together and display mock data in the format that is returned from Open Library's Recent Changes API using React.</p><p>In the next chapter, we will dive deep into JSX internals and continue building our application for Recent Changes API.</p></div></body></html>