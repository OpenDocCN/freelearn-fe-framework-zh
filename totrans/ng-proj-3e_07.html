<html><head></head><body>
  <div id="_idContainer141" class="Basic-Text-Frame">
    <h1 class="chapterNumber">7</h1>
    <h1 id="_idParaDest-119" class="chapterTitle">Building an SSR Application for a GitHub Portfolio Using Angular</h1>
    <p class="normal">A typical Angular application follows <a id="_idIndexMarker366"/>the <strong class="keyWord">Single-Page Application (SPA)</strong> approach, where each page is created in the DOM of the browser while the user interacts with the application. A web server hosts the application and serves only the main page, usually called <code class="inlineCode">index.html</code>, at application startup.</p>
    <p class="normal"><strong class="keyWord">Server-Side Rendering (SSR)</strong> is a <a id="_idIndexMarker367"/>technique that follows an entirely different approach for application rendering than SPA. It uses the server to prerender pages when the user requests them at runtime. Rendering content on the server dramatically enhances the <a id="_idIndexMarker368"/>performance of a web application and improves its <strong class="keyWord">Search Engine Optimization (SEO)</strong> capabilities. To<a id="_idIndexMarker369"/> perform SSR in an Angular application, we use a library called <strong class="keyWord">Angular Universal</strong>.</p>
    <p class="normal">In this chapter, we will learn how<a id="_idIndexMarker370"/> to benefit from Angular Universal by building a portfolio application using the <strong class="keyWord">GitHub API</strong>. We will cover the following topics:</p>
    <ul>
      <li class="bulletList">Building an Angular application with the GitHub API</li>
      <li class="bulletList">Integrating Angular Universal</li>
      <li class="bulletList">Prerendering content during build</li>
      <li class="bulletList">Enhancing SEO capabilities</li>
    </ul>
    <h1 id="_idParaDest-120" class="heading-1">Essential background theory and context</h1>
    <p class="normal">An Angular application<a id="_idIndexMarker371"/> consists of several pages created dynamically in the DOM of the browser by the Angular framework while we use the application. Angular Universal enables the Angular framework to create these pages on the server statically during application runtime. In other words, it can create a fully static version of an Angular application that can run even without needing to have JavaScript enabled. Prerendering an application on the server has the following advantages:</p>
    <ul>
      <li class="bulletList">It <a id="_idIndexMarker372"/>allows web crawlers to index the application and make it discoverable and linkable on social media websites.</li>
      <li class="bulletList">It makes the application usable on mobile and other low-performant devices that cannot afford to execute JavaScript on their side.</li>
      <li class="bulletList">It improves the user experience by loading the first page quickly and, at the same time, loading the <a id="_idIndexMarker373"/>actual client page in the background (<strong class="keyWord">First Contentful Paint (FCP)</strong>).</li>
    </ul>
    <p class="normal">The GitHub API<a id="_idIndexMarker374"/> is an HTTP REST API for interacting with GitHub data. It can be used publicly or privately using an authentication mechanism provided out of the box.</p>
    <div class="note">
      <p class="normal">Unauthorized <a id="_idIndexMarker375"/>requests to the GitHub API are limited to 60 requests per hour. For an overview of the available authentication methods, you can find more details at <a href="https://docs.github.com/en/rest/overview/authenticating-to-the-rest-api"><span class="url">https://docs.github.com/en/rest/overview/authenticating-to-the-rest-api</span></a>.</p>
    </div>
    <p class="normal">We use the built-in HTTP client available in the <code class="inlineCode">@angular/common/http</code> npm package to communicate over HTTP in Angular. Interacting with HTTP in SSR applications may result in duplicated HTTP requests due to the page prerendering at the FCP. However, Angular Universal can overcome this type<a id="_idIndexMarker376"/> of duplication using a mechanism called <strong class="keyWord">TransferState</strong>.</p>
    <h1 id="_idParaDest-121" class="heading-1">Project overview</h1>
    <p class="normal">In this project, we will build a<a id="_idIndexMarker377"/> portfolio application for our GitHub user profile. We will initially use the Angular CLI to scaffold an Angular application that interacts with the GitHub API. We will learn how to use the GitHub API and fetch user-specific data. We will also use the <strong class="keyWord">Bootstrap CSS</strong> library<a id="_idIndexMarker378"/> to style our application and create a beautiful user interface.</p>
    <p class="normal">After creating our Angular application, we will turn it into a server-side-rendered application using Angular Universal. We will see how to install and configure Angular Universal, and we will learn how to prerender it during build time. </p>
    <p class="normal">Then, we will configure our application to render using SEO in the most popular social platforms correctly. The following diagram depicts an architectural overview of the project:</p>
    <figure class="mediaobject"><img src="../Images/B18465_07_01.png" alt=""/></figure>
    <p class="packt_figref">Figure 7.1 – Project architecture</p>
    <p class="normal">Build time: 2 hours</p>
    <h1 id="_idParaDest-122" class="heading-1">Getting started</h1>
    <p class="normal">The following prerequisites and software tools are required to complete this project:</p>
    <ul>
      <li class="bulletList"><strong class="keyWord">GitHub account</strong>: A valid GitHub user account.</li>
      <li class="bulletList"><strong class="keyWord">Angular CLI</strong>: A CLI for Angular that you can find at <a href="https://angular.io/cli"><span class="url">https://angular.io/cli</span></a>.</li>
      <li class="bulletList"><strong class="keyWord">GitHub material</strong>: The related <a id="_idIndexMarker379"/>code for this chapter can be found in the <code class="inlineCode">Chapter07</code> folder at <a href="https://github.com/PacktPublishing/Angular-Projects-Third-Edition"><span class="url">https://github.com/PacktPublishing/Angular-Projects-Third-Edition</span></a>.</li>
    </ul>
    <h1 id="_idParaDest-123" class="heading-1">Building an Angular application with the GitHub API</h1>
    <p class="normal">GitHub contains an <a id="_idIndexMarker380"/>API that we can use to fetch various information about the profile of a GitHub user. The Angular application we are building will communicate with the GitHub API and display a brief portfolio for our GitHub profile. Our application will consist of the following features:</p>
    <ul>
      <li class="bulletList"><strong class="keyWord">Dashboard</strong>: This will be the landing page of the application, and it will display a summary of our GitHub profile.</li>
      <li class="bulletList"><strong class="keyWord">Info</strong>: This will display personal information about us.</li>
      <li class="bulletList"><strong class="keyWord">Repositories</strong>: This will display a list of our <em class="italic">public</em> repositories.</li>
      <li class="bulletList"><strong class="keyWord">Organizations</strong>: This will display a list of GitHub organizations of which we are members.</li>
    </ul>
    <div class="note">
      <p class="normal">The resulting output of each feature that is displayed in the screenshots of this chapter will be different according to your GitHub profile.</p>
    </div>
    <p class="normal">The dashboard will be the main page of the application, and it will contain all the other features. We will learn how to build the dashboard page in the following section.</p>
    <h2 id="_idParaDest-124" class="heading-2">Building the dashboard</h2>
    <p class="normal">Before we can start<a id="_idIndexMarker381"/> creating the main features of our application, we need to scaffold and configure an Angular application by running the following command:</p>
    <pre class="programlisting con"><code class="hljs-con">ng new gh-portfolio --routing=false --style=scss
</code></pre>
    <p class="normal">The preceding command will use the <code class="inlineCode">ng new</code> command of the Angular CLI, passing the following options:</p>
    <ul>
      <li class="bulletList"><code class="inlineCode">gh-portfolio</code>: The name of the Angular application that we want to create</li>
      <li class="bulletList"><code class="inlineCode">--routing=false</code>: Disables routing because our application will consist of a single page</li>
      <li class="bulletList"><code class="inlineCode">--style=scss</code>: Configures the Angular application to use the SCSS stylesheet format when working with CSS styles</li>
    </ul>
    <p class="normal">We will use the <a id="_idIndexMarker382"/>Bootstrap CSS library for styling our portfolio application. Let’s see how to install and configure it in the Angular CLI application that we have just created:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Execute the following <code class="inlineCode">npm</code> command to install the Bootstrap CSS library:
        <pre class="programlisting con"><code class="hljs-con">npm install bootstrap
</code></pre>
      </li>
      <li class="numberedList">Open the <code class="inlineCode">src\styles.scss</code> file and import the Bootstrap SCSS stylesheet:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">@import</span> <span class="hljs-string">"bootstrap/scss/bootstrap"</span>;
</code></pre>
    <p class="normal">The <code class="inlineCode">styles.scss</code> file contains CSS styles that are applied globally to the application. The <code class="inlineCode">@import</code> CSS rule accepts the absolute path of a stylesheet file we want to load.</p>
    <div class="note">
      <p class="normal">When we import a stylesheet format using the <code class="inlineCode">@import</code> rule, we omit the extension of the file.</p>
    </div>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="3">Execute the following command to install <strong class="keyWord">Bootstrap Icons</strong>, a free and open-source icon library:
        <pre class="programlisting con"><code class="hljs-con">npm install bootstrap-icons
</code></pre>
    <p class="normal">Bootstrap Icons can be used in various formats, such as SVG or font. In this project, we are going to use the latter.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="4">Import the font icon format of the Bootstrap Icons library into the <code class="inlineCode">styles.scss</code> file:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">@import</span> <span class="hljs-string">"bootstrap/scss/bootstrap"</span>;
<span class="code-highlight"><strong class="hljs-meta-slc">@import</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">"bootstrap-icons/font/bootstrap-icons"</strong><strong class="hljs-slc">;</strong></span>
</code></pre>
      </li>
    </ol>
    <p class="normal">We have already created the Angular application and added the necessary artifacts for styling it. We are now ready to start creating the main page of our Angular application:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Download an Angular logo of your choice from the <strong class="keyWord">press kit</strong> of the official Angular documentation at <a href="https://angular.io/presskit"><span class="url">https://angular.io/presskit</span></a>.</li>
      <li class="numberedList">Copy the downloaded logo file into the <code class="inlineCode">src\assets</code> folder of the Angular CLI workspace. The <code class="inlineCode">assets</code> folder is used for static files such as images, fonts, and JSON files.</li>
      <li class="numberedList">Open the <code class="inlineCode">app.component.ts</code> file and create a <code class="inlineCode">username</code> property in the <code class="inlineCode">AppComponent</code> class that holds your GitHub login as a value:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AppComponent</span> {
  title = <span class="hljs-string">'gh-portfolio'</span>;
  <span class="code-highlight"><strong class="hljs-slc">username = </strong><strong class="hljs-string-slc">'&lt;Your GitHub login&gt;'</strong><strong class="hljs-slc">;</strong></span>
}
</code></pre>
      </li>
      <li class="numberedList">Open the <code class="inlineCode">app.component.html</code> file and replace its content with the following HTML template:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"toolbar d-flex align-items-center"</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">img</span><span class="hljs-tag"> </span><span class="hljs-attr">width</span><span class="hljs-tag">=</span><span class="hljs-string">"40"</span><span class="hljs-tag"> </span><span class="hljs-attr">alt</span><span class="hljs-tag">=</span><span class="hljs-string">"Angular Logo"</span><span class="hljs-tag"> </span><span class="hljs-attr">src</span><span class="hljs-tag">=</span><span class="hljs-string">"assets/angular.png"</span><span class="hljs-tag"> /&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">span</span><span class="hljs-tag">&gt;</span>Welcome to my GitHub portfolio<span class="hljs-tag">&lt;/</span><span class="hljs-name">span</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">a</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"ms-auto p-2"</span><span class="hljs-tag"> </span><span class="hljs-attr">target</span><span class="hljs-tag">=</span><span class="hljs-string">"_blank"</span><span class="hljs-tag"> </span><span class="hljs-attr">rel</span><span class="hljs-tag">=</span><span class="hljs-string">"noopener"</span><span class="hljs-tag"> </span><span class="hljs-attr">href</span><span class="hljs-tag">=</span><span class="hljs-string">"https://github.com/{{username}}"</span><span class="hljs-tag"> </span><span class="hljs-attr">title</span><span class="hljs-tag">=</span><span class="hljs-string">"GitHub"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">i</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"bi-github"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">i</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">a</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
</code></pre>
    <p class="normal">In the <a id="_idIndexMarker383"/>preceding template, we define the header of our application. It contains an anchor element that links to our GitHub profile. We have also added the GitHub icon using the <code class="inlineCode">bi-github</code> class from the Bootstrap Icons set.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="5">Insert the following HTML snippet after the header of the application:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"content d-flex flex-column"</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"row"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"col-sm-3"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"col-sm-9"</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"row"</span><span class="hljs-tag">&gt;</span>
        <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"col-12 col-sm-12"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"row"</span><span class="hljs-tag">&gt;</span>
        <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"col-12 col-sm-12"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
</code></pre>
    <p class="normal">In the preceding snippet, we create the container element for the basic features of our application. The element with the <code class="inlineCode">col-sm-3</code> class selector will display the <em class="italic">personal information</em> feature. The element with the <code class="inlineCode">col-sm-9</code> class selector will be split into two rows, one for the <em class="italic">repositories</em> and another for the <em class="italic">organizations</em> features.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="6">Open <a id="_idIndexMarker384"/>the <code class="inlineCode">app.component.scss</code> file and add the following CSS styles for the header and the content of our application:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-selector-class">.toolbar</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">60px</span>;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#1976d2</span>;
  <span class="hljs-attribute">color</span>: white;
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">600</span>;
}
<span class="hljs-selector-class">.toolbar</span> <span class="hljs-selector-tag">img</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-number">16px</span>;
}
<span class="hljs-selector-class">.toolbar</span> <span class="hljs-selector-tag">i</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.5rem</span>;
  <span class="hljs-attribute">color</span>: white;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-number">16px</span>;
}
<span class="hljs-selector-class">.toolbar</span> <span class="hljs-selector-tag">a</span> {
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">5px</span>;
}
<span class="hljs-selector-class">.toolbar</span> <span class="hljs-selector-tag">i</span><span class="hljs-selector-pseudo">:hover</span> {
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.8</span>;
}
<span class="hljs-selector-class">.content</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">52px</span> auto <span class="hljs-number">32px</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">16px</span>;
}
</code></pre>
      </li>
      <li class="numberedList">Run <code class="inlineCode">ng serve</code> to start the application and navigate to <code class="inlineCode">http://localhost:4200</code>. The header of the application should look like the following:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18465_07_02.png" alt="Figure 7.2 – Application header"/></figure>
    <p class="packt_figref">Figure 7.2 – Application header</p>
    <p class="normal">The <a id="_idIndexMarker385"/>main page of our portfolio application is now ready. It contains a header and an empty container element for adding the main features. In the following section, we will start building the <em class="italic">personal information</em> feature of our application.</p>
    <h2 id="_idParaDest-125" class="heading-2">Displaying personal information</h2>
    <p class="normal">The first feature<a id="_idIndexMarker386"/> of our application will be to display personal information from our GitHub profile, such as the full name, the profile photo, and some social media links. Before creating the feature, we first need to configure our application so that it can communicate with the GitHub API:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Open the main module of the application, the <code class="inlineCode">app.module.ts</code> file, and add the <code class="inlineCode">HttpClientModule</code> class to the <code class="inlineCode">imports</code> array of the <code class="inlineCode">@NgModule</code> decorator:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">NgModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">BrowserModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/platform-browser'</span>;
<span class="code-highlight"><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc"> { </strong><strong class="hljs-title-slc">HttpClientModule</strong><strong class="hljs-slc"> } </strong><strong class="hljs-keyword-slc">from</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">'@angular/common/http'</strong><strong class="hljs-slc">;</strong></span>
<span class="hljs-keyword">import</span> { <span class="hljs-title">AppComponent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./app.component'</span>;
<span class="hljs-meta">@NgModule</span>({
  <span class="hljs-attr">declarations</span>: [
    <span class="hljs-title">AppComponent</span>
  ],
  <span class="hljs-attr">imports</span>: [
    <span class="hljs-title">BrowserModule</span>,
    <span class="code-highlight"><strong class="hljs-title-slc">HttpClientModule</strong></span>
  ],
  <span class="hljs-attr">providers</span>: [],
  <span class="hljs-attr">bootstrap</span>: [<span class="hljs-title">AppComponent</span>]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AppModule</span> { }
</code></pre>
    <p class="normal">The <code class="inlineCode">HttpClientModule</code> class is the main Angular module of the built-in HTTP library that exports all the necessary services for interacting with an HTTP resource.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="2">Create a new Angular service using the following Angular CLI command:
        <pre class="programlisting con"><code class="hljs-con">ng generate service github
</code></pre>
      </li>
      <li class="numberedList">Open the <code class="inlineCode">github.service.ts</code> file and inject the <code class="inlineCode">HttpClient</code> service into the <code class="inlineCode">constructor</code> of the <code class="inlineCode">GithubService</code> class:
        <pre class="programlisting code"><code class="hljs-code"><span class="code-highlight"><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc"> { </strong><strong class="hljs-title-slc">HttpClient</strong><strong class="hljs-slc"> } </strong><strong class="hljs-keyword-slc">from</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">'@angular/common/http'</strong><strong class="hljs-slc">;</strong></span>
<span class="hljs-keyword">import</span> { <span class="hljs-title">Injectable</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-meta">@Injectable</span>({
  <span class="hljs-attr">providedIn</span>: <span class="hljs-string">'root'</span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title">GithubService</span> {
  <span class="hljs-title">constructor</span>(<span class="code-highlight"><strong class="hljs-keyword-slc">private</strong><strong class="hljs-params-slc"> http: HttpClient</strong></span>) { }
}
</code></pre>
    <p class="normal">The <code class="inlineCode">HttpClient</code> class is an Angular service of the built-in HTTP client that provides all the <a id="_idIndexMarker387"/>primary methods for interacting with HTTP, such as <strong class="keyWord">GET</strong>, <strong class="keyWord">POST</strong>, and <strong class="keyWord">PUT</strong>.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="4">Add the following properties in the <code class="inlineCode">GithubService</code> class:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">readonly</span> username = <span class="hljs-string">'&lt;Your GitHub login&gt;'</span>;
<span class="hljs-keyword">private</span> apiUrl = <span class="hljs-string">'https://api.github.com'</span>;
</code></pre>
    <p class="normal">Make sure that you set the value of the <code class="inlineCode">username</code> property to your GitHub login.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="5">Modify the <code class="inlineCode">app.component.ts</code> file so that it uses the <code class="inlineCode">username</code> property from <code class="inlineCode">GithubService</code>:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">Component</span>, <span class="code-highlight"><strong class="hljs-title-slc">OnInit</strong></span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="code-highlight"><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc"> { </strong><strong class="hljs-title-slc">GithubService</strong><strong class="hljs-slc"> } </strong><strong class="hljs-keyword-slc">from</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">'./github.service'</strong><strong class="hljs-slc">;</strong></span>
<span class="hljs-meta">@Component</span>({
  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-root'</span>,
  <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">'</span><span class="hljs-string">./app.component.html'</span>,
  <span class="hljs-attr">styleUrls</span>: [<span class="hljs-string">'./app.component.scss'</span>]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AppComponent</span> <span class="code-highlight"><strong class="hljs-keyword-slc">implements</strong><strong class="hljs-slc"> </strong><strong class="hljs-title-slc">OnInit</strong></span> {
  title = <span class="hljs-string">'gh-portfolio'</span>;
  <span class="code-highlight"><strong class="hljs-slc">username = </strong><strong class="hljs-string-slc">''</strong><strong class="hljs-slc">;</strong></span>
  <span class="code-highlight"><strong class="hljs-title-slc">constructor</strong><strong class="hljs-slc">(</strong><strong class="hljs-keyword-slc">private</strong><strong class="hljs-params-slc"> githubService: GithubService</strong><strong class="hljs-slc">) {}</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-title-slc">ngOnInit</strong><strong class="hljs-slc">(): </strong><strong class="hljs-built_in-slc">void</strong><strong class="hljs-slc"> {</strong></span>
<span class="code-highlight"><strong class="hljs-slc">    </strong><strong class="hljs-variable-slc">this</strong><strong class="hljs-slc">.</strong><strong class="hljs-property-slc">username</strong><strong class="hljs-slc"> = </strong><strong class="hljs-variable-slc">this</strong><strong class="hljs-slc">.</strong><strong class="hljs-property-slc">githubService</strong><strong class="hljs-slc">.</strong><strong class="hljs-property-slc">username</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  }</strong></span>
}
</code></pre>
      </li>
    </ol>
    <p class="normal">All <a id="_idIndexMarker388"/>interaction between our application and the GitHub API will be delegated to <code class="inlineCode">GithubService</code>. Now, let’s focus on building our feature:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Execute the following command of the Angular CLI to create a new Angular component for our feature:
        <pre class="programlisting con"><code class="hljs-con">ng generate component personal-info
</code></pre>
      </li>
      <li class="numberedList">Create a <code class="inlineCode">user</code> interface to define the data model of our component using the following Angular CLI command:
        <pre class="programlisting con"><code class="hljs-con">ng generate interface user
</code></pre>
      </li>
      <li class="numberedList">Open the <code class="inlineCode">user.ts</code> file and add the following properties to the <code class="inlineCode">User</code> interface:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">User</span> {
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-attr-slc">avatar_url</strong><strong class="hljs-slc">: </strong><strong class="hljs-built_in-slc">string</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-attr-slc">name</strong><strong class="hljs-slc">: </strong><strong class="hljs-built_in-slc">string</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-attr-slc">blog</strong><strong class="hljs-slc">: </strong><strong class="hljs-built_in-slc">string</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-attr-slc">location</strong><strong class="hljs-slc">: </strong><strong class="hljs-built_in-slc">string</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-attr-slc">bio</strong><strong class="hljs-slc">: </strong><strong class="hljs-built_in-slc">string</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-attr-slc">twitter_username</strong><strong class="hljs-slc">: </strong><strong class="hljs-built_in-slc">string</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-attr-slc">followers</strong><strong class="hljs-slc">: </strong><strong class="hljs-built_in-slc">number</strong><strong class="hljs-slc">;</strong></span>
}
</code></pre>
      </li>
      <li class="numberedList">Open the <code class="inlineCode">github.service.ts</code> file and add the following <code class="inlineCode">import</code> statements:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">Observable</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'rxjs'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">User</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./user'</span>;
</code></pre>
      </li>
      <li class="numberedList">Create a new method to get the details of our profile from the GitHub API:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-title">getUser</span>(): <span class="hljs-title">Observable</span>&lt;<span class="hljs-title">User</span>&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-variable">this</span>.<span class="hljs-property">http</span>.<span class="hljs-property">get</span>&lt;<span class="hljs-title">User</span>&gt;(<span class="hljs-string">`</span><span class="hljs-subst">${</span><span class="hljs-variable">this</span><span class="hljs-subst">.apiUrl}</span><span class="hljs-string">/users/</span><span class="hljs-subst">${</span><span class="hljs-variable">this</span><span class="hljs-subst">.username}</span><span class="hljs-string">`</span>);
}
</code></pre>
      </li>
      <li class="numberedList">Open the <code class="inlineCode">personal-info.component.ts</code> file and modify the <code class="inlineCode">import</code> statements accordingly:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">Component</span>, <span class="code-highlight"><strong class="hljs-title-slc">OnInit</strong></span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="code-highlight"><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc"> { </strong><strong class="hljs-title-slc">Observable</strong><strong class="hljs-slc"> } </strong><strong class="hljs-keyword-slc">from</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">'rxjs'</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc"> { </strong><strong class="hljs-title-slc">GithubService</strong><strong class="hljs-slc"> } </strong><strong class="hljs-keyword-slc">from</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">'../github.service'</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc"> { </strong><strong class="hljs-title-slc">User</strong><strong class="hljs-slc"> } </strong><strong class="hljs-keyword-slc">from</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">'../user'</strong><strong class="hljs-slc">;</strong></span>
</code></pre>
      </li>
      <li class="numberedList">Inject <code class="inlineCode">GithubService</code> into the <code class="inlineCode">constructor</code> of the <code class="inlineCode">PersonalInfoComponent</code> class and create a component property to get the result of the <code class="inlineCode">getUser</code> method:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PersonalInfoComponent</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">OnInit</span> {
  <span class="hljs-attr">user$</span>: <span class="hljs-title">Observable</span>&lt;<span class="hljs-title">User</span>&gt; | <span class="hljs-literal">undefined</span>;
  <span class="hljs-title">constructor</span>(<span class="hljs-keyword">private</span><span class="hljs-params"> githubService: GithubService</span>) {}
  <span class="hljs-title">ngOnInit</span>(): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable">this</span>.<span class="hljs-property">user$</span> = <span class="hljs-variable">this</span>.<span class="hljs-property">githubService</span>.<span class="hljs-title">getUser</span>();
  }
}
</code></pre>
      </li>
      <li class="numberedList">Open<a id="_idIndexMarker389"/> the <code class="inlineCode">personal-info.component.html</code> file and replace its content with the following HTML template:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card"</span><span class="hljs-tag"> *</span><span class="hljs-attr">ngIf</span><span class="hljs-tag">=</span><span class="hljs-string">"</span><span class="hljs-string">user$ | async as user"</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">img</span><span class="hljs-tag"> [</span><span class="hljs-attr">src</span><span class="hljs-tag">]=</span><span class="hljs-string">"user.avatar_url"</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card-img-top"</span><span class="hljs-tag"> </span><span class="hljs-attr">alt</span><span class="hljs-tag">=</span><span class="hljs-string">"{{user.name}} photo"</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card-body"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">h5</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card-title"</span><span class="hljs-tag">&gt;</span>{{user.name}}<span class="hljs-tag">&lt;/</span><span class="hljs-name">h5</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">p</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card-text"</span><span class="hljs-tag">&gt;</span>{{user.bio}}<span class="hljs-tag">&lt;/</span><span class="hljs-name">p</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">ul</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"</span><span class="hljs-string">list-group list-group-flush"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">li</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"list-group-item"</span><span class="hljs-tag"> </span><span class="hljs-attr">title</span><span class="hljs-tag">=</span><span class="hljs-string">"Location"</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">i</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"</span><span class="hljs-string">bi-geo me-2"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">i</span><span class="hljs-tag">&gt;</span>{{user.location}}
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">li</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"list-group-item"</span><span class="hljs-tag"> </span><span class="hljs-attr">title</span><span class="hljs-tag">=</span><span class="hljs-string">"Followers"</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">i</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"bi-people me-2"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">i</span><span class="hljs-tag">&gt;</span>{{user.followers}}
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">ul</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card-body"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">a</span><span class="hljs-tag"> </span><span class="hljs-attr">href</span><span class="hljs-tag">=</span><span class="hljs-string">"https://www.twitter.com/{{user.twitter_username}}"</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card-link"</span><span class="hljs-tag">&gt;</span>Twitter<span class="hljs-tag">&lt;/</span><span class="hljs-name">a</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">a</span><span class="hljs-tag"> [</span><span class="hljs-attr">href</span><span class="hljs-tag">]=</span><span class="hljs-string">"user.blog"</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card-link"</span><span class="hljs-tag">&gt;</span>Personal blog<span class="hljs-tag">&lt;/</span><span class="hljs-name">a</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
</code></pre>
    <p class="normal">In the preceding template, we use the <code class="inlineCode">async</code> pipe because the <code class="inlineCode">user$</code> property is an observable, and we need to subscribe to it to get its values. The main advantage of the <code class="inlineCode">async</code> pipe is that it unsubscribes from the observable automatically when a component is destroyed, avoiding potential memory leaks.</p>
    <p class="normal">We also create the <code class="inlineCode">user</code> alias for the observable to reference it easily in various locations<a id="_idIndexMarker390"/> around the component template.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="9">Open the <code class="inlineCode">app.component.html</code> file and add the <code class="inlineCode">&lt;app-personal-info&gt;</code> component to the element with the <code class="inlineCode">col-sm-3</code> class selector:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"col-sm-3"</span><span class="hljs-tag">&gt;</span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-tag-slc">&lt;</strong><strong class="hljs-name-slc">app-personal-info</strong><strong class="hljs-tag-slc">&gt;&lt;/</strong><strong class="hljs-name-slc">app-personal-info</strong><strong class="hljs-tag-slc">&gt;</strong></span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
</code></pre>
      </li>
    </ol>
    <p class="normal">If we run <code class="inlineCode">ng serve</code> to preview the application, we should see the personal information panel on the left side of the page:</p>
    <figure class="mediaobject"><img src="../Images/B18465_07_03.png" alt="Figure 7.3 – Personal information"/></figure>
    <p class="packt_figref">Figure 7.3 – Personal information</p>
    <p class="normal">The first<a id="_idIndexMarker391"/> feature of our portfolio application is now complete. It displays the personal information of our GitHub profile along with a short bio and some social network links. In the next section, we will build the <em class="italic">repositories</em> feature of our application.</p>
    <h2 id="_idParaDest-126" class="heading-2">Listing user repositories</h2>
    <p class="normal">The<a id="_idIndexMarker392"/> GitHub user profile contains a list of repositories the user <a id="_idIndexMarker393"/>owns, called <strong class="keyWord">sources</strong>, and another list of repositories that <a id="_idIndexMarker394"/>contribute, called <strong class="keyWord">forks</strong>. </p>
    <p class="normal">The repositories feature of our application will only display the source repositories.</p>
    <p class="normal">The <em class="italic">repositories</em> and <em class="italic">organizations</em> features will have a similar user interface. Thus, we need to create a component for both features:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Execute the following command of the Angular CLI to create a new component:
        <pre class="programlisting con"><code class="hljs-con">ng generate component panel
</code></pre>
      </li>
      <li class="numberedList">Open the <code class="inlineCode">panel.component.ts</code> file and define two input properties using the <code class="inlineCode">@Input</code> decorator:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">Component</span>, <span class="code-highlight"><strong class="hljs-title-slc">Input</strong></span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-meta">@Component</span>({
  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-panel'</span>,
  <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">'./panel.component.html'</span>,
  <span class="hljs-attr">styleUrls</span>: [<span class="hljs-string">'./panel.component.scss'</span>]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PanelComponent</span> {
  <span class="code-highlight"><strong class="hljs-meta-slc">@Input</strong><strong class="hljs-slc">() caption = </strong><strong class="hljs-string-slc">''</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-meta-slc">@Input</strong><strong class="hljs-slc">() icon = </strong><strong class="hljs-string-slc">''</strong><strong class="hljs-slc">;</strong></span>
}
</code></pre>
      </li>
      <li class="numberedList">Open the <code class="inlineCode">panel.component.html</code> file and replace its content with the following HTML template:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card mb-4"</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card-header"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">i</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"bi bi-{{icon}} me-1"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">i</span><span class="hljs-tag">&gt;</span>
    {{caption}}
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card-body"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">ng-content</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">ng-content</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
</code></pre>

    <p class="normal">The panel component is a Bootstrap card element that consists of a header and a body. The header uses the <code class="inlineCode">caption</code> and <code class="inlineCode">icon</code> input properties to display text with an icon. The body uses the <code class="inlineCode">&lt;ng-content&gt;</code> Angular component to define a placeholder where the content from our features will be displayed.</p>
      </li>
    </ol>
    <p class="normal">We can now<a id="_idIndexMarker395"/> start using the panel component to create our feature:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Create an interface for representing the data model of a GitHub repository:
        <pre class="programlisting con"><code class="hljs-con">ng generate interface repository
</code></pre>
      </li>
      <li class="numberedList">Open the <code class="inlineCode">repository.ts</code> file and add the following properties in the <code class="inlineCode">Repository</code> interface:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">Repository</span> {
  <span class="code-highlight"><strong class="hljs-attr-slc">name</strong><strong class="hljs-slc">: </strong><strong class="hljs-built_in-slc">string</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-attr-slc">html_url</strong><strong class="hljs-slc">: </strong><strong class="hljs-built_in-slc">string</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-attr-slc">description</strong><strong class="hljs-slc">: </strong><strong class="hljs-built_in-slc">string</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-attr-slc">fork</strong><strong class="hljs-slc">: </strong><strong class="hljs-built_in-slc">boolean</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-attr-slc">stargazers_count</strong><strong class="hljs-slc">: </strong><strong class="hljs-built_in-slc">number</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-attr-slc">language</strong><strong class="hljs-slc">: </strong><strong class="hljs-built_in-slc">string</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-attr-slc">forks_count</strong><strong class="hljs-slc">: </strong><strong class="hljs-built_in-slc">number</strong><strong class="hljs-slc">;</strong></span>
}
</code></pre>
      </li>
      <li class="numberedList">Open the <code class="inlineCode">github.service.ts</code> file and import the <code class="inlineCode">Repository</code> interface:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">Repository</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./repository'</span>;
</code></pre>
      </li>
      <li class="numberedList">Now, it is time for some refactoring in our service. The URL we will use for getting repositories is similar to that of the <code class="inlineCode">getUser</code> method. Extract the URL of that method in a property of the <code class="inlineCode">GithubService</code> class:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title">GithubService</span> {
  <span class="hljs-keyword">readonly</span> username = <span class="hljs-string">'&lt;Your GitHub login&gt;'</span>;
  <span class="code-highlight"><strong class="hljs-keyword-slc">private</strong><strong class="hljs-slc"> userUrl = </strong><strong class="hljs-string-slc">'https://api.github.com/users/'</strong><strong class="hljs-slc"> + </strong><strong class="hljs-variable-slc">this</strong><strong class="hljs-slc">.</strong><strong class="hljs-property-slc">username</strong><strong class="hljs-slc">;</strong></span>
  <span class="hljs-title">constructor</span>(<span class="hljs-keyword">private</span><span class="hljs-params"> http: HttpClient</span>) { }
  <span class="hljs-title">getUser</span>(): <span class="hljs-title">Observable</span>&lt;<span class="hljs-title">User</span>&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-variable">this</span>.<span class="hljs-property">http</span>.<span class="hljs-property">get</span>&lt;<span class="hljs-title">User</span>&gt;(<span class="code-highlight"><strong class="hljs-variable-slc">this</strong><strong class="hljs-slc">.</strong><strong class="hljs-property-slc">userUrl</strong></span>);
  }
}
</code></pre>
      </li>
      <li class="numberedList">Create a new method to fetch repositories of the current GitHub user:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-title">getRepos</span>(): <span class="hljs-title">Observable</span>&lt;<span class="hljs-title">Repository</span>[]&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-variable">this</span>.<span class="hljs-property">http</span>.<span class="hljs-property">get</span>&lt;<span class="hljs-title">Repository</span>[]&gt;(<span class="hljs-variable">this</span>.<span class="hljs-property">userUrl</span> + <span class="hljs-string">'/repos'</span>);
}
</code></pre>
      </li>
    </ol>
    <p class="normal">Now that we<a id="_idIndexMarker396"/> have created the prerequisites for fetching the user repositories from the GitHub API, we can start building the component that will display those repositories:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Execute the following command to create a new Angular component using the Angular CLI:
        <pre class="programlisting con"><code class="hljs-con">ng generate component repositories
</code></pre>
      </li>
      <li class="numberedList">Open the <code class="inlineCode">repositories.component.ts</code> file and modify the <code class="inlineCode">import</code> statements accordingly:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">Component</span>, <span class="code-highlight"><strong class="hljs-title-slc">OnInit</strong></span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="code-highlight"><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc"> { </strong><strong class="hljs-title-slc">Observable</strong><strong class="hljs-slc"> } </strong><strong class="hljs-keyword-slc">from</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">'rxjs'</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc"> { map } </strong><strong class="hljs-keyword-slc">from</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">'rxjs/operators'</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc"> { </strong><strong class="hljs-title-slc">GithubService</strong><strong class="hljs-slc"> } </strong><strong class="hljs-keyword-slc">from</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">'../github.service'</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc"> { </strong><strong class="hljs-title-slc">Repository</strong><strong class="hljs-slc"> } </strong><strong class="hljs-keyword-slc">from</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">'../repository'</strong><strong class="hljs-slc">;</strong></span>
</code></pre>
      </li>
      <li class="numberedList">Inject <code class="inlineCode">GithubService</code> into the <code class="inlineCode">constructor</code> of the <code class="inlineCode">RepositoriesComponent</code> class and create a component property to get the result of the <code class="inlineCode">getRepos</code> method:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title">RepositoriesComponent</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">OnInit</span> {
  <span class="hljs-attr">repos$</span>: <span class="hljs-title">Observable</span>&lt;<span class="hljs-title">Repository</span>[]&gt; | <span class="hljs-literal">undefined</span>;
  <span class="hljs-title">constructor</span>(<span class="hljs-keyword">private</span><span class="hljs-params"> githubService: GithubService</span>) { }
  <span class="hljs-title">ngOnInit</span>(): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable">this</span>.<span class="hljs-property">repos$</span> = <span class="hljs-variable">this</span>.<span class="hljs-property">githubService</span>.<span class="hljs-title">getRepos</span>().<span class="hljs-title">pipe</span>(
      <span class="hljs-title">map</span>(<span class="hljs-params">repos</span><span class="hljs-function"> =&gt;</span> repos.<span class="hljs-title">filter</span>(<span class="hljs-params">repo</span><span class="hljs-function"> =&gt;</span> !repo.<span class="hljs-property">fork</span>))
    );
  }
}
</code></pre>
    <p class="normal">In the preceding class, we use the <code class="inlineCode">pipe</code> RxJS operator to combine the observable returned from the <code class="inlineCode">getRepos</code> method with the <code class="inlineCode">map</code> operator to filter out <code class="inlineCode">fork</code> repositories and get only sources. Filtering is accomplished using the standard <code class="inlineCode">filter</code> method for arrays.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="4">Open <a id="_idIndexMarker397"/>the <code class="inlineCode">repositories.component.html</code> file and replace its content with the following HTML template:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">app-panel</span><span class="hljs-tag"> </span><span class="hljs-attr">caption</span><span class="hljs-tag">=</span><span class="hljs-string">"Repositories"</span><span class="hljs-tag"> </span><span class="hljs-attr">icon</span><span class="hljs-tag">=</span><span class="hljs-string">"archive"</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"row row-cols-1 row-cols-md-3 g-4"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"col p-2"</span><span class="hljs-tag"> *</span><span class="hljs-attr">ngFor</span><span class="hljs-tag">=</span><span class="hljs-string">"let repo of repos$ | async"</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card h-100"</span><span class="hljs-tag">&gt;</span>
        <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card-body"</span><span class="hljs-tag">&gt;</span>
          <span class="hljs-tag">&lt;</span><span class="hljs-name">h5</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card-title"</span><span class="hljs-tag">&gt;</span>
            <span class="hljs-tag">&lt;</span><span class="hljs-name">a</span><span class="hljs-tag"> [</span><span class="hljs-attr">href</span><span class="hljs-tag">]=</span><span class="hljs-string">"repo.html_url"</span><span class="hljs-tag">&gt;</span>{{repo.name}}<span class="hljs-tag">&lt;/</span><span class="hljs-name">a</span><span class="hljs-tag">&gt;</span>
          <span class="hljs-tag">&lt;/</span><span class="hljs-name">h5</span><span class="hljs-tag">&gt;</span>
          <span class="hljs-tag">&lt;</span><span class="hljs-name">p</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"card-text"</span><span class="hljs-tag">&gt;</span>{{repo.description}}<span class="hljs-tag">&lt;/</span><span class="hljs-name">p</span><span class="hljs-tag">&gt;</span>
        <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">app-panel</span><span class="hljs-tag">&gt;</span>
</code></pre>
    <p class="normal">In the preceding template, we wrap the main content of the component inside the <code class="inlineCode">&lt;app-panel&gt;</code> component and set the <code class="inlineCode">caption</code> and <code class="inlineCode">icon</code> properties for the header.</p>
    <p class="normal">Our component iterates over the <code class="inlineCode">repos$</code> observable and displays the <code class="inlineCode">name</code> and the <code class="inlineCode">description</code> of each repository. The name is an anchor element that points to the actual GitHub URL of the repository.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="5">Add the following list immediately after the element with the <code class="inlineCode">card-body</code> class selector:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">ul</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"</span><span class="hljs-string">list-group list-group-flush list-group-horizontal"</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">li</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"list-group-item border-0"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">i</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"bi-code me-2"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">i</span><span class="hljs-tag">&gt;</span>
    {{repo.language}}
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">li</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"list-group-item border-0"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">i</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"bi-star me-2"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">i</span><span class="hljs-tag">&gt;</span>
    {{repo.stargazers_count}}
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">li</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"list-group-item border-0"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">i</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"</span><span class="hljs-string">bi-diagram-2 me-2"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">i</span><span class="hljs-tag">&gt;</span>
    {{repo.forks_count}}
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">ul</span><span class="hljs-tag">&gt;</span>
</code></pre>
    <p class="normal">In the preceding snippet, we display the <code class="inlineCode">language</code> of each repository, how many have starred it, and how many have forked it.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="6">Open the <code class="inlineCode">app.component.html</code> file and add the <code class="inlineCode">&lt;app-repositories&gt;</code> component in<a id="_idIndexMarker398"/> the first HTML element with the <code class="inlineCode">col-12 col-sm-12</code> class selector:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"col-sm-9"</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"row"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"col-12 col-sm-12"</span><span class="hljs-tag">&gt;</span>
      <span class="code-highlight"><strong class="hljs-tag-slc">&lt;</strong><strong class="hljs-name-slc">app-repositories</strong><strong class="hljs-tag-slc">&gt;&lt;/</strong><strong class="hljs-name-slc">app-repositories</strong><strong class="hljs-tag-slc">&gt;</strong></span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"row"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"col-12 col-sm-12"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
</code></pre>
      </li>
      <li class="numberedList">Run <code class="inlineCode">ng serve</code> to preview the application, and you should see the new panel next to the <em class="italic">personal information</em> feature:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18465_07_04.png" alt="Figure 7.4 – Repositories"/></figure>
    <p class="packt_figref">Figure 7.4 – Repositories</p>
    <p class="normal">The second <a id="_idIndexMarker399"/>feature of our application has been completed. It displays a list of public repositories that exist in our GitHub profile. Our application now also features a panel component that we can use to build the organizations feature of our application in the following section.</p>
    <h2 id="_idParaDest-127" class="heading-2">Visualizing the organization membership</h2>
    <p class="normal">A GitHub <a id="_idIndexMarker400"/>user can be a member of a GitHub organization. Our application will display a list of user organizations and additional information about each. </p>
    <p class="normal">Let’s start building our organization list:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Create an interface to define the properties of an organization:
        <pre class="programlisting con"><code class="hljs-con">ng generate interface organization
</code></pre>
      </li>
      <li class="numberedList">Open the <code class="inlineCode">organization.ts</code> file and add the following properties in the <code class="inlineCode">Organization</code> interface:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">Organization</span> {
  <span class="code-highlight"><strong class="hljs-attr-slc">login</strong><strong class="hljs-slc">: </strong><strong class="hljs-built_in-slc">string</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-attr-slc">description</strong><strong class="hljs-slc">: </strong><strong class="hljs-built_in-slc">string</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-attr-slc">avatar_url</strong><strong class="hljs-slc">: </strong><strong class="hljs-built_in-slc">string</strong><strong class="hljs-slc">;</strong></span>
}
</code></pre>
      </li>
      <li class="numberedList">Open the <code class="inlineCode">github.service.ts</code> file and import the <code class="inlineCode">Organization</code> interface:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">Organization</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./organization'</span>;
</code></pre>
      </li>
      <li class="numberedList">Create a new method to get organizations of the current GitHub user:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-title">getOrganizations</span>(): <span class="hljs-title">Observable</span>&lt;<span class="hljs-title">Organization</span>[]&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-variable">this</span>.<span class="hljs-property">http</span>.<span class="hljs-property">get</span>&lt;<span class="hljs-title">Organization</span>[]&gt;(<span class="hljs-variable">this</span>.<span class="hljs-property">userUrl</span> + <span class="hljs-string">'/orgs'</span>);
}
</code></pre>
      </li>
      <li class="numberedList">Execute the following command to create an Angular component for our feature:
        <pre class="programlisting con"><code class="hljs-con">ng generate component organizations
</code></pre>
      </li>
      <li class="numberedList">Open the <code class="inlineCode">organizations.component.ts</code> file and modify the <code class="inlineCode">import</code> statements accordingly:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">Component</span>, <span class="code-highlight"><strong class="hljs-title-slc">OnInit</strong></span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="code-highlight"><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc"> { </strong><strong class="hljs-title-slc">Observable</strong><strong class="hljs-slc"> } </strong><strong class="hljs-keyword-slc">from</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">'rxjs'</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc"> { </strong><strong class="hljs-title-slc">GithubService</strong><strong class="hljs-slc"> } </strong><strong class="hljs-keyword-slc">from</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">'../github.service'</strong><strong class="hljs-slc">;</strong></span>
<span class="code-highlight"><strong class="hljs-keyword-slc">import</strong><strong class="hljs-slc"> { </strong><strong class="hljs-title-slc">Organization</strong><strong class="hljs-slc"> } </strong><strong class="hljs-keyword-slc">from</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">'../organization'</strong><strong class="hljs-slc">;</strong></span>
</code></pre>
      </li>
      <li class="numberedList">Inject <code class="inlineCode">GithubService</code> into the <code class="inlineCode">constructor</code> of the <code class="inlineCode">OrganizationsComponent</code> class and <a id="_idIndexMarker401"/>set the result of its <code class="inlineCode">getOrganizations</code> method to an observable component property:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title">OrganizationsComponent</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">OnInit</span> {
  <span class="hljs-attr">orgs$</span>: <span class="hljs-title">Observable</span>&lt;<span class="hljs-title">Organization</span>[]&gt; | <span class="hljs-literal">undefined</span>;
  <span class="hljs-title">constructor</span>(<span class="hljs-keyword">private</span><span class="hljs-params"> githubService: GithubService</span>) { }
  <span class="hljs-title">ngOnInit</span>(): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable">this</span>.<span class="hljs-property">orgs$</span> =
     <span class="hljs-variable">this</span>.<span class="hljs-property">githubService</span>.<span class="hljs-title">getOrganizations</span>();
  }
}
</code></pre>
      </li>
      <li class="numberedList">Open the <code class="inlineCode">organizations.component.html</code> file and replace its content with the following HTML template:
        <pre class="programlisting code"><code class="hljs-code">&lt;app-panel caption=<span class="hljs-string">"Organizations"</span> icon=<span class="hljs-string">"diagram-3"</span>&gt;
  <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"</span><span class="hljs-string">list-group"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">a</span><span class="hljs-tag"> </span><span class="hljs-attr">href</span><span class="hljs-tag">=</span><span class="hljs-string">"https://www.github.com/{{org.login}}"</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"list-group-item list-group-item-action"</span><span class="hljs-tag"> *</span><span class="hljs-attr">ngFor</span><span class="hljs-tag">=</span><span class="hljs-string">"let org of orgs$ | async"</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"row"</span><span class="hljs-tag">&gt;</span>
        <span class="hljs-tag">&lt;</span><span class="hljs-name">img</span><span class="hljs-tag"> [</span><span class="hljs-attr">src</span><span class="hljs-tag">]=</span><span class="hljs-string">"org.avatar_url"</span><span class="hljs-tag">&gt;</span>
        <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"</span><span class="hljs-string">col-sm-9"</span><span class="hljs-tag">&gt;</span>
          <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"d-flex w-100 justify-content-between"</span><span class="hljs-tag">&gt;</span>
            <span class="hljs-tag">&lt;</span><span class="hljs-name">h5</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"mb-1"</span><span class="hljs-tag">&gt;</span>{{org.login}}<span class="hljs-tag">&lt;/</span><span class="hljs-name">h5</span><span class="hljs-tag">&gt;</span>
          <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
          <span class="hljs-tag">&lt;</span><span class="hljs-name">p</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"mb-1"</span><span class="hljs-tag">&gt;</span>{{org.description}}<span class="hljs-tag">&lt;/</span><span class="hljs-name">p</span><span class="hljs-tag">&gt;</span>
        <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">a</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">app-panel</span><span class="hljs-tag">&gt;</span>
</code></pre>
    <p class="normal">In the preceding HTML template, we place the main content of our component inside the <code class="inlineCode">&lt;app-panel&gt;</code> component, passing an appropriate <code class="inlineCode">caption</code> and <code class="inlineCode">icon</code>. We display the <code class="inlineCode">login</code> and <code class="inlineCode">description</code> of each organization. Each organization is wrapped in an anchor element that points to the GitHub page of the organization.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="9">Open <a id="_idIndexMarker402"/>the <code class="inlineCode">organizations.component.scss</code> file and add the following CSS styles for the organization logos:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-selector-tag">img</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">60px</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;
}
</code></pre>
      </li>
      <li class="numberedList">Open the <code class="inlineCode">app.component.html</code> file and add the <code class="inlineCode">&lt;app-organizations&gt;</code> component in the second element with the <code class="inlineCode">col-12 col-sm-12</code> class selector:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"col-sm-9"</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"row"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"col-12 col-sm-12"</span><span class="hljs-tag">&gt;</span>
      <span class="hljs-tag">&lt;</span><span class="hljs-name">app-repositories</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">app-repositories</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"row"</span><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"</span><span class="hljs-string">col-12 col-sm-12"</span><span class="hljs-tag">&gt;</span>
      <span class="code-highlight"><strong class="hljs-tag-slc">&lt;</strong><strong class="hljs-name-slc">app-organizations</strong><strong class="hljs-tag-slc">&gt;&lt;/</strong><strong class="hljs-name-slc">app-organizations</strong><strong class="hljs-tag-slc">&gt;</strong></span>
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>
</code></pre>
      </li>
      <li class="numberedList">Run <code class="inlineCode">ng</code> <code class="inlineCode">serve</code> to <a id="_idIndexMarker403"/>start the application, and you should see the organization list under the <em class="italic">repositories</em> feature:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18465_07_05.png" alt="Figure 7.5 – Organizations"/></figure>
    <p class="packt_figref">Figure 7.5 – Organizations</p>
    <p class="normal">Our application now features a complete portfolio for the profile of a GitHub user. It displays the following:</p>
    <ul>
      <li class="bulletList">Personal information, a short biography, and social media links</li>
      <li class="bulletList">A list of public user repositories that contains links to each one for more information</li>
      <li class="bulletList">A list of <a id="_idIndexMarker404"/>organizations where the user is a member with links to each one for further details</li>
    </ul>
    <p class="normal">In the next section, we will learn how to integrate Angular Universal and render our application on the server.</p>
    <h1 id="_idParaDest-128" class="heading-1">Integrating Angular Universal</h1>
    <p class="normal">Angular Universal is<a id="_idIndexMarker405"/> an Angular library that enables an Angular CLI application to be rendered on the server. An SSR application increases the loading speed of an Angular application and improves the loading of the first page.</p>
    <p class="normal">To install Angular Universal <a id="_idIndexMarker406"/>in an existing Angular CLI application, we will use the following command of the Angular CLI:</p>
    <pre class="programlisting con"><code class="hljs-con">ng add @nguniversal/express-engine
</code></pre>
    <p class="normal">The previous command uses the <code class="inlineCode">ng add</code> command of the Angular CLI to install the <code class="inlineCode">@nguniversal/express-engine</code> npm package. The <code class="inlineCode">@nguniversal/express-engine</code> package is the heart of the Angular Universal library and consists of a <strong class="keyWord">Node.js Express</strong> web server at its core.</p>
    <p class="normal">When we execute the preceding command to install Angular Universal, we are not only installing the library but also modifying our Angular CLI workspace with the following files:</p>
    <ul>
      <li class="bulletList"><code class="inlineCode">angular.json</code>: This creates new entries in the <code class="inlineCode">architect</code> section to build and enable our Angular Universal application. One of these entries is the <code class="inlineCode">server</code> property, which is responsible for building our application with SSR. It outputs the generated bundle into a separate <code class="inlineCode">server</code> folder inside the standard output folder of the Angular CLI application:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-attr">"server"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"builder"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"@angular-devkit/build-angular:server"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"options"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"outputPath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dist/gh-portfolio/server"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"main"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"server.ts"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"tsConfig"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tsconfig.server.json"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"inlineStyleLanguage"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"scss"</span>
  <span class="hljs-punctuation">},</span>
  <span class="hljs-attr">"configurations"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"production"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"outputHashing"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"media"</span>
    <span class="hljs-punctuation">},</span>
    <span class="hljs-attr">"development"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"buildOptimizer"</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"optimization"</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"sourceMap"</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"extractLicenses"</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"vendorChunk"</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">},</span>
  <span class="hljs-attr">"defaultConfiguration"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"production"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
    <p class="normal">The original application bundle is now generated into the <code class="inlineCode">browser</code> folder inside the standard output folder of the Angular CLI application, as described in the <code class="inlineCode">outputPath</code> property of the <code class="inlineCode">build</code> section.</p>
    <p class="normal">Thus, an<a id="_idIndexMarker407"/> Angular Universal application generates two versions of the same Angular application, one for the server and another for the browser.</p>
      </li>
    </ul>
    <ul>
      <li class="bulletList"><code class="inlineCode">package.json</code>: This adds all the necessary npm dependencies and creates a handful set of npm <code class="inlineCode">scripts</code> to start building with Angular Universal:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"ng"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ng"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"start"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ng serve"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ng build"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"watch"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ng build --watch --configuration development"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"test"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ng test"</span><span class="hljs-punctuation">,</span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-attr-slc">"dev:ssr"</strong><strong class="hljs-punctuation-slc">:</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">"ng run gh-portfolio:serve-ssr"</strong><strong class="hljs-punctuation-slc">,</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-attr-slc">"serve:ssr"</strong><strong class="hljs-punctuation-slc">:</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">"node dist/gh-portfolio/server/main.js"</strong><strong class="hljs-punctuation-slc">,</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-attr-slc">"build:ssr"</strong><strong class="hljs-punctuation-slc">:</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">"ng build &amp;&amp; ng run gh-portfolio:server"</strong><strong class="hljs-punctuation-slc">,</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-attr-slc">"prerender"</strong><strong class="hljs-punctuation-slc">:</strong><strong class="hljs-slc"> </strong><strong class="hljs-string-slc">"ng run gh-portfolio:prerender"</strong></span>
<span class="hljs-punctuation">}</span>
</code></pre>
    <p class="normal">Scripts that contain the <code class="inlineCode">:ssr</code> suffix are related to building and serving the Angular Universal application. The <code class="inlineCode">prerender</code> script will create a prerendered version of an Angular application during build time. We will learn about the <code class="inlineCode">prerender</code> script in the <em class="italic">Prerendering content during build</em> section.</p>
      </li>
    </ul>
    <ul>
      <li class="bulletList"><code class="inlineCode">server.ts</code>: This contains the Node.js Express application that will host the server-side-rendered version of our portfolio application.</li>
      <li class="bulletList"><code class="inlineCode">main.server.ts</code>: This is the main entry point of our Angular Universal application.</li>
      <li class="bulletList"><code class="inlineCode">app.server.module.ts</code>: This is the main application module of the server-side-rendered application.</li>
      <li class="bulletList"><code class="inlineCode">tsconfig.server.json</code>: This is the TypeScript configuration for our Angular Universal application.</li>
    </ul>
    <div class="note">
      <p class="normal">Global JavaScript objects such as <code class="inlineCode">window</code> and <code class="inlineCode">document</code> are unavailable when rendering an Angular application in the server because there is no browser. Angular provides abstraction APIs for some objects, such as the <code class="inlineCode">DOCUMENT</code> injection token. If you need to enable them conditionally, you can inject the <code class="inlineCode">PLATFORM_ID</code> token and use the <code class="inlineCode">isPlatformServer</code> or <code class="inlineCode">isPlatformBrowser</code> methods from the <code class="inlineCode">@angular/common</code> npm package to check on which platform your application is currently running:</p>
      <pre class="programlisting gen"><code class="hljs"><span class="hljs-keyword">import</span> { <span class="hljs-title">Inject</span>, <span class="hljs-variable">PLATFORM_ID</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { isPlatformBrowser } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/common'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title">CheckPlatformComponent</span> {
  <span class="hljs-attr">isBrowser</span>: <span class="hljs-built_in">boolean</span>;
  
  <span class="hljs-title">constructor</span>(<span class="hljs-params"> </span><span class="hljs-meta">@Inject</span><span class="hljs-params">(PLATFORM_ID) platformId: </span><span class="hljs-built_in">any</span>) {
    <span class="hljs-variable">this</span>.<span class="hljs-property">isBrowser</span> = <span class="hljs-title">isPlatformBrowser</span>(platformId);
  }
}  
</code></pre>
    </div>
    <p class="normal">We can now run our GitHub portfolio application on the server using the following <code class="inlineCode">npm</code> command:</p>
    <pre class="programlisting con"><code class="hljs-con">npm run dev:ssr
</code></pre>
    <p class="normal">To preview your GitHub portfolio application on the server, open your browser at <code class="inlineCode">http://localhost:4200</code>.</p>
    <p class="normal">You should typically see the<a id="_idIndexMarker408"/> application as it was before. So, what have we gained here? Angular Universal applications do not reveal their full potential when running on a development machine with a powerful processor and a lot of memory. Instead, we need to run and preview them in real-world cases like a slow network. We can use Google Chrome developer tools to emulate a slow network in a development environment:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Open the Google Chrome browser.</li>
      <li class="numberedList">Toggle the developer tools and select the <strong class="screenText">Network</strong> tab.</li>
      <li class="numberedList">Select the <strong class="screenText">Slow 3G</strong> option from the <strong class="screenText">Throttling</strong> dropdown.</li>
      <li class="numberedList">Enter <code class="inlineCode">http://localhost:4200</code> in the address bar of your browser.</li>
    </ol>
    <p class="normal">The server first loads a static <a id="_idIndexMarker409"/>version of your application to display to the user until the actual Angular application loads in the background. When fully loaded in the background, Angular Universal will switch to the complete application.</p>
    <p class="normal">In the following section, we will investigate how to improve the loading speed of our application even more, using prerendering.</p>
    <h1 id="_idParaDest-129" class="heading-1">Prerendering content during build</h1>
    <p class="normal">The <code class="inlineCode">package.json</code> file<a id="_idIndexMarker410"/> of our Angular CLI workspace contains the <code class="inlineCode">prerender</code> npm script, which we can use to improve the first loading of our application. The script runs <a id="_idIndexMarker411"/>the <code class="inlineCode">prerender</code> command from the <code class="inlineCode">architect</code> section of the <code class="inlineCode">angular.json</code> configuration file and prerenders the content of our application during build time. Let’s see the effect that prerendering will have on our GitHub portfolio application:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Execute the following <code class="inlineCode">npm</code> command to generate a prerendered version of the application:
        <pre class="programlisting con"><code class="hljs-con">npm run prerender
</code></pre>
    <p class="normal">The preceding command will output a production bundle of the application into the <code class="inlineCode">dist\gh-portfolio\browser</code> folder.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="2">Navigate to the <code class="inlineCode">dist\gh-portfolio\browser</code> folder and you should see two HTML files, the <code class="inlineCode">index.html</code> and <code class="inlineCode">index.original.html</code> files.</li>
      <li class="numberedList">Open the <code class="inlineCode">index.original.html</code> file and locate the <code class="inlineCode">&lt;app-root&gt;</code> HTML element. This is the main component of our Angular application, where Angular will render the content of our application in the browser.</li>
      <li class="numberedList">Open the <code class="inlineCode">index.html</code> file now and look again at the <code class="inlineCode">&lt;app-root&gt;</code> element.
    <p class="normal">The main component is not empty this time. Angular Universal has made all HTTP requests to the GitHub API and prefetched the content of our application during runtime. All component templates and styles have been prerendered in the main HTML file, meaning we can view our application on a browser even without JavaScript enabled!</p></li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="5">Execute the following command to start the prerendered version of our GitHub portfolio application:
        <pre class="programlisting con"><code class="hljs-con">npm run serve:ssr
</code></pre>
    <p class="normal">The preceding command will start a Node.js Express server that hosts our application at <code class="inlineCode">http://localhost:4000</code>.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="6">Disable JavaScript from the settings of your browser and navigate to <code class="inlineCode">http://localhost:4000</code>.</li>
    </ol>
    <p class="normal">Our GitHub <a id="_idIndexMarker412"/>portfolio application remains fully operational without having JavaScript enabled. The main page of the application is also rendered instantly without having the user wait for the application to load.</p>
    <p class="normal">The previous scenario is a perfect fit for users who cannot afford to enable JavaScript on their devices. But what happens when a user with JavaScript enabled uses the same prerendered version of the application? Let’s learn more about that:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Enable JavaScript in your browser and toggle the developer tools.</li>
      <li class="numberedList">Navigate to <code class="inlineCode">http://localhost:4000</code>. Nothing different seems to happen at first sight. Nevertheless, the application loads instantly due to the prerendered content.</li>
      <li class="numberedList">Inspect the <strong class="screenText">Network</strong> tab, and you will notice the following:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18465_07_06.jpg" alt="Figure 7.6 – Network tab (Google Chrome)"/></figure>
    <p class="packt_figref">Figure 7.6 – Network tab (Google Chrome)</p>
    <p class="normal">Our application initiates all HTTP requests to the GitHub API as if it were rendered from a browser. It duplicates all HTTP requests the application needs, even if data has already been prerendered on the HTML page. Why is that?</p>
    <p class="normal">The application makes one HTTP request for the browser-rendered version and another for the SSR application because both versions have a different state. We can prevent the previous behavior by sharing the state between the server and the browser. More specifically, we can transfer the state of the server to the browser using a special-purpose Angular module of the Angular Universal library called <code class="inlineCode">TransferHttpCacheModule</code>.</p>
    <p class="normal">If we use <code class="inlineCode">TransferHttpCacheModule</code>, the server will cache responses from the GitHub API, and the browser <a id="_idIndexMarker413"/>will use the cache instead of initiating a new request. <code class="inlineCode">TransferHttpCacheModule</code> solves the problem by installing an <strong class="keyWord">HTTP interceptor</strong> in the Angular application that ignores HTTP requests that have been handled by the server initially.</p>
    <div class="note">
      <p class="normal">An HTTP interceptor is an<a id="_idIndexMarker414"/> Angular service that intercepts HTTP requests and responses originating from the built-in HTTP client of the Angular framework.</p>
    </div>
    <p class="normal">To install <code class="inlineCode">TransferHttpCacheModule</code> in our GitHub portfolio application, follow these steps:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Open the main module file of the Angular application, <code class="inlineCode">app.module.ts</code>, and import <code class="inlineCode">TransferHttpCacheModule</code> from the <code class="inlineCode">@nguniversal/common</code> npm package:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">TransferHttpCacheModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nguniversal/common'</span>;
</code></pre>
      </li>
      <li class="numberedList">Add the <code class="inlineCode">TransferHttpCacheModule</code> class to the <code class="inlineCode">imports</code> array of the <code class="inlineCode">@NgModule</code> decorator:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">@NgModule</span>({
  <span class="hljs-attr">declarations</span>: [
    <span class="hljs-title">AppComponent</span>,
    <span class="hljs-title">PersonalInfoComponent</span>,
    <span class="hljs-title">PanelComponent</span>,
    <span class="hljs-title">RepositoriesComponent</span>,
    <span class="hljs-title">OrganizationsComponent</span>
  ],
  <span class="hljs-attr">imports</span>: [
    <span class="hljs-title">BrowserModule</span>,
    <span class="hljs-title">HttpClientModule</span>,
    <span class="code-highlight"><strong class="hljs-title-slc">TransferHttpCacheModule</strong></span>
  ],
  <span class="hljs-attr">providers</span>: [],
  <span class="hljs-attr">bootstrap</span>: [<span class="hljs-title">AppComponent</span>]
})
</code></pre>
      </li>
      <li class="numberedList">Execute the following command to prerender your application:
        <pre class="programlisting con"><code class="hljs-con">npm run prerender
</code></pre>
      </li>
      <li class="numberedList">Run the following command to start your prerendered application:
        <pre class="programlisting con"><code class="hljs-con">npm run serve:ssr
</code></pre>
      </li>
    </ol>
    <p class="normal">If you preview the portfolio application and inspect the <strong class="screenText">Network</strong> tab of your browser, you will notice that it does not make additional HTTP requests. <code class="inlineCode">TransferHttpCacheModule</code> intercepted all HTTP requests and stored them in the <strong class="keyWord">TransferState</strong> store of our<a id="_idIndexMarker415"/> application. TransferState is a <a id="_idIndexMarker416"/>key-value store that can be transferred from the server to the browser. The browser version of the application can later read the HTTP responses directly from the store without making an extra call.</p>
    <p class="normal">We now have a fully prerendered version of our GitHub portfolio. But how can we optimize it further to share it on a social media platform? We will learn more about SEO optimization techniques in the following section.</p>
    <h1 id="_idParaDest-130" class="heading-1">Enhancing SEO capabilities</h1>
    <p class="normal">SEO optimizes a website to be<a id="_idIndexMarker417"/> correctly indexed by a <strong class="keyWord">web crawler</strong>. A web crawler is special-purpose software on most search engines and can identify and index websites so that they are easily discoverable and linkable through their platforms.</p>
    <p class="normal">Angular Universal does a great job of SEO by prerendering content during build time. Some web crawlers cannot execute JavaScript and build the dynamic content of an Angular application. Prerendering with Angular Universal eliminates the need for JavaScript, thus allowing web crawlers to do their best to identify the web application.</p>
    <p class="normal">We can also help SEO by defining several tags in the <code class="inlineCode">&lt;head&gt;</code> element of the main <code class="inlineCode">index.html</code> file of an Angular application, such as <code class="inlineCode">title</code>, <code class="inlineCode">viewport</code>, and <code class="inlineCode">charset</code>:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>
  <span class="code-highlight"><strong class="hljs-tag-slc">&lt;</strong><strong class="hljs-name-slc">meta</strong><strong class="hljs-tag-slc"> </strong><strong class="hljs-attr-slc">charset</strong><strong class="hljs-tag-slc">=</strong><strong class="hljs-string-slc">"utf-8"</strong><strong class="hljs-tag-slc">&gt;</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  </strong><strong class="hljs-tag-slc">&lt;</strong><strong class="hljs-name-slc">title</strong><strong class="hljs-tag-slc">&gt;</strong><strong class="hljs-slc">GhPortfolio</strong><strong class="hljs-tag-slc">&lt;/</strong><strong class="hljs-name-slc">title</strong><strong class="hljs-tag-slc">&gt;</strong></span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">base</span><span class="hljs-tag"> </span><span class="hljs-attr">href</span><span class="hljs-tag">=</span><span class="hljs-string">"/"</span><span class="hljs-tag">&gt;</span>
  <span class="code-highlight"><strong class="hljs-tag-slc">&lt;</strong><strong class="hljs-name-slc">meta</strong><strong class="hljs-tag-slc"> </strong><strong class="hljs-attr-slc">name</strong><strong class="hljs-tag-slc">=</strong><strong class="hljs-string-slc">"viewport"</strong><strong class="hljs-tag-slc"> </strong><strong class="hljs-attr-slc">content</strong><strong class="hljs-tag-slc">=</strong><strong class="hljs-string-slc">"width=device-width, initial-scale=1"</strong><strong class="hljs-tag-slc">&gt;</strong></span>
  <span class="hljs-tag">&lt;</span><span class="hljs-name">link</span><span class="hljs-tag"> </span><span class="hljs-attr">rel</span><span class="hljs-tag">=</span><span class="hljs-string">"icon"</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"image/x-icon"</span><span class="hljs-tag"> </span><span class="hljs-attr">href</span><span class="hljs-tag">=</span><span class="hljs-string">"favicon.ico"</span><span class="hljs-tag">&gt;</span>
<span class="hljs-tag">&lt;/</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>
</code></pre>
    <p class="normal">You can find a list of available tags at <a href="https://developer.mozilla.org/docs/Web/HTML/Element/meta/name"><span class="url">https://developer.mozilla.org/docs/Web/HTML/Element/meta/name</span></a>.</p>
    <p class="normal">However, setting a tag in the <code class="inlineCode">index.html</code> file is inadequate, especially when an Angular application has routing enabled and contains several routes. The Angular framework provides a couple of <a id="_idIndexMarker418"/>handy services that we can use to set tags programmatically. First, let’s see how to set the title tag in our application:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Open the <code class="inlineCode">app.component.ts</code> file and add the following <code class="inlineCode">import</code> statement:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="hljs-title">Title</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/platform-browser'</span>;
</code></pre>
      </li>
      <li class="numberedList">Inject the <code class="inlineCode">Title</code> service into the <code class="inlineCode">constructor</code> of the <code class="inlineCode">AppComponent</code> class:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-title">constructor</span>(<span class="hljs-keyword">private</span><span class="hljs-params"> githubService: GithubService, </span><span class="code-highlight"><strong class="hljs-keyword-slc">private</strong><strong class="hljs-params-slc"> titleService: Title</strong></span>) {}
</code></pre>
      </li>
      <li class="numberedList">Call the <code class="inlineCode">setTitle</code> method of <a id="_idIndexMarker419"/>the <code class="inlineCode">titleService</code> variable in the <code class="inlineCode">ngOnInit</code> method:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-title">ngOnInit</span>(): <span class="hljs-built_in">void</span> {
  <span class="hljs-variable">this</span>.<span class="hljs-property">username</span> = <span class="hljs-variable">this</span>.<span class="hljs-property">githubService</span>.<span class="hljs-property">username</span>;
  <span class="code-highlight"><strong class="hljs-variable-slc">this</strong><strong class="hljs-slc">.</strong><strong class="hljs-property-slc">titleService</strong><strong class="hljs-slc">.</strong><strong class="hljs-title-slc">setTitle</strong><strong class="hljs-slc">(</strong><strong class="hljs-string-slc">'GitHub portfolio app'</strong><strong class="hljs-slc">);</strong></span>
}
</code></pre>
      </li>
      <li class="numberedList">Run <code class="inlineCode">npm run dev:ssr</code> to preview the application, and you should see the title in the browser tab:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18465_07_07.png" alt="Figure 7.7 – Browser tab title"/></figure>
    <p class="packt_figref">Figure 7.7 – Browser tab title</p>
    <p class="normal">Similar to the <code class="inlineCode">Title</code> service, we can use the <code class="inlineCode">Meta</code> service to set meta tags for our application:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Open the <code class="inlineCode">app.component.ts</code> file and import <code class="inlineCode">Meta</code> from the <code class="inlineCode">@angular/platform-browser</code> npm package:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { <span class="code-highlight"><strong class="hljs-title-slc">Meta</strong></span>, <span class="hljs-title">Title</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/platform-browser'</span>;
</code></pre>
      </li>
      <li class="numberedList">Inject <a id="_idIndexMarker420"/>the <code class="inlineCode">Meta</code> service into the <code class="inlineCode">constructor</code> of the <code class="inlineCode">AppComponent</code> class:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-title">constructor</span>(<span class="hljs-keyword">private</span><span class="hljs-params"> githubService: GithubService, </span><span class="hljs-keyword">private</span><span class="hljs-params"> titleService: Title, </span><span class="code-highlight"><strong class="hljs-keyword-slc">private</strong><strong class="hljs-params-slc"> meta: Meta</strong></span>) {}
</code></pre>
      </li>
      <li class="numberedList">Use the <code class="inlineCode">addTags</code> method of the <code class="inlineCode">meta</code> variable to add some meta tags to the <code class="inlineCode">ngOnInit</code> method:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-title">ngOnInit</span>(): <span class="hljs-built_in">void</span> {
  <span class="hljs-variable">this</span>.<span class="hljs-property">username</span> = <span class="hljs-variable">this</span>.<span class="hljs-property">githubService</span>.<span class="hljs-property">username</span>;
  <span class="hljs-variable">this</span>.<span class="hljs-property">titleService</span>.<span class="hljs-title">setTitle</span>(<span class="hljs-string">'GitHub portfolio app'</span>);
  <span class="code-highlight"><strong class="hljs-variable-slc">this</strong><strong class="hljs-slc">.</strong><strong class="hljs-property-slc">meta</strong><strong class="hljs-slc">.</strong><strong class="hljs-title-slc">addTags</strong><strong class="hljs-slc">([</strong></span>
<span class="code-highlight"><strong class="hljs-slc">    {</strong></span>
<span class="code-highlight"><strong class="hljs-slc">      </strong><strong class="hljs-attr-slc">name</strong><strong class="hljs-slc">: </strong><strong class="hljs-string-slc">'description'</strong><strong class="hljs-slc">,</strong></span>
<span class="code-highlight"><strong class="hljs-slc">      </strong><strong class="hljs-attr-slc">content</strong><strong class="hljs-slc">: </strong><strong class="hljs-string-slc">`</strong><strong class="hljs-subst-slc">${</strong><strong class="hljs-variable-slc">this</strong><strong class="hljs-subst-slc">.username}</strong><strong class="hljs-string-slc">'s GitHub portfolio`</strong></span>
<span class="code-highlight"><strong class="hljs-slc">    },</strong></span>
<span class="code-highlight"><strong class="hljs-slc">    {</strong></span>
<span class="code-highlight"><strong class="hljs-slc">      </strong><strong class="hljs-attr-slc">name</strong><strong class="hljs-slc">: </strong><strong class="hljs-string-slc">'author'</strong><strong class="hljs-slc">,</strong></span>
<span class="code-highlight"><strong class="hljs-slc">      </strong><strong class="hljs-attr-slc">content</strong><strong class="hljs-slc">: </strong><strong class="hljs-variable-slc">this</strong><strong class="hljs-slc">.</strong><strong class="hljs-property-slc">username</strong></span>
<span class="code-highlight"><strong class="hljs-slc">    }</strong></span>
<span class="code-highlight"><strong class="hljs-slc">  ]);</strong></span>
}
</code></pre>
    <p class="normal">In the <a id="_idIndexMarker421"/>preceding code, we added two meta tags. The first one sets the <code class="inlineCode">description</code> that contains the username of the current GitHub profile. The second one sets the <code class="inlineCode">author</code> tag to be the same as the username of the GitHub profile.</p>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="4">Run <code class="inlineCode">npm run dev:ssr</code> to start the application and navigate to <code class="inlineCode">http://localhost:4200</code>.</li>
      <li class="numberedList">Use your browser to inspect the page, and you should see the following meta tags in the <strong class="screenText">&lt;head&gt;</strong> element of the page:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18465_07_08.png" alt="Figure 7.8 – Application head element"/></figure>
    <p class="packt_figref">Figure 7.8 – Application head element</p>
    <p class="normal">Each popular<a id="_idIndexMarker422"/> social platform, such as Twitter, Facebook, and LinkedIn, requires its own meta tags so that the URL of an SSR application can be correctly displayed on their platforms.</p>
    <h1 id="_idParaDest-131" class="heading-1">Summary</h1>
    <p class="normal">In this project, we built a portfolio application for our GitHub profile. Initially, we learned how to interact with the GitHub API in a new Angular application. We also used Bootstrap CSS and Bootstrap Icons to provide a beautiful user interface for our portfolio application.</p>
    <p class="normal">We then saw how to convert our Angular application into an SSR application using Angular Universal. We learned how to benefit from prerendering content when users have low-end and slow-performing devices and some of the potential pitfalls of this technique.</p>
    <p class="normal">We used some of the available SEO techniques that the Angular framework offers to improve the discoverability of our application.</p>
    <p class="normal">In the next chapter, we will learn about the monorepo architecture and how we can manage the state of an Angular application.</p>
    <h1 id="_idParaDest-132" class="heading-1">Practice questions</h1>
    <p class="normal">Let’s take a look at a few practice questions:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">How do we subscribe to an observable in the template of a component?</li>
      <li class="numberedList">What command do we use to install Angular Universal?</li>
      <li class="numberedList">How can we differentiate programmatically between browser and server platforms?</li>
      <li class="numberedList">What command generates a prerendered version of an SSR application?</li>
      <li class="numberedList">What Angular module do we use to transfer the state from the server to the browser?</li>
      <li class="numberedList">What Angular service do we use to set the title of an Angular application?</li>
      <li class="numberedList">What Angular service do we use to set meta tags in an Angular application?</li>
    </ol>
    <h1 id="_idParaDest-133" class="heading-1">Further reading</h1>
    <p class="normal">Here are some links to build upon what we learned in the chapter:</p>
    <ul>
      <li class="bulletList">Angular Univeral guide: <a href="https://angular.io/guide/universal"><span class="url">https://angular.io/guide/universal</span></a></li>
      <li class="bulletList">GitHub REST API: <a href="https://docs.github.com/rest"><span class="url">https://docs.github.com/rest</span></a></li>
      <li class="bulletList">Bootstrap CSS: <a href="https://getbootstrap.com"><span class="url">https://getbootstrap.com</span></a></li>
      <li class="bulletList">Bootstrap Icons: <a href="https://icons.getbootstrap.com"><span class="url">https://icons.getbootstrap.com</span></a></li>
      <li class="bulletList">Angular HTTP guide: <a href="https://angular.io/guide/http"><span class="url">https://angular.io/guide/http</span></a></li>
      <li class="bulletList"><code class="inlineCode">TransferHttpCacheModule</code>: <a href="https://github.com/angular/universal/blob/master/docs/transfer-http.md"><span class="url">https://github.com/angular/universal/blob/master/docs/transfer-http.md</span></a></li>
    </ul>
  </div>
</body></html>